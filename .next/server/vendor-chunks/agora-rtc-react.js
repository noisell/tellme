"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/agora-rtc-react";
exports.ids = ["vendor-chunks/agora-rtc-react"];
exports.modules = {

/***/ "(ssr)/./node_modules/agora-rtc-react/dist/agora-rtc-react.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/agora-rtc-react/dist/agora-rtc-react.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AgoraRTCProvider: () => (/* binding */ K5),\n/* harmony export */   AgoraRTCReactError: () => (/* binding */ Oe),\n/* harmony export */   AgoraRTCScreenShareProvider: () => (/* binding */ J5),\n/* harmony export */   LocalAudioTrack: () => (/* binding */ TN),\n/* harmony export */   LocalUser: () => (/* binding */ h6),\n/* harmony export */   LocalVideoTrack: () => (/* binding */ RN),\n/* harmony export */   RemoteAudioTrack: () => (/* binding */ IN),\n/* harmony export */   RemoteUser: () => (/* binding */ O6),\n/* harmony export */   RemoteVideoTrack: () => (/* binding */ vN),\n/* harmony export */   TrackBoundary: () => (/* binding */ WK),\n/* harmony export */   VERSION: () => (/* binding */ k6),\n/* harmony export */   \"default\": () => (/* binding */ U6),\n/* harmony export */   useAutoPlayAudioTrack: () => (/* binding */ oh),\n/* harmony export */   useAutoPlayVideoTrack: () => (/* binding */ rh),\n/* harmony export */   useClientEvent: () => (/* binding */ j5),\n/* harmony export */   useConnectionState: () => (/* binding */ i4),\n/* harmony export */   useCurrentUID: () => (/* binding */ _4),\n/* harmony export */   useIsConnected: () => (/* binding */ In),\n/* harmony export */   useJoin: () => (/* binding */ I4),\n/* harmony export */   useLocalCameraTrack: () => (/* binding */ tK),\n/* harmony export */   useLocalMicrophoneTrack: () => (/* binding */ q4),\n/* harmony export */   useLocalScreenTrack: () => (/* binding */ VK),\n/* harmony export */   useNetworkQuality: () => (/* binding */ w4),\n/* harmony export */   usePublish: () => (/* binding */ U4),\n/* harmony export */   useRTCClient: () => (/* binding */ Ze),\n/* harmony export */   useRTCScreenShareClient: () => (/* binding */ X5),\n/* harmony export */   useRemoteAudioTracks: () => (/* binding */ dK),\n/* harmony export */   useRemoteUserTrack: () => (/* binding */ Wf),\n/* harmony export */   useRemoteUsers: () => (/* binding */ DK),\n/* harmony export */   useRemoteVideoTracks: () => (/* binding */ gK),\n/* harmony export */   useTrackEvent: () => (/* binding */ G5),\n/* harmony export */   useVolumeLevel: () => (/* binding */ B4)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n\n/**\n * @license agora-rtc-react\n * @version 2.3.0\n *\n * Copyright (c) Agora, Inc.\n *\n * This source code is licensed under the MIT license.\n */\n\nfunction yN(t,e){return e.forEach(function(n){n&&typeof n!=\"string\"&&!Array.isArray(n)&&Object.keys(n).forEach(function(i){if(i!==\"default\"&&!(i in t)){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}});}});}),Object.freeze(t)}var Vs=typeof globalThis<\"u\"?globalThis:typeof window<\"u\"?window:typeof global<\"u\"?global:typeof self<\"u\"?self:{};function ae(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,\"default\")?t.default:t}var Se=function(t){try{return !!t()}catch{return !0}},vu=!Se(function(){var t=function(){}.bind();return typeof t!=\"function\"||t.hasOwnProperty(\"prototype\")}),IA=vu,vA=Function.prototype,G_=vA.call,AN=IA&&vA.bind.bind(G_,G_),me=IA?AN:function(t){return function(){return G_.apply(t,arguments)}},hn=me({}.isPrototypeOf),cd=function(t){return t&&t.Math==Math&&t},We=cd(typeof globalThis==\"object\"&&globalThis)||cd(typeof window==\"object\"&&window)||cd(typeof self==\"object\"&&self)||cd(typeof Vs==\"object\"&&Vs)||function(){return this}()||Vs||Function(\"return this\")(),bN=vu,yA=Function.prototype,Xf=yA.apply,Qf=yA.call,vm=typeof Reflect==\"object\"&&Reflect.apply||(bN?Qf.bind(Xf):function(){return Qf.apply(Xf,arguments)}),AA=me,wN=AA({}.toString),ON=AA(\"\".slice),pr=function(t){return ON(wN(t),8,-1)},NN=pr,DN=me,gc=function(t){if(NN(t)===\"Function\")return DN(t)},uh=typeof document==\"object\"&&document.all,yu={all:uh,IS_HTMLDDA:uh===void 0&&uh!==void 0},PN=yu.all,He=yu.IS_HTMLDDA?function(t){return typeof t==\"function\"||t===PN}:function(t){return typeof t==\"function\"},Yc={},ri=!Se(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),kN=vu,dd=Function.prototype.call,Ke=kN?dd.bind(dd):function(){return dd.apply(dd,arguments)},Au={},bA={}.propertyIsEnumerable,wA=Object.getOwnPropertyDescriptor,LN=wA&&!bA.call({1:2},1);Au.f=LN?function(t){var e=wA(this,t);return !!e&&e.enumerable}:bA;var xr,rl,_o=function(t,e){return {enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},MN=Se,UN=pr,hh=Object,xN=me(\"\".split),bu=MN(function(){return !hh(\"z\").propertyIsEnumerable(0)})?function(t){return UN(t)==\"String\"?xN(t,\"\"):hh(t)}:hh,da=function(t){return t==null},VN=da,FN=TypeError,la=function(t){if(VN(t))throw FN(\"Can't call method on \"+t);return t},BN=bu,jN=la,Eo=function(t){return BN(jN(t))},Zf=He,GN=yu.all,Hn=yu.IS_HTMLDDA?function(t){return typeof t==\"object\"?t!==null:Zf(t)||t===GN}:function(t){return typeof t==\"object\"?t!==null:Zf(t)},Gi={},ph=Gi,_h=We,WN=He,$f=function(t){return WN(t)?t:void 0},Dn=function(t,e){return arguments.length<2?$f(ph[t])||$f(_h[t]):ph[t]&&ph[t][e]||_h[t]&&_h[t][e]},$o=typeof navigator<\"u\"&&String(navigator.userAgent)||\"\",OA=We,Eh=$o,tg=OA.process,eg=OA.Deno,ng=tg&&tg.versions||eg&&eg.version,ig=ng&&ng.v8;ig&&(rl=(xr=ig.split(\".\"))[0]>0&&xr[0]<4?1:+(xr[0]+xr[1])),!rl&&Eh&&(!(xr=Eh.match(/Edge\\/(\\d+)/))||xr[1]>=74)&&(xr=Eh.match(/Chrome\\/(\\d+)/))&&(rl=+xr[1]);var zo=rl,rg=zo,HN=Se,KN=We.String,ua=!!Object.getOwnPropertySymbols&&!HN(function(){var t=Symbol();return !KN(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&rg&&rg<41}),NA=ua&&!Symbol.sham&&typeof Symbol.iterator==\"symbol\",YN=Dn,qN=He,zN=hn,JN=Object,qc=NA?function(t){return typeof t==\"symbol\"}:function(t){var e=YN(\"Symbol\");return qN(e)&&zN(e.prototype,JN(t))},XN=String,ha=function(t){try{return XN(t)}catch{return \"Object\"}},QN=He,ZN=ha,$N=TypeError,yi=function(t){if(QN(t))return t;throw $N(ZN(t)+\" is not a function\")},tD=yi,eD=da,wu=function(t,e){var n=t[e];return eD(n)?void 0:tD(n)},mh=Ke,fh=He,gh=Hn,nD=TypeError,DA={exports:{}},og=We,iD=Object.defineProperty,rD=function(t,e){try{iD(og,t,{value:e,configurable:!0,writable:!0});}catch{og[t]=e;}return e},sg=\"__core-js_shared__\",ym=We[sg]||rD(sg,{}),ag=ym;(DA.exports=function(t,e){return ag[t]||(ag[t]=e!==void 0?e:{})})(\"versions\",[]).push({version:\"3.31.1\",mode:\"pure\",copyright:\"\\xA9 2014-2023 Denis Pushkarev (zloirock.ru)\",license:\"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE\",source:\"https://github.com/zloirock/core-js\"});var pa=DA.exports,oD=la,sD=Object,_r=function(t){return sD(oD(t))},aD=_r,cD=me({}.hasOwnProperty),Je=Object.hasOwn||function(t,e){return cD(aD(t),e)},dD=me,lD=0,uD=Math.random(),hD=dD(1 .toString),Am=function(t){return \"Symbol(\"+(t===void 0?\"\":t)+\")_\"+hD(++lD+uD,36)},pD=pa,cg=Je,_D=Am,ED=ua,mD=NA,ws=We.Symbol,Th=pD(\"wks\"),fD=mD?ws.for||ws:ws&&ws.withoutSetter||_D,pe=function(t){return cg(Th,t)||(Th[t]=ED&&cg(ws,t)?ws[t]:fD(\"Symbol.\"+t)),Th[t]},gD=Ke,dg=Hn,lg=qc,TD=wu,SD=function(t,e){var n,i;if(fh(n=t.toString)&&!gh(i=mh(n,t))||fh(n=t.valueOf)&&!gh(i=mh(n,t))||e!==\"string\")return i;throw nD(\"Can't convert object to primitive value\")},RD=TypeError,CD=pe(\"toPrimitive\"),ID=function(t,e){if(!dg(t)||lg(t))return t;var n,i=TD(t,CD);if(i){if(n=gD(i,t,e),!dg(n)||lg(n))return n;throw RD(\"Can't convert object to primitive value\")}return SD(t,e)},vD=qc,Ou=function(t){var e=ID(t,\"string\");return vD(e)?e:e+\"\"},ug=Hn,W_=We.document,yD=ug(W_)&&ug(W_.createElement),bm=function(t){return yD?W_.createElement(t):{}},AD=bm,PA=!ri&&!Se(function(){return Object.defineProperty(AD(\"div\"),\"a\",{get:function(){return 7}}).a!=7}),bD=ri,wD=Ke,OD=Au,ND=_o,DD=Eo,PD=Ou,kD=Je,LD=PA,hg=Object.getOwnPropertyDescriptor;Yc.f=bD?hg:function(t,e){if(t=DD(t),e=PD(e),LD)try{return hg(t,e)}catch{}if(kD(t,e))return ND(!wD(OD.f,t,e),t[e])};var MD=Se,UD=He,xD=/#|\\.prototype\\./,zc=function(t,e){var n=FD[VD(t)];return n==jD||n!=BD&&(UD(e)?MD(e):!!e)},VD=zc.normalize=function(t){return String(t).replace(xD,\".\").toLowerCase()},FD=zc.data={},BD=zc.NATIVE=\"N\",jD=zc.POLYFILL=\"P\",kA=zc,GD=yi,WD=vu,HD=gc(gc.bind),mo=function(t,e){return GD(t),e===void 0?t:WD?HD(t,e):function(){return t.apply(e,arguments)}},Ai={},LA=ri&&Se(function(){return Object.defineProperty(function(){},\"prototype\",{value:42,writable:!1}).prototype!=42}),KD=Hn,YD=String,qD=TypeError,Cn=function(t){if(KD(t))return t;throw qD(YD(t)+\" is not an object\")},zD=ri,JD=PA,XD=LA,ld=Cn,pg=Ou,QD=TypeError,Sh=Object.defineProperty,ZD=Object.getOwnPropertyDescriptor,Rh=\"enumerable\",Ch=\"configurable\",Ih=\"writable\";Ai.f=zD?XD?function(t,e,n){if(ld(t),e=pg(e),ld(n),typeof t==\"function\"&&e===\"prototype\"&&\"value\"in n&&Ih in n&&!n[Ih]){var i=ZD(t,e);i&&i[Ih]&&(t[e]=n.value,n={configurable:Ch in n?n[Ch]:i[Ch],enumerable:Rh in n?n[Rh]:i[Rh],writable:!1});}return Sh(t,e,n)}:Sh:function(t,e,n){if(ld(t),e=pg(e),ld(n),JD)try{return Sh(t,e,n)}catch{}if(\"get\"in n||\"set\"in n)throw QD(\"Accessors not supported\");return \"value\"in n&&(t[e]=n.value),t};var $D=Ai,tP=_o,fo=ri?function(t,e,n){return $D.f(t,e,tP(1,n))}:function(t,e,n){return t[e]=n,t},ud=We,eP=vm,nP=gc,iP=He,rP=Yc.f,oP=kA,os=Gi,sP=mo,ss=fo,_g=Je,aP=function(t){var e=function(n,i,r){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,i)}return new t(n,i,r)}return eP(t,this,arguments)};return e.prototype=t.prototype,e},xt=function(t,e){var n,i,r,o,s,a,c,d,l,u=t.target,h=t.global,p=t.stat,g=t.proto,E=h?ud:p?ud[u]:(ud[u]||{}).prototype,f=h?os:os[u]||ss(os,u,{})[u],S=f.prototype;for(o in e)i=!(n=oP(h?o:u+(p?\".\":\"#\")+o,t.forced))&&E&&_g(E,o),a=f[o],i&&(c=t.dontCallGetSet?(l=rP(E,o))&&l.value:E[o]),s=i&&c?c:e[o],i&&typeof a==typeof s||(d=t.bind&&i?sP(s,ud):t.wrap&&i?aP(s):g&&iP(s)?nP(s):s,(t.sham||s&&s.sham||a&&a.sham)&&ss(d,\"sham\",!0),ss(f,o,d),g&&(_g(os,r=u+\"Prototype\")||ss(os,r,{}),ss(os[r],o,s),t.real&&S&&(n||!S[o])&&ss(S,o,s)));},cP=Math.ceil,dP=Math.floor,lP=Math.trunc||function(t){var e=+t;return (e>0?dP:cP)(e)},uP=lP,wm=function(t){var e=+t;return e!=e||e===0?0:uP(e)},hP=wm,pP=Math.max,_P=Math.min,Om=function(t,e){var n=hP(t);return n<0?pP(n+e,0):_P(n,e)},EP=wm,mP=Math.min,MA=function(t){return t>0?mP(EP(t),9007199254740991):0},fP=MA,Lr=function(t){return fP(t.length)},gP=Eo,TP=Om,SP=Lr,Eg=function(t){return function(e,n,i){var r,o=gP(e),s=SP(o),a=TP(i,s);if(t&&n!=n){for(;s>a;)if((r=o[a++])!=r)return !0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return !t&&-1}},Nm={includes:Eg(!0),indexOf:Eg(!1)},RP=Nm.includes;xt({target:\"Array\",proto:!0,forced:Se(function(){return !Array(1).includes()})},{includes:function(t){return RP(this,t,arguments.length>1?arguments[1]:void 0)}});var CP=Gi,bi=function(t){return CP[t+\"Prototype\"]},IP=bi(\"Array\").includes,vP=Hn,yP=pr,AP=pe(\"match\"),UA=function(t){var e;return vP(t)&&((e=t[AP])!==void 0?!!e:yP(t)==\"RegExp\")},bP=UA,wP=TypeError,xA={};xA[pe(\"toStringTag\")]=\"z\";var Dm=String(xA)===\"[object z]\",OP=Dm,NP=He,ol=pr,DP=pe(\"toStringTag\"),PP=Object,kP=ol(function(){return arguments}())==\"Arguments\",Er=OP?ol:function(t){var e,n,i;return t===void 0?\"Undefined\":t===null?\"Null\":typeof(n=function(r,o){try{return r[o]}catch{}}(e=PP(t),DP))==\"string\"?n:kP?ol(e):(i=ol(e))==\"Object\"&&NP(e.callee)?\"Arguments\":i},LP=Er,MP=String,oi=function(t){if(LP(t)===\"Symbol\")throw TypeError(\"Cannot convert a Symbol value to a string\");return MP(t)},UP=pe(\"match\"),xP=xt,VP=function(t){if(bP(t))throw wP(\"The method doesn't accept regular expressions\");return t},FP=la,mg=oi,BP=function(t){var e=/./;try{\"/./\"[t](e);}catch{try{return e[UP]=!1,\"/./\"[t](e)}catch{}}return !1},jP=me(\"\".indexOf);xP({target:\"String\",proto:!0,forced:!BP(\"includes\")},{includes:function(t){return !!~jP(mg(FP(this)),mg(VP(t)),arguments.length>1?arguments[1]:void 0)}});var GP=bi(\"String\").includes,fg=hn,WP=IP,HP=GP,vh=Array.prototype,yh=String.prototype,KP=function(t){var e=t.includes;return t===vh||fg(vh,t)&&e===vh.includes?WP:typeof t==\"string\"||t===yh||fg(yh,t)&&e===yh.includes?HP:e},W=ae(KP),YP=yi,qP=_r,zP=bu,JP=Lr,XP=TypeError,gg=function(t){return function(e,n,i,r){YP(n);var o=qP(e),s=zP(o),a=JP(o),c=t?a-1:0,d=t?-1:1;if(i<2)for(;;){if(c in s){r=s[c],c+=d;break}if(c+=d,t?c<0:a<=c)throw XP(\"Reduce of empty array with no initial value\")}for(;t?c>=0:a>c;c+=d)c in s&&(r=n(r,s[c],c,o));return r}},QP={left:gg(!1),right:gg(!0)},ZP=Se,Nu=function(t,e){var n=[][t];return !!n&&ZP(function(){n.call(null,e||function(){return 1},1);})},Jc=typeof process<\"u\"&&pr(process)==\"process\",$P=QP.left;xt({target:\"Array\",proto:!0,forced:!Jc&&zo>79&&zo<83||!Nu(\"reduce\")},{reduce:function(t){var e=arguments.length;return $P(this,t,e,e>1?arguments[1]:void 0)}});var tk=bi(\"Array\").reduce,ek=hn,nk=tk,Ah=Array.prototype,ik=function(t){var e=t.reduce;return t===Ah||ek(Ah,t)&&e===Ah.reduce?nk:e},VA=ik,ji=ae(VA),FA=!0,BA=!0;function hd(t,e,n){let i=t.match(e);return i&&i.length>=n&&parseInt(i[n],10)}function ts(t,e,n){if(!t.RTCPeerConnection)return;let i=t.RTCPeerConnection.prototype,r=i.addEventListener;i.addEventListener=function(s,a){if(s!==e)return r.apply(this,arguments);let c=d=>{let l=n(d);l&&(a.handleEvent?a.handleEvent(l):a(l));};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,c),r.apply(this,[s,c])};let o=i.removeEventListener;i.removeEventListener=function(s,a){if(s!==e||!this._eventMap||!this._eventMap[e])return o.apply(this,arguments);if(!this._eventMap[e].has(a))return o.apply(this,arguments);let c=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[s,c])},Object.defineProperty(i,\"on\"+e,{get(){return this[\"_on\"+e]},set(s){this[\"_on\"+e]&&(this.removeEventListener(e,this[\"_on\"+e]),delete this[\"_on\"+e]),s&&this.addEventListener(e,this[\"_on\"+e]=s);},enumerable:!0,configurable:!0});}function rk(t){return typeof t!=\"boolean\"?new Error(\"Argument type: \"+typeof t+\". Please use a boolean.\"):(FA=t,t?\"adapter.js logging disabled\":\"adapter.js logging enabled\")}function ok(t){return typeof t!=\"boolean\"?new Error(\"Argument type: \"+typeof t+\". Please use a boolean.\"):(BA=!t,\"adapter.js deprecation warnings \"+(t?\"disabled\":\"enabled\"))}function jA(){if(typeof window==\"object\"){if(FA)return;typeof console<\"u\"&&typeof console.log==\"function\"&&console.log.apply(console,arguments);}}function Pm(t,e){BA&&console.warn(t+\" is deprecated, please use \"+e+\" instead.\");}function Tg(t){return Object.prototype.toString.call(t)===\"[object Object]\"}function GA(t){var e;return Tg(t)?ji(e=Object.keys(t)).call(e,function(n,i){let r=Tg(t[i]),o=r?GA(t[i]):t[i],s=r&&!Object.keys(o).length;return o===void 0||s?n:Object.assign(n,{[i]:o})},{}):t}function H_(t,e,n){e&&!n.has(e.id)&&(n.set(e.id,e),Object.keys(e).forEach(i=>{i.endsWith(\"Id\")?H_(t,t.get(e[i]),n):i.endsWith(\"Ids\")&&e[i].forEach(r=>{H_(t,t.get(r),n);});}));}function Sg(t,e,n){let i=n?\"outbound-rtp\":\"inbound-rtp\",r=new Map;if(e===null)return r;let o=[];return t.forEach(s=>{s.type===\"track\"&&s.trackIdentifier===e.id&&o.push(s);}),o.forEach(s=>{t.forEach(a=>{a.type===i&&a.trackId===s.id&&H_(t,a,r);});}),r}var sk=Am,Rg=pa(\"keys\"),Du=function(t){return Rg[t]||(Rg[t]=sk(t))},ak=!Se(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),ck=Je,dk=He,lk=_r,uk=ak,Cg=Du(\"IE_PROTO\"),K_=Object,hk=K_.prototype,km=uk?K_.getPrototypeOf:function(t){var e=lk(t);if(ck(e,Cg))return e[Cg];var n=e.constructor;return dk(n)&&e instanceof n?n.prototype:e instanceof K_?hk:null},pk=me,_k=yi,Ek=He,mk=String,fk=TypeError,gk=function(t,e,n){try{return pk(_k(Object.getOwnPropertyDescriptor(t,e)[n]))}catch{}},Tk=Cn,Sk=function(t){if(typeof t==\"object\"||Ek(t))return t;throw fk(\"Can't set \"+mk(t)+\" as a prototype\")},Rk=Object.setPrototypeOf||(\"__proto__\"in{}?function(){var t,e=!1,n={};try{(t=gk(Object.prototype,\"__proto__\",\"set\"))(n,[]),e=n instanceof Array;}catch{}return function(i,r){return Tk(i),Sk(r),e?t(i,r):i.__proto__=r,i}}():void 0),Pu={},ku={},bh=Je,Ck=Eo,Ik=Nm.indexOf,vk=ku,Ig=me([].push),WA=function(t,e){var n,i=Ck(t),r=0,o=[];for(n in i)!bh(vk,n)&&bh(i,n)&&Ig(o,n);for(;e.length>r;)bh(i,n=e[r++])&&(~Ik(o,n)||Ig(o,n));return o},Lm=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],yk=WA,Ak=Lm.concat(\"length\",\"prototype\");Pu.f=Object.getOwnPropertyNames||function(t){return yk(t,Ak)};var Xc={};Xc.f=Object.getOwnPropertySymbols;var bk=Dn,wk=Pu,Ok=Xc,Nk=Cn,Dk=me([].concat),Pk=bk(\"Reflect\",\"ownKeys\")||function(t){var e=wk.f(Nk(t)),n=Ok.f;return n?Dk(e,n(t)):e},vg=Je,kk=Pk,Lk=Yc,Mk=Ai,Mm={},Uk=WA,xk=Lm,Lu=Object.keys||function(t){return Uk(t,xk)},Vk=ri,Fk=LA,Bk=Ai,jk=Cn,Gk=Eo,Wk=Lu;Mm.f=Vk&&!Fk?Object.defineProperties:function(t,e){jk(t);for(var n,i=Gk(e),r=Wk(e),o=r.length,s=0;o>s;)Bk.f(t,n=r[s++],i[n]);return t};var pd,HA=Dn(\"document\",\"documentElement\"),Hk=Cn,Kk=Mm,yg=Lm,Yk=ku,qk=HA,zk=bm,Y_=\"prototype\",q_=\"script\",KA=Du(\"IE_PROTO\"),wh=function(){},YA=function(t){return \"<\"+q_+\">\"+t+\"</\"+q_+\">\"},Ag=function(t){t.write(YA(\"\")),t.close();var e=t.parentWindow.Object;return t=null,e},sl=function(){try{pd=new ActiveXObject(\"htmlfile\");}catch{}var t,e,n;sl=typeof document<\"u\"?document.domain&&pd?Ag(pd):(e=zk(\"iframe\"),n=\"java\"+q_+\":\",e.style.display=\"none\",qk.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(YA(\"document.F=Object\")),t.close(),t.F):Ag(pd);for(var i=yg.length;i--;)delete sl[Y_][yg[i]];return sl()};Yk[KA]=!0;var Qc=Object.create||function(t,e){var n;return t!==null?(wh[Y_]=Hk(t),n=new wh,wh[Y_]=null,n[KA]=t):n=sl(),e===void 0?n:Kk.f(n,e)},Jk=Hn,Xk=fo,qA=Error,Qk=me(\"\".replace),Zk=String(qA(\"zxcasd\").stack),zA=/\\n\\s*at [^:]*:[^\\n]*/,$k=zA.test(Zk),tL=_o,eL=!Se(function(){var t=Error(\"a\");return !(\"stack\"in t)||(Object.defineProperty(t,\"stack\",tL(1,7)),t.stack!==7)}),nL=fo,iL=function(t,e){if($k&&typeof t==\"string\"&&!qA.prepareStackTrace)for(;e--;)t=Qk(t,zA,\"\");return t},rL=eL,bg=Error.captureStackTrace,es={},oL=es,sL=pe(\"iterator\"),aL=Array.prototype,JA=function(t){return t!==void 0&&(oL.Array===t||aL[sL]===t)},cL=Er,wg=wu,dL=da,lL=es,uL=pe(\"iterator\"),Mu=function(t){if(!dL(t))return wg(t,uL)||wg(t,\"@@iterator\")||lL[cL(t)]},hL=Ke,pL=yi,_L=Cn,EL=ha,mL=Mu,fL=TypeError,Um=function(t,e){var n=arguments.length<2?mL(t):e;if(pL(n))return _L(hL(n,t));throw fL(EL(t)+\" is not iterable\")},gL=Ke,Og=Cn,TL=wu,XA=function(t,e,n){var i,r;Og(t);try{if(!(i=TL(t,\"return\"))){if(e===\"throw\")throw n;return n}i=gL(i,t);}catch(o){r=!0,i=o;}if(e===\"throw\")throw n;if(r)throw i;return Og(i),n},SL=mo,RL=Ke,CL=Cn,IL=ha,vL=JA,yL=Lr,Ng=hn,AL=Um,bL=Mu,Dg=XA,wL=TypeError,al=function(t,e){this.stopped=t,this.result=e;},Pg=al.prototype,Zc=function(t,e,n){var i,r,o,s,a,c,d,l=n&&n.that,u=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),g=!(!n||!n.INTERRUPTED),E=SL(e,l),f=function(C){return i&&Dg(i,\"normal\",C),new al(!0,C)},S=function(C){return u?(CL(C),g?E(C[0],C[1],f):E(C[0],C[1])):g?E(C,f):E(C)};if(h)i=t.iterator;else if(p)i=t;else {if(!(r=bL(t)))throw wL(IL(t)+\" is not iterable\");if(vL(r)){for(o=0,s=yL(t);s>o;o++)if((a=S(t[o]))&&Ng(Pg,a))return a;return new al(!1)}i=AL(t,r);}for(c=h?t.next:i.next;!(d=RL(c,i)).done;){try{a=S(d.value);}catch(C){Dg(i,\"throw\",C);}if(typeof a==\"object\"&&a&&Ng(Pg,a))return a}return new al(!1)},OL=oi,NL=xt,DL=hn,PL=km,Nl=Rk,kL=function(t,e,n){for(var i=kk(e),r=Mk.f,o=Lk.f,s=0;s<i.length;s++){var a=i[s];vg(t,a)||n&&vg(n,a)||r(t,a,o(e,a));}},QA=Qc,Oh=fo,Nh=_o,LL=function(t,e){Jk(e)&&\"cause\"in e&&Xk(t,\"cause\",e.cause);},ML=function(t,e,n,i){rL&&(bg?bg(t,e):nL(t,\"stack\",iL(n,i)));},UL=Zc,xL=function(t,e){return t===void 0?arguments.length<2?\"\":e:OL(t)},VL=pe(\"toStringTag\"),Dl=Error,FL=[].push,Js=function(t,e){var n,i=DL(Dh,this);Nl?n=Nl(Dl(),i?PL(this):Dh):(n=i?this:QA(Dh),Oh(n,VL,\"Error\")),e!==void 0&&Oh(n,\"message\",xL(e)),ML(n,Js,n.stack,1),arguments.length>2&&LL(n,arguments[2]);var r=[];return UL(t,FL,{that:r}),Oh(n,\"errors\",r),n};Nl?Nl(Js,Dl):kL(Js,Dl,{name:!0});var Dh=Js.prototype=QA(Dl.prototype,{constructor:Nh(1,Js),message:Nh(1,\"\"),name:Nh(1,\"AggregateError\")});NL({global:!0,constructor:!0,arity:2},{AggregateError:Js});var Pl,nc,kl,BL=He,kg=We.WeakMap,jL=BL(kg)&&/native code/.test(String(kg)),ZA=We,GL=Hn,WL=fo,Ph=Je,kh=ym,HL=Du,KL=ku,Lg=\"Object already initialized\",z_=ZA.TypeError,YL=ZA.WeakMap;jL||kh.state?(Ni=kh.state||(kh.state=new YL),Ni.get=Ni.get,Ni.has=Ni.has,Ni.set=Ni.set,Pl=function(t,e){if(Ni.has(t))throw z_(Lg);return e.facade=t,Ni.set(t,e),e},nc=function(t){return Ni.get(t)||{}},kl=function(t){return Ni.has(t)}):(Co=HL(\"state\"),KL[Co]=!0,Pl=function(t,e){if(Ph(t,Co))throw z_(Lg);return e.facade=t,WL(t,Co,e),e},nc=function(t){return Ph(t,Co)?t[Co]:{}},kl=function(t){return Ph(t,Co)});var Ni,Co,Ho,Mg,Ug,ns={set:Pl,get:nc,has:kl,enforce:function(t){return kl(t)?nc(t):Pl(t,{})},getterFor:function(t){return function(e){var n;if(!GL(e)||(n=nc(e)).type!==t)throw z_(\"Incompatible receiver, \"+t+\" required\");return n}}},J_=ri,qL=Je,$A=Function.prototype,zL=J_&&Object.getOwnPropertyDescriptor,Lh=qL($A,\"name\"),tb={EXISTS:Lh,PROPER:Lh&&function(){}.name===\"something\",CONFIGURABLE:Lh&&(!J_||J_&&zL($A,\"name\").configurable)},JL=fo,go=function(t,e,n,i){return i&&i.enumerable?t[e]=n:JL(t,e,n),t},XL=Se,QL=He,ZL=Hn,$L=Qc,xg=km,t1=go,X_=pe(\"iterator\"),eb=!1;[].keys&&(\"next\"in(Ug=[].keys())?(Mg=xg(xg(Ug)))!==Object.prototype&&(Ho=Mg):eb=!0);var e1=!ZL(Ho)||XL(function(){var t={};return Ho[X_].call(t)!==t});QL((Ho=e1?{}:$L(Ho))[X_])||t1(Ho,X_,function(){return this});var nb={IteratorPrototype:Ho,BUGGY_SAFARI_ITERATORS:eb},n1=Er,i1=Dm?{}.toString:function(){return \"[object \"+n1(this)+\"]\"},r1=Dm,o1=Ai.f,s1=fo,a1=Je,c1=i1,Vg=pe(\"toStringTag\"),To=function(t,e,n,i){if(t){var r=n?t:t.prototype;a1(r,Vg)||o1(r,Vg,{configurable:!0,value:e}),i&&!r1&&s1(r,\"toString\",c1);}},d1=nb.IteratorPrototype,l1=Qc,u1=_o,h1=To,p1=es,_1=function(){return this},xm=function(t,e,n,i){var r=e+\" Iterator\";return t.prototype=l1(d1,{next:u1(+!i,n)}),h1(t,r,!1,!0),p1[r]=_1,t},E1=xt,m1=Ke,f1=tb,g1=xm,T1=km,S1=To,Fg=go,Bg=es,R1=nb,C1=f1.PROPER,_d=R1.BUGGY_SAFARI_ITERATORS,Mh=pe(\"iterator\"),jg=\"keys\",Ed=\"values\",Gg=\"entries\",I1=function(){return this},ib=function(t,e,n,i,r,o,s){g1(n,e,i);var a,c,d,l=function(S){if(S===r&&E)return E;if(!_d&&S in p)return p[S];switch(S){case jg:case Ed:case Gg:return function(){return new n(this,S)}}return function(){return new n(this)}},u=e+\" Iterator\",h=!1,p=t.prototype,g=p[Mh]||p[\"@@iterator\"]||r&&p[r],E=!_d&&g||l(r),f=e==\"Array\"&&p.entries||g;if(f&&(a=T1(f.call(new t)))!==Object.prototype&&a.next&&(S1(a,u,!0,!0),Bg[u]=I1),C1&&r==Ed&&g&&g.name!==Ed&&(h=!0,E=function(){return m1(g,this)}),r)if(c={values:l(Ed),keys:o?E:l(jg),entries:l(Gg)},s)for(d in c)(_d||h||!(d in p))&&Fg(p,d,c[d]);else E1({target:e,proto:!0,forced:_d||h},c);return s&&p[Mh]!==E&&Fg(p,Mh,E,{name:r}),Bg[e]=E,c},Vm=function(t,e){return {value:t,done:e}},v1=Eo,Wg=es,rb=ns;Ai.f;var y1=ib,Hg=Vm,ob=\"Array Iterator\",A1=rb.set,b1=rb.getterFor(ob);y1(Array,\"Array\",function(t,e){A1(this,{type:ob,target:v1(t),index:0,kind:e});},function(){var t=b1(this),e=t.target,n=t.kind,i=t.index++;return !e||i>=e.length?(t.target=void 0,Hg(void 0,!0)):Hg(n==\"keys\"?i:n==\"values\"?e[i]:[i,e[i]],!1)},\"values\"),Wg.Arguments=Wg.Array;var w1=Ai,Uu=function(t,e,n){return w1.f(t,e,n)},O1=Dn,N1=Uu,D1=ri,Kg=pe(\"species\"),P1=hn,k1=TypeError,Fm=function(t,e){if(P1(e,t))return t;throw k1(\"Incorrect invocation\")},L1=He,Q_=ym,M1=me(Function.toString);L1(Q_.inspectSource)||(Q_.inspectSource=function(t){return M1(t)});var sb=Q_.inspectSource,U1=me,x1=Se,ab=He,V1=Er,F1=sb,cb=function(){},B1=[],db=Dn(\"Reflect\",\"construct\"),Bm=/^\\s*(?:class|function)\\b/,j1=U1(Bm.exec),G1=!Bm.exec(cb),Aa=function(t){if(!ab(t))return !1;try{return db(cb,B1,t),!0}catch{return !1}},lb=function(t){if(!ab(t))return !1;switch(V1(t)){case\"AsyncFunction\":case\"GeneratorFunction\":case\"AsyncGeneratorFunction\":return !1}try{return G1||!!j1(Bm,F1(t))}catch{return !0}};lb.sham=!0;var Tc,as,Yg,Uh,xu=!db||x1(function(){var t;return Aa(Aa.call)||!Aa(Object)||!Aa(function(){t=!0;})||t})?lb:Aa,W1=xu,H1=ha,K1=TypeError,qg=Cn,Y1=function(t){if(W1(t))return t;throw K1(H1(t)+\" is not a constructor\")},q1=da,z1=pe(\"species\"),jm=function(t,e){var n,i=qg(t).constructor;return i===void 0||q1(n=qg(i)[z1])?e:Y1(n)},Gm=me([].slice),J1=TypeError,Vu=function(t,e){if(t<e)throw J1(\"Not enough arguments\");return t},ub=/(?:ipad|iphone|ipod).*applewebkit/i.test($o),ei=We,X1=vm,Q1=mo,zg=He,Z1=Je,hb=Se,Jg=HA,$1=Gm,Xg=bm,tM=Vu,eM=ub,nM=Jc,Z_=ei.setImmediate,$_=ei.clearImmediate,iM=ei.process,xh=ei.Dispatch,rM=ei.Function,Qg=ei.MessageChannel,oM=ei.String,Vh=0,ic={},Zg=\"onreadystatechange\";hb(function(){Tc=ei.location;});var Wm=function(t){if(Z1(ic,t)){var e=ic[t];delete ic[t],e();}},Fh=function(t){return function(){Wm(t);}},$g=function(t){Wm(t.data);},tT=function(t){ei.postMessage(oM(t),Tc.protocol+\"//\"+Tc.host);};Z_&&$_||(Z_=function(t){tM(arguments.length,1);var e=zg(t)?t:rM(t),n=$1(arguments,1);return ic[++Vh]=function(){X1(e,void 0,n);},as(Vh),Vh},$_=function(t){delete ic[t];},nM?as=function(t){iM.nextTick(Fh(t));}:xh&&xh.now?as=function(t){xh.now(Fh(t));}:Qg&&!eM?(Uh=(Yg=new Qg).port2,Yg.port1.onmessage=$g,as=Q1(Uh.postMessage,Uh)):ei.addEventListener&&zg(ei.postMessage)&&!ei.importScripts&&Tc&&Tc.protocol!==\"file:\"&&!hb(tT)?(as=tT,ei.addEventListener(\"message\",$g,!1)):as=Zg in Xg(\"script\")?function(t){Jg.appendChild(Xg(\"script\"))[Zg]=function(){Jg.removeChild(this),Wm(t);};}:function(t){setTimeout(Fh(t),0);});var pb={set:Z_,clear:$_},_b=function(){this.head=null,this.tail=null;};_b.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e;},get:function(){var t=this.head;if(t)return (this.head=t.next)===null&&(this.tail=null),t.item}};var cs,Bh,jh,Gh,eT,Eb=_b,sM=/ipad|iphone|ipod/i.test($o)&&typeof Pebble<\"u\",aM=/web0s(?!.*chrome)/i.test($o),Jo=We,nT=mo,cM=Yc.f,Wh=pb.set,dM=Eb,lM=ub,uM=sM,hM=aM,Hh=Jc,iT=Jo.MutationObserver||Jo.WebKitMutationObserver,rT=Jo.document,oT=Jo.process,md=Jo.Promise,sT=cM(Jo,\"queueMicrotask\"),tE=sT&&sT.value;tE||(ba=new dM,wa=function(){var t,e;for(Hh&&(t=oT.domain)&&t.exit();e=ba.get();)try{e();}catch(n){throw ba.head&&cs(),n}t&&t.enter();},lM||Hh||hM||!iT||!rT?!uM&&md&&md.resolve?((Gh=md.resolve(void 0)).constructor=md,eT=nT(Gh.then,Gh),cs=function(){eT(wa);}):Hh?cs=function(){oT.nextTick(wa);}:(Wh=nT(Wh,Jo),cs=function(){Wh(wa);}):(Bh=!0,jh=rT.createTextNode(\"\"),new iT(wa).observe(jh,{characterData:!0}),cs=function(){jh.data=Bh=!Bh;}),tE=function(t){ba.head||cs(),ba.add(t);});var ba,wa,pM=tE,_a=function(t){try{return {error:!1,value:t()}}catch(e){return {error:!0,value:e}}},Xo=We.Promise,mb=typeof Deno==\"object\"&&Deno&&typeof Deno.version==\"object\",_M=!mb&&!Jc&&typeof window==\"object\"&&typeof document==\"object\",EM=We,rc=Xo,mM=He,fM=kA,gM=sb,TM=pe,SM=_M,RM=mb,Kh=zo,aT=rc&&rc.prototype,CM=TM(\"species\"),fb=!1,gb=mM(EM.PromiseRejectionEvent),IM=fM(\"Promise\",function(){var t=gM(rc),e=t!==String(rc);if(!e&&Kh===66||!aT.catch||!aT.finally)return !0;if(!Kh||Kh<51||!/native code/.test(t)){var n=new rc(function(r){r(1);}),i=function(r){r(function(){},function(){});};if((n.constructor={})[CM]=i,!(fb=n.then(function(){})instanceof i))return !0}return !e&&(SM||RM)&&!gb}),$c={CONSTRUCTOR:IM,REJECTION_EVENT:gb,SUBCLASSING:fb},mr={},cT=yi,vM=TypeError,yM=function(t){var e,n;this.promise=new t(function(i,r){if(e!==void 0||n!==void 0)throw vM(\"Bad Promise constructor\");e=i,n=r;}),this.resolve=cT(e),this.reject=cT(n);};mr.f=function(t){return new yM(t)};var Yh,dT,AM=xt,Ll=Jc,uo=We,td=Ke,bM=go,wM=To,OM=function(t){var e=O1(t);D1&&e&&!e[Kg]&&N1(e,Kg,{configurable:!0,get:function(){return this}});},NM=yi,eE=He,DM=Hn,PM=Fm,kM=jm,Tb=pb.set,Hm=pM,LM=function(t,e){try{arguments.length==1?console.error(t):console.error(t,e);}catch{}},MM=_a,UM=Eb,Sb=ns,nE=Xo,Rb=$c,Cb=mr,cl=\"Promise\",lT=Rb.CONSTRUCTOR,xM=Rb.REJECTION_EVENT,qh=Sb.getterFor(cl),VM=Sb.set,FM=nE&&nE.prototype,Oa=nE,zh=FM,Ib=uo.TypeError,iE=uo.document,Km=uo.process,rE=Cb.f,BM=rE,jM=!!(iE&&iE.createEvent&&uo.dispatchEvent),vb=\"unhandledrejection\",yb=function(t){var e;return !(!DM(t)||!eE(e=t.then))&&e},Ab=function(t,e){var n,i,r,o=e.value,s=e.state==1,a=s?t.ok:t.fail,c=t.resolve,d=t.reject,l=t.domain;try{a?(s||(e.rejection===2&&WM(e),e.rejection=1),a===!0?n=o:(l&&l.enter(),n=a(o),l&&(l.exit(),r=!0)),n===t.promise?d(Ib(\"Promise-chain cycle\")):(i=yb(n))?td(i,n,c,d):c(n)):d(o);}catch(u){l&&!r&&l.exit(),d(u);}},bb=function(t,e){t.notified||(t.notified=!0,Hm(function(){for(var n,i=t.reactions;n=i.get();)Ab(n,t);t.notified=!1,e&&!t.rejection&&GM(t);}));},wb=function(t,e,n){var i,r;jM?((i=iE.createEvent(\"Event\")).promise=e,i.reason=n,i.initEvent(t,!1,!0),uo.dispatchEvent(i)):i={promise:e,reason:n},!xM&&(r=uo[\"on\"+t])?r(i):t===vb&&LM(\"Unhandled promise rejection\",n);},GM=function(t){td(Tb,uo,function(){var e,n=t.facade,i=t.value;if(uT(t)&&(e=MM(function(){Ll?Km.emit(\"unhandledRejection\",i,n):wb(vb,n,i);}),t.rejection=Ll||uT(t)?2:1,e.error))throw e.value});},uT=function(t){return t.rejection!==1&&!t.parent},WM=function(t){td(Tb,uo,function(){var e=t.facade;Ll?Km.emit(\"rejectionHandled\",e):wb(\"rejectionhandled\",e,t.value);});},Os=function(t,e,n){return function(i){t(e,i,n);}},Fs=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,bb(t,!0));},oE=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Ib(\"Promise can't be resolved itself\");var i=yb(e);i?Hm(function(){var r={done:!1};try{td(i,e,Os(oE,r,t),Os(Fs,r,t));}catch(o){Fs(r,o,t);}}):(t.value=e,t.state=1,bb(t,!1));}catch(r){Fs({done:!1},r,t);}}};lT&&(zh=(Oa=function(t){PM(this,zh),NM(t),td(Yh,this);var e=qh(this);try{t(Os(oE,e),Os(Fs,e));}catch(n){Fs(e,n);}}).prototype,(Yh=function(t){VM(this,{type:cl,done:!1,notified:!1,parent:!1,reactions:new UM,rejection:!1,state:0,value:void 0});}).prototype=bM(zh,\"then\",function(t,e){var n=qh(this),i=rE(kM(this,Oa));return n.parent=!0,i.ok=!eE(t)||t,i.fail=eE(e)&&e,i.domain=Ll?Km.domain:void 0,n.state==0?n.reactions.add(i):Hm(function(){Ab(i,n);}),i.promise}),dT=function(){var t=new Yh,e=qh(t);this.promise=t,this.resolve=Os(oE,e),this.reject=Os(Fs,e);},Cb.f=rE=function(t){return t===Oa||t===void 0?new dT(t):BM(t)}),AM({global:!0,constructor:!0,wrap:!0,forced:lT},{Promise:Oa}),wM(Oa,cl,!1,!0),OM(cl);var Ob=pe(\"iterator\"),Nb=!1;try{hT=0,Jh={next:function(){return {done:!!hT++}},return:function(){Nb=!0;}},Jh[Ob]=function(){return this},Array.from(Jh,function(){throw 2});}catch{}var hT,Jh,HM=Xo,KM=function(t,e){if(!Nb)return !1;var n=!1;try{var i={};i[Ob]=function(){return {next:function(){return {done:n=!0}}}},t(i);}catch{}return n},Fu=$c.CONSTRUCTOR||!KM(function(t){HM.all(t).then(void 0,function(){});}),YM=Ke,qM=yi,zM=mr,JM=_a,XM=Zc;xt({target:\"Promise\",stat:!0,forced:Fu},{all:function(t){var e=this,n=zM.f(e),i=n.resolve,r=n.reject,o=JM(function(){var s=qM(e.resolve),a=[],c=0,d=1;XM(t,function(l){var u=c++,h=!1;d++,YM(s,e,l).then(function(p){h||(h=!0,a[u]=p,--d||i(a));},r);}),--d||i(a);});return o.error&&r(o.value),n.promise}});var QM=xt,ZM=$c.CONSTRUCTOR;Xo&&Xo.prototype,QM({target:\"Promise\",proto:!0,forced:ZM,real:!0},{catch:function(t){return this.then(void 0,t)}});var $M=Ke,tU=yi,eU=mr,nU=_a,iU=Zc;xt({target:\"Promise\",stat:!0,forced:Fu},{race:function(t){var e=this,n=eU.f(e),i=n.reject,r=nU(function(){var o=tU(e.resolve);iU(t,function(s){$M(o,e,s).then(n.resolve,i);});});return r.error&&i(r.value),n.promise}});var rU=Ke,oU=mr;xt({target:\"Promise\",stat:!0,forced:$c.CONSTRUCTOR},{reject:function(t){var e=oU.f(this);return rU(e.reject,void 0,t),e.promise}});var sU=Cn,aU=Hn,cU=mr,Db=function(t,e){if(sU(t),aU(e)&&e.constructor===t)return e;var n=cU.f(t);return (0, n.resolve)(e),n.promise},dU=xt,lU=Xo,uU=$c.CONSTRUCTOR,hU=Db,pU=Dn(\"Promise\"),_U=!uU;dU({target:\"Promise\",stat:!0,forced:!0},{resolve:function(t){return hU(_U&&this===pU?lU:this,t)}});var EU=Ke,mU=yi,fU=mr,gU=_a,TU=Zc;xt({target:\"Promise\",stat:!0,forced:Fu},{allSettled:function(t){var e=this,n=fU.f(e),i=n.resolve,r=n.reject,o=gU(function(){var s=mU(e.resolve),a=[],c=0,d=1;TU(t,function(l){var u=c++,h=!1;d++,EU(s,e,l).then(function(p){h||(h=!0,a[u]={status:\"fulfilled\",value:p},--d||i(a));},function(p){h||(h=!0,a[u]={status:\"rejected\",reason:p},--d||i(a));});}),--d||i(a);});return o.error&&r(o.value),n.promise}});var SU=Ke,RU=yi,CU=Dn,IU=mr,vU=_a,yU=Zc,pT=\"No one promise resolved\";xt({target:\"Promise\",stat:!0,forced:Fu},{any:function(t){var e=this,n=CU(\"AggregateError\"),i=IU.f(e),r=i.resolve,o=i.reject,s=vU(function(){var a=RU(e.resolve),c=[],d=0,l=1,u=!1;yU(t,function(h){var p=d++,g=!1;l++,SU(a,e,h).then(function(E){g||u||(u=!0,r(E));},function(E){g||u||(g=!0,c[p]=E,--l||o(new n(c,pT)));});}),--l||o(new n(c,pT));});return s.error&&o(s.value),i.promise}});var AU=xt,sE=Xo,bU=Se,wU=Dn,OU=He,NU=jm,_T=Db,DU=sE&&sE.prototype;AU({target:\"Promise\",proto:!0,real:!0,forced:!!sE&&bU(function(){DU.finally.call({then:function(){}},function(){});})},{finally:function(t){var e=NU(this,wU(\"Promise\")),n=OU(t);return this.then(n?function(i){return _T(e,t()).then(function(){return i})}:t,n?function(i){return _T(e,t()).then(function(){throw i})}:t)}});var Ym=me,PU=wm,kU=oi,LU=la,MU=Ym(\"\".charAt),ET=Ym(\"\".charCodeAt),UU=Ym(\"\".slice),mT=function(t){return function(e,n){var i,r,o=kU(LU(e)),s=PU(n),a=o.length;return s<0||s>=a?t?\"\":void 0:(i=ET(o,s))<55296||i>56319||s+1===a||(r=ET(o,s+1))<56320||r>57343?t?MU(o,s):i:t?UU(o,s,s+2):r-56320+(i-55296<<10)+65536}},qm={codeAt:mT(!1),charAt:mT(!0)},xU=qm.charAt,VU=oi,Pb=ns,FU=ib,fT=Vm,kb=\"String Iterator\",BU=Pb.set,jU=Pb.getterFor(kb);FU(String,\"String\",function(t){BU(this,{type:kb,string:VU(t),index:0});},function(){var t,e=jU(this),n=e.string,i=e.index;return i>=n.length?fT(void 0,!0):(t=xU(n,i),e.index+=t.length,fT(t,!1))});var GU=Gi.Promise,WU={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},HU=We,KU=Er,YU=fo,gT=es,TT=pe(\"toStringTag\");for(fd in WU)Xh=HU[fd],gd=Xh&&Xh.prototype,gd&&KU(gd)!==TT&&YU(gd,TT,fd),gT[fd]=gT.Array;var Xh,gd,fd,Lb=GU,j=ae(Lb),ST=jA;function Mb(t,e){let n=t&&t.navigator;if(!n.mediaDevices)return;let i=function(s){if(typeof s!=\"object\"||s.mandatory||s.optional)return s;let a={};return Object.keys(s).forEach(c=>{if(c===\"require\"||c===\"advanced\"||c===\"mediaSource\")return;let d=typeof s[c]==\"object\"?s[c]:{ideal:s[c]};d.exact!==void 0&&typeof d.exact==\"number\"&&(d.min=d.max=d.exact);let l=function(u,h){return u?u+h.charAt(0).toUpperCase()+h.slice(1):h===\"deviceId\"?\"sourceId\":h};if(d.ideal!==void 0){a.optional=a.optional||[];let u={};typeof d.ideal==\"number\"?(u[l(\"min\",c)]=d.ideal,a.optional.push(u),u={},u[l(\"max\",c)]=d.ideal,a.optional.push(u)):(u[l(\"\",c)]=d.ideal,a.optional.push(u));}d.exact!==void 0&&typeof d.exact!=\"number\"?(a.mandatory=a.mandatory||{},a.mandatory[l(\"\",c)]=d.exact):[\"min\",\"max\"].forEach(u=>{d[u]!==void 0&&(a.mandatory=a.mandatory||{},a.mandatory[l(u,c)]=d[u]);});}),s.advanced&&(a.optional=(a.optional||[]).concat(s.advanced)),a},r=function(s,a){if(e.version>=61)return a(s);if((s=JSON.parse(JSON.stringify(s)))&&typeof s.audio==\"object\"){let c=function(d,l,u){l in d&&!(u in d)&&(d[u]=d[l],delete d[l]);};c((s=JSON.parse(JSON.stringify(s))).audio,\"autoGainControl\",\"googAutoGainControl\"),c(s.audio,\"noiseSuppression\",\"googNoiseSuppression\"),s.audio=i(s.audio);}if(s&&typeof s.video==\"object\"){let c=s.video.facingMode;c=c&&(typeof c==\"object\"?c:{ideal:c});let d=e.version<66;if(c&&(c.exact===\"user\"||c.exact===\"environment\"||c.ideal===\"user\"||c.ideal===\"environment\")&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||d)){let l;if(delete s.video.facingMode,c.exact===\"environment\"||c.ideal===\"environment\"?l=[\"back\",\"rear\"]:c.exact!==\"user\"&&c.ideal!==\"user\"||(l=[\"front\"]),l)return n.mediaDevices.enumerateDevices().then(u=>{let h=(u=u.filter(p=>p.kind===\"videoinput\")).find(p=>l.some(g=>{var E;return W(E=p.label.toLowerCase()).call(E,g)}));return !h&&u.length&&W(l).call(l,\"back\")&&(h=u[u.length-1]),h&&(s.video.deviceId=c.exact?{exact:h.deviceId}:{ideal:h.deviceId}),s.video=i(s.video),ST(\"chrome: \"+JSON.stringify(s)),a(s)})}s.video=i(s.video);}return ST(\"chrome: \"+JSON.stringify(s)),a(s)},o=function(s){return e.version>=64?s:{name:{PermissionDeniedError:\"NotAllowedError\",PermissionDismissedError:\"NotAllowedError\",InvalidStateError:\"NotAllowedError\",DevicesNotFoundError:\"NotFoundError\",ConstraintNotSatisfiedError:\"OverconstrainedError\",TrackStartError:\"NotReadableError\",MediaDeviceFailedDueToShutdown:\"NotAllowedError\",MediaDeviceKillSwitchOn:\"NotAllowedError\",TabCaptureError:\"AbortError\",ScreenCaptureError:\"AbortError\",DeviceCaptureError:\"AbortError\"}[s.name]||s.name,message:s.message,constraint:s.constraint||s.constraintName,toString(){return this.name+(this.message&&\": \")+this.message}}};if(n.getUserMedia=function(s,a,c){r(s,d=>{n.webkitGetUserMedia(d,a,l=>{c&&c(o(l));});});}.bind(n),n.mediaDevices.getUserMedia){let s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(a){return r(a,c=>s(c).then(d=>{if(c.audio&&!d.getAudioTracks().length||c.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(l=>{l.stop();}),new DOMException(\"\",\"NotFoundError\");return d},d=>j.reject(o(d))))};}}function Ub(t){t.MediaStream=t.MediaStream||t.webkitMediaStream;}function xb(t){if(typeof t==\"object\"&&t.RTCPeerConnection&&!(\"ontrack\"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,\"ontrack\",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener(\"track\",this._ontrack),this.addEventListener(\"track\",this._ontrack=n);},enumerable:!0,configurable:!0});let e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=n=>{n.stream.addEventListener(\"addtrack\",i=>{let r;r=t.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(s=>s.track&&s.track.id===i.track.id):{track:i.track};let o=new Event(\"track\");o.track=i.track,o.receiver=r,o.transceiver={receiver:r},o.streams=[n.stream],this.dispatchEvent(o);}),n.stream.getTracks().forEach(i=>{let r;r=t.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(s=>s.track&&s.track.id===i.id):{track:i};let o=new Event(\"track\");o.track=i,o.receiver=r,o.transceiver={receiver:r},o.streams=[n.stream],this.dispatchEvent(o);});},this.addEventListener(\"addstream\",this._ontrackpoly)),e.apply(this,arguments)};}else ts(t,\"track\",e=>(e.transceiver||Object.defineProperty(e,\"transceiver\",{value:{receiver:e.receiver}}),e));}function Vb(t){if(typeof t==\"object\"&&t.RTCPeerConnection&&!(\"getSenders\"in t.RTCPeerConnection.prototype)&&\"createDTMFSender\"in t.RTCPeerConnection.prototype){let e=function(r,o){return {track:o,get dtmf(){return this._dtmf===void 0&&(o.kind===\"audio\"?this._dtmf=r.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:r}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};let r=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(s,a){let c=r.apply(this,arguments);return c||(c=e(this,s),this._senders.push(c)),c};let o=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(s){o.apply(this,arguments);let a=this._senders.indexOf(s);a!==-1&&this._senders.splice(a,1);};}let n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(r){this._senders=this._senders||[],n.apply(this,[r]),r.getTracks().forEach(o=>{this._senders.push(e(this,o));});};let i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(r){this._senders=this._senders||[],i.apply(this,[r]),r.getTracks().forEach(o=>{let s=this._senders.find(a=>a.track===o);s&&this._senders.splice(this._senders.indexOf(s),1);});};}else if(typeof t==\"object\"&&t.RTCPeerConnection&&\"getSenders\"in t.RTCPeerConnection.prototype&&\"createDTMFSender\"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!(\"dtmf\"in t.RTCRtpSender.prototype)){let e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){let n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n},Object.defineProperty(t.RTCRtpSender.prototype,\"dtmf\",{get(){return this._dtmf===void 0&&(this.track.kind===\"audio\"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}});}}function Fb(t){if(!t.RTCPeerConnection)return;let e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){let[n,i,r]=arguments;if(arguments.length>0&&typeof n==\"function\")return e.apply(this,arguments);if(e.length===0&&(arguments.length===0||typeof n!=\"function\"))return e.apply(this,[]);let o=function(a){let c={};return a.result().forEach(d=>{let l={id:d.id,timestamp:d.timestamp,type:{localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"}[d.type]||d.type};d.names().forEach(u=>{l[u]=d.stat(u);}),c[l.id]=l;}),c},s=function(a){return new Map(Object.keys(a).map(c=>[c,a[c]]))};if(arguments.length>=2){let a=function(c){i(s(o(c)));};return e.apply(this,[a,n])}return new j((a,c)=>{e.apply(this,[function(d){a(s(o(d)));},c]);}).then(i,r)};}function Bb(t){if(!(typeof t==\"object\"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!(\"getStats\"in t.RTCRtpSender.prototype)){let n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){let r=n.apply(this,[]);return r.forEach(o=>o._pc=this),r});let i=t.RTCPeerConnection.prototype.addTrack;i&&(t.RTCPeerConnection.prototype.addTrack=function(){let r=i.apply(this,arguments);return r._pc=this,r}),t.RTCRtpSender.prototype.getStats=function(){let r=this;return this._pc.getStats().then(o=>Sg(o,r.track,!0))};}if(!(\"getStats\"in t.RTCRtpReceiver.prototype)){let n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){let i=n.apply(this,[]);return i.forEach(r=>r._pc=this),i}),ts(t,\"track\",i=>(i.receiver._pc=i.srcElement,i)),t.RTCRtpReceiver.prototype.getStats=function(){let i=this;return this._pc.getStats().then(r=>Sg(r,i.track,!1))};}if(!(\"getStats\"in t.RTCRtpSender.prototype)||!(\"getStats\"in t.RTCRtpReceiver.prototype))return;let e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){let n=arguments[0],i,r,o;return this.getSenders().forEach(s=>{s.track===n&&(i?o=!0:i=s);}),this.getReceivers().forEach(s=>(s.track===n&&(r?o=!0:r=s),s.track===n)),o||i&&r?j.reject(new DOMException(\"There are more than one sender or receiver for the track.\",\"InvalidAccessError\")):i?i.getStats():r?r.getStats():j.reject(new DOMException(\"There is no sender or receiver for the track.\",\"InvalidAccessError\"))}return e.apply(this,arguments)};}function jb(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};let e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,s){if(!s)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};let a=e.apply(this,arguments);return this._shimmedLocalStreams[s.id]?this._shimmedLocalStreams[s.id].indexOf(a)===-1&&this._shimmedLocalStreams[s.id].push(a):this._shimmedLocalStreams[s.id]=[s,a],a};let n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(c=>{if(this.getSenders().find(l=>l.track===c))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\")});let s=this.getSenders();n.apply(this,arguments);let a=this.getSenders().filter(c=>s.indexOf(c)===-1);this._shimmedLocalStreams[o.id]=[o].concat(a);};let i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],i.apply(this,arguments)};let r=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(s=>{let a=this._shimmedLocalStreams[s].indexOf(o);a!==-1&&this._shimmedLocalStreams[s].splice(a,1),this._shimmedLocalStreams[s].length===1&&delete this._shimmedLocalStreams[s];}),r.apply(this,arguments)};}function Gb(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return jb(t);let n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){let c=n.apply(this);return this._reverseStreams=this._reverseStreams||{},c.map(d=>this._reverseStreams[d.id])};let i=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(c){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},c.getTracks().forEach(d=>{if(this.getSenders().find(u=>u.track===d))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\")}),!this._reverseStreams[c.id]){let d=new t.MediaStream(c.getTracks());this._streams[c.id]=d,this._reverseStreams[d.id]=c,c=d;}i.apply(this,[c]);};let r=t.RTCPeerConnection.prototype.removeStream;function o(c,d){let l=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(u=>{let h=c._reverseStreams[u],p=c._streams[h.id];l=l.replace(new RegExp(p.id,\"g\"),h.id);}),new RTCSessionDescription({type:d.type,sdp:l})}t.RTCPeerConnection.prototype.removeStream=function(c){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[c.id]||c]),delete this._reverseStreams[this._streams[c.id]?this._streams[c.id].id:c.id],delete this._streams[c.id];},t.RTCPeerConnection.prototype.addTrack=function(c,d){if(this.signalingState===\"closed\")throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\",\"InvalidStateError\");let l=[].slice.call(arguments,1);if(l.length!==1||!l[0].getTracks().find(p=>p===c))throw new DOMException(\"The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.\",\"NotSupportedError\");if(this.getSenders().find(p=>p.track===c))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};let h=this._streams[d.id];if(h)h.addTrack(c),j.resolve().then(()=>{this.dispatchEvent(new Event(\"negotiationneeded\"));});else {let p=new t.MediaStream([c]);this._streams[d.id]=p,this._reverseStreams[p.id]=d,this.addStream(p);}return this.getSenders().find(p=>p.track===c)},[\"createOffer\",\"createAnswer\"].forEach(function(c){let d=t.RTCPeerConnection.prototype[c],l={[c](){let u=arguments;return arguments.length&&typeof arguments[0]==\"function\"?d.apply(this,[h=>{let p=o(this,h);u[0].apply(null,[p]);},h=>{u[1]&&u[1].apply(null,h);},arguments[2]]):d.apply(this,arguments).then(h=>o(this,h))}};t.RTCPeerConnection.prototype[c]=l[c];});let s=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(c,d){let l=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(u=>{let h=c._reverseStreams[u],p=c._streams[h.id];l=l.replace(new RegExp(h.id,\"g\"),p.id);}),new RTCSessionDescription({type:d.type,sdp:l})}(this,arguments[0]),s.apply(this,arguments)):s.apply(this,arguments)};let a=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,\"localDescription\");Object.defineProperty(t.RTCPeerConnection.prototype,\"localDescription\",{get(){let c=a.get.apply(this);return c.type===\"\"?c:o(this,c)}}),t.RTCPeerConnection.prototype.removeTrack=function(c){if(this.signalingState===\"closed\")throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\",\"InvalidStateError\");if(!c._pc)throw new DOMException(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\",\"TypeError\");if(c._pc!==this)throw new DOMException(\"Sender was not created by this connection.\",\"InvalidAccessError\");let d;this._streams=this._streams||{},Object.keys(this._streams).forEach(l=>{this._streams[l].getTracks().find(u=>c.track===u)&&(d=this._streams[l]);}),d&&(d.getTracks().length===1?this.removeStream(this._reverseStreams[d.id]):d.removeTrack(c.track),this.dispatchEvent(new Event(\"negotiationneeded\")));};}function aE(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach(function(n){let i=t.RTCPeerConnection.prototype[n],r={[n](){return arguments[0]=new(n===\"addIceCandidate\"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=r[n];});}function Wb(t,e){ts(t,\"negotiationneeded\",n=>{let i=n.target;if(!(e.version<72||i.getConfiguration&&i.getConfiguration().sdpSemantics===\"plan-b\")||i.signalingState===\"stable\")return n});}var RT=Object.freeze({__proto__:null,fixNegotiationNeeded:Wb,shimAddTrackRemoveTrack:Gb,shimAddTrackRemoveTrackWithNative:jb,shimGetDisplayMedia:function(t,e){t.navigator.mediaDevices&&\"getDisplayMedia\"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(typeof e==\"function\"?t.navigator.mediaDevices.getDisplayMedia=function(n){return e(n).then(i=>{let r=n.video&&n.video.width,o=n.video&&n.video.height,s=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:i,maxFrameRate:s||3}},r&&(n.video.mandatory.maxWidth=r),o&&(n.video.mandatory.maxHeight=o),t.navigator.mediaDevices.getUserMedia(n)})}:console.error(\"shimGetDisplayMedia: getSourceId argument is not a function\"));},shimGetSendersWithDtmf:Vb,shimGetStats:Fb,shimGetUserMedia:Mb,shimMediaStream:Ub,shimOnTrack:xb,shimPeerConnection:aE,shimSenderReceiverGetStats:Bb});function Hb(t,e){let n=t&&t.navigator,i=t&&t.MediaStreamTrack;if(n.getUserMedia=function(r,o,s){Pm(\"navigator.getUserMedia\",\"navigator.mediaDevices.getUserMedia\"),n.mediaDevices.getUserMedia(r).then(o,s);},!(e.version>55&&\"autoGainControl\"in n.mediaDevices.getSupportedConstraints())){let r=function(s,a,c){a in s&&!(c in s)&&(s[c]=s[a],delete s[a]);},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(s){return typeof s==\"object\"&&typeof s.audio==\"object\"&&(s=JSON.parse(JSON.stringify(s)),r(s.audio,\"autoGainControl\",\"mozAutoGainControl\"),r(s.audio,\"noiseSuppression\",\"mozNoiseSuppression\")),o(s)},i&&i.prototype.getSettings){let s=i.prototype.getSettings;i.prototype.getSettings=function(){let a=s.apply(this,arguments);return r(a,\"mozAutoGainControl\",\"autoGainControl\"),r(a,\"mozNoiseSuppression\",\"noiseSuppression\"),a};}if(i&&i.prototype.applyConstraints){let s=i.prototype.applyConstraints;i.prototype.applyConstraints=function(a){return this.kind===\"audio\"&&typeof a==\"object\"&&(a=JSON.parse(JSON.stringify(a)),r(a,\"autoGainControl\",\"mozAutoGainControl\"),r(a,\"noiseSuppression\",\"mozNoiseSuppression\")),s.apply(this,[a])};}}}function Kb(t){typeof t==\"object\"&&t.RTCTrackEvent&&\"receiver\"in t.RTCTrackEvent.prototype&&!(\"transceiver\"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,\"transceiver\",{get(){return {receiver:this.receiver}}});}function cE(t,e){if(typeof t!=\"object\"||!t.RTCPeerConnection&&!t.mozRTCPeerConnection)return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach(function(r){let o=t.RTCPeerConnection.prototype[r],s={[r](){return arguments[0]=new(r===\"addIceCandidate\"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};t.RTCPeerConnection.prototype[r]=s[r];});let n={inboundrtp:\"inbound-rtp\",outboundrtp:\"outbound-rtp\",candidatepair:\"candidate-pair\",localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"},i=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){let[r,o,s]=arguments;return i.apply(this,[r||null]).then(a=>{if(e.version<53&&!o)try{a.forEach(c=>{c.type=n[c.type]||c.type;});}catch(c){if(c.name!==\"TypeError\")throw c;a.forEach((d,l)=>{a.set(l,Object.assign({},d,{type:n[d.type]||d.type}));});}return a}).then(o,s)};}function Yb(t){if(typeof t!=\"object\"||!t.RTCPeerConnection||!t.RTCRtpSender||t.RTCRtpSender&&\"getStats\"in t.RTCRtpSender.prototype)return;let e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){let i=e.apply(this,[]);return i.forEach(r=>r._pc=this),i});let n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){let i=n.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):j.resolve(new Map)};}function qb(t){if(typeof t!=\"object\"||!t.RTCPeerConnection||!t.RTCRtpSender||t.RTCRtpSender&&\"getStats\"in t.RTCRtpReceiver.prototype)return;let e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){let n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n}),ts(t,\"track\",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)};}function zb(t){t.RTCPeerConnection&&!(\"removeStream\"in t.RTCPeerConnection.prototype)&&(t.RTCPeerConnection.prototype.removeStream=function(e){Pm(\"removeStream\",\"removeTrack\"),this.getSenders().forEach(n=>{var i;n.track&&W(i=e.getTracks()).call(i,n.track)&&this.removeTrack(n);});});}function Jb(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel);}function Xb(t){if(typeof t!=\"object\"||!t.RTCPeerConnection)return;let e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let n=arguments[1]&&arguments[1].sendEncodings;n===void 0&&(n=[]),n=[...n];let i=n.length>0;i&&n.forEach(o=>{if(\"rid\"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError(\"Invalid RID value provided.\");if(\"scaleResolutionDownBy\"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError(\"scale_resolution_down_by must be >= 1.0\");if(\"maxFramerate\"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError(\"max_framerate must be >= 0.0\")});let r=e.apply(this,arguments);if(i){let{sender:o}=r,s=o.getParameters();(!(\"encodings\"in s)||s.encodings.length===1&&Object.keys(s.encodings[0]).length===0)&&(s.encodings=n,o.sendEncodings=n,this.setParametersPromises.push(o.setParameters(s).then(()=>{delete o.sendEncodings;}).catch(()=>{delete o.sendEncodings;})));}return r});}function Qb(t){if(typeof t!=\"object\"||!t.RTCRtpSender)return;let e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){let n=e.apply(this,arguments);return \"encodings\"in n||(n.encodings=[].concat(this.sendEncodings||[{}])),n});}function Zb(t){if(typeof t!=\"object\"||!t.RTCPeerConnection)return;let e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?j.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[];}):e.apply(this,arguments)};}function $b(t){if(typeof t!=\"object\"||!t.RTCPeerConnection)return;let e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?j.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[];}):e.apply(this,arguments)};}var CT=Object.freeze({__proto__:null,shimAddTransceiver:Xb,shimCreateAnswer:$b,shimCreateOffer:Zb,shimGetDisplayMedia:function(t,e){t.navigator.mediaDevices&&\"getDisplayMedia\"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){let i=new DOMException(\"getDisplayMedia without video constraints is undefined\");return i.name=\"NotFoundError\",i.code=8,j.reject(i)}return n.video===!0?n.video={mediaSource:e}:n.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(n)});},shimGetParameters:Qb,shimGetUserMedia:Hb,shimOnTrack:Kb,shimPeerConnection:cE,shimRTCDataChannel:Jb,shimReceiverGetStats:qb,shimRemoveStream:zb,shimSenderGetStats:Yb});function tw(t){if(typeof t==\"object\"&&t.RTCPeerConnection){if(\"getLocalStreams\"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!(\"addStream\"in t.RTCPeerConnection.prototype)){let e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(n){var i;this._localStreams||(this._localStreams=[]),W(i=this._localStreams).call(i,n)||this._localStreams.push(n),n.getAudioTracks().forEach(r=>e.call(this,r,n)),n.getVideoTracks().forEach(r=>e.call(this,r,n));},t.RTCPeerConnection.prototype.addTrack=function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return r&&r.forEach(s=>{var a;this._localStreams?W(a=this._localStreams).call(a,s)||this._localStreams.push(s):this._localStreams=[s];}),e.apply(this,arguments)};}\"removeStream\"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);let n=this._localStreams.indexOf(e);if(n===-1)return;this._localStreams.splice(n,1);let i=e.getTracks();this.getSenders().forEach(r=>{W(i).call(i,r.track)&&this.removeTrack(r);});});}}function ew(t){if(typeof t==\"object\"&&t.RTCPeerConnection&&(\"getRemoteStreams\"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!(\"onaddstream\"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,\"onaddstream\",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener(\"addstream\",this._onaddstream),this.removeEventListener(\"track\",this._onaddstreampoly)),this.addEventListener(\"addstream\",this._onaddstream=n),this.addEventListener(\"track\",this._onaddstreampoly=i=>{i.streams.forEach(r=>{var o;if(this._remoteStreams||(this._remoteStreams=[]),W(o=this._remoteStreams).call(o,r))return;this._remoteStreams.push(r);let s=new Event(\"addstream\");s.stream=r,this.dispatchEvent(s);});});}});let e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){let n=this;return this._onaddstreampoly||this.addEventListener(\"track\",this._onaddstreampoly=function(i){i.streams.forEach(r=>{if(n._remoteStreams||(n._remoteStreams=[]),n._remoteStreams.indexOf(r)>=0)return;n._remoteStreams.push(r);let o=new Event(\"addstream\");o.stream=r,n.dispatchEvent(o);});}),e.apply(n,arguments)};}}function nw(t){if(typeof t!=\"object\"||!t.RTCPeerConnection)return;let e=t.RTCPeerConnection.prototype,n=e.createOffer,i=e.createAnswer,r=e.setLocalDescription,o=e.setRemoteDescription,s=e.addIceCandidate;e.createOffer=function(c,d){let l=arguments.length>=2?arguments[2]:arguments[0],u=n.apply(this,[l]);return d?(u.then(c,d),j.resolve()):u},e.createAnswer=function(c,d){let l=arguments.length>=2?arguments[2]:arguments[0],u=i.apply(this,[l]);return d?(u.then(c,d),j.resolve()):u};let a=function(c,d,l){let u=r.apply(this,[c]);return l?(u.then(d,l),j.resolve()):u};e.setLocalDescription=a,a=function(c,d,l){let u=o.apply(this,[c]);return l?(u.then(d,l),j.resolve()):u},e.setRemoteDescription=a,a=function(c,d,l){let u=s.apply(this,[c]);return l?(u.then(d,l),j.resolve()):u},e.addIceCandidate=a;}function iw(t){let e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){let n=e.mediaDevices,i=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=r=>i(rw(r));}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=function(n,i,r){e.mediaDevices.getUserMedia(n).then(i,r);}.bind(e));}function rw(t){return t&&t.video!==void 0?Object.assign({},t,{video:GA(t.video)}):t}function ow(t){if(!t.RTCPeerConnection)return;let e=t.RTCPeerConnection;t.RTCPeerConnection=function(n,i){if(n&&n.iceServers){let r=[];for(let o=0;o<n.iceServers.length;o++){let s=n.iceServers[o];!s.hasOwnProperty(\"urls\")&&s.hasOwnProperty(\"url\")?(Pm(\"RTCIceServer.url\",\"RTCIceServer.urls\"),s=JSON.parse(JSON.stringify(s)),s.urls=s.url,delete s.url,r.push(s)):r.push(n.iceServers[o]);}n.iceServers=r;}return new e(n,i)},t.RTCPeerConnection.prototype=e.prototype,\"generateCertificate\"in e&&Object.defineProperty(t.RTCPeerConnection,\"generateCertificate\",{get:()=>e.generateCertificate});}function sw(t){typeof t==\"object\"&&t.RTCTrackEvent&&\"receiver\"in t.RTCTrackEvent.prototype&&!(\"transceiver\"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,\"transceiver\",{get(){return {receiver:this.receiver}}});}function aw(t){let e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(n){if(n){n.offerToReceiveAudio!==void 0&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);let i=this.getTransceivers().find(o=>o.receiver.track.kind===\"audio\");n.offerToReceiveAudio===!1&&i?i.direction===\"sendrecv\"?i.setDirection?i.setDirection(\"sendonly\"):i.direction=\"sendonly\":i.direction===\"recvonly\"&&(i.setDirection?i.setDirection(\"inactive\"):i.direction=\"inactive\"):n.offerToReceiveAudio!==!0||i||this.addTransceiver(\"audio\",{direction:\"recvonly\"}),n.offerToReceiveVideo!==void 0&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);let r=this.getTransceivers().find(o=>o.receiver.track.kind===\"video\");n.offerToReceiveVideo===!1&&r?r.direction===\"sendrecv\"?r.setDirection?r.setDirection(\"sendonly\"):r.direction=\"sendonly\":r.direction===\"recvonly\"&&(r.setDirection?r.setDirection(\"inactive\"):r.direction=\"inactive\"):n.offerToReceiveVideo!==!0||r||this.addTransceiver(\"video\",{direction:\"recvonly\"});}return e.apply(this,arguments)};}function cw(t){typeof t!=\"object\"||t.AudioContext||(t.AudioContext=t.webkitAudioContext);}var IT=Object.freeze({__proto__:null,shimAudioContext:cw,shimCallbacksAPI:nw,shimConstraints:rw,shimCreateOfferLegacy:aw,shimGetUserMedia:iw,shimLocalStreamsAPI:tw,shimRTCIceServerUrls:ow,shimRemoteStreamsAPI:ew,shimTrackEventTransceiver:sw}),dw=`\t\n\\v\\f\\r \\xA0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF`,qU=la,zU=oi,dE=dw,vT=me(\"\".replace),JU=RegExp(\"^[\"+dE+\"]+\"),XU=RegExp(\"(^|[^\"+dE+\"])[\"+dE+\"]+$\"),Qh=function(t){return function(e){var n=zU(qU(e));return 1&t&&(n=vT(n,JU,\"\")),2&t&&(n=vT(n,XU,\"$1\")),n}},QU={start:Qh(1),end:Qh(2),trim:Qh(3)},ZU=tb.PROPER,$U=Se,yT=dw,t2=QU.trim;xt({target:\"String\",proto:!0,forced:function(t){return $U(function(){return !!yT[t]()||\"\\u200B\\x85\\u180E\"[t]()!==\"\\u200B\\x85\\u180E\"||ZU&&yT[t].name!==t})}(\"trim\")},{trim:function(){return t2(this)}});var e2=bi(\"String\").trim,n2=hn,i2=e2,Zh=String.prototype,r2=function(t){var e=t.trim;return typeof t==\"string\"||t===Zh||n2(Zh,t)&&e===Zh.trim?i2:e},rn=ae(r2),lw={exports:{}};(function(t){let e={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`\n`).map(i=>i.trim())},e.splitSections=function(n){return n.split(`\nm=`).map((i,r)=>(r>0?\"m=\"+i:i).trim()+`\\r\n`)},e.getDescription=function(n){let i=e.splitSections(n);return i&&i[0]},e.getMediaSections=function(n){let i=e.splitSections(n);return i.shift(),i},e.matchPrefix=function(n,i){return e.splitLines(n).filter(r=>r.indexOf(i)===0)},e.parseCandidate=function(n){let i;i=n.indexOf(\"a=candidate:\")===0?n.substring(12).split(\" \"):n.substring(10).split(\" \");let r={foundation:i[0],component:{1:\"rtp\",2:\"rtcp\"}[i[1]]||i[1],protocol:i[2].toLowerCase(),priority:parseInt(i[3],10),ip:i[4],address:i[4],port:parseInt(i[5],10),type:i[7]};for(let o=8;o<i.length;o+=2)switch(i[o]){case\"raddr\":r.relatedAddress=i[o+1];break;case\"rport\":r.relatedPort=parseInt(i[o+1],10);break;case\"tcptype\":r.tcpType=i[o+1];break;case\"ufrag\":r.ufrag=i[o+1],r.usernameFragment=i[o+1];break;default:r[i[o]]===void 0&&(r[i[o]]=i[o+1]);}return r},e.writeCandidate=function(n){let i=[];i.push(n.foundation);let r=n.component;r===\"rtp\"?i.push(1):r===\"rtcp\"?i.push(2):i.push(r),i.push(n.protocol.toUpperCase()),i.push(n.priority),i.push(n.address||n.ip),i.push(n.port);let o=n.type;return i.push(\"typ\"),i.push(o),o!==\"host\"&&n.relatedAddress&&n.relatedPort&&(i.push(\"raddr\"),i.push(n.relatedAddress),i.push(\"rport\"),i.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()===\"tcp\"&&(i.push(\"tcptype\"),i.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(i.push(\"ufrag\"),i.push(n.usernameFragment||n.ufrag)),\"candidate:\"+i.join(\" \")},e.parseIceOptions=function(n){return n.substring(14).split(\" \")},e.parseRtpMap=function(n){let i=n.substring(9).split(\" \"),r={payloadType:parseInt(i.shift(),10)};return i=i[0].split(\"/\"),r.name=i[0],r.clockRate=parseInt(i[1],10),r.channels=i.length===3?parseInt(i[2],10):1,r.numChannels=r.channels,r},e.writeRtpMap=function(n){let i=n.payloadType;n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType);let r=n.channels||n.numChannels||1;return \"a=rtpmap:\"+i+\" \"+n.name+\"/\"+n.clockRate+(r!==1?\"/\"+r:\"\")+`\\r\n`},e.parseExtmap=function(n){let i=n.substring(9).split(\" \");return {id:parseInt(i[0],10),direction:i[0].indexOf(\"/\")>0?i[0].split(\"/\")[1]:\"sendrecv\",uri:i[1],attributes:i.slice(2).join(\" \")}},e.writeExtmap=function(n){return \"a=extmap:\"+(n.id||n.preferredId)+(n.direction&&n.direction!==\"sendrecv\"?\"/\"+n.direction:\"\")+\" \"+n.uri+(n.attributes?\" \"+n.attributes:\"\")+`\\r\n`},e.parseFmtp=function(n){let i={},r,o=n.substring(n.indexOf(\" \")+1).split(\";\");for(let s=0;s<o.length;s++)r=o[s].trim().split(\"=\"),i[r[0].trim()]=r[1];return i},e.writeFmtp=function(n){let i=\"\",r=n.payloadType;if(n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){let o=[];Object.keys(n.parameters).forEach(s=>{n.parameters[s]!==void 0?o.push(s+\"=\"+n.parameters[s]):o.push(s);}),i+=\"a=fmtp:\"+r+\" \"+o.join(\";\")+`\\r\n`;}return i},e.parseRtcpFb=function(n){let i=n.substring(n.indexOf(\" \")+1).split(\" \");return {type:i.shift(),parameter:i.join(\" \")}},e.writeRtcpFb=function(n){let i=\"\",r=n.payloadType;return n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(o=>{i+=\"a=rtcp-fb:\"+r+\" \"+o.type+(o.parameter&&o.parameter.length?\" \"+o.parameter:\"\")+`\\r\n`;}),i},e.parseSsrcMedia=function(n){let i=n.indexOf(\" \"),r={ssrc:parseInt(n.substring(7,i),10)},o=n.indexOf(\":\",i);return o>-1?(r.attribute=n.substring(i+1,o),r.value=n.substring(o+1)):r.attribute=n.substring(i+1),r},e.parseSsrcGroup=function(n){let i=n.substring(13).split(\" \");return {semantics:i.shift(),ssrcs:i.map(r=>parseInt(r,10))}},e.getMid=function(n){let i=e.matchPrefix(n,\"a=mid:\")[0];if(i)return i.substring(6)},e.parseFingerprint=function(n){let i=n.substring(14).split(\" \");return {algorithm:i[0].toLowerCase(),value:i[1].toUpperCase()}},e.getDtlsParameters=function(n,i){return {role:\"auto\",fingerprints:e.matchPrefix(n+i,\"a=fingerprint:\").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,i){let r=\"a=setup:\"+i+`\\r\n`;return n.fingerprints.forEach(o=>{r+=\"a=fingerprint:\"+o.algorithm+\" \"+o.value+`\\r\n`;}),r},e.parseCryptoLine=function(n){let i=n.substring(9).split(\" \");return {tag:parseInt(i[0],10),cryptoSuite:i[1],keyParams:i[2],sessionParams:i.slice(3)}},e.writeCryptoLine=function(n){return \"a=crypto:\"+n.tag+\" \"+n.cryptoSuite+\" \"+(typeof n.keyParams==\"object\"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?\" \"+n.sessionParams.join(\" \"):\"\")+`\\r\n`},e.parseCryptoKeyParams=function(n){if(n.indexOf(\"inline:\")!==0)return null;let i=n.substring(7).split(\"|\");return {keyMethod:\"inline\",keySalt:i[0],lifeTime:i[1],mkiValue:i[2]?i[2].split(\":\")[0]:void 0,mkiLength:i[2]?i[2].split(\":\")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+\":\"+n.keySalt+(n.lifeTime?\"|\"+n.lifeTime:\"\")+(n.mkiValue&&n.mkiLength?\"|\"+n.mkiValue+\":\"+n.mkiLength:\"\")},e.getCryptoParameters=function(n,i){return e.matchPrefix(n+i,\"a=crypto:\").map(e.parseCryptoLine)},e.getIceParameters=function(n,i){let r=e.matchPrefix(n+i,\"a=ice-ufrag:\")[0],o=e.matchPrefix(n+i,\"a=ice-pwd:\")[0];return r&&o?{usernameFragment:r.substring(12),password:o.substring(10)}:null},e.writeIceParameters=function(n){let i=\"a=ice-ufrag:\"+n.usernameFragment+`\\r\na=ice-pwd:`+n.password+`\\r\n`;return n.iceLite&&(i+=`a=ice-lite\\r\n`),i},e.parseRtpParameters=function(n){let i={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=e.splitLines(n)[0].split(\" \");i.profile=r[2];for(let s=3;s<r.length;s++){let a=r[s],c=e.matchPrefix(n,\"a=rtpmap:\"+a+\" \")[0];if(c){let d=e.parseRtpMap(c),l=e.matchPrefix(n,\"a=fmtp:\"+a+\" \");switch(d.parameters=l.length?e.parseFmtp(l[0]):{},d.rtcpFeedback=e.matchPrefix(n,\"a=rtcp-fb:\"+a+\" \").map(e.parseRtcpFb),i.codecs.push(d),d.name.toUpperCase()){case\"RED\":case\"ULPFEC\":i.fecMechanisms.push(d.name.toUpperCase());}}}e.matchPrefix(n,\"a=extmap:\").forEach(s=>{i.headerExtensions.push(e.parseExtmap(s));});let o=e.matchPrefix(n,\"a=rtcp-fb:* \").map(e.parseRtcpFb);return i.codecs.forEach(s=>{o.forEach(a=>{s.rtcpFeedback.find(c=>c.type===a.type&&c.parameter===a.parameter)||s.rtcpFeedback.push(a);});}),i},e.writeRtpDescription=function(n,i){let r=\"\";r+=\"m=\"+n+\" \",r+=i.codecs.length>0?\"9\":\"0\",r+=\" \"+(i.profile||\"UDP/TLS/RTP/SAVPF\")+\" \",r+=i.codecs.map(s=>s.preferredPayloadType!==void 0?s.preferredPayloadType:s.payloadType).join(\" \")+`\\r\n`,r+=`c=IN IP4 0.0.0.0\\r\n`,r+=`a=rtcp:9 IN IP4 0.0.0.0\\r\n`,i.codecs.forEach(s=>{r+=e.writeRtpMap(s),r+=e.writeFmtp(s),r+=e.writeRtcpFb(s);});let o=0;return i.codecs.forEach(s=>{s.maxptime>o&&(o=s.maxptime);}),o>0&&(r+=\"a=maxptime:\"+o+`\\r\n`),i.headerExtensions&&i.headerExtensions.forEach(s=>{r+=e.writeExtmap(s);}),r},e.parseRtpEncodingParameters=function(n){let i=[],r=e.parseRtpParameters(n),o=r.fecMechanisms.indexOf(\"RED\")!==-1,s=r.fecMechanisms.indexOf(\"ULPFEC\")!==-1,a=e.matchPrefix(n,\"a=ssrc:\").map(h=>e.parseSsrcMedia(h)).filter(h=>h.attribute===\"cname\"),c=a.length>0&&a[0].ssrc,d,l=e.matchPrefix(n,\"a=ssrc-group:FID\").map(h=>h.substring(17).split(\" \").map(p=>parseInt(p,10)));l.length>0&&l[0].length>1&&l[0][0]===c&&(d=l[0][1]),r.codecs.forEach(h=>{if(h.name.toUpperCase()===\"RTX\"&&h.parameters.apt){let p={ssrc:c,codecPayloadType:parseInt(h.parameters.apt,10)};c&&d&&(p.rtx={ssrc:d}),i.push(p),o&&(p=JSON.parse(JSON.stringify(p)),p.fec={ssrc:c,mechanism:s?\"red+ulpfec\":\"red\"},i.push(p));}}),i.length===0&&c&&i.push({ssrc:c});let u=e.matchPrefix(n,\"b=\");return u.length&&(u=u[0].indexOf(\"b=TIAS:\")===0?parseInt(u[0].substring(7),10):u[0].indexOf(\"b=AS:\")===0?1e3*parseInt(u[0].substring(5),10)*.95-16e3:void 0,i.forEach(h=>{h.maxBitrate=u;})),i},e.parseRtcpParameters=function(n){let i={},r=e.matchPrefix(n,\"a=ssrc:\").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute===\"cname\")[0];r&&(i.cname=r.value,i.ssrc=r.ssrc);let o=e.matchPrefix(n,\"a=rtcp-rsize\");i.reducedSize=o.length>0,i.compound=o.length===0;let s=e.matchPrefix(n,\"a=rtcp-mux\");return i.mux=s.length>0,i},e.writeRtcpParameters=function(n){let i=\"\";return n.reducedSize&&(i+=`a=rtcp-rsize\\r\n`),n.mux&&(i+=`a=rtcp-mux\\r\n`),n.ssrc!==void 0&&n.cname&&(i+=\"a=ssrc:\"+n.ssrc+\" cname:\"+n.cname+`\\r\n`),i},e.parseMsid=function(n){let i,r=e.matchPrefix(n,\"a=msid:\");if(r.length===1)return i=r[0].substring(7).split(\" \"),{stream:i[0],track:i[1]};let o=e.matchPrefix(n,\"a=ssrc:\").map(s=>e.parseSsrcMedia(s)).filter(s=>s.attribute===\"msid\");return o.length>0?(i=o[0].value.split(\" \"),{stream:i[0],track:i[1]}):void 0},e.parseSctpDescription=function(n){let i=e.parseMLine(n),r=e.matchPrefix(n,\"a=max-message-size:\"),o;r.length>0&&(o=parseInt(r[0].substring(19),10)),isNaN(o)&&(o=65536);let s=e.matchPrefix(n,\"a=sctp-port:\");if(s.length>0)return {port:parseInt(s[0].substring(12),10),protocol:i.fmt,maxMessageSize:o};let a=e.matchPrefix(n,\"a=sctpmap:\");if(a.length>0){let c=a[0].substring(10).split(\" \");return {port:parseInt(c[0],10),protocol:c[1],maxMessageSize:o}}},e.writeSctpDescription=function(n,i){let r=[];return r=n.protocol!==\"DTLS/SCTP\"?[\"m=\"+n.kind+\" 9 \"+n.protocol+\" \"+i.protocol+`\\r\n`,`c=IN IP4 0.0.0.0\\r\n`,\"a=sctp-port:\"+i.port+`\\r\n`]:[\"m=\"+n.kind+\" 9 \"+n.protocol+\" \"+i.port+`\\r\n`,`c=IN IP4 0.0.0.0\\r\n`,\"a=sctpmap:\"+i.port+\" \"+i.protocol+` 65535\\r\n`],i.maxMessageSize!==void 0&&r.push(\"a=max-message-size:\"+i.maxMessageSize+`\\r\n`),r.join(\"\")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,i,r){let o,s=i!==void 0?i:2;return o=n||e.generateSessionId(),`v=0\\r\no=`+(r||\"thisisadapterortc\")+\" \"+o+\" \"+s+` IN IP4 127.0.0.1\\r\ns=-\\r\nt=0 0\\r\n`},e.getDirection=function(n,i){let r=e.splitLines(n);for(let o=0;o<r.length;o++)switch(r[o]){case\"a=sendrecv\":case\"a=sendonly\":case\"a=recvonly\":case\"a=inactive\":return r[o].substring(2)}return i?e.getDirection(i):\"sendrecv\"},e.getKind=function(n){return e.splitLines(n)[0].split(\" \")[0].substring(2)},e.isRejected=function(n){return n.split(\" \",2)[1]===\"0\"},e.parseMLine=function(n){let i=e.splitLines(n)[0].substring(2).split(\" \");return {kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(\" \")}},e.parseOLine=function(n){let i=e.matchPrefix(n,\"o=\")[0].substring(2).split(\" \");return {username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(n){if(typeof n!=\"string\"||n.length===0)return !1;let i=e.splitLines(n);for(let r=0;r<i.length;r++)if(i[r].length<2||i[r].charAt(1)!==\"=\")return !1;return !0},t.exports=e;})(lw);var uw=lw.exports,Bs=ae(uw),o2=yN({__proto__:null,default:Bs},[uw]);function dl(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&\"foundation\"in t.RTCIceCandidate.prototype)return;let e=t.RTCIceCandidate;t.RTCIceCandidate=function(n){if(typeof n==\"object\"&&n.candidate&&n.candidate.indexOf(\"a=\")===0&&((n=JSON.parse(JSON.stringify(n))).candidate=n.candidate.substr(2)),n.candidate&&n.candidate.length){let i=new e(n),r=Bs.parseCandidate(n.candidate),o=Object.assign(i,r);return o.toJSON=function(){return {candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new e(n)},t.RTCIceCandidate.prototype=e.prototype,ts(t,\"icecandidate\",n=>(n.candidate&&Object.defineProperty(n,\"candidate\",{value:new t.RTCIceCandidate(n.candidate),writable:\"false\"}),n));}function lE(t){!t.RTCIceCandidate||t.RTCIceCandidate&&\"relayProtocol\"in t.RTCIceCandidate.prototype||ts(t,\"icecandidate\",e=>{if(e.candidate){let n=Bs.parseCandidate(e.candidate.candidate);n.type===\"relay\"&&(e.candidate.relayProtocol={0:\"tls\",1:\"tcp\",2:\"udp\"}[n.priority>>24]);}return e});}function ll(t,e){if(!t.RTCPeerConnection)return;\"sctp\"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,\"sctp\",{get(){return this._sctp===void 0?null:this._sctp}});let n=function(a){if(!a||!a.sdp)return !1;let c=Bs.splitSections(a.sdp);return c.shift(),c.some(d=>{let l=Bs.parseMLine(d);return l&&l.kind===\"application\"&&l.protocol.indexOf(\"SCTP\")!==-1})},i=function(a){let c=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);if(c===null||c.length<2)return -1;let d=parseInt(c[1],10);return d!=d?-1:d},r=function(a){let c=65536;return e.browser===\"firefox\"&&(c=e.version<57?a===-1?16384:2147483637:e.version<60?e.version===57?65535:65536:2147483637),c},o=function(a,c){let d=65536;e.browser===\"firefox\"&&e.version===57&&(d=65535);let l=Bs.matchPrefix(a.sdp,\"a=max-message-size:\");return l.length>0?d=parseInt(l[0].substr(19),10):e.browser===\"firefox\"&&c!==-1&&(d=2147483637),d},s=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser===\"chrome\"&&e.version>=76){let{sdpSemantics:a}=this.getConfiguration();a===\"plan-b\"&&Object.defineProperty(this,\"sctp\",{get(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0});}if(n(arguments[0])){let a=i(arguments[0]),c=r(a),d=o(arguments[0],a),l;l=c===0&&d===0?Number.POSITIVE_INFINITY:c===0||d===0?Math.max(c,d):Math.min(c,d);let u={};Object.defineProperty(u,\"maxMessageSize\",{get:()=>l}),this._sctp=u;}return s.apply(this,arguments)};}function ul(t){if(!t.RTCPeerConnection||!(\"createDataChannel\"in t.RTCPeerConnection.prototype))return;function e(i,r){let o=i.send;i.send=function(){let s=arguments[0],a=s.length||s.size||s.byteLength;if(i.readyState===\"open\"&&r.sctp&&a>r.sctp.maxMessageSize)throw new TypeError(\"Message too large (can send a maximum of \"+r.sctp.maxMessageSize+\" bytes)\");return o.apply(i,arguments)};}let n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){let i=n.apply(this,arguments);return e(i,this),i},ts(t,\"datachannel\",i=>(e(i.channel,i.target),i));}function uE(t){if(!t.RTCPeerConnection||\"connectionState\"in t.RTCPeerConnection.prototype)return;let e=t.RTCPeerConnection.prototype;Object.defineProperty(e,\"connectionState\",{get(){return {completed:\"connected\",checking:\"connecting\"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,\"onconnectionstatechange\",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener(\"connectionstatechange\",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener(\"connectionstatechange\",this._onconnectionstatechange=n);},enumerable:!0,configurable:!0}),[\"setLocalDescription\",\"setRemoteDescription\"].forEach(n=>{let i=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=r=>{let o=r.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;let s=new Event(\"connectionstatechange\",r);o.dispatchEvent(s);}return r},this.addEventListener(\"iceconnectionstatechange\",this._connectionstatechangepoly)),i.apply(this,arguments)};});}function hE(t,e){if(!t.RTCPeerConnection||e.browser===\"chrome\"&&e.version>=71||e.browser===\"safari\"&&e.version>=605)return;let n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`\na=extmap-allow-mixed`)!==-1){let r=i.sdp.split(`\n`).filter(o=>rn(o).call(o)!==\"a=extmap-allow-mixed\").join(`\n`);t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:r}):i.sdp=r;}return n.apply(this,arguments)};}function hl(t,e){if(!t.RTCPeerConnection||!t.RTCPeerConnection.prototype)return;let n=t.RTCPeerConnection.prototype.addIceCandidate;n&&n.length!==0&&(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser===\"chrome\"&&e.version<78||e.browser===\"firefox\"&&e.version<68||e.browser===\"safari\")&&arguments[0]&&arguments[0].candidate===\"\"?j.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),j.resolve())});}function pl(t,e){if(!t.RTCPeerConnection||!t.RTCPeerConnection.prototype)return;let n=t.RTCPeerConnection.prototype.setLocalDescription;n&&n.length!==0&&(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!=\"object\"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case\"stable\":case\"have-local-offer\":case\"have-remote-pranswer\":i.type=\"offer\";break;default:i.type=\"answer\";}return i.sdp||i.type!==\"offer\"&&i.type!==\"answer\"?n.apply(this,[i]):(i.type===\"offer\"?this.createOffer:this.createAnswer).apply(this).then(r=>n.apply(this,[r]))});}var s2=Object.freeze({__proto__:null,removeExtmapAllowMixed:hE,shimAddIceCandidateNullOrEmpty:hl,shimConnectionState:uE,shimMaxMessageSize:ll,shimParameterlessSetLocalDescription:pl,shimRTCIceCandidate:dl,shimRTCIceCandidateRelayProtocol:lE,shimSendThrowTypeError:ul});(function(){let{window:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0},n=jA,i=function(o){let s={browser:null,version:null};if(o===void 0||!o.navigator)return s.browser=\"Not a browser.\",s;let{navigator:a}=o;if(a.mozGetUserMedia)s.browser=\"firefox\",s.version=hd(a.userAgent,/Firefox\\/(\\d+)\\./,1);else if(a.webkitGetUserMedia||o.isSecureContext===!1&&o.webkitRTCPeerConnection)s.browser=\"chrome\",s.version=hd(a.userAgent,/Chrom(e|ium)\\/(\\d+)\\./,2);else {if(!o.RTCPeerConnection||!a.userAgent.match(/AppleWebKit\\/(\\d+)\\./))return s.browser=\"Not a supported browser.\",s;s.browser=\"safari\",s.version=hd(a.userAgent,/AppleWebKit\\/(\\d+)\\./,1),s.supportsUnifiedPlan=o.RTCRtpTransceiver&&\"currentDirection\"in o.RTCRtpTransceiver.prototype;}return s}(t),r={browserDetails:i,commonShim:s2,extractVersion:hd,disableLog:rk,disableWarnings:ok,sdp:o2};switch(i.browser){case\"chrome\":if(!RT||!aE||!e.shimChrome)return n(\"Chrome shim is not included in this adapter release.\"),r;if(i.version===null)return n(\"Chrome shim can not determine version, not shimming.\"),r;n(\"adapter.js shimming chrome.\"),r.browserShim=RT,hl(t,i),pl(t),Mb(t,i),Ub(t),aE(t,i),xb(t),Gb(t,i),Vb(t),Fb(t),Bb(t),Wb(t,i),dl(t),lE(t),uE(t),ll(t,i),ul(t),hE(t,i);break;case\"firefox\":if(!CT||!cE||!e.shimFirefox)return n(\"Firefox shim is not included in this adapter release.\"),r;n(\"adapter.js shimming firefox.\"),r.browserShim=CT,hl(t,i),pl(t),Hb(t,i),cE(t,i),Kb(t),zb(t),Yb(t),qb(t),Jb(t),Xb(t),Qb(t),Zb(t),$b(t),dl(t),uE(t),ll(t,i),ul(t);break;case\"safari\":if(!IT||!e.shimSafari)return n(\"Safari shim is not included in this adapter release.\"),r;n(\"adapter.js shimming safari.\"),r.browserShim=IT,hl(t,i),pl(t),ow(t),aw(t),nw(t),tw(t),ew(t),sw(t),iw(t),cw(t),dl(t),lE(t),ll(t,i),ul(t),hE(t,i);break;default:n(\"Unsupported browser!\");}})({window:typeof window>\"u\"?void 0:window});var a2=bi(\"Array\").keys,c2=Er,d2=Je,l2=hn,u2=a2,$h=Array.prototype,h2={DOMTokenList:!0,NodeList:!0},p2=function(t){var e=t.keys;return t===$h||l2($h,t)&&e===$h.keys||d2(h2,c2(t))?u2:e},xn=ae(p2),AT=ha,_2=TypeError,E2=Ou,m2=Ai,f2=_o,Bu=function(t,e,n){var i=E2(e);i in t?m2.f(t,i,f2(0,n)):t[i]=n;},bT=Om,g2=Lr,T2=Bu,S2=Array,R2=Math.max,zm=function(t,e,n){for(var i=g2(t),r=bT(e,i),o=bT(n===void 0?i:n,i),s=S2(R2(o-r,0)),a=0;r<o;r++,a++)T2(s,a,t[r]);return s.length=a,s},wT=zm,C2=Math.floor,pE=function(t,e){var n=t.length,i=C2(n/2);return n<8?I2(t,e):v2(t,pE(wT(t,0,i),e),pE(wT(t,i),e),e)},I2=function(t,e){for(var n,i,r=t.length,o=1;o<r;){for(i=o,n=t[o];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==o++&&(t[i]=n);}return t},v2=function(t,e,n,i){for(var r=e.length,o=n.length,s=0,a=0;s<r||a<o;)t[s+a]=s<r&&a<o?i(e[s],n[a])<=0?e[s++]:n[a++]:s<r?e[s++]:n[a++];return t},hw=pE,OT=$o.match(/firefox\\/(\\d+)/i),y2=!!OT&&+OT[1],A2=/MSIE|Trident/.test($o),NT=$o.match(/AppleWebKit\\/(\\d+)\\./),b2=!!NT&&+NT[1],w2=xt,pw=me,O2=yi,N2=_r,DT=Lr,D2=function(t,e){if(!delete t[e])throw _2(\"Cannot delete property \"+AT(e)+\" of \"+AT(t))},PT=oi,Jm=Se,P2=hw,k2=Nu,kT=y2,L2=A2,LT=zo,MT=b2,Zr=[],UT=pw(Zr.sort),M2=pw(Zr.push),U2=Jm(function(){Zr.sort(void 0);}),x2=Jm(function(){Zr.sort(null);}),V2=k2(\"sort\"),xT=!Jm(function(){if(LT)return LT<70;if(!(kT&&kT>3)){if(L2)return !0;if(MT)return MT<603;var t,e,n,i,r=\"\";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2;}for(i=0;i<47;i++)Zr.push({k:e+i,v:n});}for(Zr.sort(function(o,s){return s.v-o.v}),i=0;i<Zr.length;i++)e=Zr[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return r!==\"DGBEFHACIJK\"}});w2({target:\"Array\",proto:!0,forced:U2||!x2||!V2||!xT},{sort:function(t){t!==void 0&&O2(t);var e=N2(this);if(xT)return t===void 0?UT(e):UT(e,t);var n,i,r=[],o=DT(e);for(i=0;i<o;i++)i in e&&M2(r,e[i]);for(P2(r,function(s){return function(a,c){return c===void 0?-1:a===void 0?1:s!==void 0?+s(a,c)||0:PT(a)>PT(c)?1:-1}}(t)),n=DT(r),i=0;i<n;)e[i]=r[i++];for(;i<o;)D2(e,i++);return e}});var tp,ep,F2=bi(\"Array\").sort,B2=hn,j2=F2,np=Array.prototype,G2=function(t){var e=t.sort;return t===np||B2(np,t)&&e===np.sort?j2:e},ed=ae(G2),_E={exports:{}};tp=_E,ep=_E.exports,function(t,e){var n=\"function\",i=\"undefined\",r=\"object\",o=\"string\",s=\"major\",a=\"model\",c=\"name\",d=\"type\",l=\"vendor\",u=\"version\",h=\"architecture\",p=\"console\",g=\"mobile\",E=\"tablet\",f=\"smarttv\",S=\"wearable\",C=\"embedded\",A=\"Amazon\",b=\"Apple\",w=\"ASUS\",D=\"BlackBerry\",k=\"Browser\",B=\"Chrome\",V=\"Firefox\",z=\"Google\",lt=\"Huawei\",vt=\"LG\",Dt=\"Microsoft\",ce=\"Motorola\",Wt=\"Opera\",si=\"Samsung\",L=\"Sharp\",F=\"Sony\",Y=\"Xiaomi\",M=\"Zebra\",m=\"Facebook\",I=\"Chromium OS\",y=\"Mac OS\",x=function(ee){for(var _e={},Bt=0;Bt<ee.length;Bt++)_e[ee[Bt].toUpperCase()]=ee[Bt];return _e},rt=function(ee,_e){return typeof ee===o&&bt(_e).indexOf(bt(ee))!==-1},bt=function(ee){return ee.toLowerCase()},Re=function(ee,_e){if(typeof ee===o)return ee=ee.replace(/^\\s\\s*/,\"\"),typeof _e===i?ee:ee.substring(0,350)},fn=function(ee,_e){for(var Bt,vn,Ki,ne,gt,gn,Ur=0;Ur<_e.length&&!gt;){var Oi=_e[Ur],Jf=_e[Ur+1];for(Bt=vn=0;Bt<Oi.length&&!gt&&Oi[Bt];)if(gt=Oi[Bt++].exec(ee))for(Ki=0;Ki<Jf.length;Ki++)gn=gt[++vn],typeof(ne=Jf[Ki])===r&&ne.length>0?ne.length===2?typeof ne[1]==n?this[ne[0]]=ne[1].call(this,gn):this[ne[0]]=ne[1]:ne.length===3?typeof ne[1]!==n||ne[1].exec&&ne[1].test?this[ne[0]]=gn?gn.replace(ne[1],ne[2]):e:this[ne[0]]=gn?ne[1].call(this,gn,ne[2]):e:ne.length===4&&(this[ne[0]]=gn?ne[3].call(this,gn.replace(ne[1],ne[2])):e):this[ne]=gn||e;Ur+=2;}},gr=function(ee,_e){for(var Bt in _e)if(typeof _e[Bt]===r&&_e[Bt].length>0){for(var vn=0;vn<_e[Bt].length;vn++)if(rt(_e[Bt][vn],ee))return Bt===\"?\"?e:Bt}else if(rt(_e[Bt],ee))return Bt===\"?\"?e:Bt;return ee},sd={ME:\"4.90\",\"NT 3.11\":\"NT3.51\",\"NT 4.0\":\"NT4.0\",2e3:\"NT 5.0\",XP:[\"NT 5.1\",\"NT 5.2\"],Vista:\"NT 6.0\",7:\"NT 6.1\",8:\"NT 6.2\",8.1:\"NT 6.3\",10:[\"NT 6.4\",\"NT 10.0\"],RT:\"ARM\"},ad={browser:[[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i],[u,[c,\"Chrome\"]],[/edg(?:e|ios|a)?\\/([\\w\\.]+)/i],[u,[c,\"Edge\"]],[/(opera mini)\\/([-\\w\\.]+)/i,/(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,/(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i],[c,u],[/opios[\\/ ]+([\\w\\.]+)/i],[u,[c,Wt+\" Mini\"]],[/\\bopr\\/([\\w\\.]+)/i],[u,[c,Wt]],[/(kindle)\\/([\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,/(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,/(?:ms|\\()(ie) ([\\w\\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,/(weibo)__([\\d\\.]+)/i],[c,u],[/(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i],[u,[c,\"UC\"+k]],[/microm.+\\bqbcore\\/([\\w\\.]+)/i,/\\bqbcore\\/([\\w\\.]+).+microm/i],[u,[c,\"WeChat(Win) Desktop\"]],[/micromessenger\\/([\\w\\.]+)/i],[u,[c,\"WeChat\"]],[/konqueror\\/([\\w\\.]+)/i],[u,[c,\"Konqueror\"]],[/trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i],[u,[c,\"IE\"]],[/yabrowser\\/([\\w\\.]+)/i],[u,[c,\"Yandex\"]],[/(avast|avg)\\/([\\w\\.]+)/i],[[c,/(.+)/,\"$1 Secure \"+k],u],[/\\bfocus\\/([\\w\\.]+)/i],[u,[c,V+\" Focus\"]],[/\\bopt\\/([\\w\\.]+)/i],[u,[c,Wt+\" Touch\"]],[/coc_coc\\w+\\/([\\w\\.]+)/i],[u,[c,\"Coc Coc\"]],[/dolfin\\/([\\w\\.]+)/i],[u,[c,\"Dolphin\"]],[/coast\\/([\\w\\.]+)/i],[u,[c,Wt+\" Coast\"]],[/miuibrowser\\/([\\w\\.]+)/i],[u,[c,\"MIUI \"+k]],[/fxios\\/([-\\w\\.]+)/i],[u,[c,V]],[/\\bqihu|(qi?ho?o?|360)browser/i],[[c,\"360 \"+k]],[/(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i],[[c,/(.+)/,\"$1 \"+k],u],[/(comodo_dragon)\\/([\\w\\.]+)/i],[[c,/_/g,\" \"],u],[/(electron)\\/([\\w\\.]+) safari/i,/(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i],[c,u],[/(metasr)[\\/ ]?([\\w\\.]+)/i,/(lbbrowser)/i,/\\[(linkedin)app\\]/i],[c],[/((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i],[[c,m],u],[/(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,/(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,/safari (line)\\/([\\w\\.]+)/i,/\\b(line)\\/([\\w\\.]+)\\/iab/i,/(chromium|instagram)[\\/ ]([-\\w\\.]+)/i],[c,u],[/\\bgsa\\/([\\w\\.]+) .*safari\\//i],[u,[c,\"GSA\"]],[/headlesschrome(?:\\/([\\w\\.]+)| )/i],[u,[c,B+\" Headless\"]],[/ wv\\).+(chrome)\\/([\\w\\.]+)/i],[[c,B+\" WebView\"],u],[/droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i],[u,[c,\"Android \"+k]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i],[c,u],[/version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i],[u,[c,\"Mobile Safari\"]],[/version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i],[u,c],[/webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i],[c,[u,gr,{\"1.0\":\"/8\",1.2:\"/1\",1.3:\"/3\",\"2.0\":\"/412\",\"2.0.2\":\"/416\",\"2.0.3\":\"/417\",\"2.0.4\":\"/419\",\"?\":\"/\"}]],[/(webkit|khtml)\\/([\\w\\.]+)/i],[c,u],[/(navigator|netscape\\d?)\\/([-\\w\\.]+)/i],[[c,\"Netscape\"],u],[/mobile vr; rv:([\\w\\.]+)\\).+firefox/i],[u,[c,V+\" Reality\"]],[/ekiohf.+(flow)\\/([\\w\\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,/(firefox)\\/([\\w\\.]+)/i,/(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,/(links) \\(([\\w\\.]+)/i,/panasonic;(viera)/i],[c,u],[/(cobalt)\\/([\\w\\.]+)/i],[c,[u,/master.|lts./,\"\"]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i],[[h,\"amd64\"]],[/(ia32(?=;))/i],[[h,bt]],[/((?:i[346]|x)86)[;\\)]/i],[[h,\"ia32\"]],[/\\b(aarch64|arm(v?8e?l?|_?64))\\b/i],[[h,\"arm64\"]],[/\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i],[[h,\"armhf\"]],[/windows (ce|mobile); ppc;/i],[[h,\"arm\"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i],[[h,/ower/,\"\",bt]],[/(sun4\\w)[;\\)]/i],[[h,\"sparc\"]],[/((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i],[[h,bt]]],device:[[/\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i],[a,[l,si],[d,E]],[/\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,/samsung[- ]([-\\w]+)/i,/sec-(sgh\\w+)/i],[a,[l,si],[d,g]],[/\\((ip(?:hone|od)[\\w ]*);/i],[a,[l,b],[d,g]],[/\\((ipad);[-\\w\\),; ]+apple/i,/applecoremedia\\/[\\w\\.]+ \\((ipad)/i,/\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i],[a,[l,b],[d,E]],[/(macintosh);/i],[a,[l,b]],[/\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i],[a,[l,L],[d,g]],[/\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i],[a,[l,lt],[d,E]],[/(?:huawei|honor)([-\\w ]+)[;\\)]/i,/\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i],[a,[l,lt],[d,g]],[/\\b(poco[\\w ]+)(?: bui|\\))/i,/\\b; (\\w+) build\\/hm\\1/i,/\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,/\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,/\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i],[[a,/_/g,\" \"],[l,Y],[d,g]],[/\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i],[[a,/_/g,\" \"],[l,Y],[d,E]],[/; (\\w+) bui.+ oppo/i,/\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i],[a,[l,\"OPPO\"],[d,g]],[/vivo (\\w+)(?: bui|\\))/i,/\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i],[a,[l,\"Vivo\"],[d,g]],[/\\b(rmx[12]\\d{3})(?: bui|;|\\))/i],[a,[l,\"Realme\"],[d,g]],[/\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,/\\bmot(?:orola)?[- ](\\w*)/i,/((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i],[a,[l,ce],[d,g]],[/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i],[a,[l,ce],[d,E]],[/((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i],[a,[l,vt],[d,E]],[/(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,/\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,/\\blg-?([\\d\\w]+) bui/i],[a,[l,vt],[d,g]],[/(ideatab[-\\w ]+)/i,/lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i],[a,[l,\"Lenovo\"],[d,E]],[/(?:maemo|nokia).*(n900|lumia \\d+)/i,/nokia[-_ ]?([-\\w\\.]*)/i],[[a,/_/g,\" \"],[l,\"Nokia\"],[d,g]],[/(pixel c)\\b/i],[a,[l,z],[d,E]],[/droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i],[a,[l,z],[d,g]],[/droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i],[a,[l,F],[d,g]],[/sony tablet [ps]/i,/\\b(?:sony)?sgp\\w+(?: bui|\\))/i],[[a,\"Xperia Tablet\"],[l,F],[d,E]],[/ (kb2005|in20[12]5|be20[12][59])\\b/i,/(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i],[a,[l,\"OnePlus\"],[d,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\\))/i,/(kf[a-z]+)( bui|\\)).+silk\\//i],[a,[l,A],[d,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i],[[a,/(.+)/g,\"Fire Phone $1\"],[l,A],[d,g]],[/(playbook);[-\\w\\),; ]+(rim)/i],[a,l,[d,E]],[/\\b((?:bb[a-f]|st[hv])100-\\d)/i,/\\(bb10; (\\w+)/i],[a,[l,D],[d,g]],[/(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i],[a,[l,w],[d,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i],[a,[l,w],[d,g]],[/(nexus 9)/i],[a,[l,\"HTC\"],[d,E]],[/(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,/(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i],[l,[a,/_/g,\" \"],[d,g]],[/droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i],[a,[l,\"Acer\"],[d,E]],[/droid.+; (m[1-5] note) bui/i,/\\bmz-([-\\w]{2,})/i],[a,[l,\"Meizu\"],[d,g]],[/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,/(hp) ([\\w ]+\\w)/i,/(asus)-?(\\w+)/i,/(microsoft); (lumia[\\w ]+)/i,/(lenovo)[-_ ]?([-\\w]+)/i,/(jolla)/i,/(oppo) ?([\\w ]+) bui/i],[l,a,[d,g]],[/(kobo)\\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\\/([\\w\\.]+)/i,/(nook)[\\w ]+build\\/(\\w+)/i,/(dell) (strea[kpr\\d ]*[\\dko])/i,/(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,/(trinity)[- ]*(t\\d{3}) bui/i,/(gigaset)[- ]+(q\\w{1,9}) bui/i,/(vodafone) ([\\w ]+)(?:\\)| bui)/i],[l,a,[d,E]],[/(surface duo)/i],[a,[l,Dt],[d,E]],[/droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i],[a,[l,\"Fairphone\"],[d,g]],[/(u304aa)/i],[a,[l,\"AT&T\"],[d,g]],[/\\bsie-(\\w*)/i],[a,[l,\"Siemens\"],[d,g]],[/\\b(rct\\w+) b/i],[a,[l,\"RCA\"],[d,E]],[/\\b(venue[\\d ]{2,7}) b/i],[a,[l,\"Dell\"],[d,E]],[/\\b(q(?:mv|ta)\\w+) b/i],[a,[l,\"Verizon\"],[d,E]],[/\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i],[a,[l,\"Barnes & Noble\"],[d,E]],[/\\b(tm\\d{3}\\w+) b/i],[a,[l,\"NuVision\"],[d,E]],[/\\b(k88) b/i],[a,[l,\"ZTE\"],[d,E]],[/\\b(nx\\d{3}j) b/i],[a,[l,\"ZTE\"],[d,g]],[/\\b(gen\\d{3}) b.+49h/i],[a,[l,\"Swiss\"],[d,g]],[/\\b(zur\\d{3}) b/i],[a,[l,\"Swiss\"],[d,E]],[/\\b((zeki)?tb.*\\b) b/i],[a,[l,\"Zeki\"],[d,E]],[/\\b([yr]\\d{2}) b/i,/\\b(dragon[- ]+touch |dt)(\\w{5}) b/i],[[l,\"Dragon Touch\"],a,[d,E]],[/\\b(ns-?\\w{0,9}) b/i],[a,[l,\"Insignia\"],[d,E]],[/\\b((nxa|next)-?\\w{0,9}) b/i],[a,[l,\"NextBook\"],[d,E]],[/\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[l,\"Voice\"],a,[d,g]],[/\\b(lvtel\\-)?(v1[12]) b/i],[[l,\"LvTel\"],a,[d,g]],[/\\b(ph-1) /i],[a,[l,\"Essential\"],[d,g]],[/\\b(v(100md|700na|7011|917g).*\\b) b/i],[a,[l,\"Envizen\"],[d,E]],[/\\b(trio[-\\w\\. ]+) b/i],[a,[l,\"MachSpeed\"],[d,E]],[/\\btu_(1491) b/i],[a,[l,\"Rotor\"],[d,E]],[/(shield[\\w ]+) b/i],[a,[l,\"Nvidia\"],[d,E]],[/(sprint) (\\w+)/i],[l,a,[d,g]],[/(kin\\.[onetw]{3})/i],[[a,/\\./g,\" \"],[l,Dt],[d,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i],[a,[l,M],[d,E]],[/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i],[a,[l,M],[d,g]],[/smart-tv.+(samsung)/i],[l,[d,f]],[/hbbtv.+maple;(\\d+)/i],[[a,/^/,\"SmartTV\"],[l,si],[d,f]],[/(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i],[[l,vt],[d,f]],[/(apple) ?tv/i],[l,[a,b+\" TV\"],[d,f]],[/crkey/i],[[a,B+\"cast\"],[l,z],[d,f]],[/droid.+aft(\\w)( bui|\\))/i],[a,[l,A],[d,f]],[/\\(dtv[\\);].+(aquos)/i,/(aquos-tv[\\w ]+)\\)/i],[a,[l,L],[d,f]],[/(bravia[\\w ]+)( bui|\\))/i],[a,[l,F],[d,f]],[/(mitv-\\w{5}) bui/i],[a,[l,Y],[d,f]],[/Hbbtv.*(technisat) (.*);/i],[l,a,[d,f]],[/\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,/hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i],[[l,Re],[a,Re],[d,f]],[/\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i],[[d,f]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[l,a,[d,p]],[/droid.+; (shield) bui/i],[a,[l,\"Nvidia\"],[d,p]],[/(playstation [345portablevi]+)/i],[a,[l,F],[d,p]],[/\\b(xbox(?: one)?(?!; xbox))[\\); ]/i],[a,[l,Dt],[d,p]],[/((pebble))app/i],[l,a,[d,S]],[/(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i],[a,[l,b],[d,S]],[/droid.+; (glass) \\d/i],[a,[l,z],[d,S]],[/droid.+; (wt63?0{2,3})\\)/i],[a,[l,M],[d,S]],[/(quest( 2| pro)?)/i],[a,[l,m],[d,S]],[/(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i],[l,[d,C]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i],[a,[d,g]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i],[a,[d,E]],[/\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i],[[d,E]],[/(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i],[[d,g]],[/(android[-\\w\\. ]{0,9});.+buil/i],[a,[l,\"Generic\"]]],engine:[[/windows.+ edge\\/([\\w\\.]+)/i],[u,[c,\"EdgeHTML\"]],[/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i],[u,[c,\"Blink\"]],[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,/ekioh(flow)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,/(icab)[\\/ ]([23]\\.[\\d\\.]+)/i],[c,u],[/rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i],[u,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,u],[/(windows) nt 6\\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,/(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i],[c,[u,gr,sd]],[/(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i],[[c,\"Windows\"],[u,gr,sd]],[/ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,/cfnetwork\\/.+darwin/i],[[u,/_/g,\".\"],[c,\"iOS\"]],[/(mac os x) ?([\\w\\. ]*)/i,/(macintosh|mac_powerpc\\b)(?!.+haiku)/i],[[c,y],[u,/_/g,\".\"]],[/droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i],[u,c],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,/(blackberry)\\w*\\/([\\w\\.]*)/i,/(tizen|kaios)[\\/ ]([\\w\\.]+)/i,/\\((series40);/i],[c,u],[/\\(bb(10);/i],[u,[c,D]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i],[u,[c,\"Symbian\"]],[/mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i],[u,[c,V+\" OS\"]],[/web0s;.+rt(tv)/i,/\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i],[u,[c,\"webOS\"]],[/watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i],[u,[c,\"watchOS\"]],[/crkey\\/([\\d\\.]+)/i],[u,[c,B+\"cast\"]],[/(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i],[[c,I],u],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\\/(\\d+\\.[\\w\\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\\);]+)/i,/\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,/(mint)[\\/\\(\\) ]?(\\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,/(hurd|linux) ?([\\w\\.]*)/i,/(gnu) ?([\\w\\.]*)/i,/\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,/(haiku) (\\w+)/i],[c,u],[/(sunos) ?([\\w\\.\\d]*)/i],[[c,\"Solaris\"],u],[/((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,/(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,/\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\\w\\.]*)/i],[c,u]]},qn=function(ee,_e){if(typeof ee===r&&(_e=ee,ee=e),!(this instanceof qn))return new qn(ee,_e).getResult();var Bt=typeof t!==i&&t.navigator?t.navigator:e,vn=ee||(Bt&&Bt.userAgent?Bt.userAgent:\"\"),Ki=Bt&&Bt.userAgentData?Bt.userAgentData:e,ne=_e?function(gt,gn){var Ur={};for(var Oi in gt)gn[Oi]&&gn[Oi].length%2==0?Ur[Oi]=gn[Oi].concat(gt[Oi]):Ur[Oi]=gt[Oi];return Ur}(ad,_e):ad;return this.getBrowser=function(){var gt={};return gt[c]=e,gt[u]=e,fn.call(gt,vn,ne.browser),gt[s]=function(gn){return typeof gn===o?gn.replace(/[^\\d\\.]/g,\"\").split(\".\")[0]:e}(gt[u]),Bt&&Bt.brave&&typeof Bt.brave.isBrave==n&&(gt[c]=\"Brave\"),gt},this.getCPU=function(){var gt={};return gt[h]=e,fn.call(gt,vn,ne.cpu),gt},this.getDevice=function(){var gt={};return gt[l]=e,gt[a]=e,gt[d]=e,fn.call(gt,vn,ne.device),!gt[d]&&Ki&&Ki.mobile&&(gt[d]=g),gt[a]==\"Macintosh\"&&Bt&&typeof Bt.standalone!==i&&Bt.maxTouchPoints&&Bt.maxTouchPoints>2&&(gt[a]=\"iPad\",gt[d]=E),gt},this.getEngine=function(){var gt={};return gt[c]=e,gt[u]=e,fn.call(gt,vn,ne.engine),gt},this.getOS=function(){var gt={};return gt[c]=e,gt[u]=e,fn.call(gt,vn,ne.os),!gt[c]&&Ki&&Ki.platform!=\"Unknown\"&&(gt[c]=Ki.platform.replace(/chrome os/i,I).replace(/macos/i,y)),gt},this.getResult=function(){return {ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return vn},this.setUA=function(gt){return vn=typeof gt===o&&gt.length>350?Re(gt,350):gt,this},this.setUA(vn),this};qn.VERSION=\"0.7.34\",qn.BROWSER=x([c,u,s]),qn.CPU=x([h]),qn.DEVICE=x([a,l,d,p,g,f,E,S,C]),qn.ENGINE=qn.OS=x([c,u]),tp.exports&&(ep=tp.exports=qn),ep.UAParser=qn;var Mr=typeof t!==i&&(t.jQuery||t.Zepto);if(Mr&&!Mr.ua){var rs=new qn;Mr.ua=rs.getResult(),Mr.ua.get=function(){return rs.getUA()},Mr.ua.set=function(ee){rs.setUA(ee);var _e=rs.getResult();for(var Bt in _e)Mr.ua[Bt]=_e[Bt];};}}(typeof window==\"object\"?window:Vs);var W2=ae(_E.exports),H2=Er,K2=Je,Y2=da,q2=es,z2=pe(\"iterator\"),J2=Object,X2=function(t){if(Y2(t))return !1;var e=J2(t);return e[z2]!==void 0||\"@@iterator\"in e||K2(q2,H2(e))},Q2=ae(X2),ip=We;xt({global:!0,forced:ip.globalThis!==ip},{globalThis:ip});var VT=ae(We);function _w(t,e){return function(){return t.apply(e,arguments)}}var{toString:Z2}=Object.prototype,{getPrototypeOf:Xm}=Object,Ml=(rp=Object.create(null),t=>{let e=Z2.call(t);return rp[e]||(rp[e]=e.slice(8,-1).toLowerCase())}),rp,fr=t=>(t=t.toLowerCase(),e=>Ml(e)===t),ju=t=>e=>typeof e===t,{isArray:Is}=Array,Wa=ju(\"undefined\"),FT=fr(\"ArrayBuffer\"),$2=ju(\"string\"),ai=ju(\"function\"),BT=ju(\"number\"),Td=t=>t!==null&&typeof t==\"object\",Sd=t=>{if(Ml(t)!==\"object\")return !1;let e=Xm(t);return !(e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.toStringTag in t||Q2(t))},tx=fr(\"Date\"),ex=fr(\"File\"),nx=fr(\"Blob\"),ix=fr(\"FileList\"),rx=fr(\"URLSearchParams\");function Ha(t,e){let n,i,{allOwnKeys:r=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t!=null)if(typeof t!=\"object\"&&(t=[t]),Is(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else {let o=r?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length,a;for(n=0;n<s;n++)a=o[n],e.call(null,t[a],a,t);}}function jT(t,e){e=e.toLowerCase();let n=Object.keys(t),i,r=n.length;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}var Ew=VT!==void 0?VT:typeof self<\"u\"?self:typeof window<\"u\"?window:global,GT=t=>!Wa(t)&&t!==Ew,ox=(op=typeof Uint8Array<\"u\"&&Xm(Uint8Array),t=>op&&t instanceof op),op,sx=fr(\"HTMLFormElement\"),WT=(t=>{let{hasOwnProperty:e}=t;return (n,i)=>e.call(n,i)})(Object.prototype),ax=fr(\"RegExp\"),HT=(t,e)=>{let n=Object.getOwnPropertyDescriptors(t),i={};Ha(n,(r,o)=>{let s;(s=e(r,o,t))!==!1&&(i[o]=s||r);}),Object.defineProperties(t,i);},sp=\"abcdefghijklmnopqrstuvwxyz\",KT=\"0123456789\",YT={DIGIT:KT,ALPHA:sp,ALPHA_DIGIT:sp+sp.toUpperCase()+KT},cx=fr(\"AsyncFunction\"),K={isArray:Is,isArrayBuffer:FT,isBuffer:function(t){return t!==null&&!Wa(t)&&t.constructor!==null&&!Wa(t.constructor)&&ai(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&(typeof FormData==\"function\"&&t instanceof FormData||ai(t.append)&&((e=Ml(t))===\"formdata\"||e===\"object\"&&ai(t.toString)&&t.toString()===\"[object FormData]\"))},isArrayBufferView:function(t){let e;return e=typeof ArrayBuffer<\"u\"&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&FT(t.buffer),e},isString:$2,isNumber:BT,isBoolean:t=>t===!0||t===!1,isObject:Td,isPlainObject:Sd,isUndefined:Wa,isDate:tx,isFile:ex,isBlob:nx,isRegExp:ax,isFunction:ai,isStream:t=>Td(t)&&ai(t.pipe),isURLSearchParams:rx,isTypedArray:ox,isFileList:ix,forEach:Ha,merge:function t(){let{caseless:e}=GT(this)&&this||{},n={},i=(r,o)=>{let s=e&&jT(n,o)||o;Sd(n[s])&&Sd(r)?n[s]=t(n[s],r):Sd(r)?n[s]=t({},r):Is(r)?n[s]=r.slice():n[s]=r;};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Ha(arguments[r],i);return n},extend:function(t,e,n){let{allOwnKeys:i}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Ha(e,(r,o)=>{n&&ai(r)?t[o]=_w(r,n):t[o]=r;},{allOwnKeys:i}),t},trim:t=>rn(t)?rn(t).call(t):t.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\"\"),stripBOM:t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),inherits:(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,\"super\",{value:e.prototype}),n&&Object.assign(t.prototype,n);},toFlatObject:(t,e,n,i)=>{let r,o,s,a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)s=r[o],i&&!i(s,t,e)||a[s]||(e[s]=t[s],a[s]=!0);t=n!==!1&&Xm(t);}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:Ml,kindOfTest:fr,endsWith:(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;let i=t.indexOf(e,n);return i!==-1&&i===n},toArray:t=>{if(!t)return null;if(Is(t))return t;let e=t.length;if(!BT(e))return null;let n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{let n=(t&&t[Symbol.iterator]).call(t),i;for(;(i=n.next())&&!i.done;){let r=i.value;e.call(t,r[0],r[1]);}},matchAll:(t,e)=>{let n,i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},isHTMLForm:sx,hasOwnProperty:WT,hasOwnProp:WT,reduceDescriptors:HT,freezeMethods:t=>{HT(t,(e,n)=>{if(ai(t)&&[\"arguments\",\"caller\",\"callee\"].indexOf(n)!==-1)return !1;let i=t[n];ai(i)&&(e.enumerable=!1,\"writable\"in e?e.writable=!1:e.set||(e.set=()=>{throw Error(\"Can not rewrite read-only method '\"+n+\"'\")}));});},toObjectSet:(t,e)=>{let n={},i=r=>{r.forEach(o=>{n[o]=!0;});};return Is(t)?i(t):i(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,function(e,n,i){return n.toUpperCase()+i}),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:jT,global:Ew,isContextDefined:GT,ALPHABET:YT,generateString:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:YT.ALPHA_DIGIT,n=\"\",{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n},isSpecCompliantForm:function(t){return !!(t&&ai(t.append)&&t[Symbol.toStringTag]===\"FormData\"&&t[Symbol.iterator])},toJSONObject:t=>{let e=new Array(10),n=(i,r)=>{if(Td(i)){if(e.indexOf(i)>=0)return;if(!(\"toJSON\"in i)){e[r]=i;let o=Is(i)?[]:{};return Ha(i,(s,a)=>{let c=n(s,r+1);!Wa(c)&&(o[a]=c);}),e[r]=void 0,o}}return i};return n(t,0)},isAsyncFn:cx,isThenable:t=>t&&(Td(t)||ai(t))&&ai(t.then)&&ai(t.catch)};function qt(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name=\"AxiosError\",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r);}K.inherits(qt,Error,{toJSON:function(){return {message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var qT=qt.prototype,zT={};[\"ERR_BAD_OPTION_VALUE\",\"ERR_BAD_OPTION\",\"ECONNABORTED\",\"ETIMEDOUT\",\"ERR_NETWORK\",\"ERR_FR_TOO_MANY_REDIRECTS\",\"ERR_DEPRECATED\",\"ERR_BAD_RESPONSE\",\"ERR_BAD_REQUEST\",\"ERR_CANCELED\",\"ERR_NOT_SUPPORT\",\"ERR_INVALID_URL\"].forEach(t=>{zT[t]={value:t};}),Object.defineProperties(qt,zT),Object.defineProperty(qT,\"isAxiosError\",{value:!0}),qt.from=(t,e,n,i,r,o)=>{let s=Object.create(qT);return K.toFlatObject(t,s,function(a){return a!==Error.prototype},a=>a!==\"isAxiosError\"),qt.call(s,t.message,e,n,i,r),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};function ap(t){return K.isPlainObject(t)||K.isArray(t)}function mw(t){return K.endsWith(t,\"[]\")?t.slice(0,-2):t}function JT(t,e,n){return t?t.concat(e).map(function(i,r){return i=mw(i),!n&&r?\"[\"+i+\"]\":i}).join(n?\".\":\"\"):e}var dx=K.toFlatObject(K,{},null,function(t){return /^is[A-Z]/.test(t)});function Ul(t,e,n){if(!K.isObject(t))throw new TypeError(\"target must be an object\");e=e||new FormData;let i=(n=K.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,p){return !K.isUndefined(p[h])})).metaTokens,r=n.visitor||d,o=n.dots,s=n.indexes,a=(n.Blob||typeof Blob<\"u\"&&Blob)&&K.isSpecCompliantForm(e);if(!K.isFunction(r))throw new TypeError(\"visitor must be a function\");function c(h){if(h===null)return \"\";if(K.isDate(h))return h.toISOString();if(!a&&K.isBlob(h))throw new qt(\"Blob is not supported. Use a Buffer instead.\");return K.isArrayBuffer(h)||K.isTypedArray(h)?a&&typeof Blob==\"function\"?new Blob([h]):Buffer.from(h):h}function d(h,p,g){let E=h;if(h&&!g&&typeof h==\"object\"){if(K.endsWith(p,\"{}\"))p=i?p:p.slice(0,-2),h=JSON.stringify(h);else if(K.isArray(h)&&function(f){return K.isArray(f)&&!f.some(ap)}(h)||(K.isFileList(h)||K.endsWith(p,\"[]\"))&&(E=K.toArray(h)))return p=mw(p),E.forEach(function(f,S){!K.isUndefined(f)&&f!==null&&e.append(s===!0?JT([p],S,o):s===null?p:p+\"[]\",c(f));}),!1}return !!ap(h)||(e.append(JT(g,p,o),c(h)),!1)}let l=[],u=Object.assign(dx,{defaultVisitor:d,convertValue:c,isVisitable:ap});if(!K.isObject(t))throw new TypeError(\"data must be an object\");return function h(p,g){if(!K.isUndefined(p)){if(l.indexOf(p)!==-1)throw Error(\"Circular reference detected in \"+g.join(\".\"));l.push(p),K.forEach(p,function(E,f){(!(K.isUndefined(E)||E===null)&&r.call(e,E,K.isString(f)?rn(f).call(f):f,g,u))===!0&&h(E,g?g.concat(f):[f]);}),l.pop();}}(t),e}function XT(t){let e={\"!\":\"%21\",\"'\":\"%27\",\"(\":\"%28\",\")\":\"%29\",\"~\":\"%7E\",\"%20\":\"+\",\"%00\":\"\\0\"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Qm(t,e){this._pairs=[],t&&Ul(t,this,e);}var QT=Qm.prototype;function lx(t){return encodeURIComponent(t).replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\").replace(/%20/g,\"+\").replace(/%5B/gi,\"[\").replace(/%5D/gi,\"]\")}function fw(t,e,n){if(!e)return t;let i=n&&n.encode||lx,r=n&&n.serialize,o;if(o=r?r(e,n):K.isURLSearchParams(e)?e.toString():new Qm(e,n).toString(i),o){let s=t.indexOf(\"#\");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf(\"?\")===-1?\"?\":\"&\")+o;}return t}QT.append=function(t,e){this._pairs.push([t,e]);},QT.toString=function(t){let e=t?function(n){return t.call(this,n,XT)}:XT;return this._pairs.map(function(n){return e(n[0])+\"=\"+e(n[1])},\"\").join(\"&\")};var ZT=class{constructor(){this.handlers=[];}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null);}clear(){this.handlers&&(this.handlers=[]);}forEach(t){K.forEach(this.handlers,function(e){e!==null&&t(e);});}},gw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tw={exports:{}},ux=xt,hx=ri,$T=Ai.f;ux({target:\"Object\",stat:!0,forced:Object.defineProperty!==$T,sham:!hx},{defineProperty:$T});var Sw=Gi.Object,px=Tw.exports=function(t,e,n){return Sw.defineProperty(t,e,n)};Sw.defineProperty.sham&&(px.sham=!0);var Rw=ae(Tw.exports),_x=pr,nd=Array.isArray||function(t){return _x(t)==\"Array\"},Ex=TypeError,tS=nd,mx=xu,fx=Hn,gx=pe(\"species\"),eS=Array,Tx=function(t){var e;return tS(t)&&(e=t.constructor,(mx(e)&&(e===eS||tS(e.prototype))||fx(e)&&(e=e[gx])===null)&&(e=void 0)),e===void 0?eS:e},Cw=function(t,e){return new(Tx(t))(e===0?0:e)},Sx=Se,Rx=zo,Cx=pe(\"species\"),Iw=function(t){return Rx>=51||!Sx(function(){var e=[];return (e.constructor={})[Cx]=function(){return {foo:1}},e[t](Boolean).foo!==1})},Ix=xt,vx=Se,yx=nd,Ax=Hn,bx=_r,wx=Lr,nS=function(t){if(t>9007199254740991)throw Ex(\"Maximum allowed index exceeded\");return t},iS=Bu,Ox=Cw,Nx=Iw,Dx=zo,vw=pe(\"isConcatSpreadable\"),Px=Dx>=51||!vx(function(){var t=[];return t[vw]=!1,t.concat()[0]!==t}),kx=function(t){if(!Ax(t))return !1;var e=t[vw];return e!==void 0?!!e:yx(t)};Ix({target:\"Array\",proto:!0,arity:1,forced:!Px||!Nx(\"concat\")},{concat:function(t){var e,n,i,r,o,s=bx(this),a=Ox(s,0),c=0;for(e=-1,i=arguments.length;e<i;e++)if(kx(o=e===-1?s:arguments[e]))for(r=wx(o),nS(c+r),n=0;n<r;n++,c++)n in o&&iS(a,c,o[n]);else nS(c+1),iS(a,c++,o);return a.length=c,a}});var yw={},Lx=pr,Mx=Eo,rS=Pu.f,Ux=zm,oS=typeof window==\"object\"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];yw.f=function(t){return oS&&Lx(t)==\"Window\"?function(e){try{return rS(e)}catch{return Ux(oS)}}(t):rS(Mx(t))};var Ea={},xx=pe;Ea.f=xx;var sS=Gi,Vx=Je,Fx=Ea,Bx=Ai.f,Fe=function(t){var e=sS.Symbol||(sS.Symbol={});Vx(e,t)||Bx(e,t,{value:Fx.f(t)});},jx=Ke,Gx=Dn,Wx=pe,Hx=go,Aw=function(){var t=Gx(\"Symbol\"),e=t&&t.prototype,n=e&&e.valueOf,i=Wx(\"toPrimitive\");e&&!e[i]&&Hx(e,i,function(r){return jx(n,this)},{arity:1});},Kx=mo,Yx=bu,qx=_r,zx=Lr,Jx=Cw,aS=me([].push),Vr=function(t){var e=t==1,n=t==2,i=t==3,r=t==4,o=t==6,s=t==7,a=t==5||o;return function(c,d,l,u){for(var h,p,g=qx(c),E=Yx(g),f=Kx(d,l),S=zx(E),C=0,A=u||Jx,b=e?A(c,S):n||s?A(c,0):void 0;S>C;C++)if((a||C in E)&&(p=f(h=E[C],C,g),t))if(e)b[C]=p;else if(p)switch(t){case 3:return !0;case 5:return h;case 6:return C;case 2:aS(b,h);}else switch(t){case 4:return !1;case 7:aS(b,h);}return o?-1:i||r?r:b}},bw={forEach:Vr(0),map:Vr(1),filter:Vr(2),some:Vr(3),every:Vr(4),find:Vr(5),findIndex:Vr(6),filterReject:Vr(7)},Rd=xt,Zm=We,$m=Ke,Xx=me,js=ri,ds=ua,Qx=Se,dn=Je,Zx=hn,EE=Cn,Gu=Eo,tf=Ou,$x=oi,mE=_o,Sc=Qc,ww=Lu,tV=Pu,Ow=yw,eV=Xc,Nw=Yc,Dw=Ai,nV=Mm,Pw=Au,cS=go,iV=Uu,ef=pa,kw=ku,dS=Am,rV=pe,oV=Ea,sV=Fe,aV=Aw,cV=To,Lw=ns,Wu=bw.forEach,Vn=Du(\"hidden\"),xl=\"Symbol\",Rc=\"prototype\",dV=Lw.set,lS=Lw.getterFor(xl),Fi=Object[Rc],Ns=Zm.Symbol,_l=Ns&&Ns[Rc],lV=Zm.TypeError,cp=Zm.QObject,Mw=Nw.f,ko=Dw.f,Uw=Ow.f,uV=Pw.f,xw=Xx([].push),kr=ef(\"symbols\"),id=ef(\"op-symbols\"),hV=ef(\"wks\"),dp=!cp||!cp[Rc]||!cp[Rc].findChild,fE=js&&Qx(function(){return Sc(ko({},\"a\",{get:function(){return ko(this,\"a\",{value:7}).a}})).a!=7})?function(t,e,n){var i=Mw(Fi,e);i&&delete Fi[e],ko(t,e,n),i&&t!==Fi&&ko(Fi,e,i);}:ko,lp=function(t,e){var n=kr[t]=Sc(_l);return dV(n,{type:xl,tag:t,description:e}),js||(n.description=e),n},Vl=function(t,e,n){t===Fi&&Vl(id,e,n),EE(t);var i=tf(e);return EE(n),dn(kr,i)?(n.enumerable?(dn(t,Vn)&&t[Vn][i]&&(t[Vn][i]=!1),n=Sc(n,{enumerable:mE(0,!1)})):(dn(t,Vn)||ko(t,Vn,mE(1,{})),t[Vn][i]=!0),fE(t,i,n)):ko(t,i,n)},up=function(t,e){EE(t);var n=Gu(e),i=ww(n).concat(Fw(n));return Wu(i,function(r){js&&!$m(Vw,n,r)||Vl(t,r,n[r]);}),t},Vw=function(t){var e=tf(t),n=$m(uV,this,e);return !(this===Fi&&dn(kr,e)&&!dn(id,e))&&(!(n||!dn(this,e)||!dn(kr,e)||dn(this,Vn)&&this[Vn][e])||n)},uS=function(t,e){var n=Gu(t),i=tf(e);if(n!==Fi||!dn(kr,i)||dn(id,i)){var r=Mw(n,i);return !r||!dn(kr,i)||dn(n,Vn)&&n[Vn][i]||(r.enumerable=!0),r}},hS=function(t){var e=Uw(Gu(t)),n=[];return Wu(e,function(i){dn(kr,i)||dn(kw,i)||xw(n,i);}),n},Fw=function(t){var e=t===Fi,n=Uw(e?id:Gu(t)),i=[];return Wu(n,function(r){!dn(kr,r)||e&&!dn(Fi,r)||xw(i,kr[r]);}),i};ds||(cS(_l=(Ns=function(){if(Zx(_l,this))throw lV(\"Symbol is not a constructor\");var t=arguments.length&&arguments[0]!==void 0?$x(arguments[0]):void 0,e=dS(t),n=function(i){this===Fi&&$m(n,id,i),dn(this,Vn)&&dn(this[Vn],e)&&(this[Vn][e]=!1),fE(this,e,mE(1,i));};return js&&dp&&fE(Fi,e,{configurable:!0,set:n}),lp(e,t)})[Rc],\"toString\",function(){return lS(this).tag}),cS(Ns,\"withoutSetter\",function(t){return lp(dS(t),t)}),Pw.f=Vw,Dw.f=Vl,nV.f=up,Nw.f=uS,tV.f=Ow.f=hS,eV.f=Fw,oV.f=function(t){return lp(rV(t),t)},js&&iV(_l,\"description\",{configurable:!0,get:function(){return lS(this).description}})),Rd({global:!0,constructor:!0,wrap:!0,forced:!ds,sham:!ds},{Symbol:Ns}),Wu(ww(hV),function(t){sV(t);}),Rd({target:xl,stat:!0,forced:!ds},{useSetter:function(){dp=!0;},useSimple:function(){dp=!1;}}),Rd({target:\"Object\",stat:!0,forced:!ds,sham:!js},{create:function(t,e){return e===void 0?Sc(t):up(Sc(t),e)},defineProperty:Vl,defineProperties:up,getOwnPropertyDescriptor:uS}),Rd({target:\"Object\",stat:!0,forced:!ds},{getOwnPropertyNames:hS}),aV(),cV(Ns,xl),kw[Vn]=!0;var Bw=ua&&!!Symbol.for&&!!Symbol.keyFor,pV=xt,_V=Dn,EV=Je,mV=oi,jw=pa,fV=Bw,hp=jw(\"string-to-symbol-registry\"),gV=jw(\"symbol-to-string-registry\");pV({target:\"Symbol\",stat:!0,forced:!fV},{for:function(t){var e=mV(t);if(EV(hp,e))return hp[e];var n=_V(\"Symbol\")(e);return hp[e]=n,gV[n]=e,n}});var TV=xt,SV=Je,RV=qc,CV=ha,IV=Bw,pS=pa(\"symbol-to-string-registry\");TV({target:\"Symbol\",stat:!0,forced:!IV},{keyFor:function(t){if(!RV(t))throw TypeError(CV(t)+\" is not a symbol\");if(SV(pS,t))return pS[t]}});var _S=nd,vV=He,ES=pr,yV=oi,mS=me([].push),AV=xt,Gw=Dn,Ww=vm,bV=Ke,rd=me,Hw=Se,fS=He,gS=qc,Kw=Gm,wV=function(t){if(vV(t))return t;if(_S(t)){for(var e=t.length,n=[],i=0;i<e;i++){var r=t[i];typeof r==\"string\"?mS(n,r):typeof r!=\"number\"&&ES(r)!=\"Number\"&&ES(r)!=\"String\"||mS(n,yV(r));}var o=n.length,s=!0;return function(a,c){if(s)return s=!1,c;if(_S(this))return c;for(var d=0;d<o;d++)if(n[d]===a)return c}}},OV=ua,NV=String,ro=Gw(\"JSON\",\"stringify\"),Cd=rd(/./.exec),TS=rd(\"\".charAt),DV=rd(\"\".charCodeAt),PV=rd(\"\".replace),kV=rd(1 .toString),LV=/[\\uD800-\\uDFFF]/g,SS=/^[\\uD800-\\uDBFF]$/,RS=/^[\\uDC00-\\uDFFF]$/,CS=!OV||Hw(function(){var t=Gw(\"Symbol\")();return ro([t])!=\"[null]\"||ro({a:t})!=\"{}\"||ro(Object(t))!=\"{}\"}),IS=Hw(function(){return ro(\"\\uDF06\\uD834\")!=='\"\\\\udf06\\\\ud834\"'||ro(\"\\uDEAD\")!=='\"\\\\udead\"'}),MV=function(t,e){var n=Kw(arguments),i=wV(e);if(fS(i)||t!==void 0&&!gS(t))return n[1]=function(r,o){if(fS(i)&&(o=bV(i,this,NV(r),o)),!gS(o))return o},Ww(ro,null,n)},UV=function(t,e,n){var i=TS(n,e-1),r=TS(n,e+1);return Cd(SS,t)&&!Cd(RS,r)||Cd(RS,t)&&!Cd(SS,i)?\"\\\\u\"+kV(DV(t,0),16):t};ro&&AV({target:\"JSON\",stat:!0,arity:3,forced:CS||IS},{stringify:function(t,e,n){var i=Kw(arguments),r=Ww(CS?MV:ro,null,i);return IS&&typeof r==\"string\"?PV(r,LV,UV):r}});var vS=Xc,xV=_r;xt({target:\"Object\",stat:!0,forced:!ua||Se(function(){vS.f(1);})},{getOwnPropertySymbols:function(t){var e=vS.f;return e?e(xV(t)):[]}}),Fe(\"asyncIterator\"),Fe(\"hasInstance\"),Fe(\"isConcatSpreadable\"),Fe(\"iterator\"),Fe(\"match\"),Fe(\"matchAll\"),Fe(\"replace\"),Fe(\"search\"),Fe(\"species\"),Fe(\"split\");var VV=Aw;Fe(\"toPrimitive\"),VV();var FV=Dn,BV=To;Fe(\"toStringTag\"),BV(FV(\"Symbol\"),\"Symbol\"),Fe(\"unscopables\"),To(We.JSON,\"JSON\",!0);var jV=Gi.Symbol,GV=pe,WV=Ai.f,yS=GV(\"metadata\"),AS=Function.prototype;AS[yS]===void 0&&WV(AS,yS,{value:null}),Fe(\"dispose\"),Fe(\"metadata\");var HV=jV;Fe(\"asyncDispose\");var KV=me,nf=Dn(\"Symbol\"),YV=nf.keyFor,qV=KV(nf.prototype.valueOf),Yw=nf.isRegisteredSymbol||function(t){try{return YV(qV(t))!==void 0}catch{return !1}};xt({target:\"Symbol\",stat:!0},{isRegisteredSymbol:Yw});for(bS=pa,pp=Dn,wS=me,OS=qc,NS=pe,Na=pp(\"Symbol\"),gE=Na.isWellKnownSymbol,TE=pp(\"Object\",\"getOwnPropertyNames\"),qw=wS(Na.prototype.valueOf),SE=bS(\"wks\"),Id=0,_p=TE(Na),DS=_p.length;Id<DS;Id++)try{Ep=_p[Id],OS(Na[Ep])&&NS(Ep);}catch{}var Ep,bS,pp,wS,OS,NS,Na,gE,TE,qw,SE,Id,_p,DS,PS=function(t){if(gE&&gE(t))return !0;try{for(var e=qw(t),n=0,i=TE(SE),r=i.length;n<r;n++)if(SE[i[n]]==e)return !0}catch{}return !1};xt({target:\"Symbol\",stat:!0,forced:!0},{isWellKnownSymbol:PS}),Fe(\"matcher\"),Fe(\"observable\"),xt({target:\"Symbol\",stat:!0,name:\"isRegisteredSymbol\"},{isRegistered:Yw}),xt({target:\"Symbol\",stat:!0,name:\"isWellKnownSymbol\",forced:!0},{isWellKnown:PS}),Fe(\"metadataKey\"),Fe(\"patternMatch\"),Fe(\"replaceAll\");var Ds=ae(HV),zw=ae(Ea.f(\"iterator\"));function oc(t){return oc=typeof Ds==\"function\"&&typeof zw==\"symbol\"?function(e){return typeof e}:function(e){return e&&typeof Ds==\"function\"&&e.constructor===Ds&&e!==Ds.prototype?\"symbol\":typeof e},oc(t)}var zV=ae(Ea.f(\"toPrimitive\"));function JV(t){var e=function(n,i){if(oc(n)!==\"object\"||n===null)return n;var r=n[zV];if(r!==void 0){var o=r.call(n,i||\"default\");if(oc(o)!==\"object\")return o;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return (i===\"string\"?String:Number)(n)}(t,\"string\");return oc(e)===\"symbol\"?e:String(e)}function T(t,e,n){return (e=JV(e))in t?Rw(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var XV=Se,QV=pe(\"iterator\"),rf=!XV(function(){var t=new URL(\"b?a=1&b=2&c=3\",\"http://a\"),e=t.searchParams,n=new URLSearchParams(\"a=1&a=2\"),i=\"\";return t.pathname=\"c%20d\",e.forEach(function(r,o){e.delete(\"b\"),i+=o+r;}),n.delete(\"a\",2),!t.toJSON||!n.has(\"a\",1)||n.has(\"a\",2)||!e.size&&!0||!e.sort||t.href!==\"http://a/c%20d?a=1&c=3\"||e.get(\"c\")!==\"3\"||String(new URLSearchParams(\"?a=1\"))!==\"a=1\"||!e[QV]||new URL(\"https://a@b\").username!==\"a\"||new URLSearchParams(new URLSearchParams(\"a=b\")).get(\"a\")!==\"b\"||new URL(\"http://\\u0442\\u0435\\u0441\\u0442\").host!==\"xn--e1aybc\"||new URL(\"http://a#\\u0431\").hash!==\"#%D0%B1\"||i!==\"a1c3\"||new URL(\"http://x\",void 0).host!==\"x\"}),ZV=go,mp=xt,Xs=We,vd=Ke,ur=me,Ps=ri,kS=rf,LS=go,$V=Uu,tF=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:ZV(t,i,e[i],n);return t},eF=To,nF=xm,of=ns,Jw=Fm,fp=He,iF=Je,rF=mo,oF=Er,sF=Cn,Xw=Hn,bn=oi,aF=Qc,MS=_o,RE=Um,cF=Mu,ls=Vu,dF=hw,lF=pe(\"iterator\"),Cc=\"URLSearchParams\",Qw=Cc+\"Iterator\",Zw=of.set,fi=of.getterFor(Cc),uF=of.getterFor(Qw),hF=Object.getOwnPropertyDescriptor,sf=function(t){if(!Ps)return Xs[t];var e=hF(Xs,t);return e&&e.value},US=sf(\"fetch\"),Fl=sf(\"Request\"),sc=sf(\"Headers\"),gp=Fl&&Fl.prototype,xS=sc&&sc.prototype,pF=Xs.RegExp,_F=Xs.TypeError,$w=Xs.decodeURIComponent,EF=Xs.encodeURIComponent,mF=ur(\"\".charAt),VS=ur([].join),xo=ur([].push),CE=ur(\"\".replace),fF=ur([].shift),FS=ur([].splice),BS=ur(\"\".split),gF=ur(\"\".slice),TF=/\\+/g,jS=Array(4),SF=function(t){return jS[t-1]||(jS[t-1]=pF(\"((?:%[\\\\da-f]{2}){\"+t+\"})\",\"gi\"))},RF=function(t){try{return $w(t)}catch{return t}},GS=function(t){var e=CE(t,TF,\" \"),n=4;try{return $w(e)}catch{for(;n;)e=CE(e,SF(n--),RF);return e}},CF=/[!'()~]|%20/g,IF={\"!\":\"%21\",\"'\":\"%27\",\"(\":\"%28\",\")\":\"%29\",\"~\":\"%7E\",\"%20\":\"+\"},vF=function(t){return IF[t]},WS=function(t){return CE(EF(t),CF,vF)},Tp=nF(function(t,e){Zw(this,{type:Qw,iterator:RE(fi(t).entries),kind:e});},\"Iterator\",function(){var t=uF(this),e=t.kind,n=t.iterator.next(),i=n.value;return n.done||(n.value=e===\"keys\"?i.key:e===\"values\"?i.value:[i.key,i.value]),n},!0),tO=function(t){this.entries=[],this.url=null,t!==void 0&&(Xw(t)?this.parseObject(t):this.parseQuery(typeof t==\"string\"?mF(t,0)===\"?\"?gF(t,1):t:bn(t)));};tO.prototype={type:Cc,bindURL:function(t){this.url=t,this.update();},parseObject:function(t){var e,n,i,r,o,s,a,c=cF(t);if(c)for(n=(e=RE(t,c)).next;!(i=vd(n,e)).done;){if(o=(r=RE(sF(i.value))).next,(s=vd(o,r)).done||(a=vd(o,r)).done||!vd(o,r).done)throw _F(\"Expected sequence with length 2\");xo(this.entries,{key:bn(s.value),value:bn(a.value)});}else for(var d in t)iF(t,d)&&xo(this.entries,{key:d,value:bn(t[d])});},parseQuery:function(t){if(t)for(var e,n,i=BS(t,\"&\"),r=0;r<i.length;)(e=i[r++]).length&&(n=BS(e,\"=\"),xo(this.entries,{key:GS(fF(n)),value:GS(VS(n,\"=\"))}));},serialize:function(){for(var t,e=this.entries,n=[],i=0;i<e.length;)t=e[i++],xo(n,WS(t.key)+\"=\"+WS(t.value));return VS(n,\"&\")},update:function(){this.entries.length=0,this.parseQuery(this.url.query);},updateURL:function(){this.url&&this.url.update();}};var Bl=function(){Jw(this,vs);var t=Zw(this,new tO(arguments.length>0?arguments[0]:void 0));Ps||(this.size=t.entries.length);},vs=Bl.prototype;tF(vs,{append:function(t,e){var n=fi(this);ls(arguments.length,2),xo(n.entries,{key:bn(t),value:bn(e)}),Ps||this.length++,n.updateURL();},delete:function(t){for(var e=fi(this),n=ls(arguments.length,1),i=e.entries,r=bn(t),o=n<2?void 0:arguments[1],s=o===void 0?o:bn(o),a=0;a<i.length;){var c=i[a];if(c.key!==r||s!==void 0&&c.value!==s)a++;else if(FS(i,a,1),s!==void 0)break}Ps||(this.size=i.length),e.updateURL();},get:function(t){var e=fi(this).entries;ls(arguments.length,1);for(var n=bn(t),i=0;i<e.length;i++)if(e[i].key===n)return e[i].value;return null},getAll:function(t){var e=fi(this).entries;ls(arguments.length,1);for(var n=bn(t),i=[],r=0;r<e.length;r++)e[r].key===n&&xo(i,e[r].value);return i},has:function(t){for(var e=fi(this).entries,n=ls(arguments.length,1),i=bn(t),r=n<2?void 0:arguments[1],o=r===void 0?r:bn(r),s=0;s<e.length;){var a=e[s++];if(a.key===i&&(o===void 0||a.value===o))return !0}return !1},set:function(t,e){var n=fi(this);ls(arguments.length,1);for(var i,r=n.entries,o=!1,s=bn(t),a=bn(e),c=0;c<r.length;c++)(i=r[c]).key===s&&(o?FS(r,c--,1):(o=!0,i.value=a));o||xo(r,{key:s,value:a}),Ps||(this.size=r.length),n.updateURL();},sort:function(){var t=fi(this);dF(t.entries,function(e,n){return e.key>n.key?1:-1}),t.updateURL();},forEach:function(t){for(var e,n=fi(this).entries,i=rF(t,arguments.length>1?arguments[1]:void 0),r=0;r<n.length;)i((e=n[r++]).value,e.key,this);},keys:function(){return new Tp(this,\"keys\")},values:function(){return new Tp(this,\"values\")},entries:function(){return new Tp(this,\"entries\")}},{enumerable:!0}),LS(vs,lF,vs.entries,{name:\"entries\"}),LS(vs,\"toString\",function(){return fi(this).serialize()},{enumerable:!0}),Ps&&$V(vs,\"size\",{get:function(){return fi(this).entries.length},configurable:!0,enumerable:!0}),eF(Bl,Cc),mp({global:!0,constructor:!0,forced:!kS},{URLSearchParams:Bl}),!kS&&fp(sc)&&(HS=ur(xS.has),KS=ur(xS.set),Sp=function(t){if(Xw(t)){var e,n=t.body;if(oF(n)===Cc)return e=t.headers?new sc(t.headers):new sc,HS(e,\"content-type\")||KS(e,\"content-type\",\"application/x-www-form-urlencoded;charset=UTF-8\"),aF(t,{body:MS(0,bn(n)),headers:MS(0,e)})}return t},fp(US)&&mp({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return US(t,arguments.length>1?Sp(arguments[1]):{})}}),fp(Fl)&&(yd=function(t){return Jw(this,gp),new Fl(t,arguments.length>1?Sp(arguments[1]):{})},gp.constructor=yd,yd.prototype=gp,mp({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:yd})));var HS,KS,Sp,yd,yF={URLSearchParams:Bl,getState:fi},YS=ae(Gi.URLSearchParams),AF={isBrowser:!0,classes:{URLSearchParams:YS!==void 0?YS:Qm,FormData:typeof FormData<\"u\"?FormData:null,Blob:typeof Blob<\"u\"?Blob:null},protocols:[\"http\",\"https\",\"file\",\"blob\",\"url\",\"data\"]},eO=typeof window<\"u\"&&typeof document<\"u\",bF=(qS=typeof navigator<\"u\"&&navigator.product,eO&&[\"ReactNative\",\"NativeScript\",\"NS\"].indexOf(qS)<0),qS,wF=typeof WorkerGlobalScope<\"u\"&&self instanceof WorkerGlobalScope&&typeof self.importScripts==\"function\";function zS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function JS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zS(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zS(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var sr=JS(JS({},Object.freeze({__proto__:null,hasBrowserEnv:eO,hasStandardBrowserEnv:bF,hasStandardBrowserWebWorkerEnv:wF})),AF),OF=Cn,NF=Ke,DF=Je,PF=hn,kF=function(){var t=OF(this),e=\"\";return t.hasIndices&&(e+=\"d\"),t.global&&(e+=\"g\"),t.ignoreCase&&(e+=\"i\"),t.multiline&&(e+=\"m\"),t.dotAll&&(e+=\"s\"),t.unicode&&(e+=\"u\"),t.unicodeSets&&(e+=\"v\"),t.sticky&&(e+=\"y\"),e},XS=RegExp.prototype,nO=function(t){var e=t.flags;return e!==void 0||\"flags\"in XS||DF(t,\"flags\")||!PF(XS,t)?e:NF(kF,t)},LF=qm.charAt,QS=Ke,MF=Cn,UF=He,xF=pr,VF=/./.exec,FF=TypeError,BF=xt,ZS=Ke,iO=gc,jF=xm,Ad=Vm,$S=la,rO=MA,Ic=oi,GF=Cn,WF=da,HF=pr,KF=UA,oO=nO,YF=wu,qF=Se,zF=jm,JF=function(t,e,n){return e+(n?LF(t,e).length:1)},XF=function(t,e){var n=t.exec;if(UF(n)){var i=QS(n,t,e);return i!==null&&MF(i),i}if(xF(t)===\"RegExp\")return QS(VF,t,e);throw FF(\"RegExp#exec called on incompatible receiver\")},sO=ns,QF=pe(\"matchAll\"),aO=\"RegExp String\",cO=aO+\" Iterator\",ZF=sO.set,$F=sO.getterFor(cO),tB=TypeError,IE=iO(\"\".indexOf),jl=iO(\"\".matchAll),Rp=!!jl&&!qF(function(){jl(\"a\",/./);}),eB=jF(function(t,e,n,i){ZF(this,{type:cO,regexp:t,string:e,global:n,unicode:i,done:!1});},aO,function(){var t=$F(this);if(t.done)return Ad(void 0,!0);var e=t.regexp,n=t.string,i=XF(e,n);return i===null?(t.done=!0,Ad(void 0,!0)):t.global?(Ic(i[0])===\"\"&&(e.lastIndex=JF(n,rO(e.lastIndex),t.unicode)),Ad(i,!1)):(t.done=!0,Ad(i,!1))}),tR=function(t){var e,n,i,r=GF(this),o=Ic(t),s=zF(r,RegExp),a=Ic(oO(r));return e=new s(s===RegExp?r.source:r,a),n=!!~IE(a,\"g\"),i=!!~IE(a,\"u\"),e.lastIndex=rO(r.lastIndex),new eB(e,o,n,i)};BF({target:\"String\",proto:!0,forced:Rp},{matchAll:function(t){var e,n,i,r,o=$S(this);if(WF(t)){if(Rp)return jl(o,t)}else {if(KF(t)&&(e=Ic($S(oO(t))),!~IE(e,\"g\")))throw tB(\"`.matchAll` does not allow non-global regexes\");if(Rp)return jl(o,t);if((i=YF(t,QF))===void 0&&HF(t)==\"RegExp\"&&(i=tR),i)return ZS(i,t,o)}return n=Ic(o),r=new RegExp(t,\"g\"),ZS(tR,r,n)}});var nB=bi(\"String\").matchAll,iB=hn,rB=nB,Cp=String.prototype,oB=function(t){var e=t.matchAll;return typeof t==\"string\"||t===Cp||iB(Cp,t)&&e===Cp.matchAll?rB:e},sB=ae(oB);function dO(t){function e(n,i,r,o){let s=n[o++];if(s===\"__proto__\")return !0;let a=Number.isFinite(+s),c=o>=n.length;return s=!s&&K.isArray(r)?r.length:s,c?(K.hasOwnProp(r,s)?r[s]=[r[s],i]:r[s]=i,!a):(r[s]&&K.isObject(r[s])||(r[s]=[]),e(n,i,r[s],o)&&K.isArray(r[s])&&(r[s]=function(d){let l={},u=Object.keys(d),h,p=u.length,g;for(h=0;h<p;h++)g=u[h],l[g]=d[g];return l}(r[s])),!a)}if(K.isFormData(t)&&K.isFunction(t.entries)){let n={};return K.forEachEntry(t,(i,r)=>{e(function(o){return sB(K).call(K,/\\w+|\\[(\\w*)]/g,o).map(s=>s[0]===\"[]\"?\"\":s[1]||s[0])}(i),r,n,0);}),n}return null}var af={transitional:gw,adapter:[\"xhr\",\"http\"],transformRequest:[function(t,e){let n=e.getContentType()||\"\",i=n.indexOf(\"application/json\")>-1,r=K.isObject(t);if(r&&K.isHTMLForm(t)&&(t=new FormData(t)),K.isFormData(t))return i?JSON.stringify(dO(t)):t;if(K.isArrayBuffer(t)||K.isBuffer(t)||K.isStream(t)||K.isFile(t)||K.isBlob(t))return t;if(K.isArrayBufferView(t))return t.buffer;if(K.isURLSearchParams(t))return e.setContentType(\"application/x-www-form-urlencoded;charset=utf-8\",!1),t.toString();let o;if(r){if(n.indexOf(\"application/x-www-form-urlencoded\")>-1)return function(s,a){return Ul(s,new sr.classes.URLSearchParams,Object.assign({visitor:function(c,d,l,u){return sr.isNode&&K.isBuffer(c)?(this.append(d,c.toString(\"base64\")),!1):u.defaultVisitor.apply(this,arguments)}},a))}(t,this.formSerializer).toString();if((o=K.isFileList(t))||n.indexOf(\"multipart/form-data\")>-1){let s=this.env&&this.env.FormData;return Ul(o?{\"files[]\":t}:t,s&&new s,this.formSerializer)}}return r||i?(e.setContentType(\"application/json\",!1),function(s,a,c){if(K.isString(s))try{return (a||JSON.parse)(s),rn(K).call(K,s)}catch(d){if(d.name!==\"SyntaxError\")throw d}return (0, JSON.stringify)(s)}(t)):t}],transformResponse:[function(t){let e=this.transitional||af.transitional,n=e&&e.forcedJSONParsing,i=this.responseType===\"json\";if(t&&K.isString(t)&&(n&&!this.responseType||i)){let r=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(r)throw o.name===\"SyntaxError\"?qt.from(o,qt.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:\"XSRF-TOKEN\",xsrfHeaderName:\"X-XSRF-TOKEN\",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sr.classes.FormData,Blob:sr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:\"application/json, text/plain, */*\",\"Content-Type\":void 0}}};K.forEach([\"delete\",\"get\",\"head\",\"post\",\"put\",\"patch\"],t=>{af.headers[t]={};});var cf=af,aB=K.toObjectSet([\"age\",\"authorization\",\"content-length\",\"content-type\",\"etag\",\"expires\",\"from\",\"host\",\"if-modified-since\",\"if-unmodified-since\",\"last-modified\",\"location\",\"max-forwards\",\"proxy-authorization\",\"referer\",\"retry-after\",\"user-agent\"]),eR=Symbol(\"internals\");function Da(t){var e;return t&&rn(e=String(t)).call(e).toLowerCase()}function El(t){return t===!1||t==null?t:K.isArray(t)?t.map(El):String(t)}function Ip(t,e,n,i,r){return K.isFunction(i)?i.call(this,e,n):(r&&(e=n),K.isString(e)?K.isString(i)?e.indexOf(i)!==-1:K.isRegExp(i)?i.test(e):void 0:void 0)}var Gs=class{constructor(e){e&&this.set(e);}set(e,n,i){let r=this;function o(c,d,l){let u=Da(d);if(!u)throw new Error(\"header name must be a non-empty string\");let h=K.findKey(r,u);(!h||r[h]===void 0||l===!0||l===void 0&&r[h]!==!1)&&(r[h||d]=El(c));}let s=(c,d)=>K.forEach(c,(l,u)=>o(l,u,d));var a;return K.isPlainObject(e)||e instanceof this.constructor?s(e,n):K.isString(e)&&(e=rn(e).call(e))&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(rn(a=e).call(a))?s((c=>{let d={},l,u,h;return c&&c.split(`\n`).forEach(function(p){var g,E;h=p.indexOf(\":\"),l=rn(g=p.substring(0,h)).call(g).toLowerCase(),u=rn(E=p.substring(h+1)).call(E),!l||d[l]&&aB[l]||(l===\"set-cookie\"?d[l]?d[l].push(u):d[l]=[u]:d[l]=d[l]?d[l]+\", \"+u:u);}),d})(e),n):e!=null&&o(n,e,i),this}get(e,n){if(e=Da(e)){let i=K.findKey(this,e);if(i){let r=this[i];if(!n)return r;if(n===!0)return function(o){let s=Object.create(null),a=/([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g,c;for(;c=a.exec(o);)s[c[1]]=c[2];return s}(r);if(K.isFunction(n))return n.call(this,r,i);if(K.isRegExp(n))return n.exec(r);throw new TypeError(\"parser must be boolean|regexp|function\")}}}has(e,n){if(e=Da(e)){let i=K.findKey(this,e);return !(!i||this[i]===void 0||n&&!Ip(0,this[i],i,n))}return !1}delete(e,n){let i=this,r=!1;function o(s){if(s=Da(s)){let a=K.findKey(i,s);!a||n&&!Ip(0,i[a],a,n)||(delete i[a],r=!0);}}return K.isArray(e)?e.forEach(o):o(e),r}clear(e){let n=Object.keys(this),i=n.length,r=!1;for(;i--;){let o=n[i];e&&!Ip(0,this[o],o,e,!0)||(delete this[o],r=!0);}return r}normalize(e){let n=this,i={};return K.forEach(this,(r,o)=>{var s;let a=K.findKey(i,o);if(a)return n[a]=El(r),void delete n[o];let c=e?function(d){return rn(d).call(d).toLowerCase().replace(/([a-z\\d])(\\w*)/g,(l,u,h)=>u.toUpperCase()+h)}(o):rn(s=String(o)).call(s);c!==o&&delete n[o],n[c]=El(r),i[c]=!0;}),this}concat(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.constructor.concat(this,...n)}toJSON(e){let n=Object.create(null);return K.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&K.isArray(i)?i.join(\", \"):i);}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[n,i]=e;return n+\": \"+i}).join(`\n`)}get[Symbol.toStringTag](){return \"AxiosHeaders\"}static from(e){return e instanceof this?e:new this(e)}static concat(e){let n=new this(e);for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return r.forEach(s=>n.set(s)),n}static accessor(e){let n=(this[eR]=this[eR]={accessors:{}}).accessors,i=this.prototype;function r(o){let s=Da(o);n[s]||(function(a,c){let d=K.toCamelCase(\" \"+c);[\"get\",\"set\",\"has\"].forEach(l=>{Object.defineProperty(a,l+d,{value:function(u,h,p){return this[l].call(this,c,u,h,p)},configurable:!0});});}(i,o),n[s]=!0);}return K.isArray(e)?e.forEach(r):r(e),this}};Gs.accessor([\"Content-Type\",\"Content-Length\",\"Accept\",\"Accept-Encoding\",\"User-Agent\",\"Authorization\"]),K.reduceDescriptors(Gs.prototype,(t,e)=>{let{value:n}=t,i=e[0].toUpperCase()+e.slice(1);return {get:()=>n,set(r){this[i]=r;}}}),K.freezeMethods(Gs);var Dr=Gs;function vp(t,e){let n=this||cf,i=e||n,r=Dr.from(i.headers),o=i.data;return K.forEach(t,function(s){o=s.call(n,o,r.normalize(),e?e.status:void 0);}),r.normalize(),o}function lO(t){return !(!t||!t.__CANCEL__)}function od(t,e,n){qt.call(this,t??\"canceled\",qt.ERR_CANCELED,e,n),this.name=\"CanceledError\";}K.inherits(od,qt,{__CANCEL__:!0});var cB=sr.hasStandardBrowserEnv?{write(t,e,n,i,r,o){let s=[t+\"=\"+encodeURIComponent(e)];K.isNumber(n)&&s.push(\"expires=\"+new Date(n).toGMTString()),K.isString(i)&&s.push(\"path=\"+i),K.isString(r)&&s.push(\"domain=\"+r),o===!0&&s.push(\"secure\"),document.cookie=s.join(\"; \");},read(t){let e=document.cookie.match(new RegExp(\"(^|;\\\\s*)(\"+t+\")=([^;]*)\"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,\"\",Date.now()-864e5);}}:{write(){},read:()=>null,remove(){}};function uO(t,e){return t&&!function(n){return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(n)}(e)?function(n,i){return i?n.replace(/\\/?\\/$/,\"\")+\"/\"+i.replace(/^\\/+/,\"\"):n}(t,e):e}var dB=sr.hasStandardBrowserEnv?function(){let t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement(\"a\"),n;function i(r){let o=r;return t&&(e.setAttribute(\"href\",o),o=e.href),e.setAttribute(\"href\",o),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,\"\"):\"\",host:e.host,search:e.search?e.search.replace(/^\\?/,\"\"):\"\",hash:e.hash?e.hash.replace(/^#/,\"\"):\"\",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)===\"/\"?e.pathname:\"/\"+e.pathname}}return n=i(window.location.href),function(r){let o=K.isString(r)?i(r):r;return o.protocol===n.protocol&&o.host===n.host}}():function(){return !0};function nR(t,e){let n=0,i=function(r,o){r=r||10;let s=new Array(r),a=new Array(r),c,d=0,l=0;return o=o!==void 0?o:1e3,function(u){let h=Date.now(),p=a[l];c||(c=h),s[d]=u,a[d]=h;let g=l,E=0;for(;g!==d;)E+=s[g++],g%=r;if(d=(d+1)%r,d===l&&(l=(l+1)%r),h-c<o)return;let f=p&&h-p;return f?Math.round(1e3*E/f):void 0}}(50,250);return r=>{let o=r.loaded,s=r.lengthComputable?r.total:void 0,a=o-n,c=i(a);n=o;let d={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&o<=s?(s-o)/c:void 0,event:r};d[e?\"download\":\"upload\"]=!0,t(d);}}var lB=typeof XMLHttpRequest<\"u\"&&function(t){return new j(function(e,n){let i=t.data,r=Dr.from(t.headers).normalize(),o,s,{responseType:a,withXSRFToken:c}=t;function d(){t.cancelToken&&t.cancelToken.unsubscribe(o),t.signal&&t.signal.removeEventListener(\"abort\",o);}if(K.isFormData(i)){if(sr.hasStandardBrowserEnv||sr.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if((s=r.getContentType())!==!1){let[g,...E]=s?s.split(\";\").map(f=>rn(f).call(f)).filter(Boolean):[];r.setContentType([g||\"multipart/form-data\",...E].join(\"; \"));}}let l=new XMLHttpRequest;if(t.auth){let g=t.auth.username||\"\",E=t.auth.password?unescape(encodeURIComponent(t.auth.password)):\"\";r.set(\"Authorization\",\"Basic \"+btoa(g+\":\"+E));}let u=uO(t.baseURL,t.url);function h(){if(!l)return;let g=Dr.from(\"getAllResponseHeaders\"in l&&l.getAllResponseHeaders());((function(E,f,S){let C=S.config.validateStatus;S.status&&C&&!C(S.status)?f(new qt(\"Request failed with status code \"+S.status,[qt.ERR_BAD_REQUEST,qt.ERR_BAD_RESPONSE][Math.floor(S.status/100)-4],S.config,S.request,S)):E(S);}))(function(E){e(E),d();},function(E){n(E),d();},{data:a&&a!==\"text\"&&a!==\"json\"?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:g,config:t,request:l}),l=null;}if(l.open(t.method.toUpperCase(),fw(u,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,\"onloadend\"in l?l.onloadend=h:l.onreadystatechange=function(){l&&l.readyState===4&&(l.status!==0||l.responseURL&&l.responseURL.indexOf(\"file:\")===0)&&setTimeout(h);},l.onabort=function(){l&&(n(new qt(\"Request aborted\",qt.ECONNABORTED,t,l)),l=null);},l.onerror=function(){n(new qt(\"Network Error\",qt.ERR_NETWORK,t,l)),l=null;},l.ontimeout=function(){let g=t.timeout?\"timeout of \"+t.timeout+\"ms exceeded\":\"timeout exceeded\",E=t.transitional||gw;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),n(new qt(g,E.clarifyTimeoutError?qt.ETIMEDOUT:qt.ECONNABORTED,t,l)),l=null;},sr.hasStandardBrowserEnv&&(c&&K.isFunction(c)&&(c=c(t)),c||c!==!1&&dB(u))){let g=t.xsrfHeaderName&&t.xsrfCookieName&&cB.read(t.xsrfCookieName);g&&r.set(t.xsrfHeaderName,g);}i===void 0&&r.setContentType(null),\"setRequestHeader\"in l&&K.forEach(r.toJSON(),function(g,E){l.setRequestHeader(E,g);}),K.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),a&&a!==\"json\"&&(l.responseType=t.responseType),typeof t.onDownloadProgress==\"function\"&&l.addEventListener(\"progress\",nR(t.onDownloadProgress,!0)),typeof t.onUploadProgress==\"function\"&&l.upload&&l.upload.addEventListener(\"progress\",nR(t.onUploadProgress)),(t.cancelToken||t.signal)&&(o=g=>{l&&(n(!g||g.type?new od(null,t,l):g),l.abort(),l=null);},t.cancelToken&&t.cancelToken.subscribe(o),t.signal&&(t.signal.aborted?o():t.signal.addEventListener(\"abort\",o)));let p=function(g){let E=/^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(g);return E&&E[1]||\"\"}(u);p&&sr.protocols.indexOf(p)===-1?n(new qt(\"Unsupported protocol \"+p+\":\",qt.ERR_BAD_REQUEST,t)):l.send(i||null);})},vE={http:null,xhr:lB};K.forEach(vE,(t,e)=>{if(t){try{Object.defineProperty(t,\"name\",{value:e});}catch{}Object.defineProperty(t,\"adapterName\",{value:e});}});var iR=t=>\"- \".concat(t),uB=t=>K.isFunction(t)||t===null||t===!1,hO={getAdapter:t=>{t=K.isArray(t)?t:[t];let{length:e}=t,n,i,r={};for(let o=0;o<e;o++){let s;if(n=t[o],i=n,!uB(n)&&(i=vE[(s=String(n)).toLowerCase()],i===void 0))throw new qt(\"Unknown adapter '\".concat(s,\"'\"));if(i)break;r[s||\"#\"+o]=i;}if(!i){let o=Object.entries(r).map(s=>{let[a,c]=s;return \"adapter \".concat(a,\" \")+(c===!1?\"is not supported by the environment\":\"is not available in the build\")});throw new qt(\"There is no suitable adapter to dispatch the request \"+(e?o.length>1?`since :\n`+o.map(iR).join(`\n`):\" \"+iR(o[0]):\"as no adapter specified\"),\"ERR_NOT_SUPPORT\")}return i},adapters:vE};function yp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new od(null,t)}function rR(t){return yp(t),t.headers=Dr.from(t.headers),t.data=vp.call(t,t.transformRequest),[\"post\",\"put\",\"patch\"].indexOf(t.method)!==-1&&t.headers.setContentType(\"application/x-www-form-urlencoded\",!1),hO.getAdapter(t.adapter||cf.adapter)(t).then(function(e){return yp(t),e.data=vp.call(t,t.transformResponse,e),e.headers=Dr.from(e.headers),e},function(e){return lO(e)||(yp(t),e&&e.response&&(e.response.data=vp.call(t,t.transformResponse,e.response),e.response.headers=Dr.from(e.response.headers))),j.reject(e)})}function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}var sR=t=>t instanceof Dr?function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?oR(Object(i),!0).forEach(function(r){T(e,r,i[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):oR(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r));});}return e}({},t):t;function Qs(t,e){e=e||{};let n={};function i(d,l,u){return K.isPlainObject(d)&&K.isPlainObject(l)?K.merge.call({caseless:u},d,l):K.isPlainObject(l)?K.merge({},l):K.isArray(l)?l.slice():l}function r(d,l,u){return K.isUndefined(l)?K.isUndefined(d)?void 0:i(void 0,d,u):i(d,l,u)}function o(d,l){if(!K.isUndefined(l))return i(void 0,l)}function s(d,l){return K.isUndefined(l)?K.isUndefined(d)?void 0:i(void 0,d):i(void 0,l)}function a(d,l,u){return u in e?i(d,l):u in t?i(void 0,d):void 0}let c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(d,l)=>r(sR(d),sR(l),!0)};return K.forEach(Object.keys(Object.assign({},t,e)),function(d){let l=c[d]||r,u=l(t[d],e[d],d);K.isUndefined(u)&&l!==a||(n[d]=u);}),n}var pO=\"1.6.8\",df={};[\"object\",\"boolean\",\"number\",\"function\",\"string\",\"symbol\"].forEach((t,e)=>{df[t]=function(n){return typeof n===t||\"a\"+(e<1?\"n \":\" \")+t};});var aR={};df.transitional=function(t,e,n){function i(r,o){return \"[Axios v\"+pO+\"] Transitional option '\"+r+\"'\"+o+(n?\". \"+n:\"\")}return (r,o,s)=>{if(t===!1)throw new qt(i(o,\" has been removed\"+(e?\" in \"+e:\"\")),qt.ERR_DEPRECATED);return e&&!aR[o]&&(aR[o]=!0,console.warn(i(o,\" has been deprecated since v\"+e+\" and will be removed in the near future\"))),!t||t(r,o,s)}};var yE={assertOptions:function(t,e,n){if(typeof t!=\"object\")throw new qt(\"options must be an object\",qt.ERR_BAD_OPTION_VALUE);let i=Object.keys(t),r=i.length;for(;r-- >0;){let o=i[r],s=e[o];if(s){let a=t[o],c=a===void 0||s(a,o,t);if(c!==!0)throw new qt(\"option \"+o+\" must be \"+c,qt.ERR_BAD_OPTION_VALUE)}else if(n!==!0)throw new qt(\"Unknown option \"+o,qt.ERR_BAD_OPTION)}},validators:df},Fr=yE.validators,ml=class{constructor(t){this.defaults=t,this.interceptors={request:new ZT,response:new ZT};}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;let r=i.stack?i.stack.replace(/^.+\\n/,\"\"):\"\";n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\\n.+\\n/,\"\"))&&(n.stack+=`\n`+r):n.stack=r;}throw n}}_request(t,e){typeof t==\"string\"?(e=e||{}).url=t:e=t||{},e=Qs(this.defaults,e);let{transitional:n,paramsSerializer:i,headers:r}=e;n!==void 0&&yE.assertOptions(n,{silentJSONParsing:Fr.transitional(Fr.boolean),forcedJSONParsing:Fr.transitional(Fr.boolean),clarifyTimeoutError:Fr.transitional(Fr.boolean)},!1),i!=null&&(K.isFunction(i)?e.paramsSerializer={serialize:i}:yE.assertOptions(i,{encode:Fr.function,serialize:Fr.function},!0)),e.method=(e.method||this.defaults.method||\"get\").toLowerCase();let o=r&&K.merge(r.common,r[e.method]);r&&K.forEach([\"delete\",\"get\",\"head\",\"post\",\"put\",\"patch\",\"common\"],p=>{delete r[p];}),e.headers=Dr.concat(o,r);let s=[],a=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen==\"function\"&&p.runWhen(e)===!1||(a=a&&p.synchronous,s.unshift(p.fulfilled,p.rejected));});let c=[],d;this.interceptors.response.forEach(function(p){c.push(p.fulfilled,p.rejected);});let l,u=0;if(!a){let p=[rR.bind(this),void 0];for(p.unshift.apply(p,s),p.push.apply(p,c),l=p.length,d=j.resolve(e);u<l;)d=d.then(p[u++],p[u++]);return d}l=s.length;let h=e;for(u=0;u<l;){let p=s[u++],g=s[u++];try{h=p(h);}catch(E){g.call(this,E);break}}try{d=rR.call(this,h);}catch(p){return j.reject(p)}for(u=0,l=c.length;u<l;)d=d.then(c[u++],c[u++]);return d}getUri(t){return fw(uO((t=Qs(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}};K.forEach([\"delete\",\"get\",\"head\",\"options\"],function(t){ml.prototype[t]=function(e,n){return this.request(Qs(n||{},{method:t,url:e,data:(n||{}).data}))};}),K.forEach([\"post\",\"put\",\"patch\"],function(t){function e(n){return function(i,r,o){return this.request(Qs(o||{},{method:t,headers:n?{\"Content-Type\":\"multipart/form-data\"}:{},url:i,data:r}))}}ml.prototype[t]=e(),ml.prototype[t+\"Form\"]=e(!0);});var fl=ml,AE=class t{constructor(e){if(typeof e!=\"function\")throw new TypeError(\"executor must be a function.\");let n;this.promise=new j(function(r){n=r;});let i=this;this.promise.then(r=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](r);i._listeners=null;}),this.promise.then=r=>{let o,s=new j(a=>{i.subscribe(a),o=a;}).then(r);return s.cancel=function(){i.unsubscribe(o);},s},e(function(r,o,s){i.reason||(i.reason=new od(r,o,s),n(i.reason));});}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e];}unsubscribe(e){if(!this._listeners)return;let n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1);}static source(){let e;return {token:new t(function(n){e=n;}),cancel:e}}},hB=AE,bE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bE).forEach(t=>{let[e,n]=t;bE[n]=e;});var pB=bE,Xe=function t(e){let n=new fl(e),i=_w(fl.prototype.request,n);return K.extend(i,fl.prototype,n,{allOwnKeys:!0}),K.extend(i,n,null,{allOwnKeys:!0}),i.create=function(r){return t(Qs(e,r))},i}(cf);Xe.Axios=fl,Xe.CanceledError=od,Xe.CancelToken=hB,Xe.isCancel=lO,Xe.VERSION=pO,Xe.toFormData=Ul,Xe.AxiosError=qt,Xe.Cancel=Xe.CanceledError,Xe.all=function(t){return j.all(t)},Xe.spread=function(t){return function(e){return t.apply(null,e)}},Xe.isAxiosError=function(t){return K.isObject(t)&&t.isAxiosError===!0},Xe.mergeConfig=Qs,Xe.AxiosHeaders=Dr,Xe.formToJSON=t=>dO(K.isHTMLForm(t)?new FormData(t):t),Xe.getAdapter=hO.getAdapter,Xe.HttpStatusCode=pB,Xe.default=Xe;var mn=Xe,_B=()=>{};function vc(){let t={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:_B};return t.promise=new j((e,n)=>{t.resolve=i=>{t.isFinished||(t.isResolved=!0,t.isFinished=!0,e(i),t.value=i);},t.reject=i=>{t.isFinished||(t.isRejected=!0,t.isFinished=!0,n(i));};}),t}var bd=new Map,wd=new Map,Yi=new Map,ye=function(t){return t.WIN_10=\"Windows 10\",t.WIN_81=\"Windows 8.1\",t.WIN_8=\"Windows 8\",t.WIN_7=\"Windows 7\",t.WIN_VISTA=\"Windows Vista\",t.WIN_SERVER_2003=\"Windows Server 2003\",t.WIN_XP=\"Windows XP\",t.WIN_2000=\"Windows 2000\",t.ANDROID=\"Android\",t.HARMONY_OS=\"HarmonyOS\",t.OPEN_BSD=\"Open BSD\",t.SUN_OS=\"Sun OS\",t.LINUX=\"Linux\",t.IOS=\"iOS\",t.MAC_OS=\"Mac OS\",t.CHROMIUM_OS=\"Chromium OS\",t.QNX=\"QNX\",t.UNIX=\"UNIX\",t.BEOS=\"BeOS\",t.OS_2=\"OS/2\",t.SEARCH_BOT=\"Search Bot\",t}({}),It=function(t){return t.CHROME=\"Chrome\",t.SAFARI=\"Safari\",t.EDGE=\"Edge\",t.FIREFOX=\"Firefox\",t.OPERA=\"OPR\",t.QQ=\"QQBrowser\",t.WECHAT=\"MicroMessenger\",t}({}),wE=new W2,Vi=wE.getResult(),Ap=null;function mt(t){if(!Ap){Vi=wE.getResult();let e=function(a){if(a.engine.name===\"Blink\"&&a.browser.name!==\"WeChat\")return It.CHROME;switch(a.browser.name){case\"Chrome Headless\":case\"Chrome\":case\"Chromium\":return It.CHROME;case\"Safari\":case\"Mobile Safari\":return It.SAFARI;case\"Edge\":return It.EDGE;case\"Firefox\":return It.FIREFOX;case\"QQ\":case\"QQBrowser\":return It.QQ;case\"Opera\":return It.OPERA;case\"WeChat\":return It.WECHAT;default:return a.browser.name||\"\"}}(Vi),n=cR(Vi),i=function(a){return a.os.name===\"Windows\"?a.os.version?a.os.name+\" \"+a.os.version:a.os.name:a.os.name||\"\"}(Vi),r=Vi.os.version,o=cR(Vi,!1),s=Vi.device.type;if(!(e&&n&&i&&r))return {name:e,version:n,os:i,osVersion:r,browserVersion:o,deviceType:s};Ap={name:e,version:n,os:i,osVersion:r,browserVersion:o,deviceType:s};}return Ap}function cR(t){let e,n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return e=t.engine.name===\"Blink\"?t.engine.version||\"\":t.browser.version||\"\",n?e.split(\".\")[0]:e}function Hu(){return mt().os}function dR(){let t=mt();return \"\".concat(t.os,\" \").concat(t.osVersion)}function Gl(){let t=mt();return !!(Vi.engine.name===\"WebKit\"&&t.os===ye.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&t.name!==It.SAFARI||ln()&&t.name!==It.SAFARI)}function oo(){return mt().name===It.CHROME}function je(){return mt().name===It.SAFARI}function _O(){return mt().name===It.EDGE}function $t(){return mt().name===It.FIREFOX}function ln(){return mt().os===ye.IOS}function OE(t){let e=mt();return !(e.name!==It.CHROME||!e.osVersion)&&Number(e.version)>=t}function EO(t){let e=mt();return !(e.name!==It.CHROME||!e.osVersion)&&Number(e.version)<t}function lR(t){let e=mt();return !(e.name!==It.EDGE||!e.osVersion)&&Number(e.version)>=t}function mO(t){let e=mt();return !(e.name!==It.SAFARI||!e.osVersion)&&Number(e.version)>=t}function fO(t,e,n){let i=mt();if(i.os!==ye.IOS||!i.osVersion)return !1;let r=i.osVersion.split(\".\");return e&&Number(r[0])===t&&Number(r[1])<e||Number(r[0])<t}function gO(t,e,n){let i=mt();if(i.name!==It.SAFARI||!i.osVersion||!i.browserVersion)return !1;let r=i.browserVersion.split(\".\");return e&&Number(r[0])===t&&Number(r[1])<e||Number(r[0])<t}function uR(t){let e=mt();return !(e.name!==It.OPERA||!e.osVersion)&&Number(e.version)>=t}function hR(){let t=mt();if(t.os!==ye.IOS||!t.osVersion)return !1;let e=t.osVersion.split(\".\");return Number(e[0])<14||Number(e[0])===14&&Number(e[1])<=6}function Zs(){let t=mt();if(t.os!==ye.IOS||!t.osVersion)return !1;let e=t.osVersion.split(\".\");return Number(e[0])===15}function NE(){let t=mt();if(t.os!==ye.IOS||!t.osVersion)return !1;let e=t.osVersion.split(\".\");return Number(e[0])===16}function pR(){let t=mt();if(t.os!==ye.IOS||!t.osVersion)return !1;let e=t.osVersion.split(\".\");return Number(e[0])===15&&Number(e[1])>=1}function vi(){return je()&&navigator.maxTouchPoints>0}function TO(){return mt().name===It.WECHAT}function SO(){return window.navigator.appVersion&&window.navigator.appVersion.match(/Chrome\\/([\\w\\W]*?)\\./)!==null&&window.navigator.appVersion.match(/Chrome\\/([\\w\\W]*?)\\./)[1]<=35}function lf(){let t=Hu();return function(){let{deviceType:e}=mt();return e===\"mobile\"||e===\"tablet\"}()||t===ye.ANDROID||t===ye.IOS||t===ye.HARMONY_OS}function ho(){let t=mt();return t.name!==It.EDGE&&t.name!==It.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\\/[\\d]./i)}function Ku(){return Hu()===ye.ANDROID}function yc(){let t=mt();return Ku()&&(t.name===It.CHROME||t.name===It.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}function jt(t,e,n){return (e=function(i){var r=function(o,s){if(typeof o!=\"object\"||!o)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var c=a.call(o,\"string\");if(typeof c!=\"object\")return c;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(o)}(i);return typeof r==\"symbol\"?r:r+\"\"}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(i){jt(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var R=function(t){return t.UNEXPECTED_ERROR=\"UNEXPECTED_ERROR\",t.UNEXPECTED_RESPONSE=\"UNEXPECTED_RESPONSE\",t.TIMEOUT=\"TIMEOUT\",t.INVALID_PARAMS=\"INVALID_PARAMS\",t.NOT_READABLE=\"NOT_READABLE\",t.NOT_SUPPORTED=\"NOT_SUPPORTED\",t.INVALID_OPERATION=\"INVALID_OPERATION\",t.OPERATION_ABORTED=\"OPERATION_ABORTED\",t.WEB_SECURITY_RESTRICT=\"WEB_SECURITY_RESTRICT\",t.EXCHANGE_SDP_FAILED=\"EXCHANGE_SDP_FAILED\",t.ADD_CANDIDATE_FAILED=\"ADD_CANDIDATE_FAILED\",t.DATACHANNEL_FAILED=\"DATACHANNEL_FAILED\",t.NETWORK_ERROR=\"NETWORK_ERROR\",t.NETWORK_TIMEOUT=\"NETWORK_TIMEOUT\",t.NETWORK_RESPONSE_ERROR=\"NETWORK_RESPONSE_ERROR\",t.API_INVOKE_TIMEOUT=\"API_INVOKE_TIMEOUT\",t.ENUMERATE_DEVICES_FAILED=\"ENUMERATE_DEVICES_FAILED\",t.DEVICE_NOT_FOUND=\"DEVICE_NOT_FOUND\",t.ELECTRON_IS_NULL=\"ELECTRON_IS_NULL\",t.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR=\"ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR\",t.CHROME_PLUGIN_NO_RESPONSE=\"CHROME_PLUGIN_NO_RESPONSE\",t.CHROME_PLUGIN_NOT_INSTALL=\"CHROME_PLUGIN_NOT_INSTALL\",t.MEDIA_OPTION_INVALID=\"MEDIA_OPTION_INVALID\",t.PERMISSION_DENIED=\"PERMISSION_DENIED\",t.CONSTRAINT_NOT_SATISFIED=\"CONSTRAINT_NOT_SATISFIED\",t.TRACK_IS_DISABLED=\"TRACK_IS_DISABLED\",t.GET_VIDEO_ELEMENT_VISIBLE_ERROR=\"GET_VIDEO_ELEMENT_VISIBLE_ERROR\",t.SHARE_AUDIO_NOT_ALLOWED=\"SHARE_AUDIO_NOT_ALLOWED\",t.LOW_STREAM_ENCODING_ERROR=\"LOW_STREAM_ENCODING_ERROR\",t.SET_ENCODING_PARAMETER_ERROR=\"SET_ENCODING_PARAMETER_ERROR\",t.TRACK_STATE_UNREACHABLE=\"TRACK_STATE_UNREACHABLE\",t.INVALID_UINT_UID_FROM_STRING_UID=\"INVALID_UINT_UID_FROM_STRING_UID\",t.CAN_NOT_GET_PROXY_SERVER=\"CAN_NOT_GET_PROXY_SERVER\",t.CAN_NOT_GET_GATEWAY_SERVER=\"CAN_NOT_GET_GATEWAY_SERVER\",t.VOID_GATEWAY_ADDRESS=\"VOID_GATEWAY_ADDRESS\",t.UID_CONFLICT=\"UID_CONFLICT\",t.MULTI_UNILBS_RESPONSE_ERROR=\"MULTI_UNILBS_RESPONSE_ERROR\",t.UPDATE_TICKET_FAILED=\"UPDATE_TICKET_FAILED\",t.INVALID_LOCAL_TRACK=\"INVALID_LOCAL_TRACK\",t.INVALID_TRACK=\"INVALID_TRACK\",t.SENDER_NOT_FOUND=\"SENDER_NOT_FOUND\",t.CREATE_OFFER_FAILED=\"CREATE_OFFER_FAILED\",t.SET_ANSWER_FAILED=\"SET_ANSWER_FAILED\",t.ICE_FAILED=\"ICE_FAILED\",t.PC_CLOSED=\"PC_CLOSED\",t.SENDER_REPLACE_FAILED=\"SENDER_REPLACE_FAILED\",t.GET_LOCAL_CAPABILITIES_FAILED=\"GET_LOCAL_CAPABILITIES_FAILED\",t.GET_LOCAL_CONNECTION_PARAMS_FAILED=\"GET_LOCAL_CONNECTION_PARAMS_FAILED\",t.SUBSCRIBE_FAILED=\"SUBSCRIBE_FAILED\",t.UNSUBSCRIBE_FAILED=\"UNSUBSCRIBE_FAILED\",t.GATEWAY_P2P_LOST=\"GATEWAY_P2P_LOST\",t.NO_ICE_CANDIDATE=\"NO_ICE_CANDIDATE\",t.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS=\"CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS\",t.EXIST_DISABLED_VIDEO_TRACK=\"EXIST_DISABLED_VIDEO_TRACK\",t.INVALID_REMOTE_USER=\"INVALID_REMOTE_USER\",t.REMOTE_USER_IS_NOT_PUBLISHED=\"REMOTE_USER_IS_NOT_PUBLISHED\",t.CUSTOM_REPORT_SEND_FAILED=\"CUSTOM_REPORT_SEND_FAILED\",t.CUSTOM_REPORT_FREQUENCY_TOO_HIGH=\"CUSTOM_REPORT_FREQUENCY_TOO_HIGH\",t.FETCH_AUDIO_FILE_FAILED=\"FETCH_AUDIO_FILE_FAILED\",t.READ_LOCAL_AUDIO_FILE_ERROR=\"READ_LOCAL_AUDIO_FILE_ERROR\",t.DECODE_AUDIO_FILE_FAILED=\"DECODE_AUDIO_FILE_FAILED\",t.WS_ABORT=\"WS_ABORT\",t.WS_DISCONNECT=\"WS_DISCONNECT\",t.WS_ERR=\"WS_ERR\",t.EXTERNAL_SIGNAL_ABORT=\"EXTERNAL_SIGNAL_ABORT\",t.LIVE_STREAMING_TASK_CONFLICT=\"LIVE_STREAMING_TASK_CONFLICT\",t.LIVE_STREAMING_INVALID_ARGUMENT=\"LIVE_STREAMING_INVALID_ARGUMENT\",t.LIVE_STREAMING_INTERNAL_SERVER_ERROR=\"LIVE_STREAMING_INTERNAL_SERVER_ERROR\",t.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED=\"LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED\",t.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED=\"LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED\",t.LIVE_STREAMING_CDN_ERROR=\"LIVE_STREAMING_CDN_ERROR\",t.LIVE_STREAMING_INVALID_RAW_STREAM=\"LIVE_STREAMING_INVALID_RAW_STREAM\",t.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT=\"LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT\",t.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE=\"LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE\",t.LIVE_STREAMING_WARN_FREQUENT_REQUEST=\"LIVE_STREAMING_WARN_FREQUENT_REQUEST\",t.WEBGL_INTERNAL_ERROR=\"WEBGL_INTERNAL_ERROR\",t.BEAUTY_PROCESSOR_INTERNAL_ERROR=\"BEAUTY_PROCESSOR_INTERNAL_ERROR\",t.CROSS_CHANNEL_WAIT_STATUS_ERROR=\"CROSS_CHANNEL_WAIT_STATUS_ERROR\",t.CROSS_CHANNEL_FAILED_JOIN_SRC=\"CROSS_CHANNEL_FAILED_JOIN_SEC\",t.CROSS_CHANNEL_FAILED_JOIN_DEST=\"CROSS_CHANNEL_FAILED_JOIN_DEST\",t.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST=\"CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST\",t.CROSS_CHANNEL_SERVER_ERROR_RESPONSE=\"CROSS_CHANNEL_SERVER_ERROR_RESPONSE\",t.METADATA_OUT_OF_RANGE=\"METADATA_OUT_OF_RANGE\",t.LOCAL_AEC_ERROR=\"LOCAL_AEC_ERROR\",t.INVALID_PLUGIN=\"INVALID_PLUGIN\",t.DISCONNECT_P2P=\"DISCONNECT_P2P\",t.CONVERTING_IMAGEDATA_TO_BLOB_FAILED=\"CONVERTING_IMAGEDATA_TO_BLOB_FAILED\",t.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED=\"CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED\",t.INIT_DATACHANNEL_TIMEOUT=\"INIT_DATACHANNEL_TIMEOUT\",t.CREATE_DATACHANNEL_ERROR=\"CREATE_DATACHANNEL_ERROR\",t.DATACHANNEL_CONNECTION_TIMEOUT=\"DATACHANNEL_CONNECTION_TIMEOUT\",t.PROHIBITED_OPERATION=\"PROHIBITED_OPERATION\",t.IMAGE_MODERATION_UPLOAD_FAILED=\"IMAGE_MODERATION_UPLOAD_FAILED\",t.P2P_MESSAGE_FAILED=\"P2P_MESSAGE_FAILED\",t}({}),N=class extends Error{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:\"\",n=arguments.length>2?arguments[2]:void 0;super(e),jt(this,\"code\",void 0),jt(this,\"message\",void 0),jt(this,\"data\",void 0),jt(this,\"name\",\"AgoraRTCException\"),this.code=t,this.message=\"AgoraRTCError \".concat(this.code,\": \").concat(e),this.data=n;}toString(){return this.data?\"data: \".concat(JSON.stringify(this.data),`\n`).concat(this.stack):\"\".concat(this.stack)}print(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:\"error\",e=arguments.length>1?arguments[1]:void 0;return t===\"error\"&&(e||console).error(this.toString()),t===\"warning\"&&(e||console).warn(this.toString()),this}throw(t){throw this.print(\"error\",t),this}};function Nr(t,e){if(typeof t!=\"boolean\")throw new N(R.INVALID_PARAMS,\"Invalid \".concat(e,\": The value is of the boolean type.\"))}function Ce(t,e,n){if(!W(n).call(n,t))throw new N(R.INVALID_PARAMS,\"\".concat(e,\" can only be set as \").concat(JSON.stringify(n)))}function Nt(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e4;if(t<n||t>i||(!(arguments.length>4&&arguments[4]!==void 0)||arguments[4])&&!function(r){return typeof r==\"number\"&&r%1==0}(t))throw new N(R.INVALID_PARAMS,\"invalid \".concat(e,\": the value range is [\").concat(n,\", \").concat(i,\"]. integer only\"))}function bp(t,e){if(typeof t!=\"number\"){if(!(t.min||t.max||t.ideal||t.exact))throw new N(R.INVALID_PARAMS,\"\".concat(e,\" is not a valid ConstrainLong\"));t.min!==void 0&&Nt(t.min,\"\".concat(e,\".min\"),0,1/0),t.max!==void 0&&Nt(t.max,\"\".concat(e,\".max\"),1,1/0),t.exact!==void 0&&Nt(t.exact,\"\".concat(e,\".exact\"),1,1/0),t.ideal!==void 0&&Nt(t.ideal,\"\".concat(e,\".ideal\"),1,1/0);}else Nt(t,e,1,1/0);}function Pe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:255,r=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(t==null)throw new N(R.INVALID_PARAMS,\"\".concat(e||\"param\",\" cannot be empty\"));if(!RO(t,n,i,r))throw new N(R.INVALID_PARAMS,\"Invalid \".concat(e||\"string param\",\": Length of the string: [\").concat(n,\",\").concat(i,\"].\").concat(r?\" ASCII characters only.\":\"\"))}function br(t,e){if(!Array.isArray(t))throw new N(R.INVALID_PARAMS,\"\".concat(e,\" should be an array\"))}function zt(t){return t==null}function RO(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:255,i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return typeof t==\"string\"&&t.length<=n&&t.length>=e&&(!i||function(r){if(typeof r!=\"string\")return !1;for(let o=0;o<r.length;o+=1){let s=r.charCodeAt(o);if(s<0||s>255)return !1}return !0}(t))}var Ka=function(t){return t.COVERED=\"COVERED\",t.POSITION=\"POSITION\",t.SIZE=\"SIZE\",t.STYLE=\"STYLE\",t}(Ka||{}),DE=function(t){return t.UNMOUNTED=\"UNMOUNTED\",t.INVALID_HTML_ELEMENT=\"INVALID_HTML_ELEMENT\",t}(DE||{}),CO=new class{constructor(){jt(this,\"_clientSize\",null),jt(this,\"getClientWidth\",()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth),jt(this,\"getClientHeight\",()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight),jt(this,\"getStyle\",t=>window.getComputedStyle(t,null)),jt(this,\"checkCssVisibleProperty\",t=>{var e;let n=!0,i=this.getStyle(t),{display:r,visibility:o,opacity:s,filter:a}=i;return (r===\"none\"||W(e=[\"hidden\",\"collapse\"]).call(e,o)||Number(s)<.1)&&(n=!1),!!n&&(a&&a.split(\" \").filter(c=>{var d;let l=c.split(\"(\")[0];return W(d=[\"brightness\",\"blur\",\"opacity\"]).call(d,l)}).map(c=>{let[d,l]=c.split(/\\(|\\)/);return [d,Number(l.match(/^[0-9\\.]+/))]}).forEach(c=>{let[d,l]=c;switch(d){case\"brightness\":(l<.1||l>3)&&(n=!1);break;case\"blur\":l>3&&(n=!1);break;case\"opacity\":l<.1&&(n=!1);}}),n)}),jt(this,\"checkPropertyUpToAllParentNodes\",(t,e)=>{let n=!0,i=!0,r=s=>e(s),o=t;for(;o&&i;)r(o)||(n=!1,i=!1),o=o.parentElement,o||(i=!1);return n}),jt(this,\"checkActualCssVisibleIncludeInherit\",t=>this.checkPropertyUpToAllParentNodes(t,this.checkCssVisibleProperty)),jt(this,\"getSizeAboutClient\",t=>{let{width:e,height:n,left:i,right:r,top:o,bottom:s}=t.getBoundingClientRect(),a=this.getClientWidth(),c=this.getClientHeight();return {width:e,height:n,left:i,right:r,top:o,bottom:s,clientWidth:a,clientHeight:c,clientMin:Math.min(a,c)}}),jt(this,\"checkActualSize\",()=>{let{width:t,height:e,clientMin:n}=this._clientSize;return this.checkSizeIsVisible(t,e,n)}),jt(this,\"elementFromPoint\",(t,e)=>document.elementFromPoint?document.elementFromPoint(t,e):null),jt(this,\"checkCoverForAPoint\",(t,e,n)=>{let i=this.elementFromPoint(t,e);return i!==null&&i!==n}),jt(this,\"getPointPositionList\",()=>{let{width:t,height:e,left:n,top:i}=this._clientSize,r=t/6,o=e/6,s=[],a=10**6;for(let c=0;c<5;c++)for(let d=0;d<5;d++){let l=(n*a+(c===0?.1:c===4?(r*c*a-1e5)/a:r*c)*a)/a,u=(i*a+(d===0?.1:d===4?(o*d*a-1e5)/a:o*d)*a)/a;s.push({x:l,y:u});}return [...s]}),jt(this,\"checkElementCover\",t=>this.getPointPositionList().map(e=>this.checkCoverForAPoint(e.x,e.y,t)).filter(e=>!!e).length>6),jt(this,\"checkSizeIsVisible\",(t,e,n)=>(t>50||n/t<=10)&&(e>50||n/e<=10)),jt(this,\"checkSizeOfPartInClient\",()=>{let{left:t,right:e,top:n,bottom:i,clientHeight:r,clientWidth:o,clientMin:s}=this._clientSize,a,c,d,l;if(t<0)a=0;else {if(!(t<o))return !1;a=t;}if(e<0)return !1;if(c=e<o?e:o,n<0)d=0;else {if(!(n<r))return !1;d=n;}if(i<0)return !1;l=i<r?i:r;let u=c-a,h=l-d;return this.checkSizeIsVisible(u,h,s)}),jt(this,\"returnHiddenResult\",t=>(this._clientSize=null,{visible:!1,reason:t})),jt(this,\"checkOneElementVisible\",t=>{if(t instanceof HTMLElement){if(this.checkElementIsMountedOnDom(t)){if(this.checkActualCssVisibleIncludeInherit(t)){if(this._clientSize=this.getSizeAboutClient(t),this.checkElementCover(t))return this.returnHiddenResult(Ka.COVERED);{let e=this.checkActualSize(),n=this.checkSizeOfPartInClient();return e&&!n?this.returnHiddenResult(Ka.POSITION):e?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(Ka.SIZE)}}return this.returnHiddenResult(Ka.STYLE)}return this.returnHiddenResult(DE.UNMOUNTED)}return this.returnHiddenResult(DE.INVALID_HTML_ELEMENT)}),jt(this,\"checkElementIsMountedOnDom\",t=>this.checkPropertyUpToAllParentNodes(t,e=>e.nodeName.toUpperCase()!==\"HTML\"?e.parentElement!==null:!!document.documentElement));}};function uf(t){return new TextEncoder().encode(t)}var ER=function(t,e){let n=new Uint8Array(t.byteLength+e.byteLength);return n.set(new Uint8Array(t),0),n.set(new Uint8Array(e),t.byteLength),n},PE=async t=>function(e,n){let i=\"\";return new Uint8Array(e).forEach(r=>{i+=r.toString(n).padStart(2,\"0\");}),i}(await crypto.subtle.digest(\"SHA-256\",uf(t)),16),Xt=class{constructor(){jt(this,\"_events\",{}),jt(this,\"addListener\",this.on);}getListeners(t){return this._events[t]?this._events[t].map(e=>e.listener):[]}on(t,e){this._events[t]||(this._events[t]=[]);let n=this._events[t];this._indexOfListener(n,e)===-1&&n.push({listener:e,once:!1});}once(t,e){this._events[t]||(this._events[t]=[]);let n=this._events[t];this._indexOfListener(n,e)===-1&&n.push({listener:e,once:!0});}off(t,e){if(!this._events[t])return;let n=this._events[t],i=this._indexOfListener(n,e);i!==-1&&n.splice(i,1),this._events[t].length===0&&delete this._events[t];}removeAllListeners(t){t?delete this._events[t]:this._events={};}emit(t){this._events[t]||(this._events[t]=[]);let e=this._events[t].map(o=>o);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(let o=0;o<e.length;o+=1){let s=e[o];s.once&&this.off(t,s.listener),s.listener.apply(this,i||[]);}}safeEmit(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];[...this._events[t]||[]].forEach(r=>{r.once&&this.off(t,r.listener);try{r.listener.apply(this,n);}catch(o){console.error(\"safeEmit event:\".concat(t,\" error \").concat(o?.toString()));}});}_indexOfListener(t,e){let n=t.length;for(;n--;)if(t[n].listener===e)return n;return -1}},Pa=null;function IO(){if(Pa)return Pa;if(window.electron)return Pa=window.electron;if(!window.require)return null;try{return Pa=window.require(\"electron\"),Pa}catch{return null}}var Te=function(t){return t.CREATE_CLIENT=\"createClient\",t.CHECK_SYSTEM_REQUIREMENTS=\"checkSystemRequirements\",t.SET_AREA=\"setArea\",t.PRELOAD=\"PRELOAD\",t.CHECK_VIDEO_TRACK_IS_ACTIVE=\"checkVideoTrackIsActive\",t.CHECK_AUDIO_TRACK_IS_ACTIVE=\"checkAudioTrackIsActive\",t.CREATE_MIC_AUDIO_TRACK=\"createMicrophoneAudioTrack\",t.CREATE_CUSTOM_AUDIO_TRACK=\"createCustomAudioTrack\",t.CREATE_BUFFER_AUDIO_TRACK=\"createBufferSourceAudioTrack\",t.CREATE_CAM_VIDEO_TRACK=\"createCameraVideoTrack\",t.CREATE_CUSTOM_VIDEO_TRACK=\"createCustomVideoTrack\",t.CREATE_MIC_AND_CAM_TRACKS=\"createMicrophoneAndCameraTracks\",t.CREATE_SCREEN_VIDEO_TRACK=\"createScreenVideoTrack\",t.SET_ENCRYPTION_CONFIG=\"Client.setEncryptionConfig\",t.START_PROXY_SERVER=\"Client.startProxyServer\",t.STOP_PROXY_SERVER=\"Client.stopProxyServer\",t.SET_PROXY_SERVER=\"Client.setProxyServer\",t.SET_TURN_SERVER=\"Client.setTurnServer\",t.SET_CLIENT_ROLE=\"Client.setClientRole\",t.SET_LOW_STREAM_PARAMETER=\"Client.setLowStreamParameter\",t.ENABLE_DUAL_STREAM=\"Client.enableDualStream\",t.DISABLE_DUAL_STREAM=\"Client.disableDualStream\",t.JOIN=\"Client.join\",t.LEAVE=\"Client.leave\",t.PUBLISH=\"Client.publish\",t.UNPUBLISH=\"Client.unpublish\",t.SUBSCRIBE=\"Client.subscribe\",t.MASS_SUBSCRIBE=\"Client.massSubscribe\",t.MASS_UNSUBSCRIBE=\"Client.massUnsubscribe\",t.UNSUBSCRIBE=\"Client.unsubscribe\",t.RENEW_TOKEN=\"Client.renewToken\",t.SET_REMOTE_VIDEO_STREAM_TYPE=\"Client.setRemoteVideoStreamType\",t.SET_STREAM_FALLBACK_OPTION=\"Client.setStreamFallbackOption\",t.ENABLE_AUDIO_VOLUME_INDICATOR=\"Client.enableAudioVolumeIndicator\",t.SEND_CUSTOM_REPORT_MESSAGE=\"Client.sendCustomReportMessage\",t.INSPECT_VIDEO_CONTENT=\"Client.inspectVideoContent\",t.STOP_INSPECT_VIDEO_CONTENT=\"Client.stopInspectVideoContent\",t.JOIN_FALLBACK_TO_PROXY=\"Client._joinFallbackToProxy\",t.ON_LIVE_STREAM_WARNING=\"Client.onLiveStreamWarning\",t.ON_LIVE_STREAM_ERROR=\"Client.onLiveStreamingError\",t.START_LIVE_STREAMING=\"Client.startLiveStreaming\",t.SET_LIVE_TRANSCODING=\"Client.setLiveTranscoding\",t.STOP_LIVE_STREAMING=\"Client.stopLiveStreaming\",t.START_CHANNEL_MEDIA_RELAY=\"Client.startChannelMediaRelay\",t.UPDATE_CHANNEL_MEDIA_RELAY=\"Client.updateChannelMediaRelay\",t.STOP_CHANNEL_MEDIA_RELAY=\"Client.stopChannelMediaRelay\",t.REQUEST_CONFIG_DISTRIBUTE=\"_config-distribute-request\",t.SET_CONFIG_DISTRIBUTE=\"_configDistribute\",t.LOCAL_TRACK_SET_MUTED=\"LocalTrack.setMute\",t.LOCAL_AUDIO_TRACK_PLAY=\"LocalAudioTrack.play\",t.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT=\"LocalAudioTrack.playInElement\",t.LOCAL_AUDIO_TRACK_STOP=\"LocalAudioTrack.stop\",t.LOCAL_AUDIO_TRACK_SET_VOLUME=\"LocalAudioTrack.setVolume\",t.MIC_AUDIO_TRACK_SET_DEVICE=\"MicrophoneAudioTrack.setDevice\",t.BUFFER_AUDIO_TRACK_START=\"BufferSourceAudioTrack.startProcessAudioBuffer\",t.BUFFER_AUDIO_TRACK_STOP=\"BufferSourceAudioTrack.stopProcessAudioBuffer\",t.BUFFER_AUDIO_TRACK_PAUSE=\"BufferSourceAudioTrack.pauseProcessAudioBuffer\",t.BUFFER_AUDIO_TRACK_RESUME=\"BufferSourceAudioTrack.resumeProcessAudioBuffer\",t.BUFFER_AUDIO_TRACK_SEEK=\"BufferSourceAudioTrack.seekAudioBuffer\",t.LOCAL_VIDEO_TRACK_PLAY=\"LocalVideoTrack.play\",t.LOCAL_VIDEO_TRACK_STOP=\"LocalVideoTrack.stop\",t.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE=\"LocalVideoTrack.getVideoElementVisibleStatus\",t.LOCAL_VIDEO_TRACK_BEAUTY=\"LocalVideoTrack.setBeautyEffect\",t.LOCAL_VIDEO_SEND_SEI_DATA=\"LocalVideoTrack.sendSeiData\",t.CAM_VIDEO_TRACK_SET_DEVICE=\"CameraVideoTrack.setDevice\",t.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG=\"CameraVideoTrack.setEncoderConfiguration\",t.REMOTE_VIDEO_TRACK_PLAY=\"RemoteVideoTrack.play\",t.REMOTE_VIDEO_TRACK_STOP=\"RemoteVideoTrack.stop\",t.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE=\"RemoteVideoTrack.getVideoElementVisibleStatus\",t.REMOTE_AUDIO_TRACK_PLAY=\"RemoteAudioTrack.play\",t.REMOTE_AUDIO_TRACK_STOP=\"RemoteAudioTrack.stop\",t.REMOTE_AUDIO_SET_VOLUME=\"RemoteAudioTrack.setVolume\",t.REMOTE_AUDIO_SET_OUTPUT_DEVICE=\"RemoteAudioTrack.setOutputDevice\",t.GET_MEDIA_STREAM_TRACK=\"Track.getMediaStreamTrack\",t.STREAM_TYPE_CHANGE=\"streamTypeChange\",t.CONNECTION_STATE_CHANGE=\"connectionStateChange\",t.LOAD_CONFIG_FROM_LOCALSTORAGE=\"loadConfigFromLocalStorage\",t.IMAGE_MODERATION_UPLOAD=\"imageModerationUpload\",t}({}),Zt=function(t){return t.TRACER=\"tracer\",t}({});function mR(t){return Nt(t.timeout,\"config.timeout\",0,1e5),Nt(t.timeoutFactor,\"config.timeoutFactor\",0,100,!1),Nt(t.maxRetryCount,\"config.maxRetryConfig\",0,1/0),Nt(t.maxRetryTimeout,\"config.maxRetryTimeout\",0,1/0),!0}var EB=function(t){return t[t.AUDIENCE_LEVEL_LOW_LATENCY=1]=\"AUDIENCE_LEVEL_LOW_LATENCY\",t[t.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]=\"AUDIENCE_LEVEL_ULTRA_LOW_LATENCY\",t[t.AUDIENCE_LEVEL_SYNC_LATENCY=3]=\"AUDIENCE_LEVEL_SYNC_LATENCY\",t}({}),At=function(t){return t.LEAVE=\"LEAVE\",t.NETWORK_ERROR=\"NETWORK_ERROR\",t.SERVER_ERROR=\"SERVER_ERROR\",t.UID_BANNED=\"UID_BANNED\",t.FALLBACK=\"FALLBACK\",t.IP_BANNED=\"IP_BANNED\",t.CHANNEL_BANNED=\"CHANNEL_BANNED\",t.LICENSE_MISSING=\"LICENSE_MISSING\",t.LICENSE_EXPIRED=\"LICENSE_EXPIRED\",t.LICENSE_MINUTES_EXCEEDED=\"LICENSE_MINUTES_EXCEEDED\",t.LICENSE_PERIOD_INVALID=\"LICENSE_PERIOD_INVALID\",t.LICENSE_MULTIPLE_SDK_SERVICE=\"LICENSE_MULTIPLE_SDK_SERVICE\",t.LICENSE_ILLEGAL=\"LICENSE_ILLEGAL\",t.TOKEN_EXPIRE=\"TOKEN_EXPIRE\",t}({});function Yu(t){if(!Array.isArray(t)||t.length<1)return !1;try{t.forEach(e=>{if(!e.urls)throw Error()});}catch{return !1}return !0}function vO(t){return Pe(t.turnServerURL,\"turnServerURL\"),Pe(t.username,\"username\"),Pe(t.password,\"password\"),t.udpport&&Nt(t.udpport,\"udpport\",1,99999,!0),t.forceturn&&Nr(t.forceturn,\"forceturn\"),t.security&&Nr(t.security,\"security\"),t.tcpport&&Nt(t.tcpport,\"tcpport\",1,99999,!0),!0}function fR(t){return t.level!==void 0&&Ce(t.level,\"level\",[1,2,3]),t.delay!==void 0&&Nt(t.delay,\"delay\",0,3e3,!0),!0}var ut=function(t){return t.CONNECTION_STATE_CHANGE=\"connection-state-change\",t.MEDIA_RECONNECT_START=\"media-reconnect-start\",t.MEDIA_RECONNECT_END=\"media-reconnect-end\",t.IS_USING_CLOUD_PROXY=\"is-using-cloud-proxy\",t.USER_JOINED=\"user-joined\",t.USER_LEAVED=\"user-left\",t.USER_PUBLISHED=\"user-published\",t.USER_UNPUBLISHED=\"user-unpublished\",t.USER_INFO_UPDATED=\"user-info-updated\",t.CLIENT_BANNED=\"client-banned\",t.CHANNEL_MEDIA_RELAY_STATE=\"channel-media-relay-state\",t.CHANNEL_MEDIA_RELAY_EVENT=\"channel-media-relay-event\",t.VOLUME_INDICATOR=\"volume-indicator\",t.CRYPT_ERROR=\"crypt-error\",t.ON_TOKEN_PRIVILEGE_WILL_EXPIRE=\"token-privilege-will-expire\",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"token-privilege-did-expire\",t.NETWORK_QUALITY=\"network-quality\",t.STREAM_TYPE_CHANGED=\"stream-type-changed\",t.STREAM_FALLBACK=\"stream-fallback\",t.RECEIVE_METADATA=\"receive-metadata\",t.STREAM_MESSAGE=\"stream-message\",t.LIVE_STREAMING_ERROR=\"live-streaming-error\",t.LIVE_STREAMING_WARNING=\"live-streaming-warning\",t.EXCEPTION=\"exception\",t.ERROR=\"error\",t.P2P_LOST=\"p2p_lost\",t.JOIN_FALLBACK_TO_PROXY=\"join-fallback-to-proxy\",t.CHANNEL_FALLBACK_TO_WEBSOCKET=\"channel-fallback-to-websocket\",t.MEDIA_CONNECTION_TYPE_CHANGE=\"media-connection-type-change\",t.PUBLISHED_USER_LIST=\"published-user-list\",t.CONTENT_INSPECT_CONNECTION_STATE_CHANGE=\"content-inspect-connection-state-change\",t.CONTENT_INSPECT_ERROR=\"content-inspect-error\",t.CONTENT_INSPECT_RESULT=\"content-inspect-result\",t.IMAGE_MODERATION_CONNECTION_STATE_CHANGE=\"image-moderation-connection-state-change\",t}({}),Be=function(t){return t.NETWORK_ERROR=\"NETWORK_ERROR\",t.SERVER_ERROR=\"SERVER_ERROR\",t.MULTI_IP=\"MULTI_IP\",t.TIMEOUT=\"TIMEOUT\",t.OFFLINE=\"OFFLINE\",t.LEAVE=\"LEAVE\",t.P2P_FAILED=\"P2P_FAILED\",t.FALLBACK=\"FALLBACK\",t}({}),wn=function(t){return t.ONLINE=\"ONLINE\",t.OFFLINE=\"OFFLINE\",t}({}),ks=function(t){return t.NETWORK_STATE_CHANGE=\"NETWORK_STATE_CHANGE\",t.ONLINE=\"ONLINE\",t.OFFLINE=\"OFFLINE\",t}({});function Ge(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return t.getListeners(e).length===0?j.reject(new N(R.UNEXPECTED_ERROR,\"can not emit promise\")):new j((o,s)=>{t.emit(e,...i,o,s);})}function kt(t,e){if(t.getListeners(e).length===0)return j.resolve();for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return Ge(t,e,...i)}function ni(t,e){if(t.getListeners(e).length===0)return null;for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return Ac(t,e,...i)}function Ac(t,e){let n=null,i=null;for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];if(t.emit(e,...o,a=>{n=a;},a=>{i=a;}),i!==null)throw i;if(n===null)throw new N(R.UNEXPECTED_ERROR,\"handler is not sync\");return n}var he=new class extends Xt{set networkState(t){this.emit(ks.NETWORK_STATE_CHANGE,t,this._networkState),t===wn.ONLINE?this.emit(ks.ONLINE):t===wn.OFFLINE&&(this.onlineWaiter=new j(e=>{this.once(ks.ONLINE,()=>{this.onlineWaiter=void 0,e(wn.ONLINE);});}),this.emit(ks.OFFLINE)),this._networkState=t;}get networkState(){return this._networkState}get isOnline(){return this._networkState===wn.ONLINE}constructor(){super(),jt(this,\"_moduleName\",\"network-indicator\"),jt(this,\"_networkState\",wn.ONLINE),jt(this,\"onlineWaiter\",void 0),window.addEventListener(\"online\",()=>{this.networkState=wn.ONLINE;}),window.addEventListener(\"offline\",()=>{this.networkState=wn.OFFLINE;});}};function Wl(t,e){let n=t.indexOf(e);n!==-1&&t.splice(n,1);}function Ls(t){let e=[];return t.forEach(n=>{e.indexOf(n)===-1&&e.push(n);}),e}function qu(t){j!==void 0?j.resolve().then(t):setTimeout(t,0);}function le(t){return JSON.parse(JSON.stringify(t))}function Vo(t){try{return le(t)}catch{return t}}var gR={};function po(t,e){gR[e]||(gR[e]=!0,t());}function Fo(t){let e=window.atob(t),n=new Uint8Array(new ArrayBuffer(e.length));for(let i=0;i<e.length;i+=1)n[i]=e.charCodeAt(i);return n}function so(t){let e=\"\";for(let n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return window.btoa(e)}function yO(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,n=new TextEncoder().encode(t);if(n.length>e)n=n.slice(0,e);else if(n.length<e){let i=new Uint8Array(e);i.set(n),n=i;}return n}function TR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let i=ji(e).call(e,(s,a)=>s+a.length,0),r=new Uint8Array(new ArrayBuffer(i)),o=0;return e.forEach(s=>{r.set(s,o),o+=s.length;}),r}function ar(t){return window.TextEncoder?new TextEncoder().encode(t).length:t.length}function AO(t){let e=0;return (/DingTalk/i.test(navigator.userAgent)||/AliApp/i.test(navigator.userAgent))&&t.realFormData&&(t=t.realFormData),t.forEach(n=>{e+=typeof n==\"string\"?ar(n):n.size;}),e+138}function mB(t){let e=new N(R.TIMEOUT,\"timeout\");return new j((n,i)=>{window.setTimeout(()=>i(e),t);})}function Me(t){return new j(e=>{window.setTimeout(e,t);})}function Ut(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:7,e=arguments.length>1?arguments[1]:void 0,n=Math.random().toString(16).substr(2,t).toLowerCase();return n.length===t?\"\".concat(e).concat(n):\"\".concat(e).concat(n)+Ut(t-n.length,\"\")}function Ms(){return Ut(32,\"\").toUpperCase()}var zu=()=>{},SR=new class{constructor(){jt(this,\"fnMap\",new Map);}throttleByKey(t,e,n,i){for(var r=arguments.length,o=new Array(r>4?r-4:0),s=4;s<r;s++)o[s-4]=arguments[s];if(this.fnMap.has(e)){let a=this.fnMap.get(e);if(a.threshold!==n){a.fn(...a.args),clearTimeout(a.timer);let c=window.setTimeout(()=>{let d=this.fnMap.get(e);d&&d.fn(...d.args),this.fnMap.delete(e);},n);this.fnMap.set(e,{fn:t,threshold:n,timer:c,args:o,skipFn:i});}else a.skipFn&&a.skipFn(...a.args),this.fnMap.set(e,J(J({},a),{},{fn:t,args:o,skipFn:i}));}else {let a=window.setTimeout(()=>{let c=this.fnMap.get(e);c&&c.fn(...c.args),this.fnMap.delete(e);},n);this.fnMap.set(e,{fn:t,threshold:n,timer:a,args:o,skipFn:i});}}},RR=SR.throttleByKey.bind(SR);function CR(t){return typeof t==\"object\"&&t!==null&&!(t instanceof RegExp)}function kE(t,e){if(!CR(t)||!CR(e)||Array.isArray(t)&&!Array.isArray(e)||!Array.isArray(t)&&Array.isArray(e))return e;if(Array.isArray(e)&&Array.isArray(t)){let n=[...t];for(let i=0;i<e.length;i++)n[i]=kE(t[i],e[i]);return n}{let n=J({},t);for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(Object.prototype.hasOwnProperty.call(t,i)?n[i]=kE(t[i],e[i]):n[i]=e[i]);return n}}function IR(t,e){let n=[0];if((n=new Array(e).fill(0)),t===0)return n;let i=0;for(;t>0&&(n[i]=255&t,t>>=8,i++,i!==e););return n}function wp(t){return typeof t==\"number\"?t:t.exact||t.ideal||t.max||t.min||0}function bO(t){let e=\"0123456789abcdef\";function n(A){let b,w=\"\";for(b=0;b<=3;b++)w+=e.charAt(A>>8*b+4&15)+e.charAt(A>>8*b&15);return w}function i(A,b){let w=(65535&A)+(65535&b);return (A>>16)+(b>>16)+(w>>16)<<16|65535&w}function r(A,b,w,D,k,B){return i(function(V,z){return V<<z|V>>>32-z}(i(i(b,A),i(D,B)),k),w)}function o(A,b,w,D,k,B,V){return r(b&w|~b&D,A,b,k,B,V)}function s(A,b,w,D,k,B,V){return r(b&D|w&~D,A,b,k,B,V)}function a(A,b,w,D,k,B,V){return r(b^w^D,A,b,k,B,V)}function c(A,b,w,D,k,B,V){return r(w^(b|~D),A,b,k,B,V)}let d=function(A){let b,w=1+(A.length+8>>6),D=new Array(16*w);for(b=0;b<16*w;b++)D[b]=0;for(b=0;b<A.length;b++)D[b>>2]|=A.charCodeAt(b)<<b%4*8;return D[b>>2]|=128<<b%4*8,D[16*w-2]=8*A.length,D}(t),l,u,h,p,g,E=1732584193,f=-271733879,S=-1732584194,C=271733878;for(l=0;l<d.length;l+=16)u=E,h=f,p=S,g=C,E=o(E,f,S,C,d[l+0],7,-680876936),C=o(C,E,f,S,d[l+1],12,-389564586),S=o(S,C,E,f,d[l+2],17,606105819),f=o(f,S,C,E,d[l+3],22,-1044525330),E=o(E,f,S,C,d[l+4],7,-176418897),C=o(C,E,f,S,d[l+5],12,1200080426),S=o(S,C,E,f,d[l+6],17,-1473231341),f=o(f,S,C,E,d[l+7],22,-45705983),E=o(E,f,S,C,d[l+8],7,1770035416),C=o(C,E,f,S,d[l+9],12,-1958414417),S=o(S,C,E,f,d[l+10],17,-42063),f=o(f,S,C,E,d[l+11],22,-1990404162),E=o(E,f,S,C,d[l+12],7,1804603682),C=o(C,E,f,S,d[l+13],12,-40341101),S=o(S,C,E,f,d[l+14],17,-1502002290),f=o(f,S,C,E,d[l+15],22,1236535329),E=s(E,f,S,C,d[l+1],5,-165796510),C=s(C,E,f,S,d[l+6],9,-1069501632),S=s(S,C,E,f,d[l+11],14,643717713),f=s(f,S,C,E,d[l+0],20,-373897302),E=s(E,f,S,C,d[l+5],5,-701558691),C=s(C,E,f,S,d[l+10],9,38016083),S=s(S,C,E,f,d[l+15],14,-660478335),f=s(f,S,C,E,d[l+4],20,-405537848),E=s(E,f,S,C,d[l+9],5,568446438),C=s(C,E,f,S,d[l+14],9,-1019803690),S=s(S,C,E,f,d[l+3],14,-187363961),f=s(f,S,C,E,d[l+8],20,1163531501),E=s(E,f,S,C,d[l+13],5,-1444681467),C=s(C,E,f,S,d[l+2],9,-51403784),S=s(S,C,E,f,d[l+7],14,1735328473),f=s(f,S,C,E,d[l+12],20,-1926607734),E=a(E,f,S,C,d[l+5],4,-378558),C=a(C,E,f,S,d[l+8],11,-2022574463),S=a(S,C,E,f,d[l+11],16,1839030562),f=a(f,S,C,E,d[l+14],23,-35309556),E=a(E,f,S,C,d[l+1],4,-1530992060),C=a(C,E,f,S,d[l+4],11,1272893353),S=a(S,C,E,f,d[l+7],16,-155497632),f=a(f,S,C,E,d[l+10],23,-1094730640),E=a(E,f,S,C,d[l+13],4,681279174),C=a(C,E,f,S,d[l+0],11,-358537222),S=a(S,C,E,f,d[l+3],16,-722521979),f=a(f,S,C,E,d[l+6],23,76029189),E=a(E,f,S,C,d[l+9],4,-640364487),C=a(C,E,f,S,d[l+12],11,-421815835),S=a(S,C,E,f,d[l+15],16,530742520),f=a(f,S,C,E,d[l+2],23,-995338651),E=c(E,f,S,C,d[l+0],6,-198630844),C=c(C,E,f,S,d[l+7],10,1126891415),S=c(S,C,E,f,d[l+14],15,-1416354905),f=c(f,S,C,E,d[l+5],21,-57434055),E=c(E,f,S,C,d[l+12],6,1700485571),C=c(C,E,f,S,d[l+3],10,-1894986606),S=c(S,C,E,f,d[l+10],15,-1051523),f=c(f,S,C,E,d[l+1],21,-2054922799),E=c(E,f,S,C,d[l+8],6,1873313359),C=c(C,E,f,S,d[l+15],10,-30611744),S=c(S,C,E,f,d[l+6],15,-1560198380),f=c(f,S,C,E,d[l+13],21,1309151649),E=c(E,f,S,C,d[l+4],6,-145523070),C=c(C,E,f,S,d[l+11],10,-1120210379),S=c(S,C,E,f,d[l+2],15,718787259),f=c(f,S,C,E,d[l+9],21,-343485551),E=i(E,u),f=i(f,h),S=i(S,p),C=i(C,g);return n(E)+n(f)+n(S)+n(C)}var fB=1,Od=console,ze=class{static setLogger(t){Od=t;}constructor(t){jt(this,\"lockingPromise\",j.resolve()),jt(this,\"locks\",0),jt(this,\"name\",\"\"),jt(this,\"lockId\",void 0),this.lockId=fB++,t&&(this.name=t),Od.debug(\"[lock-\".concat(this.name,\"-\").concat(this.lockId,\"] is created.\"));}get isLocked(){return this.locks>0}lock(t){let e;this.locks+=1,Od.debug(\"[lock-\".concat(this.name,\"-\").concat(this.lockId,\"] is locked, current queue \").concat(this.locks,\". \").concat(typeof t==\"string\"?t:\"\"));let n=new j(r=>{e=()=>{this.locks-=1,Od.debug(\"[lock-\".concat(this.name,\"-\").concat(this.lockId,\"] is not locked, current queue \").concat(this.locks,\". \").concat(typeof t==\"string\"?t:\"\")),r();};}),i=this.lockingPromise.then(()=>e);return this.lockingPromise=this.lockingPromise.then(()=>n),i}};function $s(t,e){return function(n,i,r){let o=r.value;if(typeof o!=\"function\")throw new Error(\"Cannot use mutex on object property.\");return r.value=async function(){let s=this[e];if(!s)throw new Error(\"mutex property key \".concat(e,\" doesn't exist on \").concat(t));let a=await s.lock(\"From \".concat(t,\".\").concat(i));try{for(var c=arguments.length,d=new Array(c),l=0;l<c;l++)d[l]=arguments[l];return await o.apply(this,d)}finally{a();}},r}}var Ee={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function hf(t,e){let n=Math.floor(e.timeout*Math.pow(e.timeoutFactor,t));return Math.min(e.maxRetryTimeout,n)}function Wi(t,e,n,i){let r=Object.assign({},Ee,i),o=r.timeout,s=async()=>{await function(d){return new j(l=>{window.setTimeout(l,d);})}(o),o*=r.timeoutFactor,o=Math.min(r.maxRetryTimeout,o);},a=!1,c=new j(async(d,l)=>{e=e||(()=>!1),n=n||(()=>!0);for(let u=0;u<r.maxRetryCount;u+=1){if(a)return l(new N(R.OPERATION_ABORTED));try{let h=await t();if(!e(h,u)||u+1===r.maxRetryCount)return d(h);await s();}catch(h){if(!n(h,u)||u+1===r.maxRetryCount)return l(h);await s();}}});return c.cancel=()=>a=!0,c}var Hl=class{constructor(e){jt(this,\"input\",[]),jt(this,\"size\",void 0),this.size=e;}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1);}mean(){var e;return this.input.length===0?0:ji(e=this.input).call(e,(n,i)=>n+i)/this.input.length}},Nd,Dd=0,Op=0;function LE(t,e,n,i){return new j((r,o)=>{e.responseType=e.responseType||\"json\",e.data&&!n?(e.data=JSON.stringify(e.data),Dd+=ar(e.data)):n&&(e.data.size?Dd+=e.data.size:e.data instanceof FormData?Dd+=AO(e.data):Dd+=ar(JSON.stringify(e.data))),e.headers=e.headers||{},e.headers[\"Content-Type\"]=e.headers[\"Content-Type\"]||\"application/json\",e.method=\"POST\",e.url=t,mn.request(e).then(s=>{typeof s.data==\"string\"?Op+=ar(s.data):s.data instanceof ArrayBuffer||s.data instanceof Uint8Array?Op+=s.data.byteLength:Op+=ar(JSON.stringify(s.data)),r(s.data);}).catch(s=>{mn.isCancel(s)?o(new N(R.OPERATION_ABORTED,\"cancel token canceled\")):s.code===\"ECONNABORTED\"?o(new N(R.NETWORK_TIMEOUT,s.message)):s.response?o(new N(R.NETWORK_RESPONSE_ERROR,s.response.status)):o(new N(R.NETWORK_ERROR,s.message));});})}async function gB(t,e){let n=new Blob([e.data],{type:\"buffer\"});return await LE(t,J(J({},e),{},{data:n,headers:{\"Content-Type\":\"application/octet-stream\"}}),!0)}var vR=()=>window.isSecureContext!==void 0,ii=function(t){if(t.match(/[0-9]+\\.[0-9]+\\.[0-9]+$/))return t;let e=t.match(/([0-9]+\\.[0-9]+\\.[0-9]+)\\-alpha\\.([0-9]+)/);if(e&&e[1]&&e[2]){let i=e[1],r=e[2];return \"\".concat(i,\".\").concat(r)}let n=t.match(/([0-9]+\\.[0-9]+\\.[0-9]+)\\-special\\.([0-9]+)/);if(n&&n[1]&&n[2]){let i=n[1],r=n[2];return \"\".concat(i,\".\").concat(100*(Number(r)+1))}return \"4.0.0.999\"}(\"4.22.0\"),pf=function(){try{return JSON.parse(\"true\")===!0}catch{return !0}}(),Oo=function(t){return t.Default=\"default\",t.Auto=\"auto\",t.Relay=\"relay\",t.SdRtn=\"sd-rtn\",t}({}),_f={MIN_FRAME_RATE:1,MAX_FRAME_RATE:30,MAX_THRESHOLD_FRAMERATE:30,BITRATE_MIN_THRESHOLD:100,BITRATE_MAX_THRESHOLD:100,MAX_SCALE:5,BWE_SCALE_UP_THRESHOLD:.6,BWE_SCALE_DOWN_THRESHOLD:.6,PERF_SCALE_UP_THRESHOLD:.7,PERF_SCALE_DOWN_THRESHOLD:.6,MOTION_RESOLUTION_FACTOR:.8,MOTION_BITRATE_FACTOR:.6,DETAIL_FRAMERATE_FACTOR:.8,DETAIL_BITRATE_FACTOR:.6,BALANCE_RESOLUTION_FACTOR:.9,BALANCE_FRAMERATE_FACTOR:.9,BALANCE_BITRATE_FACTOR:.6,OVERUSE_TIMES_THRESHOLD:10,UNDERUSE_TIMES_THRESHOLD:40},Ef=\"v4.22.0-0-g8569241d-dirty(8/15/2024, 7:04:06 PM)\",oe=J(J({PROCESS_ID:\"\",ENCRYPT_AES:!0,AREAS:[\"CHINA\",\"GLOBAL\"],WEBCS_DOMAIN:[\"webrtc2-ap-web-1.agora.io\",\"webrtc2-2.ap.sd-rtn.com\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-ap-web-3.agora.io\",\"webrtc2-4.ap.sd-rtn.com\"],PROXY_CS:[\"ap-proxy-1.agora.io\",\"ap-proxy-2.agora.io\"],CDS_AP:[\"cds-ap-web-1.agora.io\",\"cds-web-2.ap.sd-rtn.com\",\"cds-ap-web-3.agora.io\",\"cds-web-4.ap.sd-rtn.com\"],ACCOUNT_REGISTER:[\"sua-ap-web-1.agora.io\",\"sua-web-2.ap.sd-rtn.com\",\"sua-ap-web-3.agora.io\",\"sua-web-4.ap.sd-rtn.com\"],UAP_AP:[\"uap-ap-web-1.agora.io\",\"uap-web-2.ap.sd-rtn.com\",\"uap-ap-web-3.agora.io\",\"uap-web-4.ap.sd-rtn.com\"],LOG_UPLOAD_SERVER:\"logservice.agora.io\",EVENT_REPORT_DOMAIN:\"statscollector-1.agora.io\",EVENT_REPORT_BACKUP_DOMAIN:\"web-2.statscollector.sd-rtn.com\",ENABLE_EVENT_REPORT:!0,GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:\"\",LIVE_STREAMING_ADDRESS:\"\",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,JOIN_EXTEND:\"\",PUB_EXTEND:\"\",SUB_EXTEND:\"\",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:[\"edge.agora.io\",\"edge.sd-rtn.com\"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:\"edge.agora.io\",TURN_DOMAIN:\"edge.agora.io\",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:\"webnginx-proxy.agora.io\",PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.sd-rtn.com\",\"webrtc-cloud-proxy.agora.io\"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:\"high\",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:250,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:\"\",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:[\"agora.io\",\"sd-rtn.com\"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!1,BITRATE_ADAPTER_TYPE:\"STANDARD_BITRATE\",AI_DENOISER_PARAMETERS:{excludedLinks:[]},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:[\"data-reporting.agora.io\",\"data-reporting.agora.io\"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:\"edge.agora.io\",VIDEO_INSPECT_WORKER_MANAGER_PORT:\"\",VIDEO_INSPECT_WORKER_PORT:\"\",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,NEW_ICE_RESTART:!1,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,FINGERPRINT:null,DC_JOIN_WITH_FAILBACK:5e3,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,AP_AREA:!0,ENABLE_ENCODED_TRANSFORM:!1,ENABLE_VIDEO_SEI:!1,IMAGE_MODERATION_WORKER_HOST:\"edge.agora.io\",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,DATASTREAM_MAX_RETRANSMITS:10,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,USE_PURE_ENCRYPTION_MASTER_KEY:!1,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],USE_NEW_NETWORK_CONFIG:!1,AUTO_RESET_AUDIO_ROUTE:!1,PLUGIN_INFO:[],OVERUSE_DETECTOR_PARAMS:_f,ENABLE_AG_ADAPTATION:!0,FORCE_AG_HIGH_FRAMERATE:!1,FORCE_SUPPORT_AG_ADAPTATION:!1,CUSTOM_ADAPTATION_DEFAULT_MODE:\"\",ENCODER_CONFIG_LIMIT:{},CAMERA_CAPTURE_CONFIG:void 0,HIDE_NO_POSTER:!1,AP_CACHE_NUM:10,AP_UPDATE_INTERVAL:12e4,AP_CACHE_LIFETIME:12e4,MAX_PRELOAD_ASYNC_LENGTH:3,ENABLE_PRELOAD:!0},{ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,ENABLE_USER_LICENSE_CHECK:!0,USE_PUB_RTX:!0,USE_SUB_RTX:!0,DISABLE_FEC:void 0,ENABLE_NTP_REPORT:!1,ENABLE_INSTANT_VIDEO:!1,ENABLE_DATASTREAM_2:!1,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,USE_XR:!0,ENABLE_LOSSBASED_BWE:!0,ENABLE_AUT_CC:!1,ENABLE_CC_FALLBACK:void 0,ENABLE_PREALLOC_PC:!1,SUBSCRIBE_TWCC:!0,PUBLISH_TWCC:!1,ENABLE_SVC:!1,ENABLE_SVC_DEFAULT_CODECS:[\"H264\",\"VP8\",\"VP9\",\"AV1\"],SVC:[],ENABLE_FULL_LINK_AV_SYNC:!1,SVC_MODE:null,PRE_SUB_NUM:2,ENABLE_PRE_SUB:!1,ENABLE_AUT_FEEDBACK:!1}),{},{USE_CANDIDATE_FROM_AP_DETAIL:!1});function Ot(t,e,n){var i,r,o;W(i=Object.keys(oe)).call(i,t)&&(!n&&W(r=Object.keys($r)).call(r,t)||(oe[t]=e,t===\"ENABLE_VIDEO_SEI\"&&e===!0&&(oe.ENABLE_ENCODED_TRANSFORM=!0),t===\"USE_NEW_NETWORK_CONFIG\"&&e&&(o=!!e,oe.USE_NEW_NETWORK_CONFIG=o,o&&(oe.WEBCS_DOMAIN=[\"webrtc2-2.ap.sd-rtn.com\"],oe.WEBCS_DOMAIN_BACKUP_LIST=[\"webrtc2-4.ap.sd-rtn.com\"],oe.CDS_AP=[\"cds-web-2.ap.sd-rtn.com\",\"cds-web-4.ap.sd-rtn.com\"],oe.ACCOUNT_REGISTER=[\"sua-web-2.ap.sd-rtn.com\",\"sua-web-4.ap.sd-rtn.com\"],oe.EVENT_REPORT_DOMAIN=\"web-2.statscollector.sd-rtn.com\",oe.EVENT_REPORT_BACKUP_DOMAIN=\"statscollector-1.agora.io\",oe.GATEWAY_DOMAINS=[\"edge.sd-rtn.com\"])),t===\"ENABLE_PRE_SUB\"&&e&&(oe.ENABLE_INSTANT_VIDEO=!0,oe.ENABLE_PREALLOC_PC=!0),t===\"ENABLE_SVC\"&&e&&(oe.ENABLE_AUT_CC=!0)));}function v(t){return oe[t]}var $r={},ct=function(t){return t.SET_SESSION_ID=\"SET_SESSION_ID\",t.SET_P2P_ID=\"SET_P2P_id\",t.SET_DC_ID=\"SET_DC_id\",t.SET_UID=\"SET_UID\",t.SET_INT_UID=\"SET_INT_UID\",t.SET_PUB_ID=\"SET_PUB_ID\",t.SET_CLOUD_PROXY_SERVER_MODE=\"SET_CLOUD_PROXY_SERVER_MODE\",t.KEY_METRIC_CLIENT_CREATED=\"KEY_METRIC_CLIENT_CREATED\",t.KEY_METRIC_JOIN_START=\"KEY_METRIC_JOIN_START\",t.AVOID_JOIN_START=\"AVOID_JOIN_START\",t.KEY_METRIC_JOIN_END=\"KEY_METRIC_JOIN_END\",t.KEY_METRIC_REQUEST_AP_START=\"KEY_METRIC_REQUEST_AP_START\",t.KEY_METRIC_REQUEST_AP_END=\"KEY_METRIC_REQUEST_AP_END\",t.KEY_METRIC_JOIN_GATEWAY_START=\"KEY_METRIC_JOIN_GATEWAY_START\",t.KEY_METRIC_JOIN_GATEWAY_END=\"KEY_METRIC_JOIN_GATEWAY_END\",t.KEY_METRIC_PEER_CONNECTION_START=\"KEY_METRIC_PEER_CONNECTION_START\",t.KEY_METRIC_PEER_CONNECTION_END=\"KEY_METRIC_PEER_CONNECTION_END\",t.KEY_METRIC_DESCRIPTION_START=\"KEY_METRIC_DESCRIPTION_START\",t.KEY_METRIC_ICE_CONNECTION_END=\"KEY_METRIC_ICE_CONNECTION_END\",t.KEY_METRIC_SIGNAL_CHANNEL_OPEN=\"KEY_METRIC_SIGNAL_CHANNEL_OPEN\",t.KEY_METRIC_PUBLISH=\"KEY_METRIC_PUBLISH\",t.KEY_METRIC_SUBSCRIBE=\"KEY_METRIC_SUBSCRIBE\",t.RECORD_JOIN_CHANNEL_SERVICE=\"RECORD_JOIN_CHANNEL_SERVICE\",t.RESET_JOIN_CHANNEL_SERVICE_RECORDS=\"RESET_JOIN_CHANNEL_SERVICE_RECORDS\",t.RESET_KEY_METRICS=\"RESET_KEY_METRICS\",t.SET_USE_P2P=\"SET_USE_P2P\",t.SET_TRANSPORT_TYPE=\"SET_TRANSPORT_TYPE\",t}(ct||{}),ME=class{constructor(e,n,i,r){jt(this,\"state\",void 0),this.state={codec:e,audioCodec:n,mode:i,clientId:r,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:\"disabled\",useP2P:!1,p2pTransport:Oo.Default};}dispatch(e){this.state=function(n,i){switch(i.type){case ct.SET_SESSION_ID:return J(J({},n),{},{sessionId:i.sessionId});case ct.SET_P2P_ID:return J(J({},n),{},{p2pId:i.p2pId});case ct.SET_UID:return J(J({},n),{},{uid:i.uid});case ct.SET_INT_UID:return J(J({},n),{},{intUid:i.intUid});case ct.SET_PUB_ID:return J(J({},n),{},{pubId:i.pubId});case ct.KEY_METRIC_CLIENT_CREATED:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{clientCreated:i.metric})});case ct.KEY_METRIC_JOIN_START:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{joinStart:i.metric})});case ct.AVOID_JOIN_START:return J(J({},n),{},{avoidJoinStart:i.avoidJoinStart});case ct.KEY_METRIC_JOIN_END:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{joinEnd:i.metric})});case ct.KEY_METRIC_REQUEST_AP_START:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{requestAPStart:i.metric})});case ct.KEY_METRIC_REQUEST_AP_END:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{requestAPEnd:i.metric})});case ct.KEY_METRIC_JOIN_GATEWAY_START:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{joinGatewayStart:i.metric})});case ct.KEY_METRIC_JOIN_GATEWAY_END:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{joinGatewayEnd:i.metric})});case ct.KEY_METRIC_PEER_CONNECTION_START:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{peerConnectionStart:i.metric})});case ct.KEY_METRIC_PEER_CONNECTION_END:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{peerConnectionEnd:i.metric})});case ct.KEY_METRIC_DESCRIPTION_START:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{descriptionStart:i.metric})});case ct.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{signalChannelOpen:i.metric})});case ct.KEY_METRIC_ICE_CONNECTION_END:return J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{iceConnectionEnd:i.metric})});case ct.KEY_METRIC_PUBLISH:{let r=n.keyMetrics.publish,o=r.findIndex(s=>s.trackId===i.metric.trackId);return o!==-1?(r[o]=J(J({},r[o]),i.metric),J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{publish:[...r]})})):J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{publish:[...n.keyMetrics.publish,i.metric]})})}case ct.KEY_METRIC_SUBSCRIBE:{let r=n.keyMetrics.subscribe,o=r.findIndex(s=>s.userId===i.metric.userId&&s.type===i.metric.type);return o!==-1?(r[o]=J(J({},r[o]),i.metric),J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{subscribe:[...r]})})):J(J({},n),{},{keyMetrics:J(J({},n.keyMetrics),{},{subscribe:[...n.keyMetrics.subscribe,i.metric]})})}case ct.SET_CLOUD_PROXY_SERVER_MODE:return n.cloudProxyServerMode=i.mode,n;case ct.RECORD_JOIN_CHANNEL_SERVICE:return typeof i.index!=\"number\"?n.joinChannelServiceRecords=[...n.joinChannelServiceRecords,i.record]:(n.joinChannelServiceRecords[i.index]=J(J({},n.joinChannelServiceRecords[i.index]),i.record),n.joinChannelServiceRecords=[...n.joinChannelServiceRecords]),n;case ct.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return n.joinChannelServiceRecords=[],n;case ct.RESET_KEY_METRICS:return n.keyMetrics={publish:[],subscribe:[]},n;case ct.SET_USE_P2P:return J(J({},n),{},{useP2P:i.val});case ct.SET_TRANSPORT_TYPE:return J(J({},n),{},{p2pTransport:i.val});default:return n}}(this.state,e);}set sessionId(e){this.dispatch({type:ct.SET_SESSION_ID,sessionId:e});}get sessionId(){return this.state.sessionId}set codec(e){this.state.codec=e;}get codec(){return this.state.codec}get mode(){return this.state.mode}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(e){this.dispatch({type:ct.SET_P2P_ID,p2pId:e});}get p2pId(){return this.state.p2pId}set dcId(e){this.dispatch({type:ct.SET_DC_ID,dcId:e});}get dcId(){return this.state.dcId}set uid(e){this.dispatch({type:ct.SET_UID,uid:e});}get uid(){return this.state.uid}set intUid(e){this.dispatch({type:ct.SET_INT_UID,intUid:e});}get intUid(){return this.state.intUid}set pubId(e){this.dispatch({type:ct.SET_PUB_ID,pubId:e});}get pubId(){return this.state.pubId}set cloudProxyServerMode(e){this.dispatch({type:ct.SET_CLOUD_PROXY_SERVER_MODE,mode:e});}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useP2P(e){this.dispatch({type:ct.SET_USE_P2P,val:e});}get useP2P(){return this.state.useP2P}set p2pTransport(e){this.dispatch({type:ct.SET_TRANSPORT_TYPE,val:e});}get p2pTransport(){return this.state.p2pTransport}clientCreated(){this.dispatch({type:ct.KEY_METRIC_CLIENT_CREATED,metric:Date.now()});}joinStart(){this.dispatch({type:ct.KEY_METRIC_JOIN_START,metric:Date.now()});}joinEnd(){this.dispatch({type:ct.KEY_METRIC_JOIN_END,metric:Date.now()});}requestAPStart(){this.dispatch({type:ct.KEY_METRIC_REQUEST_AP_START,metric:Date.now()});}requestAPEnd(){this.dispatch({type:ct.KEY_METRIC_REQUEST_AP_END,metric:Date.now()});}joinGatewayStart(){this.dispatch({type:ct.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()});}joinGatewayEnd(){this.dispatch({type:ct.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()});}peerConnectionStart(){this.dispatch({type:ct.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()});}peerConnectionEnd(){this.dispatch({type:ct.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()});}descriptionStart(){this.dispatch({type:ct.KEY_METRIC_DESCRIPTION_START,metric:Date.now()});}signalChannelOpen(){this.dispatch({type:ct.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()});}iceConnectionEnd(){this.dispatch({type:ct.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()});}publish(e,n,i,r){this.dispatch({type:ct.KEY_METRIC_PUBLISH,metric:J(J({trackId:e,type:n},i&&{publishStart:i}),r&&{publishEnd:r})});}subscribe(e,n,i,r,o,s,a){this.dispatch({type:ct.KEY_METRIC_SUBSCRIBE,metric:J(J(J(J(J({userId:e,type:n},i&&{subscribeStart:i}),r&&{subscribeEnd:r}),o&&{firstFrame:o}),s&&{streamAdded:s}),a&&{firstDecoded:a})});}massSubscribe(e,n,i,r){e.forEach(o=>{this.dispatch({type:ct.KEY_METRIC_SUBSCRIBE,metric:J(J(J({userId:o.userId,type:o.type},n&&{subscribeStart:n}),i&&{subscribeEnd:i}),r&&{firstFrame:r})});});}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(e,n){e.service===\"gateway\"&&Array.isArray(e.urls)&&(e.urls=e.urls.map(i=>i.replace(/(\\d+)-\\d+-\\d+-(\\d+)/,\"$1-*-*-$2\")));try{return typeof n!=\"number\"?(this.dispatch({type:ct.RECORD_JOIN_CHANNEL_SERVICE,record:J(J({},e),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(n<0||n>=this.state.joinChannelServiceRecords.length||this.dispatch({type:ct.RECORD_JOIN_CHANNEL_SERVICE,record:e,index:n}),n)}catch{return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:ct.RESET_JOIN_CHANNEL_SERVICE_RECORDS});}resetKeyMetrics(){this.dispatch({type:ct.RESET_KEY_METRICS});}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch{return []}}get avoidJoinStart(){return this.state.avoidJoinStart}set avoidJoinStart(e){this.dispatch({type:ct.AVOID_JOIN_START,avoidJoinStart:e});}},Ju=function(t){return t.h264=\"h264\",t.h265=\"h265\",t.vp8=\"vp8\",t.vp9=\"vp9\",t.av1=\"av1\",t}({});(function(t){t.opus=\"opus\",t.pcma=\"pcma\",t.pcmu=\"pcmu\",t.g722=\"g722\";})({});var yR=128,TB=96,AR=1e3,us=10,SB=0;function re(t,e,n){return (e=function(i){var r=function(o,s){if(typeof o!=\"object\"||!o)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var c=a.call(o,\"string\");if(typeof c!=\"object\")return c;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(o)}(i);return typeof r==\"symbol\"?r:r+\"\"}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(i){re(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var wO=new class extends Xt{constructor(){super(...arguments),re(this,\"currentUploadLogID\",0);}reportLogUploadError(t){let{errorRange:e}=t;e[e.length-1]&&e[e.length-1]>this.currentUploadLogID&&(this.currentUploadLogID=e[e.length-1],this.emit(\"REPORT_LOG_UPLOAD\",t));}},UE=class{constructor(e){re(this,\"logger\",void 0),re(this,\"prefixLists\",[]),this.logger=e;}debug(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.logger.debug(...this.prefixLists,...n);}info(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.logger.info(...this.prefixLists,...n);}warning(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.logger.warning(...this.prefixLists,...n);}error(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.logger.error(...this.prefixLists,...n);}prefix(e){return this.prefixLists.push(e),this}popPrefix(){return this.prefixLists.pop(),this}};function Np(){let t=new Date;return t.toTimeString().split(\" \")[0]+\":\"+t.getMilliseconds()}function wR(){let t=new Date,e=/((\\d+:){2}\\d+)/.exec(new Date().toUTCString());return e?e?.[0]+\":\"+t.getUTCMilliseconds():t.toTimeString().split(\" \")[0]+\":\"+t.getMilliseconds()}var Qn={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},Pd=Date.now(),ka=t=>{for(let e in Qn)if(Object.prototype.hasOwnProperty.call(Qn,e)&&Qn[e]===t)return e;return \"DEFAULT\"},_=new class{constructor(){re(this,\"proxyServerURL\",void 0),re(this,\"logLevel\",Qn.DEBUG),re(this,\"uploadState\",\"collecting\"),re(this,\"uploadLogWaitingList\",[]),re(this,\"uploadLogUploadingList\",[]),re(this,\"uploadErrorCount\",0),re(this,\"currentLogID\",0),re(this,\"url\",void 0),re(this,\"extLog\",(t,e)=>{this.appendLogToWaitingList(t,...e);});}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let i=[Qn.DEBUG].concat(e);this.log.apply(this,i);}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let i=[Qn.INFO].concat(e);this.log.apply(this,i);}warning(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let i=[Qn.WARNING].concat(e);this.log.apply(this,i);}warn(){this.warning(...arguments);}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let i=[Qn.ERROR].concat(e);this.log.apply(this,i);}upload(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];let i=[Qn.DEBUG].concat(e);this.uploadLog.apply(this,i);}setLogLevel(t){t=Math.min(Math.max(0,t),4),this.logLevel=t;}enableLogUpload(){Ot(\"UPLOAD_LOG\",!0);}disableLogUpload(){Ot(\"UPLOAD_LOG\",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[];}setProxyServer(t){this.proxyServerURL=t;}prefix(t){return new UE(this).prefix(t)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(Date.now()-Pd<100)return void setTimeout(()=>{this.log(...e);},Date.now()-Pd);let i=Math.max(0,Math.min(4,e[0]));if(e[0]=Np()+\" Agora-SDK [\".concat(ka(i),\"]:\"),this.appendLogToWaitingList(i,...e),i<this.logLevel)return;let r=Np()+\" %cAgora-SDK [\".concat(ka(i),\"]:\"),o=[];if(!v(\"USE_NEW_LOG\"))switch(i){case Qn.DEBUG:o=[r,\"color: #64B5F6;\"].concat(e.slice(1)),console.log.apply(console,o);break;case Qn.INFO:o=[r,\"color: #1E88E5; font-weight: bold;\"].concat(e.slice(1)),console.log.apply(console,o);break;case Qn.WARNING:o=[r,\"color: #FB8C00; font-weight: bold;\"].concat(e.slice(1)),console.warn.apply(console,o);break;case Qn.ERROR:o=[r,\"color: #B00020; font-weight: bold;\"].concat(e.slice(1)),console.error.apply(console,o);}}uploadLog(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(Date.now()-Pd<100)return void setTimeout(()=>{this.uploadLog(...e);},Date.now()-Pd);let i=Math.max(0,Math.min(4,e[0]));e[0]=Np()+\" Agora-SDK [\".concat(ka(i),\"]:\"),this.appendLogToWaitingList(i,...e);}appendLogToWaitingList(t){if(!v(\"UPLOAD_LOG\"))return;for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];Array.isArray(n[0])?n[0][0]=wR()+\" Agora-SDK [\".concat(ka(t),\"]:\"):n[0]=wR()+\" Agora-SDK [\".concat(ka(t),\"]:\");let r=\"\";n.forEach(o=>{typeof o==\"object\"&&(o=JSON.stringify(o)),r+=\"\".concat(o,\" \");}),this.uploadLogWaitingList.push({payload_str:r,log_level:t,log_item_id:this.currentLogID++}),this.uploadState===\"uploading\"&&this.uploadLogUploadingList.length===0&&this.uploadLogInterval();}startUpload(){this.uploadState=\"uploading\",this.uploadLogUploadingList.length===0&&this.uploadLogInterval();}async uploadLogs(){let t=this.uploadLogUploadingList,e={sdk_version:ii,process_id:v(\"PROCESS_ID\"),payload:JSON.stringify(t)};return Wi(async()=>{let n=await mn.post(this.url||(this.proxyServerURL?\"https://\".concat(this.proxyServerURL,\"/ls/?h=\").concat(v(\"LOG_UPLOAD_SERVER\"),\"&p=443&d=upload/v1\"):\"https://\".concat(v(\"LOG_UPLOAD_SERVER\"),\"/upload/v1\")),e,{responseType:\"text\"});if(n.data!==\"OK\"){let i=new Error(\"unexpected upload log response\");throw i.response=n,i}},()=>(this.uploadLogUploadingList=[],!1),n=>{let i={status:-1,message:n.message,errorRange:t.map(r=>r.log_item_id)};return n.response?(i.status=n.response.status,i.data=n.response.data,i.headers=n.response.headers):n.request&&(i.status=n.request.status),wO.reportLogUploadError(i),!0},{timeout:v(\"UPLOAD_LOG_REQUEST_RETRY_INTERVAL\"),maxRetryTimeout:v(\"UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL\")})}uploadLogInterval(){this.uploadLogUploadingList.length===0&&this.uploadLogWaitingList.length===0||(this.uploadLogUploadingList.length===0&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,v(\"UPLOAD_LOG_LENGTH_EACH_TIME\"))),this.uploadLogs().then(()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout(()=>this.uploadLogInterval(),v(\"UPLOAD_LOG_INTERVAL\"));}).catch(t=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout(()=>this.uploadLogInterval(),v(\"UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1\")):window.setTimeout(()=>this.uploadLogInterval(),v(\"UPLOAD_LOG_RETRY_INTERVAL_V1\"));}));}},OR;function RB(t){return Pe(t.reportId,\"params.reportId\",0,100,!1),Pe(t.category,\"params.category\",0,100,!1),Pe(t.event,\"params.event\",0,100,!1),Pe(t.label,\"params.label\",0,100,!1),Nt(t.value,\"params.value\",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}(OR={}).FREE=\"free\",OR.UPLOADING=\"uploading\",function(t){t[t.MISC=0]=\"MISC\",t[t.INTERNAL_EVENT=1]=\"INTERNAL_EVENT\",t[t.PUBLIC_EVENT=2]=\"PUBLIC_EVENT\",t[t.WEB_EVENT=3]=\"WEB_EVENT\",t[t.INTERNAL_API=4]=\"INTERNAL_API\",t[t.WEB_API=5]=\"WEB_API\",t[t.PUBLIC_API=6]=\"PUBLIC_API\";}({});var CB={sid:\"\",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0},De=function(t){return t.PUBLISH=\"publish\",t.SUBSCRIBE=\"subscribe\",t.WS_COMPRESSOR_INIT=\"ws_compressor_init\",t.SESSION_INIT=\"session_init\",t.JOIN_CHOOSE_SERVER=\"join_choose_server\",t.REQ_USER_ACCOUNT=\"req_user_account\",t.JOIN_GATEWAY=\"join_gateway\",t.REJOIN_GATEWAY=\"rejoin_gateway\",t.STREAM_SWITCH=\"stream_switch\",t.REQUEST_PROXY_WORKER_MANAGER=\"request_proxy_worker_manager\",t.REQUEST_PROXY_APPCENTER=\"request_proxy_appcenter\",t.FIRST_VIDEO_RECEIVED=\"first_video_received\",t.FIRST_AUDIO_RECEIVED=\"first_audio_received\",t.FIRST_VIDEO_DECODE=\"first_video_decode\",t.FIRST_AUDIO_DECODE=\"first_audio_decode\",t.ON_ADD_AUDIO_STREAM=\"on_add_audio_stream\",t.ON_ADD_VIDEO_STREAM=\"on_add_video_stream\",t.ON_UPDATE_STREAM=\"on_update_stream\",t.ON_REMOVE_STREAM=\"on_remove_stream\",t.USER_ANALYTICS=\"req_user_analytics\",t.PC_STATS=\"pc_stats\",t.UPDATE_REMOTE_RTPCAPABILITIES=\"update_remote_rtpCapabilities\",t}({}),Jt=function(t){return t.SESSION=\"io.agora.pb.Wrtc.Session\",t.JOIN_CHOOSE_SERVER=\"io.agora.pb.Wrtc.JoinChooseServer\",t.REQ_USER_ACCOUNT=\"io.agora.pb.Wrtc.ReqUserAccount\",t.JOIN_GATEWAY=\"io.agora.pb.Wrtc.JoinGateway\",t.RE_JOIN_GATEWAY=\"io.agora.pb.Wrtc.ReJoinGateway\",t.PUBLISH=\"io.agora.pb.Wrtc.Publish\",t.SUBSCRIBE=\"io.agora.pb.Wrtc.Subscribe\",t.WS_COMPRESSOR_INIT=\"io.agora.pb.Wrtc.WsCompressorInit\",t.STREAM_SWITCH=\"io.agora.pb.Wrtc.StreamSwitch\",t.AUDIO_SENDING_STOPPED=\"io.agora.pb.Wrtc.AudioSendingStopped\",t.VIDEO_SENDING_STOPPED=\"io.agora.pb.Wrtc.VideoSendingStopped\",t.REQUEST_PROXY_APPCENTER=\"io.agora.pb.Wrtc.RequestProxyAppCenter\",t.REQUEST_PROXY_WORKER_MANAGER=\"io.agora.pb.Wrtc.RequestProxyWorkerManager\",t.API_INVOKE=\"io.agora.pb.Wrtc.ApiInvoke\",t.FIRST_VIDEO_RECEIVED=\"io.agora.pb.Wrtc.FirstVideoReceived\",t.FIRST_AUDIO_RECEIVED=\"io.agora.pb.Wrtc.FirstAudioReceived\",t.FIRST_VIDEO_DECODE=\"io.agora.pb.Wrtc.FirstVideoDecode\",t.FIRST_AUDIO_DECODE=\"io.agora.pb.Wrtc.FirstAudioDecode\",t.ON_ADD_AUDIO_STREAM=\"io.agora.pb.Wrtc.OnAddAudioStream\",t.ON_ADD_VIDEO_STREAM=\"io.agora.pb.Wrtc.OnAddVideoStream\",t.ON_UPDATE_STREAM=\"io.agora.pb.Wrtc.OnUpdateStream\",t.ON_REMOVE_STREAM=\"io.agora.pb.Wrtc.OnRemoveStream\",t.JOIN_CHANNEL_TIMEOUT=\"io.agora.pb.Wrtc.JoinChannelTimeout\",t.PEER_PUBLISH_STATUS=\"io.agora.pb.Wrtc.PeerPublishStatus\",t.WORKER_EVENT=\"io.agora.pb.Wrtc.WorkerEvent\",t.AP_WORKER_EVENT=\"io.agora.pb.Wrtc.APWorkerEvent\",t.JOIN_WEB_PROXY_AP=\"io.agora.pb.Wrtc.JoinWebProxyAP\",t.WEBSOCKET_QUIT=\"io.agora.pb.Wrtc.WebSocketQuit\",t.USER_ANALYTICS=\"io.agora.pb.Wrtc.UserAnalytics\",t.AUTOPLAY_FAILED=\"io.agora.pb.Wrtc.AutoplayFailed\",t.PC_STATS=\"io.agora.pb.Wrtc.PCStats\",t.UPDATE_REMOTE_RTPCAPABILITIES=\"io.agora.pb.Wrtc.UpdateRemoteRTPCapabilities\",t}({});(function(t){t[t.WORKER_EVENT=156]=\"WORKER_EVENT\",t[t.AP_WORKER_EVENT=160]=\"AP_WORKER_EVENT\";})({});var IB=function(t){return t[t.SESSION=26]=\"SESSION\",t[t.JOIN_CHOOSE_SERVER=27]=\"JOIN_CHOOSE_SERVER\",t[t.REQ_USER_ACCOUNT=196]=\"REQ_USER_ACCOUNT\",t[t.JOIN_GATEWAY=28]=\"JOIN_GATEWAY\",t[t.PUBLISH=30]=\"PUBLISH\",t[t.SUBSCRIBE=29]=\"SUBSCRIBE\",t[t.WS_COMPRESSOR_INIT=9430]=\"WS_COMPRESSOR_INIT\",t[t.STREAM_SWITCH=32]=\"STREAM_SWITCH\",t[t.AUDIO_SENDING_STOPPED=33]=\"AUDIO_SENDING_STOPPED\",t[t.VIDEO_SENDING_STOPPED=34]=\"VIDEO_SENDING_STOPPED\",t[t.REQUEST_PROXY_APPCENTER=35]=\"REQUEST_PROXY_APPCENTER\",t[t.REQUEST_PROXY_WORKER_MANAGER=36]=\"REQUEST_PROXY_WORKER_MANAGER\",t[t.API_INVOKE=41]=\"API_INVOKE\",t[t.FIRST_VIDEO_RECEIVED=348]=\"FIRST_VIDEO_RECEIVED\",t[t.FIRST_AUDIO_RECEIVED=349]=\"FIRST_AUDIO_RECEIVED\",t[t.FIRST_VIDEO_DECODE=350]=\"FIRST_VIDEO_DECODE\",t[t.FIRST_AUDIO_DECODE=351]=\"FIRST_AUDIO_DECODE\",t[t.ON_ADD_AUDIO_STREAM=352]=\"ON_ADD_AUDIO_STREAM\",t[t.ON_ADD_VIDEO_STREAM=353]=\"ON_ADD_VIDEO_STREAM\",t[t.ON_UPDATE_STREAM=356]=\"ON_UPDATE_STREAM\",t[t.ON_REMOVE_STREAM=355]=\"ON_REMOVE_STREAM\",t[t.JOIN_CHANNEL_TIMEOUT=407]=\"JOIN_CHANNEL_TIMEOUT\",t[t.PEER_PUBLISH_STATUS=408]=\"PEER_PUBLISH_STATUS\",t[t.WORKER_EVENT=156]=\"WORKER_EVENT\",t[t.AP_WORKER_EVENT=160]=\"AP_WORKER_EVENT\",t[t.JOIN_WEB_PROXY_AP=700]=\"JOIN_WEB_PROXY_AP\",t[t.WEBSOCKET_QUIT=671]=\"WEBSOCKET_QUIT\",t[t.USER_ANALYTICS=1e4]=\"USER_ANALYTICS\",t[t.AUTOPLAY_FAILED=9178]=\"AUTOPLAY_FAILED\",t}({}),bc=class t{constructor(){re(this,\"baseInfoMap\",new Map),re(this,\"proxyServer\",void 0),re(this,\"eventUploadTimer\",void 0),re(this,\"setSessionIdTimer\",void 0),re(this,\"url\",void 0),re(this,\"backupUrl\",void 0),re(this,\"_appId\",void 0),re(this,\"keyEventUploadPendingItems\",[]),re(this,\"normalEventUploadPendingItems\",[]),re(this,\"apiInvokeUploadPendingItems\",[]),re(this,\"apiInvokeCount\",0),re(this,\"ltsList\",[]),re(this,\"lastSendNormalEventTime\",Date.now()),re(this,\"customReportCounterTimer\",void 0),re(this,\"customReportCount\",0),re(this,\"extApiInvoke\",async e=>{for(let n of e){let i=ot(ot({},n),{},{sid:null,invokeId:++this.apiInvokeCount,tag:Zt.TRACER});this.sendApiInvoke(i);}}),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),v(\"EVENT_REPORT_SEND_INTERVAL\")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),v(\"EVENT_REPORT_SEND_INTERVAL\"));}getBaseInfoBySessionId(e){return this.baseInfoMap.get(e)}adjustSessionStartTime(e){if(!this.baseInfoMap.has(e)&&!this.baseInfoMap.get(e))return void _.error(\"adjust session \".concat(e,\" start time, sid is not exist or info is undefined\"));let n=this.baseInfoMap.get(e),i=Date.now(),r=n.startTime;n.startTime=i,_.debug(\"rewrite session \".concat(e,\" startTime: \").concat(i,\" , \").concat(i-r,\"ms\")),this.baseInfoMap.set(e,n);}setAppId(e){this._appId=e;}reportApiInvoke(e,n,i){n.timeout=n.timeout||6e4,n.reportResult=n.reportResult===void 0||n.reportResult;let r=Date.now();this.apiInvokeCount+=1;let o=this.apiInvokeCount,s=()=>({tag:n.tag,invokeId:o,sid:e,name:n.name,apiInvokeTime:r,options:n.options,states:n.states||null}),a=!!v(\"SHOW_REPORT_INVOKER_LOG\");a&&_.info(\"\".concat(n.name,\" start\"),n.options);let c=!1;Me(n.timeout).then(()=>{c||(this.sendApiInvoke(ot(ot({},s()),{},{error:R.API_INVOKE_TIMEOUT,success:!1})),_.debug(\"\".concat(n.name,\" timeout\")));});let d=new N(R.UNEXPECTED_ERROR,\"\".concat(n.name,\": this api invoke is end\"));return {onSuccess:l=>{let u=()=>{if(c)throw d;return c=!0,this.sendApiInvoke(ot(ot({},s()),{},{success:!0},n.reportResult&&{result:l})),a&&_.info(\"\".concat(n.name,\" onSuccess\")),l};return i?RR(u,n.name+\"Success\",i,()=>c=!0):u()},onError:l=>{let u=()=>{if(c)throw l;c=!0,this.sendApiInvoke(ot(ot({},s()),{},{success:!1,error:l})),a&&_.info(\"\".concat(n.name,\" onFailure\"),l.toString());};return i?RR(u,n.name+\"Error\",i,()=>c=!0):u()}}}sessionInit(e,n){if(this.baseInfoMap.has(e))return;let i=Date.now(),r=this.createBaseInfo(e,i);r.cname=n.cname;let o=Object.assign({},{willUploadConsoleLog:v(\"UPLOAD_LOG\"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:pf?\"global\":\"oversea\",areas:v(\"AREAS\")&&v(\"AREAS\").join(\",\")},n.extend),{stringUid:s,channelProfile:a,channelMode:c,isABTestSuccess:d,lsid:l,clientRole:u}=n,h=Date.now(),p=ot(ot({},r),{},{eventType:De.SESSION_INIT,appid:n.appid,browser:navigator.userAgent,buildFormat:n.buildFormat,build:Ef,lts:h,elapse:h-i,extend:JSON.stringify(o),mode:n.mode,process:v(\"PROCESS_ID\"),appType:v(\"APP_TYPE\"),success:!0,version:ii,stringUid:s,channelProfile:a,channelMode:c,isABTestSuccess:d,lsid:l,clientType:W(g=window.navigator.userAgent).call(g,\"AgoraWebView\")?42:20,clientRole:u,serviceId:v(\"PROCESS_ID\"),extensionID:v(\"PLUGIN_INFO\").join(\",\")||\"\"});var g;this.send({type:Jt.SESSION,data:p},!0);}joinChooseServer(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot({},r),{},{eventType:De.JOIN_CHOOSE_SERVER,lts:o,eventElapse:n.elapse||o-n.lts,chooseServerAddr:n.csAddr,errorCode:n.ec,elapse:o-i.startTime,success:n.succ,chooseServerAddrList:JSON.stringify(n.serverList),uid:n.uid?parseInt(n.uid):null,cid:n.cid?parseInt(n.cid):null,chooseServerIp:n.csIp||\"\",opid:n.opid,unilbsServerIds:n.unilbsServerIds,extend:n.extend||void 0,isHttp3:n.isHttp3});this.send({type:Jt.JOIN_CHOOSE_SERVER,data:s},!0);}reqUserAccount(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot({},r),{},{eventType:De.REQ_USER_ACCOUNT,lts:o,success:n.success,serverAddress:n.serverAddr,stringUid:n.stringUid,uid:n.uid,errorCode:n.errorCode,elapse:n.elapse||o-i.startTime,eventElapse:o-n.lts,extend:JSON.stringify(n.extend)});this.send({type:Jt.REQ_USER_ACCOUNT,data:s},!0);}joinGateway(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info;n.vid&&(r.vid=n.vid),r.uid=n.uid,r.cid=n.cid;let o=Date.now(),{firstSuccess:s,avoidJoinStartTime:a}=n,c=o-(s&&a?a:i.startTime),d=ot(ot({},r),{},{eventType:De.JOIN_GATEWAY,lts:o,gatewayAddr:n.addr,success:n.succ,errorCode:n.ec,errorMsg:n.errorMsg||\"\",elapse:c,eventElapse:o-n.lts,firstSuccess:s,signalChannel:n.signalChannel,preload:n.preload?1:0});n.succ&&(i.lastJoinSuccessTime=o),this.send({type:Jt.JOIN_GATEWAY,data:d},!0);}joinChannelTimeout(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=Date.now(),o=ot(ot({},i.info),{},{lts:r,timeout:n,elapse:r-i.startTime});this.send({type:Jt.JOIN_CHANNEL_TIMEOUT,data:o},!0);}publish(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot({},r),{},{eventType:De.PUBLISH,lts:o,eventElapse:n.eventElapse,elapse:o-i.startTime,success:n.succ,errorCode:n.ec,videoName:n.videoName,audioName:n.audioName,screenName:n.screenName,screenshare:n.screenshare,audio:n.audio,video:n.video,p2pid:n.p2pid,publishRequestid:n.publishRequestid});this.send({type:Jt.PUBLISH,data:s},!0);}subscribe(e,n,i){let r=this.baseInfoMap.get(e);if(!r)return;let o=r.info,s=Date.now(),a=ot(ot({},o),{},{eventType:De.SUBSCRIBE,lts:s,eventElapse:n.eventElapse,elapse:s-r.startTime,success:n.succ,errorCode:n.ec,video:n.video,audio:n.audio,subscribeRequestid:n.subscribeRequestid,p2pid:n.p2pid,preSsrc:n.preSsrc?1:0},i&&{extend:JSON.stringify({isMassSubscribe:!0})});typeof n.peerid==\"string\"?a.peerSuid=n.peerid:a.peer=n.peerid,this.send({type:Jt.SUBSCRIBE,data:a},!0);}wsCompressorInit(e){var n;let i=[...xn(n=this.baseInfoMap).call(n)],r=i.length?i[0]:\"UnableToGetSid\",o=this.baseInfoMap.get(r);if(!o)return;let s=o.info,a=Date.now(),c=ot(ot({},s),{},{eventType:De.WS_COMPRESSOR_INIT,lts:a,eventElapse:e.eventElapse,elapse:a-o.startTime,status:e.status?1:2});this.send({type:Jt.WS_COMPRESSOR_INIT,data:c},!0);}firstRemoteVideoDecode(e,n,i,r){let o=this.baseInfoMap.get(e);if(!o)return;let s=o.info,a=Date.now(),c=ot(ot(ot({},s),r),{},{elapse:a-o.startTime,eventType:n,lts:a,firstDecodeFrame:Math.max((r.firstFrame||a)-o.startTime,0),apEnd:Math.max(r.apEnd-o.startTime,0),apStart:Math.max(r.apStart-o.startTime,0),joinGwEnd:Math.max(r.joinGwEnd-o.startTime,0),joinGwStart:Math.max(r.joinGwStart-o.startTime,0),pcEnd:Math.max(r.pcEnd-o.startTime,0),pcStart:Math.max(r.pcStart-o.startTime,0),subscriberEnd:Math.max(r.subscriberEnd-o.startTime,0),subscriberStart:Math.max(r.subscriberStart-o.startTime,0),videoAddNotify:Math.max(r.videoAddNotify-o.startTime,0)});this.send({type:i,data:c},!0);}firstRemoteFrame(e,n,i,r){let o=this.baseInfoMap.get(e);if(!o)return;let s=o.info,a=Date.now(),c=ot(ot(ot({},s),r),{},{elapse:a-o.startTime,eventType:n,lts:a});this.send({type:i,data:c},!0);}pcStats(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot(ot({},r),n),{},{vid:r.vid===void 0?0:Number(r.vid),elapse:o-i.startTime,eventType:De.PC_STATS,lts:o,preallocation:n.preallocation?1:0});this.send({type:Jt.PC_STATS,data:s},!0);}updateRemoteRTPCapabilities(e,n){if(e){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot(ot({},r),n),{},{vid:r.vid===void 0?0:Number(r.vid),eventType:De.UPDATE_REMOTE_RTPCAPABILITIES,lts:o});this.send({type:Jt.UPDATE_REMOTE_RTPCAPABILITIES,data:s},!0);}}onGatewayStream(e,n,i,r){let o=this.baseInfoMap.get(e);if(!o)return;let s=o.info,a=Date.now(),c=ot(ot(ot({},s),r),{},{eventType:n,lts:a});this.send({type:i,data:c},!0);}streamSwitch(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot({},r),{},{eventType:De.STREAM_SWITCH,lts:o,isDual:n.isdual,elapse:o-i.startTime,success:n.succ});this.send({type:Jt.STREAM_SWITCH,data:s},!0);}requestProxyAppCenter(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot({},r),{},{eventType:De.REQUEST_PROXY_APPCENTER,lts:o,eventElapse:o-n.lts,elapse:o-i.startTime,APAddr:n.APAddr,workerManagerList:n.workerManagerList,response:n.response,errorCode:n.ec,success:n.succ});this.send({type:Jt.REQUEST_PROXY_APPCENTER,data:s},!0);}requestProxyWorkerManager(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot({},r),{},{eventType:De.REQUEST_PROXY_WORKER_MANAGER,lts:o,eventElapse:o-n.lts,elapse:o-i.startTime,workerManagerAddr:n.workerManagerAddr,response:n.response,errorCode:n.ec,success:n.succ});this.send({type:Jt.REQUEST_PROXY_WORKER_MANAGER,data:s},!0);}setProxyServer(e){this.proxyServer=e,e?_.debug(\"reportProxyServerurl: \".concat(e)):_.debug(\"disable reportProxyServerurl: \".concat(e));}peerPublishStatus(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot({},r),{},{subscribeElapse:n.subscribeElapse,peer:n.peer,peerPublishDuration:Math.max(n.audioPublishDuration,n.videoPublishDuration),audiotag:n.audioPublishDuration>0?1:-1,videotag:n.videoPublishDuration>0?1:-1,lts:o,elapse:o-i.startTime,joinChannelSuccessElapse:o-(i.lastJoinSuccessTime||o),peerPublishDurationVideo:n.videoPublishDuration,peerPublishDurationAudio:n.audioPublishDuration});this.send({type:Jt.PEER_PUBLISH_STATUS,data:s},!0);}workerEvent(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now();(function(s,a,c){let d=s[a];if(!d||typeof d!=\"string\")return [s];s[a]=\"\";let l=ar(JSON.stringify(s)),u=0,h=[],p=0;for(let g=0;g<d.length;g++)p+=d.charCodeAt(g)<=127?1:3,p<=c-l||(h[h.length]=J(J({},s),{},{[a]:d.substring(u,g)}),u=g,p=d.charCodeAt(g)<=127?1:3);return u!==d.length-1&&(h[h.length]=J(J({},s),{},{[a]:d.substring(u)})),h})(ot(ot(ot({},r),n),{},{elapse:o-i.startTime,lts:o,productType:\"WebRTC\"}),\"payload\",1300).forEach(s=>this.send({type:Jt.WORKER_EVENT,data:s},!0));}apworkerEvent(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot(ot({},r),n),{},{elapse:o-i.startTime,lts:o});this.send({type:Jt.AP_WORKER_EVENT,data:s},!0);}joinWebProxyAP(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot(ot({},r),n),{},{elapse:o-i.startTime,lts:o,extend:n.extend||void 0});this.send({type:Jt.JOIN_WEB_PROXY_AP,data:s},!0);}WebSocketQuit(e,n){let i=this.baseInfoMap.get(e);if(!i)return;let r=i.info,o=Date.now(),s=ot(ot(ot({},r),n),{},{elapse:o-i.startTime,lts:o});this.send({type:Jt.WEBSOCKET_QUIT,data:s},!0);}async sendCustomReportMessage(e,n){if(this.customReportCount+=n.length,this.customReportCount>v(\"CUSTOM_REPORT_LIMIT\"))throw new N(R.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval(()=>{this.customReportCount=0;},5e3));let i=Date.now(),r=n.map(o=>({type:Jt.USER_ANALYTICS,data:ot(ot({sid:e},o),{},{lts:i})}));try{v(\"NEW_REPORT_SERVER\")?await this.postDataToStatsCollector2(r):await this.postDataToStatsCollector(r);}catch(o){throw _.error(\"send custom report message failed\",o.toString()),new N(R.CUSTOM_REPORT_SEND_FAILED,o.message)}}sendApiInvoke(e){let n=v(\"NOT_REPORT_EVENT\");if(e.tag&&W(n)&&W(n).call(n,e.tag))return !1;if(e.sid===null)return this.apiInvokeUploadPendingItems.push(e),!1;let i=this.baseInfoMap.get(e.sid);if(!i)return this.apiInvokeUploadPendingItems.push(e),!1;let{cname:r,uid:o,cid:s}=i.info,a;if(e.lts=e.lts||Date.now(),e.error)if(e.error instanceof N){let{code:d,message:l}=e.error;a=d||l||e.error.toString();}else a=e.error.toString();let c={invokeId:e.invokeId,sid:e.sid,cname:r,cid:s,uid:o,lts:e.lts,success:e.success,elapse:e.lts-i.startTime,execElapse:e.lts-e.apiInvokeTime,apiName:e.name,options:e.options?JSON.stringify(e.options):void 0,execStates:e.states?JSON.stringify(e.states):void 0,execResult:e.result?JSON.stringify(e.result):void 0,errorCode:e.error?a:void 0,errorMsg:e.error?JSON.stringify(e.error):void 0};return this.send({type:Jt.API_INVOKE,data:c},!1),!0}appendSessionId(){t.__CLIENT_LIST__.forEach(e=>{if(e._sessionId){let n=this.apiInvokeUploadPendingItems.length;for(let i=0;i<n;i++){let r=this.apiInvokeUploadPendingItems.shift();r&&(r.sid=e._sessionId,this.sendApiInvoke(Object.assign({},r)));}}});}send(e,n){if(n)return this.keyEventUploadPendingItems.push(e),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(e),this.normalEventUploadPendingItems.length>v(\"NORMAL_EVENT_QUEUE_CAPACITY\")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1);}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1);}sendItems(e,n){let i=[],r=[];for(;e.length;){let s=e.shift();i.length<20?i.push(s):r.push(s);}e.push(...r);for(let s of [...i]){var o;this.ltsList.indexOf(s.data.lts)!==-1?(s.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(s.data.lts)):(this.ltsList.push(s.data.lts),ed(o=this.ltsList).call(o,(a,c)=>a-c));}return n||(this.lastSendNormalEventTime=Date.now()),v(\"ENABLE_EVENT_REPORT\")&&i.length&&(v(\"NEW_REPORT_SERVER\")?this.postDataToStatsCollector2(i):this.postDataToStatsCollector(i)).catch((s=>a=>{v(\"EVENT_REPORT_RETRY\")&&(n?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(s):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(s),this.normalEventUploadPendingItems.length>v(\"NORMAL_EVENT_QUEUE_CAPACITY\")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-v(\"NORMAL_EVENT_QUEUE_CAPACITY\")),_.warning(\"report: drop normal events\"))));})(i)),e}async postDataToStatsCollector2(e){he.networkState===wn.OFFLINE&&await j.race([he.onlineWaiter,Me(2*Ee.maxRetryTimeout)]);let n=o=>{let s=new Uint8Array;return o.forEach(a=>{let c=uf(JSON.stringify(a.data)),d=new ArrayBuffer(5),l=(h=>{let p=0;return Object.entries(Jt).forEach(g=>{let[E,f]=g;f===h.type&&(p=IB[E]);}),p})(a),u=new DataView(d);u.setUint16(0,c.byteLength,!0),u.setUint8(2,255&l),u.setUint8(3,l>>>8&255),u.setUint8(4,l>>>16&255),s=ER(s,new Uint8Array(d)),s=ER(s,c);}),s},i=\"event\",r=this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(v(\"NEW_REPORT_SERVER_DOMAINS\")[0],\"&p=443&d=\").concat(i):\"https://\".concat(v(\"NEW_REPORT_SERVER_DOMAINS\")[0],\"/\").concat(i);for(let o=0;o<2;o+=1){o===1&&(r=this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(v(\"NEW_REPORT_SERVER_DOMAINS\")[1],\"&p=443&d=\").concat(i):\"https://\".concat(v(\"NEW_REPORT_SERVER_DOMAINS\")[1],\"/\").concat(i));try{await LE(r,{timeout:1e4,data:n(e),headers:ot(ot({biz:\"webrtc\",sendts:Math.round(Date.now()/1e3),debug:\"false\"},this._appId&&{appid:this._appId}),{},{\"Content-Type\":\"application/octet-stream\"})},!0);}catch(s){if(o===1)throw s;continue}return}}async postDataToStatsCollector(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i={msgType:\"EventMessages\",sentTs:Math.round(Date.now()/1e3),payloads:e.map(s=>JSON.stringify(s)),vid:(s=>{let a=s&&s.data.sid&&this.baseInfoMap.get(s.data.sid);return a&&a.info.vid&&+a.info.vid||0})(e[0])};he.networkState===wn.OFFLINE&&await j.race([he.onlineWaiter,Me(2*Ee.maxRetryTimeout)]);let r=n?\"/events/proto-raws\":\"/events/messages\",o=this.url||(this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(v(\"EVENT_REPORT_DOMAIN\"),\"&p=\").concat(v(\"STATS_COLLECTOR_PORT\"),\"&d=\").concat(r):\"https://\".concat(v(\"EVENT_REPORT_DOMAIN\"),\":\").concat(v(\"STATS_COLLECTOR_PORT\")).concat(r));for(let s=0;s<2;s+=1){s===1&&(o=this.backupUrl||(this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(v(\"EVENT_REPORT_BACKUP_DOMAIN\"),\"&p=\").concat(v(\"STATS_COLLECTOR_PORT\"),\"&d=\").concat(r):\"https://\".concat(v(\"EVENT_REPORT_BACKUP_DOMAIN\"),\":\").concat(v(\"STATS_COLLECTOR_PORT\")).concat(r)));try{n?await gB(o,{timeout:1e4,data:i}):await LE(o,{timeout:1e4,data:i});}catch(a){if(s===1)throw a;continue}return}}createBaseInfo(e,n){let i=Object.assign({},CB);return i.sid=e,this.baseInfoMap.set(e,{info:i,startTime:n}),i}reportResourceTiming(e,n){let i=performance.getEntriesByName(e),r=i[i.length-1];r&&this.reportApiInvoke(n,{name:\"Client.resourceTiming\",options:r,tag:Zt.TRACER}).onSuccess();}};function $(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(e,n,i){let r=i.value;if(typeof r==\"function\"){let o=t.className||e.__className__||(e.constructor.name===\"AgoraRTCClient\"?\"Client\":e.constructor.name);i.value=function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];let d=a;if(t.argsMap)try{d=t.argsMap(this,...a);}catch(u){_.warning(u),d=[];}try{JSON.stringify(d);}catch{_.warning(\"arguments for method \".concat(o,\".\").concat(String(n),\" not serializable for apiInvoke.\")),d=[];}let l=(t.report||X).reportApiInvoke(this._sessionId||null,{name:\"\".concat(o,\".\").concat(String(n)),options:d,tag:Zt.TRACER,reportResult:t.reportResult},t.throttleTime);try{let u=r.apply(this,a);return u instanceof j?u.then(h=>(l.onSuccess(t.reportResult&&h),h)).catch(h=>{throw l.onError(h),h}):(l.onSuccess(t.reportResult&&u),u)}catch(u){throw l.onError(u),u}};}return i}}re(bc,\"__CLIENT_LIST__\",[]);var X=new bc;wO.on(\"REPORT_LOG_UPLOAD\",t=>{t.networkState=he.networkState,X.reportApiInvoke(null,{name:\"logUploadError\",options:t,tag:Zt.TRACER}).onSuccess(\"logUploadError\");});var vB=[\"CHINA\",\"GLOBAL\"],Ve=function(){let t=\"us\".concat(\"erna\",\"me\"),e=\"pa\".concat(\"sswo\",\"rd\"),n=[\"t\",\"s\",\"t\"];n.splice(1,0,\"e\");let i=n.join(\"\"),r=[];for(let a=0;a<6;a++)r.push(\"1\");let o=r.join(\"\"),s={};return s[t]=i,s[e]=o,Object.assign(s,{turnServerURL:\"\",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=Ve,pf||(oe.WEBCS_DOMAIN=[\"ap-web-1-oversea.agora.io\",\"ap-web-1-north-america.agora.io\"],oe.WEBCS_DOMAIN_BACKUP_LIST=[\"ap-web-2-oversea.agora.io\",\"ap-web-2-north-america.agora.io\"],oe.PROXY_CS=[\"proxy-ap-web-oversea.agora.io\",\"proxy-ap-web-america.agora.io\"],oe.CDS_AP=[\"cds-ap-web-oversea.agora.io\",\"cds-ap-web-america.agora.io\",\"cds-ap-web-america2.agora.io\"],oe.ACCOUNT_REGISTER=[\"sua-ap-web-oversea.agora.io\",\"sua-ap-web-america.agora.io\",\"sua-ap-web-america2.agora.io\"],oe.UAP_AP=[\"uap-ap-web-oversea.agora.io\",\"uap-ap-web-america.agora.io\",\"uap-ap-web-america2.agora.io\"],oe.LOG_UPLOAD_SERVER=\"logservice-oversea.agora.io\",oe.EVENT_REPORT_DOMAIN=\"statscollector-1-oversea.agora.io\",oe.EVENT_REPORT_BACKUP_DOMAIN=\"statscollector-2-oversea.agora.io\",oe.PROXY_SERVER_TYPE3=\"webrtc-cloud-proxy.agora.io\",oe.AREAS=[\"NORTH_AMERICA\",\"OVERSEA\"]);var OO=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],Jr=[];function Io(t,e){return !!e&&Jr.some(n=>n.uid===t&&n.channelName===e)}bc.__CLIENT_LIST__=Jr;var yB=bw.forEach,NR=Nu(\"forEach\")?[].forEach:function(t){return yB(this,t,arguments.length>1?arguments[1]:void 0)};xt({target:\"Array\",proto:!0,forced:[].forEach!=NR},{forEach:NR});var AB=bi(\"Array\").forEach,bB=Er,wB=Je,OB=hn,NB=AB,Dp=Array.prototype,DB={DOMTokenList:!0,NodeList:!0},PB=function(t){var e=t.forEach;return t===Dp||OB(Dp,t)&&e===Dp.forEach||wB(DB,bB(t))?NB:e},kB=ae(PB),LB=_r,DR=Lu;xt({target:\"Object\",stat:!0,forced:Se(function(){DR(1);})},{keys:function(t){return DR(LB(t))}});var NO=ae(Gi.Object.keys),MB=ae(VA),UB=xt,xB=nd,VB=me([].reverse),PR=[1,2];UB({target:\"Array\",proto:!0,forced:String(PR)===String(PR.reverse())},{reverse:function(){return xB(this)&&(this.length=this.length),VB(this)}});var FB=bi(\"Array\").reverse,BB=hn,jB=FB,Pp=Array.prototype,GB=function(t){var e=t.reverse;return t===Pp||BB(Pp,t)&&e===Pp.reverse?jB:e},DO=GB,WB=ae(DO),HB=xt,kR=nd,KB=xu,YB=Hn,LR=Om,qB=Lr,zB=Eo,JB=Bu,XB=pe,QB=Gm,ZB=Iw(\"slice\"),$B=XB(\"species\"),kp=Array,tj=Math.max;HB({target:\"Array\",proto:!0,forced:!ZB},{slice:function(t,e){var n,i,r,o=zB(this),s=qB(o),a=LR(t,s),c=LR(e===void 0?s:e,s);if(kR(o)&&(n=o.constructor,(KB(n)&&(n===kp||kR(n.prototype))||YB(n)&&(n=n[$B])===null)&&(n=void 0),n===kp||n===void 0))return QB(o,a,c);for(i=new(n===void 0?kp:n)(tj(c-a,0)),r=0;a<c;a++,r++)a in o&&JB(i,r,o[a]);return i.length=r,i}});var ej=bi(\"Array\").slice,nj=hn,ij=ej,Lp=Array.prototype,rj=function(t){var e=t.slice;return t===Lp||nj(Lp,t)&&e===Lp.slice?ij:e},oj=ae(rj);function q(t,e,n,i,r){var o,s,a,c={};return kB(o=NO(i)).call(o,function(d){c[d]=i[d];}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,(\"value\"in c||c.initializer)&&(c.writable=!0),c=MB(s=WB(a=oj(n).call(n)).call(a)).call(s,function(d,l){return l(t,e,d)||d},c),r&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(r):void 0,c.initializer=void 0),c.initializer===void 0&&(Rw(t,e,c),c=null),c}var xE=function(t){return t.L1T1=\"L1T1\",t.L1T2=\"L1T2\",t.L1T3=\"L1T3\",t.L1T3_KEY=\"L1T3_KEY\",t.L2T1_KEY=\"L2T1_KEY\",t.L2T2_KEY=\"L2T2_KEY\",t.L2T3_KEY=\"L2T3_KEY\",t.L3T1_KEY=\"L3T1_KEY\",t.L3T2_KEY=\"L3T2_KEY\",t.L3T3_KEY=\"L3T3_KEY\",t}({}),kn=function(t){return t.CERTIFICATE=\"certificate\",t.CODEC=\"codec\",t.CANDIDATE_PAIR=\"candidate-pair\",t.LOCAL_CANDIDATE=\"local-candidate\",t.REMOTE_CANDIDATE=\"remote-candidate\",t.INBOUND=\"inbound-rtp\",t.TRACK=\"track\",t.OUTBOUND=\"outbound-rtp\",t.PC=\"peer-connection\",t.REMOTE_INBOUND=\"remote-inbound-rtp\",t.REMOTE_OUTBOUND=\"remote-outbound-rtp\",t.TRANSPORT=\"transport\",t.CSRC=\"csrc\",t.DATA_CHANNEL=\"data-channel\",t.STREAM=\"stream\",t.SENDER=\"sender\",t.RECEIVER=\"receiver\",t}({}),gl=function(t){return t[t.ACCESS_POINT=101]=\"ACCESS_POINT\",t[t.UNILBS=201]=\"UNILBS\",t[t.STRING_UID_ALLOCATOR=901]=\"STRING_UID_ALLOCATOR\",t}({}),Mp=function(t){return t[t.IIIEGAL_APPID=1]=\"IIIEGAL_APPID\",t[t.IIIEGAL_UID=2]=\"IIIEGAL_UID\",t[t.INTERNAL_ERROR=3]=\"INTERNAL_ERROR\",t}({}),ci=function(t){return t[t.INVALID_VENDOR_KEY=5]=\"INVALID_VENDOR_KEY\",t[t.INVALID_CHANNEL_NAME=7]=\"INVALID_CHANNEL_NAME\",t[t.INTERNAL_ERROR=8]=\"INTERNAL_ERROR\",t[t.NO_AUTHORIZED=9]=\"NO_AUTHORIZED\",t[t.DYNAMIC_KEY_TIMEOUT=10]=\"DYNAMIC_KEY_TIMEOUT\",t[t.NO_ACTIVE_STATUS=11]=\"NO_ACTIVE_STATUS\",t[t.DYNAMIC_KEY_EXPIRED=13]=\"DYNAMIC_KEY_EXPIRED\",t[t.STATIC_USE_DYNAMIC_KEY=14]=\"STATIC_USE_DYNAMIC_KEY\",t[t.DYNAMIC_USE_STATIC_KEY=15]=\"DYNAMIC_USE_STATIC_KEY\",t[t.USER_OVERLOAD=16]=\"USER_OVERLOAD\",t[t.FORBIDDEN_REGION=18]=\"FORBIDDEN_REGION\",t[t.CANNOT_MEET_AREA_DEMAND=19]=\"CANNOT_MEET_AREA_DEMAND\",t}({}),on=function(t){return t[t.NO_FLAG_SET=100]=\"NO_FLAG_SET\",t[t.FLAG_SET_BUT_EMPTY=101]=\"FLAG_SET_BUT_EMPTY\",t[t.INVALID_FALG_SET=102]=\"INVALID_FALG_SET\",t[t.FLAG_SET_BUT_NO_RE=103]=\"FLAG_SET_BUT_NO_RE\",t[t.INVALID_SERVICE_ID=104]=\"INVALID_SERVICE_ID\",t[t.NO_SERVICE_AVAILABLE=200]=\"NO_SERVICE_AVAILABLE\",t[t.NO_SERVICE_AVAILABLE_P2P=201]=\"NO_SERVICE_AVAILABLE_P2P\",t[t.NO_SERVICE_AVAILABLE_VOICE=202]=\"NO_SERVICE_AVAILABLE_VOICE\",t[t.NO_SERVICE_AVAILABLE_WEBRTC=203]=\"NO_SERVICE_AVAILABLE_WEBRTC\",t[t.NO_SERVICE_AVAILABLE_CDS=204]=\"NO_SERVICE_AVAILABLE_CDS\",t[t.NO_SERVICE_AVAILABLE_CDN=205]=\"NO_SERVICE_AVAILABLE_CDN\",t[t.NO_SERVICE_AVAILABLE_TDS=206]=\"NO_SERVICE_AVAILABLE_TDS\",t[t.NO_SERVICE_AVAILABLE_REPORT=207]=\"NO_SERVICE_AVAILABLE_REPORT\",t[t.NO_SERVICE_AVAILABLE_APP_CENTER=208]=\"NO_SERVICE_AVAILABLE_APP_CENTER\",t[t.NO_SERVICE_AVAILABLE_ENV0=209]=\"NO_SERVICE_AVAILABLE_ENV0\",t[t.NO_SERVICE_AVAILABLE_VOET=210]=\"NO_SERVICE_AVAILABLE_VOET\",t[t.NO_SERVICE_AVAILABLE_STRING_UID=211]=\"NO_SERVICE_AVAILABLE_STRING_UID\",t[t.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]=\"NO_SERVICE_AVAILABLE_WEBRTC_UNILBS\",t[t.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]=\"NO_SERVICE_AVAILABLE_UNILBS_FLV\",t}({}),Z=function(t){return t[t.K_TIMESTAMP_EXPIRED=2]=\"K_TIMESTAMP_EXPIRED\",t[t.K_CHANNEL_PERMISSION_INVALID=3]=\"K_CHANNEL_PERMISSION_INVALID\",t[t.K_CERTIFICATE_INVALID=4]=\"K_CERTIFICATE_INVALID\",t[t.K_CHANNEL_NAME_EMPTY=5]=\"K_CHANNEL_NAME_EMPTY\",t[t.K_CHANNEL_NOT_FOUND=6]=\"K_CHANNEL_NOT_FOUND\",t[t.K_TICKET_INVALID=7]=\"K_TICKET_INVALID\",t[t.K_CHANNEL_CONFLICTED=8]=\"K_CHANNEL_CONFLICTED\",t[t.K_SERVICE_NOT_READY=9]=\"K_SERVICE_NOT_READY\",t[t.K_SERVICE_TOO_HEAVY=10]=\"K_SERVICE_TOO_HEAVY\",t[t.K_UID_BANNED=14]=\"K_UID_BANNED\",t[t.K_IP_BANNED=15]=\"K_IP_BANNED\",t[t.K_CHANNEL_BANNED=16]=\"K_CHANNEL_BANNED\",t[t.K_AUTO_REBALANCE=28]=\"K_AUTO_REBALANCE\",t[t.WARN_NO_AVAILABLE_CHANNEL=103]=\"WARN_NO_AVAILABLE_CHANNEL\",t[t.WARN_LOOKUP_CHANNEL_TIMEOUT=104]=\"WARN_LOOKUP_CHANNEL_TIMEOUT\",t[t.WARN_LOOKUP_CHANNEL_REJECTED=105]=\"WARN_LOOKUP_CHANNEL_REJECTED\",t[t.WARN_OPEN_CHANNEL_TIMEOUT=106]=\"WARN_OPEN_CHANNEL_TIMEOUT\",t[t.WARN_OPEN_CHANNEL_REJECTED=107]=\"WARN_OPEN_CHANNEL_REJECTED\",t[t.WARN_REQUEST_DEFERRED=108]=\"WARN_REQUEST_DEFERRED\",t[t.ERR_DYNAMIC_KEY_TIMEOUT=109]=\"ERR_DYNAMIC_KEY_TIMEOUT\",t[t.ERR_NO_AUTHORIZED=110]=\"ERR_NO_AUTHORIZED\",t[t.ERR_VOM_SERVICE_UNAVAILABLE=111]=\"ERR_VOM_SERVICE_UNAVAILABLE\",t[t.ERR_NO_CHANNEL_AVAILABLE_CODE=112]=\"ERR_NO_CHANNEL_AVAILABLE_CODE\",t[t.ERR_MASTER_VOCS_UNAVAILABLE=114]=\"ERR_MASTER_VOCS_UNAVAILABLE\",t[t.ERR_INTERNAL_ERROR=115]=\"ERR_INTERNAL_ERROR\",t[t.ERR_NO_ACTIVE_STATUS=116]=\"ERR_NO_ACTIVE_STATUS\",t[t.ERR_INVALID_UID=117]=\"ERR_INVALID_UID\",t[t.ERR_DYNAMIC_KEY_EXPIRED=118]=\"ERR_DYNAMIC_KEY_EXPIRED\",t[t.ERR_STATIC_USE_DYANMIC_KE=119]=\"ERR_STATIC_USE_DYANMIC_KE\",t[t.ERR_DYNAMIC_USE_STATIC_KE=120]=\"ERR_DYNAMIC_USE_STATIC_KE\",t[t.ERR_NO_VOCS_AVAILABLE=2e3]=\"ERR_NO_VOCS_AVAILABLE\",t[t.ERR_NO_VOS_AVAILABLE=2001]=\"ERR_NO_VOS_AVAILABLE\",t[t.ERR_JOIN_CHANNEL_TIMEOUT=2002]=\"ERR_JOIN_CHANNEL_TIMEOUT\",t[t.ERR_REPEAT_JOIN_CHANNEL=2003]=\"ERR_REPEAT_JOIN_CHANNEL\",t[t.ERR_JOIN_BY_MULTI_IP=2004]=\"ERR_JOIN_BY_MULTI_IP\",t[t.ERR_NOT_JOINED=2011]=\"ERR_NOT_JOINED\",t[t.ERR_REPEAT_JOIN_REQUEST=2012]=\"ERR_REPEAT_JOIN_REQUEST\",t[t.ERR_INVALID_VENDOR_KEY=2013]=\"ERR_INVALID_VENDOR_KEY\",t[t.ERR_INVALID_CHANNEL_NAME=2014]=\"ERR_INVALID_CHANNEL_NAME\",t[t.ERR_INVALID_STRINGUID=2015]=\"ERR_INVALID_STRINGUID\",t[t.ERR_TOO_MANY_USERS=2016]=\"ERR_TOO_MANY_USERS\",t[t.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]=\"ERR_SET_CLIENT_ROLE_TIMEOUT\",t[t.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]=\"ERR_SET_CLIENT_ROLE_NO_PERMISSION\",t[t.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]=\"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE\",t[t.ERR_PUBLISH_REQUEST_INVALID=2020]=\"ERR_PUBLISH_REQUEST_INVALID\",t[t.ERR_SUBSCRIBE_REQUEST_INVALID=2021]=\"ERR_SUBSCRIBE_REQUEST_INVALID\",t[t.ERR_NOT_SUPPORTED_MESSAGE=2022]=\"ERR_NOT_SUPPORTED_MESSAGE\",t[t.ERR_ILLEAGAL_PLUGIN=2023]=\"ERR_ILLEAGAL_PLUGIN\",t[t.ERR_REJOIN_TOKEN_INVALID=2024]=\"ERR_REJOIN_TOKEN_INVALID\",t[t.ERR_REJOIN_USER_NOT_JOINED=2025]=\"ERR_REJOIN_USER_NOT_JOINED\",t[t.ERR_INVALID_OPTIONAL_INFO=2027]=\"ERR_INVALID_OPTIONAL_INFO\",t[t.ILLEGAL_AES_PASSWORD=2028]=\"ILLEGAL_AES_PASSWORD\",t[t.ILLEGAL_CLIENT_ROLE_LEVEL=2029]=\"ILLEGAL_CLIENT_ROLE_LEVEL\",t[t.ERR_TOO_MANY_BROADCASTERS=2031]=\"ERR_TOO_MANY_BROADCASTERS\",t[t.ERR_TOO_MANY_SUBSCRIBERS=2032]=\"ERR_TOO_MANY_SUBSCRIBERS\",t[t.ERR_LICENSE_MISSING=32769]=\"ERR_LICENSE_MISSING\",t[t.ERR_LICENSE_EXPIRED=32771]=\"ERR_LICENSE_EXPIRED\",t[t.ERR_LICENSE_MINUTES_EXCEEDED=32773]=\"ERR_LICENSE_MINUTES_EXCEEDED\",t[t.ERR_LICENSE_PERIOD_INVALID=32774]=\"ERR_LICENSE_PERIOD_INVALID\",t[t.ERR_LICENSE_MULTIPLE_SDK_SERVICE=32778]=\"ERR_LICENSE_MULTIPLE_SDK_SERVICE\",t[t.ERR_LICENSE_ILLEGAL=32783]=\"ERR_LICENSE_ILLEGAL\",t[t.ERR_TEST_RECOVER=9e3]=\"ERR_TEST_RECOVER\",t[t.ERR_TEST_TRYNEXT=9001]=\"ERR_TEST_TRYNEXT\",t[t.ERR_TEST_RETRY=9002]=\"ERR_TEST_RETRY\",t}({}),Lt=function(t){return t.CONNECTING=\"connecting\",t.CONNECTED=\"connected\",t.RECONNECTING=\"reconnecting\",t.CLOSED=\"closed\",t}({}),nt=function(t){return t.WS_CONNECTED=\"ws_connected\",t.WS_RECONNECTING=\"ws_reconnecting\",t.WS_CLOSED=\"ws_closed\",t.WS_RECONNECT_WAITTING_FINISH=\"ws_reconnect_waitting_finish\",t.WS_RECONNECT_CREATE_CONNECTION=\"ws_reconnect_create_connection\",t.ON_BINARY_DATA=\"on_binary_data\",t.REQUEST_RECOVER=\"request_recover\",t.REQUEST_JOIN_INFO=\"request_join_info\",t.REQUEST_REJOIN_INFO=\"req_rejoin_info\",t.IS_P2P_DISCONNECTED=\"is_p2p_dis\",t.DISCONNECT_P2P=\"dis_p2p\",t.ABORT_P2P_EXECUTION=\"abort_p2p_execution\",t.NEED_RENEW_SESSION=\"need-sid\",t.REPORT_JOIN_GATEWAY=\"report_join_gateway\",t.REQUEST_TIMEOUT=\"request_timeout\",t.REQUEST_SUCCESS=\"request_success\",t.JOIN_RESPONSE=\"join_response\",t.PRE_CONNECT_PC=\"pre_connect_pc\",t.P2P_CONNECTION=\"p2p_connection\",t.P2P_REMOTE_CANDIDATE_UPDATE=\"p2p_remote_candidate_update\",t.P2P_SUBSCRIBE=\"p2p_subscribe\",t.P2P_UNSUBSCRIBE=\"p2p_unsubscribe\",t.P2P_EXCHANGE_SDP=\"p2p_exchange_sdp\",t.P2P_ON_ADD_VIDEO_STREAM=\"p2p_on_add_video_stream\",t.P2P_ON_ADD_AUDIO_STREAM=\"p2p_on_add_audio_stream\",t}({}),et=function(t){return t.PING=\"ping\",t.PING_BACK=\"ping_back\",t.JOIN=\"join_v3\",t.REJOIN=\"rejoin_v3\",t.LEAVE=\"leave\",t.SET_CLIENT_ROLE=\"set_client_role\",t.PUBLISH=\"publish\",t.PUBLISH_DATASTREAM=\"publish_datastream\",t.UNPUBLISH=\"unpublish\",t.UNPUBLISH_DATASTREAM=\"unpublish_datastream\",t.SUBSCRIBE=\"subscribe\",t.PRE_SUBSCRIBE=\"pre_subscribe\",t.SUBSCRIBE_DATASTREAM=\"subscribe_datastream\",t.SUBSCRIBE_STREAMS=\"subscribe_streams\",t.UNSUBSCRIBE=\"unsubscribe\",t.UNSUBSCRIBE_DATASTREAM=\"unsubscribe_datastream\",t.UNSUBSCRIBE_STREAMS=\"unsubscribe_streams\",t.SUBSCRIBE_CHANGE=\"subscribe_change\",t.TRAFFIC_STATS=\"traffic_stats\",t.RENEW_TOKEN=\"renew_token\",t.SWITCH_VIDEO_STREAM=\"switch_video_stream\",t.DEFAULT_VIDEO_STREAM=\"default_video_stream\",t.SET_FALLBACK_OPTION=\"set_fallback_option\",t.GATEWAY_INFO=\"gateway_info\",t.CONTROL=\"control\",t.SEND_METADATA=\"send_metadata\",t.DATA_STREAM=\"data_stream\",t.PICK_SVC_LAYER=\"pick_svc_layer\",t.RESTART_ICE=\"restart_ice\",t.CONNECT_PC=\"connect_pc\",t.SET_VIDEO_PROFILE=\"set_video_profile\",t.SET_PARAMETER=\"set_parameter\",t.SET_RTM2_FLAG=\"set_rtm2_flag\",t}({}),wc=function(t){return t.WRTC_STATS=\"wrtc_stats\",t.WS_INFLATE_DATA_LENGTH=\"ws_inflate_data_length\",t.DENOISER_STATS=\"denoiser_stats\",t.EXTENSION_USAGE_STATS=\"extension_usage_stats\",t}({}),dt=function(t){return t.ON_USER_ONLINE=\"on_user_online\",t.ON_USER_OFFLINE=\"on_user_offline\",t.ON_STREAM_FALLBACK_UPDATE=\"on_stream_fallback_update\",t.ON_PUBLISH_STREAM=\"on_publish_stream\",t.ON_UPLINK_STATS=\"on_uplink_stats\",t.ON_P2P_LOST=\"on_p2p_lost\",t.ON_REMOVE_STREAM=\"on_remove_stream\",t.ON_ADD_AUDIO_STREAM=\"on_add_audio_stream\",t.ON_ADD_VIDEO_STREAM=\"on_add_video_stream\",t.ON_TOKEN_PRIVILEGE_WILL_EXPIRE=\"on_token_privilege_will_expire\",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"on_token_privilege_did_expire\",t.ON_USER_BANNED=\"on_user_banned\",t.ON_USER_LICENSE_BANNED=\"on_user_license_banned\",t.ON_NOTIFICATION=\"on_notification\",t.ON_CRYPT_ERROR=\"on_crypt_error\",t.MUTE_AUDIO=\"mute_audio\",t.MUTE_VIDEO=\"mute_video\",t.UNMUTE_AUDIO=\"unmute_audio\",t.UNMUTE_VIDEO=\"unmute_video\",t.ON_P2P_OK=\"on_p2p_ok\",t.RECEIVE_METADATA=\"receive_metadata\",t.ON_DATA_STREAM=\"on_data_stream\",t.ON_RTP_CAPABILITY_CHANGE=\"on_rtp_capability_change\",t.ON_REMOTE_DATASTREAM_UPDATE=\"on_remote_datastream_update\",t.ON_REMOTE_FULL_DATASTREAM_INFO=\"on_remote_full_datastream_info\",t.ENABLE_LOCAL_VIDEO=\"enable_local_video\",t.DISABLE_LOCAL_VIDEO=\"disable_local_video\",t.ENABLE_LOCAL_AUDIO=\"enable_local_audio\",t.DISABLE_LOCAL_AUDIO=\"disable_local_audio\",t.ON_PUBLISHED_USER_LIST=\"on_published_user_list\",t}({}),cn=function(t){return t.SEND_ONLY=\"SEND_ONLY\",t.RECEIVE_ONLY=\"RECEIVE_ONLY\",t}({}),it=function(t){return t.CONNECTED=\"websocket:connected\",t.RECONNECTING=\"websocket:reconnecting\",t.WILL_RECONNECT=\"websocket:will_reconnect\",t.CLOSED=\"websocket:closed\",t.FAILED=\"websocket:failed\",t.ON_MESSAGE=\"websocket:on_message\",t.REQUEST_NEW_URLS=\"websocket:request_new_urls\",t.RECONNECT_WAITTING_FINISH=\"websocket:reconnect_waitting_finish\",t.RECONNECT_CREATE_CONNECTION=\"websocket:reconnect_create_connection\",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"websocket:on_token_privilege_did_expire\",t}({}),O=class extends N{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:\"\",arguments.length>2?arguments[2]:void 0),T(this,\"name\",\"AgoraRTCException\");}print(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:\"error\";return super.print(e,_)}throw(){super.throw(_);}};function Xu(t){if(typeof t!=\"string\"||!/^[a-zA-Z0-9 \\!\\#\\$\\%\\&\\(\\)\\+\\-\\:\\;\\<\\=\\.\\>\\?\\@\\[\\]\\^\\_\\{\\}\\|\\~\\,]{1,64}$/.test(t))throw _.error(\"Invalid Channel Name \".concat(t)),new O(R.INVALID_PARAMS,\"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,\")}function Qu(t){if(!function(e){return typeof e==\"number\"&&Math.floor(e)===e&&0<=e&&e<=4294967295}(t)&&!RO(t,1,255))throw new O(R.INVALID_PARAMS,\"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]\");typeof t==\"string\"&&_.warn(\"You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.\");}var er=function(t){return t.TRANSCODE=\"mix_streaming\",t.RAW=\"raw_streaming\",t}({}),sj={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},Up={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function xp(t,e){Pe(t.url,\"\".concat(e,\".url\"),1,1e3,!1),zt(t.x)||Nt(t.x,\"\".concat(e,\".x\"),0,1e4),zt(t.y)||Nt(t.y,\"\".concat(e,\".y\"),0,1e4),zt(t.width)||Nt(t.width,\"\".concat(e,\".width\"),0,1e4),zt(t.height)||Nt(t.height,\"\".concat(e,\".height\"),0,1e4),zt(t.zOrder)||Nt(t.zOrder,\"\".concat(e,\".zOrder\"),0,255),zt(t.alpha)||Nt(t.alpha,\"\".concat(e,\".alpha\"),0,1,!1);}var aj={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:\"\"},Xr=function(t){return t.WARNING=\"@live_uap-warning\",t.ERROR=\"@line_uap-error\",t.PUBLISH_STREAM_STATUS=\"@live_uap-publish-status\",t.WORKER_STATUS=\"@live_uap-worker-status\",t.REQUEST_NEW_ADDRESS=\"@live_uap-request-address\",t}({}),VE=function(t){return t.REQUEST_WORKER_MANAGER_LIST=\"@live_req_worker_manager\",t}({}),fe=function(t){return t[t.LIVE_STREAM_RESPONSE_SUCCEED=200]=\"LIVE_STREAM_RESPONSE_SUCCEED\",t[t.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]=\"LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM\",t[t.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]=\"LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR\",t[t.LIVE_STREAM_RESPONSE_BAD_STREAM=451]=\"LIVE_STREAM_RESPONSE_BAD_STREAM\",t[t.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]=\"LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR\",t[t.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]=\"LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST\",t[t.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]=\"LIVE_STREAM_RESPONSE_NOT_AUTHORIZED\",t[t.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]=\"LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE\",t[t.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]=\"LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN\",t[t.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]=\"LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH\",t[t.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]=\"LIVE_STREAM_RESPONSE_NOT_SUPPORTED\",t[t.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]=\"LIVE_STREAM_RESPONSE_MAX_STREAM_NUM\",t[t.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]=\"LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR\",t[t.LIVE_STREAM_RESPONSE_WORKER_LOST=501]=\"LIVE_STREAM_RESPONSE_WORKER_LOST\",t[t.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]=\"LIVE_STREAM_RESPONSE_RESOURCE_LIMIT\",t[t.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]=\"LIVE_STREAM_RESPONSE_WORKER_QUIT\",t[t.ERROR_FAIL_SEND_MESSAGE=504]=\"ERROR_FAIL_SEND_MESSAGE\",t[t.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE\",t[t.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT\",t[t.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH\",t[t.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]=\"PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN\",t}({});function MR(t){if(!t.channelName)throw new O(R.INVALID_PARAMS,\"invalid channelName in info\");if(typeof t.uid!=\"number\")throw new O(R.INVALID_PARAMS,\"invalid uid in info, uid must be a number\");return t.token&&Pe(t.token,\"info.token\",1,2047),Qu(t.uid),Xu(t.channelName),!0}var sn=function(t){return t[t.SetSdkProfile=0]=\"SetSdkProfile\",t[t.SetSourceChannel=1]=\"SetSourceChannel\",t[t.SetSourceUserId=2]=\"SetSourceUserId\",t[t.SetDestChannel=3]=\"SetDestChannel\",t[t.StartPacketTransfer=4]=\"StartPacketTransfer\",t[t.StopPacketTransfer=5]=\"StopPacketTransfer\",t[t.UpdateDestChannel=6]=\"UpdateDestChannel\",t[t.Reconnect=7]=\"Reconnect\",t[t.SetVideoProfile=8]=\"SetVideoProfile\",t}({}),Ir=function(t){return t.NETWORK_DISCONNECTED=\"NETWORK_DISCONNECTED\",t.NETWORK_CONNECTED=\"NETWORK_CONNECTED\",t.PACKET_JOINED_SRC_CHANNEL=\"PACKET_JOINED_SRC_CHANNEL\",t.PACKET_JOINED_DEST_CHANNEL=\"PACKET_JOINED_DEST_CHANNEL\",t.PACKET_SENT_TO_DEST_CHANNEL=\"PACKET_SENT_TO_DEST_CHANNEL\",t.PACKET_RECEIVED_VIDEO_FROM_SRC=\"PACKET_RECEIVED_VIDEO_FROM_SRC\",t.PACKET_RECEIVED_AUDIO_FROM_SRC=\"PACKET_RECEIVED_AUDIO_FROM_SRC\",t.PACKET_UPDATE_DEST_CHANNEL=\"PACKET_UPDATE_DEST_CHANNEL\",t.PACKET_UPDATE_DEST_CHANNEL_REFUSED=\"PACKET_UPDATE_DEST_CHANNEL_REFUSED\",t.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE=\"PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE\",t}({}),Sn=function(t){return t.RELAY_STATE_IDLE=\"RELAY_STATE_IDLE\",t.RELAY_STATE_CONNECTING=\"RELAY_STATE_CONNECTING\",t.RELAY_STATE_RUNNING=\"RELAY_STATE_RUNNING\",t.RELAY_STATE_FAILURE=\"RELAY_STATE_FAILURE\",t}({}),ys=function(t){return t.RELAY_OK=\"RELAY_OK\",t.SERVER_CONNECTION_LOST=\"SERVER_CONNECTION_LOST\",t.SRC_TOKEN_EXPIRED=\"SRC_TOKEN_EXPIRED\",t.DEST_TOKEN_EXPIRED=\"DEST_TOKEN_EXPIRED\",t}({}),Ct=function(t){return t.High=\"high\",t.Low=\"low\",t.Audio=\"audio\",t.Screen=\"screen\",t.ScreenLow=\"screen_low\",t}({}),xe=function(t){return t.DISCONNECT=\"disconnect\",t.CONNECTION_STATE_CHANGE=\"connection-state-change\",t.NETWORK_QUALITY=\"network-quality\",t.STREAM_TYPE_CHANGE=\"stream-type-change\",t.IS_P2P_DISCONNECTED=\"is-p2p-dis\",t.DISCONNECT_P2P=\"dis-p2p\",t.REQUEST_NEW_GATEWAY_LIST=\"req-gate-url\",t.NEED_RENEW_SESSION=\"need-sid\",t.REQUEST_P2P_CONNECTION_PARAMS=\"request-p2p-connection-params\",t.JOIN_RESPONSE=\"join-response\",t.RESET_CONNECTION_EVENTS=\"reset-connection-events\",t.PRE_CONNECT_PC=\"pre-connect_pc\",t}({}),Tl=function(t){return t.P2P_DISCONNECTED=\"P2P_DISCONNECTED\",t.A_ROUND_WS_FAILED=\"A_ROUND_WS_FAILED\",t.TIMEOUT=\"TIMEOUT\",t.UNKNOWN_REASON=\"UNKNOWN_REASON\",t}({}),ve=function(t){return t[t.Nothing=0]=\"Nothing\",t[t.Audio=1]=\"Audio\",t[t.LwoVideo=2]=\"LwoVideo\",t[t.Video=4]=\"Video\",t[t.Data=8]=\"Data\",t[t.DataStream0=256]=\"DataStream0\",t[t.DataStream1=512]=\"DataStream1\",t[t.DataStream2=1024]=\"DataStream2\",t[t.DataStream3=2048]=\"DataStream3\",t[t.DataStream4=4096]=\"DataStream4\",t[t.DataStream5=8192]=\"DataStream5\",t[t.DataStream6=16384]=\"DataStream6\",t[t.DataStream7=32768]=\"DataStream7\",t}({}),St=function(t){return t.CHINA=\"CHINA\",t.ASIA=\"ASIA\",t.NORTH_AMERICA=\"NORTH_AMERICA\",t.EUROPE=\"EUROPE\",t.JAPAN=\"JAPAN\",t.INDIA=\"INDIA\",t.KOREA=\"KOREA\",t.HKMC=\"HKMC\",t.US=\"US\",t.OCEANIA=\"OCEANIA\",t.SOUTH_AMERICA=\"SOUTH_AMERICA\",t.AFRICA=\"AFRICA\",t.OVERSEA=\"OVERSEA\",t.GLOBAL=\"GLOBAL\",t.EXTENSIONS=\"EXTENSIONS\",t}({}),UR=[St.AFRICA,St.ASIA,St.CHINA,St.EUROPE,St.GLOBAL,St.INDIA,St.JAPAN,St.NORTH_AMERICA,St.OCEANIA,St.OVERSEA,St.SOUTH_AMERICA],Ye=function(t){return t.CHINA=\"CN\",t.ASIA=\"AS\",t.NORTH_AMERICA=\"NA\",t.EUROPE=\"EU\",t.JAPAN=\"JP\",t.INDIA=\"IN\",t.KOREA=\"KR\",t.HKMC=\"HK\",t.US=\"US\",t.OCEANIA=\"OC\",t.SOUTH_AMERICA=\"SA\",t.AFRICA=\"AF\",t.OVERSEA=\"OVERSEA\",t.GLOBAL=\"GLOBAL\",t.EXTENSIONS=\"GLOBAL\",t}({}),Zu={CHINA:{},ASIA:{CODE:Ye.ASIA,WEBCS_DOMAIN:[\"ap-web-1-asia.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-asia.agora.io\"],PROXY_CS:[\"proxy-ap-web-asia.agora.io\"],CDS_AP:[\"cds-ap-web-asia.agora.io\",\"cds-ap-web-asia2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-asia.agora.io\",\"sua-ap-web-asia2.agora.io\"],UAP_AP:[\"uap-ap-web-asia.agora.io\",\"uap-ap-web-asia2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-asia.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-asia.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-asia.agora.io\"],PROXY_SERVER_TYPE3:[\"southeast-asia.webrtc-cloud-proxy.sd-rtn.com\"]},NORTH_AMERICA:{CODE:Ye.NORTH_AMERICA,WEBCS_DOMAIN:[\"ap-web-1-north-america.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-north-america.agora.io\"],PROXY_CS:[\"proxy-ap-web-america.agora.io\"],CDS_AP:[\"cds-ap-web-america.agora.io\",\"cds-ap-web-america2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-america.agora.io\",\"sua-ap-web-america2.agora.io\"],UAP_AP:[\"uap-ap-web-america.agora.io\",\"uap-ap-web-america2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-north-america.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-north-america.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-north-america.agora.io\"],PROXY_SERVER_TYPE3:[\"east-usa.webrtc-cloud-proxy.sd-rtn.com\"]},EUROPE:{CODE:Ye.EUROPE,WEBCS_DOMAIN:[\"ap-web-1-europe.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-europe.agora.io\"],PROXY_CS:[\"proxy-ap-web-europe.agora.io\"],CDS_AP:[\"cds-ap-web-europe.agora.io\",\"cds-ap-web-europe2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-europe.agora.io\",\"sua-ap-web-europe.agora.io\"],UAP_AP:[\"uap-ap-web-europe.agora.io\",\"uap-ap-web-europe2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-europe.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-europe.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-europe.agora.io\"],PROXY_SERVER_TYPE3:[\"europe.webrtc-cloud-proxy.sd-rtn.com\"]},JAPAN:{CODE:Ye.JAPAN,WEBCS_DOMAIN:[\"ap-web-1-japan.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-japan.agora.io\"],PROXY_CS:[\"proxy-ap-web-japan.agora.io\"],CDS_AP:[\"cds-ap-web-japan.agora.io\",\"cds-ap-web-japan2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-japan.agora.io\",\"sua-ap-web-japan2.agora.io\"],UAP_AP:[\"uap-ap-web-japan.agora.io\",\"uap-ap-web-japan2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-japan.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-japan.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-japan.agora.io\"],PROXY_SERVER_TYPE3:[\"japan.webrtc-cloud-proxy.sd-rtn.com\"]},INDIA:{CODE:Ye.INDIA,WEBCS_DOMAIN:[\"ap-web-1-india.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-india.agora.io\"],PROXY_CS:[\"proxy-ap-web-india.agora.io\"],CDS_AP:[\"cds-ap-web-india.agora.io\",\"cds-ap-web-india2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-india.agora.io\",\"sua-ap-web-india2.agora.io\"],UAP_AP:[\"uap-ap-web-india.agora.io\",\"uap-ap-web-india2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-india.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-india.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-india.agora.io\"],PROXY_SERVER_TYPE3:[\"india.webrtc-cloud-proxy.sd-rtn.com\"]},KOREA:{CODE:Ye.KOREA,WEBCS_DOMAIN:[\"ap-web-1-korea.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-korea.agora.io\"],PROXY_CS:[\"proxy-ap-web-korea.agora.io\"],CDS_AP:[\"cds-ap-web-korea.agora.io\",\"cds-ap-web-korea2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-korea.agora.io\",\"sua-ap-web-korea2.agora.io\"],UAP_AP:[\"uap-ap-web-korea.agora.io\",\"uap-ap-web-korea2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-korea.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-korea.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-korea.agora.io\"],PROXY_SERVER_TYPE3:[\"korea.webrtc-cloud-proxy.sd-rtn.com\"]},HKMC:{CODE:Ye.HKMC,WEBCS_DOMAIN:[\"ap-web-1-hkmc.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-hkmc.agora.io\"],PROXY_CS:[\"proxy-ap-web-hkmc.agora.io\"],CDS_AP:[\"cds-ap-web-hkmc.agora.io\",\"cds-ap-web-hkmc2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-hkmc.agora.io\",\"sua-ap-web-hkmc2.agora.io\"],UAP_AP:[\"uap-ap-web-hkmc.agora.io\",\"uap-ap-web-hkmc2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-hkmc.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-hkmc.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-hkmc.agora.io\"],PROXY_SERVER_TYPE3:[\"hkmc.webrtc-cloud-proxy.sd-rtn.com\"]},US:{CODE:Ye.US,WEBCS_DOMAIN:[\"ap-web-1-us.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-us.agora.io\"],PROXY_CS:[\"proxy-ap-web-us.agora.io\"],CDS_AP:[\"cds-ap-web-us.agora.io\",\"cds-ap-web-us2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-us.agora.io\",\"sua-ap-web-us2.agora.io\"],UAP_AP:[\"uap-ap-web-us.agora.io\",\"uap-ap-web-us2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-us.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-us.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-us.agora.io\"],PROXY_SERVER_TYPE3:[\"us.webrtc-cloud-proxy.sd-rtn.com\"]},OVERSEA:{CODE:Ye.OVERSEA,WEBCS_DOMAIN:[\"ap-web-1-oversea.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-oversea.agora.io\"],PROXY_CS:[\"proxy-ap-web-oversea.agora.io\"],CDS_AP:[\"cds-ap-web-oversea.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-oversea.agora.io\"],UAP_AP:[\"uap-ap-web-oversea.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-oversea.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-oversea.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-oversea.agora.io\"],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.agora.io\"]},GLOBAL:{CODE:Ye.GLOBAL,WEBCS_DOMAIN:[\"webrtc2-ap-web-1.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-ap-web-3.agora.io\"],PROXY_CS:[\"ap-proxy-1.agora.io\",\"ap-proxy-2.agora.io\"],CDS_AP:[\"cds-ap-web-1.agora.io\",\"cds-ap-web-3.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-1.agora.io\",\"sua-ap-web-3.agora.io\"],UAP_AP:[\"uap-ap-web-1.agora.io\",\"uap-ap-web-3.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice.agora.io\"],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.sd-rtn.com\"]},OCEANIA:{CODE:Ye.OCEANIA,WEBCS_DOMAIN:[\"ap-web-1-oceania.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-oceania.agora.io\"],PROXY_CS:[\"proxy-ap-web-oceania.agora.io\"],CDS_AP:[\"cds-ap-web-oceania.agora.io\",\"cds-ap-web-oceania2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-oceania.agora.io\",\"sua-ap-web-oceania2.agora.io\"],UAP_AP:[\"uap-ap-web-oceania.agora.io\",\"uap-ap-web-oceania2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-oceania.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-oceania.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-oceania.agora.io\"],PROXY_SERVER_TYPE3:[\"oceania.webrtc-cloud-proxy.sd-rtn.com\"]},SOUTH_AMERICA:{CODE:Ye.SOUTH_AMERICA,WEBCS_DOMAIN:[\"ap-web-1-south-america.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-south-america.agora.io\"],PROXY_CS:[\"proxy-ap-web-south-america.agora.io\"],CDS_AP:[\"cds-ap-web-south-america.agora.io\",\"cds-ap-web-south-america2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-south-america.agora.io\",\"sua-ap-web-south-america2.agora.io\"],UAP_AP:[\"uap-ap-web-south-america.agora.io\",\"uap-ap-web-south-america2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-south-america.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-south-america.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-south-america.agora.io\"],PROXY_SERVER_TYPE3:[\"south-america.webrtc-cloud-proxy.sd-rtn.com\"]},AFRICA:{CODE:Ye.AFRICA,WEBCS_DOMAIN:[\"ap-web-1-africa.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-africa.agora.io\"],PROXY_CS:[\"proxy-ap-web-africa.agora.io\"],CDS_AP:[\"cds-ap-web-africa.agora.io\",\"cds-ap-web-africa2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-africa.agora.io\",\"sua-ap-web-africa2.agora.io\"],UAP_AP:[\"uap-ap-web-africa.agora.io\",\"uap-ap-web-africa2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-africa.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-africa.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-south-africa.agora.io\"],PROXY_SERVER_TYPE3:[\"africa.webrtc-cloud-proxy.sd-rtn.com\"]},EXTENSIONS:{}};pf&&(Zu.CHINA={CODE:Ye.CHINA,WEBCS_DOMAIN:[\"webrtc2-2.ap.sd-rtn.com\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-4.ap.sd-rtn.com\"],PROXY_CS:[\"proxy-web.ap.sd-rtn.com\"],CDS_AP:[\"cds-web-2.ap.sd-rtn.com\",\"cds-web-4.ap.sd-rtn.com\"],ACCOUNT_REGISTER:[\"sua-web-2.ap.sd-rtn.com\",\"sua-web-4.ap.sd-rtn.com\"],UAP_AP:[\"uap-web-2.ap.sd-rtn.com\",\"uap-web-4.ap.sd-rtn.com\"],EVENT_REPORT_DOMAIN:[\"web-3.statscollector.sd-rtn.com\"],EVENT_REPORT_BACKUP_DOMAIN:[\"web-4.statscollector.sd-rtn.com\"],LOG_UPLOAD_SERVER:[\"logservice-china.agora.io\"],PROXY_SERVER_TYPE3:[\"east-cn.webrtc-cloud-proxy.sd-rtn.com\"]});var FE=function(t){return t.UPDATE_BITRATE_LIMIT=\"update_bitrate_limit\",t}({}),Kl=class extends Xt{constructor(e,n){super(),T(this,\"onICEConnectionStateChange\",void 0),T(this,\"onConnectionStateChange\",void 0),T(this,\"onDTLSTransportStateChange\",void 0),T(this,\"onDTLSTransportError\",void 0),T(this,\"onICETransportStateChange\",void 0),T(this,\"onFirstAudioReceived\",void 0),T(this,\"onFirstVideoReceived\",void 0),T(this,\"onFirstAudioDecoded\",void 0),T(this,\"onFirstVideoDecoded\",void 0),T(this,\"onFirstVideoDecodedTimeout\",void 0),T(this,\"onSelectedLocalCandidateChanged\",void 0),T(this,\"onSelectedRemoteCandidateChanged\",void 0),T(this,\"getLocalVideoStats\",void 0);}},Yl=class extends Kl{constructor(e,n){super(e,n),T(this,\"establishPromise\",void 0);}},Q=function(t){return t.VIDEO=\"video\",t.AUDIO=\"audio\",t}({}),On=function(t){return t[t.UDP=0]=\"UDP\",t[t.TCP=1]=\"TCP\",t[t.RELAY=2]=\"RELAY\",t}({}),Tr=function(t){return t[t.FIRST_CONNECTION=0]=\"FIRST_CONNECTION\",t[t.TCP_RESTART=1]=\"TCP_RESTART\",t[t.RELAY_RESTART=2]=\"RELAY_RESTART\",t[t.OLD_FIRST_CONNECTION=10]=\"OLD_FIRST_CONNECTION\",t[t.OLD_RESTART=11]=\"OLD_RESTART\",t[t.DISCONNECTED_OR_FAILED=20]=\"DISCONNECTED_OR_FAILED\",t}({}),U=function(t){return t.LocalVideoTrack=\"videoTrack\",t.LocalAudioTrack=\"audioTrack\",t.LocalVideoLowTrack=\"videoLowTrack\",t}({}),Rt=function(t){return t.New=\"new\",t.Connected=\"connected\",t.Reconnecting=\"reconnecting\",t.Disconnected=\"disconnected\",t}({}),tt=function(t){return t.StateChange=\"stateChange\",t.IceConnectionStateChange=\"iceConnectionStateChange\",t.RequestMuteLocal=\"requestMuteLocal\",t.RequestUnmuteLocal=\"requestUnmuteLocal\",t.RequestRePublish=\"requestRePublish\",t.RequestRePublishDataChannel=\"requestRePublishDataChannel\",t.RequestReSubscribe=\"requestReSubscribe\",t.RequestUploadStats=\"requestUploadStats\",t.RequestUpload=\"requestUpload\",t.MediaReconnectStart=\"MediaReconnectStart\",t.MediaReconnectEnd=\"MediaReconnectEnd\",t.NeedSignalRTT=\"NeedSignalRTT\",t.RequestRestartICE=\"RequestRestartIce\",t.PeerConnectionStateChange=\"PeerConnectionStateChange\",t.RequestReconnect=\"RequestReconnect\",t.RequestReconnectPC=\"RequestReconnectPC\",t.RequestUnpublishForReconnectPC=\"RequestUnpublishForReconnectPC\",t.P2PLost=\"P2PLost\",t.UpdateVideoEncoder=\"UpdateVideoEncoder\",t.ConnectionTypeChange=\"ConnectionTypeChange\",t.RequestLowStreamParameter=\"RequestLowStreamParameter\",t.QueryClientConnectionState=\"QueryClientConnectionState\",t.LocalCandidate=\"LocalCandidate\",t.RequestP2PMuteLocal=\"requestP2PMuteLocal\",t.RequestP2PUnPublish=\"RequestP2PUnPublish\",t.RequestP2PUnmuteRemote=\"RequestP2PUnmuteRemote\",t.RequestP2PMuteRemote=\"RequestP2PMuteRemote\",t.RequestP2PRestartICE=\"RequestP2PRestartICE\",t}({}),Ei=function(t){return t.CONNECTING=\"CONNECTING\",t.RECONNECTING=\"RECONNECTING\",t.CONNECTED=\"CONNECTED\",t.CLOSED=\"CLOSED\",t}({}),di=function(t){return t[t.CONNECT_AP=0]=\"CONNECT_AP\",t[t.AP_CONNECTED=1]=\"AP_CONNECTED\",t[t.CONNECT_WORKER_MANAGER=2]=\"CONNECT_WORKER_MANAGER\",t[t.WORKER_MANAGER_CONNECTED=3]=\"WORKER_MANAGER_CONNECTED\",t[t.GET_WORKER_MANAGER_RESPONSE=4]=\"GET_WORKER_MANAGER_RESPONSE\",t[t.CONNECT_WORKER=5]=\"CONNECT_WORKER\",t[t.WORKER_CONNECTED=6]=\"WORKER_CONNECTED\",t[t.CLOSED=7]=\"CLOSED\",t}({}),we=function(t){return t.CONNECTION_STATE_CHANGE=\"connection-state-change\",t.STATE_CHANGE=\"state-change\",t.INSPECT_RESULT=\"inspect-result\",t.CLIENT_LOCAL_VIDEO_TRACK=\"client-local-video-track\",t.REQUEST_NEW_WORKER_URL=\"request-new-worker-url\",t}({}),PO=function(t){return t.CONNECTED=\"transmitter:connected\",t.RECONNECTING=\"transmitter:reconnecting\",t.WILL_RECONNECT=\"transmitter:will_reconnect\",t.CLOSED=\"transmitter:closed\",t.FAILED=\"transmitter:failed\",t.ON_MESSAGE=\"transmitter:on_message\",t.REQUEST_NEW_URLS=\"transmitter:request_new_urls\",t.RECONNECT_WAITTING_FINISH=\"transmitter:reconnect_waitting_finish\",t.RECONNECT_CREATE_CONNECTION=\"transmitter:reconnect_create_connection\",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"transmitter:on_token_privilege_did_expire\",t.TO_CONNECT_DATACHANNEL=\"transmitter:to_connect_datachannel\",t.FAILBACK=\"transmitter:failback\",t.PRE_CONNECT_PC=\"transmitter:pre_connect_pc\",t}({}),nr=function(t){return t.CAMERA_CHANGED=\"camera-changed\",t.MICROPHONE_CHANGED=\"microphone-changed\",t.PLAYBACK_DEVICE_CHANGED=\"playback-device-changed\",t.AUDIO_AUTOPLAY_FAILED=\"audio-autoplay-failed\",t.AUTOPLAY_FAILED=\"autoplay-failed\",t.AUDIO_CONTEXT_STATE_CHANGED=\"audio-context-state-changed\",t.SECURITY_POLICY_VIOLATION=\"security-policy-violation\",t}({}),Xn=function(t){return t.CONNECTING=\"CONNECTING\",t.RECONNECTING=\"RECONNECTING\",t.CONNECTED=\"CONNECTED\",t.CLOSED=\"CLOSED\",t}({}),Mi=function(t){return t.CONNECTION_STATE_CHANGE=\"connection-state-change\",t.STATE_CHANGE=\"state-change\",t.INSPECT_RESULT=\"inspect-result\",t.CLIENT_LOCAL_VIDEO_TRACK=\"client-local-video-track\",t.REQUEST_NEW_WORKER_URL=\"request-new-worker-url\",t}({}),hs=function(t){return t[t.CONNECT_AP=0]=\"CONNECT_AP\",t[t.AP_CONNECTED=1]=\"AP_CONNECTED\",t[t.CONNECT_WORKER_MANAGER=2]=\"CONNECT_WORKER_MANAGER\",t[t.WORKER_MANAGER_CONNECTED=3]=\"WORKER_MANAGER_CONNECTED\",t[t.GET_WORKER_MANAGER_RESPONSE=4]=\"GET_WORKER_MANAGER_RESPONSE\",t[t.CONNECT_WORKER=5]=\"CONNECT_WORKER\",t[t.WORKER_CONNECTED=6]=\"WORKER_CONNECTED\",t[t.CLOSED=7]=\"CLOSED\",t}({}),ie=function(t){return t.CALL=\"call\",t.CANDIDATE=\"candidate\",t.PUBLISH=\"publish\",t.UNPUBLISH=\"unpublish\",t.CONTROL=\"control\",t.RESTART_ICE=\"restart_ice\",t.ACK=\"ack\",t.RESPONSE=\"response\",t.JOIN=\"join\",t.CHECK=\"check\",t}({}),ps=function(t){return t.ABORT=\"abort\",t}({}),to=function(t){return t.MUTE_LOCAL_AUDIO=\"mute_local_audio\",t.MUTE_LOCAL_VIDEO=\"mute_local_video\",t.UNMUTE_LOCAL_AUDIO=\"unmute_local_audio\",t.UNMUTE_LOCAL_VIDEO=\"unmute_local_video\",t}({}),cj=function(t){return t.P2P_TOKEN_TIMEOUT=\"p2p_token_timeout\",t.P2P_TOKEN_CHANGED=\"p2p_token_changed\",t}({}),dj={[gl.ACCESS_POINT]:{[on.NO_FLAG_SET]:{desc:\"flag is zero\",retry:!1},[on.FLAG_SET_BUT_EMPTY]:{desc:\"flag is empty\",retry:!1},[on.INVALID_FALG_SET]:{desc:\"invalid flag\",retry:!1},[on.FLAG_SET_BUT_NO_RE]:{desc:\"flag set unilbs but no request\",retry:!1},[on.INVALID_SERVICE_ID]:{desc:\"invalid service id\",retry:!1},[on.NO_SERVICE_AVAILABLE]:{desc:\"no service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_P2P]:{desc:\"no unilbs p2p service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_VOICE]:{desc:\"no unilbs voice service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:\"no unilbs webrtc service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_CDS]:{desc:\"no cds service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_CDN]:{desc:\"no cdn dispatcher service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_TDS]:{desc:\"no tds service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_REPORT]:{desc:\"no unilbs report service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:\"no app center service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_ENV0]:{desc:\"no unilbs sig env0 service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_VOET]:{desc:\"no unilbs voet service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:\"no string uid service available\",retry:!0},[on.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:\"no webrtc unilbs service available\",retry:!0}},[gl.UNILBS]:{[ci.INVALID_VENDOR_KEY]:{desc:\"invalid vendor key, can not find appid\",retry:!1},[ci.INVALID_CHANNEL_NAME]:{desc:\"invalid channel name\",retry:!1},[ci.INTERNAL_ERROR]:{desc:\"unilbs internal error\",retry:!1},[ci.NO_AUTHORIZED]:{desc:\"invalid token, authorized failed\",retry:!1},[ci.DYNAMIC_KEY_TIMEOUT]:{desc:\"dynamic key or token timeout\",retry:!1},[ci.NO_ACTIVE_STATUS]:{desc:\"no active status\",retry:!1},[ci.DYNAMIC_KEY_EXPIRED]:{desc:\"dynamic key expired\",retry:!1},[ci.STATIC_USE_DYNAMIC_KEY]:{desc:\"static use dynamic key\",retry:!1},[ci.DYNAMIC_USE_STATIC_KEY]:{desc:\"dynamic use static key\",retry:!1},[ci.USER_OVERLOAD]:{desc:\"amount of users over load\",retry:!1},[ci.FORBIDDEN_REGION]:{desc:\"the request is forbidden in this area\",retry:!1},[ci.CANNOT_MEET_AREA_DEMAND]:{desc:\"unable to allocate services in this area\",retry:!1}},[gl.STRING_UID_ALLOCATOR]:{[Mp.IIIEGAL_APPID]:{desc:\"invalid appid\",retry:!1},[Mp.IIIEGAL_UID]:{desc:\"invalid string uid\",retry:!1},[Mp.INTERNAL_ERROR]:{desc:\"string uid allocator internal error\",retry:!0}}};function ta(t){let e=dj[Math.floor(t/1e4)];if(!e)return {desc:\"unknown error\",retry:!1};let n=e[t%1e4];if(!n){if(Math.floor(t/1e4)===gl.ACCESS_POINT){let i=t%1e4;if(i.toString()[0]===\"1\")return {desc:t.toString(),retry:!1};if(i.toString()[0]===\"2\")return {desc:t.toString(),retry:!0}}return {desc:\"unknown error\",retry:!1}}return n}var lj={[Z.K_TIMESTAMP_EXPIRED]:{desc:\"K_TIMESTAMP_EXPIRED\",action:\"failed\"},[Z.K_CHANNEL_PERMISSION_INVALID]:{desc:\"K_CHANNEL_PERMISSION_INVALID\",action:\"failed\"},[Z.K_CERTIFICATE_INVALID]:{desc:\"K_CERTIFICATE_INVALID\",action:\"failed\"},[Z.K_CHANNEL_NAME_EMPTY]:{desc:\"K_CHANNEL_NAME_EMPTY\",action:\"failed\"},[Z.K_CHANNEL_NOT_FOUND]:{desc:\"K_CHANNEL_NOT_FOUND\",action:\"failed\"},[Z.K_TICKET_INVALID]:{desc:\"K_TICKET_INVALID\",action:\"failed\"},[Z.K_CHANNEL_CONFLICTED]:{desc:\"K_CHANNEL_CONFLICTED\",action:\"failed\"},[Z.K_SERVICE_NOT_READY]:{desc:\"K_SERVICE_NOT_READY\",action:\"tryNext\"},[Z.K_SERVICE_TOO_HEAVY]:{desc:\"K_SERVICE_TOO_HEAVY\",action:\"tryNext\"},[Z.K_UID_BANNED]:{desc:\"K_UID_BANNED\",action:\"failed\"},[Z.K_IP_BANNED]:{desc:\"K_IP_BANNED\",action:\"failed\"},[Z.K_AUTO_REBALANCE]:{desc:\"k_AUTO_REBALANCE\",action:\"recover\"},[Z.ERR_INVALID_VENDOR_KEY]:{desc:\"ERR_INVALID_VENDOR_KEY\",action:\"failed\"},[Z.ERR_INVALID_CHANNEL_NAME]:{desc:\"ERR_INVALID_CHANNEL_NAME\",action:\"failed\"},[Z.WARN_NO_AVAILABLE_CHANNEL]:{desc:\"WARN_NO_AVAILABLE_CHANNEL\",action:\"failed\"},[Z.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:\"WARN_LOOKUP_CHANNEL_TIMEOUT\",action:\"tryNext\"},[Z.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:\"WARN_LOOKUP_CHANNEL_REJECTED\",action:\"failed\"},[Z.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:\"WARN_OPEN_CHANNEL_TIMEOUT\",action:\"tryNext\"},[Z.WARN_OPEN_CHANNEL_REJECTED]:{desc:\"WARN_OPEN_CHANNEL_REJECTED\",action:\"failed\"},[Z.WARN_REQUEST_DEFERRED]:{desc:\"WARN_REQUEST_DEFERRED\",action:\"failed\"},[Z.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:\"ERR_DYNAMIC_KEY_TIMEOUT\",action:\"failed\"},[Z.ERR_NO_AUTHORIZED]:{desc:\"ERR_NO_AUTHORIZED\",action:\"failed\"},[Z.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:\"ERR_VOM_SERVICE_UNAVAILABLE\",action:\"tryNext\"},[Z.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:\"ERR_NO_CHANNEL_AVAILABLE_CODE\",action:\"failed\"},[Z.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:\"ERR_MASTER_VOCS_UNAVAILABLE\",action:\"tryNext\"},[Z.ERR_INTERNAL_ERROR]:{desc:\"ERR_INTERNAL_ERROR\",action:\"tryNext\"},[Z.ERR_NO_ACTIVE_STATUS]:{desc:\"ERR_NO_ACTIVE_STATUS\",action:\"failed\"},[Z.ERR_INVALID_UID]:{desc:\"ERR_INVALID_UID\",action:\"failed\"},[Z.ERR_DYNAMIC_KEY_EXPIRED]:{desc:\"ERR_DYNAMIC_KEY_EXPIRED\",action:\"failed\"},[Z.ERR_STATIC_USE_DYANMIC_KE]:{desc:\"ERR_STATIC_USE_DYANMIC_KE\",action:\"failed\"},[Z.ERR_DYNAMIC_USE_STATIC_KE]:{desc:\"ERR_DYNAMIC_USE_STATIC_KE\",action:\"failed\"},[Z.ERR_NO_VOCS_AVAILABLE]:{desc:\"ERR_NO_VOCS_AVAILABLE\",action:\"tryNext\"},[Z.ERR_NO_VOS_AVAILABLE]:{desc:\"ERR_NO_VOS_AVAILABLE\",action:\"tryNext\"},[Z.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:\"ERR_JOIN_CHANNEL_TIMEOUT\",action:\"tryNext\"},[Z.ERR_JOIN_BY_MULTI_IP]:{desc:\"ERR_JOIN_BY_MULTI_IP\",action:\"recover\"},[Z.ERR_NOT_JOINED]:{desc:\"ERR_NOT_JOINED\",action:\"failed\"},[Z.ERR_REPEAT_JOIN_REQUEST]:{desc:\"ERR_REPEAT_JOIN_REQUEST\",action:\"quit\"},[Z.ERR_REPEAT_JOIN_CHANNEL]:{desc:\"ERR_REPEAT_JOIN_CHANNEL\",action:\"quit\"},[Z.ERR_INVALID_STRINGUID]:{desc:\"ERR_INVALID_STRINGUID\",action:\"failed\"},[Z.ERR_TOO_MANY_USERS]:{desc:\"ERR_TOO_MANY_USERS\",action:\"tryNext\"},[Z.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:\"ERR_SET_CLIENT_ROLE_TIMEOUT\",action:\"failed\"},[Z.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:\"ERR_SET_CLIENT_ROLE_TIMEOUT\",action:\"failed\"},[Z.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:\"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE\",action:\"success\"},[Z.ERR_PUBLISH_REQUEST_INVALID]:{desc:\"ERR_PUBLISH_REQUEST_INVALID\",action:\"failed\"},[Z.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:\"ERR_SUBSCRIBE_REQUEST_INVALID\",action:\"failed\"},[Z.ERR_NOT_SUPPORTED_MESSAGE]:{desc:\"ERR_NOT_SUPPORTED_MESSAGE\",action:\"failed\"},[Z.ERR_ILLEAGAL_PLUGIN]:{desc:\"ERR_ILLEAGAL_PLUGIN\",action:\"failed\"},[Z.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:\"ILLEGAL_CLIENT_ROLE_LEVEL\",action:\"failed\"},[Z.ERR_REJOIN_TOKEN_INVALID]:{desc:\"ERR_REJOIN_TOKEN_INVALID\",action:\"failed\"},[Z.ERR_REJOIN_USER_NOT_JOINED]:{desc:\"ERR_REJOIN_NOT_JOINED\",action:\"failed\"},[Z.ERR_INVALID_OPTIONAL_INFO]:{desc:\"ERR_INVALID_OPTIONAL_INFO\",action:\"quit\"},[Z.ERR_TEST_RECOVER]:{desc:\"ERR_TEST_RECOVER\",action:\"recover\"},[Z.ERR_TEST_TRYNEXT]:{desc:\"ERR_TEST_TRYNEXT\",action:\"recover\"},[Z.ERR_TEST_RETRY]:{desc:\"ERR_TEST_RETRY\",action:\"recover\"},[Z.ILLEGAL_AES_PASSWORD]:{desc:\"ERR_TEST_RETRY\",action:\"failed\"},[Z.ERR_TOO_MANY_BROADCASTERS]:{desc:\"ERR_TOO_MANY_BROADCASTERS\",action:\"failed\"},[Z.ERR_TOO_MANY_SUBSCRIBERS]:{desc:\"ERR_TOO_MANY_SUBSCRIBERS\",action:\"failed\"},[Z.ERR_LICENSE_ILLEGAL]:{desc:\"ERR_LICENSE_ILLEGAL\",action:\"quit\"},[Z.ERR_LICENSE_MISSING]:{desc:\"ERR_LICENSE_MISSING\",action:\"quit\"},[Z.ERR_LICENSE_EXPIRED]:{desc:\"ERR_LICENSE_EXPIRED\",action:\"quit\"},[Z.ERR_LICENSE_MINUTES_EXCEEDED]:{desc:\"ERR_LICENSE_MINUTES_EXCEEDED\",action:\"quit\"},[Z.ERR_LICENSE_PERIOD_INVALID]:{desc:\"ERR_LICENSE_PERIOD_INVALID\",action:\"quit\"},[Z.ERR_LICENSE_MULTIPLE_SDK_SERVICE]:{desc:\"ERR_LICENSE_MULTIPLE_SDK_SERVICE\",action:\"quit\"}};function Oc(t){return lj[t]||{desc:\"UNKNOWN_ERROR_\".concat(t),action:\"failed\"}}function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}function VR(t){return t.every(e=>e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING)}function FR(t,e){if(typeof t==\"string\")return t;let{proxy:n,host:i,port:r}=t;if(e){let o=v(\"JOIN_GATEWAY_FALLBACK_PORT\")||443;return o===443?\"wss://\".concat(i,\"/ws/?p=\").concat(Number(r)+150):\"wss://\".concat(i,\":\").concat(o,\"/ws/?p=\").concat(Number(r)+150)}return n?\"wss://\".concat(n,\"/ws/?h=\").concat(i,\"&p=\").concat(r):\"wss://\".concat(i,\":\").concat(r)}var uj=/wss:\\/\\/(.+)\\/ws\\/\\?h=(.+)&p=([0-9]+)\\/?/,hj=/wss:\\/\\/(.+)\\/ws\\/\\?p=([0-9]+)\\/?/,pj=/wss:\\/\\/(.+):([0-9]+)\\/?/,_j=/wss:\\/\\/(.[^\\/]+)\\/?/,Ej=0,BE=class{constructor(e,n){T(this,\"id\",0),T(this,\"store\",void 0),T(this,\"recordIndex\",void 0),T(this,\"websockets\",[]),T(this,\"try443PortDuration\",2e3),T(this,\"forceCloseWSDuration\",5e3),T(this,\"try443PortTimeout\",null),T(this,\"forceCloseTimeout\",null),T(this,\"isTry443PortFailed\",!1),T(this,\"isNormalPortFailed\",!1),T(this,\"useDoubleDomain\",!1),T(this,\"useProxy\",!1),T(this,\"startTime\",Date.now()),this.id=++Ej,this.try443PortDuration=v(\"JOIN_GATEWAY_TRY_443PORT_DURATION\")||2e3,this.forceCloseWSDuration=e||5e3,this.store=n;}closeAllWebsockets(){this.websockets.forEach(e=>{e.onopen=null,e.onclose=null,e.onmessage=null,e.close();}),this.websockets.length=0;}clearTimeout(){this.forceCloseTimeout&&clearTimeout(this.forceCloseTimeout),this.try443PortTimeout&&clearTimeout(this.try443PortTimeout);}logger(){var e;let n=Date.now()-this.startTime;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];_.debug(\"[choose-best-ws \".concat((e=this.store)===null||e===void 0?void 0:e.clientId,\" \").concat(this.id,\"] \").concat(n,\"ms:\"),...r);}createWebSocket(e,n,i){this.logger(\"createWebSocket:\",e,{isTry443Port:n,hasTimeoutDetection:i});let r=v(\"GATEWAY_DOMAINS\"),o=Date.now(),s=[],a=r.find(l=>{var u;return W(u=e.host).call(u,l)});a||(this.useDoubleDomain=!1);let c=[];if(this.useDoubleDomain)r.forEach(l=>{c.push(FR(Vp(Vp({},e),{},{host:e.host.replace(a,l)}),n));});else {let l=Vp({},e);if(n&&a){let u=r.find(h=>h!==a);u&&(l.host=l.host.replace(a,u));}c.push(FR(l,n));}try{c.forEach(l=>{let u=new WebSocket(l);u.binaryType=\"arraybuffer\",s.push(u),this.logger(\"ws is connecting:\",u.url);});}catch(l){if(this.logger(\"ws create failed\"),s.forEach(u=>u.close()),s.length=0,this.useDoubleDomain)return this.useDoubleDomain=!1,this.createWebSocket(e,n,i);if(!n&&Number(e.port)!==443)return this.createWebSocket(e,!0,i);throw new O(R.WS_ERR,\"init websocket failed! Error: \".concat(l.toString()))}let d=vc();return this.store&&this.store.recordJoinChannelService({urls:s.map(l=>l.url),service:\"gateway\"},this.recordIndex),s.forEach(l=>{l.onopen=()=>{this.logger(\"onopen: ws \".concat(l.url,\" open cost \").concat(Date.now()-o,\"ms\")),this.websockets.forEach(u=>{u!==l&&(u.onopen=null,u.onclose=null,u.onmessage=null,u.close(),this.logger(\"close backup websocket: \".concat(u.url)));}),this.websockets.length=0,d.resolve(l);},l.onclose=u=>{this.logger(\"onclose: ws \".concat(l.url,\" closed cost \").concat(Date.now()-o,\"ms state: \").concat(l.readyState)),n?this.isTry443PortFailed=VR(s):this.isNormalPortFailed=VR(s),this.logger(\"443: \".concat(this.useProxy?\"not try\":this.isTry443PortFailed?\"failed\":\"trying\",\" 47xx: \").concat(this.isNormalPortFailed?\"failed\":\"trying\")),(n&&this.isTry443PortFailed||!n&&(this.isTry443PortFailed||this.useProxy)&&this.isNormalPortFailed)&&(this.logger(\"onclose: all websocket is closed, \".concat(u.reason)),d.reject({code:u.code,reason:Tl.A_ROUND_WS_FAILED}));},l.onmessage=u=>this.logger(\"\".concat(l.url,\" onmessage: \").concat(u.data));}),this.websockets.push(...s),i||(()=>{let l=()=>{this.logger(\"5s timeout close un-opens, isWebsocket created: \",d.isResolved),this.websockets.forEach(u=>u.readyState!==WebSocket.OPEN&&u.close());};if(n||this.useProxy)return this.logger(\"add 5s timeout at \".concat(n?\"try-443\":\"proxy\",\" condition\")),this.forceCloseTimeout=window.setTimeout(l,this.forceCloseWSDuration);this.try443PortTimeout=window.setTimeout(()=>{if(this.logger(\"2s timeout, isWebsocket created: \",d.isResolved),d.isResolved)return l();mt().os===ye.MAC_OS&&$t()&&l(),this.createWebSocket(e,!0,!0).then(u=>d.resolve(u)).catch(u=>{this.isNormalPortFailed&&d.reject(u),this.logger(\"try 443 port to create ws failed\");}),this.forceCloseTimeout=window.setTimeout(l,this.forceCloseWSDuration);},this.try443PortDuration);})(),d.promise}chooseBestWebsocket(e,n,i,r){return this.useDoubleDomain=!!n,typeof e==\"string\"&&(e=function(o){let s,a,c;return [,s,a,c]=o.match(uj)||[],s||([,a,c]=o.match(hj)||[]),a&&c||([,a,c]=o.match(pj)||[]),a&&c||([,a]=o.match(_j)||[]),a||_.warning(\"un-destructible url: \",o),{proxy:s,host:a,port:c||\"443\"}}(e)),this.recordIndex=r,this.useProxy=!!e.proxy,i&&this.useProxy&&(_.warn(\"cannot use 443 only when use proxy\"),i=!1),this.createWebSocket(e,!!i,!1).finally(()=>this.clearTimeout())}};function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}var ql=class extends Xt{get url(){return this.websocket&&this.websocket.url||null}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){var n;W(n=[\"tryNext\",\"recover\"]).call(n,e)&&this.resetReconnectCount(e),this._reconnectMode=e;}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._state===\"reconnecting\"?this.emit(it.RECONNECTING,this.reconnectReason):this._state===\"connected\"?this.emit(it.CONNECTED):this._state===\"closed\"?this.emit(it.CLOSED):this._state===\"failed\"&&this.emit(it.FAILED));}resetReconnectCount(e){_.debug(\"websocket reset reconnect count, reason: \"+e),this.reconnectCount=0;}constructor(e,n){let i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=arguments.length>3&&arguments[3]!==void 0&&arguments[3],o=arguments.length>4&&arguments[4]!==void 0&&arguments[4],s=arguments.length>5?arguments[5]:void 0;super(),T(this,\"connectionID\",0),T(this,\"currentURLIndex\",0),T(this,\"urls\",[]),T(this,\"_reconnectMode\",\"tryNext\"),T(this,\"reconnectReason\",void 0),T(this,\"_initMutex\",new ze(\"websocket\")),T(this,\"name\",void 0),T(this,\"_state\",\"closed\"),T(this,\"reconnectInterrupter\",void 0),T(this,\"websocket\",void 0),T(this,\"retryConfig\",void 0),T(this,\"reconnectCount\",0),T(this,\"forceCloseTimeout\",5e3),T(this,\"onlineReconnectListener\",void 0),T(this,\"useCompress\",void 0),T(this,\"tryDoubleDomain\",!1),T(this,\"use443PortOnly\",!1),T(this,\"wsInflateLength\",0),T(this,\"wsDeflateLength\",0),T(this,\"closeEstablishingWs\",()=>{}),T(this,\"store\",void 0),T(this,\"joinGatewayRecordIndex\",void 0),this.store=s,this.name=e,this.retryConfig=function(u){for(var h=1;h<arguments.length;h++){var p=arguments[h]!=null?arguments[h]:{};h%2?BR(Object(p),!0).forEach(function(g){T(u,g,p[g]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(p)):BR(Object(p)).forEach(function(g){Object.defineProperty(u,g,Object.getOwnPropertyDescriptor(p,g));});}return u}({},n),this.useCompress=i,this.tryDoubleDomain=r,this.use443PortOnly=o;let{timeout:a,timeoutFactor:c}=n,d=Math.max(300,Math.floor(3*a/5)),l=Math.max(1.2,Math.floor(8*c)/10);wn.ONLINE&&(this.retryConfig.timeout=d,this.retryConfig.timeoutFactor=l),he.on(ks.NETWORK_STATE_CHANGE,(u,h)=>{u!==h&&(this.resetReconnectCount(\"network state change: \".concat(h,\" -> \").concat(u)),u===wn.ONLINE?(this.retryConfig.timeout=d,this.retryConfig.timeoutFactor=l):(this.retryConfig.timeout=a,this.retryConfig.timeoutFactor=c));});}getConnection(){return this.websocket||void 0}async init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3,i=await this._initMutex.lock();this.forceCloseTimeout=n,this.urls=e,this.state=\"connecting\";try{let r=vc(),o=this.urls[this.currentURLIndex];v(\"ENABLE_PREALLOC_PC\")&&this.emit(PO.PRE_CONNECT_PC),this.createWebSocketConnection(o).then(r.resolve).catch(r.reject),this.once(it.CLOSED,()=>{r.reject(new N(R.WS_DISCONNECT));}),this.once(it.CONNECTED,r.resolve),await r.promise;}catch{}finally{i();}}close(e,n){if(this.currentURLIndex=0,this.resetReconnectCount(\"close\"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;let i=this.websocket;n?setTimeout(()=>i.close(),500):i.close(),this.websocket=void 0;}this.state=e?\"failed\":\"closed\",this.closeEstablishingWs&&this.closeEstablishingWs();}reconnect(e,n){if(!this.websocket)return void _.warning(\"[\".concat(this.name,\"] can not reconnect, no websocket\"));e!==void 0&&(this.reconnectMode=e),_.debug(\"[\".concat(this.name,\"] reconnect is triggered initiative\")),typeof this.joinGatewayRecordIndex==\"number\"&&this.store&&this.store.recordJoinChannelService({status:\"error\",errors:[new Error(n)]},this.joinGatewayRecordIndex);let i=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),i&&i.bind(this.websocket)({code:9999,reason:n});}sendMessage(e){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new N(R.WS_ABORT,\"websocket is not ready\");try{n||(e=JSON.stringify(e)),this.websocket.send(e);}catch(i){throw new N(R.WS_ERR,\"send websocket message error\"+i.toString())}}setWsInflateData(e){this.wsDeflateLength=this.wsDeflateLength+e.originLength,this.wsInflateLength=this.wsInflateLength+e.compressedLength;}getWsInflateData(){let e=this.wsInflateLength,n=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:e,wsDeflateLength:n}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0;}async createWebSocketConnection(e){var n;let i=vc();this.connectionID+=1,this.joinGatewayRecordIndex=void 0;let r=l=>{var u;(u=this.store)===null||u===void 0||u.signalChannelOpen(),_.debug(\"[\".concat(this.name,\"] websocket opened:\"),l),this.reconnectMode=\"retry\",this.state=\"connected\",this.resetReconnectCount(\"opened\"),i.resolve();},o=async l=>{var u;if(_.debug(\"[\".concat(this.name,\"] websocket close \").concat((u=this.websocket)===null||u===void 0?void 0:u.url,\", code: \").concat(l.code,\", reason: \").concat(l.reason,\", current mode: \").concat(this.reconnectMode)),this.reconnectCount>=this.retryConfig.maxRetryCount)i.reject(new N(R.WS_DISCONNECT,\"websocket close: \".concat(l.code))),this.close();else {this.state===\"connected\"&&(this.reconnectReason=l.reason,this.state=\"reconnecting\");let h=ni(this,it.WILL_RECONNECT,this.reconnectMode,l.reason)||this.reconnectMode,p=await this.reconnectWithAction(h);if(this.state===\"closed\")return void _.debug(\"[\".concat(this.connectionID,\"] ws is closed, no need to reconnect\"));if(!p)return i.reject(new N(R.WS_DISCONNECT,\"websocket reconnect failed: \".concat(l.code))),this.close(!0);i.resolve();}},s=l=>{this.emit(it.ON_MESSAGE,l);},a=l=>{_.warn(\"[\".concat(this.connectionID,\"] ws open error \").concat(l));};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),v(\"GATEWAY_WSS_ADDRESS\")&&this.name.startsWith(\"gateway\")&&(e=v(\"GATEWAY_WSS_ADDRESS\")),_.debug(\"[\".concat(this.name,\"] start connect, url:\"),e);let c=(n=this.store)===null||n===void 0?void 0:n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"gateway\"});try{var d;let l=await this.chooseBestWebsocketConnection(e);this.websocket=l,r&&r(this.websocket.url),this.websocket.onclose=o,this.websocket.onmessage=s,this.websocket.onerror=a,(d=this.store)===null||d===void 0||d.recordJoinChannelService({endTs:Date.now(),status:\"success\"},c),this.joinGatewayRecordIndex=c;}catch(l){let u=this.state===\"closed\",h=l instanceof N,p=h&&l.code===R.WS_ABORT,g=h&&l.code===R.WS_ERR,E=h?l.message:l&&(l.reason||l.toString());_.warning(\"[choose-best-ws] chooseBestWebsocket error: \".concat(E)),this.store&&this.store.recordJoinChannelService({endTs:Date.now(),status:p?\"aborted\":\"error\",errors:[l]},c),u||g?(i.reject(u?new N(R.WS_DISCONNECT,\"websocket is closed: \".concat(E)):new N(R.WS_ERR,\"init websocket failed: \".concat(E))),g&&_.error(\"[\".concat(this.name,\"] init websocket failed: \").concat(E))):o&&o(l);}return i.promise}async reconnectWithAction(e){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount||this.urls.length===0||this.state===\"closed\")return !1;_.warning(\"[choose-best-ws] action: =>\",e),this.onlineReconnectListener||he.isOnline||!he.onlineWaiter||(this.onlineReconnectListener=he.onlineWaiter.then(()=>{this.onlineReconnectListener=void 0;}));let i=!0;if(this.reconnectInterrupter=()=>i=!1,n){let s=hf(this.reconnectCount,this.retryConfig);_.debug(\"[\".concat(this.name,\"] wait \").concat(s,\"ms to reconnect websocket, mode: \").concat(e)),await j.race([Me(s),this.onlineReconnectListener||new j(()=>{})]);}if(this._state===\"closed\"||!i)return !1;this.reconnectCount+=1;let r=async(s,a)=>{this.emit(it.RECONNECT_CREATE_CONNECTION,a),await this.createWebSocketConnection(s);};try{if(e===\"retry\")this.emit(it.RECONNECT_WAITTING_FINISH,e),await r(this.urls[this.currentURLIndex],e);else if(e===\"tryNext\"){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return this.reconnectWithAction(\"recover\",!1);_.debug(\"[\".concat(this.name,\"] websocket url length: \").concat(this.urls.length,\" current index: \").concat(this.currentURLIndex)),this.emit(it.RECONNECT_WAITTING_FINISH,e),await r(this.urls[this.currentURLIndex],e);}else e===\"recover\"&&(_.debug(\"[\".concat(this.name,\"] request new urls\")),this.resetReconnectCount(\"recover mode\"),this.emit(it.RECONNECT_WAITTING_FINISH,e),this.urls=await Ge(this,it.REQUEST_NEW_URLS),this.currentURLIndex=0,await r(this.urls[this.currentURLIndex],e));}catch(s){var o;_.error(\"[\".concat(this.name,\"] reconnect failed \").concat(s&&s.toString()));let a=s==null||(o=s.data)===null||o===void 0?void 0:o.desc;return Array.isArray(a)&&W(a).call(a,\"dynamic key expired\")?(this.emit(it.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):this.reconnectWithAction(e,n)}return !0}},Nc=class extends ql{constructor(e,n){super(e,n,arguments.length>2&&arguments[2]!==void 0&&arguments[2],arguments.length>3&&arguments[3]!==void 0&&arguments[3],arguments.length>4&&arguments[4]!==void 0&&arguments[4],arguments.length>5?arguments[5]:void 0);}async chooseBestWebsocketConnection(e,n){let i=vc(),r=function(s,a){return new BE(s,a)}(this.forceCloseTimeout,this.store);this.closeEstablishingWs=()=>{_.debug(\"[choose-best-ws] close establishing websockets\"),r.closeAllWebsockets(),i.reject(new N(R.WS_ABORT,\"choose best websocket aborted\"));};let o=v(\"GATEWAY_DOMAINS\");return _.debug(\"[choose-best-ws] currentDomain: \",e,\", domains: \",o,\"total: \".concat(this.urls.length),\"current: \".concat(this.currentURLIndex+1)),r.chooseBestWebsocket(e,this.tryDoubleDomain,this.use443PortOnly,n).then(i.resolve).catch(i.reject),i.promise.finally(()=>{this.closeEstablishingWs=void 0;})}},Qo=class extends ql{constructor(e,n){super(e,n,arguments.length>2&&arguments[2]!==void 0&&arguments[2],arguments.length>3&&arguments[3]!==void 0&&arguments[3],arguments.length>4&&arguments[4]!==void 0&&arguments[4],arguments.length>5?arguments[5]:void 0);}async chooseBestWebsocketConnection(e,n){return new j((i,r)=>{let o=!1,s=[];this.closeEstablishingWs=()=>{_.debug(\"[choose-best-ws] close establishing websockets\"),s.forEach(g=>{g.onclose=null,g.onopen=null,g.onmessage=null,g.close();}),r(new N(R.WS_ABORT,\"choose best websocket aborted\"));};let a=v(\"GATEWAY_DOMAINS\"),c,d=e.indexOf(\"?h=\"),l=a.find(g=>d!==-1?W(e).call(e,g,d):W(e).call(e,g));_.debug(\"[choose-best-ws] currentDomain: \",l,\", domains: \",a);let u=!this.tryDoubleDomain||!l;if(!u&&l){var h;let g=Date.now();try{a.forEach(E=>{let f=d===-1?e.replace(l,E):e.substr(0,d)+e.substr(d).replace(l,E),S=new WebSocket(f);S.binaryType=\"arraybuffer\",s.push(S),_.debug(\"[choose-best-ws] ws is connecting:\",S.url);});}catch{for(_.debug(\"[choose-best-ws] ws create failed, fallback to single url\"),s.forEach(f=>f.close());s.length;)s.pop();u=!0;}(h=this.store)===null||h===void 0||h.recordJoinChannelService({urls:s.map(E=>E.url),service:\"gateway\"},n),s.forEach(E=>{E.onopen=()=>{if(o)return;let f=Date.now()-g;_.debug(\"[choose-best-ws] ws open cost \".concat(f,\"ms\")),s.filter(S=>S!==E).forEach(S=>{_.debug(\"[choose-best-ws]close backup websocket: \".concat(S.url)),S.close();}),o=!0,i(E);},E.onclose=f=>{c=f,!o&&(s.find(S=>!(S.readyState===WebSocket.CLOSED||S.readyState===WebSocket.CLOSING))||(_.debug(\"[choose-best-ws] all websocket is closed\"),o=!0,r(c)));},E.onmessage=f=>{_.debug(\"[choose-best-ws]\".concat(E.url,\" onmessage: \").concat(f.data));};}),Me(this.forceCloseTimeout).then(()=>{s.forEach(E=>{E.readyState!==WebSocket.OPEN&&E.close();});});}if(u){var p;let g;_.debug(\"[choose-best-ws] use single url: \",e),(p=this.store)===null||p===void 0||p.recordJoinChannelService({urls:[e],service:\"gateway\"},n);try{g=new WebSocket(e),s.push(g),g.binaryType=\"arraybuffer\";}catch(E){let f=new N(R.WS_ERR,\"init websocket failed! Error: \".concat(E.toString()));return _.error(\"[\".concat(this.name,\"]\").concat(f)),void r(f)}g.onopen=()=>{i(g);},g.onclose=E=>{r(E);},g.onmessage=E=>{_.debug(\"[choose-best-ws]\".concat(g.url,\" onmessage: \").concat(E.data));},Me(this.forceCloseTimeout).then(()=>{g&&g.readyState!==WebSocket.OPEN&&g.close();});}}).then(i=>(this.closeEstablishingWs=void 0,i)).catch(i=>{throw this.closeEstablishingWs=void 0,i})}},jE=class extends Xt{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===Lt.CONNECTED?this.emit(nt.WS_CONNECTED):e===Lt.RECONNECTING?this.emit(nt.WS_RECONNECTING,this._websocketReconnectReason):e===Lt.CLOSED&&this.emit(nt.WS_CLOSED,this._disconnectedReason));}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,n){super(),T(this,\"_disconnectedReason\",void 0),T(this,\"_websocketReconnectReason\",void 0),T(this,\"_connectionState\",Lt.CLOSED),T(this,\"reconnectToken\",void 0),T(this,\"websocket\",void 0),T(this,\"openConnectionTime\",void 0),T(this,\"clientId\",void 0),T(this,\"lastMsgTime\",Date.now()),T(this,\"uploadCache\",[]),T(this,\"uploadCacheInterval\",void 0),T(this,\"rttRolling\",new Hl(5)),T(this,\"pingpongTimer\",void 0),T(this,\"wsInflateDataTimer\",void 0),T(this,\"pingpongTimeoutCount\",0),T(this,\"joinResponse\",void 0),T(this,\"multiIpOption\",void 0),T(this,\"initError\",void 0),T(this,\"spec\",void 0),T(this,\"store\",void 0),T(this,\"onWebsocketMessage\",i=>{if(i.data instanceof ArrayBuffer)return void this.emit(nt.ON_BINARY_DATA,i.data);let r=JSON.parse(i.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(r,\"_id\")){let o=\"res-@\".concat(r._id);this.emit(o,r._result,r._message);}else if(Object.prototype.hasOwnProperty.call(r,\"_type\")){if(this.emit(r._type,r._message),r._type===dt.ON_NOTIFICATION&&this.handleNotification(r._message),r._type===dt.ON_USER_BANNED)switch(r._message.error_code){case 14:this.close(At.UID_BANNED);break;case 15:this.close(At.IP_BANNED);break;case 16:this.close(At.CHANNEL_BANNED);}if(r._type===dt.ON_USER_LICENSE_BANNED)switch(r._message.error_code){case Z.ERR_LICENSE_MISSING:this.close(At.LICENSE_MISSING);break;case Z.ERR_LICENSE_EXPIRED:this.close(At.LICENSE_EXPIRED);break;case Z.ERR_LICENSE_MINUTES_EXCEEDED:this.close(At.LICENSE_MINUTES_EXCEEDED);break;case Z.ERR_LICENSE_PERIOD_INVALID:this.close(At.LICENSE_PERIOD_INVALID);break;case Z.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(At.LICENSE_MULTIPLE_SDK_SERVICE);break;case Z.ERR_LICENSE_ILLEGAL:this.close(At.LICENSE_ILLEGAL);break;default:this.close();}}}),this.clientId=e.clientId,this.spec=e,this.store=n,this.websocket=new Nc(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,v(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\"),v(\"JOIN_GATEWAY_USE_443PORT_ONLY\"),n),this.handleWebsocketEvents(),window.addEventListener(\"offline\",()=>{this.connectionState===Lt.CONNECTED&&this.reconnect(\"retry\",Be.OFFLINE);});}async request(e,n,i,r){let o=Ut(6,\"\"),s={_id:o,_type:e,_message:n},a=this.websocket.connectionID,c=()=>new j((g,E)=>{if(this.connectionState===Lt.CONNECTED)return g();let f=()=>{this.off(nt.WS_CLOSED,S),g();},S=()=>{this.off(nt.WS_CONNECTED,f),E(new O(R.WS_ABORT));};this.once(nt.WS_CONNECTED,f),this.once(nt.WS_CLOSED,S),e!==et.PUBLISH&&e!==et.PUBLISH_DATASTREAM&&e!==et.SUBSCRIBE&&e!==et.SUBSCRIBE_DATASTREAM&&e!==et.UNSUBSCRIBE&&e!==et.UNSUBSCRIBE_DATASTREAM&&e!==et.UNPUBLISH&&e!==et.UNPUBLISH_DATASTREAM&&e!==et.CONTROL&&e!==et.RESTART_ICE||this.once(nt.DISCONNECT_P2P,()=>{E(new O(R.DISCONNECT_P2P));}),e!==et.PUBLISH&&e!==et.RESTART_ICE||this.once(nt.ABORT_P2P_EXECUTION,()=>{E(new O(R.DISCONNECT_P2P));});});if(this.connectionState!==Lt.CONNECTING&&this.connectionState!==Lt.RECONNECTING||e===et.JOIN||e===et.REJOIN||await c(),this.websocket.sendMessage(s,!0),r)return;let d=new j((g,E)=>{let f=!1,S=(A,b)=>{f=!0,g({isSuccess:A===\"success\",message:b||{}}),this.off(nt.WS_CLOSED,C),this.off(nt.WS_RECONNECTING,C),this.emit(nt.REQUEST_SUCCESS,e,n);};this.once(\"res-@\".concat(o),S);let C=()=>{E(new O(R.WS_ABORT,\"type: \".concat(e))),this.off(nt.WS_CLOSED,C),this.off(nt.WS_RECONNECTING,C),this.off(\"res-@\".concat(o),S);};this.once(nt.WS_CLOSED,C),this.once(nt.WS_RECONNECTING,C),Me(v(\"SIGNAL_REQUEST_TIMEOUT\")).then(()=>{this.websocket.connectionID!==a||f||(_.warning(\"[\".concat(this.clientId,\"] ws request timeout, type: \").concat(e)),this.emit(nt.REQUEST_TIMEOUT,e,n));});}),l=null;try{l=await d;}catch(g){if(this.connectionState===Lt.CLOSED||e===et.LEAVE)throw new O(R.WS_ABORT);return !this.spec.forceWaitGatewayResponse||i?g.throw():e===et.JOIN||e===et.REJOIN?null:(await c(),await this.request(e,n))}if(l.isSuccess)return l.message;let u=Number(l.message.error_code||l.message.code),h=Oc(u),p=new O(R.UNEXPECTED_RESPONSE,\"\".concat(h.desc,\": \").concat(l.message.error_str),{code:u,data:l.message,desc:h.desc});return h.action===\"success\"?l.message:(_.warning(\"[\".concat(this.clientId,\"] [\").concat(this.websocket.connectionID,\"] unexpected response from type \").concat(e,\", error_code: \").concat(u,\", message: \").concat(h.desc,\", action: \").concat(h.action)),u===Z.ERR_TOO_MANY_BROADCASTERS?((e===et.JOIN||e===et.REJOIN)&&(this.initError=p,this.close()),p.throw()):h.action===\"failed\"?p.throw():h.action===\"quit\"?(this.initError=p,this.close(),p.throw()):(u===Z.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=l.message.option,_.warning(\"[\".concat(this.clientId,\"] detect multi ip, recover\")),this.reconnect(\"recover\",Be.MULTI_IP)):this.reconnect(h.action,Be.SERVER_ERROR),e===et.JOIN||e===et.REJOIN?null:await this.request(e,n)))}waitMessage(e,n){return new j(i=>{let r=o=>{(!n||n(o))&&(this.off(e,r),i(o));};this.on(e,r);})}uploadWRTCStats(e){if(!this.store.sessionId)return void _.warn(\"[\".concat(this.clientId,\"] no session id when upload wrtc stats\"));let n={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e};this.upload(wc.WRTC_STATS,n);}upload(e,n){let i={_type:e,_message:n};try{this.websocket.sendMessage(i);}catch{let o=v(\"MAX_UPLOAD_CACHE\")||50;this.uploadCache.push(i),this.uploadCache.length>o&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval(()=>{if(this.connectionState!==Lt.CONNECTED)return;let s=this.uploadCache.splice(0,1)[0];this.uploadCache.length===0&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(s._type,s._message);},v(\"UPLOAD_CACHE_INTERVAL\")||2e3));}}send(e,n){let i={_type:e,_message:n};this.websocket.sendMessage(i);}init(e,n){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new j((i,r)=>{this.once(nt.WS_CONNECTED,()=>i(this.joinResponse)),this.once(nt.WS_CLOSED,()=>r(this.initError||new O(R.WS_ABORT))),this.connectionState=Lt.CONNECTING,this.websocket.init(e).catch(r),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval(()=>{this.handleWsInflateData();},2e4);})}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||At.LEAVE,this.connectionState=Lt.CLOSED,_.debug(\"[\".concat(this.clientId,\"] \")+\"will close websocket in signal\"),this.websocket.close();}async join(){if(!this.joinResponse){this.emit(nt.ABORT_P2P_EXECUTION);let e=await Ge(this,nt.REQUEST_JOIN_INFO),n=await this.request(et.JOIN,e);if(!n)return this.emit(nt.REPORT_JOIN_GATEWAY,Tl.TIMEOUT,this.url||\"\"),!1;this.joinResponse=n,this.emit(nt.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token;}return this.connectionState=Lt.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new O(R.UNEXPECTED_ERROR,\"can not rejoin, no rejoin token\");let e=Ac(this,nt.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;let n=await this.request(et.REJOIN,e);return !!n&&(this.connectionState=Lt.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),n.peers&&n.peers.forEach(i=>{this.emit(dt.ON_USER_ONLINE,{uid:i.uid}),i.audio&&this.emit(dt.ON_ADD_AUDIO_STREAM,{uid:i.uid,uint_id:i.uint_id,audio:!0,ssrcId:i.audio_ssrc}),i.video&&this.emit(dt.ON_ADD_VIDEO_STREAM,{uid:i.uid,uint_id:i.uint_id,video:!0,ssrcId:i.video_ssrc}),i.audio_mute?this.emit(dt.MUTE_AUDIO,{uid:i.uid}):this.emit(dt.UNMUTE_AUDIO,{uid:i.uid}),i.video_mute?this.emit(dt.MUTE_VIDEO,{uid:i.uid}):this.emit(dt.UNMUTE_VIDEO,{uid:i.uid}),i.audio_enable_local?this.emit(dt.ENABLE_LOCAL_AUDIO,{uid:i.uid}):this.emit(dt.DISABLE_LOCAL_AUDIO,{uid:i.uid}),i.video_enable_local?this.emit(dt.ENABLE_LOCAL_VIDEO,{uid:i.uid}):this.emit(dt.DISABLE_LOCAL_VIDEO,{uid:i.uid}),i.audio||i.video||this.emit(dt.ON_REMOVE_STREAM,{uid:i.uid,uint_id:i.uint_id});}),!0)}reconnect(e,n){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,n);}handleNotification(e){_.debug(\"[\".concat(this.clientId,\"] receive notification: \"),e);let n=Oc(e.code);if(n.action!==\"success\"){if(n.action!==\"failed\")return n.action===\"quit\"?(n.desc===\"ERR_REPEAT_JOIN_CHANNEL\"&&this.close(At.UID_BANNED),void this.close()):void this.reconnect(n.action,Be.SERVER_ERROR);_.error(\"[\".concat(this.clientId,\"] ignore error: \"),n.desc);}}handlePingPong(){if(!this.websocket||this.websocket.state!==\"connected\")return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;let e=v(\"PING_PONG_TIME_OUT\"),n=Date.now();this.pingpongTimeoutCount>=e&&(_.warning(\"[\".concat(this.clientId,\"] PING-PONG Timeout. Last Socket Message: \").concat(n-this.lastMsgTime,\"ms\")),n-this.lastMsgTime>v(\"WEBSOCKET_TIMEOUT_MIN\"))?this.reconnect(\"retry\",Be.TIMEOUT):this.request(et.PING,void 0,!0).then(()=>{this.pingpongTimeoutCount=0;let i=Date.now()-n;this.rttRolling.add(i),v(\"REPORT_STATS\")&&this.send(et.PING_BACK,{pingpongElapse:i});}).catch(i=>{});}handleWsInflateData(){let{wsInflateLength:e,wsDeflateLength:n}=this.websocket.getWsInflateData();e!==0&&n!==0&&this.upload(wc.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:n,ws_inflate_length:e});}handleWebsocketEvents(){this.websocket.on(it.RECONNECT_WAITTING_FINISH,e=>{this.emit(nt.WS_RECONNECT_WAITTING_FINISH,e);}),this.websocket.on(it.RECONNECT_CREATE_CONNECTION,e=>{this.emit(nt.WS_RECONNECT_CREATE_CONNECTION,e);}),this.websocket.on(it.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(it.CLOSED,()=>{this.connectionState=Lt.CLOSED;}),this.websocket.on(it.FAILED,()=>{this._disconnectedReason=At.NETWORK_ERROR,this.connectionState=Lt.CLOSED;}),this.websocket.on(it.RECONNECTING,e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===Lt.CONNECTED?this.connectionState=Lt.RECONNECTING:this.connectionState=Lt.CONNECTING;}),this.websocket.on(it.WILL_RECONNECT,(e,n,i)=>{let r=Ac(this,nt.IS_P2P_DISCONNECTED),o=r||e!==\"retry\";r&&e===\"retry\"&&(_.debug(\"\".concat(this.clientId,\" reconnect mode is retry, but p2p lost, change to tryNext\")),e=\"tryNext\",n=Tl.P2P_DISCONNECTED),o&&(_.debug(\"\".concat(this.clientId,\" will renewSession, reconnect mode: \").concat(e)),this.emit(nt.REPORT_JOIN_GATEWAY,n||Tl.UNKNOWN_REASON,this.url||\"\"),this.reconnectToken=void 0,this.emit(nt.DISCONNECT_P2P)),i(e);}),this.websocket.on(it.CONNECTED,()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch(e=>{_.warning(\"[\".concat(this.clientId,\"] rejoin failed \").concat(e)),this.reconnect(\"tryNext\",Be.SERVER_ERROR);}):this.join().catch(e=>{if(this.emit(nt.REPORT_JOIN_GATEWAY,e,this.url||\"\"),e instanceof O){if(e.code===R.UNEXPECTED_RESPONSE&&e.data.code===Z.ERR_NO_AUTHORIZED)return this.initError=new O(R.CAN_NOT_GET_GATEWAY_SERVER,\"AgoraRTCError CAN_NOT_GET_GATEWAY_SERVER: dynamic key expired\"),_.warning(\"[\".concat(this.clientId,\"] reconnect no authorized, recover\")),void this.reconnect(\"recover\",Be.SERVER_ERROR);_.error(\"[\".concat(this.clientId,\"] join gateway request failed\"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(\"tryNext\",Be.SERVER_ERROR):(this.initError=e,this.close());}});}),this.websocket.on(it.REQUEST_NEW_URLS,(e,n)=>{Ge(this,nt.REQUEST_RECOVER,this.multiIpOption).then(e).catch(n);}),this.websocket.on(it.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{this.emit(dt.ON_TOKEN_PRIVILEGE_DID_EXPIRE);}),this.websocket.on(PO.PRE_CONNECT_PC,()=>{this.emit(nt.PRE_CONNECT_PC);});}},ue=function(t){return t[t.CHOOSE_SERVER=11]=\"CHOOSE_SERVER\",t[t.CLOUD_PROXY=18]=\"CLOUD_PROXY\",t[t.CLOUD_PROXY_5=20]=\"CLOUD_PROXY_5\",t[t.CLOUD_PROXY_FALLBACK=26]=\"CLOUD_PROXY_FALLBACK\",t}({});function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function kd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}function Us(t){return t.match(/^[\\.\\:\\d]+$/)?\"\".concat(t.replace(/[^\\d]/g,\"-\"),\".\").concat(v(\"TURN_DOMAIN\")):(_.info(\"Unidentified as ip: \".concat(t,\", use as host\")),t)}function mf(t,e){t.addresses||(t.addresses=[]);let n=function(a,c){if(v(\"CONNECT_GATEWAY_WITHOUT_DOMAIN\"))return a.map(u=>{let{ip:h,port:p}=u;return {address:\"\".concat(h,\":\").concat(p)}});let d=v(\"GATEWAY_DOMAINS\"),l=d[1]&&W(c).call(c,d[1])?1:0;return a.map(u=>{let{domain_prefix:h,port:p,ip:g}=u;if(h)return {address:\"\".concat(h,\".\").concat(d[l++%d.length],\":\").concat(p)};let E=/^[\\.\\:\\d]+$/.test(g),f=E?\"\".concat(g.replace(/[^\\d]/g,\"-\"),\".\").concat(d[l++%d.length],\":\").concat(p):\"\".concat(g,\":\").concat(p);return E||_.info(\"Unidentified as ip: \".concat(g,\", use as host\")),{ip:g,port:p,address:f}})}(t.addresses,e),i=Array.isArray(t.detail)&&t.detail[18];if(i&&typeof i==\"string\"){let a=i.split(\";\");for(let c=0;c<a.length;c++){var r;let d=rn(r=a[c]).call(r);n[c]&&d&&(n[c].ip6=d);}}let o=t.detail&&t.detail.candidate,s;if(o){let[a,c]=o.split(\":\");a&&c&&(s={port:Number(c),ip:a,address:\"\".concat(a,\":\").concat(c)});}return {gatewayAddrs:n,apGatewayAddress:s,uid:t.uid,cid:t.cid,cert:t.cert,vid:t.detail&&t.detail[8],uni_lbs_ip:t.detail&&t.detail[1],res:t,csIp:t.detail&&t.detail[502]}}function Nn(t){return typeof t==\"number\"?t:t.exact||t.ideal||t.max||t.min||0}function GR(t){let e=t._encoderConfig;if(!e)return {};let n={resolution:e.width&&e.height?\"\".concat(Nn(e.width),\"x\").concat(Nn(e.height)):void 0,maxVideoBW:e.bitrateMax,minVideoBW:e.bitrateMin};return typeof e.frameRate==\"number\"?(n.maxFrameRate=e.frameRate,n.minFrameRate=e.frameRate):e.frameRate&&(n.maxFrameRate=e.frameRate.max||e.frameRate.ideal||e.frameRate.exact||e.frameRate.min,n.minFrameRate=e.frameRate.min||e.frameRate.ideal||e.frameRate.exact||e.frameRate.max),n}function WR(t){return t>=0&&t<.17?1:t>=.17&&t<.36?2:t>=.36&&t<.59?3:t>=.59&&t<=1?4:t>1?5:0}function Dc(t,e){let n,i,r;switch(e){case ue.CHOOSE_SERVER:i=4096,r=\"choose server\";break;case ue.CLOUD_PROXY:i=1048576,r=\"proxy\";break;case ue.CLOUD_PROXY_5:i=4194304,r=\"proxy5\";break;case ue.CLOUD_PROXY_FALLBACK:i=4194310,r=\"proxy fallback\";break;default:throw new O(R.UNEXPECTED_ERROR,\"multi unlibs response transformer get unknown service id\",{csIp:t.detail&&t.detail[502],retry:!1})}if(t.response_body.forEach(o=>{o.buffer&&o.buffer.flag===i&&(n={code:o.buffer.code,addresses:(o.buffer.edges_services||[]).map(s=>kd(kd({},s),{},{ticket:o.buffer.cert})),server_ts:t.enter_ts,uid:o.buffer.uid,cid:o.buffer.cid,cname:o.buffer.cname,detail:kd(kd({},o.buffer.detail),t.detail),flag:o.buffer.flag,opid:t.opid,cert:o.buffer.cert});}),!n)throw new O(R.MULTI_UNILBS_RESPONSE_ERROR,\"cannot parse response \".concat(r,\" from multi unilbs response\"),{csIp:t.detail&&t.detail[502]});return n}async function kO(t,e){return await j.all(t.addresses.map(async n=>({address:Us(n.ip),tcpport:n.port,udpport:n.port,username:e&&v(\"ENCRYPT_PROXY_USERNAME_AND_PSW\")&&window.isSecureContext?e.toString():Ve.username,password:e&&v(\"ENCRYPT_PROXY_USERNAME_AND_PSW\")&&window.isSecureContext?await PE(e.toString()):Ve.password})))}function GE(t,e){let n=e.getMediaStreamTrack(!0).getSettings(),i=e.videoHeight||n.height,r=e.videoWidth||n.width;return i&&r?Math.max(Math.min(i,r)/Math.min(Nn(t.height),Nn(t.width)),1):(_.warning(\"can't get ori-track's height, default scale down 4 times for low stream\"),4)}function eo(t){let{candidateType:e,relayProtocol:n,type:i,address:r,port:o,protocol:s}=t;return i===\"local-candidate\"?{candidateType:e,relayProtocol:n,protocol:s}:{candidateType:e,relayProtocol:n,address:r,port:o,protocol:s}}var li,mj=ae(DO),fj=bi(\"Array\").values,gj=Er,Tj=Je,Sj=hn,Rj=fj,Fp=Array.prototype,Cj={DOMTokenList:!0,NodeList:!0},Ij=function(t){var e=t.values;return t===Fp||Sj(Fp,t)&&e===Fp.values||Tj(Cj,gj(t))?Rj:e},Pr=ae(Ij),HR=ri,vj=me,yj=Ke,Aj=Se,Bp=Lu,bj=Xc,wj=Au,Oj=_r,Nj=bu,_s=Object.assign,KR=Object.defineProperty,Dj=vj([].concat),Pj=!_s||Aj(function(){if(HR&&_s({b:1},_s(KR({},\"a\",{enumerable:!0,get:function(){KR(this,\"b\",{value:3,enumerable:!1});}}),{b:2})).b!==1)return !0;var t={},e={},n=Symbol(),i=\"abcdefghijklmnopqrst\";return t[n]=7,i.split(\"\").forEach(function(r){e[r]=r;}),_s({},t)[n]!=7||Bp(_s({},e)).join(\"\")!=i})?function(t,e){for(var n=Oj(t),i=arguments.length,r=1,o=bj.f,s=wj.f;i>r;)for(var a,c=Nj(arguments[r++]),d=o?Dj(Bp(c),o(c)):Bp(c),l=d.length,u=0;l>u;)a=d[u++],HR&&!yj(s,c,a)||(n[a]=c[a]);return n}:_s,kj=Cn,Lj=XA,Mj=mo,Uj=Ke,xj=_r,Vj=function(t,e,n,i){try{return i?e(kj(n)[0],n[1]):e(n)}catch(r){Lj(t,\"throw\",r);}},Fj=JA,Bj=xu,jj=Lr,YR=Bu,Gj=Um,Wj=Mu,qR=Array,is=me,jp=2147483647,Hj=/[^\\0-\\u007E]/,LO=/[.\\u3002\\uFF0E\\uFF61]/g,zR=\"Overflow: input needs wider integers to process\",JR=RangeError,Kj=is(LO.exec),xs=Math.floor,Gp=String.fromCharCode,XR=is(\"\".charCodeAt),MO=is([].join),qr=is([].push),Yj=is(\"\".replace),qj=is(\"\".split),zj=is(\"\".toLowerCase),QR=function(t){return t+22+75*(t<26)},Jj=function(t,e,n){var i=0;for(t=n?xs(t/700):t>>1,t+=xs(t/e);t>455;)t=xs(t/35),i+=36;return xs(i+36*t/(t+38))},Xj=function(t){var e=[];t=function(S){for(var C=[],A=0,b=S.length;A<b;){var w=XR(S,A++);if(w>=55296&&w<=56319&&A<b){var D=XR(S,A++);(64512&D)==56320?qr(C,((1023&w)<<10)+(1023&D)+65536):(qr(C,w),A--);}else qr(C,w);}return C}(t);var n,i,r=t.length,o=128,s=0,a=72;for(n=0;n<t.length;n++)(i=t[n])<128&&qr(e,Gp(i));var c=e.length,d=c;for(c&&qr(e,\"-\");d<r;){var l=jp;for(n=0;n<t.length;n++)(i=t[n])>=o&&i<l&&(l=i);var u=d+1;if(l-o>xs((jp-s)/u))throw JR(zR);for(s+=(l-o)*u,o=l,n=0;n<t.length;n++){if((i=t[n])<o&&++s>jp)throw JR(zR);if(i==o){for(var h=s,p=36;;){var g=p<=a?1:p>=a+26?26:p-a;if(h<g)break;var E=h-g,f=36-g;qr(e,Gp(QR(g+E%f))),h=xs(E/f),p+=36;}qr(e,Gp(QR(h))),a=Jj(s,u,d==c),s=0,d++;}}s++,o++;}return MO(e,\"\")},Qj=xt,ff=ri,Zj=rf,gf=We,ZR=mo,wi=me,Ld=go,ui=Uu,$j=Fm,WE=Je,Tf=Pj,Es=function(t){var e=xj(t),n=Bj(this),i=arguments.length,r=i>1?arguments[1]:void 0,o=r!==void 0;o&&(r=Mj(r,i>2?arguments[2]:void 0));var s,a,c,d,l,u,h=Wj(e),p=0;if(!h||this===qR&&Fj(h))for(s=jj(e),a=n?new this(s):qR(s);s>p;p++)u=o?r(e[p],p):e[p],YR(a,p,u);else for(l=(d=Gj(e,h)).next,a=n?new this:[];!(c=Uj(l,d)).done;p++)u=o?Vj(d,r,[c.value,p],!0):c.value,YR(a,p,u);return a.length=p,a},Di=zm,tG=qm.codeAt,eG=function(t){var e,n,i=[],r=qj(Yj(zj(t),LO,\".\"),\".\");for(e=0;e<r.length;e++)n=r[e],qr(i,Kj(Hj,n)?\"xn--\"+Xj(n):n);return MO(i,\".\")},vr=oi,nG=To,iG=Vu,UO=yF,xO=ns,rG=xO.set,zl=xO.getterFor(\"URL\"),oG=UO.URLSearchParams,sG=UO.getState,La=gf.URL,HE=gf.TypeError,Md=gf.parseInt,aG=Math.floor,$R=Math.pow,Ti=wi(\"\".charAt),Li=wi(/./.exec),Ya=wi([].join),cG=wi(1 .toString),dG=wi([].pop),ms=wi([].push),Wp=wi(\"\".replace),lG=wi([].shift),uG=wi(\"\".split),qa=wi(\"\".slice),Sl=wi(\"\".toLowerCase),hG=wi([].unshift),Hp=\"Invalid scheme\",vo=\"Invalid host\",tC=\"Invalid port\",VO=/[a-z]/i,pG=/[\\d+-.a-z]/i,Kp=/\\d/,_G=/^0x/i,EG=/^[0-7]+$/,mG=/^\\d+$/,eC=/^[\\da-f]+$/i,fG=/[\\0\\t\\n\\r #%/:<>?@[\\\\\\]^|]/,gG=/[\\0\\t\\n\\r #/:<>?@[\\\\\\]^|]/,TG=/^[\\u0000-\\u0020]+/,SG=/(^|[^\\u0000-\\u0020])[\\u0000-\\u0020]+$/,RG=/[\\t\\n\\r]/g,Ma=function(t){var e,n,i,r;if(typeof t==\"number\"){for(e=[],n=0;n<4;n++)hG(e,t%256),t=aG(t/256);return Ya(e,\".\")}if(typeof t==\"object\"){for(e=\"\",i=function(o){for(var s=null,a=1,c=null,d=0,l=0;l<8;l++)o[l]!==0?(d>a&&(s=c,a=d),c=null,d=0):(c===null&&(c=l),++d);return d>a&&(s=c,a=d),s}(t),n=0;n<8;n++)r&&t[n]===0||(r&&(r=!1),i===n?(e+=n?\":\":\"::\",r=!0):(e+=cG(t[n],16),n<7&&(e+=\":\")));return \"[\"+e+\"]\"}return t},Rl={},FO=Tf({},Rl,{\" \":1,'\"':1,\"<\":1,\">\":1,\"`\":1}),BO=Tf({},FO,{\"#\":1,\"?\":1,\"{\":1,\"}\":1}),Yp=Tf({},BO,{\"/\":1,\":\":1,\";\":1,\"=\":1,\"@\":1,\"[\":1,\"\\\\\":1,\"]\":1,\"^\":1,\"|\":1}),Br=function(t,e){var n=tG(t,0);return n>32&&n<127&&!WE(e,t)?t:encodeURIComponent(t)},Ud={ftp:21,file:null,http:80,https:443,ws:80,wss:443},za=function(t,e){var n;return t.length==2&&Li(VO,Ti(t,0))&&((n=Ti(t,1))==\":\"||!e&&n==\"|\")},nC=function(t){var e;return t.length>1&&za(qa(t,0,2))&&(t.length==2||(e=Ti(t,2))===\"/\"||e===\"\\\\\"||e===\"?\"||e===\"#\")},CG=function(t){return t===\".\"||Sl(t)===\"%2e\"},qp={},iC={},zp={},rC={},oC={},Jp={},sC={},aC={},xd={},Vd={},Xp={},Qp={},Zp={},$p={},cC={},t_={},fs={},qi={},dC={},yo={},Sr={},Sf=function(t,e,n){var i,r,o,s=vr(t);if(e){if(r=this.parse(s))throw HE(r);this.searchParams=null;}else {if(n!==void 0&&(i=new Sf(n,!0)),r=this.parse(s,null,i))throw HE(r);(o=sG(new oG)).bindURL(this),this.searchParams=o;}};Sf.prototype={type:\"URL\",parse:function(t,e,n){var i,r,o,s,a,c=this,d=e||qp,l=0,u=\"\",h=!1,p=!1,g=!1;for(t=vr(t),e||(c.scheme=\"\",c.username=\"\",c.password=\"\",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,t=Wp(t,TG,\"\"),t=Wp(t,SG,\"$1\")),t=Wp(t,RG,\"\"),i=Es(t);l<=i.length;){switch(r=i[l],d){case qp:if(!r||!Li(VO,r)){if(e)return Hp;d=zp;continue}u+=Sl(r),d=iC;break;case iC:if(r&&(Li(pG,r)||r==\"+\"||r==\"-\"||r==\".\"))u+=Sl(r);else {if(r!=\":\"){if(e)return Hp;u=\"\",d=zp,l=0;continue}if(e&&(c.isSpecial()!=WE(Ud,u)||u==\"file\"&&(c.includesCredentials()||c.port!==null)||c.scheme==\"file\"&&!c.host))return;if(c.scheme=u,e)return void(c.isSpecial()&&Ud[c.scheme]==c.port&&(c.port=null));u=\"\",c.scheme==\"file\"?d=$p:c.isSpecial()&&n&&n.scheme==c.scheme?d=rC:c.isSpecial()?d=aC:i[l+1]==\"/\"?(d=oC,l++):(c.cannotBeABaseURL=!0,ms(c.path,\"\"),d=dC);}break;case zp:if(!n||n.cannotBeABaseURL&&r!=\"#\")return Hp;if(n.cannotBeABaseURL&&r==\"#\"){c.scheme=n.scheme,c.path=Di(n.path),c.query=n.query,c.fragment=\"\",c.cannotBeABaseURL=!0,d=Sr;break}d=n.scheme==\"file\"?$p:Jp;continue;case rC:if(r!=\"/\"||i[l+1]!=\"/\"){d=Jp;continue}d=xd,l++;break;case oC:if(r==\"/\"){d=Vd;break}d=qi;continue;case Jp:if(c.scheme=n.scheme,r==li)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=Di(n.path),c.query=n.query;else if(r==\"/\"||r==\"\\\\\"&&c.isSpecial())d=sC;else if(r==\"?\")c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=Di(n.path),c.query=\"\",d=yo;else {if(r!=\"#\"){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=Di(n.path),c.path.length--,d=qi;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=Di(n.path),c.query=n.query,c.fragment=\"\",d=Sr;}break;case sC:if(!c.isSpecial()||r!=\"/\"&&r!=\"\\\\\"){if(r!=\"/\"){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,d=qi;continue}d=Vd;}else d=xd;break;case aC:if(d=xd,r!=\"/\"||Ti(u,l+1)!=\"/\")continue;l++;break;case xd:if(r!=\"/\"&&r!=\"\\\\\"){d=Vd;continue}break;case Vd:if(r==\"@\"){h&&(u=\"%40\"+u),h=!0,o=Es(u);for(var E=0;E<o.length;E++){var f=o[E];if(f!=\":\"||g){var S=Br(f,Yp);g?c.password+=S:c.username+=S;}else g=!0;}u=\"\";}else if(r==li||r==\"/\"||r==\"?\"||r==\"#\"||r==\"\\\\\"&&c.isSpecial()){if(h&&u==\"\")return \"Invalid authority\";l-=Es(u).length+1,u=\"\",d=Xp;}else u+=r;break;case Xp:case Qp:if(e&&c.scheme==\"file\"){d=t_;continue}if(r!=\":\"||p){if(r==li||r==\"/\"||r==\"?\"||r==\"#\"||r==\"\\\\\"&&c.isSpecial()){if(c.isSpecial()&&u==\"\")return vo;if(e&&u==\"\"&&(c.includesCredentials()||c.port!==null))return;if(s=c.parseHost(u))return s;if(u=\"\",d=fs,e)return;continue}r==\"[\"?p=!0:r==\"]\"&&(p=!1),u+=r;}else {if(u==\"\")return vo;if(s=c.parseHost(u))return s;if(u=\"\",d=Zp,e==Qp)return}break;case Zp:if(!Li(Kp,r)){if(r==li||r==\"/\"||r==\"?\"||r==\"#\"||r==\"\\\\\"&&c.isSpecial()||e){if(u!=\"\"){var C=Md(u,10);if(C>65535)return tC;c.port=c.isSpecial()&&C===Ud[c.scheme]?null:C,u=\"\";}if(e)return;d=fs;continue}return tC}u+=r;break;case $p:if(c.scheme=\"file\",r==\"/\"||r==\"\\\\\")d=cC;else {if(!n||n.scheme!=\"file\"){d=qi;continue}if(r==li)c.host=n.host,c.path=Di(n.path),c.query=n.query;else if(r==\"?\")c.host=n.host,c.path=Di(n.path),c.query=\"\",d=yo;else {if(r!=\"#\"){nC(Ya(Di(i,l),\"\"))||(c.host=n.host,c.path=Di(n.path),c.shortenPath()),d=qi;continue}c.host=n.host,c.path=Di(n.path),c.query=n.query,c.fragment=\"\",d=Sr;}}break;case cC:if(r==\"/\"||r==\"\\\\\"){d=t_;break}n&&n.scheme==\"file\"&&!nC(Ya(Di(i,l),\"\"))&&(za(n.path[0],!0)?ms(c.path,n.path[0]):c.host=n.host),d=qi;continue;case t_:if(r==li||r==\"/\"||r==\"\\\\\"||r==\"?\"||r==\"#\"){if(!e&&za(u))d=qi;else if(u==\"\"){if(c.host=\"\",e)return;d=fs;}else {if(s=c.parseHost(u))return s;if(c.host==\"localhost\"&&(c.host=\"\"),e)return;u=\"\",d=fs;}continue}u+=r;break;case fs:if(c.isSpecial()){if(d=qi,r!=\"/\"&&r!=\"\\\\\")continue}else if(e||r!=\"?\")if(e||r!=\"#\"){if(r!=li&&(d=qi,r!=\"/\"))continue}else c.fragment=\"\",d=Sr;else c.query=\"\",d=yo;break;case qi:if(r==li||r==\"/\"||r==\"\\\\\"&&c.isSpecial()||!e&&(r==\"?\"||r==\"#\")){if((a=Sl(a=u))===\"..\"||a===\"%2e.\"||a===\".%2e\"||a===\"%2e%2e\"?(c.shortenPath(),r==\"/\"||r==\"\\\\\"&&c.isSpecial()||ms(c.path,\"\")):CG(u)?r==\"/\"||r==\"\\\\\"&&c.isSpecial()||ms(c.path,\"\"):(c.scheme==\"file\"&&!c.path.length&&za(u)&&(c.host&&(c.host=\"\"),u=Ti(u,0)+\":\"),ms(c.path,u)),u=\"\",c.scheme==\"file\"&&(r==li||r==\"?\"||r==\"#\"))for(;c.path.length>1&&c.path[0]===\"\";)lG(c.path);r==\"?\"?(c.query=\"\",d=yo):r==\"#\"&&(c.fragment=\"\",d=Sr);}else u+=Br(r,BO);break;case dC:r==\"?\"?(c.query=\"\",d=yo):r==\"#\"?(c.fragment=\"\",d=Sr):r!=li&&(c.path[0]+=Br(r,Rl));break;case yo:e||r!=\"#\"?r!=li&&(r==\"'\"&&c.isSpecial()?c.query+=\"%27\":c.query+=r==\"#\"?\"%23\":Br(r,Rl)):(c.fragment=\"\",d=Sr);break;case Sr:r!=li&&(c.fragment+=Br(r,FO));}l++;}},parseHost:function(t){var e,n,i;if(Ti(t,0)==\"[\"){if(Ti(t,t.length-1)!=\"]\"||(e=function(r){var o,s,a,c,d,l,u,h=[0,0,0,0,0,0,0,0],p=0,g=null,E=0,f=function(){return Ti(r,E)};if(f()==\":\"){if(Ti(r,1)!=\":\")return;E+=2,g=++p;}for(;f();){if(p==8)return;if(f()!=\":\"){for(o=s=0;s<4&&Li(eC,f());)o=16*o+Md(f(),16),E++,s++;if(f()==\".\"){if(s==0||(E-=s,p>6))return;for(a=0;f();){if(c=null,a>0){if(!(f()==\".\"&&a<4))return;E++;}if(!Li(Kp,f()))return;for(;Li(Kp,f());){if(d=Md(f(),10),c===null)c=d;else {if(c==0)return;c=10*c+d;}if(c>255)return;E++;}h[p]=256*h[p]+c,++a!=2&&a!=4||p++;}if(a!=4)return;break}if(f()==\":\"){if(E++,!f())return}else if(f())return;h[p++]=o;}else {if(g!==null)return;E++,g=++p;}}if(g!==null)for(l=p-g,p=7;p!=0&&l>0;)u=h[p],h[p--]=h[g+l-1],h[g+--l]=u;else if(p!=8)return;return h}(qa(t,1,-1)),!e))return vo;this.host=e;}else if(this.isSpecial()){if(t=eG(t),Li(fG,t)||(e=function(r){var o,s,a,c,d,l,u,h=uG(r,\".\");if(h.length&&h[h.length-1]==\"\"&&h.length--,(o=h.length)>4)return r;for(s=[],a=0;a<o;a++){if((c=h[a])==\"\")return r;if(d=10,c.length>1&&Ti(c,0)==\"0\"&&(d=Li(_G,c)?16:8,c=qa(c,d==8?1:2)),c===\"\")l=0;else {if(!Li(d==10?mG:d==8?EG:eC,c))return r;l=Md(c,d);}ms(s,l);}for(a=0;a<o;a++)if(l=s[a],a==o-1){if(l>=$R(256,5-o))return null}else if(l>255)return null;for(u=dG(s),a=0;a<s.length;a++)u+=s[a]*$R(256,3-a);return u}(t),e===null))return vo;this.host=e;}else {if(Li(gG,t))return vo;for(e=\"\",n=Es(t),i=0;i<n.length;i++)e+=Br(n[i],Rl);this.host=e;}},cannotHaveUsernamePasswordPort:function(){return !this.host||this.cannotBeABaseURL||this.scheme==\"file\"},includesCredentials:function(){return this.username!=\"\"||this.password!=\"\"},isSpecial:function(){return WE(Ud,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||this.scheme==\"file\"&&e==1&&za(t[0],!0)||t.length--;},serialize:function(){var t=this,e=t.scheme,n=t.username,i=t.password,r=t.host,o=t.port,s=t.path,a=t.query,c=t.fragment,d=e+\":\";return r!==null?(d+=\"//\",t.includesCredentials()&&(d+=n+(i?\":\"+i:\"\")+\"@\"),d+=Ma(r),o!==null&&(d+=\":\"+o)):e==\"file\"&&(d+=\"//\"),d+=t.cannotBeABaseURL?s[0]:s.length?\"/\"+Ya(s,\"/\"):\"\",a!==null&&(d+=\"?\"+a),c!==null&&(d+=\"#\"+c),d},setHref:function(t){var e=this.parse(t);if(e)throw HE(e);this.searchParams.update();},getOrigin:function(){var t=this.scheme,e=this.port;if(t==\"blob\")try{return new ea(t.path[0]).origin}catch{return \"null\"}return t!=\"file\"&&this.isSpecial()?t+\"://\"+Ma(this.host)+(e!==null?\":\"+e:\"\"):\"null\"},getProtocol:function(){return this.scheme+\":\"},setProtocol:function(t){this.parse(vr(t)+\":\",qp);},getUsername:function(){return this.username},setUsername:function(t){var e=Es(vr(t));if(!this.cannotHaveUsernamePasswordPort()){this.username=\"\";for(var n=0;n<e.length;n++)this.username+=Br(e[n],Yp);}},getPassword:function(){return this.password},setPassword:function(t){var e=Es(vr(t));if(!this.cannotHaveUsernamePasswordPort()){this.password=\"\";for(var n=0;n<e.length;n++)this.password+=Br(e[n],Yp);}},getHost:function(){var t=this.host,e=this.port;return t===null?\"\":e===null?Ma(t):Ma(t)+\":\"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Xp);},getHostname:function(){var t=this.host;return t===null?\"\":Ma(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Qp);},getPort:function(){var t=this.port;return t===null?\"\":vr(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||((t=vr(t))==\"\"?this.port=null:this.parse(t,Zp));},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?\"/\"+Ya(t,\"/\"):\"\"},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,fs));},getSearch:function(){var t=this.query;return t?\"?\"+t:\"\"},setSearch:function(t){(t=vr(t))==\"\"?this.query=null:(Ti(t,0)==\"?\"&&(t=qa(t,1)),this.query=\"\",this.parse(t,yo)),this.searchParams.update();},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?\"#\"+t:\"\"},setHash:function(t){(t=vr(t))!=\"\"?(Ti(t,0)==\"#\"&&(t=qa(t,1)),this.fragment=\"\",this.parse(t,Sr)):this.fragment=null;},update:function(){this.query=this.searchParams.serialize()||null;}};var ea=function(t){var e=$j(this,yn),n=iG(arguments.length,1)>1?arguments[1]:void 0,i=rG(e,new Sf(t,!1,n));ff||(e.href=i.serialize(),e.origin=i.getOrigin(),e.protocol=i.getProtocol(),e.username=i.getUsername(),e.password=i.getPassword(),e.host=i.getHost(),e.hostname=i.getHostname(),e.port=i.getPort(),e.pathname=i.getPathname(),e.search=i.getSearch(),e.searchParams=i.getSearchParams(),e.hash=i.getHash());},yn=ea.prototype,hi=function(t,e){return {get:function(){return zl(this)[t]()},set:e&&function(n){return zl(this)[e](n)},configurable:!0,enumerable:!0}};ff&&(ui(yn,\"href\",hi(\"serialize\",\"setHref\")),ui(yn,\"origin\",hi(\"getOrigin\")),ui(yn,\"protocol\",hi(\"getProtocol\",\"setProtocol\")),ui(yn,\"username\",hi(\"getUsername\",\"setUsername\")),ui(yn,\"password\",hi(\"getPassword\",\"setPassword\")),ui(yn,\"host\",hi(\"getHost\",\"setHost\")),ui(yn,\"hostname\",hi(\"getHostname\",\"setHostname\")),ui(yn,\"port\",hi(\"getPort\",\"setPort\")),ui(yn,\"pathname\",hi(\"getPathname\",\"setPathname\")),ui(yn,\"search\",hi(\"getSearch\",\"setSearch\")),ui(yn,\"searchParams\",hi(\"getSearchParams\")),ui(yn,\"hash\",hi(\"getHash\",\"setHash\"))),Ld(yn,\"toJSON\",function(){return zl(this).serialize()},{enumerable:!0}),Ld(yn,\"toString\",function(){return zl(this).serialize()},{enumerable:!0}),La&&(e_=La.createObjectURL,n_=La.revokeObjectURL,e_&&Ld(ea,\"createObjectURL\",ZR(e_,La)),n_&&Ld(ea,\"revokeObjectURL\",ZR(n_,La)));var e_,n_;nG(ea,\"URL\"),Qj({global:!0,constructor:!0,forced:!Zj,sham:!ff},{URL:ea});var IG=xt,vG=Se,yG=Vu,lC=oi,AG=rf,uC=Dn(\"URL\");IG({target:\"URL\",stat:!0,forced:!(AG&&vG(function(){uC.canParse();}))},{canParse:function(t){var e=yG(arguments.length,1),n=lC(t),i=e<2||arguments[1]===void 0?void 0:lC(arguments[1]);try{return !!new uC(n,i)}catch{return !1}}});var hC=ae(Gi.URL),Ne={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1,supportDataChannel:!1,supportPCSetConfiguration:!1,supportWebRTCEncodedTransform:!1,supportWebRTCInsertableStream:!1,supportRequestVideoFrameCallback:!1,supportWebCrypto:!1};function ft(){return Ne}function jO(){return \"setSinkId\"in HTMLAudioElement.prototype&&(!v(\"RESTRICTION_SET_PLAYBACK_DEVICE\")||(oo()||_O())&&!lf())}function pC(){return !Ne.supportUnifiedPlan||v(\"CHROME_FORCE_PLAN_B\")&&ho()}var ke=function(t){return t.IOS_15_16_INTERRUPTION_START=\"ios15_16-interruption-start\",t.IOS_15_16_INTERRUPTION_END=\"ios15_16-interruption-end\",t.IOS_INTERRUPTION_START=\"ios-interruption-start\",t.IOS_INTERRUPTION_END=\"ios-interruption-end\",t.STATE_CHANGE=\"state-change\",t}({});function gs(t,e,n){return {sampleRate:t,stereo:e,bitrate:n}}function _t(t,e,n,i,r){return {width:t,height:e,frameRate:n,bitrateMin:i,bitrateMax:r}}function pi(t,e,n,i,r){return {width:{max:t},height:{max:e},frameRate:n,bitrateMin:i,bitrateMax:r}}function i_(t,e){return {numSpatialLayers:t,numTemporalLayers:e}}var bG={\"90p\":_t(160,90),\"90p_1\":_t(160,90),\"120p\":_t(160,120,15,30,65),\"120p_1\":_t(160,120,15,30,65),\"120p_3\":_t(120,120,15,30,50),\"120p_4\":_t(212,120),\"180p\":_t(320,180,15,30,140),\"180p_1\":_t(320,180,15,30,140),\"180p_3\":_t(180,180,15,30,100),\"180p_4\":_t(240,180,15,30,120),\"240p\":_t(320,240,15,40,200),\"240p_1\":_t(320,240,15,40,200),\"240p_3\":_t(240,240,15,40,140),\"240p_4\":_t(424,240,15,40,220),\"360p\":_t(640,360,15,80,400),\"360p_1\":_t(640,360,15,80,400),\"360p_3\":_t(360,360,15,80,260),\"360p_4\":_t(640,360,30,80,600),\"360p_6\":_t(360,360,30,80,400),\"360p_7\":_t(480,360,15,80,320),\"360p_8\":_t(480,360,30,80,490),\"360p_9\":_t(640,360,15,80,800),\"360p_10\":_t(640,360,24,80,800),\"360p_11\":_t(640,360,24,80,1e3),\"480p\":_t(640,480,15,100,500),\"480p_1\":_t(640,480,15,100,500),\"480p_2\":_t(640,480,30,100,1e3),\"480p_3\":_t(480,480,15,100,400),\"480p_4\":_t(640,480,30,100,750),\"480p_6\":_t(480,480,30,100,600),\"480p_8\":_t(848,480,15,100,610),\"480p_9\":_t(848,480,30,100,930),\"480p_10\":_t(640,480,10,100,400),\"720p\":_t(1280,720,15,120,1130),\"720p_auto\":_t(1280,720,30,900,3e3),\"720p_1\":_t(1280,720,15,120,1130),\"720p_2\":_t(1280,720,30,120,2e3),\"720p_3\":_t(1280,720,30,120,1710),\"720p_5\":_t(960,720,15,120,910),\"720p_6\":_t(960,720,30,120,1380),\"1080p\":_t(1920,1080,15,120,2080),\"1080p_1\":_t(1920,1080,15,120,2080),\"1080p_2\":_t(1920,1080,30,120,3e3),\"1080p_3\":_t(1920,1080,30,120,3150),\"1080p_5\":_t(1920,1080,60,120,4780),\"1440p\":_t(2560,1440,30,120,4850),\"1440p_1\":_t(2560,1440,30,120,4850),\"1440p_2\":_t(2560,1440,60,120,7350),\"4k\":_t(3840,2160,30,120,8910),\"4k_1\":_t(3840,2160,30,120,8910),\"4k_3\":_t(3840,2160,60,120,13500)},wG={\"480p\":pi(640,480,5),\"480p_1\":pi(640,480,5),\"480p_2\":pi(640,480,30),\"480p_3\":pi(640,480,15),\"720p\":pi(1280,720,5),\"720p_auto\":_t(1280,720,30,900,3e3),\"720p_1\":pi(1280,720,5),\"720p_2\":pi(1280,720,30),\"720p_3\":pi(1280,720,15),\"1080p\":pi(1920,1080,5),\"1080p_1\":pi(1920,1080,5),\"1080p_2\":pi(1920,1080,30),\"1080p_3\":pi(1920,1080,15)},OG={\"1SL1TL\":i_(1,1),\"3SL3TL\":i_(3,3),\"2SL3TL\":i_(2,3)};function cr(t){return t||(t=\"480p_1\"),typeof t==\"string\"?Object.assign({},bG[t]):t}function r_(t){return typeof t==\"string\"?Object.assign({},wG[t]):t}function Fd(t){return typeof t==\"string\"?Object.assign({},OG[t]):t}var NG={speech_low_quality:gs(16e3,!1),speech_standard:gs(32e3,!1,18),music_standard:gs(48e3,!1),standard_stereo:gs(48e3,!0,56),high_quality:gs(48e3,!1,128),high_quality_stereo:gs(48e3,!0,192)};function Jl(t){return typeof t==\"string\"?Object.assign({},NG[t]):t}var As=[];function _C(t){return Ce(t,\"mediaSource\",[\"screen\",\"window\",\"application\"]),!0}var H=function(t){return t.NEED_RENEGOTIATE=\"@need_renegotiate\",t.NEED_REPLACE_TRACK=\"@need_replace_track\",t.NEED_REPLACE_MIXING_TRACK=\"@need_replace_mixing_track\",t.NEED_CLOSE=\"@need_close\",t.NEED_ENABLE_TRACK=\"@need_enable_track\",t.NEED_DISABLE_TRACK=\"@need_disable_track\",t.NEED_SESSION_ID=\"@need_sid\",t.SET_OPTIMIZATION_MODE=\"@set_optimization_mode\",t.GET_STATS=\"@get_stats\",t.GET_RTC_STATS=\"@get_rtc_stats\",t.GET_LOW_VIDEO_TRACK=\"@get_low_video_track\",t.NEED_RESET_REMOTE_SDP=\"@need_reset_remote_sdp\",t.NEED_UPDATE_VIDEO_ENCODER=\"@need_update_video_encoder\",t.NEED_UPDATE_VIDEO_SEND_PARAMETERS=\"@need_update_video_send_parameters\",t.NEED_MUTE_TRACK=\"@need_mute_track\",t.NEED_UNMUTE_TRACK=\"@need_unmute_track\",t}({}),Gt=function(t){return t.SCREEN_TRACK=\"screen_track\",t.CUSTOM_TRACK=\"custome_track\",t.LOW_STREAM=\"low_stream\",t}({}),na=function(t){return t[t.HIGH_STREAM=0]=\"HIGH_STREAM\",t[t.LOW_STREAM=1]=\"LOW_STREAM\",t}({}),DG=function(t){return t[t.HIGH_STREAM=0]=\"HIGH_STREAM\",t[t.LOW_STREAM=1]=\"LOW_STREAM\",t}({}),PG=function(t){return t[t.DISABLE=0]=\"DISABLE\",t[t.LOW_STREAM=1]=\"LOW_STREAM\",t[t.AUDIO_ONLY=2]=\"AUDIO_ONLY\",t}({}),Ko=function(t){return t.TRANSCEIVER_UPDATED=\"transceiver-updated\",t.SEI_TO_SEND=\"sei-to-send\",t.SEI_RECEIVED=\"sei-received\",t.TRACK_UPDATED=\"track-updated\",t}({}),ma=function(t){return t.SOURCE_STATE_CHANGE=\"source-state-change\",t.TRACK_ENDED=\"track-ended\",t.BEAUTY_EFFECT_OVERLOAD=\"beauty-effect-overload\",t.VIDEO_ELEMENT_VISIBLE_STATUS=\"video-element-visible-status\",t.CLOSED=\"closed\",t}({}),Ws=function(t){return t.FIRST_FRAME_DECODED=\"first-frame-decoded\",t.VIDEO_ELEMENT_VISIBLE_STATUS=\"video-element-visible-status\",t.VIDEO_STATE_CHANGED=\"video-state-changed\",t}({}),fa=function(t){return t.AUDIO=\"audio\",t.VIDEO=\"video\",t.DATA=\"data\",t}({}),jn=function(t){return t.AUDIO_SOURCE_STATE_CHANGE=\"audio_source_state_change\",t.RECEIVE_TRACK_BUFFER=\"receive_track_buffer\",t.ON_AUDIO_BUFFER=\"on_audio_buffer\",t.UPDATE_SOURCE=\"update_source\",t}({});(function(t){t.UPDATE_TRACK_SOURCE=\"update-track-source\";})({});var KE={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,currentPacketLossRate:0},YE={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},GO={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receivePacketsDiscarded:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},kG={uplinkNetworkQuality:0,downlinkNetworkQuality:0},WO={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},un=function(t){return t.ON_TRACK=\"on_track\",t.ON_NODE=\"on_node\",t}({}),Wn=function(t){return t.REQUEST_UPDATE_CONSTRAINTS=\"request_update_constraints\",t.REQUEST_CONSTRAINTS=\"request_constraints\",t}({}),Ua=function(t){return t.IDLE=\"IDLE\",t.INITING=\"INITING\",t.INITEND=\"INITEND\",t}({}),Bo=function(t){return t.STATE_CHANGE=\"state_change\",t.RECORDING_DEVICE_CHANGED=\"recordingDeviceChanged\",t.PLAYOUT_DEVICE_CHANGED=\"playoutDeviceChanged\",t.CAMERA_DEVICE_CHANGED=\"cameraDeviceChanged\",t}({}),nn=function(t){return t.NONE=\"none\",t.INIT=\"init\",t.CANPLAY=\"canplay\",t.PLAYING=\"playing\",t.PAUSED=\"paused\",t.SUSPEND=\"suspend\",t.STALLED=\"stalled\",t.WAITING=\"waiting\",t.ERROR=\"error\",t.DESTROYED=\"destroyed\",t.ABORT=\"abort\",t.ENDED=\"ended\",t.EMPTIED=\"emptied\",t.LOADEDDATA=\"loadeddata\",t}({}),zi=function(t){return t[t.VideoStateStopped=0]=\"VideoStateStopped\",t[t.VideoStateStarting=1]=\"VideoStateStarting\",t[t.VideoStateDecoding=2]=\"VideoStateDecoding\",t[t.VideoStateFrozen=3]=\"VideoStateFrozen\",t}({}),o_={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370},Cl=function(t){return t.OPEN=\"open\",t.MESSAGE=\"message\",t.CLOSE=\"close\",t.CLOSING=\"closing\",t.ERROR=\"error\",t}({});function Et(t,e,n,i,r){var o,s,a={};return Object.keys(i).forEach(function(c){a[c]=i[c];}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=ji(o=mj(s=n.slice()).call(s)).call(o,function(c,d){return d(t,e,c)||c},a),r&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(t,e,a),a=null),a}function P(t,e,n){return (e=function(i){var r=function(o,s){if(typeof o!=\"object\"||!o)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var c=a.call(o,\"string\");if(typeof c!=\"object\")return c;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(o)}(i);return typeof r==\"symbol\"?r:r+\"\"}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(n),!0).forEach(function(i){P(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var Xl=class extends Xt{set _mediaStreamTrack(e){e!==this.mediaStreamTrack&&(this.safeEmit(Ko.TRACK_UPDATED,e),this.mediaStreamTrack=e);}get _mediaStreamTrack(){return this.mediaStreamTrack}constructor(e,n){super(),P(this,\"trackMediaType\",void 0),P(this,\"_ID\",void 0),P(this,\"_rtpTransceiver\",void 0),P(this,\"_lowRtpTransceiver\",void 0),P(this,\"_hints\",[]),P(this,\"_isClosed\",!1),P(this,\"_originMediaStreamTrack\",void 0),P(this,\"mediaStreamTrack\",void 0),P(this,\"_external\",{}),this._ID=n||Ut(8,\"track-\"),this._originMediaStreamTrack=e,this.mediaStreamTrack=e,function(i){W(As).call(As,i)||As.push(i);}(this);}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(e){return e||po(()=>{var n;X.reportApiInvoke(null,{name:Te.GET_MEDIA_STREAM_TRACK,options:[],tag:Zt.TRACER}).onSuccess(((n=this._mediaStreamTrack)===null||n===void 0?void 0:n.label)||\"\");},this.mediaStreamTrack.id||this.getTrackId()),this._mediaStreamTrack}getRTCRtpTransceiver(e){return e===na.LOW_STREAM?this._lowRtpTransceiver:this._rtpTransceiver}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,this._lowRtpTransceiver=void 0,this._rtpTransceiver=void 0,function(e){let n=As.indexOf(e);n!==-1&&As.splice(n,1);}(this),this.emit(ma.CLOSED),this.removeAllListeners(Ko.SEI_RECEIVED);}_updateRtpTransceiver(e,n){if(n===na.LOW_STREAM){if(this._lowRtpTransceiver===e)return;this._lowRtpTransceiver=e;}else {if(this._rtpTransceiver===e)return;this._rtpTransceiver=e;}this.emit(Ko.TRANSCEIVER_UPDATED,e,n);}},no=class extends Xl{get isExternalTrack(){return this._isExternalTrack}get muted(){return this._muted}get enabled(){return this._enabled}get processorContext(){return this._processorContext}constructor(e,n){super(e,n),P(this,\"_enabled\",!0),P(this,\"_muted\",!1),P(this,\"_isExternalTrack\",!1),P(this,\"_isClosed\",!1),P(this,\"_enabledMutex\",void 0),P(this,\"processor\",void 0),P(this,\"_processorContext\",void 0),P(this,\"_handleTrackEnded\",()=>{this.onTrackEnded();}),this._enabledMutex=new ze(\"\".concat(this.getTrackId())),e.addEventListener(\"ended\",this._handleTrackEnded);}getTrackLabel(){var e,n;return (e=(n=this._originMediaStreamTrack)===null||n===void 0?void 0:n.label)!==null&&e!==void 0?e:\"\"}close(){this._isClosed||(this.stop(),this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,_.debug(\"[\".concat(this.getTrackId(),\"] close\")),this.emit(H.NEED_CLOSE),super.close());}async _updateOriginMediaStreamTrack(e,n){let i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];this._isExternalTrack=i,e!==this._originMediaStreamTrack&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener(\"ended\",this._handleTrackEnded),n&&this._originMediaStreamTrack.stop()),e.addEventListener(\"ended\",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await kt(this,H.NEED_REPLACE_TRACK,this),this.processor&&this._processorContext&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this._processorContext}));}_getDefaultPlayerConfig(){return {}}onTrackEnded(){_.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(ma.TRACK_ENDED);}stateCheck(e,n){if(_.debug(\"check track state, [muted: \".concat(this._muted,\", enabled: \").concat(this._enabled,\"] to [\").concat(e,\": \").concat(n,\"]\")),Nr(n,e),this._enabled&&this._muted&&e===\"enabled\"&&n===!1)throw new N(R.TRACK_STATE_UNREACHABLE,\"cannot set enabled while the track is muted\").print(\"error\",_);if(!this._enabled&&!this._muted&&e===\"muted\"&&n===!0)throw new N(R.TRACK_STATE_UNREACHABLE,\"cannot set muted while the track is disabled\").print(\"error\",_)}getProcessorStats(){return this._processorContext&&this._processorContext.gatherStats()||[]}getProcessorUsage(){return this._processorContext?this._processorContext.gatherUsage():j.resolve([])}},mC=window.AudioContext||window.webkitAudioContext,Mn=null,wt=new class extends Xt{constructor(){super(...arguments),P(this,\"prevState\",void 0),P(this,\"curState\",void 0),P(this,\"currentTime\",void 0),P(this,\"currentTimeStuckAt\",void 0),P(this,\"interruptDetectorTrack\",void 0),P(this,\"onLocalAudioTrackMute\",()=>{_.info(\"ios15-interruption-start\"),this.emit(ke.IOS_15_16_INTERRUPTION_START);}),P(this,\"onLocalAudioTrackUnmute\",async()=>{_.info(\"ios15-interruption-end\"),this.curState!==\"running\"||this.duringInterruption?_.info(\"ios15-interruption-end-canceled\"):(Mn&&await Mn.suspend(),this.emit(ke.IOS_15_16_INTERRUPTION_END));});}get duringInterruption(){return this.prevState===\"running\"&&this.curState===\"interrupted\"}bindInterruptDetectorTrack(t){_.debug(\"webaudio bindInterruptDetectorTrack \".concat(t.getTrackId())),this.interruptDetectorTrack||(this.interruptDetectorTrack=t,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute);}unbindInterruptDetectorTrack(t){_.debug(\"webaudio unbindInterruptDetectorTrack \".concat(t.getTrackId())),this.interruptDetectorTrack&&this.interruptDetectorTrack===t&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0);}};function ga(){if(!Mn){if(function(){if(!mC)return void _.error(\"your browser is not support web audio\");_.info(\"create audio context\");let t=Kt({},v(\"WEBAUDIO_INIT_OPTIONS\"));_.debug(\"audio context init option:\",JSON.stringify(t)),Mn=new mC(t),wt.curState=Mn.state,Mn.onstatechange=()=>{wt.prevState=wt.curState,wt.curState=Mn?Mn.state:void 0;let{prevState:e,curState:n}=wt,i=n===\"running\",r=n===\"interrupted\",o=e===\"running\",s=e===\"suspended\",a=e===\"interrupted\",c=mt().osVersion;(ln()||vi())&&o&&r&&(_.info(\"ios\".concat(c,\"-interruption-start\")),wt.emit(ke.IOS_INTERRUPTION_START)),(ln()||vi())&&(s||a)&&i&&(_.info(\"ios\".concat(c,\"-interruption-end\")),wt.emit(ke.IOS_INTERRUPTION_END)),e!==n&&wt.emit(ke.STATE_CHANGE,n,e);},setInterval(()=>{var e;let n=(e=Mn)===null||e===void 0?void 0:e.currentTime;wt.currentTime!==n?(wt.currentTimeStuckAt&&(_.debug(\"AudioContext current time resume at \".concat(n)),wt.currentTimeStuckAt=void 0),wt.currentTime=n):(n!==wt.currentTimeStuckAt&&(X.reportApiInvoke(null,{name:\"WEB_AUDIO_CURRENT_TIME_STUCK\",options:{currentTime:n},tag:Zt.TRACER}).onSuccess(),_.warning(\"AudioContext current time stuck at \".concat(n))),wt.currentTimeStuckAt=n);},5e3),async function(e){let n=[\"click\",\"contextmenu\",\"auxclick\",\"dblclick\",\"mousedown\",\"mouseup\",\"touchend\",\"keydown\",\"keyup\"],i,r=!1,o=!1,s=!1;function a(E){e.state===\"running\"?c(!1):ln()||vi()?e.state===\"suspended\"&&(c(!0),E&&e.resume().then(d,d)):e.state!==\"closed\"&&(c(!0),E&&e.resume().then(d,d));}function c(E){if(r!==E){r=E;for(let f=0,S=n;f<S.length;f+=1){let C=S[f];E?window.addEventListener(C,l,{capture:!0,passive:!0}):window.removeEventListener(C,l,{capture:!0,passive:!0});}}}function d(){a(!1);}function l(){a(!0);}function u(E){if(!s)if(i.paused)if(E){let f;h(!1),s=!0;try{f=i.play(),f?f.then(p,p):(i.addEventListener(\"playing\",p),i.addEventListener(\"abort\",p),i.addEventListener(\"error\",p));}catch{p();}}else h(!0);else h(!1);}function h(E){if(o!==E){o=E;for(let f=0,S=n;f<S.length;f++){let C=S[f];E?window.addEventListener(C,g,{capture:!0,passive:!0}):window.removeEventListener(C,g,{capture:!0,passive:!0});}}}function p(){i.removeEventListener(\"playing\",p),i.removeEventListener(\"abort\",p),i.removeEventListener(\"error\",p),s=!1,u(!1);}function g(){u(!0);}if(ln()){let E=e.createMediaStreamDestination(),f=document.createElement(\"div\");f.innerHTML=\"<audio x-webkit-airplay='deny'></audio>\",i=f.children.item(0),i.controls=!1,i.disableRemotePlayback=!0,i.preload=\"auto\",i.srcObject=E.stream,u(!0);}wt.on(ke.STATE_CHANGE,function(){a(!0);}),a(!1);}(Mn);}(),!Mn)throw new N(R.NOT_SUPPORTED,\"can not create audio context\");return Mn}return Mn}function No(t){if(function(){if(s_!==null)return s_;let i=ga(),r=i.createBufferSource(),o=i.createGain(),s=i.createGain();r.connect(o),r.connect(s),r.disconnect(o);let a=!1;try{r.disconnect(o);}catch{a=!0;}return r.disconnect(),s_=a,a}())return;let e=t.connect,n=t.disconnect;t.connect=(i,r,o)=>{var s;return t._inputNodes||(t._inputNodes=[]),W(s=t._inputNodes).call(s,i)||(i instanceof AudioNode?(t._inputNodes.push(i),e.call(t,i,r,o)):e.call(t,i,r)),t},t.disconnect=(i,r,o)=>{n.call(t),i?Wl(t._inputNodes,i):t._inputNodes=[];for(let s of t._inputNodes)e.call(t,s);};}var s_=null;function Rf(t,e){let n=!1,i=1/e;if(v(\"DISABLE_WEBAUDIO\")){let r=window.setInterval(()=>{n?window.clearInterval(r):t(performance.now()/1e3);},1e3*i);}else {let r=ga(),o=r.createGain();o.gain.value=0,o.connect(r.destination);let s=()=>{if(n)return void(o=null);let a=r.createOscillator();a.onended=s,a.connect(o),a.start(0),a.stop(r.currentTime+i),t(r.currentTime);};s();}return ()=>{n=!0;}}var Ql=class{constructor(){P(this,\"context\",void 0),P(this,\"analyserNode\",void 0),P(this,\"sourceNode\",void 0),this.context=ga(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4;}updateSource(e){if(e!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode);}catch{}this.sourceNode=e,e?.connect(this.analyserNode);}}getVolumeLevel(){if(!this.sourceNode||(!this.context||ln()||vi()||this.context.state!==\"running\"&&this.context.resume(),!this.analyserNode))return 0;let e=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(e);else {let i=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(i);for(let r=0;r<e.length;++r)e[r]=i[r]/128-1;}let n=ji(e).call(e,(i,r)=>i+r*r,0)/e.length;return Math.max(10*Math.log10(n)+100,0)/100}getAnalyserNode(){return this.analyserNode}rebuildAnalyser(){try{var e,n;(e=this.sourceNode)===null||e===void 0||e.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,(n=this.sourceNode)===null||n===void 0||n.connect(this.analyserNode);}catch{_.warning(\"rebuild analyser node failed.\");}}destroy(){this.updateSource(void 0);}},Zl=class extends Xt{get processSourceNode(){return this.sourceNode}set processedNode(e){var n;if(!this.isDestroyed&&this._processedNode!==e){try{var i;(i=this.sourceNode)===null||i===void 0||i.disconnect(this.outputNode);}catch{}(n=this._processedNode)===null||n===void 0||n.disconnect(),this._processedNode=e,this.connect();}}get processedNode(){return this._processedNode}constructor(){super(),P(this,\"outputNode\",void 0),P(this,\"outputTrack\",void 0),P(this,\"isPlayed\",!1),P(this,\"sourceNode\",void 0),P(this,\"context\",void 0),P(this,\"audioBufferNode\",void 0),P(this,\"destNode\",void 0),P(this,\"audioOutputLevel\",0),P(this,\"volumeLevelAnalyser\",void 0),P(this,\"_processedNode\",void 0),P(this,\"playNode\",void 0),P(this,\"isDestroyed\",!1),P(this,\"onNoAudioInput\",void 0),P(this,\"isNoAudioInput\",!1),P(this,\"_noAudioInputCount\",0),this.context=ga(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),No(this.outputNode),this.volumeLevelAnalyser=new Ql;}startGetAudioBuffer(e){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(e),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=n=>{this.emit(jn.ON_AUDIO_BUFFER,function(i){for(let r=0;r<i.outputBuffer.numberOfChannels;r+=1){let o=i.outputBuffer.getChannelData(r);for(let s=0;s<o.length;s+=1)o[s]=0;}return i.inputBuffer}(n));});}stopGetAudioBuffer(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0);}createOutputTrack(){if(!ft().webAudioMediaStreamDest)throw new N(R.NOT_SUPPORTED,\"your browser is not support audio processor\");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(e){this.context.state!==\"running\"&&qu(()=>{wt.emit(\"autoplay-failed\");}),this.isPlayed=!0,this.playNode=e||this.context.destination,this.outputNode.connect(this.playNode);}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode);}catch{}this.isPlayed=!1;}getAccurateVolumeLevel(){return this.volumeLevelAnalyser.getVolumeLevel()}async checkHasAudioInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(e>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;ln()||vi()?this.context.state===\"suspended\"&&this.context.resume():this.context.state!==\"running\"&&this.context.resume();let n=this.volumeLevelAnalyser.getAnalyserNode(),i;n.getFloatTimeDomainData?(i=new Float32Array(n.fftSize),n.getFloatTimeDomainData(i)):(i=new Uint8Array(n.fftSize),n.getByteTimeDomainData(i));let r=!1;for(let o=0;o<i.length;o++)i[o]!==0&&(r=!0);return r?(this.isNoAudioInput=!1,!0):(await Me(200),await this.checkHasAudioInput(e?e+1:1)&&r)}getAudioVolume(){return this.outputNode.gain.value}setVolume(e){this.outputNode.gain.setValueAtTime(e,this.context.currentTime);}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0;}disconnect(){var e,n;(e=this.processedNode)===null||e===void 0||e.disconnect(),(n=this.sourceNode)===null||n===void 0||n.disconnect(),this.outputNode&&this.outputNode.disconnect();}connect(){var e;this.processedNode?(e=this.processedNode)===null||e===void 0||e.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode),this.volumeLevelAnalyser.updateSource(this.outputNode);}},$l=class extends Zl{get isFreeze(){return !1}constructor(e,n,i){var r;if(super(),P(this,\"sourceNode\",void 0),P(this,\"track\",void 0),P(this,\"clonedTrack\",void 0),P(this,\"audioElement\",void 0),P(this,\"isCurrentTrackCloned\",!1),P(this,\"isRemoteTrack\",!1),P(this,\"originVolumeLevelAnalyser\",void 0),P(this,\"rebuildWebAudio\",async()=>{if(_.debug(\"ready to rebuild web audio, state:\",this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener(\"click\",this.rebuildWebAudio,!0),void _.debug(\"rebuild web audio success, current volume status\",this.getAccurateVolumeLevel());this.context.resume().then(()=>_.info(\"resume success\")),_.debug(\"rebuild web audio because of ios 12 bugs\"),this.disconnect();let a=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?a.stop():this.isCurrentTrackCloned=!0;let c=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(c),No(this.sourceNode),this.volumeLevelAnalyser.rebuildAnalyser();let d=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(d,this.context.currentTime),No(this.outputNode),this.emit(jn.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=c,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput();}),e.kind!==\"audio\")throw new N(R.UNEXPECTED_ERROR);this.track=e;let o=new MediaStream([this.track]);if(this.isRemoteTrack=!!n,this.sourceNode=this.context.createMediaStreamSource(o),No(this.sourceNode),i){let a=i.clone();a.enabled=!0,this.clonedTrack=a,_.debug(\"create an unmuted track \".concat(a.id,\" from the original track \").concat(i.id,\" to get the volume\"));let c=this.context.createMediaStreamSource(new MediaStream([a]));No(c),this.originVolumeLevelAnalyser=new Ql,this.originVolumeLevelAnalyser.updateSource(c);}this.connect(),this.audioElement=document.createElement(\"audio\"),this.audioElement.srcObject=o;let s=mt();n&&s.os===ye.IOS&&Number((r=s.osVersion)===null||r===void 0?void 0:r.split(\".\")[0])<15&&(wt.on(ke.STATE_CHANGE,()=>{this.context.state===\"suspended\"?document.body.addEventListener(\"click\",this.rebuildWebAudio,!0):this.context.state===\"running\"&&this.rebuildWebAudio();}),this.checkHasAudioInput().then(a=>{a||document.body.addEventListener(\"click\",this.rebuildWebAudio,!0);}));}updateTrack(e){this.sourceNode.disconnect(),this.track=e,this.isCurrentTrackCloned=!1;let n=new MediaStream([e]);this.sourceNode=this.context.createMediaStreamSource(n),No(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(jn.UPDATE_SOURCE),this.audioElement.srcObject=n;}destroy(){var e;this.audioElement.srcObject=null,this.audioElement.remove(),wt.off(\"state-change\",this.rebuildWebAudio),(e=this.originVolumeLevelAnalyser)===null||e===void 0||e.destroy(),this.clonedTrack=void 0,super.destroy();}createMediaStreamSourceNode(e){return this.context.createMediaStreamSource(new MediaStream([e]))}updateOriginTrack(e){let n=e.clone();n.enabled=!0,this.clonedTrack&&(this.clonedTrack.stop(),this.clonedTrack=n),_.debug(\"create an unmuted track \".concat(n.id,\" from the original track \").concat(e.id,\" to get the volume\"));let i=this.context.createMediaStreamSource(new MediaStream([n]));No(i),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(i);}getOriginVolumeLevel(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}};async function HO(t,e,n){let i=(o,s)=>o?typeof o!=\"number\"?o.max||o.exact||o.ideal||o.min||s:o:s,r={audio:!!n&&{mandatory:{chromeMediaSource:\"desktop\"}},video:{mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:t,maxHeight:i(e.height,1080),maxWidth:i(e.width,1920)}}};return e.frameRate&&typeof e.frameRate!=\"number\"?(r.video.mandatory.maxFrameRate=e.frameRate.max,r.video.mandatory.minFrameRate=e.frameRate.min):typeof e.frameRate==\"number\"&&(r.video.mandatory.maxFrameRate=e.frameRate),await navigator.mediaDevices.getUserMedia(r)}async function LG(t,e){let n=await KO(t.mediaSource),{sourceId:i,audio:r}=await function(o){let s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new j((a,c)=>{let d=document.createElement(\"div\");d.innerText=\"share screen\",d.setAttribute(\"style\",\"text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;\");let l=document.createElement(\"div\");l.setAttribute(\"style\",\"width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;\");let u=document.createElement(\"div\");u.innerText=\"Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.\",u.setAttribute(\"style\",\"height: 12%;\");let h=document.createElement(\"div\");h.setAttribute(\"style\",\"width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;\");let p=document.createElement(\"div\");p.setAttribute(\"style\",\"display: flex; justify-content: space-between; padding: 16px 0;\");let g=document.createElement(\"button\");g.innerHTML=\"cancel\",g.setAttribute(\"style\",\"width: 85px;\"),g.onclick=()=>{document.body.removeChild(S);let C=new Error(\"NotAllowedError\");C.name=\"NotAllowedError\",c(C);};let E=s,f=document.createElement(\"div\");if(s){let C=document.createElement(\"input\");C.setAttribute(\"type\",\"checkbox\");let A=document.createElement(\"span\");C.setAttribute(\"style\",\"margin-right: 6px;\"),A.innerText=\"Share audio\",C.checked=E,C.onchange=()=>{E=C.checked;},f.appendChild(C),f.appendChild(A);}p.appendChild(f),p.appendChild(g),l.appendChild(u),l.appendChild(h),l.appendChild(p);let S=document.createElement(\"div\");S.setAttribute(\"style\",\"position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);\"),S.appendChild(d),S.appendChild(l),document.body.appendChild(S),o.map(C=>{if(C.id){let A=document.createElement(\"div\");A.setAttribute(\"style\",\"width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;\");let b=C.thumbnail;try{let{width:w}=b.getSize();w>1920&&(b=b.resize({width:1920}));}catch(w){throw w&&w.message.startsWith(\"Illegal invocation\")&&console.error(\"Operate thumbnail error, please try to set contextIsolation: false. (https://github.com/electron/electron/issues/34953)\"),w}A.innerHTML='<div style=\"height: 120px; display: table-cell; vertical-align: middle;\"><img style=\"width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);\" src='+b.toDataURL()+' /></div><span style=\"\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">'+C.name.replace(/[\\u00A0-\\u9999<>\\&]/g,function(w){return \"&#\"+w.charCodeAt(0)+\";\"})+\"</span>\",A.onclick=()=>{document.body.removeChild(S),a({sourceId:C.id,audio:E});},h.appendChild(A);}});})}(n,e);return await HO(i,t,r)}async function KO(t){let e=[\"window\",\"screen\"];t!==\"application\"&&t!==\"window\"||(e=[\"window\"]),t===\"screen\"&&(e=[\"screen\"]);let n=IO();if(!n)throw console.error(\"failed to fetch electron, please mount it to window\"),new N(R.ELECTRON_IS_NULL);let i=null;try{var r;i=((r=n.desktopCapturer)===null||r===void 0?void 0:r.getSources({types:e}))||n.ipcRenderer.invoke(\"DESKTOP_CAPTURER_GET_SOURCES\",{types:e});}catch{i=null;}i&&i.then||(i=new j((o,s)=>{n.desktopCapturer.getSources({types:e},(a,c)=>{a?s(a):o(c);});}));try{return await i}catch(o){throw new N(R.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,o.toString())}}var qE=new ze(\"safari\"),YO=!1,qO=!1;async function Fn(t,e){let n=0,i=null;for(;n<2;)try{i=await MG(t,e,n>0);break}catch(r){if(r instanceof N)throw _.error(\"[\".concat(e,\"] \").concat(r.toString())),r;let o=Il(r.name||r.code||r,r.message);if(o.code===R.MEDIA_OPTION_INVALID){_.debug(\"[\".concat(e,\"] detect media option invalid, retry\")),n+=1,await Me(500);continue}throw _.error(\"[\".concat(e,\"] \").concat(o.toString())),o}if(!i)throw new N(R.UNEXPECTED_ERROR,\"can not find stream after getUserMedia\");return i}async function MG(t,e,n){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new N(R.NOT_SUPPORTED,\"can not find getUserMedia\");n&&(t.video&&(delete t.video.width,delete t.video.height),t.screen&&(delete t.screen.width,delete t.screen.height));let i=ft(),r=new MediaStream;if(t.audioSource&&r.addTrack(t.audioSource),t.videoSource&&r.addTrack(t.videoSource),!t.audio&&!t.video&&!t.screen)return _.debug(\"Using Video Source/ Audio Source\"),r;if(t.screen)if(IO())t.screen.sourceId?Ts(r,await HO(t.screen.sourceId,t.screen,t.screenAudio)):Ts(r,await LG(t.screen,t.screenAudio));else if(oo()&&t.screen.extensionId&&t.screen.mandatory){if(!i.getStreamFromExtension)throw new N(R.NOT_SUPPORTED,\"This browser does not support screen sharing\");_.debug(\"[\".concat(e,'] Screen access on chrome stable, looking for extension\"'));let h=await(s=t.screen.extensionId,a=e,new j((p,g)=>{try{chrome.runtime.sendMessage(s,{getStream:!0},E=>{if(!E||!E.streamId)return _.error(\"[\".concat(a,\"] No response from Chrome Plugin. Plugin not installed properly\"),E),void g(new N(R.CHROME_PLUGIN_NO_RESPONSE,\"No response from Chrome Plugin. Plugin not installed properly\"));p(E.streamId);});}catch(E){_.error(\"[\".concat(a,\"] AgoraRTC screensharing plugin is not accessible(\").concat(s,\")\"),E.toString()),g(new N(R.CHROME_PLUGIN_NOT_INSTALL));}}));t.screen.mandatory.chromeMediaSourceId=h,Ts(r,await navigator.mediaDevices.getUserMedia({video:{mandatory:t.screen.mandatory}}));}else if(i.getDisplayMedia){var o;t.screen.mediaSource&&_C(t.screen.mediaSource);let h={width:t.screen.width,height:t.screen.height,frameRate:t.screen.frameRate,displaySurface:(o=t.screen.displaySurface)!==null&&o!==void 0?o:t.screen.mediaSource===\"screen\"?\"monitor\":t.screen.mediaSource},{selfBrowserSurface:p,surfaceSwitching:g,systemAudio:E}=t.screen,f={selfBrowserSurface:p,surfaceSwitching:g,systemAudio:E};!p&&delete f.selfBrowserSurface,!g&&delete f.surfaceSwitching,!E&&delete f.systemAudio,_.debug(\"[\".concat(e,\"] getDisplayMedia:\"),JSON.stringify({video:h,audio:!!t.screenAudio,controls:f})),Ts(r,await navigator.mediaDevices.getDisplayMedia(Kt({video:h,audio:!!t.screenAudio},f)));}else {if(!$t())throw _.error(\"[\".concat(e,\"] This browser does not support screenSharing\")),new N(R.NOT_SUPPORTED,\"This browser does not support screen sharing\");{t.screen.mediaSource&&_C(t.screen.mediaSource);let h={video:{mediaSource:t.screen.mediaSource,width:t.screen.width,height:t.screen.height,frameRate:t.screen.frameRate}};_.debug(\"[\".concat(e,\"] getUserMedia: \").concat(JSON.stringify(h))),Ts(r,await navigator.mediaDevices.getUserMedia(h));}}var s,a;if(!t.video&&!t.audio)return r;let c={video:t.video,audio:t.audio},d=v(\"MEDIA_DEVICE_CONSTRAINTS\");if(d)try{typeof d==\"string\"&&(d=JSON.parse(d)),c=kE(c,d);}catch{}_.debug(\"[\".concat(e,\"] GetUserMedia\"),JSON.stringify(c)),mt();let l,u=null;(je()||ln()||Gl())&&(u=await qE.lock());try{l=await navigator.mediaDevices.getUserMedia(c);}catch(h){throw u&&u(),h}return c.audio&&(YO=!0),c.video&&(qO=!0),Ts(r,l),u&&u(),r}function Il(t,e){switch(t){case\"Starting video failed\":case\"OverconstrainedError\":case\"TrackStartError\":return new N(R.MEDIA_OPTION_INVALID,\"\".concat(t,\": \").concat(e));case\"NotFoundError\":case\"DevicesNotFoundError\":return new N(R.DEVICE_NOT_FOUND,\"\".concat(t,\": \").concat(e));case\"NotSupportedError\":return new N(R.NOT_SUPPORTED,\"\".concat(t,\": \").concat(e));case\"NotReadableError\":return new N(R.NOT_READABLE,\"\".concat(t,\": \").concat(e));case\"InvalidStateError\":case\"NotAllowedError\":case\"PERMISSION_DENIED\":case\"PermissionDeniedError\":return new N(R.PERMISSION_DENIED,\"\".concat(t,\": \").concat(e));case\"ConstraintNotSatisfiedError\":return new N(R.CONSTRAINT_NOT_SATISFIED,\"\".concat(t,\": \").concat(e));default:return _.error(\"getUserMedia unexpected error\",t),new N(R.UNEXPECTED_ERROR,\"\".concat(t,\": \").concat(e))}}function Ts(t,e){let n=t.getVideoTracks()[0],i=t.getAudioTracks()[0],r=e.getVideoTracks()[0],o=e.getAudioTracks()[0];o&&(i&&t.removeTrack(i),t.addTrack(o)),r&&(n&&t.removeTrack(n),t.addTrack(r));}var Gn=new class extends Xt{get state(){return this._state}set state(t){t!==this._state&&(this.emit(Bo.STATE_CHANGE,t),this._state=t);}constructor(){super(),P(this,\"_state\",Ua.IDLE),P(this,\"isAccessMicrophonePermission\",!1),P(this,\"isAccessCameraPermission\",!1),P(this,\"lastAccessMicrophonePermission\",!1),P(this,\"lastAccessCameraPermission\",!1),P(this,\"checkdeviceMatched\",!1),P(this,\"deviceInfoMap\",new Map),this.init().then(()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener(\"devicechange\",this.updateDevicesInfo.bind(this)),window.setInterval(()=>{(v(\"ENUMERATE_DEVICES_INTERVAL\")||(Ku()||Hu()===ye.HARMONY_OS)&&ho())&&this.updateDevicesInfo();},v(\"ENUMERATE_DEVICES_INTERVAL_TIME\"));}).catch(t=>_.error(t.toString()));}async enumerateDevices(t,e){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return new N(R.NOT_SUPPORTED,\"enumerateDevices() not supported.\").throw();let i=await navigator.mediaDevices.enumerateDevices(),r=this.checkMediaDeviceInfoIsOk(i),o=!this.isAccessMicrophonePermission&&t,s=!this.isAccessCameraPermission&&e;r.audio&&(o=!1),r.video&&(s=!1);let a=null,c=null,d=null;if(!n&&(o||s)){if(qE.isLocked&&(_.debug(\"[device manager] wait GUM lock\"),(await qE.lock())(),_.debug(\"[device manager] GUM unlock\")),YO&&(o=!1,this.isAccessMicrophonePermission=!0),qO&&(s=!1,this.isAccessCameraPermission=!0),_.debug(\"[device manager] check media device permissions\",t,e,o,s),o&&s){try{d=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0});}catch(l){let u=Il(l.name||l.code||l,l.message);if(u.code===R.PERMISSION_DENIED)throw u;_.warning(\"getUserMedia failed in getDevices\",u);}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0;}else if(o){try{a=await navigator.mediaDevices.getUserMedia({audio:t});}catch(l){let u=Il(l.name||l.code||l,l.message);if(u.code===R.PERMISSION_DENIED)throw u;_.warning(\"getUserMedia failed in getDevices\",u);}this.isAccessMicrophonePermission=!0;}else if(s){try{c=await navigator.mediaDevices.getUserMedia({video:e});}catch(l){let u=Il(l.name||l.code||l,l.message);if(u.code===R.PERMISSION_DENIED)throw u;_.warning(\"getUserMedia failed in getDevices\",u);}this.isAccessCameraPermission=!0;}_.debug(\"[device manager] mic permission\",t,\"cam permission\",e);}try{let l=await navigator.mediaDevices.enumerateDevices();return a&&a.getTracks().forEach(u=>u.stop()),c&&c.getTracks().forEach(u=>u.stop()),d&&d.getTracks().forEach(u=>u.stop()),a=null,c=null,d=null,l}catch(l){return a&&a.getTracks().forEach(u=>u.stop()),c&&c.getTracks().forEach(u=>u.stop()),d&&d.getTracks().forEach(u=>u.stop()),a=null,c=null,d=null,new N(R.ENUMERATE_DEVICES_FAILED,l.toString()).throw()}}async getRecordingDevices(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return (await this.enumerateDevices(!0,!1,t)).filter(e=>e.kind===\"audioinput\")}async getCamerasDevices(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return (await this.enumerateDevices(!1,!0,t)).filter(e=>e.kind===\"videoinput\")}async getSpeakers(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return (await this.enumerateDevices(!0,!1,t)).filter(e=>e.kind===\"audiooutput\")}searchDeviceIdByName(t){let e=null;return this.deviceInfoMap.forEach(n=>{n.device.label===t&&(e=n.device.deviceId);}),e}async getDeviceById(t){let e=(await this.enumerateDevices(!0,!0,!0)).find(n=>n.deviceId===t);if(!e)throw new N(R.DEVICE_NOT_FOUND,\"deviceId: \".concat(t));return e}async init(){this.state=Ua.INITING;try{await this.updateDevicesInfo(),this.state=Ua.INITEND;}catch(t){throw _.warning(\"Device Detection functionality cannot start properly.\",t.toString()),this.state=Ua.IDLE,(typeof isSecureContext==\"boolean\"?isSecureContext:location.protocol===\"https:\"||location.protocol===\"file:\"||location.hostname===\"localhost\"||location.hostname===\"127.0.0.1\"||location.hostname===\"::1\")||new N(R.WEB_SECURITY_RESTRICT,\"Your context is limited by web security, please try using https protocol or localhost.\").throw(),t}}async updateDevicesInfo(){let t=await this.enumerateDevices(!0,!0,!0),e=Date.now(),n=[];if(t[0]&&t[0].label&&this.checkdeviceMatched===!1){this.checkdeviceMatched=!0;let r=t.find(s=>s.kind===\"audioinput\"&&s.deviceId===\"default\"),o=t.find(s=>s.kind===\"audiooutput\"&&s.deviceId===\"default\");r&&o?o.groupId===r.groupId?_.debug(\"[device-check] default input \".concat(r.label,\" and output \").concat(o.label,\" is the same group\")):_.warning(\"[device-check] default input \".concat(r.label,\" and output \").concat(o.label,\" is not the same group\")):_.debug(\"[device-check] default input or output not found\");}let i=this.checkMediaDeviceInfoIsOk(t);if(t.forEach(r=>{if(!r.deviceId)return;let o=this.deviceInfoMap.get(\"\".concat(r.kind,\"_\").concat(r.deviceId));if((o?o.state:\"INACTIVE\")!==\"ACTIVE\"){let s={initAt:e,updateAt:e,device:r,state:\"ACTIVE\"};this.deviceInfoMap.set(\"\".concat(r.kind,\"_\").concat(r.deviceId),s),n.push(s);}o&&(o.updateAt=e);}),this.deviceInfoMap.forEach((r,o)=>{r.state===\"ACTIVE\"&&r.updateAt!==e&&(r.state=\"INACTIVE\",n.push(r));}),this.state!==Ua.INITEND)return i.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(i.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));n.forEach(r=>{switch(r.device.kind){case\"audioinput\":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(Bo.RECORDING_DEVICE_CHANGED,r);break;case\"videoinput\":this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(Bo.CAMERA_DEVICE_CHANGED,r);break;case\"audiooutput\":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(Bo.PLAYOUT_DEVICE_CHANGED,r);}}),i.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),i.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0);}checkMediaDeviceInfoIsOk(t){let e=t.filter(r=>r.kind===\"audioinput\"),n=t.filter(r=>r.kind===\"videoinput\"),i={audio:!1,video:!1};for(let r of e)if(r.label&&r.deviceId){i.audio=!0;break}for(let r of n)if(r.label&&r.deviceId){i.video=!0;break}return i}},a_=!1,Un=new class extends Xt{constructor(){super(...arguments),P(this,\"onAutoplayFailed\",void 0),P(this,\"onAudioAutoplayFailed\",void 0);}};function zO(){if(mt(),!a_){let t=e=>{e.preventDefault(),a_=!1,yc()?document.body.removeEventListener(\"click\",t,!0):(document.body.removeEventListener(\"touchstart\",t,!0),document.body.removeEventListener(\"mousedown\",t,!0));};a_=!0,yc()?document.body.addEventListener(\"click\",t,!0):(document.body.addEventListener(\"touchstart\",t,!0),document.body.addEventListener(\"mousedown\",t,!0)),_.info(\"detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web\"),Un.onAutoplayFailed?Un.onAutoplayFailed():Un.onAudioAutoplayFailed?_.warning(`AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\n\n  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .`):_.warning(`We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\n\n  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\n\n  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .`),Un.emit(\"autoplay-failed\");}}function JO(t,e,n,i){if(!t)return;let r=X.getBaseInfoBySessionId(t);if(!r)return;let o=r.info,s=Date.now(),a=Kt(Kt({},o),{},{vid:o.vid===void 0?0:Number(o.vid),lts:s,elapse:s-r.startTime,cbRegistered:Un.onAutoplayFailed||Un.onAudioAutoplayFailed?1:-1,errorMsg:n,mediaType:e,trackId:i,extend:void 0});X.send({type:Jt.AUTOPLAY_FAILED,data:a},!0);}var UG=[\"play\",\"playing\",\"loadeddata\",\"canplay\",\"pause\",\"stalled\",\"suspend\",\"waiting\",\"abort\",\"emptied\",\"ended\",\"error\"],En=new class{constructor(){P(this,\"onAutoplayFailed\",void 0),P(this,\"elementMap\",new Map),P(this,\"elementStateMap\",new Map),P(this,\"elementsNeedToResume\",[]),P(this,\"sinkIdMap\",new Map),P(this,\"autoResumeAfterInterruption\",t=>{Array.from(this.elementMap.entries()).forEach(e=>{let[n,i]=e,r=this.elementStateMap.get(n),o=i.srcObject.getAudioTracks()[0],s=o&&o.readyState;if(_.debug(\"resume after interrupted, ele: \".concat(r,\" audio: \").concat(s,\" \").concat(t)),s===\"live\"){if(t)return i.pause(),void i.play();if(wt.curState===\"running\")return Zs()?(i.pause(),void i.play()):void(r&&r===\"paused\"&&i.play())}});}),P(this,\"autoResumeAfterInterruptionOnIOS15_16\",()=>{Array.from(this.elementMap.entries()).forEach(t=>{let[e,n]=t,i=n.srcObject.getAudioTracks()[0];i&&i.readyState===\"live\"&&(_.debug(\"auto resume after interruption inside autoResumeAfterInterruptionOnIOS15\"),n.pause(),n.play());});}),this.autoResumeAudioElement(),wt.on(ke.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),wt.on(ke.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),wt.on(ke.STATE_CHANGE,()=>{ln()&&wt.prevState===\"suspended\"&&wt.curState===\"running\"&&this.autoResumeAfterInterruption();});}async setSinkID(t,e){let n=this.elementMap.get(t);if(this.sinkIdMap.set(t,e),n)try{await n.setSinkId(e);}catch(i){throw new N(R.PERMISSION_DENIED,\"can not set sink id: \"+i.toString())}}play(t,e,n,i){if(this.elementMap.has(e))return;let r=document.createElement(\"audio\");r.autoplay=!0,r.srcObject=new MediaStream([t]),this.bindAudioElementEvents(e,r),this.elementMap.set(e,r),this.elementStateMap.set(e,nn.INIT),this.setVolume(e,n);let o=this.sinkIdMap.get(e);if(o)try{r.setSinkId(o).catch(a=>{_.warning(\"[\".concat(e,\"] set sink id failed\"),a.toString());});}catch(a){_.warning(\"[\".concat(e,\"] set sink id failed\"),a.toString());}let s=r.play();s&&s.then&&s.catch(a=>{i&&JO(i,\"audio\",a.message,e),_.warning(\"audio element play warning\",a.toString()),this.elementMap.has(e)&&a.name===\"NotAllowedError\"&&(_.warning(\"detected audio element autoplay failed\"),this.elementsNeedToResume.push(r),qu(()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),zO();}));});}updateTrack(t,e){let n=this.elementMap.get(t);n&&(n.srcObject=new MediaStream([e]));}isPlaying(t){return this.elementMap.has(t)&&this.elementStateMap.get(t)===\"playing\"}setVolume(t,e){let n=this.elementMap.get(t);n&&(e=Math.max(0,Math.min(100,e)),n.volume=e/100);}stop(t){let e=this.elementMap.get(t);if(this.sinkIdMap.delete(t),!e)return;let n=this.elementsNeedToResume.indexOf(e);this.elementsNeedToResume.splice(n,1),e.srcObject=null,e.remove(),this.elementMap.delete(t),this.elementStateMap.delete(t);}bindAudioElementEvents(t,e){UG.forEach(n=>{e.addEventListener(n,i=>{let r=this.elementStateMap.get(t),o=i.type===\"pause\"?\"paused\":i.type;if(_.debug(\"[\".concat(t,\"] audio-element-status change \").concat(r,\" => \").concat(o)),i.type===\"error\"){let s=e?.error;s&&_.error(\"[\".concat(t,\"] media error, code: \").concat(s.code,\", message: \").concat(s.message));}this.elementStateMap.set(t,o);});});}getPlayerState(t){return this.elementStateMap.get(t)||\"uninit\"}autoResumeAudioElement(){let t=()=>{this.elementsNeedToResume.forEach(e=>{e.play().then(n=>{_.debug(\"Auto resume audio element success\");}).catch(n=>{_.warning(\"Auto resume audio element failed!\",n);});}),this.elementsNeedToResume=[];};new j(e=>{document.body?e():window.addEventListener(\"load\",()=>e());}).then(()=>{yc()?document.body.addEventListener(\"click\",t,!0):(document.body.addEventListener(\"touchstart\",t,!0),document.body.addEventListener(\"mousedown\",t,!0));});}};function se(){return function(t,e,n){let i=n.value;return typeof i==\"function\"&&(n.value=function(){this._isClosed&&new N(R.INVALID_OPERATION,\"[\".concat(this.getTrackId(),\"] cannot operate a closed track\")).print(\"warning\",_);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];let a=i.apply(this,o);return a instanceof j?new j((c,d)=>{a.then(c).catch(d);}):a}),n}}var tu=class extends Xt{constructor(e){super(),P(this,\"name\",\"VideoProcessorDestination\"),P(this,\"ID\",\"0\"),P(this,\"_source\",void 0),P(this,\"videoContext\",void 0),P(this,\"inputTrack\",void 0),this.videoContext=e;}get kind(){return \"video\"}get enabled(){return !0}pipe(){throw new N(R.NOT_SUPPORTED,\"VideoProcessor cannot pipe to any other Processor\")}unpipe(){throw new N(R.NOT_SUPPORTED,\"VideoProcessor cannot unpipe to any other Processor\")}enable(){}disable(){}updateInput(e){if(e.context!==this.videoContext)throw new Error(`ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\nProbably you are making pipeline like this:\nvideoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).`);e.track&&e.track!==this.inputTrack&&(this.videoContext.chained=!0,this.inputTrack=e.track,this.emit(un.ON_TRACK,e.track));}reset(){this.inputTrack=void 0,this.videoContext.chained=!1,this.emit(un.ON_TRACK,void 0);}},eu=class extends Xt{set chained(e){this._chained=e;}get chained(){return this._chained}constructor(e,n){super(),P(this,\"constraintsMap\",new Map),P(this,\"statsRegistry\",[]),P(this,\"usageRegistry\",[]),P(this,\"trackId\",void 0),P(this,\"direction\",void 0),P(this,\"_chained\",!1),this.trackId=e,this.direction=n;}async getConstraints(){return await Ge(this,Wn.REQUEST_CONSTRAINTS)}async requestApplyConstraints(e,n){var i;return _.info(\"processor \".concat(n.name,\" requestApplyConstraints for \").concat(this.trackId)),e&&this.constraintsMap.set(n,e),kt(this,Wn.REQUEST_UPDATE_CONSTRAINTS,Array.from(Pr(i=this.constraintsMap).call(i)))}async requestRevertConstraints(e){var n;if(this.constraintsMap.has(e))return _.info(\"processor \".concat(e.name,\" requestRevertConstraints for \").concat(this.trackId)),this.constraintsMap.delete(e),kt(this,Wn.REQUEST_UPDATE_CONSTRAINTS,Array.from(Pr(n=this.constraintsMap).call(n)))}registerStats(e,n,i){this.statsRegistry.find(r=>r.processorID===e.ID&&r.processorName===e.name&&r.type===n)||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:n,cb:i});}unregisterStats(e,n){let i=this.statsRegistry.findIndex(r=>r.processorID===e.ID&&r.processorName===e.name&&r.type===n);i!==-1&&this.statsRegistry.splice(i,1);}gatherStats(){let e=[];for(let{processorID:n,processorName:i,type:r,cb:o}of this.statsRegistry)try{let s=o();e.push({processorID:n,processorName:i,type:r,stats:s});}catch(s){_.error(new N(R.UNEXPECTED_ERROR,s.message));}return e}registerUsage(e,n){this.usageRegistry.find(i=>i.processorID===e.ID&&i.processorName===e.name)||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:n});}unregisterUsage(e){let n=this.usageRegistry.findIndex(i=>i.processorID===e.ID&&i.processorName===e.name);n!==-1&&this.usageRegistry.splice(n,1);}async gatherUsage(){let e=[];if(!this.chained)return [];for(let{cb:n}of this.usageRegistry)try{let i=n();i instanceof j&&(i=await i),e.push(Kt(Kt({},i),{},{direction:this.direction}));}catch(i){_.error(\"gather extension usage error\",i);}return e}getDirection(){return this.direction}},nu=class extends Xt{constructor(e){super(),P(this,\"name\",\"AudioProcessorDestination\"),P(this,\"ID\",\"0\"),P(this,\"inputTrack\",void 0),P(this,\"inputNode\",void 0),P(this,\"audioProcessorContext\",void 0),P(this,\"_source\",void 0),this.audioProcessorContext=e;}get kind(){return \"audio\"}get enabled(){return !0}pipe(){throw new N(R.NOT_SUPPORTED,\"AudioProcessorDestination cannot pipe to any other Processor\")}unpipe(){throw new N(R.NOT_SUPPORTED,\"AudioProcessor cannot unpipe to any other Processor\")}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.audioProcessorContext.chained=!1,this.emit(un.ON_TRACK,void 0),this.emit(un.ON_NODE,void 0);}updateInput(e){if(e.context!==this.audioProcessorContext)throw new Error(`ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.\n        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).`);e.track&&this.inputTrack!==e.track&&(this.audioProcessorContext.chained=!0,this.inputTrack=e.track,this.emit(un.ON_TRACK,this.inputTrack)),e.node&&this.inputNode!==e.node&&(this.audioProcessorContext.chained=!0,this.inputNode=e.node,this.emit(un.ON_NODE,this.inputNode));}},iu=class extends Xt{set chained(e){this._chained=e;}get chained(){return this._chained}constructor(e,n,i){super(),P(this,\"constraintsMap\",new Map),P(this,\"statsRegistry\",[]),P(this,\"audioContext\",void 0),P(this,\"trackId\",void 0),P(this,\"direction\",void 0),P(this,\"usageRegistry\",[]),P(this,\"_chained\",!1),this.audioContext=e,this.trackId=n,this.direction=i;}async getConstraints(){return Ge(this,Wn.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(e,n){var i;return _.info(\"processor \".concat(n.name,\" requestApplyConstraints for \").concat(this.trackId)),e&&this.constraintsMap.set(n,e),kt(this,Wn.REQUEST_UPDATE_CONSTRAINTS,Array.from(Pr(i=this.constraintsMap).call(i)))}async requestRevertConstraints(e){var n;if(this.constraintsMap.has(e))return this.constraintsMap.delete(e),kt(this,Wn.REQUEST_UPDATE_CONSTRAINTS,Array.from(Pr(n=this.constraintsMap).call(n)))}registerStats(e,n,i){this.statsRegistry.find(r=>r.processorID===e.ID&&r.processorName===e.name&&r.type===n)||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:n,cb:i});}unregisterStats(e,n){let i=this.statsRegistry.findIndex(r=>r.processorID===e.ID&&r.processorName===e.name&&r.type===n);i!==-1&&this.statsRegistry.splice(i,1);}gatherStats(){let e=[];for(let{processorID:n,processorName:i,type:r,cb:o}of this.statsRegistry)try{let s=o();e.push({processorID:n,processorName:i,type:r,stats:s});}catch(s){_.error(new N(R.UNEXPECTED_ERROR,s.message));}return e}registerUsage(e,n){this.usageRegistry.find(i=>i.processorID===e.ID&&i.processorName===e.name)||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:n});}unregisterUsage(e){let n=this.usageRegistry.findIndex(i=>i.processorID===e.ID&&i.processorName===e.name);n!==-1&&this.usageRegistry.splice(n,1);}async gatherUsage(){let e=[];if(!this.chained)return [];for(let{cb:n}of this.usageRegistry)try{let i=n();i instanceof j&&(i=await i),e.push(Kt(Kt({},i),{},{direction:this.direction}));}catch(i){_.error(\"gather extension usage error\",i);}return e}getDirection(){return this.direction}},Pc=class extends Xt{get isPlayed(){return !0}get isFreeze(){return !1}constructor(){super(),P(this,\"context\",void 0),P(this,\"processSourceNode\",void 0),P(this,\"outputTrack\",void 0),P(this,\"processedNode\",void 0),P(this,\"clonedTrack\",void 0),P(this,\"outputNode\",void 0),this.outputNode=new zE;}setVolume(){}createOutputTrack(){throw new N(R.NOT_SUPPORTED,\"can not create output MediaStreamTrack when WebAudio disabled\")}getOriginVolumeLevel(){return 0}getAccurateVolumeLevel(){return 0}stopGetAudioBuffer(){}startGetAudioBuffer(){}play(){}stop(){}destroy(){}updateTrack(){}updateOriginTrack(){}createMediaStreamSourceNode(){}},zE=class{disconnect(){}connect(){}};function XO(t){return new j((e,n)=>{let i=!1,r=document.createElement(\"video\");r.setAttribute(\"autoplay\",\"\"),r.setAttribute(\"muted\",\"\"),r.muted=!0,r.autoplay=!0,r.setAttribute(\"playsinline\",\"\"),r.setAttribute(\"style\",\"position: fixed; top: 0; left: 0; width: 1px; height: 1px\"),document.body.appendChild(r);let o=ln()?\"canplay\":\"playing\";r.addEventListener(o,()=>{let s=r.videoWidth,a=r.videoHeight;!s&&$t()||(i=!0,r.srcObject=null,r.remove(),e([s,a]));}),r.srcObject=new MediaStream([t]),r.play().catch(zu),setTimeout(()=>{i||(r.srcObject=null,r.remove(),e([r.videoWidth,r.videoHeight]));},4e3);})}function ru(t){let e={};t.facingMode&&(e.facingMode=t.facingMode),t.cameraId&&(e.deviceId={exact:t.cameraId});let n=cr(t.encoderConfig);return n.width!=null&&(e.width=n.width),n.height!=null&&(e.height=n.height),!SO()&&n.frameRate&&(e.frameRate=n.frameRate),_O()&&typeof e.frameRate==\"object\"&&(e.frameRate.max=60),$t()&&(e.frameRate={ideal:30,max:30}),e}function fC(t){let e={};if(SO()||(t.AGC!==void 0&&(e.autoGainControl=t.AGC),t.AEC!==void 0&&(e.echoCancellation=t.AEC),t.ANS!==void 0&&(e.noiseSuppression=t.ANS,oo()&&t.ANS&&(e.googHighpassFilter=t.ANS))),t.encoderConfig){let n=Jl(t.encoderConfig);e.channelCount=n.stereo?2:1,e.sampleRate=n.sampleRate,e.sampleSize=n.sampleSize;}return t.microphoneId&&(e.deviceId={exact:t.microphoneId}),Ku()&&(e.sampleRate=void 0),e}var xG=t=>{let e=t._encoderConfig;if(!e)return;let{frameRate:n,width:i,height:r}=t.getMediaStreamTrackSettings(),{frameRate:o=n,width:s=i,height:a=r}=e;if(!o||!s||!a)return;s=wp(s),a=wp(a),o=wp(o);let{max:c,min:d}=function(p,g,E){let f=200*Math.pow(E/15,.6)*Math.pow(p*g/640/360,.75);return {min:Math.floor(f),max:Math.floor(4*f)}}(s,a,o),{bitrateMax:l,bitrateMin:u}=e||{};l||_.debug(\"calculate bitrate: [w: \".concat(s,\", h: \").concat(a,\", fps: \").concat(o,\"] => [brMax: \").concat(l,\", brMin: \").concat(u,\"]\"));let{maxFramerate:h}=v(\"ENCODER_CONFIG_LIMIT\");return h&&typeof h==\"number\"&&(o=Math.min(o,h)),{frameRate:o,bitrateMax:l||c,bitrateMin:u||d,scaleResolutionDownBy:1,scale:0}},QO=async(t,e,n)=>await(async(i,r,o)=>{let s=function(d){let l=[];for(let u=0;u<d.length;u+=2)l.push(parseInt(d.slice(u,u+2),16));return Uint8Array.from(l)}(bO(\"\"+r+o)).slice(0,16),a=s.slice(0,12),c=await window.crypto.subtle.importKey(\"raw\",s,\"AES-GCM\",!0,[\"encrypt\"]);return new Uint8Array(await window.crypto.subtle.encrypt({name:\"AES-GCM\",iv:a},c,i))})(t.buffer,e,n),Cf=t=>{let e=document.createElement(\"canvas\");return e.width=2,e.height=2,new j((n,i)=>{e.toBlob(async r=>{if(e.remove(),r){let o=await ZO(r);n({buffer:o,width:e.width,height:e.height});}else i(new N(R.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED));},t,1);})},ZO=async t=>{let e=await t.arrayBuffer();return new Uint8Array(e)},gC,TC,SC,RC,CC,IC,vC,yC,AC,bC,wC,OC,NC,DC,PC,kC,LC,MC,Yt,UC,xC,VC,FC,BC,jC,Ji,GC,WC,HC,KC,YC,qC,zC,JC,XC,QC,ZC,$C,tI,Ue,Qt=(gC=$({argsMap:(t,e)=>[t.getTrackId(),e],throttleTime:300}),TC=$({argsMap:(t,e)=>[t.getTrackId(),e]}),SC=se(),RC=$s(\"LocalAudioTrack\",\"_enabledMutex\"),CC=$({argsMap:(t,e)=>[t.getTrackId(),e]}),IC=se(),vC=$s(\"LocalAudioTrack\",\"_enabledMutex\"),yC=$({argsMap:(t,e)=>[t.getTrackId(),e]}),AC=se(),bC=se(),wC=se(),OC=$({argsMap:t=>[t.getTrackId()]}),NC=se(),DC=$({argsMap:t=>[t.getTrackId()]}),PC=se(),kC=$({argsMap:t=>[t.getTrackId()]}),LC=$({argsMap:(t,e)=>[t.getTrackId(),e.name]}),MC=$({argsMap:t=>[t.getTrackId()]}),Et((Yt=class extends no{get _source(){return this.initWebAudio()}set _source(t){this._trackSource=t;}get processorContext(){return this._processorContext||(this._processorContext=this.initProcessor().processorContext),this._processorContext}get processorDestination(){return this._processorDestination||(this._processorDestination=this.initProcessor().processorDestination),this._processorDestination}get isPlaying(){return this._useAudioElement?En.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return \"LocalAudioTrack\"}constructor(t,e,n,i){super(t,n),P(this,\"trackMediaType\",fa.AUDIO),P(this,\"_encoderConfig\",void 0),P(this,\"_trackSource\",void 0),P(this,\"_enabled\",!0),P(this,\"_volume\",100),P(this,\"_useAudioElement\",!0),P(this,\"_bypassWebAudio\",!1),P(this,\"processor\",void 0),P(this,\"_processorContext\",void 0),P(this,\"_processorDestination\",void 0),P(this,\"_getOriginVolumeLevel\",void 0),this._encoderConfig=e,this._getOriginVolumeLevel=!!i,this._trackSource=new Pc,v(\"DISABLE_WEBAUDIO\")&&(this._bypassWebAudio=!0),v(\"LOCAL_AUDIO_TRACK_USES_WEB_AUDIO\")&&(this._useAudioElement=!1),je()&&!Mn?setTimeout(()=>this.initWebAudio()):this.initWebAudio();}setVolume(t){Nt(t,\"volume\",0,1e3),this._volume=t,this._source.setVolume(t/100),this._useAudioElement&&En.setVolume(this.getTrackId(),t);try{if(this._bypassWebAudio)return void _.debug(\"[\".concat(this.getTrackId(),\"] setVolume returned because no pass through WebAudio.\"));let e=this._source.createOutputTrack();this._mediaStreamTrack!==e&&(this._mediaStreamTrack=e,kt(this,H.NEED_REPLACE_TRACK,this).then(()=>{_.debug(\"[\".concat(this.getTrackId(),\"] replace web audio track success\"));}).catch(n=>{_.warning(\"[\".concat(this.getTrackId(),\"] replace web audio track failed\"),n);}));}catch{}}getVolumeLevel(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}async setPlaybackDevice(t){if(!this._useAudioElement||!jO())throw new N(R.NOT_SUPPORTED,\"your browser does not support setting the audio output device\");await En.setSinkID(this.getTrackId(),t);}async setEnabled(t,e,n){return this._setEnabled(t,e,n)}async _setEnabled(t,e,n){if(!n){if(t===this._enabled)return;this.stateCheck(\"enabled\",t);}if(_.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),t),t){this._originMediaStreamTrack.enabled=!0;try{n||(this._enabled=!0),await kt(this,H.NEED_ENABLE_TRACK,this),_.info(\"[\".concat(this.getTrackId(),\"] setEnabled to \").concat(t,\" success\"));}catch(i){throw n||(this._enabled=!1),_.error(\"[\".concat(this.getTrackId(),\"] setEnabled to true error\"),i.toString()),i}}else {this._originMediaStreamTrack.enabled=!1,n||(this._enabled=!1);try{await kt(this,H.NEED_DISABLE_TRACK,this);}catch(i){throw n||(this._enabled=!0),_.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),i.toString()),i}}}async setMuted(t){t!==this._muted&&(this.stateCheck(\"muted\",t),this._muted=t,this._originMediaStreamTrack.enabled=!t,_.debug(\"[\".concat(this.getTrackId(),\"] start set muted: \").concat(t)),t?await kt(this,H.NEED_MUTE_TRACK,this):await kt(this,H.NEED_UNMUTE_TRACK,this));}getStats(){return po(()=>{_.warning(\"[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead\");},\"localAudioTrackGetStatsWarning\"),ni(this,H.GET_STATS)||Kt({},KE)}setAudioFrameCallback(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4096;if(!t)return this._source.removeAllListeners(jn.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(e),this._source.removeAllListeners(jn.ON_AUDIO_BUFFER),this._source.on(jn.ON_AUDIO_BUFFER,n=>t(n));}play(){_.debug(\"[\".concat(this.getTrackId(),\"] start audio playback\")),this._useAudioElement?(_.debug(\"[\".concat(this.getTrackId(),\"] start audio playback in element\")),En.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play();}stop(){_.debug(\"[\".concat(this.getTrackId(),\"] stop audio playback\")),this._useAudioElement?En.stop(this.getTrackId()):this._source.stop();}close(){super.close(),this._processorDestination&&this.unbindProcessorDestinationEvents(this._processorDestination),this._processorContext&&this.unbindProcessorContextEvents(this._processorContext),this.unpipe(),this._processorDestination&&this._processorDestination._source&&this._processorDestination._source.unpipe(),this._source.destroy();}_updatePlayerSource(){let t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];_.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),t&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&En.updateTrack(this.getTrackId(),this._mediaStreamTrack);}async _updateOriginMediaStreamTrack(t,e){this._originMediaStreamTrack!==t&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener(\"ended\",this._handleTrackEnded),e&&this._originMediaStreamTrack.stop()),t.addEventListener(\"ended\",this._handleTrackEnded),this._originMediaStreamTrack=t,this._muted&&(this._originMediaStreamTrack.enabled=!1),this.processor&&this._processorContext&&this.processor.updateInput({track:t,context:this._processorContext}),this._mediaStreamTrack!==this._source.outputTrack?(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await kt(this,H.NEED_REPLACE_TRACK,this)):this._source.updateTrack(this._originMediaStreamTrack),this._getOriginVolumeLevel&&this._source.updateOriginTrack(t));}renewMediaStreamTrack(t){return j.resolve(void 0)}pipe(t){if(this._bypassWebAudio)throw new N(R.INVALID_OPERATION,\"Can not process AudioTrack when bypassWebAudio set to true.\");if(this.processor===t)return t;if(t._source)throw new N(R.INVALID_OPERATION,\"Processor \".concat(t.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=t,this.processor._source=this,t.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),t}unpipe(){var t;if(!this.processor)return;let e=this.processor;(t=this._source.processSourceNode)===null||t===void 0||t.disconnect(),this.processor._source=!1,this.processor=void 0,e.reset();}bindProcessorDestinationEvents(t){t.on(un.ON_TRACK,async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e),await kt(this,H.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await kt(this,H.NEED_REPLACE_TRACK,this));}),t.on(un.ON_NODE,e=>{this._source.processedNode=e;});}unbindProcessorDestinationEvents(t){t.removeAllListeners(un.ON_TRACK),t.removeAllListeners(un.ON_NODE);}bindProcessorContextEvents(t){t.on(Wn.REQUEST_CONSTRAINTS,async e=>{e(this._originMediaStreamTrack.getSettings());});}unbindProcessorContextEvents(t){t.removeAllListeners(Wn.REQUEST_CONSTRAINTS);}initWebAudio(){return this._trackSource instanceof Pc&&(this._trackSource=new $l(this._mediaStreamTrack,!1,this._getOriginVolumeLevel?this._mediaStreamTrack:void 0)),this._trackSource}initProcessor(){let t=new iu(this._source.context,this.getTrackId(),\"local\"),e=new nu(t);return this._processorContext=t,this._processorDestination=e,this.bindProcessorContextEvents(t),this.bindProcessorDestinationEvents(e),this._source.on(jn.UPDATE_SOURCE,()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:t});}),this._useAudioElement&&(this._useAudioElement=!1,this.isPlaying&&(En.stop(this.getTrackId()),this._source.play()),kt(this,H.NEED_REPLACE_MIXING_TRACK,this).then(()=>{_.debug(\"[\".concat(this.getTrackId(),\"] replace from origin track to web audio track success\"));}).catch(n=>{_.warning(\"[\".concat(this.getTrackId(),\"] replace from origin track to web audio track failed\"),n);})),{processorContext:t,processorDestination:e}}}).prototype,\"setVolume\",[gC],Object.getOwnPropertyDescriptor(Yt.prototype,\"setVolume\"),Yt.prototype),Et(Yt.prototype,\"setPlaybackDevice\",[TC,SC],Object.getOwnPropertyDescriptor(Yt.prototype,\"setPlaybackDevice\"),Yt.prototype),Et(Yt.prototype,\"setEnabled\",[RC,CC,IC],Object.getOwnPropertyDescriptor(Yt.prototype,\"setEnabled\"),Yt.prototype),Et(Yt.prototype,\"setMuted\",[vC,yC,AC],Object.getOwnPropertyDescriptor(Yt.prototype,\"setMuted\"),Yt.prototype),Et(Yt.prototype,\"getStats\",[bC],Object.getOwnPropertyDescriptor(Yt.prototype,\"getStats\"),Yt.prototype),Et(Yt.prototype,\"setAudioFrameCallback\",[wC],Object.getOwnPropertyDescriptor(Yt.prototype,\"setAudioFrameCallback\"),Yt.prototype),Et(Yt.prototype,\"play\",[OC,NC],Object.getOwnPropertyDescriptor(Yt.prototype,\"play\"),Yt.prototype),Et(Yt.prototype,\"stop\",[DC,PC],Object.getOwnPropertyDescriptor(Yt.prototype,\"stop\"),Yt.prototype),Et(Yt.prototype,\"close\",[kC],Object.getOwnPropertyDescriptor(Yt.prototype,\"close\"),Yt.prototype),Et(Yt.prototype,\"pipe\",[LC],Object.getOwnPropertyDescriptor(Yt.prototype,\"pipe\"),Yt.prototype),Et(Yt.prototype,\"unpipe\",[MC],Object.getOwnPropertyDescriptor(Yt.prototype,\"unpipe\"),Yt.prototype),Yt),ou=(UC=$({argsMap:(t,e)=>[t.getTrackId(),e]}),xC=se(),VC=$s(\"MicrophoneAudioTrack\",\"_enabledMutex\"),FC=$({argsMap:(t,e,n)=>[t.getTrackId(),e,n]}),BC=se(),jC=$({argsMap:t=>[t.getTrackId()]}),Et((Ji=class extends Qt{get __className__(){return \"MicrophoneAudioTrack\"}constructor(t,e,n,i){super(t,e.encoderConfig?Jl(e.encoderConfig):{},i,v(\"GET_VOLUME_OF_MUTED_AUDIO_TRACK\")),P(this,\"_config\",void 0),P(this,\"_deviceName\",\"default\"),P(this,\"_constraints\",void 0),P(this,\"_originalConstraints\",void 0),P(this,\"_enabled\",!0),this._config=e,this._constraints=n,this._originalConstraints=n,this._deviceName=t.label,typeof e.bypassWebAudio==\"boolean\"&&(this._bypassWebAudio=e.bypassWebAudio),(Zs()||NE())&&wt.bindInterruptDetectorTrack(this);}async setDevice(t){if(_.info(\"[\".concat(this.getTrackId(),\"] start set device to \").concat(t)),this._enabled)try{let e=await Gn.getDeviceById(t),n={};n.audio=Kt({},this._constraints),n.audio.deviceId={exact:t},this._originMediaStreamTrack.stop();let i=null;try{i=await Fn(n,this.getTrackId());}catch(r){throw _.error(\"[\".concat(this.getTrackId(),\"] setDevice failed\"),r.toString()),i=await Fn({audio:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(i.getAudioTracks()[0],!1),r}await this._updateOriginMediaStreamTrack(i.getAudioTracks()[0],!1),this._deviceName=e.label,this._config.microphoneId=t,this._constraints.deviceId={exact:t};}catch(e){throw _.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}else try{let e=await Gn.getDeviceById(t);this._deviceName=e.label,this._config.microphoneId=t,this._constraints.deviceId={exact:t};}catch(e){throw _.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}_.info(\"[\".concat(this.getTrackId(),\"] set device to \").concat(t,\" success\"));}async setEnabled(t,e,n){if(e)return _.debug(\"[\".concat(this.getTrackId(),\"] setEnabled false (do not close microphone)\")),await super._setEnabled(t);if(!n){if(t===this._enabled)return;this.stateCheck(\"enabled\",t);}if(_.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),t),v(\"AUTO_RESET_AUDIO_ROUTE\")&&(ln()||vi())){let s=navigator.audioSession;s&&(t||(s.type=\"playback\"),s.type=\"auto\");}if(!t){var i;this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),(i=this._source.clonedTrack)===null||i===void 0||i.stop(),n||(this._enabled=!1);try{await kt(this,H.NEED_DISABLE_TRACK,this);}catch(s){throw _.error(\"[\".concat(this.getTrackId(),\"] setEnabled false failed\"),s.toString()),s}return}let r=Kt({},this._constraints),o=Gn.searchDeviceIdByName(this._deviceName);o&&!r.deviceId&&(r.deviceId=o);try{n||(this._enabled=!0);let s=await Fn({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(s.getAudioTracks()[0],!1),await kt(this,H.NEED_ENABLE_TRACK,this);}catch(s){throw n||(this._enabled=!1),_.error(\"[\".concat(this.getTrackId(),\"] setEnabled true failed\"),s.toString()),s}_.info(\"[\".concat(this.getTrackId(),\"] setEnabled success\"));}close(){super.close(),(Zs()||NE())&&wt.unbindInterruptDetectorTrack(this);}onTrackEnded(){if((ln()||vi())&&this._enabled&&!this._isClosed&&wt.duringInterruption){let t=async()=>{wt.off(ke.IOS_INTERRUPTION_END,t),this._enabled&&!this._isClosed&&(_.debug(\"[\".concat(this.getTrackId(),\"] try capture microphone media device for interrupted iOS device.\")),await this.setEnabled(!1),await this.setEnabled(!0));};wt.on(ke.IOS_INTERRUPTION_END,t);}else _.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(ma.TRACK_ENDED);}async renewMediaStreamTrack(t){let e=t||this._constraints,n=Gn.searchDeviceIdByName(this._deviceName);if(n&&!e.deviceId&&(e.deviceId=n),this._constraints=e,this._enabled){this._originMediaStreamTrack.stop();let i=await Fn({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(i.getAudioTracks()[0],!0);}}bindProcessorContextEvents(t){super.bindProcessorContextEvents(t),t.on(Wn.REQUEST_UPDATE_CONSTRAINTS,async(e,n,i)=>{try{let r=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(r),n();}catch(r){i(r);}});}unbindProcessorContextEvents(t){super.unbindProcessorContextEvents(t),t.removeAllListeners(Wn.REQUEST_UPDATE_CONSTRAINTS);}}).prototype,\"setDevice\",[UC,xC],Object.getOwnPropertyDescriptor(Ji.prototype,\"setDevice\"),Ji.prototype),Et(Ji.prototype,\"setEnabled\",[VC,FC,BC],Object.getOwnPropertyDescriptor(Ji.prototype,\"setEnabled\"),Ji.prototype),Et(Ji.prototype,\"close\",[jC],Object.getOwnPropertyDescriptor(Ji.prototype,\"close\"),Ji.prototype),Ji),VG=(GC=$({argsMap:(t,e)=>[t.getTrackId(),e,t.duration]}),WC=se(),HC=$({argsMap:t=>[t.getTrackId()]}),KC=se(),YC=$({argsMap:t=>[t.getTrackId()]}),qC=se(),zC=$({argsMap:t=>[t.getTrackId()]}),JC=se(),XC=$({argsMap:t=>[t.getTrackId()]}),QC=se(),ZC=$({argsMap:t=>[t.getTrackId()]}),$C=$({argsMap:t=>[t.getTrackId()]}),tI=se(),Et((Ue=class extends Qt{get __className__(){return \"BufferSourceAudioTrack\"}constructor(t,e,n,i){super(e.createOutputTrack(),n,i),P(this,\"source\",void 0),P(this,\"_bufferSource\",void 0),this._useAudioElement=!1,this.source=t,this._bufferSource=e,this._bufferSource.on(jn.AUDIO_SOURCE_STATE_CHANGE,r=>{this.safeEmit(ma.SOURCE_STATE_CHANGE,r);});try{this._mediaStreamTrack=this._source.createOutputTrack();}catch{}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}get playbackSpeed(){return this._bufferSource.playbackSpeed}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(t){t&&this._bufferSource.updateOptions(t),this._bufferSource.startProcessAudioBuffer();}pauseProcessAudioBuffer(){this._bufferSource.pauseProcessAudioBuffer();}seekAudioBuffer(t){this._bufferSource.seekAudioBuffer(t);}resumeProcessAudioBuffer(){this._bufferSource.resumeProcessAudioBuffer();}stopProcessAudioBuffer(){this._bufferSource.stopProcessAudioBuffer();}close(){this.source=null,this._bufferSource.destroy(),super.close();}setAudioBufferPlaybackSpeed(t){Nt(t,\"speed\",0),this._bufferSource.setAudioBufferPlaybackSpeed(t);}}).prototype,\"startProcessAudioBuffer\",[GC,WC],Object.getOwnPropertyDescriptor(Ue.prototype,\"startProcessAudioBuffer\"),Ue.prototype),Et(Ue.prototype,\"pauseProcessAudioBuffer\",[HC,KC],Object.getOwnPropertyDescriptor(Ue.prototype,\"pauseProcessAudioBuffer\"),Ue.prototype),Et(Ue.prototype,\"seekAudioBuffer\",[YC,qC],Object.getOwnPropertyDescriptor(Ue.prototype,\"seekAudioBuffer\"),Ue.prototype),Et(Ue.prototype,\"resumeProcessAudioBuffer\",[zC,JC],Object.getOwnPropertyDescriptor(Ue.prototype,\"resumeProcessAudioBuffer\"),Ue.prototype),Et(Ue.prototype,\"stopProcessAudioBuffer\",[XC,QC],Object.getOwnPropertyDescriptor(Ue.prototype,\"stopProcessAudioBuffer\"),Ue.prototype),Et(Ue.prototype,\"close\",[ZC],Object.getOwnPropertyDescriptor(Ue.prototype,\"close\"),Ue.prototype),Et(Ue.prototype,\"setAudioBufferPlaybackSpeed\",[$C,tI],Object.getOwnPropertyDescriptor(Ue.prototype,\"setAudioBufferPlaybackSpeed\"),Ue.prototype),Ue),ge=class t extends Qt{get __className__(){return \"MixingAudioTrack\"}get isActive(){for(let e of this.trackList)if(e._enabled&&!e._isClosed&&!e.muted)return !0;return !1}constructor(){let e=ga().createMediaStreamDestination();super(e.stream.getAudioTracks()[0],void 0,Ut(8,\"track-mix-\")),P(this,\"trackList\",void 0),P(this,\"destNode\",void 0),this._useAudioElement=!1;try{this._mediaStreamTrack=this._source.createOutputTrack();}catch{}this.destNode=e,this.trackList=[];}hasAudioTrack(e){return this.trackList.indexOf(e)!==-1}addAudioTrack(e){this.trackList.indexOf(e)===-1?(_.debug(\"add \".concat(e.getTrackId(),\" to mixing track\")),e._source.outputNode.connect(this.destNode),this.trackList.push(e),this.updateEncoderConfig()):_.debug(\"track \".concat(e.getTrackId(),\" is already added\"));}removeAudioTrack(e){if(this.trackList.indexOf(e)!==-1){_.debug(\"remove \".concat(e.getTrackId(),\" from mixing track\"));try{e._source.outputNode.disconnect(this.destNode);}catch{}Wl(this.trackList,e),this.updateEncoderConfig();}}updateEncoderConfig(){let e={};this.trackList.forEach(n=>{n._encoderConfig&&((n._encoderConfig.bitrate||0)>(e.bitrate||0)&&(e.bitrate=n._encoderConfig.bitrate),(n._encoderConfig.sampleRate||0)>(e.sampleRate||0)&&(e.sampleRate=n._encoderConfig.sampleRate),(n._encoderConfig.sampleSize||0)>(e.sampleSize||0)&&(e.sampleSize=n._encoderConfig.sampleSize),n._encoderConfig.stereo&&(e.stereo=!0));}),this._encoderConfig=e;}_updateRtpTransceiver(e){this._rtpTransceiver!==e&&(this._rtpTransceiver=e,this.trackList.forEach(n=>{n instanceof t?n.emit(Ko.TRANSCEIVER_UPDATED,e):n._updateRtpTransceiver(e);}));}},JE=class extends Zl{set currentState(e){e!==this._currentState&&(this._currentState=e,this.safeEmit(jn.AUDIO_SOURCE_STATE_CHANGE,this._currentState));}get currentState(){return this._currentState}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),P(this,\"audioBuffer\",void 0),P(this,\"sourceNode\",void 0),P(this,\"startPlayTime\",0),P(this,\"startPlayOffset\",0),P(this,\"pausePlayTime\",0),P(this,\"options\",void 0),P(this,\"currentLoopCount\",0),P(this,\"currentPlaybackSpeed\",100),P(this,\"_currentState\",\"stopped\"),this.audioBuffer=e,this.options=n,this.startPlayOffset=this.options.startPlayTime||0;}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer?this.audioBuffer.duration:0}get playbackSpeed(){return this.currentPlaybackSpeed}get currentTime(){return this.audioBuffer?this.currentState===\"stopped\"?0:this.currentState===\"paused\"?this.pausePlayTime:((this.context.currentTime-this.startPlayTime)*(this.playbackSpeed/100)+this.startPlayOffset)%this.audioBuffer.duration:0}updateOptions(e){this.currentState===\"stopped\"?(this.options=e,this.startPlayOffset=this.options.startPlayTime||0):_.warning(\"can not set audio source options\");}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState=\"playing\";}pauseProcessAudioBuffer(){this.sourceNode&&this.currentState===\"playing\"&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState=\"paused\");}seekAudioBuffer(e){this.sourceNode&&(this.sourceNode.onended=null,this.currentState===\"playing\"&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),this.currentState===\"playing\"?(this.startPlayOffset=e,this.startSourceNode()):this.currentState===\"paused\"&&(this.pausePlayTime=e));}resumeProcessAudioBuffer(){this.currentState===\"paused\"&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState=\"playing\");}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop();}catch{}this.reset();}}destroy(){this.audioBuffer=null,super.destroy();}setAudioBufferPlaybackSpeed(e){this.sourceNode&&(this.currentState===\"playing\"&&(this.startPlayOffset=this.currentTime,this.startPlayTime=this.context.currentTime),this.sourceNode.playbackRate.value=e/100),this.currentPlaybackSpeed=e;}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this));}createSourceNode(){let e=this.context.createBufferSource();return e.buffer=this.audioBuffer,e.loop=!!this.options.loop,e.connect(this.outputNode),e.playbackRate.value=this.currentPlaybackSpeed/100,e}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset();}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState=\"stopped\",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0;}},eI=new Map,kc=class{get rendFrameRate(){if(this.renderStats&&this.renderStats.curTs!==this.renderStats.lastTs){let e=this.renderStats.curTs-this.renderStats.lastTs,n=(this.renderStats.renderNum-this.renderStats.lastRenderNum)/e;return this.renderStats.lastRenderNum=this.renderStats.renderNum,this.renderStats.lastTs=this.renderStats.curTs,n}return 0}get videoElementStatus(){return this._videoElementStatus}set videoElementStatus(e){e!==this._videoElementStatus&&(_.debug(\"[\".concat(this.trackId,\"] video-element-status change \").concat(this._videoElementStatus,\" => \").concat(e)),this._videoElementStatus=e);}get videoState(){return this._videoState}set videoState(e){var n;e!==this._videoState&&(this._videoState=e,(n=this.onVideoStateChanged)===null||n===void 0||n.call(this,this.videoState));}constructor(e){P(this,\"trackId\",void 0),P(this,\"config\",void 0),P(this,\"onFirstVideoFrameDecoded\",void 0),P(this,\"onVideoStateChanged\",void 0),P(this,\"freezeTimeCounterList\",[]),P(this,\"renderFreezeAccTime\",0),P(this,\"isKeepLastFrame\",!1),P(this,\"timeUpdatedCount\",0),P(this,\"freezeTime\",0),P(this,\"playbackTime\",0),P(this,\"lastTimeUpdatedTime\",0),P(this,\"autoplayFailed\",!1),P(this,\"videoTrack\",void 0),P(this,\"videoElement\",void 0),P(this,\"cacheVideoElement\",void 0),P(this,\"renderStats\",void 0),P(this,\"_videoState\",zi.VideoStateStopped),P(this,\"videoElementCheckInterval\",void 0),P(this,\"videoElementFreezeTimeout\",void 0),P(this,\"_videoElementStatus\",nn.NONE),P(this,\"isGettingVideoDimensions\",!1),P(this,\"startGetVideoDimensions\",()=>{let n=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement.videoWidth*this.videoElement.videoHeight>4)return _.debug(\"[\".concat(this.trackId,\"] current video dimensions:\"),this.videoElement.videoWidth,this.videoElement.videoHeight),void(this.isGettingVideoDimensions=!1);setTimeout(n,500);};!this.isGettingVideoDimensions&&n();}),P(this,\"autoResumeAfterInterruption\",()=>{this.videoTrack&&this.videoTrack.readyState===\"live\"&&wt.curState===\"running\"&&(_.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume for \").concat(dR())),pR()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()));}),P(this,\"handleVideoEvents\",n=>{switch(n.type){case\"play\":case\"playing\":this.startGetVideoDimensions(),this.videoElementStatus=nn.PLAYING;break;case\"loadeddata\":if(this.videoState=zi.VideoStateStarting,this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded(),this.cacheVideoElement){try{this.cacheVideoElement.srcObject=null,this.cacheVideoElement.remove();}catch{}this.cacheVideoElement=void 0;}break;case\"canplay\":this.videoElementStatus=nn.CANPLAY;break;case\"stalled\":this.videoElementStatus=nn.STALLED;break;case\"suspend\":this.videoElementStatus=nn.SUSPEND;break;case\"pause\":this.videoElementStatus=nn.PAUSED,ln()||vi()||je()&&this.autoplayFailed||!this.videoTrack||this.videoTrack.readyState!==\"live\"||(_.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume\")),this.videoElement.play());break;case\"waiting\":this.videoElementStatus=nn.WAITING;break;case\"abort\":this.videoElementStatus=nn.ABORT;break;case\"ended\":this.videoElementStatus=nn.ENDED;break;case\"emptied\":this.videoElementStatus=nn.EMPTIED;break;case\"error\":{let i=this.videoElement.error;i?(this.videoElementStatus=nn.ERROR,_.error(\"[\".concat(this.trackId,\"] media error: \").concat(i.message,\" (\").concat(i.code,\")\"))):_.debug(\"[\".concat(this.trackId,\"] media not been an error.\"));break}case\"timeupdate\":{let i=performance.now();if(this.timeUpdatedCount+=1,this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=i);let r=i-this.lastTimeUpdatedTime,o=this.lastTimeUpdatedTime;if(this.lastTimeUpdatedTime=i,yr.lastVisibleTime<yr.lastHiddenTime||o<yr.lastHiddenTime||o<yr.lastVisibleTime)return;for(r>v(\"VIDEO_FREEZE_DURATION\")&&(this.freezeTime+=r),this.playbackTime+=r;this.playbackTime>=6e3;){this.playbackTime-=6e3;let s=Math.min(6e3,this.freezeTime);this.freezeTimeCounterList.push(s),this.freezeTime=Math.max(0,this.freezeTime-6e3);}break}}}),P(this,\"autoResumeAfterInterruptionOnIOS15_16\",()=>{this.videoTrack&&this.videoTrack.readyState===\"live\"&&(_.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume for \").concat(dR())),pR()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()));}),this.trackId=e.trackId,this.config=e,e.element instanceof HTMLVideoElement?this.videoElement=e.element:this.videoElement=document.createElement(\"video\"),wt.on(ke.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),wt.on(ke.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16);}getVideoElement(){return this.videoElement}getContainerElement(){var e;return (e=this.videoElement.parentElement)!==null&&e!==void 0?e:void 0}updateConfig(e){this.config=e,this.trackId=e.trackId,e.element!==this.videoElement&&(this.destroy(),this.videoElement=e.element),this.videoTrack&&this.initVideoElement();}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.initVideoElement());}play(e){let n=this.videoElement.play();n&&n.catch&&n.catch(r=>{e&&JO(e,\"video\",r.message,this.trackId),r.name===\"NotAllowedError\"?(_.warning(\"detected video element autoplay failed\",r),this.autoplayFailed=!0,this.handleAutoPlayFailed()):_.warning(\"[\".concat(this.trackId,\"] play warning: \"),r);});let i=mt();if((i.name===\"Safari\"&&Number(i.version)===15||Zs())&&n&&n.then){let r=()=>{this.config.mirror&&(this.videoElement.style.transform=\"rotateY(180deg)\");};n.then(r).catch(r);}}getCurrentFrame(){let e=document.createElement(\"canvas\");e.width=this.videoElement.videoWidth,e.height=this.videoElement.videoHeight;let n=e.getContext(\"2d\");if(!n)return _.error(\"create canvas context failed!\"),new ImageData(2,2);n.drawImage(this.videoElement,0,0,e.width,e.height);let i=n.getImageData(0,0,e.width,e.height);return e.remove(),i}async getCurrentFrameToUint8Array(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,i=document.createElement(\"canvas\");i.width=this.videoElement.videoWidth,i.height=this.videoElement.videoHeight;let r=i.getContext(\"2d\");return r?(r.drawImage(this.videoElement,0,0,i.width,i.height),new j((o,s)=>{i.toBlob(async a=>{if(i.remove(),a){let c=await ZO(a);o({buffer:c,width:i.width,height:i.height});}else s(new N(R.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED));},e,n<0?.1:n>1?1:n);})):await Cf(e)}destroy(){this.renderStats=void 0,wt.off(ke.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),wt.off(ke.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),this.videoElement.srcObject=null,this.resetVideoElement(),this.freezeTimeCounterList=[],this.videoState=zi.VideoStateStopped;}initVideoElement(){if(this.videoElementStatus=nn.INIT,!this.videoElementCheckInterval&&(nI.forEach(o=>{this.videoElement.addEventListener(o,this.handleVideoEvents);}),this.videoElementCheckInterval=window.setInterval(()=>{(function(o){return o!==document.body&&document.body.contains(o)})(this.videoElement)||(this.videoElementStatus=nn.DESTROYED);},1e3),v(\"ENABLE_VIDEO_FRAME_CALLBACK\"))){var e,n;let o,s=()=>{document.visibilityState===\"visible\"&&(document.removeEventListener(\"visibilitychange\",s),this.videoElementFreezeTimeout=window.setTimeout(a,v(\"VIDEO_FREEZE_DURATION\")));},a=()=>{this.videoElementFreezeTimeout=void 0,this.videoState===zi.VideoStateDecoding&&(document.visibilityState===\"visible\"?this.videoState=zi.VideoStateFrozen:document.addEventListener(\"visibilitychange\",s));},c=(d,l)=>{if(this.videoElementStatus===nn.PLAYING){if(this.renderStats?(this.renderStats.renderNum++,this.renderStats.curTs=l.mediaTime):this.renderStats={lastTs:l.mediaTime,curTs:l.mediaTime,lastRenderNum:0,renderNum:0},o){let p=l.presentationTime-o.presentationTime;this.videoState===zi.VideoStateStarting&&(this.videoState=zi.VideoStateDecoding),this.videoState===zi.VideoStateDecoding&&this.onVideoStateChanged&&(this.videoElementFreezeTimeout&&window.clearTimeout(this.videoElementFreezeTimeout),this.videoElementFreezeTimeout=window.setTimeout(a,v(\"VIDEO_FREEZE_DURATION\"))),p<v(\"VIDEO_FREEZE_DURATION\")&&this.videoState===zi.VideoStateFrozen&&(this.videoState=zi.VideoStateDecoding),p>v(\"VIDEO_FREEZE_DURATION\")&&yr.lastVisibleTime>=yr.lastHiddenTime&&o.timestamp>yr.lastVisibleTime&&o.timestamp>yr.lastHiddenTime&&(this.renderFreezeAccTime+=p);}o=Kt(Kt({},l),{},{timestamp:d});}var u,h;v(\"ENABLE_VIDEO_FRAME_CALLBACK\")&&((u=(h=this.videoElement).requestVideoFrameCallback)===null||u===void 0||u.call(h,c));};(e=(n=this.videoElement).requestVideoFrameCallback)===null||e===void 0||e.call(n,c);}this.videoElement.controls=!1,this.videoElement.setAttribute(\"playsinline\",\"\"),Ku()&&!v(\"HIDE_NO_POSTER\")&&(this.videoElement.poster=\"noposter\");let i=mt();i.name===\"Safari\"&&Number(i.version)===15||Zs()||!this.config.mirror||(this.videoElement.style.transform=\"rotateY(180deg)\"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit=\"cover\",this.videoElement.setAttribute(\"muted\",\"\"),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,$t()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,$t()&&this.videoElement.load());let r=this.videoElement.play();r!==void 0&&r.catch(o=>{_.debug(\"[\".concat(this.trackId,\"] playback interrupted\"),o.toString());});}resetVideoElement(){nI.forEach(e=>{this.videoElement&&this.videoElement.removeEventListener(e,this.handleVideoEvents);}),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0),this.videoElementStatus=nn.NONE;}handleAutoPlayFailed(){let e=n=>{n.preventDefault(),this.videoElement.play().then(()=>{_.debug(\"[\".concat(this.trackId,\"] Video element for trackId:\").concat(this.trackId,\" autoplay resumed.\"));}).catch(i=>{_.error(i);}),this.autoplayFailed=!1,yc()?document.body.removeEventListener(\"click\",e,!0):(document.body.removeEventListener(\"touchstart\",e,!0),document.body.removeEventListener(\"mousedown\",e,!0));};yc()?document.body.addEventListener(\"click\",e,!0):(document.body.addEventListener(\"touchstart\",e,!0),document.body.addEventListener(\"mousedown\",e,!0)),zO();}},nI=[\"play\",\"playing\",\"loadeddata\",\"canplay\",\"pause\",\"stalled\",\"suspend\",\"waiting\",\"abort\",\"emptied\",\"ended\",\"timeupdate\",\"error\"],su=class extends kc{constructor(e){super(e),P(this,\"container\",void 0),P(this,\"slot\",void 0),this.slot=e.element,this.updateConfig(e);}updateConfig(e){this.config=e,this.trackId=e.trackId;let n=e.element;n!==this.slot&&(this.destroy(),this.slot=n),this.createElements();}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.createElements());}play(e){var n;(n=this.container)!==null&&n!==void 0&&n.contains(this.videoElement)&&super.play(e);}getCurrentFrame(){var e;return (e=this.container)!==null&&e!==void 0&&e.contains(this.videoElement)?super.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameToUint8Array(e){var n;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return (n=this.container)!==null&&n!==void 0&&n.contains(this.videoElement)?await super.getCurrentFrameToUint8Array(e,i):await Cf(e)}destroy(){if(super.destroy(),this.videoElement.remove(),this.videoElement=document.createElement(\"video\"),this.container){try{this.container.remove(),this.slot.removeChild(this.container);}catch{}this.container=void 0;}}createElements(){this.container||(this.container=document.createElement(\"div\")),this.container.id=\"agora-video-player-\".concat(this.trackId),this.container.style.width=\"100%\",this.container.style.height=\"100%\",this.container.style.position=\"relative\",this.container.style.overflow=\"hidden\",this.videoTrack?(this.container.style.backgroundColor=\"black\",v(\"KEEP_LAST_FRAME\")&&this.isKeepLastFrame&&this.videoElement.paused&&this.resetVideoElement(),this.mountedVideoElement()):this.unmountedVideoElement(),this.slot.appendChild(this.container);}mountedVideoElement(){var e;!this.container||(e=this.container)!==null&&e!==void 0&&e.contains(this.videoElement)||this.container.appendChild(this.videoElement),super.initVideoElement(),this.videoElement.id=\"video_\".concat(this.trackId),this.videoElement.className=\"agora_video_player\",this.videoElement.style.width=\"100%\",this.videoElement.style.height=\"100%\",this.videoElement.style.position=\"absolute\",this.videoElement.style.left=\"0\",this.videoElement.style.top=\"0\";}unmountedVideoElement(){var e;if((e=this.container)!==null&&e!==void 0&&e.contains(this.videoElement)){super.resetVideoElement();try{this.container&&this.container.removeChild(this.videoElement);}catch{}this.videoElement=document.createElement(\"video\");}}resetVideoElement(){var e;(e=this.container)!==null&&e!==void 0&&e.contains(this.videoElement)&&(super.resetVideoElement(),this.cacheVideoElement=this.videoElement,this.videoElement=document.createElement(\"video\"));}getContainerElement(){return this.container}},iI,rI,oI,sI,aI,cI,dI,lI,uI,hI,pI,_I,EI,mI,fI,gI,TI,SI,RI,CI,II,vI,yI,AI,ht,bI,wI,OI,NI,DI,PI,kI,LI,Ln,Ft=(iI=$({argsMap:(t,e,n)=>[t.getTrackId(),typeof e==\"string\"?e:e instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\",n]}),rI=se(),oI=$({argsMap:t=>[t.getTrackId()]}),sI=$s(\"LocalVideoTrack\",\"_enabledMutex\"),aI=$({argsMap:(t,e)=>[t.getTrackId(),e]}),cI=se(),dI=$s(\"LocalVideoTrack\",\"_enabledMutex\"),lI=$({argsMap:(t,e)=>[t.getTrackId(),e]}),uI=se(),hI=$({argsMap:(t,e)=>[t.getTrackId(),e]}),pI=se(),_I=se(),EI=$({argsMap:(t,e,n)=>[t.getTrackId(),e,n]}),mI=se(),fI=se(),gI=se(),TI=se(),SI=se(),RI=se(),CI=se(),II=$({argsMap:(t,e)=>[t.getTrackId(),e.name]}),vI=$({argsMap:t=>[t.getTrackId()]}),yI=$({argsMap:t=>[t.getTrackId()]}),AI=$({argsMap:(t,e,n)=>[t.getTrackId(),e.label,n]}),ht=class $O extends no{get videoHeight(){if(je()){let{height:e}=this._mediaStreamTrack.getSettings();return this._videoHeight=e,this._videoHeight}return this._videoHeight}get videoWidth(){if(je()){let{width:e}=this._mediaStreamTrack.getSettings();return this._videoWidth=e,this._videoWidth}return this._videoWidth}get isPlaying(){return !(!this._player||this._player.videoElementStatus!==nn.PLAYING)}get processorDestination(){return this._processorDestination}get processorContext(){return this._processorContext}set processorContext(e){this._processorContext=e;}get __className__(){return \"LocalVideoTrack\"}constructor(e,n,i,r,o,s){if(super(e,o),P(this,\"trackMediaType\",fa.VIDEO),P(this,\"_player\",void 0),P(this,\"isUseScaleResolutionDownBy\",!1),P(this,\"_videoVisibleTimer\",null),P(this,\"_previousVideoVisibleStatus\",void 0),P(this,\"_clearPreviousVideoVisibleStatus\",()=>this._previousVideoVisibleStatus=void 0),P(this,\"_encoderConfig\",void 0),P(this,\"_scalabilityMode\",{numSpatialLayers:1,numTemporalLayers:1}),P(this,\"_optimizationMode\",void 0),P(this,\"_videoHeight\",void 0),P(this,\"_videoWidth\",void 0),P(this,\"_forceBitrateLimit\",void 0),P(this,\"_enabled\",!0),P(this,\"_processorDestination\",void 0),P(this,\"_processorContext\",void 0),je()){let{width:a,height:c}=e.getSettings();this._videoWidth=a,this._videoHeight=c;}else this.updateMediaStreamTrackResolution();if(this._encoderConfig=n,this._scalabilityMode=i,this._optimizationMode=r,this._hints=s||[],this._hints.indexOf(Gt.SCREEN_TRACK)===-1)this.updateBitrateFromProfile();else if(function(a,c,d){let l=mt();return !(l.name!==a||!l.osVersion)&&(Number(l.version)===c)}(It.CHROME,115)&&Hu().indexOf(\"Windows\")!==-1){let a=function(c,d){if(\"VideoFrame\"in window&&\"TransformStream\"in window&&ft().supportWebRTCInsertableStream){let l=new MediaStreamTrackProcessor(c),u=new MediaStreamTrackGenerator({kind:\"video\"}),h,p,g=Date.now(),E=()=>{f&&(clearInterval(f),f=void 0),h&&(h.close(),h=void 0),c.stop(),p=void 0,u.removeEventListener(\"ended\",E);},f=window.setInterval(()=>{if(p&&h&&Date.now()-g>(1e3))try{u.readyState===\"live\"?p.enqueue(h.clone()):E();}catch{E();}},1e3),S=new TransformStream({transform:(C,A)=>{u.readyState===\"live\"?(p=A,g=Date.now(),h===void 0?(h=C,A.enqueue(C.clone())):(A.enqueue(h),h=C)):C.close();}});return u.addEventListener(\"ended\",E),l.readable.pipeThrough(S).pipeTo(u.writable),u}}(e);a&&(_.info(\"local screen video track begin to inject frame\"),this._mediaStreamTrack=a);}n&&this._hints.indexOf(Gt.CUSTOM_TRACK)!==-1&&this.setEncoderConfiguration(n),this._processorContext=new eu(this.getTrackId(),\"local\"),this._processorDestination=new tu(this.processorContext),this.bindProcessorDestinationEvents();}play(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e==\"string\"){let r=document.getElementById(e);r?e=r:(_.warning(\"[\".concat(this.getTrackId(),'] can not find \"#').concat(e,'\" element, use document.body')),e=document.body);}_.debug(\"[\".concat(this.getTrackId(),\"] start video playback in \").concat(e instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\"),JSON.stringify(n));let i=Kt(Kt(Kt({},this._getDefaultPlayerConfig()),n),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(i):(e instanceof HTMLVideoElement?this._player=new kc(i):this._player=new su(i),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval(()=>{try{let r=this.getVideoElementVisibleStatus();this.safeEmit(ma.VIDEO_ELEMENT_VISIBLE_STATUS,r);}catch{}},v(\"CHECK_VIDEO_VISIBLE_INTERVAL\"));}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,_.debug(\"[\".concat(this.getTrackId(),\"] stop video playback\")));}async setEnabled(e,n){if(!n){if(e===this._enabled)return;this.stateCheck(\"enabled\",e);}if(_.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),!e){this._originMediaStreamTrack.enabled=!1;try{await kt(this,H.NEED_DISABLE_TRACK,this);}catch(i){throw _.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),i.toString()),i}return n||(this._enabled=!1),void _.info(\"[\".concat(this.getTrackId(),\"] setEnabled to false success\"))}this._originMediaStreamTrack.enabled=!0;try{await kt(this,H.NEED_ENABLE_TRACK,this);}catch(i){throw _.error(\"[\".concat(this.getTrackId(),\"] setEnabled to true error\"),i.toString()),i}_.info(\"[\".concat(this.getTrackId(),\"] setEnabled to true success\")),n||(this._enabled=!0);}async setMuted(e){e!==this._muted&&(this.stateCheck(\"muted\",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,_.debug(\"[\".concat(this.getTrackId(),\"] start set muted: \").concat(e)),e?await kt(this,H.NEED_MUTE_TRACK,this):await kt(this,H.NEED_UNMUTE_TRACK,this));}async setEncoderConfiguration(e,n){if(!this._enabled)throw new N(R.TRACK_IS_DISABLED,\"can not set encoder configuration when track is disabled\");if(e=cr(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),e.width||e.height||e.frameRate){let i=ru({encoderConfig:e});(je()||ln()||vi())&&(i.deviceId=void 0),_.debug(\"[\".concat(this.getTrackId(),\"] setEncoderConfiguration applyConstraints\"),JSON.stringify(e),JSON.stringify(i));try{await this._originMediaStreamTrack.applyConstraints(i),this.updateMediaStreamTrackResolution();}catch(r){let o=new N(R.UNEXPECTED_ERROR,r.toString());throw _.error(\"[\".concat(this.getTrackId(),\"] applyConstraints error\"),o.toString()),o}}this._encoderConfig=e,this._hints.indexOf(Gt.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await kt(this,H.NEED_UPDATE_VIDEO_ENCODER,this);}catch(i){return i.throw(_)}}getStats(){return po(()=>{_.warning(\"[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead\");},\"localVideoTrackGetStatsWarning\"),ni(this,H.GET_STATS)||Kt({},YE)}async setBeautyEffect(e){_.error(\"LocalVideoTrack.setBeautyEffect was deprecated, please migrate to agora-extension-beauty-effect\");}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(e,n):await Cf(e)}async setBitrateLimit(e){if(_.debug(\"[\".concat(this.getTrackId(),\"] set bitrate limit, \").concat(JSON.stringify(e))),e){this._forceBitrateLimit=e,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<e.max_bitrate?this._encoderConfig.bitrateMax:e.max_bitrate:this._encoderConfig.bitrateMax=e.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=e.min_bitrate);try{await kt(this,H.NEED_UPDATE_VIDEO_ENCODER,this);}catch(n){return n.throw(_)}}}async setOptimizationMode(e){if(e!==\"motion\"&&e!==\"detail\"&&e!==\"balanced\")return void _.error(R.INVALID_PARAMS,\"optimization mode must be motion, detail or balanced\");let n=this._optimizationMode;try{this._optimizationMode=e,await kt(this,H.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this);}catch(i){throw this._optimizationMode=n,_.error(\"[\".concat(this.getTrackId(),\"] set optimization mode failed\"),i.toString()),i}_.info(\"[\".concat(this.getTrackId(),\"] set optimization mode success (\").concat(e,\")\"));}setScalabiltyMode(e){if(e.numSpatialLayers===1&&e.numTemporalLayers!==1)return _.error(R.INVALID_PARAMS,\"scalability mode currently not supported, no SVC.\"),void(this._scalabilityMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabilityMode=e,_.info(\"[\".concat(this.getTrackId(),\"] set scalability mode success (\").concat(e,\")\"));}updateMediaStreamTrackResolution(){XO(this._originMediaStreamTrack).then(e=>{let[n,i]=e;this._videoHeight=i,this._videoWidth=n;}).catch(zu);}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack);}_getDefaultPlayerConfig(){return {fit:\"contain\"}}async setSenderConfiguration(e){if(!this._enabled)throw new N(R.TRACK_IS_DISABLED,\"can not set encoder configuration when track is disabled\");_.debug(\"[\".concat(this.getTrackId(),\"] setSenderConfiguration applyConstraints\"),JSON.stringify(e)),e=cr(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),this._encoderConfig=e,this._hints.indexOf(Gt.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await kt(this,H.NEED_UPDATE_VIDEO_ENCODER,this);}catch(n){return n.throw(_)}}updateBitrateFromProfile(){if(!this._encoderConfig)return;let{width:e,height:n,frameRate:i}=this.getMediaStreamTrackSettings();if(!e||!n||!i)return;let{bitrateMax:r,bitrateMin:o}=this._encoderConfig;if(o==null||r==null){let{max:s,min:a}=function(c,d,l,u,h){let p=v(\"BITRATE_ADAPTER_TYPE\");if(p===\"DEFAULT_BITRATE\")return {min:u,max:h};if(h===void 0){var g;let f=Math.floor(200*Math.pow(l/15,.6)*Math.pow(c*d/640/360,.75));h=p===\"STANDARD_BITRATE\"?4*f:2*f,u=(g=u)!==null&&g!==void 0?g:f;}else {var E;u=(E=u)!==null&&E!==void 0?E:Math.floor(h/10);}return {min:u,max:h}}(e,n,i,o,r);this._encoderConfig.bitrateMin=a,this._encoderConfig.bitrateMax=s,_.debug(\"[\".concat(this.getTrackId(),\"] update bitrate from profile, [w: \").concat(e,\", h: \").concat(n,\", fps: \").concat(i,\"] => [brMax: \").concat(s,\", brMin: \").concat(a,\"]\"));}}getVideoElementVisibleStatus(){try{var e,n;let i=this==null||(e=this._player)===null||e===void 0?void 0:e.getContainerElement(),r={track:this,element:this==null||(n=this._player)===null||n===void 0?void 0:n.getVideoElement(),slot:i?.parentElement},{element:o,slot:s}=r;if(this.isPlaying&&o instanceof HTMLVideoElement&&s instanceof HTMLElement){let a=CO.checkOneElementVisible(o),c=Object.assign({},a);if(c.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=c.visible;let d=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});c.visible?d.onSuccess(\"Video is visible\"):d.onSuccess(\"Invisible because of \".concat(c.reason));}return c}return}catch(i){throw new N(R.GET_VIDEO_ELEMENT_VISIBLE_ERROR,i.message)}}async renewMediaStreamTrack(e){}pipe(e){if(this.processor===e)return e;if(e._source)throw new N(R.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;let e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset();}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe();}clone(e){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=this._encoderConfig;e&&(i=Kt(Kt({},i),cr(e))),i=Vo(i);let r=Ut(8,\"track-video-cloned-\"),o=new $O(n?this._mediaStreamTrack.clone():this._mediaStreamTrack,i,Vo(this._scalabilityMode),this._optimizationMode,r,Vo(this._hints));return e&&i&&o.setEncoderConfiguration(i),_.debug(\"clone video track from \".concat(this.getTrackId(),\" to \").concat(r,\", clone \").concat(n)),o}async replaceTrack(e,n){if(!(e instanceof MediaStreamTrack))throw new N(R.INVALID_PARAMS,\"track should be an instance of MediaStreamTrack\");if(e.kind!==\"video\")throw new N(R.INVALID_PARAMS,\"track should be a video MediaStreamTrack\");await this._updateOriginMediaStreamTrack(e,n,!0),this.updateMediaStreamTrackResolution();}sendSeiData(e){if(po(()=>{X.reportApiInvoke(null,{name:Te.LOCAL_VIDEO_SEND_SEI_DATA,options:[],tag:Zt.TRACER}).onSuccess(\"\");},this._mediaStreamTrack.id||this.getTrackId()),!v(\"ENABLE_VIDEO_SEI\")||!v(\"ENABLE_ENCODED_TRANSFORM\"))return void _.warning('To send/receive SEI, please call AgoraRTC.setParameter(\"ENABLE_VIDEO_SEI\", true) before instantiate IAgoraRtcClient');if(e instanceof Uint8Array==0)return new N(R.INVALID_PARAMS,\"Invalid argument type, ILocalVideoTrack.sendSeiData() only accept Uint8Array argument.\").throw();let n=this.getRTCRtpTransceiver();if(!n)return void _.warning(\"Video track is not published, SEI can not be send\");let i=n.sender.getParameters();if(i.codecs.length===0)return;let r=i.codecs[0].mimeType.toLocaleLowerCase();r===\"video/h264\"?this.safeEmit(\"sei-to-send\",e):_.warning(\"SEI is not supported by \".concat(r));}bindProcessorDestinationEvents(){this.processorDestination.on(un.ON_TRACK,async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(),await kt(this,H.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await kt(this,H.NEED_REPLACE_TRACK,this));});}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(un.ON_TRACK);}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(Wn.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(Wn.REQUEST_CONSTRAINTS);}},Et(ht.prototype,\"play\",[iI,rI],Object.getOwnPropertyDescriptor(ht.prototype,\"play\"),ht.prototype),Et(ht.prototype,\"stop\",[oI],Object.getOwnPropertyDescriptor(ht.prototype,\"stop\"),ht.prototype),Et(ht.prototype,\"setEnabled\",[sI,aI,cI],Object.getOwnPropertyDescriptor(ht.prototype,\"setEnabled\"),ht.prototype),Et(ht.prototype,\"setMuted\",[dI,lI,uI],Object.getOwnPropertyDescriptor(ht.prototype,\"setMuted\"),ht.prototype),Et(ht.prototype,\"setEncoderConfiguration\",[hI,pI],Object.getOwnPropertyDescriptor(ht.prototype,\"setEncoderConfiguration\"),ht.prototype),Et(ht.prototype,\"getStats\",[_I],Object.getOwnPropertyDescriptor(ht.prototype,\"getStats\"),ht.prototype),Et(ht.prototype,\"setBeautyEffect\",[EI,mI],Object.getOwnPropertyDescriptor(ht.prototype,\"setBeautyEffect\"),ht.prototype),Et(ht.prototype,\"getCurrentFrameData\",[fI],Object.getOwnPropertyDescriptor(ht.prototype,\"getCurrentFrameData\"),ht.prototype),Et(ht.prototype,\"getCurrentFrameImage\",[gI],Object.getOwnPropertyDescriptor(ht.prototype,\"getCurrentFrameImage\"),ht.prototype),Et(ht.prototype,\"setBitrateLimit\",[TI],Object.getOwnPropertyDescriptor(ht.prototype,\"setBitrateLimit\"),ht.prototype),Et(ht.prototype,\"setOptimizationMode\",[SI],Object.getOwnPropertyDescriptor(ht.prototype,\"setOptimizationMode\"),ht.prototype),Et(ht.prototype,\"setScalabiltyMode\",[RI],Object.getOwnPropertyDescriptor(ht.prototype,\"setScalabiltyMode\"),ht.prototype),Et(ht.prototype,\"updateMediaStreamTrackResolution\",[CI],Object.getOwnPropertyDescriptor(ht.prototype,\"updateMediaStreamTrackResolution\"),ht.prototype),Et(ht.prototype,\"pipe\",[II],Object.getOwnPropertyDescriptor(ht.prototype,\"pipe\"),ht.prototype),Et(ht.prototype,\"unpipe\",[vI],Object.getOwnPropertyDescriptor(ht.prototype,\"unpipe\"),ht.prototype),Et(ht.prototype,\"close\",[yI],Object.getOwnPropertyDescriptor(ht.prototype,\"close\"),ht.prototype),Et(ht.prototype,\"replaceTrack\",[AI],Object.getOwnPropertyDescriptor(ht.prototype,\"replaceTrack\"),ht.prototype),ht),XE=(bI=$({argsMap:(t,e)=>[t.getTrackId(),e]}),wI=se(),OI=$s(\"CameraVideoTrack\",\"_enabledMutex\"),NI=$({argsMap:(t,e)=>[t.getTrackId(),e]}),DI=se(),PI=$({argsMap:(t,e)=>[t.getTrackId(),e]}),kI=se(),LI=$({argsMap:t=>[t.getTrackId()]}),Ln=class t0 extends Ft{get __className__(){return \"CameraVideoTrack\"}constructor(e,n,i,r,o,s){super(e,cr(n.encoderConfig),r,o,s),P(this,\"_config\",void 0),P(this,\"_originalConstraints\",void 0),P(this,\"_constraints\",void 0),P(this,\"_enabled\",!0),P(this,\"_deviceName\",\"default\"),P(this,\"tryResumeVideoForIOS15_16WeChat\",async()=>{(Zs()||NE())&&!function(){let a=mt();if(a.os!==ye.IOS||!a.osVersion)return !1;let c=a.osVersion.split(\".\");return Number(c[0])===15&&Number(c[1])>=2}()&&TO()&&this._enabled&&!this._isClosed&&(_.debug(\"[\".concat(this.getTrackId(),\"] try capture camera media device for interrupted iOS 15 device on WeChat.\")),await this.renewMediaStreamTrack());}),this._config=n,this._originalConstraints=i,this._constraints=i,this._deviceName=e.label,this._encoderConfig=cr(this._config.encoderConfig),wt.on(ke.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),wt.on(ke.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),this.bindProcessorContextEvents();}async setDevice(e){return typeof e==\"string\"?this._setDeviceById(e):e.deviceId?this._setDeviceById(e.deviceId):e.facingMode?this._setDeviceByFacingModel(e.facingMode):void 0}async _setDeviceById(e){if(_.info(\"[\".concat(this.getTrackId(),\"] set device to \").concat(e)),this._enabled)try{let n=await Gn.getDeviceById(e),i={};i.video=Kt({},this._constraints),i.video.deviceId={exact:e},i.video.facingMode=void 0,this._originMediaStreamTrack.stop();let r=null;try{r=await Fn(i,this.getTrackId());}catch(o){throw _.error(\"[\".concat(this.getTrackId(),\"] setDevice failed\"),o.toString()),r=await Fn({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(r.getVideoTracks()[0],!1),o}await this._updateOriginMediaStreamTrack(r.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=n.label,this._config.cameraId=e,this._constraints.deviceId={exact:e};}catch(n){throw _.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),n.toString()),n}else try{let n=await Gn.getDeviceById(e);this._deviceName=n.label,this._config.cameraId=e,this._constraints.deviceId={exact:e};}catch(n){throw _.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),n.toString()),n}_.info(\"[\".concat(this.getTrackId(),\"] setDevice success\"));}async _setDeviceByFacingModel(e){_.info(\"[\".concat(this.getTrackId(),\"] set facingMode \").concat(e));let n={video:Kt(Kt({},this._constraints),{},{deviceId:void 0,facingMode:{exact:e}})};if(this._enabled){this._originMediaStreamTrack.stop();let i=null;try{i=await Fn(n,this.getTrackId());}catch(r){throw _.error(\"[\".concat(this.getTrackId(),\"] setDeviceByFacingModel failed\"),r.toString()),i=await Fn({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(i.getVideoTracks()[0],!1),r}await this._updateOriginMediaStreamTrack(i.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution();}this._deviceName=\"\",this._config.facingMode=e,this._config.cameraId=void 0,this._constraints=Kt({},n.video),_.info(\"[\".concat(this.getTrackId(),\"] setDeviceByFacingModel success\"));}async setEnabled(e,n){if(!n){if(e===this._enabled)return;this.stateCheck(\"enabled\",e);}if(_.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),e){try{if(this.isExternalTrack)this._originMediaStreamTrack.enabled=!0;else {let i=await Fn({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(i.getVideoTracks()[0],!1);}await kt(this,H.NEED_ENABLE_TRACK,this);}catch(i){throw _.error(\"[\".concat(this.getTrackId(),\"] setEnabled true error\"),i.toString()),i}this.updateMediaStreamTrackResolution(),_.info(\"[\".concat(this.getTrackId(),\"] setEnabled to true success\")),n||(this._enabled=!0);}else {this.isExternalTrack?this._originMediaStreamTrack.enabled=!1:(this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop()),n||(this._enabled=!1);try{await kt(this,H.NEED_DISABLE_TRACK,this);}catch(i){throw _.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),i.toString()),i}_.info(\"[\".concat(this.getTrackId(),\"] setEnabled to false success\"));}}async setEncoderConfiguration(e,n){if(!this._enabled)throw new N(R.TRACK_IS_DISABLED,\"can not set encoder configuration when track is disabled\");e=cr(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate||e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate||e.bitrateMin);let i=le(this._config);i.encoderConfig=e;let r=ru(i);(je()||ln()||vi())&&(r.deviceId=void 0),_.debug(\"[\".concat(this.getTrackId(),\"] setEncoderConfiguration applyConstraints\"),JSON.stringify(e),JSON.stringify(r));try{await this._originMediaStreamTrack.applyConstraints(r),this.updateMediaStreamTrackResolution();}catch(o){let s=new N(R.UNEXPECTED_ERROR,o.toString());throw _.error(\"[\".concat(this.getTrackId(),\"] applyConstraints error\"),s.toString()),s}this._config=i,this._constraints=r,this._originalConstraints=r,this._encoderConfig=e,this._hints.indexOf(Gt.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await kt(this,H.NEED_UPDATE_VIDEO_ENCODER,this);}catch(o){return o.throw(_)}}_getDefaultPlayerConfig(){return {mirror:!0,fit:\"cover\"}}onTrackEnded(){if((ln()||vi())&&this._enabled&&!this._isClosed&&wt.duringInterruption){let e=async()=>{wt.off(ke.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(_.debug(\"[\".concat(this.getTrackId(),\"] try capture camera media device for interrupted iOS device.\")),await this.setEnabled(!1),await this.setEnabled(!0));};wt.on(ke.IOS_INTERRUPTION_END,e);}else _.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(ma.TRACK_ENDED);}async renewMediaStreamTrack(e){let n=e||this._constraints,i=Gn.searchDeviceIdByName(this._deviceName);if(i&&!n.deviceId&&(n.deviceId={exact:i}),this._enabled){let r=await Fn({video:n},this.getTrackId());this._constraints=n,await this._updateOriginMediaStreamTrack(r.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution();}}close(){super.close(),wt.off(ke.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),wt.off(ke.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat);}clone(e){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=this._encoderConfig;e&&(i=Kt(Kt({},i),cr(e))),i=Vo(i);let r=Ut(8,\"track-cam-cloned-\"),o=new t0(n?this._mediaStreamTrack.clone():this._mediaStreamTrack,Vo(Kt(Kt({},this._config),{},{encoderConfig:i})),Vo(this._constraints),Vo(this._scalabilityMode),this._optimizationMode,r);return e&&i&&o.setEncoderConfiguration(i),_.debug(\"clone track from \".concat(this.getTrackId(),\" to \").concat(r,\", clone \").concat(n)),o}bindProcessorContextEvents(){this.processorContext.on(Wn.REQUEST_UPDATE_CONSTRAINTS,async(e,n,i)=>{try{let r=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(r),n();}catch(r){i(r);}}),this.processorContext.on(Wn.REQUEST_CONSTRAINTS,async e=>{e(this._originMediaStreamTrack.getSettings());});}},Et(Ln.prototype,\"setDevice\",[bI,wI],Object.getOwnPropertyDescriptor(Ln.prototype,\"setDevice\"),Ln.prototype),Et(Ln.prototype,\"setEnabled\",[OI,NI,DI],Object.getOwnPropertyDescriptor(Ln.prototype,\"setEnabled\"),Ln.prototype),Et(Ln.prototype,\"setEncoderConfiguration\",[PI,kI],Object.getOwnPropertyDescriptor(Ln.prototype,\"setEncoderConfiguration\"),Ln.prototype),Et(Ln.prototype,\"close\",[LI],Object.getOwnPropertyDescriptor(Ln.prototype,\"close\"),Ln.prototype),Ln);function c_(t,e,n,i){n.optimizationMode&&(i&&i.width&&i.height?(n.encoderConfig=Kt(Kt({},i),{},{bitrateMin:i.bitrateMin,bitrateMax:i.bitrateMax}),n.optimizationMode!==\"motion\"&&n.optimizationMode!==\"detail\"||(e.contentHint=n.optimizationMode,e.contentHint===n.optimizationMode?_.debug(\"[\".concat(t,\"] set content hint to\"),n.optimizationMode):_.debug(\"[\".concat(t,\"] set content hint failed\")))):_.warning(\"[\".concat(t,\"] can not apply optimization mode bitrate config, no encoderConfig\")));}var MI,UI,xI,VI,zn,FI,BI,jI,GI,WI,HI,$e,au=class extends Xl{getUserId(){return this._userId}constructor(e,n,i,r){super(e,\"track-\".concat(e.kind,\"-\").concat(n,\"-\").concat(r.clientId,\"_\").concat(Ut(5,\"\"))),P(this,\"_userId\",void 0),P(this,\"_uintId\",void 0),P(this,\"_isDestroyed\",!1),P(this,\"store\",void 0),P(this,\"processor\",void 0),P(this,\"processorContext\",void 0),this._userId=n,this._uintId=i,this.store=r;}_updateOriginMediaStreamTrack(e){this._originMediaStreamTrack=e,this._mediaStreamTrack=e,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext});}_destroy(){this._isDestroyed=!0,_.info(\"[\".concat(this.getTrackId(),\"] is destroyed\")),this.stop(),super.close();}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}},Hs=(MI=$({argsMap:(t,e,n)=>[t.getTrackId(),typeof e==\"string\"?e:e instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\",n]}),UI=$({argsMap:t=>[t.getTrackId()]}),xI=$({argsMap:(t,e)=>[t.getTrackId(),e.name]}),VI=$({argsMap:t=>[t.getTrackId()]}),Et((zn=class extends au{get isPlaying(){return !(!this._player||this._player.videoElementStatus!==nn.PLAYING)}get __className__(){return \"RemoteVideoTrack\"}constructor(t,e,n,i){super(t,e,n,i),P(this,\"_videoVisibleTimer\",null),P(this,\"_previousVideoVisibleStatus\",void 0),P(this,\"_clearPreviousVideoVisibleStatus\",()=>this._previousVideoVisibleStatus=void 0),P(this,\"trackMediaType\",fa.VIDEO),P(this,\"_videoWidth\",void 0),P(this,\"_videoHeight\",void 0),P(this,\"_player\",void 0),P(this,\"processorDestination\",void 0),P(this,\"processorContext\",void 0),this.updateMediaStreamTrackResolution(),this.processorContext=new eu(this.getTrackId(),\"remote\"),this.processorDestination=new tu(this.processorContext),this.bindProcessorDestinationEvents();}getStats(){return po(()=>{_.warning(\"[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead\");},\"remoteVideoTrackGetStatsWarning\"),ni(this,H.GET_STATS)||Kt({},WO)}play(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t==\"string\"){let i=document.getElementById(t);i?t=i:(_.warning(\"[\".concat(this.getTrackId(),'] can not find \"#').concat(t,'\" element, use document.body')),t=document.body);}_.debug(\"[\".concat(this.getTrackId(),\"] start video playback in \").concat(t instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\"),JSON.stringify(e));let n=Kt(Kt({fit:\"cover\"},e),{},{trackId:this.getTrackId(),element:t});this._player?this._player.updateConfig(n):(t instanceof HTMLVideoElement?this._player=new kc(n):this._player=new su(n),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),\"video\",void 0,void 0,Date.now()),this.safeEmit(Ws.FIRST_FRAME_DECODED);},this._player.onVideoStateChanged=i=>{this.safeEmit(Ws.VIDEO_STATE_CHANGED,i);}),this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval(()=>{try{let i=this.getVideoElementVisibleStatus();this.safeEmit(Ws.VIDEO_ELEMENT_VISIBLE_STATUS,i);}catch{}},v(\"CHECK_VIDEO_VISIBLE_INTERVAL\"));}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,_.debug(\"[\".concat(this.getTrackId(),\"] stop video playback\")));}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){XO(this._originMediaStreamTrack).then(t=>{let[e,n]=t;this._videoHeight=n,this._videoWidth=e;}).catch(zu);}_updatePlayerSource(){_.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack);}getVideoElementVisibleStatus(){try{var t,e;let n=this==null||(t=this._player)===null||t===void 0?void 0:t.getContainerElement(),i={track:this,element:this==null||(e=this._player)===null||e===void 0?void 0:e.getVideoElement(),slot:n?.parentElement},{element:r,slot:o}=i;if(this.isPlaying&&r instanceof HTMLVideoElement&&o instanceof HTMLElement){let s=CO.checkOneElementVisible(r),a=Object.assign({},s);if(a.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=a.visible;let c=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});a.visible?c.onSuccess(\"Video is visible\"):c.onSuccess(\"Invisible because of \".concat(a.reason));}return a}return}catch(n){throw new N(R.GET_VIDEO_ELEMENT_VISIBLE_ERROR,n.message)}}pipe(t){if(this.processor===t)return t;if(t._source)throw new N(R.INVALID_OPERATION,\"Processor \".concat(t.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=t,this.processor._source=this,t.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),t}unpipe(){if(!this.processor)return;let t=this.processor;this.processor._source=void 0,this.processor=void 0,t.reset();}bindProcessorDestinationEvents(){this.processorDestination.on(un.ON_TRACK,async t=>{t?t!==this._mediaStreamTrack&&(this._mediaStreamTrack=t,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource());});}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(un.ON_TRACK);}_destroy(){super._destroy(),this.unbindProcessorDestinationEvents();}_onSei(t){this.emit(Ko.SEI_RECEIVED,t);}}).prototype,\"play\",[MI],Object.getOwnPropertyDescriptor(zn.prototype,\"play\"),zn.prototype),Et(zn.prototype,\"stop\",[UI],Object.getOwnPropertyDescriptor(zn.prototype,\"stop\"),zn.prototype),Et(zn.prototype,\"pipe\",[xI],Object.getOwnPropertyDescriptor(zn.prototype,\"pipe\"),zn.prototype),Et(zn.prototype,\"unpipe\",[VI],Object.getOwnPropertyDescriptor(zn.prototype,\"unpipe\"),zn.prototype),zn),Ks=(FI=$({argsMap:(t,e)=>[t.getTrackId(),e],throttleTime:300}),BI=$({argsMap:(t,e)=>[t.getTrackId(),e]}),jI=$({argsMap:t=>[t.getTrackId()]}),GI=$({argsMap:t=>[t.getTrackId()]}),WI=$({argsMap:(t,e)=>[t.getTrackId(),e.name]}),HI=$({argsMap:t=>[t.getTrackId()]}),Et(($e=class extends au{get isPlaying(){return this._useAudioElement?En.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return \"RemoteAudioTrack\"}constructor(t,e,n,i){super(t,e,n,i),P(this,\"trackMediaType\",fa.AUDIO),P(this,\"_source\",void 0),P(this,\"_useAudioElement\",!0),P(this,\"_volume\",100),P(this,\"processorContext\",void 0),P(this,\"processorDestination\",void 0),P(this,\"_played\",!1),P(this,\"_bypassWebAudio\",!1),v(\"DISABLE_WEBAUDIO\")?(this._source=new Pc,this._bypassWebAudio=!0,this._useAudioElement=!0):(this._source=new $l(t,!0),v(\"REMOTE_AUDIO_TRACK_USES_WEB_AUDIO\")&&(this._useAudioElement=!1)),this._source.once(jn.RECEIVE_TRACK_BUFFER,()=>{this.safeEmit(Ws.FIRST_FRAME_DECODED);}),this.processorContext=new iu(this._source.context,this.getTrackId(),\"remote\"),this.processorDestination=new nu(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(jn.UPDATE_SOURCE,()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext});});}setAudioFrameCallback(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4096;if(!t)return this._source.removeAllListeners(jn.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(e),this._source.removeAllListeners(jn.ON_AUDIO_BUFFER),this._source.on(jn.ON_AUDIO_BUFFER,n=>t(n));}setVolume(t){this._volume=t,this._useAudioElement?En.setVolume(this.getTrackId(),t):this._source.setVolume(t/100);}async setPlaybackDevice(t){if(!this._useAudioElement||!jO())throw new N(R.NOT_SUPPORTED,\"your browser does not support setting the audio output device\");await En.setSinkID(this.getTrackId(),t);}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getStats(){return po(()=>{_.warning(\"[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead\");},\"remoteAudioTrackGetStatsWarning\"),ni(this,H.GET_STATS)||Kt({},GO)}play(){_.debug(\"[\".concat(this.getTrackId(),\"] start audio playback\")),this._played=!0,this._useAudioElement?(_.debug(\"[\".concat(this.getTrackId(),\"] use audio element to play\")),En.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play();}stop(){_.debug(\"[\".concat(this.getTrackId(),\"] stop audio playback\")),this._played=!1,this._useAudioElement?En.stop(this.getTrackId()):this._source.stop();}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy();}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];_.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),t&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&En.updateTrack(this.getTrackId(),this._mediaStreamTrack);}pipe(t){if(this._bypassWebAudio)throw new N(R.NOT_SUPPORTED,\"can not pipe extension when WebAudio disabled\");if(this.processor===t)return t;if(t._source)throw new N(R.INVALID_OPERATION,\"Processor \".concat(t.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=t,this.processor._source=this,t.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),t}unpipe(){var t;if(this._bypassWebAudio)throw new N(R.NOT_SUPPORTED,\"can not unpipe extension when WebAudio disabled\");if(!this.processor)return;let e=this.processor;(t=this._source.processSourceNode)===null||t===void 0||t.disconnect(),this.processor._source=!1,this.processor=void 0,e.reset();}bindProcessorDestinationEvents(){this.processorDestination.on(un.ON_TRACK,async t=>{t?t!==this._mediaStreamTrack&&(this._mediaStreamTrack=t,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(t)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource());}),this.processorDestination.on(un.ON_NODE,t=>{this._source.processedNode=t;let e=!t;this._useAudioElement!==e&&(this._played?(this.stop(),this._useAudioElement=e,this.play()):this._useAudioElement=e);});}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(un.ON_TRACK),this.processorDestination.removeAllListeners(un.ON_NODE);}}).prototype,\"setVolume\",[FI],Object.getOwnPropertyDescriptor($e.prototype,\"setVolume\"),$e.prototype),Et($e.prototype,\"setPlaybackDevice\",[BI],Object.getOwnPropertyDescriptor($e.prototype,\"setPlaybackDevice\"),$e.prototype),Et($e.prototype,\"play\",[jI],Object.getOwnPropertyDescriptor($e.prototype,\"play\"),$e.prototype),Et($e.prototype,\"stop\",[GI],Object.getOwnPropertyDescriptor($e.prototype,\"stop\"),$e.prototype),Et($e.prototype,\"pipe\",[WI],Object.getOwnPropertyDescriptor($e.prototype,\"pipe\"),$e.prototype),Et($e.prototype,\"unpipe\",[HI],Object.getOwnPropertyDescriptor($e.prototype,\"unpipe\"),$e.prototype),$e),yr=new class extends Xt{get visibility(){return document.visibilityState}get lastHiddenTime(){return this._lastHiddenTime}get lastVisibleTime(){return this._lastVisibleTime}constructor(){super(),P(this,\"_lastHiddenTime\",0),P(this,\"_lastVisibleTime\",0),document.addEventListener(\"visibilitychange\",()=>{document.visibilityState===\"hidden\"?this._lastHiddenTime=performance.now():this._lastVisibleTime=performance.now(),_.debug(\"document visibility went \".concat(document.visibilityState)),this.emit(\"VISIBILITY_CHANGE\",document.visibilityState);});}},cu=class extends Xt{constructor(e,n){super(),P(this,\"trackMediaType\",fa.DATA),P(this,\"_version\",1),P(this,\"_type\",3),P(this,\"_config\",void 0),P(this,\"_originDataChannel\",void 0),P(this,\"_dataStreamPacketHeader\",new ArrayBuffer(4)),P(this,\"_dataStreamPacketHandler\",{serialize:i=>i,deserialize:i=>i}),P(this,\"_datachannelEventMap\",new Map),this._config=e,n&&(this._originDataChannel=n,this._bandDataChannelEvents(n)),this._initPacketHeader();}useDataStream(e){this._dataStreamPacketHandler=e;}get id(){return this._config.id}get ordered(){return this._config.ordered}get maxRetransmits(){return v(\"DATASTREAM_MAX_RETRANSMITS\")}get metadata(){return this._config.metadata}get readyState(){var e,n;return (e=(n=this._originDataChannel)===null||n===void 0?void 0:n.readyState)!==null&&e!==void 0?e:\"connecting\"}get _originDataChannelId(){var e,n;return (e=(n=this._originDataChannel)===null||n===void 0?void 0:n.id)!==null&&e!==void 0?e:null}getChannelId(){return this.id}getConfig(){return this._config}_close(){this._originDataChannel&&(this._unbindDataChannelEvents(this._originDataChannel),this._originDataChannel=void 0);}async _waitTillOpen(){return new j((e,n)=>{if(this._originDataChannel){this._originDataChannel.readyState===\"open\"&&e();let i=setTimeout(()=>{var r;n(new N(R.DATACHANNEL_CONNECTION_TIMEOUT,\"Cannot create datachannel, id: \".concat((r=this._originDataChannel)===null||r===void 0?void 0:r.id)));},1e4);this._originDataChannel.onopen=()=>{clearTimeout(i),this._originDataChannel&&this._bandDataChannelEvents(this._originDataChannel),e();},this._originDataChannel.onerror=()=>{throw clearTimeout(i),new N(R.DATACHANNEL_CONNECTION_TIMEOUT)};}else n(new N(R.DATACHANNEL_CONNECTION_TIMEOUT,\"cannot find dataChannel\"));})}_updateOriginDataChannel(e){this._originDataChannel=e,this._bandDataChannelEvents(e);}_initPacketHeader(){let e=new DataView(this._dataStreamPacketHeader);e.setUint16(0,this._version),e.setUint8(2,this._type),e.setUint8(3,this._config.id);}_bandDataChannelEvents(e){this._unbindDataChannelEvents(e),[Cl.OPEN,Cl.CLOSE,Cl.ERROR].forEach(n=>{let i=()=>{this.emit(n);};this._datachannelEventMap.set(n,i),e.addEventListener(n,i);});}_unbindDataChannelEvents(e){Array.from(this._datachannelEventMap.entries()).forEach(n=>{let[i,r]=n;e.removeEventListener(i,r);}),this._datachannelEventMap.clear();}},QE=class extends cu{constructor(e){super(e),P(this,\"_messageListener\",void 0),this._messageListener=n=>{if(n.data.byteLength<this._dataStreamPacketHeader.byteLength)throw Error(\"invalid byteLength: the byte length must exceed \"+this._dataStreamPacketHeader.byteLength);let i=n.data.slice(0,this._dataStreamPacketHeader.byteLength),r=new DataView(i).getUint8(3);if(r!==this.id)return void(v(\"SHOW_DATASTREAM2_LOG\")&&_.debug(\"invalid datachannel id: \".concat(r,\" !== \").concat(this.id)));let o=n.data.slice(this._dataStreamPacketHeader.byteLength);o=this._dataStreamPacketHandler.deserialize(o),this.emit(Cl.MESSAGE,o);};}_updateOriginDataChannel(e){super._updateOriginDataChannel(e),this._bandRemoteDataChannelEvents();}_close(){this._originDataChannel&&(this._originDataChannel.removeEventListener(\"message\",this._messageListener),super._close());}_bandRemoteDataChannelEvents(){this._originDataChannel&&this._originDataChannel.addEventListener(\"message\",this._messageListener);}},ZE=class extends cu{send(e){if(this._originDataChannel){let n=e;n=this._dataStreamPacketHandler.serialize(e);let i=new Uint8Array(this._dataStreamPacketHeader.byteLength+n.byteLength);i.set(new Uint8Array(this._dataStreamPacketHeader),0),i.set(new Uint8Array(n),this._dataStreamPacketHeader.byteLength),this._originDataChannel.send(i.buffer);}}};function vl(){let t=new Blob([atob(\"ZnVuY3Rpb24gZShlLHQsbil7bGV0IHI9bmV3IFVpbnQ4QXJyYXkoZSx0LG4pLGE9W10sbz0wO2Zvcig7YS5sZW5ndGg8bjspbyszPG4mJjA9PT1yW29dJiYwPT09cltvKzFdJiYzPT09cltvKzJdJiYoMD09PXJbbyszXXx8MT09PXJbbyszXXx8Mj09PXJbbyszXXx8Mz09PXJbbyszXSk/KGEucHVzaChyW29dLHJbbysxXSxyW28rM10pLG8rPTQpOihhLnB1c2gocltvXSksbysrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYSl9ZnVuY3Rpb24gdChlLHQpe2NvbnN0IG49ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmxlbmd0aDtsZXQgbj1bXSxyPTA7Zm9yKDtyPHQ7KXIrMjx0JiYwPT09ZVtyXSYmMD09PWVbcisxXSYmKDA9PT1lW3IrMl18fDE9PT1lW3IrMl18fDI9PT1lW3IrMl18fDM9PT1lW3IrMl0pPyhuLnB1c2goZVtyXSxlW3IrMV0sMyxlW3IrMl0pLHIrPTMpOihuLnB1c2goZVtyXSkscisrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobil9KHQpLHI9bi5sZW5ndGgsYT1NYXRoLmZsb29yKHIvMjU1KSxvPXIlMjU1LHM9bmV3IFVpbnQ4QXJyYXkoNithKzErcitlLmJ5dGVMZW5ndGgpO3NbMF09MCxzWzFdPTAsc1syXT0wLHNbM109MSxzWzRdPTYsc1s1XT0xMDE7bGV0IGk9MDtmb3IoO2k8YTspc1s2K2ldPTI1NSxpKys7cmV0dXJuIHNbNitpXT1vLGkrKyxzLnNldChuLDYraSkscy5zZXQobmV3IFVpbnQ4QXJyYXkoZSksNitpK3IpLHMuYnVmZmVyfW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiU2FmYXJpIik+LTEmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJDaHJvbWUiKSYmKHNlbGYub25ydGN0cmFuc2Zvcm09bj0+e2NvbnN0IHI9bi50cmFuc2Zvcm1lcjtsZXQgYT1bXTtyLm9wdGlvbnMucG9ydC5vbm1lc3NhZ2U9ZT0+e2UuZGF0YS5zZWkmJmEucHVzaChlLmRhdGEuc2VpKX0sc2VsZi5wb3N0TWVzc2FnZSgic3RhcnRlZCIpO2NvbnN0IG89ci5yZWFkYWJsZS5nZXRSZWFkZXIoKSxzPXIud3JpdGFibGUuZ2V0V3JpdGVyKCk7InJ4Ij09PXIub3B0aW9ucy5uYW1lP2Z1bmN0aW9uIHQobil7by5yZWFkKCkudGhlbigocj0+e2lmKCFyLmRvbmUpe2lmKHIudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgdD1mdW5jdGlvbih0KXtjb25zdCBuPW5ldyBEYXRhVmlldyh0LmRhdGEpO2xldCByPTA7Zm9yKDtyKzQ8dC5kYXRhLmJ5dGVMZW5ndGg7KXtpZigwPT09bi5nZXRVaW50OChyKzApJiYwPT09bi5nZXRVaW50OChyKzEpJiYwPT09bi5nZXRVaW50OChyKzIpJiYxPT09bi5nZXRVaW50OChyKzMpJiY2PT09bi5nZXRVaW50OChyKzQpKXtsZXQgYT1yKzYsbz0wLHM9MDtmb3IoOzI1NT09PShzPW4uZ2V0VWludDgoYSsrKSk7KW8rPTI1NTtvKz1zO2NvbnN0IGk9ZSh0LmRhdGEsYSxvKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoaSl9cisrfXJldHVybiBudWxsfShyLnZhbHVlKTt0JiZuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7c2VpOnR9KX1zLndyaXRlKHIudmFsdWUpLG4ub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHt0cmFuc2Zvcm1lZDohMH0pLHQobil9fSkpfShyKToidHgiPT09ci5vcHRpb25zLm5hbWUmJmZ1bmN0aW9uIGUobil7by5yZWFkKCkudGhlbigocj0+e2lmKCFyLmRvbmUpe2lmKHIudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgZT1hLnNoaWZ0KCk7ZSYmKHIudmFsdWUuZGF0YT10KHIudmFsdWUuZGF0YSxlKSl9cy53cml0ZShyLnZhbHVlKSxuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7dHJhbnNmb3JtZWQ6ITB9KSxlKG4pfX0pKX0ocil9LHNlbGYucG9zdE1lc3NhZ2UoInJlZ2lzdGVyZWQiKSk7Cg==\")],{type:\"text/javascript\"});return setTimeout(()=>hC.revokeObjectURL(t),0),new Worker(hC.createObjectURL(t))}var Bd=new Map,jd=new Map;function FG(t,e,n){let i=new Uint8Array(t,e,n),r=[],o=0;for(;r.length<n;)o+3<n&&i[o]===0&&i[o+1]===0&&i[o+2]===3&&(i[o+3]===0||i[o+3]===1||i[o+3]===2||i[o+3]===3)?(r.push(i[o],i[o+1],i[o+3]),o+=4):(r.push(i[o]),o++);return new Uint8Array(r)}var Gd=new Map;async function BG(t,e){if(!ft().supportWebRTCEncodedTransform)return void _.warning(\"browser not support video encoded transform\");if(Gd.has(t)||!t.track)return;let n={track:t.track};if(oo()){if(!t.createEncodedStreams)return void _.warning(\"browser not support createEncodedStreams() API\");let r=null;try{r=t.createEncodedStreams();}catch(a){return void _.error(\"create video-encoded-streams error\",a&&a.message)}let o=[];e.on(\"sei-to-send\",a=>{o.push(a);});let s=new TransformStream({transform(a,c){n.controller||(n.controller=c),t.track&&t.track.id!==n.track.id&&(_.debug(\"video track changed: \".concat(n.track.id,\" => \").concat(t.track.id)),n.track.removeEventListener(\"ended\",i),n.track=t.track,n.track.addEventListener(\"ended\",i));let d=o.shift();d&&(a.data=function(l,u){let h=function(C){let A=C.length,b=[],w=0;for(;w<A;)w+2<A&&C[w]===0&&C[w+1]===0&&(C[w+2]===0||C[w+2]===1||C[w+2]===2||C[w+2]===3)?(b.push(C[w],C[w+1],3,C[w+2]),w+=3):(b.push(C[w]),w++);return new Uint8Array(b)}(u),p=h.length,g=Math.floor(p/255),E=p%255,f=new Uint8Array(6+g+1+p+l.byteLength);f[0]=0,f[1]=0,f[2]=0,f[3]=1,f[4]=6,f[5]=101;let S=0;for(;S<g;)f[6+S]=255,S++;return f[6+S]=E,S++,f.set(h,6+S),f.set(new Uint8Array(l),6+S+p),f.buffer}(a.data,d)),c.enqueue(a);}});r.readable.pipeThrough(s).pipeTo(r.writable);}else {if(!je())return;{if(typeof RTCRtpScriptTransform>\"u\")return void _.warning(\"browser not support RTCRtpScriptTransform\");let r=vl(),o=new MessageChannel;await new j(a=>r.onmessage=c=>{c.data===\"registered\"&&a(void 0);});let s=new RTCRtpScriptTransform(r,{name:\"tx\",port:o.port2},[o.port2]);t.transform=s,await new j(a=>r.onmessage=c=>{c.data===\"started\"&&a(void 0);}),e.on(\"sei-to-send\",a=>{o.port1.postMessage({sei:a});}),o.port1.onmessage=a=>{var c;a.data.transformed&&t.track&&((c=t.track)===null||c===void 0?void 0:c.id)!==n.track.id&&(_.debug(\"video track changed: \".concat(n.track.id,\" => \").concat(t.track.id)),n.track.removeEventListener(\"ended\",i),n.track=t.track,n.track.addEventListener(\"ended\",i));},n.worker=r;}}function i(){if(t.track){if(this.id!==t.track.id)return;t.track.removeEventListener(\"ended\",i);}let r=Gd.get(t);if(r){Gd.delete(t);try{var o,s;(o=r.controller)===null||o===void 0||o.terminate(),(s=r.worker)===null||s===void 0||s.terminate();}catch(a){_.warning(a&&a.message);}}}Gd.set(t,n),t.track.addEventListener(\"ended\",i);}var xa=new Map;(function(){let t=mt();Ne.getDisplayMedia=!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia),Ne.getStreamFromExtension=t.name===It.CHROME&&Number(t.version)>34,Ne.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver||!(\"currentDirection\"in RTCRtpTransceiver.prototype))return !1;let e=new RTCPeerConnection,n=!1;try{e.addTransceiver(\"audio\"),n=!0;}catch{}return e.close(),n}(),Ne.supportMinBitrate=t.name===It.CHROME||t.name===It.EDGE,Ne.supportSetRtpSenderParameters=function(){let e=mt();return !!(window.RTCRtpSender&&window.RTCRtpSender.prototype.setParameters&&window.RTCRtpSender.prototype.getParameters)&&(!!ho()||!(!je()&&!Gl())||e.name===It.FIREFOX&&Number(e.version)>=64)}(),t.name===It.SAFARI&&(Number(t.version)>=14?Ne.supportDualStream=!0:Ne.supportDualStream=!1),Ne.webAudioMediaStreamDest=function(){let e=mt();return !(e.name===It.SAFARI&&Number(e.version)<12)}(),Ne.supportReplaceTrack=!!window.RTCRtpSender&&typeof RTCRtpSender.prototype.replaceTrack==\"function\",Ne.supportWebGL=typeof WebGLRenderingContext<\"u\",Ne.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,ho()||(Ne.webAudioWithAEC=!0),Ne.supportShareAudio=function(){let e=mt();return (e.os===ye.WIN_10||e.os===ye.WIN_81||e.os===ye.WIN_7||e.os===ye.LINUX||e.os===ye.MAC_OS||e.os===ye.CHROMIUM_OS)&&e.name===It.CHROME&&Number(e.version)>=74}(),Ne.supportDataChannel=!!(OE(76)||function(e){let n=mt();return !(n.name!==It.FIREFOX||!n.osVersion)&&Number(n.version)>=e}(68)||mO(14)),Ne.supportPCSetConfiguration=function(){let e=window.RTCPeerConnection;return !$t()&&!!e&&e.prototype.setConfiguration instanceof Function}(),Ne.supportWebRTCEncodedTransform=function(){let e=mt();return e.name===\"Chrome\"&&Number(e.version)>=86||e.name===\"Safari\"&&Number(e.version)>=15}(),Ne.supportWebRTCInsertableStream=function(){let e=mt();return (e.name===It.CHROME||e.name===It.EDGE)&&Number(e.version)>=94&&\"MediaStreamTrackGenerator\"in window&&\"MediaStreamTrackProcessor\"in window}(),Ne.supportRequestVideoFrameCallback=\"requestVideoFrameCallback\"in HTMLVideoElement.prototype,Ne.supportWebCrypto=typeof window<\"u\"&&window.crypto!==void 0&&window.crypto.subtle!==void 0,qu(()=>{Ne.supportDualStreamEncoding=function(){let e=mt();return !!v(\"DISABLE_WEBAUDIO\")||e.name===\"Safari\"&&Number(e.version)>=14||!!(e.name===\"Chrome\"&&/Windows/i.test(e.os||\"\")&&Number(e.version)>=100&&v(\"CHROME_DUAL_STREAM_USE_ENCODING\"))}(),_.info(\"browser compatibility\",JSON.stringify(Ne),JSON.stringify(t));});})();var ia=class t extends Xt{constructor(e,n){super(),T(this,\"signal\",void 0),T(this,\"token\",void 0),T(this,\"tokenTimeout\",void 0),T(this,\"tokenInterval\",void 0),T(this,\"_sequence\",0),T(this,\"userMap\",new Map),T(this,\"encoder\",new TextEncoder),this.signal=e,this.token=n;let i=()=>{this.signal.connectionState===Lt.CONNECTED&&this.check(),this.userMap.size===0?this.tokenInterval=window.setTimeout(i,1e3):this.tokenInterval=window.setTimeout(i,3*v(\"P2P_TOKEN_INTERVAL\"));};i();}async send(e,n,i,r,o){var s,a,c;if(this.userMap.size===0)return;let d=Array.from(Pr(s=this.userMap).call(s))[0].token;typeof n!=\"string\"&&(n=JSON.stringify(n)),r=(a=r)!==null&&a!==void 0?a:Ut(6,\"\"),o=(c=o)!==null&&c!==void 0?c:this._sequence++;let l={_id:r,_type:e,_seq:o,_message:n,token:\"\".concat(this.token,\"_\").concat(d)};v(\"SHOW_P2P_LOG\")&&_.debug(\"send message\",l,\"noNeedResponse : \".concat(i)),this.splitMessage(JSON.stringify(l)).forEach(h=>{this.signal.request(et.DATA_STREAM,{payload:so(this.encoder.encode(h))});});let u=new j((h,p)=>{let g=window.setTimeout(()=>{this.off(\"res-@\".concat(r,\"_ack\"),E),this.off(\"res-@\".concat(r),S),this.off(ps.ABORT,f),_.debug(\"[external-signal] request timeout, type: \".concat(e,\", requestId: \").concat(r)),this.userMap.size===0?p(new N(R.INVALID_REMOTE_USER)):p(new N(R.TIMEOUT));},v(\"EXTERNAL_SIGNAL_REQUEST_TIMEOUT\")),E=()=>{g&&window.clearTimeout(g),this.off(ps.ABORT,f),i&&h();},f=()=>{g&&window.clearTimeout(g),this.off(\"res-@\".concat(r,\"_ack\"),E),this.off(\"res-@\".concat(r),S),p(new N(R.EXTERNAL_SIGNAL_ABORT,\"type: \".concat(e,\", requestId: \").concat(r)));};this.once(ps.ABORT,f),this.once(\"res-@\".concat(r,\"_ack\"),E);let S=(A,b)=>{C=!0,g&&window.clearTimeout(g),this.off(\"res-@\".concat(r,\"_ack\"),E),this.off(ps.ABORT,f),A===\"success\"?h(b):p(new N(R.P2P_MESSAGE_FAILED,\"request \".concat(e,\" failed, requestId: \").concat(r)));},C=!1;i||(this.once(\"res-@\".concat(r),S),Me(v(\"SIGNAL_REQUEST_TIMEOUT\")).then(()=>{C||_.warning(\"external_signal request timeout, type: \".concat(e,\", requestId: \").concat(r,\", \").concat(l));}));});try{return await u}catch(h){if(h.code===R.TIMEOUT)return await this.send(e,n,i,r,o);throw h}}onMessage(e){var n;let{_uid:i}=e,r,o=this.userMap.get(i);if(o)r=o.splitMessageMap;else {if(this.userMap.size>0||!(\"_type\"in e)||e._type!==ie.CHECK)return;let{token:d}=e;r=new Map,o={uid:i,isStart:!0,token:d,splitMessageMap:r,nextExpectedSequenceNumber:0,receivedMessagesMap:new Map},this.userMap.set(i,o),this.signal.emit(dt.ON_USER_ONLINE,{uid:i}),this.handleUserOnline();}if(\"id\"in e&&\"total\"in e){var s;let{id:d,total:l}=e,u=(s=r.get(d))!==null&&s!==void 0?s:[];if(u.push(e),r.has(d)||r.set(d,u),u.length!==l)return;{let h=ed(u).call(u,(p,g)=>p.index-g.index).map(p=>p.payload).join(\"\");r.delete(d),(e=JSON.parse(h))._uid=i;}}let{_type:a,token:c}=e;if(W(n=[ie.ACK,ie.CHECK]).call(n,a))return a===ie.CHECK&&this.handleCheckToken(o,c),void this.receiveMessage(e);c===\"\".concat(o.token,\"_\").concat(this.token)?this.handleReceivedMessage(e):_.debug('Receive unexpected message\", '.concat(c,\", cur_token: \").concat(o.token,\"_\").concat(this.token),e);}check(){let e={_id:Ut(6,\"\"),token:this.token,_type:ie.CHECK};v(\"SHOW_P2P_LOG\")&&_.debug(\"send message\",e),this.signal.request(et.DATA_STREAM,{payload:so(this.encoder.encode(JSON.stringify(e)))});}ack(e){let n={_id:e,_type:ie.ACK,token:this.token};v(\"SHOW_P2P_LOG\")&&_.debug(\"send message\",n),this.signal.request(et.DATA_STREAM,{payload:so(this.encoder.encode(JSON.stringify(n)))});}response(e,n,i){this.send(ie.RESPONSE,JSON.stringify({success:!i,message:n}),!0,e);}handleReceivedMessage(e){let n=()=>{this.userMap.forEach(d=>{let{receivedMessagesMap:l,nextExpectedSequenceNumber:u}=d;for(;l.has(u);){let h=l.get(u);l.delete(u),this.receiveMessage(h),d.nextExpectedSequenceNumber++;}});};if(!e)return void n();let{_uid:i,_seq:r}=e,o=this.userMap.get(i),{receivedMessagesMap:s,isStart:a,nextExpectedSequenceNumber:c}=o;if(r<c)return this.ack(e._id),void _.debug(\"[external-signal] receive old message, seq: \".concat(r,\", \").concat(e._message));s.set(r,e),a&&r===c&&(this.receiveMessage(e),s.delete(c),o.nextExpectedSequenceNumber++,n());}receiveMessage(e){let{_id:n,_type:i,_message:r,_uid:o}=e;if(v(\"SHOW_P2P_LOG\")&&_.debug(\"receive message\",e),n){let s;switch(e._type!==ie.ACK&&(r&&(s=JSON.parse(r)),this.ack(e._id)),e._type){case ie.CANDIDATE:case ie.CONTROL:this.signal.emit(i,s,o);break;case ie.PUBLISH:case ie.UNPUBLISH:case ie.RESTART_ICE:case ie.CALL:s.uid=o,Ge(this.signal,i,s).then(a=>{this.response(e._id,a);}).catch(()=>{this.response(e._id,void 0,!0);});break;case ie.ACK:this.getListeners(\"res-@\".concat(n,\"_ack\")).length>0&&this.emit(\"res-@\".concat(n,\"_ack\"));break;case ie.RESPONSE:{let{success:a,message:c}=s;this.emit(\"res-@\".concat(n),a?\"success\":\"failed\",c);break}}}}splitMessage(e){if(e.length<t.MAX_MESSAGE_SIZE)return [e];let n=[],{remoteToken:i}=JSON.parse(e),r=Ut(6,\"\"),o=0,s=800,a=Math.ceil(e.length/s);for(;e.length>0;){o++;let c={id:r,index:o,total:a,payload:e.slice(0,s),token:\"\".concat(this.token,\"_\").concat(i)};JSON.stringify(c).length>t.MAX_MESSAGE_SIZE?s-=50:(n.push(c),e=e.slice(s));}return n.map(c=>JSON.stringify(c))}handleCheckToken(e,n){return e.token!==n?(_.debug(\"token changed, from \".concat(e.token,\" to \").concat(n)),this.reset(e.uid,n),!1):(this.tokenTimeout&&(window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0),this.tokenTimeout=window.setTimeout(()=>{_.debug(\"token timeout, \".concat(n)),this.reset(e.uid);},v(\"MAX_P2P_TIMEOUT\")),!0)}async handleUserOnline(){let e=await Ge(this.signal,ie.CALL,void 0),n=await this.send(ie.CALL,e);this.signal.emit(nt.P2P_CONNECTION,n,!0);}async reset(e,n){let i=this.userMap.get(e);i&&(this.emit(ps.ABORT),this.signal.emit(dt.ON_USER_OFFLINE,{uid:i.uid,reason:cj.P2P_TOKEN_CHANGED}),this._sequence=0,this.userMap.clear(),n||(_.debug(\"change local token from \".concat(n,\" to \").concat(n)),this.token=Ut(6,\"\")));}clear(){this._sequence=0,this.userMap.clear(),this.tokenInterval&&window.clearTimeout(this.tokenInterval),this.tokenInterval=void 0,this.tokenTimeout&&window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0,this.emit(ps.ABORT);}};T(ia,\"MAX_SIZE\",1),T(ia,\"MAX_MESSAGE_SIZE\",1024);var du=class extends Xt{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===Lt.CONNECTED?this.emit(nt.WS_CONNECTED):e===Lt.RECONNECTING?this.emit(nt.WS_RECONNECTING,this._websocketReconnectReason):e===Lt.CLOSED&&this.emit(nt.WS_CLOSED,this._disconnectedReason));}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,n){super(),T(this,\"_disconnectedReason\",void 0),T(this,\"_websocketReconnectReason\",void 0),T(this,\"_connectionState\",Lt.CLOSED),T(this,\"reconnectToken\",void 0),T(this,\"p2pToken\",void 0),T(this,\"websocket\",void 0),T(this,\"openConnectionTime\",void 0),T(this,\"clientId\",void 0),T(this,\"lastMsgTime\",Date.now()),T(this,\"uploadCache\",[]),T(this,\"uploadCacheInterval\",void 0),T(this,\"rttRolling\",new Hl(5)),T(this,\"pingpongTimer\",void 0),T(this,\"pingpongTimeoutCount\",0),T(this,\"joinResponse\",void 0),T(this,\"multiIpOption\",void 0),T(this,\"initError\",void 0),T(this,\"spec\",void 0),T(this,\"store\",void 0),T(this,\"_external_signal\",void 0),T(this,\"onWebsocketMessage\",i=>{if(i.data instanceof ArrayBuffer)return void this.emit(nt.ON_BINARY_DATA,i.data);let r=JSON.parse(i.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(r,\"_id\")){let o=\"res-@\".concat(r._id);this.emit(o,r._result,r._message);}else if(Object.prototype.hasOwnProperty.call(r,\"_type\")){switch(r._type){case dt.ON_DATA_STREAM:return void this.handleDataStream(r._message);case dt.MUTE_AUDIO:case dt.MUTE_VIDEO:case dt.ON_P2P_LOST:case dt.ON_USER_ONLINE:return;case dt.ON_USER_OFFLINE:let{uid:o}=r._message;return _.debug(\"[\".concat(this.clientId,\"] user-offline uid: \").concat(o)),void this._external_signal.reset(o)}if(this.emit(r._type,r._message),r._type===dt.ON_NOTIFICATION&&this.handleNotification(r._message),r._type===dt.ON_USER_BANNED)switch(r._message.error_code){case 14:this.close(At.UID_BANNED);break;case 15:this.close(At.IP_BANNED);break;case 16:this.close(At.CHANNEL_BANNED);}if(r._type===dt.ON_USER_LICENSE_BANNED)switch(r._message.error_code){case Z.ERR_LICENSE_MISSING:this.close(At.LICENSE_MISSING);break;case Z.ERR_LICENSE_EXPIRED:this.close(At.LICENSE_EXPIRED);break;case Z.ERR_LICENSE_MINUTES_EXCEEDED:this.close(At.LICENSE_MINUTES_EXCEEDED);break;case Z.ERR_LICENSE_PERIOD_INVALID:this.close(At.LICENSE_PERIOD_INVALID);break;case Z.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(At.LICENSE_MULTIPLE_SDK_SERVICE);break;case Z.ERR_LICENSE_ILLEGAL:this.close(At.LICENSE_ILLEGAL);break;default:this.close();}}}),this.clientId=e.clientId,this.spec=e,this.store=n,this.websocket=new Nc(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,v(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\"),v(\"JOIN_GATEWAY_USE_443PORT_ONLY\"),n),this.handleWebsocketEvents(),window.addEventListener(\"offline\",()=>{this.connectionState===Lt.CONNECTED&&this.reconnect(\"retry\",Be.OFFLINE);}),this.p2pToken=Ut(6,\"\"),this._external_signal=new ia(this,this.p2pToken);}async request(e,n,i,r){let o=Ut(6,\"\"),s={_id:o,_type:e,_message:n},a=this.websocket.connectionID,c=()=>new j((g,E)=>{if(this.connectionState===Lt.CONNECTED)return g();let f=()=>{this.off(nt.WS_CLOSED,S),g();},S=()=>{this.off(nt.WS_CONNECTED,f),E(new N(R.WS_ABORT));};this.once(nt.WS_CONNECTED,f),this.once(nt.WS_CLOSED,S);});if(this.connectionState!==Lt.CONNECTING&&this.connectionState!==Lt.RECONNECTING||e===et.JOIN||e===et.REJOIN||await c(),this.websocket.sendMessage(s,!0),r)return;let d=new j((g,E)=>{let f=!1,S=(A,b)=>{f=!0,g({isSuccess:A===\"success\",message:b||{}}),this.off(nt.WS_CLOSED,C),this.off(nt.WS_RECONNECTING,C),this.emit(nt.REQUEST_SUCCESS,e,n);};this.once(\"res-@\".concat(o),S);let C=()=>{E(new N(R.WS_ABORT,\"type: \".concat(e))),this.off(nt.WS_CLOSED,C),this.off(nt.WS_RECONNECTING,C),this.off(\"res-@\".concat(o),S);};this.once(nt.WS_CLOSED,C),this.once(nt.WS_RECONNECTING,C),Me(v(\"SIGNAL_REQUEST_TIMEOUT\")).then(()=>{this.websocket.connectionID!==a||f||(_.warning(\"[\".concat(this.clientId,\"] ws request timeout, type: \").concat(e)),this.emit(nt.REQUEST_TIMEOUT,e,n));});}),l=null;try{l=await d;}catch(g){if(this.connectionState===Lt.CLOSED||e===et.LEAVE)throw new N(R.WS_ABORT);return !this.spec.forceWaitGatewayResponse||i?g.throw():e===et.JOIN||e===et.REJOIN?null:(await c(),await this.request(e,n))}if(l.isSuccess)return l.message;let u=Number(l.message.error_code||l.message.code),h=Oc(u),p=new N(R.UNEXPECTED_RESPONSE,\"\".concat(h.desc,\": \").concat(l.message.error_str),{code:u,data:l.message,desc:h.desc});return h.action===\"success\"?l.message:(_.warning(\"[\".concat(this.clientId,\"] [\").concat(this.websocket.connectionID,\"] unexpected response from type \").concat(e,\", error_code: \").concat(u,\", message: \").concat(h.desc,\", action: \").concat(h.action)),u===Z.ERR_TOO_MANY_BROADCASTERS?((e===et.JOIN||e===et.REJOIN)&&(this.initError=p,this.close()),p.throw()):h.action===\"failed\"?p.throw():h.action===\"quit\"?(this.initError=p,this.close(),p.throw()):(u===Z.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=l.message.option,_.warning(\"[\".concat(this.clientId,\"] detect multi ip, recover\")),this.reconnect(\"recover\",Be.MULTI_IP)):this.reconnect(h.action,Be.SERVER_ERROR),e===et.JOIN||e===et.REJOIN?null:await this.request(e,n)))}waitMessage(e,n){return new j(i=>{let r=o=>{(!n||n(o))&&(this.off(e,r),i(o));};this.on(e,r);})}uploadWRTCStats(e){if(!this.store.sessionId)return void _.warn(\"[\".concat(this.clientId,\"] no session id when upload wrtc stats\"));let n={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e};this.upload(wc.WRTC_STATS,n);}upload(e,n){let i={_type:e,_message:n};try{this.websocket.sendMessage(i);}catch{let o=v(\"MAX_UPLOAD_CACHE\")||50;this.uploadCache.push(i),this.uploadCache.length>o&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval(()=>{if(this.connectionState!==Lt.CONNECTED)return;let s=this.uploadCache.splice(0,1)[0];this.uploadCache.length===0&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(s._type,s._message);},v(\"UPLOAD_CACHE_INTERVAL\")||2e3));}}send(e,n){let i={_type:e,_message:n};this.websocket.sendMessage(i);}async sendExtensionMessage(e,n,i){return await this._external_signal.send(e,n,i)}init(e){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new j((n,i)=>{this.once(nt.WS_CONNECTED,()=>n(this.joinResponse)),this.once(nt.WS_CLOSED,()=>i(this.initError||new N(R.WS_ABORT))),this.connectionState=Lt.CONNECTING,this.websocket.init(e).catch(i);})}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._external_signal.clear(),this._disconnectedReason=e||At.LEAVE,this.connectionState=Lt.CLOSED,_.debug(\"[\".concat(this.clientId,\"] \")+\"will close websocket in signal\"),this.websocket.close(),this.p2pToken=Ut(6,\"\"),this._external_signal.clear(),this._external_signal=new ia(this,this.p2pToken);}async join(){if(!this.joinResponse){this.emit(nt.ABORT_P2P_EXECUTION);let e=await Ge(this,nt.REQUEST_JOIN_INFO),n=await this.request(et.JOIN,e);if(!n)return this.emit(nt.REPORT_JOIN_GATEWAY,R.TIMEOUT,this.url||\"\"),!1;this.joinResponse=n,this.emit(nt.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token;}return this.connectionState=Lt.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}reconnect(e,n){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,n);}handleDataStream(e){try{var n;let i=Fo(e.payload),r=new TextDecoder().decode(i),o=JSON.parse(r);\"total\"in o&&\"id\"in o||W(n=Object.values(ie)).call(n,o._type)?(o._uid=e.uid,this._external_signal.onMessage(o)):this.emit(dt.ON_DATA_STREAM,e);}catch{this.emit(dt.ON_DATA_STREAM,e);}}handleNotification(e){_.debug(\"[\".concat(this.clientId,\"] receive notification: \"),e);let n=Oc(e.code);if(n.action!==\"success\"){if(n.action!==\"failed\")return n.action===\"quit\"?(n.desc===\"ERR_REPEAT_JOIN_CHANNEL\"&&this.close(At.UID_BANNED),void this.close()):void this.reconnect(n.action,Be.SERVER_ERROR);_.error(\"[\".concat(this.clientId,\"] ignore error: \"),n.desc);}}handlePingPong(){if(!this.websocket||this.websocket.state!==\"connected\")return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;let e=v(\"PING_PONG_TIME_OUT\"),n=Date.now();this.pingpongTimeoutCount>=e&&(_.warning(\"[\".concat(this.clientId,\"] PINGPONG Timeout. Last Socket Message: \").concat(n-this.lastMsgTime,\"ms\")),n-this.lastMsgTime>v(\"WEBSOCKET_TIMEOUT_MIN\"))?this.reconnect(\"retry\",Be.TIMEOUT):this.request(et.PING,void 0,!0).then(()=>{this.pingpongTimeoutCount=0;let i=Date.now()-n;this.rttRolling.add(i),v(\"REPORT_STATS\")&&this.send(et.PING_BACK,{pingpongElapse:i});}).catch(i=>{});}handleWebsocketEvents(){this.websocket.on(it.RECONNECT_WAITTING_FINISH,e=>{this.emit(nt.WS_RECONNECT_WAITTING_FINISH,e);}),this.websocket.on(it.RECONNECT_CREATE_CONNECTION,e=>{this.emit(nt.WS_RECONNECT_CREATE_CONNECTION,e);}),this.websocket.on(it.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(it.CLOSED,()=>{this.connectionState=Lt.CLOSED;}),this.websocket.on(it.FAILED,()=>{this._disconnectedReason=At.NETWORK_ERROR,this.connectionState=Lt.CLOSED;}),this.websocket.on(it.RECONNECTING,e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===Lt.CONNECTED?this.connectionState=Lt.RECONNECTING:this.connectionState=Lt.CONNECTING;}),this.websocket.on(it.WILL_RECONNECT,(e,n,i)=>{e!==\"retry\"?(_.debug(\"\".concat(this.clientId,\" websocket will_connect event, renewSession reconnectMode is \").concat(e)),this.reconnectToken=void 0):_.debug(\"\".concat(this.clientId,\" reconnect mode is retry, no need to renew session\")),i(e);}),this.websocket.on(it.CONNECTED,()=>{this.openConnectionTime=Date.now(),this.join().catch(e=>{if(this.emit(nt.REPORT_JOIN_GATEWAY,e,this.url||\"\"),e instanceof N&&e.code===R.UNEXPECTED_RESPONSE&&e.data.code===Z.ERR_NO_AUTHORIZED)return _.warning(\"[\".concat(this.clientId,\"] reconnect no authorized, recover\")),void this.reconnect(\"recover\",Be.SERVER_ERROR);_.error(\"[\".concat(this.clientId,\"] join gateway request failed\"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(\"tryNext\",Be.SERVER_ERROR):(this.initError=e,this.close());});}),this.websocket.on(it.REQUEST_NEW_URLS,(e,n)=>{Ge(this,nt.REQUEST_RECOVER,this.multiIpOption).then(e).catch(n);}),this.websocket.on(it.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{this.emit(dt.ON_TOKEN_PRIVILEGE_DID_EXPIRE);});}},e0={exports:{}};e0.exports=(()=>{var t={8:(i,r,o)=>{o.r(r),o.d(r,{Parser:()=>V,Printer:()=>ce,parse:()=>F,print:()=>Y});let s=`\n`,a=\"\".concat(\"\\r\").concat(s),c=\" \",d;function l(M){return M>=\"0\"&&M<=\"9\"}function u(M){return M>=\"!\"&&M<=\"~\"}function h(M){return u(M)||M>=\"\\x80\"&&M<=\"\\xFF\"}function p(M){return M===\"!\"||M>=\"#\"&&M<=\"'\"||M>=\"*\"&&M<=\"+\"||M>=\"-\"&&M<=\".\"||M>=\"0\"&&M<=\"9\"||M>=\"A\"&&M<=\"Z\"||M>=\"^\"&&M<=\"~\"}function g(M){return M>=\"1\"&&M<=\"9\"}function E(M){return M>=\"A\"&&M<=\"Z\"||M>=\"a\"&&M<=\"z\"}function f(M){return M===\"d\"||M===\"h\"||M===\"m\"||M===\"s\"}function S(M){return M>\"\u0001\"&&M<\"\t\"||M>\"\\v\"&&M<\"\\f\"||M>\"\u000e\"&&M<\"\\xFF\"}function C(M){return E(M)||l(M)||M===\"+\"||M===\"/\"}function A(M){return l(M)||E(M)||M===\"+\"||M===\"/\"||M===\"-\"||M===\"_\"}function b(M){return E(M)||l(M)||M===\"+\"||M===\"/\"}function w(M,m){var I=Object.keys(M);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(M);m&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(M,x).enumerable})),I.push.apply(I,y);}return I}function D(M){for(var m=1;m<arguments.length;m++){var I=arguments[m]!=null?arguments[m]:{};m%2?w(Object(I),!0).forEach(function(y){k(M,y,I[y]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(I)):w(Object(I)).forEach(function(y){Object.defineProperty(M,y,Object.getOwnPropertyDescriptor(I,y));});}return M}function k(M,m,I){return m in M?Object.defineProperty(M,m,{value:I,enumerable:!0,configurable:!0,writable:!0}):M[m]=I,M}(function(M){M.VERSION=\"v\",M.ORIGIN=\"o\",M.SESSION_NAME=\"s\",M.INFORMATION=\"i\",M.URI=\"u\",M.EMAIL=\"e\",M.PHONE=\"p\",M.CONNECTION=\"c\",M.BANDWIDTH=\"b\",M.TIME=\"t\",M.REPEAT=\"r\",M.ZONE_ADJUSTMENTS=\"z\",M.KEY=\"k\",M.ATTRIBUTE=\"a\",M.MEDIA=\"m\";})(d||(d={}));class B{consumeText(m,I){let y=I;for(;y<m.length;){let x=m[y];if(x===\"\\0\"||x===\"\\r\"||x===s)break;y+=1;}if(y-I==0)throw new Error(\"Invalid text, at \".concat(m));return y}consumeUnicastAddress(m,I,y){return this.consumeTill(m,I,c)}consumeOneOrMore(m,I,y){let x=I;for(;y(m[x]);)x++;if(x-I==0)throw new Error(\"Invalid rule at \".concat(I,\".\"));return x}consumeSpace(m,I){if(m[I]===c)return I+1;throw new Error(\"Invalid space at \".concat(I,\".\"))}consumeIP4Address(m,I){let y=I;for(let x=0;x<4;x++)if(y=this.consumeDecimalUChar(m,y),x!==3){if(m[y]!==\".\")throw new Error(\"Invalid IP4 address.\");y++;}return y}consumeDecimalUChar(m,I){let y=I;for(let rt=0;rt<3&&l(m[y]);rt++,y++);if(y-I==0)throw new Error(\"Invalid decimal uchar.\");let x=parseInt(m.slice(I,y));if(x>=0&&x<=255)return y;throw new Error(\"Invalid decimal uchar\")}consumeIP6Address(m,I){let y=this.consumeHexpart(m,I);return m[y]===\":\"&&(y+=1,y=this.consumeIP4Address(m,y)),y}consumeHexpart(m,I){let y=I;if(m[y]===\":\"&&m[y+1]===\":\"){y+=2;try{y=this.consumeHexseq(m,y);}catch{}return y}if(y=this.consumeHexseq(m,y),m[y]===\":\"&&m[y+1]===\":\"){y+=2;try{y=this.consumeHexseq(m,y);}catch{}return y}return y}consumeHexseq(m,I){let y=I;for(;y=this.consumeHex4(m,y),m[y]===\":\"&&m[y+1]!==\":\";)y+=1;return y}consumeHex4(m,I){let y=0;for(;y<4;y++)if(!((x=m[I+y])>=\"0\"&&x<=\"9\"||x>=\"a\"&&x<=\"f\"||x>=\"A\"&&x<=\"F\")){if(y===0)throw new Error(\"Invalid hex 4\");break}var x;return I+y}consumeFQDN(m,I){let y=I;for(;l(m[y])||E(m[y])||m[y]===\"-\"||m[y]===\".\";)y+=1;if(y-I<4)throw new Error(\"Invalid FQDN\");return y}consumeExtnAddr(m,I){return this.consumeOneOrMore(m,I,h)}consumeMulticastAddress(m,I,y){switch(y){case\"IP4\":case\"ip4\":return this.consumeIP4MulticastAddress(m,I);case\"IP6\":case\"ip6\":return this.consumeIP6MulticastAddress(m,I);default:try{return this.consumeFQDN(m,I)}catch{return this.consumeExtnAddr(m,I)}}}consumeIP6MulticastAddress(m,I){let y=this.consumeHexpart(m,I);return m[y]===\"/\"?this.consumeInteger(m,y+1):y}consumeIP4MulticastAddress(m,I){let y=I+3,x=m.slice(I,y),rt=parseInt(x);if(rt<224||rt>239)throw new Error(\"Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.\");for(let bt=0;bt<3;bt++){if(m[y]!==\".\")throw new Error(\"Invalid IP4 multicast address.\");y+=1,y=this.consumeDecimalUChar(m,y);}return m[y]===\"/\"&&(y+=1),y=this.consumeTTL(m,y),m[y]===\"/\"&&(y=this.consumeInteger(m,y)),y}consumeInteger(m,I){if(!g(m[I]))throw new Error(\"Invalid integer.\");for(I+=1;l(m[I]);)I+=1;return I}consumeTTL(m,I){if(m[I]===\"0\")return I+1;if(!g(m[I]))throw new Error(\"Invalid TTL.\");I+=1;for(let y=0;y<2&&l(m[I]);y++)I+=1;return I}consumeToken(m,I){return this.consumeOneOrMore(m,I,p)}consumeTime(m,I){let y=I;if(m[y]===\"0\")return y+1;for(g(m[y])&&(y+=1);l(m[y]);)y++;if(y-I<10)throw new Error(\"Invalid time\");return y}consumeAddress(m,I){return this.consumeTill(m,I,c)}consumeTypedTime(m,I){let y=I;return y=this.consumeOneOrMore(m,y,l),f(m[y])?y+1:y}consumeRepeatInterval(m,I){if(!g(m[I]))throw new Error(\"Invalid repeat interval\");for(I+=1;l(m[I]);)I+=1;return f(m[I])&&(I+=1),I}consumePort(m,I){return this.consumeOneOrMore(m,I,l)}consume(m,I,y){for(let x=0;x<y.length;x++){if(I+x>=m.length)throw new Error(\"consume exceeding value length\");if(m[I+x]!==y[x])throw new Error(\"consume \".concat(y,\" failed at \").concat(x))}return I+y.length}consumeTill(m,I,y){let x=I;for(;x<m.length&&(typeof y!=\"string\"||m[x]!==y)&&(typeof y!=\"function\"||!y(m[x]));)x++;return x}}class V extends B{constructor(){super(),k(this,\"records\",[]),k(this,\"currentLine\",0);}parse(m){let I=this.probeEOL(m);this.records=m.split(I).filter(_e=>!!rn(_e).call(_e)).map(this.parseLine),this.currentLine=0;let y=this.parseVersion(),x=this.parseOrigin(),rt=this.parseSessionName(),bt=this.parseInformation(),Re=this.parseUri(),fn=this.parseEmail(),gr=this.parsePhone(),sd=this.parseConnection(),ad=this.parseBandWidth(),qn=this.parseTimeFields(),Mr=this.parseKey(),rs=this.parseSessionAttribute(),ee=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error(\"parsing failed, non exhaustive sdp lines.\");return {version:y,origin:x,sessionName:rt,information:bt,uri:Re,emails:fn,phones:gr,connection:sd,bandwidths:ad,timeFields:qn,key:Mr,attributes:rs,mediaDescriptions:ee}}getCurrentRecord(){let m=this.records[this.currentLine];if(!m)throw new Error(\"Record doesn't exit.\");return m}probeEOL(m){for(let I=0;I<m.length;I++)if(m[I]===s)return m[I-1]===\"\\r\"?a:s;throw new Error(\"Invalid newline character.\")}parseLine(m,I){if(m.length<2)throw new Error(\"Invalid sdp line, sdp line should be of form <type>=<value>.\");let y=m[0];if(m[1]!==\"=\")throw new Error('Invalid sdp line, <type> should be a single character followed by an \"=\" sign.');return {type:y,value:m.slice(2),line:I,cur:0}}parseSessionAttribute(){let m=new lt;for(;this.currentLine<this.records.length;){let I=this.getCurrentRecord();if(I.type!==d.ATTRIBUTE)break;let y={attField:this.extractOneOrMore(I,x=>p(x)&&x!==\":\"),_cur:0};I.value[I.cur]===\":\"&&(I.cur+=1,y.attValue=this.extractOneOrMore(I,S)),m.parse(y),this.currentLine++;}return m.digest()}parseMediaAttributes(m){let I=new vt(m);for(;this.currentLine<this.records.length;){let y=this.getCurrentRecord();if(y.type!==d.ATTRIBUTE)break;let x={attField:this.extractOneOrMore(y,rt=>p(rt)&&rt!==\":\"),_cur:0};y.value[y.cur]===\":\"&&(y.cur+=1,x.attValue=this.extractOneOrMore(y,S)),I.parse(x),this.currentLine++;}return I.digest()}parseKey(){let m=this.getCurrentRecord();if(m.type===d.KEY){if(m.value===\"prompt\"||m.value===\"clear:\"||m.value===\"base64:\"||m.value===\"uri:\")return m.value;throw this.currentLine++,new Error(\"Invalid key.\")}}parseZone(){let m=this.getCurrentRecord();if(m.type===d.ZONE_ADJUSTMENTS){let I=[];for(;;)try{let y=this.extract(m,this.consumeTime);this.consumeSpaceForRecord(m);let x=!1;m.value[m.cur]===\"-\"&&(x=!0,m.cur+=1);let rt=this.extract(m,this.consumeTypedTime);I.push({time:y,typedTime:rt,back:x});}catch{break}if(I.length===0)throw new Error(\"Invalid zone adjustments\");return this.currentLine++,I}return []}parseRepeat(){let m=[];for(;;){let I=this.getCurrentRecord();if(I.type!==d.REPEAT)break;{let y=this.extract(I,this.consumeRepeatInterval),x=this.parseTypedTime(I);m.push({repeatInterval:y,typedTimes:x}),this.currentLine++;}}return m}parseTypedTime(m){let I=[];for(;;)try{this.consumeSpaceForRecord(m),I.push(this.extract(m,this.consumeTypedTime));}catch{break}if(I.length===0)throw new Error(\"Invalid typed time.\");return I}parseTime(){let m=this.getCurrentRecord(),I=this.extract(m,this.consumeTime);this.consumeSpaceForRecord(m);let y=this.extract(m,this.consumeTime);return this.currentLine++,{startTime:I,stopTime:y}}parseBandWidth(){let m=[];for(;this.currentLine<this.records.length;){let I=this.getCurrentRecord();if(I.type!==d.BANDWIDTH)break;{let y=this.extractOneOrMore(I,p);if(I.value[I.cur]!==\":\")throw new Error(\"Invalid bandwidth field.\");I.cur++;let x=this.extractOneOrMore(I,l);m.push({bwtype:y,bandwidth:x}),this.currentLine++;}}return m}parseVersion(){let m=this.getCurrentRecord();if(m.type!==d.VERSION)throw new Error(\"first sdp record must be version\");let I=m.value.slice(0,this.consumeOneOrMore(m.value,0,l));if(I.length!==m.value.length)throw new Error('invalid proto version, \"v='.concat(m.value,'\"'));return this.currentLine++,I}parseOrigin(){let m=this.getCurrentRecord();if(m.type!==d.ORIGIN)throw new Error(\"second line of sdp must be origin\");let I=this.extractOneOrMore(m,h);this.consumeSpaceForRecord(m);let y=this.extractOneOrMore(m,l);this.consumeSpaceForRecord(m);let x=this.extractOneOrMore(m,l);this.consumeSpaceForRecord(m);let rt=this.extractOneOrMore(m,p);this.consumeSpaceForRecord(m);let bt=this.extractOneOrMore(m,p);this.consumeSpaceForRecord(m);let Re=this.extract(m,this.consumeUnicastAddress);return this.currentLine++,{username:I,sessId:y,sessVersion:x,nettype:rt,addrtype:bt,unicastAddress:Re}}parseSessionName(){let m=this.getCurrentRecord();if(m.type===d.SESSION_NAME){let I=this.extract(m,this.consumeText);return this.currentLine++,I}}parseInformation(){let m=this.getCurrentRecord();if(m.type!==d.INFORMATION)return;let I=this.extract(m,this.consumeText);return this.currentLine++,I}parseUri(){let m=this.getCurrentRecord();if(m.type===d.URI)return this.currentLine++,m.value}parseEmail(){let m=[];for(;;){let I=this.getCurrentRecord();if(I.type!==d.EMAIL)break;m.push(I.value),this.currentLine++;}return m}parsePhone(){let m=[];for(;;){let I=this.getCurrentRecord();if(I.type!==d.PHONE)break;m.push(I.value),this.currentLine++;}return m}parseConnection(){let m=this.getCurrentRecord();if(m.type===d.CONNECTION){let I=this.extractOneOrMore(m,p);this.consumeSpaceForRecord(m);let y=this.extractOneOrMore(m,p);this.consumeSpaceForRecord(m);let x=this.extract(m,this.consumeAddress);return this.currentLine++,{nettype:I,addrtype:y,address:x}}}parseMedia(){let m=this.getCurrentRecord(),I=this.extract(m,this.consumeToken);this.consumeSpaceForRecord(m);let y=this.extract(m,this.consumePort);m.value[m.cur]===\"/\"&&(m.cur+=1,y+=this.extract(m,this.consumeInteger)),this.consumeSpaceForRecord(m);let x=[];for(x.push(this.extract(m,this.consumeToken));m.value[m.cur]===\"/\";)m.cur+=1,x.push(this.extract(m,this.consumeToken));if(x.length===0)throw new Error(\"Invalid proto\");let rt=this.parseFmt(m);return this.currentLine++,{mediaType:I,port:y,protos:x,fmts:rt}}parseTimeFields(){let m=[];for(;this.getCurrentRecord().type===d.TIME;){let I=this.parseTime(),y=this.parseRepeat(),x=this.parseZone();m.push({time:I,repeats:y,zones:x});}return m}parseMediaDescription(){let m=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===d.MEDIA;){let I=this.parseMedia(),y=this.parseInformation(),x=this.parseConnections(),rt=this.parseBandWidth(),bt=this.parseKey(),Re=this.parseMediaAttributes(I);m.push({media:I,information:y,connections:x,bandwidths:rt,key:bt,attributes:Re});}return m}parseConnections(){let m=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===d.CONNECTION;)m.push(this.parseConnection());return m}parseFmt(m){let I=[];for(;;)try{this.consumeSpaceForRecord(m),I.push(this.extract(m,this.consumeToken));}catch{break}if(I.length===0)throw new Error(\"Invalid fmts\");return I}extract(m,I){for(var y=arguments.length,x=new Array(y>2?y-2:0),rt=2;rt<y;rt++)x[rt-2]=arguments[rt];let bt=I.call(this,m.value,m.cur,...x),Re=m.value.slice(m.cur,bt);return m.cur=bt,Re}extractOneOrMore(m,I){let y=this.consumeOneOrMore(m.value,m.cur,I),x=m.value.slice(m.cur,y);return m.cur=y,x}consumeSpaceForRecord(m){if(m.value[m.cur]!==c)throw new Error(\"Invalid space at \".concat(m.cur,\".\"));m.cur+=1;}}class z extends B{constructor(){super(...arguments),k(this,\"attributes\",void 0),k(this,\"digested\",!1);}extractOneOrMore(m,I,y){let x=this.consumeOneOrMore(m.attValue,m._cur,I),rt=m.attValue.slice(m._cur,x),[bt,Re]=y||[];if(typeof bt==\"number\"&&rt.length<bt)throw new Error(\"error in length, should be more or equal than \".concat(bt,\" characters.\"));if(typeof Re==\"number\"&&rt.length>Re)throw new Error(\"error in length, should be less or equal than \".concat(Re,\" characters.\"));return m._cur=x,rt}consumeAttributeSpace(m){if(m.attValue[m._cur]!==c)throw new Error(\"Invalid space at \".concat(m._cur,\".\"));m._cur+=1;}extract(m,I){if(!m.attValue)throw new Error(\"Nothing to extract from attValue.\");for(var y=arguments.length,x=new Array(y>2?y-2:0),rt=2;rt<y;rt++)x[rt-2]=arguments[rt];let bt=I.call(this,m.attValue,m._cur,...x),Re=m.attValue.slice(m._cur,bt);return m._cur=bt,Re}atEnd(m){if(!m.attValue)throw new Error;return m._cur>=m.attValue.length}peekChar(m){if(!m.attValue)throw new Error;return m.attValue[m._cur]}peek(m,I){if(!m.attValue)throw new Error;for(let y=0;y<I.length;y++)if(I[y]!==m.attValue[m._cur+y])return !1;return !0}parseIceUfrag(m){if(this.attributes.iceUfrag)throw new Error(\"Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'\");this.attributes.iceUfrag=this.extractOneOrMore(m,C,[4,256]);}parseIcePwd(m){if(this.attributes.icePwd)throw new Error(\"Invalid ice-pwd, should be only a single line if 'a=ice-pwd'\");this.attributes.icePwd=this.extractOneOrMore(m,C,[22,256]);}parseIceOptions(m){if(this.attributes.iceOptions)throw new Error(\"Invalid ice-options, should be only one 'ice-options' line\");let I=[];for(;!this.atEnd(m);){I.push(this.extractOneOrMore(m,C));try{this.consumeAttributeSpace(m);}catch(y){if(this.atEnd(m))break;throw y}}this.attributes.iceOptions=I;}parseFingerprint(m){let I=this.extract(m,this.consumeToken);this.consumeAttributeSpace(m);let y=this.extract(m,this.consumeTill);this.attributes.fingerprints.push({hashFunction:I,fingerprint:y});}parseExtmap(m){let I=this.extractOneOrMore(m,l),y;this.peekChar(m)===\"/\"&&(this.extract(m,this.consume,\"/\"),y=this.extract(m,this.consumeToken)),this.consumeAttributeSpace(m);let x=this.extract(m,this.consumeTill,c),rt=D(D({entry:parseInt(I,10)},y&&{direction:y}),{},{extensionName:x});this.peekChar(m)===c&&(this.consumeAttributeSpace(m),rt.extensionAttributes=this.extract(m,this.consumeTill)),this.attributes.extmaps.push(rt);}parseSetup(m){if(this.attributes.setup)throw new Error(\"must only be one single 'a=setup' line.\");let I=this.extract(m,this.consumeTill);if(I!==\"active\"&&I!==\"passive\"&&I!==\"actpass\"&&I!==\"holdconn\")throw new Error(\"role must be one of 'active', 'passive', 'actpass', 'holdconn'.\");this.attributes.setup=I;}}class lt extends z{constructor(){super(...arguments),k(this,\"attributes\",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]});}parse(m){if(this.digested)throw new Error(\"already digested\");try{switch(m.attField){case\"group\":this.parseGroup(m);break;case\"ice-lite\":this.parseIceLite();break;case\"ice-ufrag\":this.parseIceUfrag(m);break;case\"ice-pwd\":this.parseIcePwd(m);break;case\"ice-options\":this.parseIceOptions(m);break;case\"fingerprint\":this.parseFingerprint(m);break;case\"setup\":this.parseSetup(m);break;case\"tls-id\":this.parseTlsId(m);break;case\"identity\":this.parseIdentity(m);break;case\"extmap\":this.parseExtmap(m);break;case\"msid-semantic\":this.parseMsidSemantic(m);break;default:m.ignored=!0,this.attributes.unrecognized.push(m);}}catch(I){throw console.error(\"parsing session attribute \".concat(m.attField,' error, \"a=').concat(m.attField,\":\").concat(m.attValue,'\"')),I}if(!m.ignored&&m.attValue&&!this.atEnd(m))throw new Error(\"attribute parsing error\")}digest(){return this.digested=!0,this.attributes}parseGroup(m){let I=this.extract(m,this.consumeToken),y=[];for(;!this.atEnd(m)&&this.peekChar(m)===c;)this.consumeAttributeSpace(m),y.push(this.extract(m,this.consumeToken));this.attributes.groups.push({semantic:I,identificationTag:y});}parseIceLite(){if(this.attributes.iceLite)throw new Error(\"Invalid ice-lite, should be only a single line of 'a=ice-lite'\");this.attributes.iceLite=!0;}parseTlsId(m){if(this.attributes.tlsId)throw new Error(\"must be only one tld-id line\");this.attributes.tlsId=this.extractOneOrMore(m,A);}parseIdentity(m){let I=this.extractOneOrMore(m,b),y=[];for(;!this.atEnd(m)&&this.peekChar(m)===c;){this.consumeAttributeSpace(m);let x=this.extract(m,this.consumeToken);this.extract(m,this.consume,\"=\");let rt=this.extractOneOrMore(m,bt=>bt!==c&&S(bt));y.push({name:x,value:rt});}this.attributes.identities.push({assertionValue:I,extensions:y});}parseMsidSemantic(m){this.peekChar(m)===c&&this.consumeAttributeSpace(m);let I={semantic:this.extract(m,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(m);}catch{break}if(this.peekChar(m)===\"*\"){this.extract(m,this.consume,\"*\"),I.applyForAll=!0;break}{let y=this.extract(m,this.consumeTill,c);I.identifierList.push(y);}}this.attributes.msidSemantic=I;}}class vt extends z{constructor(m){super(),k(this,\"attributes\",void 0),m.protos.indexOf(\"RTP\")!==-1||m.protos.indexOf(\"rtp\"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]};}parse(m){if(this.digested)throw new Error(\"already digested\");try{switch(m.attField){case\"extmap\":this.parseExtmap(m);break;case\"setup\":this.parseSetup(m);break;case\"ice-ufrag\":this.parseIceUfrag(m);break;case\"ice-pwd\":this.parseIcePwd(m);break;case\"ice-options\":this.parseIceOptions(m);break;case\"candidate\":this.parseCandidate(m);break;case\"remote-candidate\":this.parseRemoteCandidate(m);break;case\"end-of-candidates\":this.parseEndOfCandidates();break;case\"fingerprint\":this.parseFingerprint(m);break;case\"rtpmap\":this.parseRtpmap(m);break;case\"ptime\":this.parsePtime(m);break;case\"maxptime\":this.parseMaxPtime(m);break;case\"sendrecv\":case\"recvonly\":case\"sendonly\":case\"inactive\":this.parseDirection(m);break;case\"ssrc\":this.parseSSRC(m);break;case\"fmtp\":this.parseFmtp(m);break;case\"rtcp-fb\":this.parseRtcpFb(m);break;case\"rtcp-mux\":this.parseRTCPMux();break;case\"rtcp-mux-only\":this.parseRTCPMuxOnly();break;case\"rtcp-rsize\":this.parseRTCPRsize();break;case\"rtcp\":this.parseRTCP(m);break;case\"mid\":this.parseMid(m);break;case\"msid\":this.parseMsid(m);break;case\"imageattr\":this.parseImageAttr(m);break;case\"rid\":this.parseRid(m);break;case\"simulcast\":this.parseSimulcast(m);break;case\"sctp-port\":this.parseSctpPort(m);break;case\"max-message-size\":this.parseMaxMessageSize(m);break;case\"ssrc-group\":this.parseSSRCGroup(m);break;default:m.ignored=!0,this.attributes.unrecognized.push(m);}}catch(I){throw console.error(\"parsing media attribute \".concat(m.attField,' error, \"a=').concat(m.attField,\":\").concat(m.attValue,'\"')),I}if(!m.ignored&&m.attValue&&!this.atEnd(m))throw new Error(\"attribute parsing error\")}parseCandidate(m){let I=this.extractOneOrMore(m,C,[1,32]);this.consumeAttributeSpace(m);let y=this.extractOneOrMore(m,l,[1,5]);this.consumeAttributeSpace(m);let x=this.extract(m,this.consumeToken);this.consumeAttributeSpace(m);let rt=this.extractOneOrMore(m,l,[1,10]);this.consumeAttributeSpace(m);let bt=this.extract(m,this.consumeAddress);this.consumeAttributeSpace(m);let Re=this.extract(m,this.consumePort);this.consumeAttributeSpace(m),this.extract(m,this.consume,\"typ\"),this.consumeAttributeSpace(m);let fn={foundation:I,componentId:y,transport:x,priority:rt,connectionAddress:bt,port:Re,type:this.extract(m,this.consumeToken),extension:{}};for(this.peek(m,\" raddr\")&&(this.extract(m,this.consume,\" raddr\"),this.consumeAttributeSpace(m),fn.relAddr=this.extract(m,this.consumeAddress)),this.peek(m,\" rport\")&&(this.extract(m,this.consume,\" rport\"),this.consumeAttributeSpace(m),fn.relPort=this.extract(m,this.consumePort));this.peekChar(m)===c;){this.consumeAttributeSpace(m);let gr=this.extract(m,this.consumeToken);this.consumeAttributeSpace(m),fn.extension[gr]=this.extractOneOrMore(m,u);}this.attributes.candidates.push(fn);}parseRemoteCandidate(m){let I=[];for(;;){let y=this.extractOneOrMore(m,l,[1,5]);this.consumeAttributeSpace(m);let x=this.extract(m,this.consumeAddress);this.consumeAttributeSpace(m);let rt=this.extract(m,this.consumePort);I.push({componentId:y,connectionAddress:x,port:rt});try{this.consumeAttributeSpace(m);}catch{break}}this.attributes.remoteCandidatesList.push(I);}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error(\"must be only one line of end-of-candidates\");this.attributes.endOfCandidates=!0;}parseRtpmap(m){let I=this.extract(m,this.consumeToken);this.consumeAttributeSpace(m);let y=this.extract(m,this.consumeTill,\"/\");this.extract(m,this.consume,\"/\");let x={encodingName:y,clockRate:this.extractOneOrMore(m,l)};this.atEnd(m)||this.peekChar(m)!==\"/\"||(this.extract(m,this.consume,\"/\"),x.encodingParameters=parseInt(this.extract(m,this.consumeTill),10));let rt=this.attributes.payloads.find(bt=>bt.payloadType===parseInt(I,10));rt?rt.rtpMap=x:this.attributes.payloads.push({payloadType:parseInt(I,10),rtpMap:x,rtcpFeedbacks:[]});}parsePtime(m){if(this.attributes.ptime)throw new Error(\"must be only one line of ptime\");this.attributes.ptime=this.extract(m,this.consumeTill);}parseMaxPtime(m){if(this.attributes.maxPtime)throw new Error(\"must be only one line of ptime\");this.attributes.maxPtime=this.extract(m,this.consumeTill);}parseDirection(m){if(this.attributes.direction)throw new Error(\"must be only one line of direction info\");this.attributes.direction=m.attField;}parseSSRC(m){let I=this.extractOneOrMore(m,l);this.consumeAttributeSpace(m);let y=this.extract(m,this.consumeTill,\":\"),x;this.peekChar(m)===\":\"&&(this.extract(m,this.consume,\":\"),x=this.extract(m,this.consumeTill));let rt=this.attributes.ssrcs.find(bt=>bt.ssrcId===parseInt(I,10));rt?rt.attributes[y]=x:this.attributes.ssrcs.push({ssrcId:parseInt(I,10),attributes:{[y]:x}});}parseFmtp(m){let I=this.extract(m,this.consumeTill,c);this.consumeAttributeSpace(m);let y=this.extract(m,this.consumeTill),x={};y.split(\";\").forEach(bt=>{let[Re,fn]=bt.split(\"=\");Re=rn(Re).call(Re);let gr=typeof fn==\"string\"?rn(fn).call(fn):null;typeof Re==\"string\"&&Re.length>0&&(x[Re]=gr);});let rt=this.attributes.payloads.find(bt=>bt.payloadType===parseInt(I,10));rt?rt.fmtp={parameters:x}:this.attributes.payloads.push({payloadType:parseInt(I,10),rtcpFeedbacks:[],fmtp:{parameters:x}});}parseFmtParameters(m){let I={},y=this.extract(m,this.consumeTill,\"=\");m._cur++;let x=this.extract(m,this.consumeTill,\";\");for(I[y]=x;m.attValue[m._cur]===\";\";){let rt=this.extract(m,this.consumeTill,\"=\");m._cur++;let bt=this.extract(m,this.consumeTill,\";\");I[rt]=bt;}return I}parseRtcpFb(m){let I=\"\";I=this.peekChar(m)===\"*\"?this.extract(m,this.consume,\"*\"):this.extract(m,this.consumeTill,c),this.consumeAttributeSpace(m);let y=this.extract(m,this.consumeTill,c),x;if(y===\"trr-int\")x={type:y,interval:this.extract(m,this.consumeTill)};else {let rt={type:y};this.peekChar(m)===c&&(this.consumeAttributeSpace(m),rt.parameter=this.extract(m,this.consumeToken),this.peekChar(m)===c&&(rt.additional=this.extract(m,this.consumeTill))),x=rt;}if(I===\"*\")this.attributes.rtcpFeedbackWildcards.push(x);else {let rt=this.attributes.payloads.find(bt=>bt.payloadType===parseInt(I,10));rt?rt.rtcpFeedbacks.push(x):this.attributes.payloads.push({payloadType:parseInt(I,10),rtcpFeedbacks:[x]});}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error(\"must be single line of rtcp-mux\");this.attributes.rtcpMux=!0;}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error(\"must be single line of rtcp-only\");this.attributes.rtcpMuxOnly=!0;}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error(\"must be single line of rtcp-rsize\");this.attributes.rtcpRsize=!0;}parseRTCP(m){if(this.attributes.rtcp)throw new Error(\"must be single line of rtcp\");let I={port:this.extract(m,this.consumePort)};this.peekChar(m)===c&&(this.consumeAttributeSpace(m),I.netType=this.extractOneOrMore(m,p),this.consumeAttributeSpace(m),I.addressType=this.extractOneOrMore(m,p),this.consumeAttributeSpace(m),I.address=this.extract(m,this.consumeAddress)),this.attributes.rtcp=I;}parseMsid(m){let I={id:this.extractOneOrMore(m,p,[1,64])};this.peekChar(m)===c&&(this.consumeAttributeSpace(m),I.appdata=this.extractOneOrMore(m,p,[1,64])),this.attributes.msids.push(I);}parseImageAttr(m){this.attributes.imageattr.push(m.attValue);}parseRid(m){let I=this.extractOneOrMore(m,x=>E(x)||l(x)||x===\"_\"||x===\"-\");this.consumeAttributeSpace(m);let y={id:I,direction:this.extract(m,this.consumeToken),params:[]};if(this.peekChar(m)===c){if(this.consumeAttributeSpace(m),this.peek(m,\"pt=\")){this.extract(m,this.consume,\"pt=\");let x=[];for(;;){let rt=this.extract(m,this.consumeToken);x.push(rt);try{this.extract(m,this.consume,\",\");}catch{break}}y.payloads=x,this.peekChar(m)===c&&this.extract(m,this.consume,c);}for(;;){let x=this.extract(m,this.consumeToken);switch(x){case\"depend\":{let rt={type:x,rids:this.extract(m,this.consume,\"=\").split(\",\")};y.params.push(rt);break}default:{let rt={type:x};this.peekChar(m)===\"=\"&&(this.extract(m,this.consume,\"=\"),rt.val=this.extract(m,this.consumeTill,\";\")),y.params.push(rt);}}try{this.extract(m,this.consume,\";\");}catch{break}}}this.attributes.rids.push(y);}parseSimulcast(m){if(this.attributes.simulcast)throw new Error(\"must be single line of simulcast\");this.attributes.simulcast=m.attValue,this.extract(m,this.consumeTill);}parseSctpPort(m){this.attributes.sctpPort=this.extractOneOrMore(m,l,[1,5]);}parseMaxMessageSize(m){this.attributes.maxMessageSize=this.extractOneOrMore(m,l,[1,void 0]);}digest(){return this.digested=!0,this.attributes}parseMid(m){this.attributes.mid=this.extract(m,this.consumeToken);}parseSSRCGroup(m){let I=this.extract(m,this.consumeToken),y=[];for(;;)try{this.consumeAttributeSpace(m);let x=this.extract(m,this.consumeInteger);y.push(parseInt(x,10));}catch{break}this.attributes.ssrcGroups.push({semantic:I,ssrcIds:y});}}function Dt(M,m,I){return m in M?Object.defineProperty(M,m,{value:I,enumerable:!0,configurable:!0,writable:!0}):M[m]=I,M}class ce{constructor(){Dt(this,\"eol\",a);}print(m,I){let y=\"\";return I&&(this.eol=I),y+=this.printVersion(m.version),y+=this.printOrigin(m.origin),y+=this.printSessionName(m.sessionName),y+=this.printInformation(m.information),y+=this.printUri(m.uri),y+=this.printEmail(m.emails),y+=this.printPhone(m.phones),y+=this.printConnection(m.connection),y+=this.printBandwidth(m.bandwidths),y+=this.printTimeFields(m.timeFields),y+=this.printKey(m.key),y+=this.printSessionAttributes(m.attributes),y+=this.printMediaDescription(m.mediaDescriptions),y}printVersion(m){return \"v=\".concat(m).concat(this.eol)}printOrigin(m){return \"o=\".concat(m.username,\" \").concat(m.sessId,\" \").concat(m.sessVersion,\" \").concat(m.nettype,\" \").concat(m.addrtype,\" \").concat(m.unicastAddress).concat(this.eol)}printSessionName(m){return m?\"s=\".concat(m).concat(this.eol):\"\"}printInformation(m){return m?\"i=\".concat(m).concat(this.eol):\"\"}printUri(m){return m?\"u=\".concat(m).concat(this.eol):\"\"}printEmail(m){let I=\"\";for(let y of m)I+=\"e=\".concat(y).concat(this.eol);return I}printPhone(m){let I=\"\";for(let y of m)I+=\"e=\".concat(y).concat(this.eol);return I}printConnection(m){return m?\"c=\".concat(m.nettype,\" \").concat(m.addrtype,\" \").concat(m.address).concat(this.eol):\"\"}printBandwidth(m){let I=\"\";for(let y of m)I+=\"b=\".concat(y.bwtype,\":\").concat(y.bandwidth).concat(this.eol);return I}printTimeFields(m){let I=\"\";for(let y of m){I+=\"t=\".concat(y.time.startTime,\" \").concat(y.time.startTime).concat(this.eol);for(let x of y.repeats)I+=\"r=\".concat(x.repeatInterval,\" \").concat(x.typedTimes.join(\" \")).concat(this.eol);y.zoneAdjustments&&(I+=\"z=\",I+=\"z=\".concat(y.zoneAdjustments.map(x=>\"\".concat(x.time,\" \").concat(x.back?\"-\":\"\",\" \").concat(x.typedTime)).join(\" \")).concat(this.eol),I+=this.eol);}return I}printKey(m){return m?\"k=\".concat(m).concat(this.eol):\"\"}printAttributes(m){let I=\"\";for(let y of m)I+=\"a=\".concat(y.attField).concat(y.attValue?\":\".concat(y.attValue):\"\").concat(this.eol);return I}printMediaDescription(m){let I=\"\";for(let y of m)I+=this.printMedia(y.media),I+=this.printInformation(y.information),I+=this.printConnections(y.connections),I+=this.printBandwidth(y.bandwidths),I+=this.printKey(y.key),I+=this.printMediaAttributes(y);return I}printConnections(m){let I=\"\";for(let y of m)I+=this.printConnection(y);return I}printMedia(m){return \"m=\".concat(m.mediaType,\" \").concat(m.port,\" \").concat(m.protos.join(\"/\"),\" \").concat(m.fmts.join(\" \")).concat(this.eol)}printSessionAttributes(m){return new si(this.eol).print(m)}printMediaAttributes(m){return new L(this.eol).print(m)}}class Wt{constructor(m){Dt(this,\"eol\",void 0),this.eol=m;}printIceUfrag(m){return m===void 0?\"\":\"a=ice-ufrag:\".concat(m).concat(this.eol)}printIcePwd(m){return m===void 0?\"\":\"a=ice-pwd:\".concat(m).concat(this.eol)}printIceOptions(m){return m===void 0?\"\":\"a=ice-options:\".concat(m.join(c)).concat(this.eol)}printFingerprints(m){return m.length>0?m.map(I=>\"a=fingerprint:\".concat(I.hashFunction).concat(c).concat(I.fingerprint)).join(this.eol)+this.eol:\"\"}printExtmap(m){return m.map(I=>\"a=extmap:\".concat(I.entry).concat(I.direction?\"/\".concat(I.direction):\"\").concat(c).concat(I.extensionName).concat(I.extensionAttributes?\"\".concat(c).concat(I.extensionAttributes):\"\").concat(this.eol)).join(\"\")}printSetup(m){return m===void 0?\"\":\"a=setup:\".concat(m).concat(this.eol)}printUnrecognized(m){return m.map(I=>\"a=\".concat(I.attField).concat(I.attValue?\":\".concat(I.attValue):\"\").concat(this.eol)).join(\"\")}}class si extends Wt{print(m){let I=\"\";return I+=this.printGroups(m.groups),I+=this.printMsidSemantic(m.msidSemantic),I+=this.printIceLite(m.iceLite),I+=this.printIceUfrag(m.iceUfrag),I+=this.printIcePwd(m.icePwd),I+=this.printIceOptions(m.iceOptions),I+=this.printFingerprints(m.fingerprints),I+=this.printSetup(m.setup),I+=this.printTlsId(m.tlsId),I+=this.printIdentity(m.identities),I+=this.printExtmap(m.extmaps),I+=this.printUnrecognized(m.unrecognized),I}printGroups(m){let I=\"\";return m.length>0&&(I+=m.map(y=>\"a=group:\".concat(y.semantic).concat(y.identificationTag.map(x=>\"\".concat(c).concat(x)).join(\"\")).concat(this.eol)).join(\"\")),I}printIceLite(m){return m===void 0?\"\":\"a=ice-lite\"+this.eol}printTlsId(m){return m?\"a=tls-id:\".concat(m).concat(this.eol):\"\"}printIdentity(m){return m.length===0?\"\":m.map(I=>\"a=identity:\".concat(I.assertionValue).concat(I.extensions.map(y=>\"\".concat(c).concat(y.name).concat(y.value?\"=\".concat(y.value):\"\")))).join(this.eol)+this.eol}printMsidSemantic(m){if(!m)return \"\";let I=\"a=msid-semantic:\".concat(m.semantic);return m.applyForAll?I+=\"\".concat(c,\"*\"):m.identifierList.length>0&&(I+=m.identifierList.map(y=>\"\".concat(c).concat(y))),I+this.eol}}class L extends Wt{print(m){let I=m.attributes,y=\"\";return y+=this.printRTCP(I.rtcp),y+=this.printIceUfrag(I.iceUfrag),y+=this.printIcePwd(I.icePwd),y+=this.printIceOptions(I.iceOptions),y+=this.printCandidates(I.candidates),y+=this.printRemoteCandidatesList(I.remoteCandidatesList),y+=this.printEndOfCandidates(I.endOfCandidates),y+=this.printFingerprints(I.fingerprints),y+=this.printSetup(I.setup),y+=this.printMid(I.mid),y+=this.printExtmap(I.extmaps),y+=this.printRTPRelated(I),y+=this.printPtime(I.ptime),y+=this.printMaxPtime(I.maxPtime),y+=this.printDirection(I.direction),y+=this.printSSRCGroups(I.ssrcGroups),y+=this.printSSRC(I.ssrcs),y+=this.printRTCPMux(I.rtcpMux),y+=this.printRTCPMuxOnly(I.rtcpMuxOnly),y+=this.printRTCPRsize(I.rtcpRsize),y+=this.printMSId(I.msids),y+=this.printImageattr(I.imageattr),y+=this.printRid(I.rids),y+=this.printSimulcast(I.simulcast),y+=this.printSCTPPort(I.sctpPort),y+=this.printMaxMessageSize(I.maxMessageSize),y+=this.printUnrecognized(I.unrecognized),y}printCandidates(m){return m.map(I=>\"a=candidate:\".concat(I.foundation).concat(c).concat(I.componentId).concat(c).concat(I.transport).concat(c).concat(I.priority).concat(c).concat(I.connectionAddress).concat(c).concat(I.port).concat(c,\"typ\").concat(c).concat(I.type).concat(I.relAddr?\"\".concat(c,\"raddr\").concat(c).concat(I.relAddr):\"\").concat(I.relPort?\"\".concat(c,\"rport\").concat(c).concat(I.relPort):\"\").concat(Object.keys(I.extension).map(y=>\"\".concat(c).concat(y).concat(c).concat(I.extension[y])).join(\"\")).concat(this.eol)).join(\"\")}printRemoteCandidatesList(m){return m.map(I=>\"a=remote-candidates:\".concat(I.join(c)).concat(this.eol)).join(\"\")}printEndOfCandidates(m){return m===void 0?\"\":\"a=end-of-candidates\"+this.eol}printRTPRelated(m){if(!m.payloads)return \"\";let I=m.payloads,y=\"\";y+=m.rtcpFeedbackWildcards.map(x=>this.printRTCPFeedback(\"*\",x)).join(\"\");for(let x of I)y+=this.printRtpMap(x.payloadType,x.rtpMap),y+=this.printFmtp(x.payloadType,x.fmtp),y+=x.rtcpFeedbacks.map(rt=>this.printRTCPFeedback(x.payloadType,rt)).join(\"\");return y}printFmtp(m,I){if(!I)return \"\";let y=Object.keys(I.parameters);return y.length===1&&I.parameters[y[0]]===null?\"a=fmtp:\".concat(m).concat(c).concat(y[0]).concat(this.eol):\"a=fmtp:\".concat(m).concat(c).concat(Object.keys(I.parameters).map(x=>\"\".concat(x,\"=\").concat(I.parameters[x])).join(\";\")).concat(this.eol)}printRtpMap(m,I){return I?\"a=rtpmap:\".concat(m).concat(c).concat(I.encodingName,\"/\").concat(I.clockRate).concat(I.encodingParameters?\"/\".concat(I.encodingParameters):\"\").concat(this.eol):\"\"}printRTCPFeedback(m,I){let y=\"a=rtcp-fb:\".concat(m).concat(c),x=I;return x.type===\"trr-int\"?y+=\"ttr-int\".concat(c).concat(x.interval):(y+=\"\".concat(x.type),x.parameter&&(y+=\"\".concat(c).concat(x.parameter),x.additional&&(y+=\"\".concat(c).concat(x.additional)))),y+this.eol}printPtime(m){return m===void 0?\"\":\"a=ptime:\".concat(m).concat(this.eol)}printMaxPtime(m){return m===void 0?\"\":\"a=maxptime:\".concat(m).concat(this.eol)}printDirection(m){return m===void 0?\"\":\"a=\".concat(m).concat(this.eol)}printSSRC(m){return m.map(I=>Object.keys(I.attributes).map(y=>\"a=ssrc:\".concat(I.ssrcId.toString(10)).concat(c).concat(y).concat(I.attributes[y]?\":\".concat(I.attributes[y]):\"\").concat(this.eol)).join(\"\")).join(\"\")}printRTCPMux(m){return m===void 0?\"\":\"a=rtcp-mux\".concat(this.eol)}printRTCPMuxOnly(m){return m===void 0?\"\":\"a=rtcp-mux-only\".concat(this.eol)}printRTCPRsize(m){return m===void 0?\"\":\"a=rtcp-rsize\".concat(this.eol)}printRTCP(m){if(m===void 0)return \"\";let I=\"a=rtcp:\".concat(m.port);return m.netType&&(I+=\"\".concat(c).concat(m.netType)),m.addressType&&(I+=\"\".concat(c).concat(m.addressType)),m.address&&(I+=\"\".concat(c).concat(m.address)),I+this.eol}printMSId(m){return m.map(I=>\"a=msid:\".concat(I.id).concat(I.appdata?\"\".concat(c).concat(I.appdata):\"\").concat(this.eol)).join(\"\")}printImageattr(m){return m.map(I=>\"a=imageattr:\".concat(I).concat(this.eol)).join(\"\")}printRid(m){return m.map(I=>{let y=\"a=rid:\".concat(I.id).concat(c).concat(I.direction);return I.payloads&&(y+=\"\".concat(c,\"pt=\").concat(I.payloads.join(\",\"))),I.params.length>0&&(y+=\"\".concat(c).concat(I.params.map(x=>x.type===\"depend\"?\"depend=\".concat(x.rids.join(\",\")):\"\".concat(x.type,\"=\").concat(x.val)).join(\";\"))),y+this.eol}).join(\"\")}printSimulcast(m){return m===void 0?\"\":\"a=simulcast:\".concat(m).concat(this.eol)}printSCTPPort(m){return m===void 0?\"\":\"a=sctp-port:\".concat(m).concat(this.eol)}printMaxMessageSize(m){return m===void 0?\"\":\"a=max-message-size:\".concat(m).concat(this.eol)}printMid(m){return m===void 0?\"\":\"a=mid:\".concat(m).concat(this.eol)}printSSRCGroups(m){return m.map(I=>\"a=ssrc-group:\".concat(I.semantic).concat(I.ssrcIds.map(y=>\"\".concat(c).concat(y.toString(10))).join(\"\")).concat(this.eol)).join(\"\")}}function F(M){return new V().parse(M)}function Y(M,m){return new ce().print(M,m)}}},e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}return n.d=(i,r)=>{for(var o in r)n.o(r,o)&&!n.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:r[o]});},n.o=(i,r)=>Object.prototype.hasOwnProperty.call(i,r),n.r=i=>{typeof Symbol<\"u\"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(i,\"__esModule\",{value:!0});},n(8)})();var Le=e0.exports;function $E(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v(\"SVC_MODE\");if(v(\"ENABLE_SVC\"))return function(e){return e in xE}(t)?t:xE.L1T3}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function YI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}function Lc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,{filterRTX:r,filterVideoFec:o,filterAudioFec:s,filterAudioCodec:a,filterVideoCodec:c}=e,{useXR:d}=n,l=[],u=[],h=[],p=[],g=!1,E=!1;if(Le.parse(t).mediaDescriptions.forEach(S=>{i&&i!==S.attributes.direction||(S.media.mediaType!==\"video\"||g||(u=S.attributes.payloads,p=S.attributes.extmaps,g=!0),S.media.mediaType!==\"audio\"||E||(l=S.attributes.payloads,h=S.attributes.extmaps,E=!0));}),!p||u.length===0)throw new Error(\"Cannot get video capabilities from SDP.\");if(!h||l.length===0)throw new Error(\"Cannot get audio capabilities from SDP.\");if(u.forEach(S=>{var C;(C=S.rtpMap)!==null&&C!==void 0&&C.clockRate&&(S.rtpMap.clockRate=parseInt(S.rtpMap.clockRate)),d&&S.rtcpFeedbacks.push({type:\"rrtr\"});}),l.forEach(S=>{var C;(C=S.rtpMap)!==null&&C!==void 0&&C.clockRate&&(S.rtpMap.clockRate=parseInt(S.rtpMap.clockRate)),d&&S.rtcpFeedbacks.push({type:\"rrtr\"});}),r&&(l=l.filter(S=>{var C;return ((C=S.rtpMap)===null||C===void 0?void 0:C.encodingName.toLowerCase())!==\"rtx\"}),u=u.filter(S=>{var C;return ((C=S.rtpMap)===null||C===void 0?void 0:C.encodingName.toLowerCase())!==\"rtx\"})),o&&(u=u.filter(S=>{var C;return !/(red)|(ulpfec)|(flexfec)/i.test(((C=S.rtpMap)===null||C===void 0?void 0:C.encodingName)||\"\")})),s&&(l=l.filter(S=>{var C;return !/(red)|(ulpfec)|(flexfec)/i.test(((C=S.rtpMap)===null||C===void 0?void 0:C.encodingName)||\"\")})),a&&a?.length>0&&(l=l.filter(S=>{var C;return W(a).call(a,((C=S.rtpMap)===null||C===void 0?void 0:C.encodingName.toLowerCase())||\"\")})),c&&c?.length>0){let S=u.filter(C=>{var A;return W(c).call(c,((A=C.rtpMap)===null||A===void 0?void 0:A.encodingName.toLowerCase())||\"\")});u=S.concat(r?[]:yf(S,u));}let f=v(\"UNSUPPORTED_VIDEO_CODEC\");return f&&f.length>0&&(u=u.filter(S=>!(S.rtpMap&&W(f).call(f,S.rtpMap.encodingName.toLowerCase())))),{audioCodecs:l,videoCodecs:u,audioExtensions:h,videoExtensions:p}}function io(t){let e=Le.parse(t),n,i;for(let r of e.mediaDescriptions){if(!n){let o=r.attributes.iceUfrag,s=r.attributes.icePwd;if(!o||!s)throw new Error(\"Cannot get iceUfrag or icePwd from SDP.\");n={iceUfrag:o,icePwd:s};}if(!i){let o=r.attributes.fingerprints;o.length>0&&(i={fingerprints:o});}}if(!i&&e.attributes.fingerprints.length>0&&(i={fingerprints:e.attributes.fingerprints}),!i||!n)throw new Error(\"Cannot get iceParameters or dtlsParameters from SDP.\");return {iceParameters:n,dtlsParameters:i}}function n0(t,e){let n=[],i=t.attributes.ssrcGroups.filter(s=>s.semantic===\"FID\"),r=t.attributes.ssrcGroups.find(s=>s.semantic===\"SIM\"),o=t.attributes.ssrcs;if(r)r.ssrcIds.forEach(s=>{var a;let c=(a=i.find(d=>d.ssrcIds[0]===s))===null||a===void 0?void 0:a.ssrcIds[1];n.push({ssrcId:s,rtx:e?c:void 0});});else if(i.length>0){let s=i[0].ssrcIds[0],a=i[0].ssrcIds[1];n.push({ssrcId:s,rtx:e?a:void 0});}else {if(o.length===0)throw new Error(\"No ssrcs found on local media description.\");n.push({ssrcId:o[0].ssrcId});}return n}function qI(t,e,n){let{cname:i}=t,r;e?r=i0(e):(r=t.iceParameters.candidates.map(l=>({foundation:l.foundation,componentId:\"1\",transport:l.protocol,priority:l.priority.toString(),connectionAddress:l.ip,port:l.port.toString(),type:l.type,extension:{}})),_.debug(\"Using candidates from gateway.\"));let o={fingerprints:t.dtlsParameters.fingerprints.map(l=>({hashFunction:l.algorithm,fingerprint:l.fingerprint}))},s={iceUfrag:t.iceParameters.iceUfrag,icePwd:t.iceParameters.icePwd},a;switch(t.dtlsParameters.role){case\"server\":a=\"passive\";break;case\"client\":a=\"active\";break;case\"auto\":a=\"actpass\";}let c=uu(t.rtpCapabilities),d=[];return Array.isArray(n)&&n.length>0&&n.forEach(l=>{d.push({kind:Q.VIDEO,ssrcId:l.v,rtx:l.v_rtx,mslabel:\"\".concat(l.v,\"_\").concat(l.a)},{kind:Q.AUDIO,ssrcId:l.a,mslabel:\"\".concat(l.v,\"_\").concat(l.a)});}),{dtlsParameters:o,iceParameters:s,candidates:r,rtpCapabilities:c,setup:a,cname:i,preSSRCs:d}}function i0(t){let e=[];return t.ip&&typeof t.port==\"number\"&&(e=[{foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:t.ip,port:t.port.toString(),type:\"host\",extension:{}}],_.debug(\"Using remote candidate from AP \".concat(t.ip,\":\").concat(t.port)),t.ip6&&(e.push({foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:t.ip6,port:t.port.toString(),type:\"host\",extension:{}}),_.debug(\"Using IPV6 remote candidate from AP \".concat(t.ip6,\":\").concat(t.port)))),e}function Lo(t,e,n){let i=[],r=[];return t.forEach(o=>{let{ssrcId:s,rtx:a}=o,c=Ut(8,\"track-\"),d={ssrcId:s,attributes:YI({label:c,mslabel:n=n||Ut(10,\"\"),msid:\"\".concat(n,\" \").concat(c)},e&&{cname:e})};if(i.push(d),a!==void 0){let l={ssrcId:a,attributes:YI({label:c,mslabel:n,msid:\"\".concat(n,\" \").concat(c)},e&&{cname:e})};i.push(l),r.push({semantic:\"FID\",ssrcIds:[s,a]});}}),t.length>1&&r.push({semantic:\"SIM\",ssrcIds:t.map(o=>{let{ssrcId:s}=o;return s})}),{ssrcs:i,ssrcGroups:r}}function ra(t,e){e instanceof Qt&&t.attributes.payloads.forEach(n=>{var i;let r=(i=n.rtpMap)===null||i===void 0?void 0:i.encodingName.toLowerCase();if(!r||[\"opus\",\"pcmu\",\"pcma\",\"g722\"].indexOf(r)===-1)return;n.fmtp||(n.fmtp={parameters:{}}),n.fmtp.parameters.minptime=\"10\",n.fmtp.parameters.useinbandfec=\"1\";let o=e._encoderConfig;o&&r!==\"pcmu\"&&r!==\"pcma\"&&r!==\"g722\"&&(o.bitrate&&!$t()&&(n.fmtp.parameters.maxaveragebitrate=\"\".concat(Math.floor(1e3*o.bitrate))),o.sampleRate&&(n.fmtp.parameters.maxplaybackrate=\"\".concat(o.sampleRate),n.fmtp.parameters[\"sprop-maxcapturerate\"]=\"\".concat(o.sampleRate)),o.stereo&&(n.fmtp.parameters.stereo=\"1\",n.fmtp.parameters[\"sprop-stereo\"]=\"1\"));});}function If(t){let e=t.attributes.unrecognized.findIndex(n=>n.attField===\"x-google-flag\"&&n.attValue===\"conference\");e!==-1&&t.attributes.unrecognized.splice(e,1);}function vf(t,e){var n;if(!(e instanceof Ft&&e._encoderConfig&&e._hints.indexOf(Gt.SCREEN_TRACK)===-1))return;let i=e._encoderConfig;ft().supportMinBitrate&&i.bitrateMin&&t.attributes.payloads.forEach(r=>{var o,s;W(o=[\"h264\",\"h265\",\"vp8\",\"vp9\",\"av1\"]).call(o,((s=r.rtpMap)===null||s===void 0?void 0:s.encodingName.toLowerCase())||\"\")&&(r.fmtp||(r.fmtp={parameters:{}}),r.fmtp.parameters[\"x-google-min-bitrate\"]=\"\".concat(i.bitrateMin));}),ft().supportMinBitrate&&!W(n=e._hints).call(n,Gt.LOW_STREAM)&&i.bitrateMax&&t.attributes.payloads.forEach(r=>{var o,s;W(o=[\"h264\",\"h265\",\"vp8\",\"vp9\",\"av1\"]).call(o,((s=r.rtpMap)===null||s===void 0?void 0:s.encodingName.toLowerCase())||\"\")&&(r.fmtp||(r.fmtp={parameters:{}}),r.fmtp.parameters[\"x-google-start-bitrate\"]=\"\".concat(v(\"X_GOOGLE_START_BITRATE\")||Math.floor(i.bitrateMax)));});}function r0(t){if(t.media.mediaType!==\"video\")return;let e=mt();if(e.name!==It.SAFARI&&e.os!==ye.IOS)return;let n=t.attributes.extmaps.findIndex(i=>/video-orientation/g.test(i.extensionName));n!==-1&&t.attributes.extmaps.splice(n,1);}function lu(t,e,n){if(!e)return;let i,r;if(t.media.mediaType===\"video\"?(i=n.videoExtensions,r=n.videoCodecs):(i=n.audioExtensions,r=n.audioCodecs),e.twcc===!0){let o=i.find(s=>s.extensionName===\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\");o&&(t.attributes.extmaps.find(a=>a.extensionName===\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\")||t.attributes.extmaps.push({entry:o.entry,extensionName:\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"}),function(a,c){return c.filter(d=>!!a.find(l=>l.payloadType===d.payloadType&&!!l.rtcpFeedbacks.find(u=>u.type===\"transport-cc\")))}(r,t.attributes.payloads).forEach(a=>{a.rtcpFeedbacks.find(c=>c.type===\"transport-cc\")||a.rtcpFeedbacks.push({type:\"transport-cc\"});}));}else if(e.twcc===!1){let o=t.attributes.extmaps.findIndex(s=>s.extensionName===\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\");o!==-1&&t.attributes.extmaps.splice(o,1),t.attributes.payloads.forEach(s=>{let a=s.rtcpFeedbacks.findIndex(c=>c.type===\"transport-cc\");a!==-1&&s.rtcpFeedbacks.splice(a,1);});}if(e.remb===!0){let o=i.find(s=>s.extensionName===\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\");o&&(t.attributes.extmaps.find(a=>a.extensionName===\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\")||t.attributes.extmaps.push({entry:o.entry,extensionName:\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"}),function(a,c){return c.filter(d=>!!a.find(l=>l.payloadType===d.payloadType&&!!l.rtcpFeedbacks.find(u=>u.type===\"goog-remb\")))}(r,t.attributes.payloads).forEach(a=>{a.rtcpFeedbacks.find(c=>c.type===\"goog-remb\")||a.rtcpFeedbacks.push({type:\"goog-remb\"});}));}else if(e.remb===!1){let o=t.attributes.extmaps.findIndex(s=>s.extensionName===\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\");o!==-1&&t.attributes.extmaps.splice(o,1),t.attributes.payloads.forEach(s=>{let a=s.rtcpFeedbacks.findIndex(c=>c.type===\"goog-remb\");a!==-1&&s.rtcpFeedbacks.splice(a,1);});}}function o0(t,e,n){if($t()||t.media.mediaType!==\"video\"||!(e instanceof Ft)||n!==\"vp9\"&&n!==\"vp8\"||n===\"vp8\"&&!v(\"SIMULCAST\")||n===\"vp9\"&&v(\"ENABLE_SVC\")||e._scalabilityMode===void 0||e._scalabilityMode.numSpatialLayers<=1)return;let i=n===\"vp8\"?2:e._scalabilityMode.numSpatialLayers,r=t.attributes.ssrcs[0],o=t.attributes.ssrcGroups.find(a=>a.semantic===\"FID\"&&a.ssrcIds[0]===r.ssrcId),s={semantic:\"SIM\",ssrcIds:[r.ssrcId]};for(let a=1;a<i;a++)t.attributes.ssrcs.push({ssrcId:r.ssrcId+a,attributes:le(r.attributes)}),s.ssrcIds.push(r.ssrcId+a),o&&(t.attributes.ssrcs.push({ssrcId:o.ssrcIds[1]+a,attributes:le(r.attributes)}),t.attributes.ssrcGroups.push({semantic:\"FID\",ssrcIds:[r.ssrcId+a,o.ssrcIds[1]+a]}));t.attributes.ssrcGroups.unshift(s);}async function s0(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=new RTCPeerConnection;n.addTransceiver(\"video\",{direction:\"sendonly\"}),n.addTransceiver(\"audio\",{direction:\"sendonly\"}),n.addTransceiver(\"video\",{direction:\"recvonly\"}),n.addTransceiver(\"audio\",{direction:\"recvonly\"});let i=(await n.createOffer()).sdp,{send:r,recv:o,sendrecv:s}=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=arguments.length>2?arguments[2]:void 0,l=Lc(d,a,c,\"sendonly\"),u=Lc(d,a,c,\"recvonly\"),h={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},p={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},g={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(Ii(l,u,\"videoExtensions\",h,p,g),Ii(l,u,\"videoCodecs\",h,p,g),Ii(l,u,\"audioExtensions\",h,p,g),Ii(l,u,\"audioCodecs\",h,p,g),v(\"RAISE_H264_BASELINE_PRIORITY\")){let E=g.videoCodecs.findIndex(f=>{var S,C;return ((S=f.rtpMap)===null||S===void 0?void 0:S.encodingName.toLocaleLowerCase())===\"h264\"&&((C=f.fmtp)===null||C===void 0?void 0:C.parameters[\"profile-level-id\"])===\"42001f\"});if(E!==-1){let f=g.videoCodecs.findIndex(S=>{var C;return ((C=S.rtpMap)===null||C===void 0?void 0:C.encodingName.toLocaleLowerCase())===\"h264\"});if(f<E){_.debug(\"raising H264 baseline profile priority\");let S=g.videoCodecs[E];g.videoCodecs.splice(E,1),g.videoCodecs.splice(f,0,S);}f!==-1&&(p.videoCodecs=p.videoCodecs.filter(S=>{var C,A;return !(((C=S.rtpMap)===null||C===void 0?void 0:C.encodingName.toLocaleLowerCase())===\"h264\"&&((A=S.fmtp)===null||A===void 0?void 0:A.parameters[\"profile-level-id\"])!==\"42001f\")})),f!==-1&&v(\"FILTER_SEND_H264_BASELINE\")&&(h.videoCodecs=h.videoCodecs.filter(S=>{var C,A;return !(((C=S.rtpMap)===null||C===void 0?void 0:C.encodingName.toLocaleLowerCase())===\"h264\"&&((A=S.fmtp)===null||A===void 0?void 0:A.parameters[\"profile-level-id\"])!==\"42001f\")}));}}return {send:h,recv:p,sendrecv:g}}(t,e,i);try{n.close();}catch{}return {send:r,recv:o,sendrecv:s}}function zI(){let t={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},e=Lc(arguments.length>2?arguments[2]:void 0,arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},\"recvonly\"),n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(Ii(t,e,\"videoExtensions\",n,i,r),Ii(t,e,\"videoCodecs\",n,i,r),Ii(t,e,\"audioExtensions\",n,i,r),Ii(t,e,\"audioCodecs\",n,i,r),v(\"RAISE_H264_BASELINE_PRIORITY\")){let o=r.videoCodecs.findIndex(s=>s.rtpMap&&s.rtpMap.encodingName.toLocaleLowerCase()===\"h264\"&&s.fmtp&&s.fmtp.parameters[\"profile-level-id\"]===\"42001f\");if(o!==-1){let s=r.videoCodecs.findIndex(a=>a.rtpMap&&a.rtpMap.encodingName.toLocaleLowerCase()===\"h264\");if(s<o){_.debug(\"raising H264 baseline profile priority\");let a=r.videoCodecs[o];r.videoCodecs.splice(o,1),r.videoCodecs.splice(s,0,a);}s!==-1&&(i.videoCodecs=i.videoCodecs.filter(a=>!(a.rtpMap&&a.rtpMap.encodingName.toLocaleLowerCase()===\"h264\"&&a.fmtp&&a.fmtp.parameters[\"profile-level-id\"]!==\"42001f\")));}}return {send:n,recv:i,sendrecv:r}}function Ii(t,e,n,i,r,o){if(n===\"videoExtensions\"||n===\"audioExtensions\"){let s=[];return t[n].forEach(a=>{e[n].some((c,d)=>{if(a.entry===c.entry&&a.extensionName===c.extensionName)return s.push(d),!0})?o[n].push(a):i[n].push(a);}),void e[n].forEach((a,c)=>{s.indexOf(c)===-1&&r[n].push(a);})}if(n===\"videoCodecs\"||n===\"audioCodecs\"){let s=[];return t[n].forEach(a=>{e[n].some((c,d)=>{if(a.payloadType===c.payloadType&&JSON.stringify(a)===JSON.stringify(c))return s.push(d),!0})?o[n].push(a):i[n].push(a);}),void e[n].forEach((a,c)=>{s.indexOf(c)===-1&&r[n].push(a);})}}function uu(t){let{send:e,recv:n,sendrecv:i}=t;if(!i){if(!e||!n)throw new Error(\"cannot merge rtp capabilities because one of send or recv is empty!\");return {send:e,recv:n}}let r,o;return e?(r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r.audioCodecs=[...e.audioCodecs,...i.audioCodecs],r.videoCodecs=[...e.videoCodecs,...i.videoCodecs],r.audioExtensions=[...e.audioExtensions,...i.audioExtensions],r.videoExtensions=[...e.videoExtensions,...i.videoExtensions]):r=i,n?(o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},o.audioCodecs=[...n.audioCodecs,...i.audioCodecs],o.videoCodecs=[...n.videoCodecs,...i.videoCodecs],o.audioExtensions=[...n.audioExtensions,...i.audioExtensions],o.videoExtensions=[...n.videoExtensions,...i.videoExtensions]):o=i,{send:r,recv:o}}function oa(t){t.media.mediaType===\"audio\"&&t.attributes.payloads.filter(e=>{var n;return ((n=e.rtpMap)===null||n===void 0?void 0:n.encodingName.toLowerCase())===\"opus\"}).forEach(e=>{e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.stereo=\"1\",e.fmtp.parameters[\"sprop-stereo\"]=\"1\";});}function ac(t,e,n,i){let r=[];if(t===Q.VIDEO){if(v(\"H264_PROFILE_LEVEL_ID\")&&i===\"h264\"&&(r=e.videoCodecs.filter(o=>{var s;return W(s=o.rtpMap&&o.rtpMap.encodingName.toLowerCase()||\"\").call(s,i)&&o&&o.fmtp&&o.fmtp.parameters[\"profile-level-id\"]===v(\"H264_PROFILE_LEVEL_ID\")})),!Array.isArray(r)||r.length===0){let o=[],s=[],a=[],c=[];if(n.videoCodecs.forEach(d=>{let l=d.rtpMap&&d.rtpMap.encodingName.toLowerCase()||\"\";W(l).call(l,i)?o.push(d):W(l).call(l,\"vp9\")?s.push(d):W(l).call(l,\"vp8\")?a.push(d):W(l).call(l,\"h264\")&&c.push(d);}),o.length===0){let d=\"\";s.length!==0?(o=s,d=\"vp9\"):a.length!==0?(o=a,d=\"vp8\"):c.length!==0&&(o=c,d=\"h264\"),_.warning(\"codec \".concat(i,\" not included in rtpCapabilities, fallback to default payloads: \").concat(d));}o.length!==0&&(r=e.videoCodecs.filter(d=>o.some(l=>l.payloadType===d.payloadType)));}if(r.length===0&&(_.warning(\"codec \".concat(i,\" not included in rtpCapabilities, fallback to default payloads: \").concat(e.videoCodecs[0].rtpMap&&e.videoCodecs[0].rtpMap.encodingName)),r=e.videoCodecs),v(\"USE_PUB_RTX\")||v(\"USE_SUB_RTX\")){let o=yf(r,e.videoCodecs);r=[...r,...o];}}else r=e.audioCodecs.filter(o=>{var s;return W(s=o.rtpMap&&o.rtpMap.encodingName.toLowerCase()||\"\").call(s,i)}),r.length===0&&(_.warning(\"codec \".concat(i,\" not included in rtpCapabilities, fallback to opus\")),r=e.audioCodecs.filter(o=>{var s;return W(s=o.rtpMap&&o.rtpMap.encodingName.toLowerCase()||\"\").call(s,\"opus\")}));return r}function yf(t,e){let n=t.map(i=>i.payloadType.toString());return e.filter(i=>i.rtpMap&&i.rtpMap.encodingName===\"rtx\"&&i.fmtp&&i.fmtp.parameters.apt&&W(n).call(n,i.fmtp&&i.fmtp.parameters.apt))}async function Wd(t,e,n){let i=e.toString(),r=c0(i,\"offer\",\"remote\",\"exchangeSDP\");await t.setRemoteDescription({type:\"offer\",sdp:i});let o=await t.createAnswer();if(!o.sdp)throw new Error(\"cannot get answer sdp\");let s=o.sdp;s=a0(s,n||{}),r?.(s||\"\"),await t.setLocalDescription({type:\"answer\",sdp:s});}function a0(t,e,n){let i=Le.parse(t),{useXR:r}=e;return i.mediaDescriptions.forEach(o=>{var s;o.attributes.mid&&(Array.isArray(n)&&!W(n).call(n,o.attributes.mid)||(o.media.mediaType===\"audio\"&&oa(o),r&&W(s=[\"audio\",\"video\"]).call(s,o.media.mediaType)&&o.attributes.payloads.forEach(a=>{a.rtcpFeedbacks.findIndex(c=>c.type===\"rrtr\")===-1&&a.rtcpFeedbacks.push({type:\"rrtr\"});})));}),Le.print(i)}function c0(t,e,n,i){if(v(\"SDP_LOGGING\"))return _.upload(\"exchanging \".concat(n,\" \").concat(e,\" SDP during P2PConnection.\").concat(i,`\n`),t),e===\"offer\"?r=>{c0(r,\"answer\",n===\"local\"?\"remote\":\"local\",i);}:void 0}function Xi(t,e){return typeof v(t)===e?v(t):void 0}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var d_=new Map,tm=class extends Xt{get state(){return this._state}set state(e){if(e===this._state)return;let n=this._state;this._state=e,e===\"DISCONNECTED\"&&this._disconnectedReason?this.emit(xe.CONNECTION_STATE_CHANGE,e,n,this._disconnectedReason):this.emit(xe.CONNECTION_STATE_CHANGE,e,n);}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(e){_.debug(\"[\".concat(this.store.clientId,\"] set joinGatewayStartTime at \").concat(e)),this._joinGatewayStartTime=e;}constructor(e,n){super(),T(this,\"store\",void 0),T(this,\"joinInfo\",void 0),T(this,\"key\",void 0),T(this,\"ntpOffset\",0),T(this,\"signal\",void 0),T(this,\"role\",void 0),T(this,\"inChannelInfo\",{joinAt:null,duration:0}),T(this,\"spec\",void 0),T(this,\"_state\",\"DISCONNECTED\"),T(this,\"_statsCollector\",void 0),T(this,\"_disconnectedReason\",void 0),T(this,\"isSignalRecover\",!1),T(this,\"hasChangeBGPAddress\",!1),T(this,\"trafficStatsInterval\",void 0),T(this,\"networkQualityInterval\",void 0),T(this,\"_joinGatewayStartTime\",0),T(this,\"_signalTimeout\",!1),T(this,\"_clientRoleOptions\",void 0),T(this,\"_isProactiveJoin\",!1),this.store=e,this.spec=n,this.signal=this.store.useP2P?new du(jr(jr({},n),{},{retryConfig:n.websocketRetryConfig}),e):new jE(jr(jr({},n),{},{retryConfig:n.websocketRetryConfig}),e),this._statsCollector=n.statsCollector,this.role=n.role||\"audience\",this._clientRoleOptions=n.clientRoleOptions,this.handleSignalEvents();}async join(e,n,i){this.store.joinGatewayStart(),e.cloudProxyServer!==\"disabled\"&&(this.hasChangeBGPAddress=!0);let r=Date.now(),o=d_.get(e.cname);if(o||(o=new Map,d_.set(e.cname,o)),this._isProactiveJoin=!0,o.has(e.uid)){let d=new O(R.UID_CONFLICT);throw X.joinGateway(e.sid,{lts:r,succ:!1,ec:d.code,addr:null,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!e.proxyServer,signalChannel:\"0\",preload:e.preload}),this._isProactiveJoin=!1,d}o.set(e.uid,!0),this.joinInfo=e,this.key=n;let s=0;this.joinGatewayStartTime=r;let a=e.proxyServer;try{_.debug(\"[\".concat(this.store.clientId,\"] use websocket join uid \").concat(s));let d=e.gatewayAddrs.map(l=>{let{address:u}=l,[h,p]=u.split(\":\"),g={host:h,port:p};return e.proxyServer&&(g.proxy=e.proxyServer),g});s=(await this.signal.init(d,i)).uid,_.debug(\"[\".concat(this.store.clientId,\"] websocket join uid \").concat(s,\" cost \").concat(Date.now()-this.joinGatewayStartTime));}catch(d){var c;throw _.error(\"[\".concat(this.store.clientId,\"] User join failed\"),d.toString()),X.joinGateway(e.sid,{lts:r,succ:!1,ec:((c=d.data)===null||c===void 0?void 0:c.desc)||d.code,errorMsg:d.message,addr:this.signal.url,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!a,signalChannel:\"0\",preload:e.preload}),this._isProactiveJoin=!1,o.delete(e.uid),this.signal.close(),d}return this.state=\"CONNECTED\",this.inChannelInfo.joinAt=Date.now(),_.debug(\"[\".concat(this.store.clientId,\"] Connected to gateway server\")),this.trafficStatsInterval=window.setInterval(()=>{this.updateTrafficStats().catch(d=>{_.warning(\"[\".concat(this.store.clientId,\"] get traffic stats error\"),d.toString());});},3e3),this.networkQualityInterval=window.setInterval(()=>{navigator&&navigator.onLine!==void 0&&!navigator.onLine?this.emit(xe.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(xe.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):this.state===\"CONNECTED\"&&this._statsCollector.trafficStats?this.emit(xe.NETWORK_QUALITY,{uplinkNetworkQuality:WR(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:WR(this._statsCollector.trafficStats.B_dnq)}):this.emit(xe.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0});},2e3),this.store.joinGatewayEnd(),s}async leave(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=arguments.length>1?arguments[1]:void 0;if(this.state!==\"DISCONNECTED\"){n!==At.FALLBACK&&(this.state=\"DISCONNECTING\");try{e||this.signal.connectionState!==Lt.CONNECTED||await function(i,r){return r===1/0?i:j.race([i,mB(r)])}(this.signal.request(et.LEAVE,void 0,!0),3e3);}catch(i){_.warning(\"[\".concat(this.store.clientId,\"] leave request failed, ignore\"),i);}this.signal.close(n),n!==At.FALLBACK&&(this.state=\"DISCONNECTED\"),this.reset();}}async publish(e,n,i){if(this.state!==\"CONNECTED\"&&this.state!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));let r={state:\"offer\",p2p_id:this.store.p2pId,ortc:n,mode:this.spec.mode,extend:v(\"PUB_EXTEND\"),twcc:!!v(\"PUBLISH_TWCC\"),rtx:!!v(\"USE_PUB_RTX\")};try{return (await this.signal.request(et.PUBLISH,r,!0))._message}catch(o){if(i&&o.data&&o.data.code===Z.ERR_PUBLISH_REQUEST_INVALID)return _.warning(\"[\".concat(this.store.clientId,\"] receive publish error code, retry\"),o.toString()),await this.tryUnpubBeforeRepub(e,n),this.publish(e,n,!1);throw o}}async publishDataChannel(e,n,i){var r;if(this.state!==\"CONNECTED\"&&this.state!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));let o={stream_id:n.streamId,ordered:n.ordered?1:0,max_retrans_times:(r=n.maxRetransmits)!==null&&r!==void 0?r:10,channel_id:n.channelId,metadata:n.metadata};try{await this.signal.request(et.PUBLISH_DATASTREAM,o,!0);}catch(s){if(i&&s.data&&s.data.code===Z.ERR_PUBLISH_REQUEST_INVALID)return _.warning(\"[\".concat(this.store.clientId,\"] receive publish datachannels error code, retry\"),s.toString()),await this.tryUnpubDataChannelBeforeRepub(e,n),this.publishDataChannel(e,n,!1);throw s}}async unpublish(e,n){try{if(this.state!==\"CONNECTED\"&&this.state!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));await this.signal.request(et.UNPUBLISH,{stream_id:n,ortc:e},!0);}catch(i){_.warning(\"[\".concat(this.store.clientId,\"] unpublish warning: \"),i);}}async unpublishDataChannel(e){try{if(this.state!==\"CONNECTED\"&&this.state!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));await j.all(e.map(n=>this.signal.request(et.UNPUBLISH_DATASTREAM,{channel_id:n},!0)));}catch(n){_.warning(\"unpublish datachannels warning: \",n);}}async presubscribe(e,n,i){if(this.state!==\"CONNECTED\"&&this.state!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not presubscribe when connection state is \".concat(this.state));let r={stream_id:e,stream_type:n,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!v(\"SUBSCRIBE_TWCC\"),rtx:!!v(\"USE_SUB_RTX\")||void 0,extend:v(\"SUB_EXTEND\"),svc:Array.isArray(v(\"SVC\"))&&v(\"SVC\").length!==0?v(\"SVC\"):void 0};try{return await this.signal.request(et.PRE_SUBSCRIBE,r,!0)}catch(o){if(i&&o.data&&o.data.code===Z.ERR_SUBSCRIBE_REQUEST_INVALID)return _.warning(\"[\".concat(this.store.clientId,\"] pre-subscribe error, retry\"),o.toString()),this.presubscribe(e,n,!1);throw o}}async subscribe(e,n,i){if(this.state!==\"CONNECTED\"&&this.state!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not subscribe when connection state is \".concat(this.state));let r={stream_id:e,stream_type:n.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!v(\"SUBSCRIBE_TWCC\"),rtx:!!v(\"USE_SUB_RTX\"),extend:v(\"SUB_EXTEND\"),ssrcId:n.ssrcId,svc:Array.isArray(v(\"SVC\"))&&v(\"SVC\").length!==0?v(\"SVC\"):void 0};try{return (await this.signal.request(et.SUBSCRIBE,r,!0))._message}catch(o){if(i&&o.data&&o.data.code===Z.ERR_SUBSCRIBE_REQUEST_INVALID)return _.warning(\"[\".concat(this.store.clientId,\"] receiver subscribe error code, retry\"),o.toString()),await this.tryUnsubBeforeResub(e,n),await this.subscribe(e,n,!1);throw o}}async subscribeDataChannel(e,n,i){if(this.state!==\"CONNECTED\"&&this.state!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not subscribe datachannel when connection state is \".concat(this.state));let r={uid:e,stream_id:n.id,channel_id:n.datachannelId};try{return void await this.signal.request(et.SUBSCRIBE_DATASTREAM,r,!0)}catch(o){if(i&&o.data&&o.data.code===Z.ERR_SUBSCRIBE_REQUEST_INVALID)return _.warning(\"[\".concat(this.store.clientId,\"] receiver subscribe datachannel error code, retry\"),o.toString()),await this.tryUnsubDataChannelBeforeResub(e,n),await this.subscribeDataChannel(e,n,!1);throw o}}async subscribeAll(e,n){if(this.state!==\"CONNECTED\"&&this.state!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not massSubscribe when connection state is \".concat(this.state));let i={p2p_id:this.store.p2pId,users:e,dtx:!1,rtx:!!v(\"USE_SUB_RTX\"),twcc:!!v(\"SUBSCRIBE_TWCC\"),svc:Array.isArray(v(\"SVC\"))&&v(\"SVC\").length!==0?v(\"SVC\"):void 0};try{return await this.signal.request(et.SUBSCRIBE_STREAMS,i,!0)}catch(r){if(n&&r.data&&r.data.code===Z.ERR_SUBSCRIBE_REQUEST_INVALID)return _.warning(\"[\".concat(this.store.clientId,\"] receiver massSubscribe error code, retry\"),r.toString()),await this.tryMassUnsubBeforeResub(e),await this.subscribeAll(e,!1);throw r}}async setVideoProfile(e){let n=function(i){if(!(i.bitrateMax&&i.bitrateMin&&i.frameRate&&i.height&&i.width))return;let r=i.frameRate,o=i.width,s=i.height,a=!0;return typeof r!=\"number\"&&(r=r.exact||r.ideal||r.max||r.min||0,r||(a=!1)),typeof o!=\"number\"&&(o=o.exact||o.ideal||o.max||o.min||0,o||(a=!1)),typeof s!=\"number\"&&(s=s.exact||s.ideal||s.max||s.min||0,r||(a=!1)),a?{stream_type:0,width:o,height:s,fps:r,start_bps:1e3*i.bitrateMax,min_bps:1e3*i.bitrateMin,target_bps:1e3*i.bitrateMax}:void 0}(e);if(n)return this.signal.request(et.SET_VIDEO_PROFILE,n);_.debug(\"[\".concat(this.store.clientId,\"] encoder config is not complete, do not report to gateway\"));}async unsubscribe(e,n){try{await this.signal.request(et.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:e,stream_id:n},!0);}catch(i){_.warning(\"[\".concat(this.store.clientId,\"] unsubscribe warning: \"),i);}}async unsubscribeDataChannel(e,n){try{if(this.state!==\"CONNECTED\"&&this.state!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));await j.all(e.map(i=>this.signal.request(et.UNSUBSCRIBE_DATASTREAM,{stream_id:i,uid:n},!0)));}catch(i){_.warning(\"unsubscribeDataChannel warning: \",i);}}async massUnsubscribe(e){try{await this.signal.request(et.UNSUBSCRIBE_STREAMS,e,!0);}catch(n){_.warning(\"[\".concat(this.store.clientId,\"] massUnsubscribeAll warning: \"),n);}}async reconnectPC(e){let{iceParameters:n,dtlsParameters:i,rtpCapabilities:r}=e;return {gatewayEstablishParams:await this.signal.request(et.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:n,dtlsParameters:i,rtpCapabilities:r}},!0),gatewayAddress:this.getCurrentGatewayAddress()}}getGatewayInfo(){return this.signal.request(et.GATEWAY_INFO)}async renewToken(e){await this.signal.request(et.RENEW_TOKEN,e),this.key=e.token;}async setClientRole(e,n){if(n&&(this._clientRoleOptions=Object.assign({},n)),this.state!==\"CONNECTED\")return void(this.role=e);let i,r=0;e===\"audience\"?this._clientRoleOptions&&this._clientRoleOptions.delay?(i=this._clientRoleOptions.delay,r=1):r=this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:r=0,await this.signal.request(et.SET_CLIENT_ROLE,{role:e,level:r,delay:i,client_ts:Date.now()}),this.role=e;}async setRemoteVideoStreamType(e,n){await this.signal.request(et.SWITCH_VIDEO_STREAM,{stream_id:e,stream_type:n});}async setDefaultRemoteVideoStreamType(e){await this.signal.request(et.DEFAULT_VIDEO_STREAM,{stream_type:e});}async setStreamFallbackOption(e,n){await this.signal.request(et.SET_FALLBACK_OPTION,{stream_id:e,fallback_type:n});}async pickSVCLayer(e,n){await this.signal.request(et.PICK_SVC_LAYER,{stream_id:e,spatial_layer:n.spatialLayer,temporal_layer:n.temporalLayer});}async setRTM2Flag(e){await this.signal.request(et.SET_RTM2_FLAG,{rtm2_flag:e});}async sendExtensionMessage(e,n,i){if(this.signal instanceof du)return this.signal.sendExtensionMessage(e,n,i)}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),jr({},this.inChannelInfo)}async getGatewayVersion(){return (await this.signal.request(et.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){let e=d_.get(this.joinInfo.cname);e&&e.delete(this.joinInfo.uid);}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0);}updateTurnConfigFromSignal(){if(!this.joinInfo)return;let e=function(n){let i;return i=n.startsWith(\"dc\")?n.match(/(dc\\:\\/\\/)?([^:]+):(\\d+)/):n.match(/(wss\\:\\/\\/)?([^:]+):(\\d+)/),i?{username:Ve.username,password:Ve.password,turnServerURL:i[2],tcpport:parseInt(i[3])+30,udpport:parseInt(i[3])+30,forceturn:!1}:null}((this.joinInfo.cloudProxyServer===\"disabled\"?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||\"\");this.joinInfo.turnServer.serversFromGateway=[],e&&this.joinInfo.turnServer.mode!==\"off\"&&this.joinInfo.cloudProxyServer===\"disabled\"&&this.joinInfo.turnServer.serversFromGateway.push(jr(jr({},Ve),{},{turnServerURL:e.turnServerURL,tcpport:e.tcpport,udpport:e.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}));}async updateTrafficStats(){if(this.state!==\"CONNECTED\")return;let e=await this.signal.request(et.TRAFFIC_STATS,void 0,!0);e.timestamp=Date.now(),e.ntp_offset!=null&&(this.ntpOffset=e.ntp_offset),e.peer_delay.forEach(n=>{let i=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find(r=>r.peer_uid===n.peer_uid);i&&i.B_st!==n.B_st&&qu(()=>{this.emit(xe.STREAM_TYPE_CHANGE,n.peer_uid,n.B_st);});}),this._statsCollector.updateTrafficStats(e);}getJoinMessage(e){if(!this.joinInfo||!this.key)throw new O(R.UNEXPECTED_ERROR,\"can not generate join message, no join info\");let n=Object.assign({},this.joinInfo.apResponse),i=v(\"REPORT_APP_SCENARIO\");if(typeof i!=\"string\")try{i=JSON.stringify(i);}catch{i=void 0;}i&&i.length>128&&(i=void 0);let r=!($t()||EO(87)||pC())&&typeof v(\"ENABLE_PRE_SUB\")==\"boolean\"&&v(\"ENABLE_PRE_SUB\"),o=!pC()&&Xi(\"ENABLE_PREALLOC_PC\",\"boolean\"),s=jr({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:ii,browser:navigator.userAgent,process_id:v(\"PROCESS_ID\"),mode:this.store.useP2P?\"p2p\":this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:n,extend:v(\"JOIN_EXTEND\"),details:{6:this.joinInfo.stringUid,cservice_map:this.joinInfo.cloudProxyServer===\"proxy3\"?\"1\":this.joinInfo.cloudProxyServer===\"proxy5\"?\"2\":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:i,attributes:{userAttributes:{enablePublishedUserList:v(\"ENABLE_PUBLISHED_USER_LIST\"),maxSubscription:v(\"MAX_SUBSCRIPTION\"),subscribeAudioFilterTopN:typeof v(\"SUBSCRIBE_AUDIO_FILTER_TOPN\")==\"number\"?v(\"SUBSCRIBE_AUDIO_FILTER_TOPN\"):void 0,enablePublishAudioFilter:typeof v(\"ENABLE_PUBLISH_AUDIO_FILTER\")==\"boolean\"?v(\"ENABLE_PUBLISH_AUDIO_FILTER\"):void 0,enableUserLicenseCheck:typeof v(\"ENABLE_USER_LICENSE_CHECK\")==\"boolean\"?v(\"ENABLE_USER_LICENSE_CHECK\"):void 0,enableRTX:v(\"USE_PUB_RTX\")===!0||v(\"USE_SUB_RTX\")===!0||void 0,disableFEC:v(\"DISABLE_FEC\"),enableNTPReport:!!v(\"ENABLE_NTP_REPORT\")||void 0,enableInstantVideo:!!v(\"ENABLE_INSTANT_VIDEO\")||void 0,enableFulllinkAvSync:!!v(\"ENABLE_FULL_LINK_AV_SYNC\")||void 0,enableDataStream2:Xi(\"ENABLE_DATASTREAM_2\",\"boolean\"),enableAutFeedback:!!v(\"ENABLE_AUT_FEEDBACK\")||void 0,rtm2Flag:typeof this.joinInfo.rtmFlag==\"number\"?this.joinInfo.rtmFlag:void 0,enableUserAutoRebalanceCheck:!!v(\"ENABLE_USER_AUTO_REBALANCE_CHECK\"),enableXR:Xi(\"USE_XR\",\"boolean\"),enableLossbasedBwe:Xi(\"ENABLE_LOSSBASED_BWE\",\"boolean\"),enableAutCC:!!v(\"ENABLE_AUT_CC\")||void 0,enableCCFallback:Xi(\"ENABLE_CC_FALLBACK\",\"boolean\"),enablePreallocPC:o,preSubNum:r?Xi(\"PRE_SUB_NUM\",\"number\"):void 0,enablePubTWCC:Xi(\"PUBLISH_TWCC\",\"boolean\"),enableSubTWCC:Xi(\"SUBSCRIBE_TWCC\",\"boolean\"),enablePubRTX:Xi(\"USE_PUB_RTX\",\"boolean\"),enableSubRTX:Xi(\"USE_SUB_RTX\",\"boolean\"),enableSubSVC:v(\"ENABLE_SVC\")?v(\"ENABLE_SVC_DEFAULT_CODECS\"):Array.isArray(v(\"SVC\"))&&v(\"SVC\").length!==0?v(\"SVC\"):void 0}},join_ts:this.joinGatewayStartTime},e);return this.joinInfo.stringUid&&(s.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(s.aes_mode=this.joinInfo.aesmode,v(\"ENCRYPT_AES\")?(s.aes_secret=this.joinInfo.aespassword,s.aes_encrypt=!0):s.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(s.aes_salt=this.joinInfo.aessalt)),n.addresses[this.signal.websocket.currentURLIndex]&&(s.ap_response.ticket=n.addresses[this.signal.websocket.currentURLIndex].ticket,delete n.addresses),this.joinInfo.defaultVideoStream!==void 0&&(s.default_video_stream=this.joinInfo.defaultVideoStream),s}getRejoinMessage(){if(!this.joinInfo)throw new O(R.UNEXPECTED_ERROR,\"can not generate rejoin message, no join info\");return {session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(nt.WS_RECONNECT_WAITTING_FINISH,e=>{var n;W(n=[\"tryNext\",\"recover\"]).call(n,e)&&this.joinInfo&&X.adjustSessionStartTime(this.joinInfo.sid);}),this.signal.on(nt.WS_RECONNECT_CREATE_CONNECTION,e=>{this.joinGatewayStartTime=Date.now();}),this.signal.on(nt.WS_RECONNECTING,e=>{this.joinInfo&&X.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:e||Be.NETWORK_ERROR}),this.joinInfo&&(this.state=\"RECONNECTING\",X.sessionInit(this.joinInfo.sid,{lts:new Date().getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode,stringUid:this.joinInfo.stringUid,channelProfile:this.spec.mode===\"live\"?1:0,channelMode:0,lsid:this.joinInfo.sid,clientRole:this.role===\"audience\"?2:1,buildFormat:2}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now());}),this.signal.on(nt.WS_CLOSED,e=>{let n;switch(e){case At.LEAVE:n=Be.LEAVE;break;case At.UID_BANNED:case At.IP_BANNED:case At.CHANNEL_BANNED:case At.SERVER_ERROR:n=Be.SERVER_ERROR;break;case At.FALLBACK:n=Be.FALLBACK;break;case At.LICENSE_MISSING:case At.LICENSE_EXPIRED:case At.LICENSE_MINUTES_EXCEEDED:case At.LICENSE_PERIOD_INVALID:case At.LICENSE_MULTIPLE_SDK_SERVICE:case At.LICENSE_ILLEGAL:case At.TOKEN_EXPIRE:n=e;break;default:n=Be.NETWORK_ERROR;}_.debug(\"[\".concat(this.store.clientId,\"] [signal] websocket closed, reason: \").concat(n||\"undefined -> \"+Be.NETWORK_ERROR)),this.joinInfo&&X.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:e===At.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:n}),this._disconnectedReason=e,e!==At.FALLBACK&&(this.state=\"DISCONNECTED\"),this.reset();}),this.signal.on(nt.WS_CONNECTED,()=>{if(this.updateTurnConfigFromSignal(),this.state=\"CONNECTED\",this.joinInfo&&(this.role===\"audience\"&&this._clientRoleOptions&&(this._clientRoleOptions.level||this._clientRoleOptions.delay)&&(_.debug(\"[\".concat(this.store.clientId,\"] patch to send set client role, role: \").concat(this.role,\", mode: \").concat(this.spec.mode,\", level: \").concat(this._clientRoleOptions.level,\", delay: \").concat(this._clientRoleOptions.delay)),this.setClientRole(this.role,this._clientRoleOptions)),X.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:\"0\",preload:this.joinInfo.preload}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint&&this.joinInfo.setLocalAPVersion===1)){let e=this.signal.url&&this.signal.url.match(/wss\\:\\/\\/([^:]+):(\\d+)/);if(!e)return void _.error(\"[\".concat(this.store.clientId,\"] set local access point after joined failed: \").concat(e));Ot(\"EVENT_REPORT_DOMAIN\",e[1]),Ot(\"EVENT_REPORT_BACKUP_DOMAIN\",e[1]),Ot(\"LOG_UPLOAD_SERVER\",\"\".concat(e[1],\":6444\"));}}),this.signal.on(dt.ON_UPLINK_STATS,e=>{this._statsCollector.updateUplinkStats(e);}),this.signal.on(nt.REQUEST_RECOVER,(e,n,i)=>{if(!this.joinInfo)return i(new O(R.UNEXPECTED_ERROR,\"gateway: can not recover, no join info\"));e&&(this.joinInfo.multiIP=e,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,Ge(this,xe.REQUEST_NEW_GATEWAY_LIST).then(n).catch(i);}),this.signal.on(nt.REQUEST_JOIN_INFO,async e=>{var n;if(this.updateTurnConfigFromSignal(),this.store.useP2P)return void e(this.getJoinMessage({ortc:{}}));let{iceParameters:i,dtlsParameters:r,rtpCapabilities:o}=await Ge(this,xe.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:(n=this.joinInfo)===null||n===void 0?void 0:n.turnServer});e(this.getJoinMessage({ortc:{iceParameters:i,dtlsParameters:r,rtpCapabilities:o,version:\"2\"}}));}),this.signal.on(nt.REQUEST_REJOIN_INFO,e=>{e(this.getRejoinMessage());}),this.signal.on(nt.REPORT_JOIN_GATEWAY,(e,n)=>{if(!this.joinInfo)return;let i,r=\"\";var o;e instanceof O?(i=((o=e.data)===null||o===void 0?void 0:o.desc)||e.code,r=e.message):i=e,X.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:i,errorMsg:r,addr:n,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:\"0\",preload:this.joinInfo.preload}),this._isProactiveJoin=!1;}),this.signal.on(nt.IS_P2P_DISCONNECTED,e=>{e(Ac(this,xe.IS_P2P_DISCONNECTED));}),this.signal.on(nt.DISCONNECT_P2P,()=>{this.emit(xe.DISCONNECT_P2P);}),this.signal.on(nt.REQUEST_SUCCESS,()=>{this._signalTimeout=!1;}),this.signal.on(nt.REQUEST_TIMEOUT,()=>{this._signalTimeout=!0;}),this.signal.on(nt.JOIN_RESPONSE,e=>{let n=this.getCurrentGatewayAddress();this.emit(xe.JOIN_RESPONSE,e,n);}),this.signal.on(nt.PRE_CONNECT_PC,async()=>{if(this.joinInfo){this.updateTurnConfigFromSignal();let e=this.getCurrentGatewayAddress(),n=v(\"FINGERPRINT\")||this.joinInfo.apResponse.addresses[this.signal.currentURLIndex].fingerprint;if(e&&n){let i=i0(e);this.emit(xe.PRE_CONNECT_PC,{candidates:i,fingerprint:n});}}});}async tryUnsubBeforeResub(e,n){try{await this.signal.request(et.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:e,ortc:[n]},!0);}catch(i){throw _.warning(\"[\".concat(this.store.clientId,\"] tryUnsubBeforeResub warning\"),i),i}}async tryUnsubDataChannelBeforeResub(e,n){try{await this.signal.request(et.UNSUBSCRIBE,{stream_id:n.id},!0);}catch(i){throw _.warning(\"unsubscribe datachannel warning\",i),i}}async tryUnpubBeforeRepub(e,n){try{await this.signal.request(et.UNPUBLISH,{stream_id:e,ortc:n},!0);}catch(i){throw _.warning(\"[\".concat(this.store.clientId,\"] tryUnpubBeforeRepub warning: \"),i),i}}async tryUnpubDataChannelBeforeRepub(e,n){try{await this.signal.request(et.UNPUBLISH_DATASTREAM,{channnel_id:n.channelId},!0);}catch(i){throw _.warning(\"unpublish datastream warning: \",i),i}}async tryMassUnsubBeforeResub(e){let n={users:e.map(i=>({stream_id:i.stream_id,stream_type:i.stream_type}))};try{await this.signal.request(et.UNSUBSCRIBE_STREAMS,n,!0);}catch(i){throw _.warning(\"[\".concat(this.store.clientId,\"] tryMassUnsubBeforeResub warning\"),i),i}}async muteLocal(e,n){let i={action:e.find(r=>r.stream_type===Ct.Audio)?\"mute_local_audio\":\"mute_local_video\",p2p_id:this.store.p2pId,ortc:e,stream_id:n};try{await this.signal.request(et.CONTROL,i,!0,!0);}catch(r){throw _.warning(\"[\".concat(this.store.clientId,\"] gateway muteLocal warning: \"),r),r}}async unmuteLocal(e,n){let i={action:e.find(r=>r.stream_type===Ct.Audio)?\"unmute_local_audio\":\"unmute_local_video\",p2p_id:this.store.p2pId,ortc:e,stream_id:n};try{await this.signal.request(et.CONTROL,i,!0,!0);}catch(r){throw _.warning(\"[\".concat(this.store.clientId,\"] gateway unmuteLocal warning: \"),r),r}}async muteRemote(e,n){let i={action:e===Q.AUDIO?\"mute_remote_audio\":\"mute_remote_video\",p2p_id:this.store.p2pId,stream_id:n};try{await this.signal.request(et.CONTROL,i,!0,!0);}catch(r){throw _.warning(\"[\".concat(this.store.clientId,\"] gateway muteRemote warning: \"),r),r}}async unmuteRemote(e,n){let i={action:e===Q.AUDIO?\"unmute_remote_audio\":\"unmute_remote_video\",p2p_id:this.store.p2pId,stream_id:n};try{await this.signal.request(et.CONTROL,i,!0,!0);}catch(r){throw _.warning(\"[\".concat(this.store.clientId,\"] gateway unmuteRemote warning: \"),r),r}}uploadWRTCStats(e){this.signal.uploadWRTCStats(e);}upload(e,n){this.signal.upload(e,n);}getSignalRTT(){return this.signal.rtt}async restartICE(e){let n={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:e};try{return await this.signal.request(et.RESTART_ICE,n,!0)}catch(i){throw _.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.restartICE warning: \"),i),i}}reconnect(){this.state===\"CONNECTED\"&&this.signal.reconnect(void 0,Be.P2P_FAILED);}getCurrentGatewayAddress(){var e,n;if(!v(\"GATEWAY_WSS_ADDRESS\"))return v(\"USE_CANDIDATE_FROM_AP_DETAIL\")&&(e=this.joinInfo)!==null&&e!==void 0&&e.apGatewayAddress?(_.debug(\"[\".concat(this.store.clientId,\"] use candidate from ap detail, \").concat(JSON.stringify(this.joinInfo.apGatewayAddress))),this.joinInfo.apGatewayAddress):(n=this.joinInfo)!==null&&n!==void 0&&n.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}async setPublishAudioFilterEnabled(e){await this.signal.request(et.SET_PARAMETER,{enablePublishAudioFilter:e});}},Hd=0,l_=0;function Hi(t,e,n,i){return new j((r,o)=>{e.timeout=e.timeout||v(\"HTTP_CONNECT_TIMEOUT\"),e.responseType=e.responseType||\"json\",e.data&&!n?(e.data=JSON.stringify(e.data),Hd+=ar(e.data)):n&&(e.data.size?Hd+=e.data.size:e.data instanceof FormData?Hd+=AO(e.data):Hd+=ar(JSON.stringify(e.data))),e.headers=e.headers||{},e.headers[\"Content-Type\"]=e.headers[\"Content-Type\"]||\"application/json\",e.method=\"POST\",e.url=t,mn.request(e).then(s=>{typeof s.data==\"string\"?l_+=ar(s.data):s.data instanceof ArrayBuffer||s.data instanceof Uint8Array?l_+=s.data.byteLength:l_+=ar(JSON.stringify(s.data)),i&&r({data:s.data,headers:s.headers}),r(s.data);}).catch(s=>{mn.isCancel(s)?o(new O(R.OPERATION_ABORTED,\"cancel token canceled\")):s.code===\"ECONNABORTED\"?o(new O(R.NETWORK_TIMEOUT,s.message)):s.response?o(new O(R.NETWORK_RESPONSE_ERROR,s.response.status)):o(new O(R.NETWORK_ERROR,s.message));});})}(function(){var t;function e(L){var F=0;return function(){return F<L.length?{done:!1,value:L[F++]}:{done:!0}}}var n=typeof Object.defineProperties==\"function\"?Object.defineProperty:function(L,F,Y){return L==Array.prototype||L==Object.prototype||(L[F]=Y.value),L},i,r=function(L){L=[typeof globalThis==\"object\"&&globalThis,L,typeof window==\"object\"&&window,typeof self==\"object\"&&self,typeof Vs==\"object\"&&Vs];for(var F=0;F<L.length;++F){var Y=L[F];if(Y&&Y.Math==Math)return Y}throw Error(\"Cannot find global object\")}(this);function o(L,F){if(F)t:{var Y=r;L=L.split(\".\");for(var M=0;M<L.length-1;M++){var m=L[M];if(!(m in Y))break t;Y=Y[m];}(F=F(M=Y[L=L[L.length-1]]))!=M&&F!=null&&n(Y,L,{configurable:!0,writable:!0,value:F});}}function s(L){return (L={next:L})[Symbol.iterator]=function(){return this},L}function a(L){var F=typeof Symbol<\"u\"&&Symbol.iterator&&L[Symbol.iterator];return F?F.call(L):{next:e(L)}}if(o(\"Symbol\",function(L){function F(m,I){this.A=m,n(this,\"description\",{configurable:!0,writable:!0,value:I});}if(L)return L;F.prototype.toString=function(){return this.A};var Y=\"jscomp_symbol_\"+(1e9*Math.random()>>>0)+\"_\",M=0;return function m(I){if(this instanceof m)throw new TypeError(\"Symbol is not a constructor\");return new F(Y+(I||\"\")+\"_\"+M++,I)}}),o(\"Symbol.iterator\",function(L){if(L)return L;L=Symbol(\"Symbol.iterator\");for(var F=\"Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array\".split(\" \"),Y=0;Y<F.length;Y++){var M=r[F[Y]];typeof M==\"function\"&&typeof M.prototype[L]!=\"function\"&&n(M.prototype,L,{configurable:!0,writable:!0,value:function(){return s(e(this))}});}return L}),typeof Object.setPrototypeOf==\"function\")i=Object.setPrototypeOf;else {var c;t:{var d={};try{d.__proto__={a:!0},c=d.a;break t}catch{}c=!1;}i=c?function(L,F){if(L.__proto__=F,L.__proto__!==F)throw new TypeError(L+\" is not extensible\");return L}:null;}var l=i;function u(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null;}function h(L){if(L.m)throw new TypeError(\"Generator is already running\");L.m=!0;}function p(L,F){return L.h=3,{value:F}}function g(L){this.g=new u,this.G=L;}function E(L,F,Y,M){try{var m=F.call(L.g.j,Y);if(!(m instanceof Object))throw new TypeError(\"Iterator result \"+m+\" is not an object\");if(!m.done)return L.g.m=!1,m;var I=m.value;}catch(y){return L.g.j=null,L.g.s(y),f(L)}return L.g.j=null,M.call(L.g,I),f(L)}function f(L){for(;L.g.h;)try{var F=L.G(L.g);if(F)return L.g.m=!1,{value:F.value,done:!1}}catch(Y){L.g.v=void 0,L.g.s(Y);}if(L.g.m=!1,L.g.l){if(F=L.g.l,L.g.l=null,F.F)throw F.D;return {value:F.return,done:!0}}return {value:void 0,done:!0}}function S(L){this.next=function(F){return L.o(F)},this.throw=function(F){return L.s(F)},this.return=function(F){return function(Y,M){h(Y.g);var m=Y.g.j;return m?E(Y,\"return\"in m?m.return:function(I){return {value:I,done:!0}},M,Y.g.return):(Y.g.return(M),f(Y))}(L,F)},this[Symbol.iterator]=function(){return this};}function C(L,F){return F=new S(new g(F)),l&&L.prototype&&l(F,L.prototype),F}if(u.prototype.o=function(L){this.v=L;},u.prototype.s=function(L){this.l={D:L,F:!0},this.h=this.C||this.u;},u.prototype.return=function(L){this.l={return:L},this.h=this.u;},g.prototype.o=function(L){return h(this.g),this.g.j?E(this,this.g.j.next,L,this.g.o):(this.g.o(L),f(this))},g.prototype.s=function(L){return h(this.g),this.g.j?E(this,this.g.j.throw,L,this.g.o):(this.g.s(L),f(this))},o(\"Array.prototype.entries\",function(L){return L||function(){return function(F,Y){F instanceof String&&(F+=\"\");var M=0,m=!1,I={next:function(){if(!m&&M<F.length){var y=M++;return {value:Y(y,F[y]),done:!1}}return m=!0,{done:!0,value:void 0}}};return I[Symbol.iterator]=function(){return I},I}(this,function(F,Y){return [F,Y]})}}),typeof Blob<\"u\"&&(typeof FormData>\"u\"||!FormData.prototype.keys)){var A=function(L,F){for(var Y=0;Y<L.length;Y++)F(L[Y]);},b=function(L){return L.replace(/\\r?\\n|\\r/g,`\\r\n`)},w=function(L,F,Y){return F instanceof Blob?(Y=Y!==void 0?Y+\"\":typeof F.name==\"string\"?F.name:\"blob\",F.name===Y&&Object.prototype.toString.call(F)!==\"[object Blob]\"||(F=new File([F],Y)),[String(L),F]):[String(L),String(F)]},D=function(L,F){if(L.length<F)throw new TypeError(F+\" argument required, but only \"+L.length+\" present.\")},k=typeof globalThis==\"object\"?globalThis:typeof window==\"object\"?window:typeof self==\"object\"?self:this,B=k.FormData,V=k.XMLHttpRequest&&k.XMLHttpRequest.prototype.send,z=k.Request&&k.fetch,lt=k.navigator&&k.navigator.sendBeacon,vt=k.Element&&k.Element.prototype,Dt=k.Symbol&&Symbol.toStringTag;Dt&&(Blob.prototype[Dt]||(Blob.prototype[Dt]=\"Blob\"),\"File\"in k&&!File.prototype[Dt]&&(File.prototype[Dt]=\"File\"));try{new File([],\"\");}catch{k.File=function(F,Y,M){return F=new Blob(F,M||{}),Object.defineProperties(F,{name:{value:Y},lastModified:{value:+(M&&M.lastModified!==void 0?new Date(M.lastModified):new Date)},toString:{value:function(){return \"[object File]\"}}}),Dt&&Object.defineProperty(F,Dt,{value:\"File\"}),F};}var ce=function(L){return L.replace(/\\n/g,\"%0A\").replace(/\\r/g,\"%0D\").replace(/\"/g,\"%22\")},Wt=function(L){this.i=[];var F=this;L&&A(L.elements,function(Y){if(Y.name&&!Y.disabled&&Y.type!==\"submit\"&&Y.type!==\"button\"&&!Y.matches(\"form fieldset[disabled] *\"))if(Y.type===\"file\"){var M=Y.files&&Y.files.length?Y.files:[new File([],\"\",{type:\"application/octet-stream\"})];A(M,function(m){F.append(Y.name,m);});}else Y.type===\"select-multiple\"||Y.type===\"select-one\"?A(Y.options,function(m){!m.disabled&&m.selected&&F.append(Y.name,m.value);}):Y.type===\"checkbox\"||Y.type===\"radio\"?Y.checked&&F.append(Y.name,Y.value):(M=Y.type===\"textarea\"?b(Y.value):Y.value,F.append(Y.name,M));});};if((t=Wt.prototype).append=function(L,F,Y){D(arguments,2),this.i.push(w(L,F,Y));},t.delete=function(L){D(arguments,1);var F=[];L=String(L),A(this.i,function(Y){Y[0]!==L&&F.push(Y);}),this.i=F;},t.entries=function L(){var F,Y=this;return C(L,function(M){if(M.h==1&&(F=0),M.h!=3)return F<Y.i.length?M=p(M,Y.i[F]):(M.h=0,M=void 0),M;F++,M.h=2;})},t.forEach=function(L,F){D(arguments,1);for(var Y=a(this),M=Y.next();!M.done;M=Y.next()){var m=a(M.value);M=m.next().value,m=m.next().value,L.call(F,m,M,this);}},t.get=function(L){D(arguments,1);var F=this.i;L=String(L);for(var Y=0;Y<F.length;Y++)if(F[Y][0]===L)return F[Y][1];return null},t.getAll=function(L){D(arguments,1);var F=[];return L=String(L),A(this.i,function(Y){Y[0]===L&&F.push(Y[1]);}),F},t.has=function(L){D(arguments,1),L=String(L);for(var F=0;F<this.i.length;F++)if(this.i[F][0]===L)return !0;return !1},t.keys=function L(){var F,Y,M,m,I=this;return C(L,function(y){if(y.h==1&&(F=a(I),Y=F.next()),y.h!=3)return Y.done?void(y.h=0):(M=Y.value,m=a(M),p(y,m.next().value));Y=F.next(),y.h=2;})},t.set=function(L,F,Y){D(arguments,2),L=String(L);var M=[],m=w(L,F,Y),I=!0;A(this.i,function(y){y[0]===L?I&&(I=!M.push(m)):M.push(y);}),I&&M.push(m),this.i=M;},t.values=function L(){var F,Y,M,m,I=this;return C(L,function(y){if(y.h==1&&(F=a(I),Y=F.next()),y.h!=3)return Y.done?void(y.h=0):(M=Y.value,(m=a(M)).next(),p(y,m.next().value));Y=F.next(),y.h=2;})},Wt.prototype._asNative=function(){for(var L=new B,F=a(this),Y=F.next();!Y.done;Y=F.next()){var M=a(Y.value);Y=M.next().value,M=M.next().value,L.append(Y,M);}return L},Wt.prototype._blob=function(){var L=\"----formdata-polyfill-\"+Math.random(),F=[],Y=\"--\"+L+`\\r\nContent-Disposition: form-data; name=\"`;return this.forEach(function(M,m){return typeof M==\"string\"?F.push(Y+ce(b(m))+`\"\\r\n\\r\n`+b(M)+`\\r\n`):F.push(Y+ce(b(m))+'\"; filename=\"'+ce(M.name)+`\"\\r\nContent-Type: `+(M.type||\"application/octet-stream\")+`\\r\n\\r\n`,M,`\\r\n`)}),F.push(\"--\"+L+\"--\"),new Blob(F,{type:\"multipart/form-data; boundary=\"+L})},Wt.prototype[Symbol.iterator]=function(){return this.entries()},Wt.prototype.toString=function(){return \"[object FormData]\"},vt&&!vt.matches&&(vt.matches=vt.matchesSelector||vt.mozMatchesSelector||vt.msMatchesSelector||vt.oMatchesSelector||vt.webkitMatchesSelector||function(L){for(var F=(L=(this.document||this.ownerDocument).querySelectorAll(L)).length;0<=--F&&L.item(F)!==this;);return -1<F}),Dt&&(Wt.prototype[Dt]=\"FormData\"),V){var si=k.XMLHttpRequest.prototype.setRequestHeader;k.XMLHttpRequest.prototype.setRequestHeader=function(L,F){si.call(this,L,F),L.toLowerCase()===\"content-type\"&&(this.B=!0);},k.XMLHttpRequest.prototype.send=function(L){L instanceof Wt?(L=L._blob(),this.B||this.setRequestHeader(\"Content-Type\",L.type),V.call(this,L)):V.call(this,L);};}z&&(k.fetch=function(L,F){return F&&F.body&&F.body instanceof Wt&&(F.body=F.body._blob()),z.call(this,L,F)}),lt&&(k.navigator.sendBeacon=function(L,F){return F instanceof Wt&&(F=F._asNative()),lt.call(this,L,F)}),k.FormData=Wt;}})();var Mc=()=>{let t=v(\"AREAS\");return t.length===0&&t.push(St.GLOBAL),ji(t).call(t,(e,n,i)=>{let r=d0(n);return r?i===0?r:\"\".concat(e,\",\").concat(r):e},\"\")},d0=t=>t===St.OVERSEA?\"\".concat(Ye.ASIA,\",\").concat(Ye.EUROPE,\",\").concat(Ye.AFRICA,\",\").concat(Ye.NORTH_AMERICA,\",\").concat(Ye.SOUTH_AMERICA,\",\").concat(Ye.OCEANIA):Ye[t],jG=t=>{let e={CODE:\"\",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return t.map(n=>{let i=Zu[n],r=Object.keys(i);r&&r.map(o=>{o!==\"CODE\"&&(e[o]=e[o].concat(i[o]));});}),e},yl={GLOBAL:{ASIA:[St.CHINA,St.JAPAN,St.INDIA,St.KOREA,St.HKMC],EUROPE:[],NORTH_AMERICA:[St.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},Kd=Object.keys(yl[St.GLOBAL]),u_=[St.CHINA,St.NORTH_AMERICA,St.EUROPE,St.ASIA,St.JAPAN,St.INDIA,St.OCEANIA,St.SOUTH_AMERICA,St.AFRICA,St.KOREA,St.HKMC,St.US],GG=function(t,e){let n=[];if(W(t).call(t,St.GLOBAL)){let o=[St.GLOBAL,St.OVERSEA],s=Object.keys(Zu);if(e===St.GLOBAL)throw new O(R.INVALID_PARAMS,\"GLOBAL is an invalid excludedArea value\");if(e===St.CHINA)n=[St.OVERSEA];else if(r=e,W(Kd).call(Kd,r)){let a=(i=e,yl[St.GLOBAL][i]||[]),c=[...o,e,...a];n=s.filter(d=>!W(c).call(c,d));}else if(function(a){let c=!1;return Kd.forEach(d=>{var l;W(l=yl[St.GLOBAL][d]).call(l,a)&&(c=!0);}),c}(e)){let a=function(d){let l;return Kd.forEach(u=>{var h;W(h=yl[St.GLOBAL][u]).call(h,d)&&(l=u);}),l}(e),c=[...o,a,e];n=s.filter(d=>!W(c).call(c,d));}else n=t;n=function(a){let c=[];return u_.forEach(d=>{W(a).call(a,d)&&c.push(d);}),c.concat(a.filter(d=>!W(u_).call(u_,d)))}(n);}else n=t;var i,r;return n};function XI(t){var e,n;if(!t&&W(e=v(\"AREAS\")).call(e,St.EXTENSIONS))return _.debug(\"update area from ap : reset\"),void Af(vB,!0);if(!W(n=v(\"AREAS\")).call(n,St.GLOBAL)||!t)return;let i=Zu.EXTENSIONS;i&&(i={CODE:d0(St.EXTENSIONS),WEBCS_DOMAIN:[\"ap-web-1-\".concat(t,\".agora.io\")],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-\".concat(t,\".ap.sd-rtn.com\")],PROXY_CS:[\"proxy-ap-web-\".concat(t,\".agora.io\")],CDS_AP:[\"cds-ap-web-1-\".concat(t,\".agora.io\"),\"cds-ap-web-2-\".concat(t,\".ap.sd-rtn.com\")],ACCOUNT_REGISTER:[\"sua-ap-web-1-\".concat(t,\".agora.io\"),\"sua-ap-web-2-\".concat(t,\".ap.sd-rtn.com\")],UAP_AP:[\"uap-ap-web-1-\".concat(t,\".agora.io\"),\"uap-ap-web-2-\".concat(t,\".ap.sd-rtn.com\")],EVENT_REPORT_DOMAIN:[\"statscollector-1-\".concat(t,\".agora.io\")],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-\".concat(t,\".agora.io\")],LOG_UPLOAD_SERVER:[\"logservice-\".concat(t,\".agora.io\")],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy-\".concat(t,\".agora.io\")]},_.debug(\"update area from ap success: \".concat(t,\",config is \"),i),Ot(\"AREAS\",[St.EXTENSIONS],!0),Object.keys(i).map(r=>{r===\"LOG_UPLOAD_SERVER\"||r===\"EVENT_REPORT_DOMAIN\"||r===\"EVENT_REPORT_BACKUP_DOMAIN\"||r===\"PROXY_SERVER_TYPE3\"?Ot(r,i[r][0]):Ot(r,i[r]);}));}function Af(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=X.reportApiInvoke(null,{name:Te.SET_AREA,options:t,tag:Zt.TRACER});try{let i=[];if(typeof t==\"string\"&&(i=[t]),Array.isArray(t)&&(t.forEach(o=>{if(!W(UR).call(UR,o))throw new O(R.INVALID_PARAMS,\"invalid area code\")}),i=t),Object.prototype.toString.call(t)===\"[object Object]\"){let{areaCode:o,excludedArea:s}=t;if(!o)throw new O(R.INVALID_PARAMS,\"area code is needed\");let a=o;typeof o==\"string\"&&(a=[o]),i=s?GG(a,s):a;}if(!e){if($r.AREAS){let o=new O(R.PROHIBITED_OPERATION,\"setArea is prohibited because of config-distribute\");return n.onError(o),void _.warning(\"setArea is prohibited because of config-distribute\")}if(W(i).call(i,St.GLOBAL)&&v(\"AREAS\")===St.EXTENSIONS){let o=new O(R.PROHIBITED_OPERATION,\"setArea is prohibited because of ap extensions\");return n.onError(o),void _.warning(\"setArea is prohibited because of ap extensions\")}}Ot(\"AREAS\",i,e);let r=jG(i);Object.keys(r).map(o=>{o===\"LOG_UPLOAD_SERVER\"||o===\"EVENT_REPORT_DOMAIN\"||o===\"EVENT_REPORT_BACKUP_DOMAIN\"||o===\"PROXY_SERVER_TYPE3\"?Ot(o,r[o][0]):Ot(o,r[o]);}),_.debug(\"set area success:\",i.join(\",\"));}catch(i){throw n.onError(i),i}n.onSuccess();}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var h_=1;function WG(t,e,n,i,r){h_+=1;let o={sid:n.sid,command:\"convergeAllocateEdge\",uid:\"666\",appId:n.appId,ts:Math.floor(Date.now()/1e3),seq:h_,requestId:h_,version:ii,cname:n.cname},s={service_name:e,json_body:JSON.stringify(o)},a,c,d=t[0];return Wi(async()=>{a=Date.now();let l=await Hi(d,{data:s,cancelToken:i,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"}});if(c=Date.now()-a,l.code!==0){let p=new O(R.UNEXPECTED_RESPONSE,\"live streaming ap error, code\"+l.code,{retry:!0,responseTime:c});throw _.error(p.toString()),p}let u=JSON.parse(l.json_body);if(u.code!==200){let p=new O(R.UNEXPECTED_RESPONSE,\"live streaming app center error, code: \".concat(u.code,\", reason: \").concat(u.reason),{code:u.code,responseTime:c});throw _.error(p.toString()),p}if(!u.servers||u.servers.length===0){let p=new O(R.UNEXPECTED_RESPONSE,\"live streaming app center empty server\",{code:u.code,responseTime:c});throw _.error(p.toString()),p}let h=function(p,g){return {addressList:p.servers.map(E=>\"wss://\".concat(E.address.replace(/\\./g,\"-\"),\".\").concat(v(\"WORKER_DOMAIN\"),\":\").concat(E.wss,\"?serviceName=\").concat(encodeURIComponent(g))),workerToken:p.workerToken,vid:p.vid}}(u,e);return v(\"LIVE_STREAMING_ADDRESS\")&&(h.addressList=v(\"LIVE_STREAMING_ADDRESS\")instanceof Array?v(\"LIVE_STREAMING_ADDRESS\"):[v(\"LIVE_STREAMING_ADDRESS\")]),em(em({},h),{},{responseTime:c})},(l,u)=>(X.apworkerEvent(n.sid,{success:!0,sc:200,serviceName:e,responseDetail:JSON.stringify(l.addressList),firstSuccess:u===0,responseTime:c,serverIp:t[u%t.length]}),!1),(l,u)=>(X.apworkerEvent(n.sid,{success:!1,sc:l.data&&l.data.code||200,serviceName:e,responseTime:c,serverIp:t[u%t.length]}),!!(l.code!==R.OPERATION_ABORTED&&l.code!==R.UNEXPECTED_RESPONSE||l.data&&l.data.retry)&&(d=t[(u+1)%t.length],!0)),r)}var p_=1;function ZI(t,e,n,i){let{url:r,areaCode:o}=t,{clientId:s,sid:a}=e,c=Date.now(),d,[l,u]=wf(e,o,[ue.CHOOSE_SERVER]),h=he.networkState;return Wi(async()=>{h&&he.networkState===wn.OFFLINE&&he.onlineWaiter&&await j.race([he.onlineWaiter,Me(i&&i.maxRetryTimeout||Ee.maxRetryTimeout)]),h=he.networkState;let{data:p,headers:g}=await Hi(r,{data:l,cancelToken:n,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0,!0);d=g.http3===\"1\"?1:-1,X.reportResourceTiming(r,a),l0(p,r,e,c,[ue.CHOOSE_SERVER],d);let E=Dc(p,ue.CHOOSE_SERVER);return bf(E),mf(E,r)},p=>(p&&X.joinChooseServer(a,{lts:c,succ:!0,csAddr:r,opid:u,serverList:p.gatewayAddrs.map(g=>g.address),ec:null,cid:p.cid.toString(),uid:p.uid.toString(),csIp:p.csIp,unilbsServerIds:[ue.CHOOSE_SERVER].toString(),isHttp3:d}),!1),p=>p.code!==R.OPERATION_ABORTED&&(p.code===R.CAN_NOT_GET_GATEWAY_SERVER?p.data.retry:(X.joinChooseServer(a,{lts:c,succ:!1,csAddr:r,serverList:null,opid:u,ec:p.code,csIp:p.data&&p.data.csIp,unilbsServerIds:[ue.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:h}),isHttp3:d}),_.warning(\"[\".concat(s||\"sid-\".concat(a.slice(0,6)),\"] Choose server network error, retry\"),p),!0)),i)}function $I(t,e,n,i){let r,{url:o,areaCode:s,serviceIds:a}=t,c=Date.now(),[d,l]=wf(e,s,a),u;return Wi(async()=>{u&&he.networkState===wn.OFFLINE&&he.onlineWaiter&&await j.race([he.onlineWaiter,Me(i&&i.maxRetryTimeout||Ee.maxRetryTimeout)]),u=he.networkState;let{data:h,headers:p}=await Hi(o,{data:d,cancelToken:n,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0,!0);r=p.http3===\"1\"?1:-1,X.reportResourceTiming(o,e.sid),l0(h,o,e,c,a,r);let g=Dc(h,ue.CHOOSE_SERVER),E=Dc(h,e.cloudProxyServer===\"proxy5\"?ue.CLOUD_PROXY_5:e.cloudProxyServer===\"proxy3\"||e.cloudProxyServer===\"proxy4\"?ue.CLOUD_PROXY:ue.CLOUD_PROXY_FALLBACK);return bf(g),{gatewayInfo:mf(g,o),proxyInfo:E,url:o}},h=>(h.gatewayInfo&&X.joinChooseServer(e.sid,{lts:c,succ:!0,csAddr:o,serverList:h.gatewayInfo.gatewayAddrs.map(p=>p.address),ec:null,opid:l,cid:h.gatewayInfo.cid.toString(),uid:h.gatewayInfo.uid.toString(),csIp:h.gatewayInfo.csIp,unilbsServerIds:a.toString(),isHttp3:r}),h.proxyInfo&&X.joinWebProxyAP(e.sid,{lts:c,sucess:1,apServerAddr:o,turnServerAddrList:h.proxyInfo.addresses.map(p=>p.ip).join(\",\"),errorCode:null,eventType:e.cloudProxyServer,unilbsServerIds:a.toString()}),!1),h=>h.code!==R.OPERATION_ABORTED&&(h.code===R.CAN_NOT_GET_GATEWAY_SERVER?h.data.retry:(X.joinWebProxyAP(e.sid,{lts:c,sucess:0,apServerAddr:o,turnServerAddrList:null,errorCode:h.code,eventType:e.cloudProxyServer,unilbsServerIds:a.toString(),extend:JSON.stringify({networkState:u})}),_.warning(\"[\".concat(e.clientId,\"] multi unilbs network error, retry\"),h),!0)),i)}var l0=(t,e,n,i,r,o)=>{let{sid:s,clientId:a,cloudProxyServer:c}=n,d=[],l=u=>{u.flag===4096?X.joinChooseServer(s,{lts:i,succ:!1,csAddr:e,opid:t.opid,serverList:null,ec:u.error.message,csIp:u.error.data&&u.error.data.csIp,unilbsServerIds:r.toString(),isHttp3:o}):u.flag!==1048576&&u.flag!==4194304&&u.flag!==4194310||X.joinWebProxyAP(s,{lts:i,sucess:0,apServerAddr:e,turnServerAddrList:null,errorCode:u.error.code,eventType:c,unilbsServerIds:r.toString()});};if(t.response_body.forEach(u=>{let h=u.buffer.code;if(u.uri===23&&h===0&&!u.buffer.edges_services)if(u.buffer.flag===4194310)_.warning(\"no edge services in ap response of proxy fallback, will not set proxy in iceServers\"),u.buffer.edges_services=[];else {let p={error:new O(R.CAN_NOT_GET_GATEWAY_SERVER,\"no edge services in ap response\",{retry:!0,csIp:t.detail[502]}),flag:u.buffer.flag};d.push(p),l(p);}if(h!==0){let p=ta(h),g={error:new O(R.CAN_NOT_GET_GATEWAY_SERVER,p.desc,{desc:p.desc,retry:p.retry,csIp:t.detail[502]}),flag:u.buffer.flag};u.buffer.flag===4194310?_.warning(g.error.toString()):d.push(g),l(g);}}),d.length)throw _.warning(\"[\".concat(a||\"sid-\".concat(s.slice(0,6)),\"] multi unilbs \").concat(e,\" failed, \").concat(d.map(u=>\"flag: \".concat(u.flag,\", message: \").concat(u.error.message,\", retry: \").concat(u.error.data.retry)).join(\" | \"))),new O(R.CAN_NOT_GET_GATEWAY_SERVER,d.map(u=>\"flag: \".concat(u.flag,\", message: \").concat(u.error.message)).join(\" | \"),{retry:!!d.find(u=>u.error.data.retry),csIp:t.detail[502],desc:[...new Set(d.map(u=>{var h;return u==null||(h=u.error)===null||h===void 0||(h=h.data)===null||h===void 0?void 0:h.desc}).filter(u=>!!u))]})},bf=t=>{var e,n,i,r;if(t.addresses&&t.addresses.length===0&&t.code===0)throw new O(R.CAN_NOT_GET_GATEWAY_SERVER,\"void gateway address\",{retry:!0,csIp:t.detail&&t.detail[502]});if(v(\"AP_AREA\")&&((i=t.detail)!==null&&i!==void 0&&i[23]&&typeof((r=t.detail)===null||r===void 0?void 0:r[23])==\"string\"?XI(t.detail[23].toLowerCase()):XI()),(e=t.detail)!==null&&e!==void 0&&e[19]&&typeof((n=t.detail)===null||n===void 0?void 0:n[19])==\"string\"){let s=t.detail[19],a=s?.split(\";\");for(let c=0;c<a.length;c++){var o;let d=rn(o=a[c]).call(o);t.addresses[c]&&a&&(t.addresses[c].fingerprint=d);}}if(v(\"GATEWAY_ADDRESS\")&&v(\"GATEWAY_ADDRESS\").length>0){_.debug(\"assign gateway address to\",v(\"GATEWAY_ADDRESS\"));let s=v(\"GATEWAY_ADDRESS\").map(a=>{var c,d;let l=(c=(d=t.addresses.find(u=>u.ip===a.ip&&u.port===a.port))===null||d===void 0?void 0:d.fingerprint)!==null&&c!==void 0?c:\"\";return {ip:a.ip,port:a.port,ticket:t.addresses[0]&&t.addresses[0].ticket,fingerprint:l}});t.addresses=s;}},HG=(t,e)=>{if(t.response_body&&t.response_body.length){let n=t.response_body[0];if(n.buffer.code!==0){let i=ta(n.buffer.code);throw new O(R.UPDATE_TICKET_FAILED,\"[\".concat(n.buffer.code,\"]: \").concat(i.desc),{retry:i.retry})}return n.buffer.ticket}throw _.debug(\"update ticket request received ap response without response body:\",e),new O(R.UPDATE_TICKET_FAILED,\"cannot find response body from ap response\",{retry:!1})},wf=(t,e,n)=>{let i=Math.floor(Math.random()*1e12),r={appid:t.appId,client_ts:Date.now(),opid:i,sid:t.sid,request_bodies:[{uri:22,buffer:{cname:t.cname,detail:em({6:t.stringUid,11:e,12:v(\"USE_NEW_TOKEN\")?\"1\":void 0,22:e},t.apRTM?{26:\"RTM2\"}:{}),key:t.token,service_ids:n,uid:t.uid||0}}]};r.request_bodies.forEach(s=>{t.multiIP&&t.multiIP.gateway_ip&&(s.buffer.detail[5]=JSON.stringify({vocs_ip:[t.multiIP.uni_lbs_ip],vos_ip:[t.multiIP.gateway_ip]}));});let o=new FormData;return o.append(\"request\",JSON.stringify(r)),[o,i]},KG=(t,e)=>{let n=Math.floor(Math.random()*1e12),i={appid:t.appId,client_ts:Date.now(),opid:n,sid:t.sid,request_bodies:[{uri:28,buffer:{cname:t.cname,detail:{1:\"\",6:t.stringUid,12:\"1\"},token:t.token,service_ids:e,uid:t.uid||0,edges_services:t.apResponse.addresses.map(o=>({ip:o.ip,port:o.port}))}}]},r=new FormData;return r.append(\"request\",JSON.stringify(i)),[r,n]},Ys=0;function Ta(t){return j.all(t.map(e=>e.then(n=>{throw n},n=>n))).then(e=>{throw e},e=>e)}var Uc=async t=>{let{fragementLength:e,referenceList:n,asyncMapHandler:i,allFailedhandler:r,promisesCollector:o}=t,s=0,a=e,c,d=0,l=async()=>{let u=(()=>{let h=s*a,p=h+a;return n.slice(h,p).map(i)})();o&&o.push(...u);try{c=await Ta(u);}catch(h){if(d+=a,s++,!(d>=n.length))return void await l();r(h);}u.forEach(h=>h.cancel());};return await l(),c},u0=async t=>{let{referenceList:e,asyncMapHandler:n,closeFn:i}=t,r=e.length,o=0,s=async()=>{let a=n(e.shift());try{return await a}catch(c){if(o++,o>=r||i!=null&&i(c))throw c;return s()}};return s()};async function nm(t,e,n,i){return {gatewayInfo:await async function(o,s,a,c){let d=null,l=[],u=async()=>{let p=v(\"WEBCS_DOMAIN\").slice(0,v(\"AJAX_REQUEST_CONCURRENT\")).map(f=>({url:o.proxyServer?\"https://\".concat(o.proxyServer,\"/ap/?url=\").concat(f+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(f,\"/api/v2/transpond/webrtc?v=2\"),areaCode:Mc()})),g=c.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:p.map(f=>f.url)}),E=await Uc({fragementLength:v(\"FRAGEMENT_LENGTH\"),referenceList:p,asyncMapHandler:f=>(_.debug(\"[\".concat(o.clientId,\"] Connect to choose_server:\"),f.url),ZI(f,o,s,a)),allFailedhandler:f=>{throw c.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:f},g),f[0]},promisesCollector:l});return c.recordJoinChannelService({endTs:Date.now(),status:\"success\"},g),E},h=async()=>{if(await Me(1e3),d!==null)return d;let p=v(\"WEBCS_DOMAIN_BACKUP_LIST\").map(f=>({url:o.proxyServer?\"https://\".concat(o.proxyServer,\"/ap/?url=\").concat(f+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(f,\"/api/v2/transpond/webrtc?v=2\"),areaCode:Mc()})),g=c.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:p.map(f=>f.url)}),E=await Uc({fragementLength:v(\"FRAGEMENT_LENGTH\"),referenceList:p,asyncMapHandler:f=>(_.debug(\"[\".concat(o.clientId,\"] Connect to backup choose_server:\"),f.url),ZI(f,o,s,a)),allFailedhandler:f=>{throw c.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:f},g),f[0]},promisesCollector:l});return c.recordJoinChannelService({endTs:Date.now(),status:\"success\"},g),E};try{return d=await Ta([u(),h()]),l.length&&l.forEach(p=>p.cancel&&typeof p.cancel==\"function\"&&p.cancel()),d}catch(p){throw p[0]}}(t,e,n,i)}}async function tv(t,e,n,i,r){let o=t.cloudProxyServer;if(o===\"disabled\"){if(t.useLocalAccessPoint)return await nm(t,e,n,r);if(v(\"JOIN_WITH_FALLBACK_MEDIA_PROXY\")){let{gatewayInfo:h,proxyInfo:p}=await nv(t,e,n,r);if(t.turnServer&&t.turnServer.mode!==\"auto\")return {gatewayInfo:h};let g=p.map(E=>({turnServerURL:E.address,tcpport:E.tcpport||Ve.tcpport,udpport:E.udpport||Ve.udpport,username:E.username||Ve.username,password:E.password||Ve.password,forceturn:!1,security:!0}));if(r.useP2P){var s;let E=(s=t.uid)!==null&&s!==void 0?s:h.uid,f=\"glb:\".concat(E.toString()),S=await PE(f),C=p.map(A=>({turnServerURL:A.address,tcpport:A.tcpport||Ve.tcpport,udpport:A.udpport||Ve.udpport,username:f,password:S,forceturn:!1,security:!0}));g.push(...C);}return t.turnServer={mode:\"manual\",servers:g},{gatewayInfo:h}}return await nm(t,e,n,r)}let{proxyInfo:a,gatewayInfo:c}=await nv(t,e,n,r),d={gatewayInfo:c},l=a.map(h=>({turnServerURL:h.address,tcpport:o===\"proxy3\"?void 0:h.tcpport?h.tcpport:Ve.tcpport,udpport:o===\"proxy4\"?void 0:h.udpport?h.udpport:Ve.udpport,username:h.username||Ve.username,password:h.password||Ve.password,forceturn:o!==\"proxy4\",security:o===\"proxy5\"}));if(r.useP2P){var u;let h=(u=t.uid)!==null&&u!==void 0?u:c.uid,p=\"glb:\".concat(h.toString()),g=await PE(p),E=a.map(f=>({turnServerURL:f.address,tcpport:o===\"proxy3\"?void 0:f.tcpport||Ve.tcpport,udpport:o===\"proxy4\"?void 0:f.udpport||Ve.udpport,username:p,password:g,forceturn:o!==\"proxy4\",security:o===\"proxy5\"}));l.push(...E);}return t.turnServer={mode:\"manual\",servers:l},_.debug(\"[\".concat(t.clientId,\"] set proxy server: \").concat(t.proxyServer,\", mode: \").concat(o)),d}async function h0(t,e,n,i,r){let o=v(\"ACCOUNT_REGISTER\").slice(0,v(\"AJAX_REQUEST_CONCURRENT\")),s=[];s=e.proxyServer?o.map(c=>\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(c+\"/api/v1\")):o.map(c=>\"https://\".concat(c,\"/api/v1\"));let a=r?.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"stringUID\",urls:s});try{let c=await async function(d,l,u,h,p){let g=Date.now(),E={sid:u.sid,opid:10,appid:u.appId,string_uid:l},f=d[0],S=await Wi(()=>Hi(f+\"\".concat(f.indexOf(\"?\")===-1?\"?\":\"&\",\"action=stringuid\"),{data:E,cancelToken:h,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":72}}),(C,A)=>{if(C.code===0){if(C.uid<=0||C.uid>=Math.pow(2,32))throw _.error(\"Invalid Uint Uid \".concat(l,\" => \").concat(C.uid),C),X.reqUserAccount(E.sid,{lts:g,success:!1,serverAddr:f,stringUid:E.string_uid,uid:C.uid,errorCode:R.INVALID_UINT_UID_FROM_STRING_UID,extend:E}),new O(R.INVALID_UINT_UID_FROM_STRING_UID);return X.reqUserAccount(E.sid,{lts:g,success:!0,serverAddr:f,stringUid:E.string_uid,uid:C.uid,errorCode:null,extend:E}),!1}let b=ta(C.code);return b.retry&&(f=d[(A+1)%d.length]),X.reqUserAccount(E.sid,{lts:g,success:!1,serverAddr:f,stringUid:E.string_uid,uid:C.uid,errorCode:b.desc,extend:E}),b.retry},(C,A)=>C.code!==R.OPERATION_ABORTED&&(X.reqUserAccount(E.sid,{lts:g,success:!1,serverAddr:f,stringUid:E.string_uid,uid:null,errorCode:C.code,extend:E}),f=d[(A+1)%d.length],!0),p);if(S.code!==0){let C=ta(S.code);throw new O(R.UNEXPECTED_RESPONSE,C.desc)}return S}(s,t,e,n,i);return r?.recordJoinChannelService({status:\"success\",endTs:Date.now()},a),c.uid}catch(c){throw r?.recordJoinChannelService({status:\"error\",endTs:Date.now(),errors:[c]},a),c}}async function YG(t,e,n){let i=v(\"ACCOUNT_REGISTER\"),r=[];r=e.proxyServer?i.map(o=>\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(o+\"/api/v1\")):i.map(o=>\"https://\".concat(o,\"/api/v1\"));try{return await u0({referenceList:r,asyncMapHandler:s=>async function(a,c,d,l){let u=Date.now(),h={sid:d.sid,opid:10,appid:d.appId,string_uid:c};try{let p=await Hi(a+\"\".concat(a.indexOf(\"?\")===-1?\"?\":\"&\",\"action=stringuid\"),{data:h,cancelToken:l,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":72}});if(p.code!==0){let g=ta(p.code);throw new O(R.UNEXPECTED_RESPONSE,\"preload sua error:\".concat(g.desc),g)}if(p.uid<=0||p.uid>=Math.pow(2,32))throw new O(R.INVALID_UINT_UID_FROM_STRING_UID);return {requestTime:u,url:a,req:h,uid:p.uid,elapse:Date.now()-u}}catch(p){throw p}}(s,t,e,n),closeFn:s=>s.code===R.OPERATION_ABORTED||s.code===R.UNEXPECTED_RESPONSE&&!s.data.retry})}catch(o){throw o}}async function qG(t,e,n){let i=v(\"CDS_AP\").slice(0,v(\"AJAX_REQUEST_CONCURRENT\")).map(c=>t.proxyServer?\"https://\".concat(t.proxyServer,\"/ap/?url=\").concat(c+\"/api/v1\"):\"https://\".concat(c,\"/api/v1?action=config\")),r=i.map(c=>function(d,l,u,h){let p=mt(),g={flag:64,cipher_method:0,features:{device:p.name,system:p.os,system_general:navigator.userAgent,vendor:l.appId,version:ii,cname:l.cname,sid:l.sid,session_id:l.sid,detail:\"\",proxyServer:l.proxyServer}};return Wi(()=>Hi(d,{data:g,timeout:1e3,cancelToken:u,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":54}}),void 0,E=>E.code!==R.OPERATION_ABORTED,h)}(c,t,e,n)),o=null,s=null,a={};try{o=await Ta(r);}catch(c){if(c.code===R.OPERATION_ABORTED)throw c;s=c;}if(r.forEach(c=>c.cancel()),X.reportApiInvoke(t.sid,{name:Te.REQUEST_CONFIG_DISTRIBUTE,options:{error:s,res:o}}).onSuccess(),o&&o.test_tags)try{a=function(c){if(!c.test_tags)return {};let d=c.test_tags,l=Object.keys(d),u={};return l.forEach(h=>{var p;let g=rn(p=h.slice(4)).call(p),E=JSON.parse(d[h])[1];u[g]=E;}),u}(o);}catch{}return a}async function ev(t,e){let n=v(\"WEBCS_DOMAIN\").concat(v(\"WEBCS_DOMAIN_BACKUP_LIST\")).map(i=>({url:\"https://\".concat(i,\"/api/v2/transpond/webrtc?v=2\"),areaCode:Mc(),serviceIds:[ue.CHOOSE_SERVER,ue.CLOUD_PROXY_FALLBACK]}));try{return await u0({referenceList:n,asyncMapHandler:r=>async function(o,s,a){let c,{url:d,areaCode:l,serviceIds:u}=o,h=Date.now(),[p,g]=wf(s,l,u),E=he.networkState;try{E&&he.networkState===wn.OFFLINE&&he.onlineWaiter&&await j.race([he.onlineWaiter,Me(Ee.maxRetryTimeout)]),E=he.networkState;let{data:f,headers:S}=await Hi(d,{data:p,cancelToken:a,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0,!0);c=S.http3===\"1\"?1:-1,(w=>{let D=[];if(w.response_body.forEach(k=>{let B=k.buffer.code;if(k.uri===23&&B===0&&!k.buffer.edges_services)if(k.buffer.flag===4194310)k.buffer.edges_services=[];else {let V={error:new O(R.CAN_NOT_GET_GATEWAY_SERVER,\"no edge services in ap response\",{retry:!0,csIp:w.detail[502]}),flag:k.buffer.flag};D.push(V);}if(B!==0){let V=ta(B),z={error:new O(R.CAN_NOT_GET_GATEWAY_SERVER,V.desc,{desc:V.desc,retry:V.retry,csIp:w.detail[502]}),flag:k.buffer.flag};k.buffer.flag===4194310?_.warning(z.error.toString()):D.push(z);}}),D.length)throw new O(R.CAN_NOT_GET_GATEWAY_SERVER,D.map(k=>\"flag: \".concat(k.flag,\", message: \").concat(k.error.message)).join(\" | \"),{retry:!!D.find(k=>k.error.data.retry),csIp:w.detail[502],desc:[...new Set(D.map(k=>{var B;return k==null||(B=k.error)===null||B===void 0||(B=B.data)===null||B===void 0?void 0:B.desc}).filter(k=>!!k))]})})(f);let A=Dc(f,ue.CHOOSE_SERVER),b=Dc(f,ue.CLOUD_PROXY_FALLBACK);return bf(A),{gatewayInfo:mf(A,d),proxyInfo:b,opid:g,requestTime:h,url:d,isHttp3:c,elapse:Date.now()-h}}catch(f){throw f}}(r,t,e),closeFn:r=>r.code===R.OPERATION_ABORTED||r.code===R.CAN_NOT_GET_GATEWAY_SERVER&&!r.data.retry})}catch(i){throw i}}async function nv(t,e,n,i){let r=v(\"PROXY_SERVER_TYPE3\"),o=(p,g,E)=>{let f=E||r;return Array.isArray(f)&&(f=g%2==0?r[1]:r[0]),\"https://\".concat(f,\"/ap/?url=\").concat(p)},s=null,a=[],c=async()=>{let p=v(\"WEBCS_DOMAIN\").slice(0,v(\"AJAX_REQUEST_CONCURRENT\")).map((f,S)=>{let C;return C=t.cloudProxyServer===\"disabled\"&&t.proxyServer?o(\"\".concat(f,\"/api/v2/transpond/webrtc?v=2\"),S,t.proxyServer):t.cloudProxyServer===\"disabled\"||t.cloudProxyServer===\"fallback\"?\"https://\".concat(f,\"/api/v2/transpond/webrtc?v=2\"):o(\"\".concat(f,\"/api/v2/transpond/webrtc?v=2\"),S),{url:C,areaCode:Mc(),serviceIds:[ue.CHOOSE_SERVER,t.cloudProxyServer===\"proxy5\"?ue.CLOUD_PROXY_5:t.cloudProxyServer===\"proxy3\"||t.cloudProxyServer===\"proxy4\"?ue.CLOUD_PROXY:ue.CLOUD_PROXY_FALLBACK]}}),g=i.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:p.map(f=>f.url)}),E=await Uc({fragementLength:v(\"FRAGEMENT_LENGTH\"),referenceList:p,asyncMapHandler:f=>(_.debug(\"[\".concat(t.clientId,\"] Connect to choose_server:\"),f.url),$I(f,t,e,n)),allFailedhandler:f=>{throw i.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:f},g),f[0]},promisesCollector:a});return i.recordJoinChannelService({endTs:Date.now(),status:\"success\"},g),E},d=async()=>{if(await Me(1e3),s!==null)return s;let p=v(\"WEBCS_DOMAIN_BACKUP_LIST\").map((f,S)=>{let C;return C=t.cloudProxyServer===\"disabled\"&&t.proxyServer?o(\"\".concat(f,\"/api/v2/transpond/webrtc?v=2\"),S,t.proxyServer):t.cloudProxyServer===\"disabled\"||t.cloudProxyServer===\"fallback\"?\"https://\".concat(f,\"/api/v2/transpond/webrtc?v=2\"):o(\"\".concat(f,\"/api/v2/transpond/webrtc?v=2\"),S),{url:C,areaCode:Mc(),serviceIds:[ue.CHOOSE_SERVER,t.cloudProxyServer===\"proxy5\"?ue.CLOUD_PROXY_5:t.cloudProxyServer===\"proxy3\"||t.cloudProxyServer===\"proxy4\"?ue.CLOUD_PROXY:ue.CLOUD_PROXY_FALLBACK]}}),g=i.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:p.map(f=>f.url)}),E=await Uc({fragementLength:v(\"FRAGEMENT_LENGTH\"),referenceList:p,asyncMapHandler:f=>(_.debug(\"[\".concat(t.clientId,\"] Connect to backup choose_server:\"),f.url),$I(f,t,e,n)),allFailedhandler:f=>{throw i.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:f},g),f[0]},promisesCollector:a});return i.recordJoinChannelService({endTs:Date.now(),status:\"success\"},g),E},l,u,h;try{({gatewayInfo:l,proxyInfo:u,url:h}=await Ta([c(),d()]));}catch(p){throw p[0]}if(a.length&&a.forEach(p=>p.cancel&&typeof p.cancel==\"function\"&&p.cancel()),!l||!u)throw new O(R.UNEXPECTED_ERROR,\"missing gateway or proxy response\").print();if(t.apUrl=h,t.cloudProxyServer!==\"disabled\"&&Array.isArray(r)&&h){let p=/^https?:\\/\\/(.+?)(\\/.*)?$/.exec(h)[1];W(r).call(r,p)&&(t.proxyServer=p,_.setProxyServer(p),X.setProxyServer(p));}return s={gatewayInfo:l,proxyInfo:await kO(u,l.uid)},s}async function zG(t,e,n){let i=v(\"UAP_AP\").slice(0,v(\"AJAX_REQUEST_CONCURRENT\")).map(o=>t.proxyServer?\"https://\".concat(t.proxyServer,\"/ap/?url=\").concat(o+\"/api/v1?action=uap\"):\"https://\".concat(o,\"/api/v1?action=uap\")),r=i.map(o=>function(s,a,c,d){let l={command:\"convergeAllocateEdge\",sid:a.sid,appId:a.appId,token:a.token,ts:Date.now(),version:ii,cname:a.cname,uid:a.uid.toString(),requestId:p_,seq:p_};p_+=1;let u={service_name:\"tele_channel\",json_body:JSON.stringify(l)};return Wi(async()=>{let h=await Hi(s,{data:u,cancelToken:c,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":61}});if(h.code!==0){let g=new O(R.UNEXPECTED_RESPONSE,\"cross channel ap error, code\"+h.code,{retry:!0});throw _.error(g.toString()),g}let p=JSON.parse(h.json_body);if(p.code!==200){let g=new O(R.UNEXPECTED_RESPONSE,\"cross channel app center error, code: \".concat(p.code,\", reason: \").concat(p.reason));throw _.error(g.toString()),g}if(!p.servers||p.servers.length===0){let g=new O(R.UNEXPECTED_RESPONSE,\"cross channel app center empty server\");throw _.error(g.toString()),g}return {vid:p.vid,workerToken:p.workerToken,addressList:(v(\"CHANNEL_MEDIA_RELAY_SERVERS\")||p.servers).map(g=>\"wss://\".concat(g.address.replace(/\\./g,\"-\"),\".\").concat(v(\"WORKER_DOMAIN\"),\":\").concat(g.wss))}},void 0,h=>!!(h.code!==R.OPERATION_ABORTED&&h.code!==R.UNEXPECTED_RESPONSE||h.data&&h.data.retry),d)}(o,t,e,n));try{let o=await Ta(r);return r.forEach(s=>s.cancel()),o}catch(o){throw o[0]}}async function JG(t,e,n){let i=null,r=[],o=async s=>{let a=v(s?\"WEBCS_DOMAIN_BACKUP_LIST\":\"WEBCS_DOMAIN\").map(c=>t.proxyServer?\"https://\".concat(t.proxyServer,\"/ap/?url=\").concat(c+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(c,\"/api/v2/transpond/webrtc?v=2\"));return s&&(await Me(1e3),i!==null)?i:await Uc({fragementLength:v(\"FRAGEMENT_LENGTH\"),referenceList:a,asyncMapHandler:c=>(_.debug(\"[\".concat(t.clientId,\"] update ticket, Connect to \").concat(s?\"backup\":\"\",\" choose_server:\"),c),function(d,l,u,h){let[p]=KG(l,[ue.CHOOSE_SERVER]),g=he.networkState;return Wi(async()=>{g&&he.networkState===wn.OFFLINE&&he.onlineWaiter&&await j.race([he.onlineWaiter,Me(h&&h.maxRetryTimeout||Ee.maxRetryTimeout)]),g=he.networkState;let E=await Hi(d,{data:p,cancelToken:u,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0);return HG(E,d)},()=>!1,E=>E.code!==R.OPERATION_ABORTED&&(E.code===R.UPDATE_TICKET_FAILED?E.data.retry:(_.warning(\"[\".concat(l.clientId,\"] update ticket network error, retry\"),E),!0)),h)}(c,t,e,n)),allFailedhandler:c=>{throw c[0]},promisesCollector:r})};try{return i=await Ta([o(!1),o(!0)]),r.length&&r.forEach(s=>s.cancel&&typeof s.cancel==\"function\"&&s.cancel()),i}catch(s){throw s[0]}}function iv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function rv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var im=class extends Xt{get isSuccess(){return !!this.configs}constructor(){super(),T(this,\"configs\",void 0),T(this,\"joinInfo\",void 0),T(this,\"cancelToken\",void 0),T(this,\"retryConfig\",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),T(this,\"interval\",void 0),T(this,\"mutex\",new ze(\"config-distribute\")),T(this,\"mutableParamsRead\",!1);}startGetConfigDistribute(e,n){this.joinInfo=e,this.cancelToken=n,this.interval&&this.stopGetConfigDistribute(),v(\"ENABLE_CONFIG_DISTRIBUTE\")&&(this.updateConfigDistribute(),this.interval=window.setInterval(()=>{this.updateConfigDistribute();},v(\"CONFIG_DISTRIBUTE_INTERVAL\")));}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0;}async awaitConfigDistributeComplete(){this.mutex.isLocked&&(await this.mutex.lock())();}async updateConfigDistribute(){if(this.mutableParamsRead||(this.mutableParamsRead=!0,X.reportApiInvoke(null,{options:void 0,name:Te.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:Zt.TRACER}).onSuccess(JSON.stringify($r))),!this.joinInfo||!this.cancelToken||!this.retryConfig)return void _.debug(\"[config-distribute] get config distribute interrupted have no joininfo\");let e,n=await this.mutex.lock();try{e=await qG(this.joinInfo,this.cancelToken,this.retryConfig),_.debug(\"[config-distribute] get config distribute\",JSON.stringify(e)),e.limit_bitrate&&this.handleBitrateLimit(e.limit_bitrate),this.cacheGlobalParameterConfig(e),this.configs=e;}catch(i){let r=new O(R.NETWORK_RESPONSE_ERROR,i);_.warning(\"[config-distribute] \".concat(r.toString()));}finally{n();}}getBitrateLimit(){return this.configs?this.configs.limit_bitrate:void 0}handleBitrateLimit(e){var n;(n=e)&&n.uplink&&n.id&&n.uplink.max_bitrate!==void 0&&n.uplink.min_bitrate!==void 0&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==e.id&&this.emit(FE.UPDATE_BITRATE_LIMIT,e):this.emit(FE.UPDATE_BITRATE_LIMIT,e));}getLowStreamConfigDistribute(){return this.configs&&this.configs.limit_bitrate&&rv({},this.configs.limit_bitrate.low_stream_uplink)}cacheGlobalParameterConfig(e){var n;let i=ed(n=Object.keys(e).filter(o=>/^webrtc_ng_global_parameter/.test(o))).call(n);for(let o=0;o<i.length;o++)for(let s=i.length-1;s>o;s--){let a=i[s];if(typeof e[a].__priority==\"number\"){let c=e[a].__priority,d=i[s-1];if(typeof e[d].__priority==\"number\"){if(!(c>e[d].__priority))continue;{let l=a;i[s]=i[s-1],i[s-1]=l;}}else {let l=a;i[s]=i[s-1],i[s-1]=l;}}}let r={};i.forEach(o=>{let s=e[o],a=s.__expires;Object.keys(s).forEach(c=>{c===\"__priority\"||c===\"__expires\"||Object.prototype.hasOwnProperty.call(r,c)||(r[c]=rv({value:s[c]},a&&{expires:a}));});});try{(function(a){try{let c=Date.now();Object.keys(a).forEach(d=>{switch(d){case\"ENABLE_EVENT_REPORT\":case\"UPLOAD_LOG\":case\"ENABLE_AG_ADAPTATION\":case\"FORCE_AG_HIGH_FRAMERATE\":case\"FORCE_SUPPORT_AG_ADAPTATION\":case\"ENCODER_CONFIG_LIMIT\":case\"CAMERA_CAPTURE_CONFIG\":case\"ENABLE_PRELOAD\":if(Object.prototype.hasOwnProperty.call(oe,d)){let{value:l,expires:u}=a[d];if(u&&u<=c)return;$r[d]=l,oe[d]=l,_.debug(\"Update global parameters from config distribute\",d,l);}}});}catch(c){_.error(\"Error update config immediately: \".concat(a),c.message);}})(r);let o=JSON.stringify(r),s=window.btoa(o);window.localStorage.setItem(\"websdk_ng_global_parameter\",s),_.debug(\"Caching global parameters \".concat(o));}catch(o){_.error(\"Error caching global parameters:\",o.message);}}},rm=class extends Xt{constructor(){super(...arguments),T(this,\"resultStorage\",new Map);}setLocalAudioStats(e,n,i){this.record(\"AUDIO_INPUT_LEVEL_TOO_LOW\",e,this.checkAudioInputLevel(i,n)),this.record(\"SEND_AUDIO_BITRATE_TOO_LOW\",e,this.checkSendAudioBitrate(i,n));}setLocalVideoStats(e,n,i){this.record(\"SEND_VIDEO_BITRATE_TOO_LOW\",e,this.checkSendVideoBitrate(i,n)),this.record(\"FRAMERATE_INPUT_TOO_LOW\",e,this.checkFramerateInput(i,n)),this.record(\"FRAMERATE_SENT_TOO_LOW\",e,this.checkFramerateSent(i));}setRemoteAudioStats(e,n){let i=e.getUserId();this.record(\"AUDIO_OUTPUT_LEVEL_TOO_LOW\",i,this.checkAudioOutputLevel(n));}setRemoteVideoStats(e,n){let i=e.getUserId();this.record(\"RECV_VIDEO_DECODE_FAILED\",i,this.checkVideoDecode(n));}record(e,n,i){if(v(\"STATS_UPDATE_INTERVAL\")>500)return;this.resultStorage.has(e)||this.resultStorage.set(e,{result:[],isPrevNormal:!0});let r=this.resultStorage.get(e);if(r&&(r.result.push(i),r.result.length>=5)){var o;let s=W(o=r.result).call(o,!0);r.isPrevNormal&&!s&&this.emit(\"exception\",ov[e],e,n),!r.isPrevNormal&&s&&this.emit(\"exception\",ov[e]+2e3,e+\"_RECOVER\",n),r.isPrevNormal=s,r.result=[];}}checkAudioOutputLevel(e){return !(e.receiveBitrate>0&&e.receiveLevel===0)}checkAudioInputLevel(e,n){return n instanceof ge&&!n.isActive||!!n.muted||e.sendVolumeLevel!==0}checkFramerateInput(e,n){let i=null;n._encoderConfig&&n._encoderConfig.frameRate&&(i=Nn(n._encoderConfig.frameRate));let r=e.captureFrameRate;return !i||!r||!(i>10&&r<5||i<10&&i>=5&&r<=1)}checkFramerateSent(e){return !(e.captureFrameRate&&e.sendFrameRate&&e.captureFrameRate>5&&e.sendFrameRate<=1)}checkSendVideoBitrate(e,n){return !!n.muted||e.sendBitrate!==0}checkSendAudioBitrate(e,n){return n instanceof ge&&!n.isActive||!!n.muted||e.sendBitrate!==0}checkVideoDecode(e){return e.receiveBitrate===0||e.decodeFrameRate!==0}},ov={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003},qe=new class{markSubscribeStart(t,e){performance.mark(\"agora-web-sdk/\".concat(t,\"/subscribe-\").concat(e));}markPublishStart(t,e){performance.mark(\"agora-web-sdk/\".concat(t,\"/publish-\").concat(e));}measureFromSubscribeStart(t,e){let n=performance.getEntriesByName(\"agora-web-sdk/\".concat(t,\"/subscribe-\").concat(e));if(n.length>0){let i=n[n.length-1];return Math.round(performance.now()-i.startTime)}return 0}measureFromPublishStart(t,e){let n=performance.getEntriesByName(\"agora-web-sdk/\".concat(t,\"/publish-\").concat(e));if(n.length>0){let i=n[n.length-1];return Math.round(performance.now()-i.startTime)}return 0}};function Of(t,e){this.v=t,this.k=e;}function Tt(t){return new Of(t,0)}var XG=Lb,QG=mr;xt({target:\"Promise\",stat:!0,forced:!0},{withResolvers:function(){var t=QG.f(this);return {promise:t.promise,resolve:t.resolve,reject:t.reject}}});var ZG=mr,$G=_a;xt({target:\"Promise\",stat:!0,forced:!0},{try:function(t){var e=ZG.f(this),n=$G(t);return (n.error?e.reject:e.resolve)(n.value),e.promise}});var om=ae(XG),p0=Ea.f(\"asyncIterator\"),tW=ae(p0);function Ja(t){var e,n;function i(o,s){try{var a=t[o](s),c=a.value,d=c instanceof Of;om.resolve(d?c.v:c).then(function(l){if(d){var u=o===\"return\"?\"return\":\"next\";if(!c.k||l.done)return i(u,l);l=t[u](l).value;}r(a.done?\"return\":\"normal\",l);},function(l){i(\"throw\",l);});}catch(l){r(\"throw\",l);}}function r(o,s){switch(o){case\"return\":e.resolve({value:s,done:!0});break;case\"throw\":e.reject(s);break;default:e.resolve({value:s,done:!1});}(e=e.next)?i(e.key,e.arg):n=null;}this._invoke=function(o,s){return new om(function(a,c){var d={key:o,arg:s,resolve:a,reject:c,next:null};n?n=n.next=d:(e=n=d,i(o,s));})},typeof t.return!=\"function\"&&(this.return=void 0);}function Bi(t){return function(){return new Ja(t.apply(this,arguments))}}Ja.prototype[typeof Ds==\"function\"&&tW||\"@@asyncIterator\"]=function(){return this},Ja.prototype.next=function(t){return this._invoke(\"next\",t)},Ja.prototype.throw=function(t){return this._invoke(\"throw\",t)},Ja.prototype.return=function(t){return this._invoke(\"return\",t)};var sv=ae(Gi.Object.getOwnPropertySymbols),eW=xt,nW=Nm.indexOf,iW=Nu,sm=gc([].indexOf),av=!!sm&&1/sm([1],1,-0)<0;eW({target:\"Array\",proto:!0,forced:av||!iW(\"indexOf\")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return av?sm(this,t,e)||0:nW(this,t,e)}});var rW=bi(\"Array\").indexOf,oW=hn,sW=rW,__=Array.prototype,aW=function(t){var e=t.indexOf;return t===__||oW(__,t)&&e===__.indexOf?sW:e},cv=ae(aW);function cW(t,e){if(t==null)return {};var n,i,r=function(s,a){if(s==null)return {};var c,d,l={},u=NO(s);for(d=0;d<u.length;d++)c=u[d],cv(a).call(a,c)>=0||(l[c]=s[c]);return l}(t,e);if(sv){var o=sv(t);for(i=0;i<o.length;i++)n=o[i],cv(e).call(e,n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);}return r}function Si(t){if(Array.isArray(t))return t.map(n=>n);if(!dv(t))return t;let e={};for(let n in t){let i=t[n];dv(i)||Array.isArray(i)?e[n]=Si(i):e[n]=i;}return e}function dv(t){return !(typeof t!=\"object\"||Array.isArray(t)||!t)}var cc=class{constructor(e){T(this,\"input\",[]),T(this,\"size\",void 0),this.size=e;}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1);}diffMean(){return this.input.length===0?0:(this.input[this.input.length-1]-this.input[0])/this.input.length}},hr={address:\"unknown\",candidateType:\"unknown\",id:\"unknown\",port:0,priority:0,protocol:\"unknown\",type:\"unknown\"},xc={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:\"unknown\",localCandidate:hr,remoteCandidate:hr}},_0={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0,framesDroppedCount:0,outputFrameRate:0},E0={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0,qpSumPerFrame:0},m0={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0},f0={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packetsDiscarded:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0};function lv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function uv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var Vc=class{constructor(e,n){T(this,\"onFirstVideoReceived\",void 0),T(this,\"onFirstVideoDecoded\",void 0),T(this,\"onFirstAudioReceived\",void 0),T(this,\"onFirstVideoDecodedTimeout\",void 0),T(this,\"onFirstAudioDecoded\",void 0),T(this,\"onSelectedLocalCandidateChanged\",void 0),T(this,\"onSelectedRemoteCandidateChanged\",void 0),T(this,\"videoIsReady\",!1),T(this,\"videoIsReady2\",{}),T(this,\"pc\",void 0),T(this,\"options\",void 0),T(this,\"intervalTimer\",void 0),T(this,\"stats\",Si(xc)),T(this,\"isFirstVideoReceived\",{}),T(this,\"isFirstVideoDecoded\",{}),T(this,\"isFirstAudioReceived\",{}),T(this,\"isFirstAudioDecoded\",{}),T(this,\"isFirstVideoDecodedTimeout\",{}),T(this,\"lossRateWindowStats\",[]),this.pc=e,this.options=n,this.intervalTimer=window.setInterval(async()=>{this.updateStats();},this.options.updateInterval);}getStats(){return this.stats}getSelectedCandidatePair(){return new j(e=>{e({local:uv({},hr),remote:uv({},hr)});})}setVideoIsReady(e){this.videoIsReady=e;}setVideoIsReady2(e,n){this.videoIsReady2[e]=n;}getVideoIsReady(e){return this.videoIsReady2[e]||!1}setIsFirstAudioDecoded(e){}destroy(){window.clearInterval(this.intervalTimer),this.pc=void 0;}calcLossRate(e){this.lossRateWindowStats.push(e),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);let n=this.lossRateWindowStats.length,i=[\"videoSend\",\"audioSend\",\"videoRecv\",\"audioRecv\"],r=0,o=0,s=0,a=0;for(let c of i)e[c].forEach((d,l)=>{if(!this.lossRateWindowStats[n-1][c][l]||!this.lossRateWindowStats[0][c][l])return;let u=this.lossRateWindowStats[n-1][c][l].packets-this.lossRateWindowStats[0][c][l].packets,h=this.lossRateWindowStats[n-1][c][l].packetsLost-this.lossRateWindowStats[0][c][l].packetsLost;c===\"videoSend\"||c===\"audioSend\"?(r+=u,s+=h):(o+=u,a+=h),Number.isNaN(u)||Number.isNaN(u)?d.packetLostRate=0:d.packetLostRate=u<=0||h<=0?0:h/(u+h);});e.sendPacketLossRate=r<=0||s<=0?0:s/(r+s),e.recvPacketLossRate=o<=0||a<=0?0:a/(o+a);}};function hv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function dW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var am=class extends Vc{constructor(){super(...arguments),T(this,\"_stats\",xc),T(this,\"lastDecodeVideoReceiverStats\",new Map);}async updateStats(){let e=await this._getStats(),n=this.statsResponsesToObjects(e);this._stats=Si(xc);let i=n.filter(o=>o.type===\"ssrc\");this.processSSRCStats(i);let r=n.find(o=>o.type===\"VideoBwe\");r&&this.processBandwidthStats(r),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats;}processBandwidthStats(e){this._stats.bitrate={actualEncoded:Number(e.googActualEncBitrate),targetEncoded:Number(e.googTargetEncBitrate),retransmit:Number(e.googRetransmitBitrate),transmit:Number(e.googTransmitBitrate)},this._stats.sendBandwidth=Number(e.googAvailableSendBandwidth);}processSSRCStats(e){e.forEach(n=>{var i;let r=W(i=n.id).call(i,\"send\");switch(\"\".concat(n.mediaType,\"_\").concat(r?\"send\":\"recv\")){case\"video_send\":{let o=Si(E0);o.codec=n.googCodecName,o.adaptionChangeReason=\"none\",n.googCpuLimitedResolution&&(o.adaptionChangeReason=\"cpu\"),n.googBandwidthLimitedResolution&&(o.adaptionChangeReason=\"bandwidth\"),o.avgEncodeMs=Number(n.googAvgEncodeMs),o.inputFrame={width:Number(n.googFrameWidthInput)||Number(n.googFrameWidthSent),height:Number(n.googFrameHeightInput)||Number(n.googFrameHeightSent),frameRate:Number(n.googFrameRateInput)},o.sentFrame={width:Number(n.googFrameWidthSent),height:Number(n.googFrameHeightSent),frameRate:Number(n.googFrameRateInput)},o.firsCount=Number(n.googFirReceived),o.nacksCount=Number(n.googNacksReceived),o.plisCount=Number(n.googPlisReceived),o.frameCount=Number(n.framesEncoded),o.bytes=Number(n.bytesSent),o.packets=Number(n.packetsSent),o.packetsLost=Number(n.packetsLost),o.ssrc=Number(n.ssrc),o.rttMs=Number(n.googRtt||0),this._stats.videoSend.push(o),this._stats.rtt=o.rttMs;break}case\"video_recv\":{let o=Si(_0),s=this.lastDecodeVideoReceiverStats.get(Number(n.ssrc));if(o.codec=n.googCodecName,o.targetDelayMs=Number(n.googTargetDelayMs),o.renderDelayMs=Number(n.googRenderDelayMs),o.currentDelayMs=Number(n.googCurrentDelayMs),o.minPlayoutDelayMs=Number(n.googMinPlayoutDelayMs),o.decodeMs=Number(n.googDecodeMs),o.maxDecodeMs=Number(n.googMaxDecodeMs),o.receivedFrame={width:Number(n.googFrameWidthReceived),height:Number(n.googFrameHeightReceived),frameRate:Number(n.googFrameRateReceived)},o.decodedFrame={width:Number(n.googFrameWidthReceived),height:Number(n.googFrameHeightReceived),frameRate:Number(n.googFrameRateDecoded)},o.decodeFrameRate=Number(n.googFrameRateDecoded),o.outputFrame={width:Number(n.googFrameWidthReceived),height:Number(n.googFrameHeightReceived),frameRate:Number(n.googFrameRateOutput)},o.jitterBufferMs=Number(n.googJitterBufferMs),o.firsCount=Number(n.googFirsSent),o.nacksCount=Number(n.googNacksSent),o.plisCount=Number(n.googPlisSent),o.framesDecodeCount=Number(n.framesDecoded),o.bytes=Number(n.bytesReceived),o.packets=Number(n.packetsReceived),o.packetsLost=Number(n.packetsLost),o.ssrc=Number(n.ssrc),o.packets>0&&!this.isFirstVideoReceived[o.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(o.ssrc),this.isFirstVideoReceived[o.ssrc]=!0),o.framesDecodeCount>0&&!this.isFirstVideoDecoded[o.ssrc]&&(this.onFirstVideoDecoded&&this.onFirstVideoDecoded(o.ssrc,o.decodedFrame.width,o.decodedFrame.height),this.isFirstVideoDecoded[o.ssrc]=!0),s){let a=s.stats,c=Date.now()-s.lts;o.framesDecodeFreezeTime=a.framesDecodeFreezeTime,o.framesDecodeInterval=a.framesDecodeInterval,o.framesDecodeCount>a.framesDecodeCount&&this.isFirstVideoDecoded[o.ssrc]?(s.lts=Date.now(),o.framesDecodeInterval=c,o.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(n.ssrc,10))?o.framesDecodeFreezeTime+=o.framesDecodeInterval:this.setVideoIsReady2(parseInt(n.ssrc,10),!0))):o.framesDecodeCount<s.stats.framesDecodeCount&&(o.framesDecodeInterval=0);}this.lastDecodeVideoReceiverStats.set(o.ssrc,{stats:dW({},o),lts:Date.now()}),this._stats.videoRecv.push(o);break}case\"audio_recv\":{let o=Si(f0);o.codec=n.googCodecName,o.outputLevel=Math.abs(Number(n.audioOutputLevel))/32767,o.decodingCNG=Number(n.googDecodingCNG),o.decodingCTN=Number(n.googDecodingCTN),o.decodingCTSG=Number(n.googDecodingCTSG),o.decodingNormal=Number(n.googDecodingNormal),o.decodingPLC=Number(n.googDecodingPLC),o.decodingPLCCNG=Number(n.googDecodingPLCCNG),o.expandRate=Number(n.googExpandRate),o.accelerateRate=Number(n.googAccelerateRate),o.preemptiveExpandRate=Number(n.googPreemptiveExpandRate),o.secondaryDecodedRate=Number(n.googSecondaryDecodedRate),o.speechExpandRate=Number(n.googSpeechExpandRate),o.preferredJitterBufferMs=Number(n.googPreferredJitterBufferMs),o.jitterBufferMs=Number(n.googJitterBufferMs),o.jitterMs=Number(n.googJitterReceived),o.bytes=Number(n.bytesReceived),o.packets=Number(n.packetsReceived),o.packetsLost=Number(n.packetsLost),o.ssrc=Number(n.ssrc),o.receivedFrames=Number(n.googDecodingCTN)||Number(n.packetsReceived),o.droppedFrames=Number(n.googDecodingPLC)+Number(n.googDecodingPLCCNG)||Number(n.packetsLost),o.receivedFrames>0&&!this.isFirstAudioReceived[o.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(o.ssrc),this.isFirstAudioReceived[o.ssrc]=!0),o.decodingNormal>0&&!this.isFirstAudioDecoded[o.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(o.ssrc),this.isFirstAudioDecoded[o.ssrc]=!0),this._stats.audioRecv.push(o);break}case\"audio_send\":{let o=Si(m0);o.codec=n.googCodecName,o.inputLevel=Math.abs(Number(n.audioInputLevel))/32767,o.aecReturnLoss=Number(n.googEchoCancellationReturnLoss||0),o.aecReturnLossEnhancement=Number(n.googEchoCancellationReturnLossEnhancement||0),o.residualEchoLikelihood=Number(n.googResidualEchoLikelihood||0),o.residualEchoLikelihoodRecentMax=Number(n.googResidualEchoLikelihoodRecentMax||0),o.bytes=Number(n.bytesSent),o.packets=Number(n.packetsSent),o.packetsLost=Number(n.packetsLost),o.ssrc=Number(n.ssrc),o.rttMs=Number(n.googRtt||0),this._stats.rtt=o.rttMs,this._stats.audioSend.push(o);break}}});}_getStats(){return new j((e,n)=>{this.pc.getStats(e,n);})}statsResponsesToObjects(e){let n=[];return e.result().forEach(i=>{let r={id:i.id,timestamp:i.timestamp.valueOf().toString(),type:i.type};i.names().forEach(o=>{r[o]=i.stat(o);}),n.push(r);}),n}};function pv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var hu=class extends Vc{constructor(){super(...arguments),T(this,\"_stats\",xc),T(this,\"report\",void 0),T(this,\"lastDecodeVideoReceiverStats\",new Map),T(this,\"lastVideoFramesRecv\",new Map),T(this,\"lastVideoFramesSent\",new Map),T(this,\"lastVideoFramesDecode\",new Map),T(this,\"lastVideoFramesOutput\",new Map),T(this,\"lastVideoJBDelay\",new Map),T(this,\"lastAudioJBDelay\",new Map),T(this,\"mediaBytesSent\",new Map),T(this,\"mediaBytesRetransmit\",new Map),T(this,\"mediaBytesTargetEncode\",new Map),T(this,\"lastEncoderMs\",new Map);}async updateStats(){this.report=await this.pc.getStats(),this._stats=Si(xc),this.report.forEach(e=>{switch(e.type){case kn.OUTBOUND:case kn.INBOUND:{let n=e.mediaType||e.kind,i=!n&&\"frameWidth\"in e,r=!n&&!(\"frameWidth\"in e);e.type===kn.OUTBOUND?n===\"audio\"||r?this.processAudioOutboundStats(e):(n===\"video\"||i)&&this.processVideoOutboundStats(e):e.type===kn.INBOUND&&(n===\"audio\"||r?this.processAudioInboundStats(e):(n===\"video\"||i)&&this.processVideoInboundStats(e));break}case kn.TRANSPORT:{let n=this.report.get(e.selectedCandidatePairId);n&&this.processCandidatePairStats(n);break}case kn.CANDIDATE_PAIR:e.selected&&this.processCandidatePairStats(e);}}),this.updateSendBitrate(),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats;}async getSelectedCandidatePair(){let e=await this.pc.getStats(),n={local:Ao({},hr),remote:Ao({},hr)};return e.forEach(i=>{let r;if(i.type===kn.TRANSPORT&&(r=e.get(i.selectedCandidatePairId)),i.type===kn.CANDIDATE_PAIR&&i.selected&&(r=i),r){let o=(s,a)=>{s.type=a.type,s.id=a.id,a.address&&(s.address=a.address),a.candidateType&&(s.candidateType=a.candidateType),a.port&&(s.port=a.port),a.priority&&(s.priority=a.priority),a.protocol&&(s.protocol=a.protocol),a.relayProtocol&&(s.relayProtocol=a.relayProtocol);};if(r.localCandidateId){let s=e.get(r.localCandidateId);s&&o(n.local,s);}if(r.remoteCandidateId){let s=e.get(r.remoteCandidateId);s&&o(n.remote,s);}}}),n}processCandidatePairStats(e){if(this._stats.sendBandwidth=e.availableOutgoingBitrate||0,e.currentRoundTripTime&&(this._stats.rtt=1e3*e.currentRoundTripTime),this._stats.videoSend.forEach(n=>{e.currentRoundTripTime&&(n.rttMs=1e3*e.currentRoundTripTime);}),this._stats.audioSend.forEach(n=>{e.currentRoundTripTime&&(n.rttMs=1e3*e.currentRoundTripTime);}),this._stats.selectedCandidatePair.id=e.id,e.localCandidateId){let n=this.report.get(e.localCandidateId);n&&this.processCandidateStats(n);}if(e.remoteCandidateId){let n=this.report.get(e.remoteCandidateId);n&&this.processCandidateStats(n);}}processCandidateStats(e){let n;e.type===kn.LOCAL_CANDIDATE&&(n=this._stats.selectedCandidatePair.localCandidate),e.type===kn.REMOTE_CANDIDATE&&(n=this._stats.selectedCandidatePair.remoteCandidate),n&&(n.type=e.type,n.id=e.id,e.address&&(n.address=e.address),e.candidateType&&(n.candidateType=e.candidateType),e.port&&(n.port=e.port),e.priority&&(n.priority=e.priority),e.protocol&&(n.protocol=e.protocol),e.relayProtocol&&(n.relayProtocol=e.relayProtocol),e.type===kn.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==n.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(Ao({},n),Ao({},this.stats.selectedCandidatePair.localCandidate)),e.type===kn.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==n.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(Ao({},n),Ao({},this.stats.selectedCandidatePair.remoteCandidate)));}processAudioInboundStats(e){let n=this._stats.audioRecv.find(i=>i.ssrc===e.ssrc);n||(n=Si(f0),this._stats.audioRecv.push(n)),n.ssrc=e.ssrc,n.packets=e.packetsReceived,n.packetsLost=e.packetsLost,n.packetsDiscarded=e.packetsDiscarded,n.bytes=e.bytesReceived,n.jitterMs=1e3*e.jitter,this.processAudioTrackReceiverStats(e,e.trackId,n),e.codecId&&(n.codec=this.getCodecFromCodecStats(e.codecId)),n.receivedFrames||(n.receivedFrames=e.packetsReceived),n.droppedFrames||(n.droppedFrames=e.packetsLost),n.receivedFrames>0&&!this.isFirstAudioReceived[n.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(n.ssrc),this.isFirstAudioReceived[n.ssrc]=!0),n.outputLevel&&n.outputLevel>0&&!this.isFirstAudioDecoded[n.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(n.ssrc),this.isFirstAudioDecoded[n.ssrc]=!0),typeof e.concealedSamples==\"number\"&&(n.concealedSamples=e.concealedSamples);}processVideoInboundStats(e){let n=this._stats.videoRecv.find(a=>a.ssrc===e.ssrc);n||(n=Si(_0),this._stats.videoRecv.push(n)),n.ssrc=e.ssrc,n.packets=e.packetsReceived,n.packetsLost=e.packetsLost,n.bytes=e.bytesReceived,n.firsCount=e.firCount,n.nacksCount=e.nackCount,n.plisCount=e.pliCount,n.framesDecodeCount=e.framesDecoded,n.framesDroppedCount=e.framesDropped,n.totalInterFrameDelay=e.totalInterFrameDelay,n.totalSquaredInterFrameDelay=e.totalSquaredInterFrameDelay,n.totalFreezesDuration=e.totalFreezesDuration;let i=this.lastDecodeVideoReceiverStats.get(n.ssrc),r=this.lastVideoFramesDecode.get(n.ssrc),o=this.lastVideoFramesOutput.get(n.ssrc),s=Date.now();if(n.framesDecodeCount>0&&!this.isFirstVideoDecoded[n.ssrc]){let a=n.decodedFrame?n.decodedFrame.width:0,c=n.decodedFrame?n.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(n.ssrc,a,c),this.isFirstVideoDecoded[n.ssrc]=!0;}if(i){let a=i.stats,c=s-i.lts;n.framesDecodeFreezeTime=a.framesDecodeFreezeTime,n.framesDecodeInterval=a.framesDecodeInterval,!this.isFirstVideoDecoded[n.ssrc]&&c>this.options.firstVideoDecodedTimeout&&!this.isFirstVideoDecodedTimeout[n.ssrc]&&(this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(n.ssrc),this.isFirstVideoDecodedTimeout[n.ssrc]=!0),n.framesDecodeCount>a.framesDecodeCount&&this.isFirstVideoDecoded[n.ssrc]?(i.lts=Date.now(),n.framesDecodeInterval=c,n.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc))?n.framesDecodeFreezeTime+=n.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):n.framesDecodeCount<a.framesDecodeCount&&(n.framesDecodeInterval=0),e.framesDecoded&&e.qpSum&&(i.stats.framesDecodeCount>e.framesDecoded?n.qpSumPerFrame=e.qpSum/e.framesDecoded:n.qpSumPerFrame=(e.qpSum-i.qpSum)/(e.framesDecoded-i.stats.framesDecodeCount));}r&&s-r.lts>=800?(n.decodeFrameRate=Math.round((n.framesDecodeCount-r.count)/((s-r.lts)/1e3)),this.lastVideoFramesDecode.set(n.ssrc,{count:n.framesDecodeCount,lts:s,rate:n.decodeFrameRate})):r?n.decodeFrameRate=r.rate:this.lastVideoFramesDecode.set(n.ssrc,{count:n.framesDecodeCount,lts:s,rate:0}),n.framesDroppedCount&&e.framesReceived&&(o&&s-o.lts>=800?(n.outputFrameRate=Math.round((e.framesReceived-n.framesDroppedCount-o.count)/((s-o.lts)/1e3)),this.lastVideoFramesOutput.set(n.ssrc,{count:e.framesReceived-n.framesDroppedCount,lts:s,rate:Math.max(n.outputFrameRate,0)})):o?n.outputFrameRate=o.rate:this.lastVideoFramesOutput.set(n.ssrc,{count:e.framesReceived-n.framesDroppedCount,lts:s,rate:0})),e.totalDecodeTime&&(n.decodeMs=1e3*e.totalDecodeTime),this.processVideoTrackReceiverStats(e,e.trackId,n),e.codecId&&(n.codec=this.getCodecFromCodecStats(e.codecId)),e.framerateMean&&(n.framesRateFirefox=e.framerateMean),n.packets>0&&!this.isFirstVideoReceived[n.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(n.ssrc),this.isFirstVideoReceived[n.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(n.ssrc,{stats:Ao({},n),lts:i?i.lts:Date.now(),qpSum:e.qpSum});}processVideoOutboundStats(e){let n=this._stats.videoSend.find(r=>r.ssrc===e.ssrc);n||(n=Si(E0),this._stats.videoSend.push(n));let i=this.mediaBytesSent.get(e.ssrc);if(i)i.add(e.bytesSent);else {let r=new cc(10);r.add(e.bytesSent),this.mediaBytesSent.set(e.ssrc,r);}if(e.retransmittedBytesSent!==void 0){let r=this.mediaBytesRetransmit.get(e.ssrc);if(r)r.add(e.retransmittedBytesSent);else {let o=new cc(10);o.add(e.retransmittedBytesSent),this.mediaBytesRetransmit.set(e.ssrc,o);}}if(e.totalEncodedBytesTarget){let r=this.mediaBytesTargetEncode.get(e.ssrc);if(r)r.add(e.totalEncodedBytesTarget);else {let o=new cc(10);o.add(e.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(e.ssrc,o);}}if(n.ssrc=e.ssrc,n.bytes=e.bytesSent,n.packets=e.packetsSent,n.firsCount=e.firCount,n.nacksCount=e.nackCount,n.plisCount=e.pliCount,n.frameCount=e.framesEncoded,n.adaptionChangeReason=e.qualityLimitationReason,n.scalabilityMode=e.scalabilityMode,e.totalEncodeTime&&e.framesEncoded){let r=this.lastEncoderMs.get(e.ssrc);if(!r||r.lastFrameCount>e.framesEncoded)n.avgEncodeMs=1e3*e.totalEncodeTime/e.framesEncoded;else {let o=e.framesEncoded-r.lastFrameCount,s=e.totalEncodeTime-r.lastEncoderTime;n.avgEncodeMs=1e3*s/o;}}if(e.framesEncoded&&e.qpSum){let r=this.lastEncoderMs.get(e.ssrc);!r||r.lastFrameCount>e.framesEncoded?n.qpSumPerFrame=e.qpSum/e.framesEncoded:n.qpSumPerFrame=(e.qpSum-r.lastQpSum)/(e.framesEncoded-r.lastFrameCount);}if(this.lastEncoderMs.set(e.ssrc,{lastFrameCount:e.framesEncoded,lastEncoderTime:e.totalEncodeTime,lastQpSum:e.qpSum,lts:Date.now()}),e.codecId&&(n.codec=this.getCodecFromCodecStats(e.codecId)),e.mediaSourceId&&this.processVideoMediaSource(e.mediaSourceId,n),this.processVideoTrackSenderStats(e,e.trackId,n),e.remoteId)this.processRemoteInboundStats(e.remoteId,n);else {let r=this.findRemoteStatsId(e.ssrc,kn.REMOTE_INBOUND);r&&this.processRemoteInboundStats(r,n);}}processAudioOutboundStats(e){let n=this._stats.audioSend.find(i=>i.ssrc===e.ssrc);if(n||(n=Si(m0),this._stats.audioSend.push(n)),n.ssrc=e.ssrc,n.packets=e.packetsSent,n.bytes=e.bytesSent,e.mediaSourceId&&this.processAudioMediaSource(e.mediaSourceId,n),e.codecId&&(n.codec=this.getCodecFromCodecStats(e.codecId)),this.processAudioTrackSenderStats(e,e.trackId,n),e.remoteId)this.processRemoteInboundStats(e.remoteId,n);else {let i=this.findRemoteStatsId(e.ssrc,kn.REMOTE_INBOUND);i&&this.processRemoteInboundStats(i,n);}}findRemoteStatsId(e,n){var i;let r=Array.from(Pr(i=this.report).call(i)).find(o=>o.type===n&&o.ssrc===e);return r?r.id:null}processVideoMediaSource(e,n){let i=this.report.get(e);i&&i.width&&i.height&&i.framesPerSecond&&(n.inputFrame={width:i.width,height:i.height,frameRate:i.framesPerSecond});}processAudioMediaSource(e,n){let i=this.report.get(e);i&&(n.inputLevel=i.audioLevel);}processVideoTrackSenderStats(e,n,i){var r,o,s,a;let c=n?this.report.get(n):void 0,d=(r=c?.framesSent)!==null&&r!==void 0?r:e.framesSent;if(typeof d!=\"number\")return;let l=(o=c?.frameWidth)!==null&&o!==void 0?o:e.frameWidth,u=(s=c?.frameHeight)!==null&&s!==void 0?s:e.frameHeight,h=(a=c?.framesPerSecond)!==null&&a!==void 0?a:e.framesPerSecond;if(typeof l==\"number\"&&typeof u==\"number\"||(l=0,u=0),h==null){let p=Date.now(),g=this.lastVideoFramesSent.get(i.ssrc);g&&p-g.lts>=800?(h=Math.round((d-g.count)/((p-g.lts)/1e3)),this.lastVideoFramesSent.set(i.ssrc,{count:d,lts:p,rate:h})):g?h=g.rate:this.lastVideoFramesSent.set(i.ssrc,{count:d,lts:p,rate:0});}i.sentFrame={width:l,height:u,frameRate:Math.max(0,h)};}processVideoTrackReceiverStats(e,n,i){var r,o,s,a,c;let d=n?this.report.get(n):void 0,l=(r=d?.framesReceived)!==null&&r!==void 0?r:e.framesReceived,u=(o=d?.frameWidth)!==null&&o!==void 0?o:e.frameWidth,h=(s=d?.frameHeight)!==null&&s!==void 0?s:e.frameHeight,p=(a=d?.jitterBufferDelay)!==null&&a!==void 0?a:e.jitterBufferDelay,g=(c=d?.jitterBufferEmittedCount)!==null&&c!==void 0?c:e.jitterBufferEmittedCount;if(typeof l==\"number\"){let E=this.lastVideoFramesRecv.get(i.ssrc),f=Date.now();i.framesReceivedCount=l;let S=0;E&&f-E.lts>=800?(S=Math.round((l-E.count)/((f-E.lts)/1e3)),this.lastVideoFramesRecv.set(i.ssrc,{count:l,lts:f,rate:S})):E?S=E.rate:this.lastVideoFramesRecv.set(i.ssrc,{count:l,lts:f,rate:0}),i.receivedFrame={width:u||0,height:h||0,frameRate:S||0},i.decodedFrame={width:u||0,height:h||0,frameRate:i.decodeFrameRate||0},i.outputFrame={width:u||0,height:h||0,frameRate:i.outputFrameRate||i.decodeFrameRate||0};}if(p&&g){let E=this.lastVideoJBDelay.get(i.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0},f=E.jitterBufferMs,S=g-E.jitterBufferEmittedCount;S>0&&(f=1e3*(p-E.jitterBufferDelay)/S),i.jitterBufferMs=f,i.currentDelayMs=Math.round(f),this.lastVideoJBDelay.set(i.ssrc,{jitterBufferDelay:p,jitterBufferEmittedCount:g,jitterBufferMs:i.currentDelayMs});}}processAudioTrackSenderStats(e,n,i){var r,o,s,a;let c=n?this.report.get(n):void 0,d=(r=(o=c?.echoReturnLoss)!==null&&o!==void 0?o:e.echoReturnLoss)!==null&&r!==void 0?r:0,l=(s=(a=c?.echoReturnLossEnhancement)!==null&&a!==void 0?a:e.echoReturnLossEnhancement)!==null&&s!==void 0?s:0;i.aecReturnLoss=d,i.aecReturnLossEnhancement=l;}processAudioTrackReceiverStats(e,n,i){var r,o,s,a,c,d,l;let u=n?this.report.get(n):void 0,h=(r=u?.removedSamplesForAcceleration)!==null&&r!==void 0?r:e.removedSamplesForAcceleration,p=(o=u?.totalSamplesReceived)!==null&&o!==void 0?o:e.totalSamplesReceived,g=(s=u?.jitterBufferDelay)!==null&&s!==void 0?s:e.jitterBufferDelay,E=(a=u?.jitterBufferEmittedCount)!==null&&a!==void 0?a:e.jitterBufferEmittedCount,f=(c=u?.audioLevel)!==null&&c!==void 0?c:e?.audioLevel,S=(d=u?.totalSamplesDuration)!==null&&d!==void 0?d:e?.totalSamplesDuration,C=(l=u?.concealedSamples)!==null&&l!==void 0?l:e.concealedSamples;if(h&&p&&(i.accelerateRate=h/p),g&&E){let b=this.lastAudioJBDelay.get(i.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0},w=b.jitterBufferMs,D=E-b.jitterBufferEmittedCount;D>0&&(w=1e3*(g-b.jitterBufferDelay)/D),i.jitterBufferMs=Math.round(w),this.lastAudioJBDelay.set(i.ssrc,{jitterBufferDelay:g,jitterBufferEmittedCount:E,jitterBufferMs:i.jitterBufferMs});}i.outputLevel=f;let A=1920;S&&p&&(A=p/S/50,i.receivedFrames=Math.round(p/A)),C&&(i.droppedFrames=Math.round(C/A));}processRemoteInboundStats(e,n){let i=this.report.get(e);i&&(n.packetsLost=i.packetsLost,i.roundTripTime&&(n.rttMs=1e3*i.roundTripTime),i.jitter&&(n.jitterMs=1e3*i.jitter),i.timestamp&&(n.timestamp=i.timestamp));}getCodecFromCodecStats(e){let n=this.report.get(e);if(!n)return \"\";let i=n.mimeType.match(/\\/(.*)$/);return i&&i[1]?i[1]:\"\"}updateSendBitrate(){let e=0,n=null,i=null;this.mediaBytesSent.forEach(o=>{e+=o.diffMean();}),this.mediaBytesRetransmit.forEach(o=>{n=n===null?o.diffMean():n+o.diffMean();}),this.mediaBytesTargetEncode.forEach(o=>{i=i===null?o.diffMean():i+o.diffMean();});let r=n!==null?e-n:e;this._stats.bitrate={actualEncoded:8*r/(this.options.updateInterval/1e3),transmit:8*e/(this.options.updateInterval/1e3)},n!==null&&(this._stats.bitrate.retransmit=8*n/(this.options.updateInterval/1e3)),i!==null&&(this._stats.bitrate.targetEncoded=8*i/(this.options.updateInterval/1e3));}},cm=class extends Vc{updateStats(){return j.resolve()}};function Nf(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:8,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:500,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e4,o=function(){let s=navigator.userAgent.toLocaleLowerCase().match(/chrome\\/[\\d]*/i);return s&&s[0]?Number(s[0].split(\"/\")[1]):null}();return o?o<76?new am(t,{updateInterval:e,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r}):new hu(t,{updateInterval:e,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r}):function(s){if(!window.RTCStatsReport)return !1;let a=s.getStats();return !!(a instanceof j||function(c){return !!c&&(typeof c==\"object\"||typeof c==\"function\")&&typeof c.then==\"function\"}(a))}(t)?new hu(t,{updateInterval:e,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r}):new cm(t,{updateInterval:e,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r})}var _v=class{get localCapabilities(){return le(this._localCapabilities)}get rtpCapabilities(){return le(this._rtpCapabilities)}get candidates(){return le(this._candidates)}get iceParameters(){return le(this._iceParameters)}get dtlsParameters(){return le(this._dtlsParameters)}constructor(t){T(this,\"sessionDesc\",void 0),T(this,\"_localCapabilities\",void 0),T(this,\"_rtpCapabilities\",void 0),T(this,\"_candidates\",void 0),T(this,\"_iceParameters\",void 0),T(this,\"_dtlsParameters\",void 0),T(this,\"setup\",void 0),T(this,\"currentMidIndex\",void 0),T(this,\"cname\",\"o/i14u9pJrxRKAsu\"),T(this,\"firefoxSsrcMidMap\",new Map),t=le(t);let{remoteIceParameters:e,remoteDtlsParameters:n,candidates:i,remoteRTPCapabilities:r,localCapabilities:o,direction:s,setup:a,videoCodec:c,audioCodec:d}=t,l;this.setup=a,l=s===cn.RECEIVE_ONLY?Le.parse(`v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=extmap-allow-mixed\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n`):Le.parse(`v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=extmap-allow-mixed\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=recvonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=recvonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n`),this._rtpCapabilities=r,this._candidates=i,this._iceParameters=e,this._dtlsParameters=n,this._localCapabilities=o;let u=s===cn.RECEIVE_ONLY?this.rtpCapabilities.send:this.rtpCapabilities.recv,h=s===cn.RECEIVE_ONLY?this._localCapabilities.recv:this._localCapabilities.send,p=s===cn.RECEIVE_ONLY?r.send.videoCodecs:ac(Q.VIDEO,u,h,c),g=s===cn.RECEIVE_ONLY?r.send.audioCodecs:ac(Q.AUDIO,u,h,d);for(let E of l.mediaDescriptions)E.attributes.iceUfrag=e.iceUfrag,E.attributes.icePwd=e.icePwd,E.attributes.fingerprints=n.fingerprints,E.attributes.candidates=i,E.attributes.setup=this.setup,E.media.mediaType===\"application\"&&(E.attributes.sctpPort=\"5000\"),E.media.mediaType===\"video\"&&(E.media.fmts=p.map(f=>f.payloadType.toString(10)),E.attributes.payloads=p,E.attributes.extmaps=u.videoExtensions),E.media.mediaType===\"audio\"&&(E.media.fmts=g.map(f=>f.payloadType.toString(10)),E.attributes.payloads=g,E.attributes.extmaps=u.audioExtensions,oa(E));this.sessionDesc=l,this.currentMidIndex=l.mediaDescriptions.length-1;}toString(){return Le.print(this.sessionDesc)}hasMid(t){return Array.isArray(t)?t.every(e=>this.hasMid(e)):this.sessionDesc.mediaDescriptions.some(e=>e.attributes.mid===t)}send(t,e,n,i,r){n=n.replace(/ /g,\"-\");let{ssrcs:o,ssrcGroups:s}=Lo(e,this.cname,v(\"SYNC_GROUP\")?n:void 0),a=this.findPreloadMediaDesc(o);if(a){if($t()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,a.attributes.mid),r&&(r.twcc||r.remb)){let c=this.sessionDesc.mediaDescriptions.indexOf(a);return this.sessionDesc.mediaDescriptions[c]=this.mungSendMediaDesc(a,r),{mid:a.attributes.mid,needExchangeSDP:!0}}return {mid:a.attributes.mid,needExchangeSDP:!1}}{let c=this.findAvailableMediaIndex(t,o,i),d;return c===-1?(d=this.createOrRecycleSendMedia(t,o,s,\"sendonly\",i,r),this.updateBundleMids()):(d=le(this.sessionDesc.mediaDescriptions[c]),d.attributes.direction=\"sendonly\",d.attributes.ssrcs=o,d.attributes.ssrcGroups=s,this.sessionDesc.mediaDescriptions[c]=this.mungSendMediaDesc(d,r)),$t()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,d.attributes.mid),{needExchangeSDP:!0,mid:d.attributes.mid}}}stopSending(t){let e=this.sessionDesc.mediaDescriptions.filter(n=>n.attributes.mid&&t.indexOf(n.attributes.mid)!==-1);if(e.length!==t.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.\");e.forEach(n=>{n.attributes.ssrcs=[];}),this.updateBundleMids();}receive(t,e,n){let i=[];return t.forEach(r=>{let o=r._mediaStreamTrack.kind,s=this.findAvailableRecvMediaIndex(o),a,c=!1;s===-1?(c=!0,a=this.createOrRecycleRecvMedia(r,[],\"recvonly\",e,n),this.updateBundleMids()):(a=le(this.sessionDesc.mediaDescriptions[s]),a.attributes.direction=\"recvonly\"),i.push({mid:a.attributes.mid,needCreateTransceiver:c});}),i}stopReceiving(t){let e=this.sessionDesc.mediaDescriptions.filter(n=>t.indexOf(n.attributes.mid)!==-1);if(e.length!==t.length)throw new Error(\"MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.\");e.forEach(n=>{n.media.port=\"0\",n.attributes.direction=\"inactive\";}),this.updateBundleMids();}addRemoteCandidate(t){let{foundation:e,protocol:n,address:i,port:r,type:o,relatedAddress:s,relatedPort:a,priority:c}=new RTCIceCandidate(t),d={foundation:e??\"\",componentId:\"1\",transport:n??\"\",priority:c?c+\"\":\"\",connectionAddress:i??\"\",port:r?r+\"\":\"\",type:o?o+\"\":\"\",relAddr:s??\"\",relPort:a?a+\"\":\"\",extension:{}};this.candidates.some(l=>l.priority===d.priority&&l.connectionAddress===d.connectionAddress&&l.port===d.port)||(this._candidates.push(d),this.sessionDesc.mediaDescriptions.forEach(l=>{l.attributes.candidates=this.candidates;}));}clearRemoteCandidate(){this._candidates=[],this.sessionDesc.mediaDescriptions[0].attributes.candidates=this._candidates;}createOrRecycleRecvMedia(t,e,n,i,r){let o=t._mediaStreamTrack.kind,s=this.rtpCapabilities.recv,a=ac(o,s,this.localCapabilities.send,o===Q.AUDIO?r:i),c=o===Q.VIDEO?s.videoExtensions:s.audioExtensions,d=\"\".concat(++this.currentMidIndex),l={media:{mediaType:o,port:\"9\",protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:a.map(h=>h.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:e,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(d)}};l=this.mungRecvMediaDsec(l,t);let u=this.findFirstClosedMedia(o);if(u){let h=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[h]=l;}else this.sessionDesc.mediaDescriptions.push(l);return l}muteRemote(t){let e=this.sessionDesc.mediaDescriptions.filter(n=>W(t).call(t,n.attributes.mid||\"\"));if(e.length!==t.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");e.forEach(n=>{n.attributes.direction=\"inactive\";});}unmuteRemote(t){let e=this.sessionDesc.mediaDescriptions.filter(n=>W(t).call(t,n.attributes.mid||\"\"));if(e.length!==t.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");e.forEach(n=>{n.attributes.direction=\"recvonly\";});}findAvailableMediaIndex(t,e,n){return this.sessionDesc.mediaDescriptions.findIndex(i=>{let r=i.media.mediaType===t&&i.media.port!==\"0\"&&(i.attributes.direction===\"sendonly\"||i.attributes.direction===\"sendrecv\")&&i.attributes.ssrcs.length===0;if($t()){if(r){let o=this.firefoxSsrcMidMap.get(e[0].ssrcId);return !(o||i.attributes.mid!==\"0\"&&i.attributes.mid!==\"1\")||!(!o||o!==i.attributes.mid)}return !1}return r&&i.attributes.mid===n})}findAvailableRecvMediaIndex(t){return this.sessionDesc.mediaDescriptions.findIndex(e=>{let n=e.media.mediaType===t&&e.media.port!==\"0\"&&(e.attributes.direction===\"recvonly\"||e.attributes.direction===\"sendrecv\");return e.attributes.mid!==\"0\"&&e.attributes.mid!==\"1\"&&n})}predictReceivingMids(t){let e=[];for(let n=0;n<t;n++)e.push((this.currentMidIndex+n+1).toString(10));return e}restartICE(t){t=le(t),this._iceParameters=t,this.sessionDesc.mediaDescriptions.forEach(e=>{e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd;});}createOrRecycleSendMedia(t,e,n,i,r,o){let s=this.rtpCapabilities.send,a=t===Q.VIDEO?s.videoCodecs:s.audioCodecs,c=t===Q.VIDEO?s.videoExtensions:s.audioExtensions;$t()&&(r=\"\".concat(++this.currentMidIndex));let d={media:{mediaType:t,port:\"9\",protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:a.map(u=>u.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:e,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:r}};d=this.mungSendMediaDesc(d,o);let l=this.findFirstClosedMedia(t);if(l){let u=this.sessionDesc.mediaDescriptions.indexOf(l);this.sessionDesc.mediaDescriptions[u]=d;}else this.sessionDesc.mediaDescriptions.push(d);return d}mungRecvMediaDsec(t,e,n){let i=le(t);return If(i),ra(i,e),vf(i,e),r0(i),lu(i,n,this.localCapabilities.send),i}mungSendMediaDesc(t,e){let n=le(t);return lu(n,e,this.localCapabilities.recv),oa(n),n}updateRecvMedia(t,e){let n=this.sessionDesc.mediaDescriptions.findIndex(i=>i.attributes.mid===t);if(n!==-1){let i=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],e);this.sessionDesc.mediaDescriptions[n]=i;}}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter(t=>t.media.port!==\"0\").map(t=>t.attributes.mid);}findPreloadMediaDesc(t){return this.sessionDesc.mediaDescriptions.find(e=>{var n;return ((n=e.attributes)===null||n===void 0||(n=n.ssrcs[0])===null||n===void 0?void 0:n.ssrcId)===t[0].ssrcId})}findFirstClosedMedia(t){return this.sessionDesc.mediaDescriptions.find(e=>$t()?e.media.port===\"0\"&&e.media.mediaType===t:e.media.port===\"0\")}},lW=[\"sdp\"],Vt;function Ev(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ev(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ev(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var mv=(Vt=class bs extends Kl{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,n;return (e=(n=this.peerConnection.getReceivers()[0])===null||n===void 0||(n=n.transport)===null||n===void 0?void 0:n.state)!==null&&e!==void 0?e:null}get localCodecs(){return []}set isInRestartIce(e){this._isInRestartIce=e;}get isInRestartIce(){return this._isInRestartIce}constructor(e,n,i){super(e,n),T(this,\"direction\",void 0),T(this,\"name\",void 0),T(this,\"store\",void 0),T(this,\"spec\",void 0),T(this,\"peerConnection\",void 0),T(this,\"initialOffer\",void 0),T(this,\"transport\",void 0),T(this,\"statsFilter\",void 0),T(this,\"localCandidateCount\",0),T(this,\"_isInRestartIce\",!1),T(this,\"mutex\",new ze(\"P2PConnection-mutex\")),T(this,\"onLocalCandidate\",void 0),T(this,\"remoteSDP\",void 0),T(this,\"pendingCandidates\",[]),T(this,\"localCapabilities\",void 0),T(this,\"isReady\",!1),T(this,\"restartCnt\",0),T(this,\"curTurnServerIndex\",0),this.store=n,this.spec=e,this.peerConnection=new RTCPeerConnection(bs.resolvePCConfiguration(e,n.p2pTransport),{optional:[{googDscp:!0}]}),this.direction=i??cn.SEND_ONLY,this.name=this.direction===cn.SEND_ONLY?\"sendP2PConnection\":\"recvP2PConnection\",this.statsFilter=Nf(this.peerConnection,v(\"STATS_UPDATE_INTERVAL\"),void 0,$t()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1;}async establish(e){try{let n=await s0();if(this.localCapabilities=uu(n),e){let{sdp:i}=e,r=cW(e,lW),o=function(){let l={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},u=Lc(arguments.length>2?arguments[2]:void 0,arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},\"sendonly\"),h={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},p={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},g={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(Ii(u,l,\"videoExtensions\",h,p,g),Ii(u,l,\"videoCodecs\",h,p,g),Ii(u,l,\"audioExtensions\",h,p,g),Ii(u,l,\"audioCodecs\",h,p,g),v(\"RAISE_H264_BASELINE_PRIORITY\")){let E=g.videoCodecs.findIndex(f=>f.rtpMap&&f.rtpMap.encodingName.toLocaleLowerCase()===\"h264\"&&f.fmtp&&f.fmtp.parameters[\"profile-level-id\"]===\"42001f\");if(E!==-1){let f=g.videoCodecs.findIndex(S=>S.rtpMap&&S.rtpMap.encodingName.toLocaleLowerCase()===\"h264\");if(f<E){_.debug(\"raising H264 baseline profile priority\");let S=g.videoCodecs[E];g.videoCodecs.splice(E,1),g.videoCodecs.splice(f,0,S);}f!==-1&&v(\"FILTER_SEND_H264_BASELINE\")&&(h.videoCodecs=h.videoCodecs.filter(S=>!(S.rtpMap&&S.rtpMap.encodingName.toLocaleLowerCase()===\"h264\"&&S.fmtp&&S.fmtp.parameters[\"profile-level-id\"]!==\"42001f\")));}}return {send:h,recv:p,sendrecv:g}}({},{},i);this.remoteSDP=new _v({remoteIceParameters:r.iceParameters,remoteDtlsParameters:r.dtlsParameters,candidates:[],remoteRTPCapabilities:o,localCapabilities:this.localCapabilities,direction:this.direction,setup:\"actpass\",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:\"offer\",sdp:this.remoteSDP.toString()}),this.isReady=!0;let s=await this.peerConnection.createAnswer();if(!s.sdp)throw new Error(\"Cannot get answer sdp when trying to establish PeerConnection.\");let a=io(s.sdp);await this.peerConnection.setLocalDescription(s);let c=await zI({},{},s.sdp);this.localCapabilities=uu(c);let d=this.peerConnection.getTransceivers()[0];return d!=null&&d.receiver&&d.receiver.transport&&this.tryBindTransportEvents(d.receiver.transport),Gr(Gr({},a),{},{sdp:s.sdp})}{this.peerConnection.addTransceiver(\"video\",{direction:\"sendonly\"}),this.peerConnection.addTransceiver(\"audio\",{direction:\"sendonly\"});let i=await this.peerConnection.createOffer();if(!i.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");let r=io(i.sdp);return this.initialOffer=i,Gr(Gr({},r),{},{sdp:i.sdp})}}catch(n){throw new N(R.GET_LOCAL_CONNECTION_PARAMS_FAILED,n.toString())}}async connect(e){try{if(!this.initialOffer)throw new Error(\"Cannot establish P2PConnection without initial offer.\");await this.peerConnection.setLocalDescription(this.initialOffer);let{sdp:n,iceParameters:i,dtlsParameters:r}=e,o=await zI({},{},n);this.remoteSDP=new _v({remoteIceParameters:i,remoteDtlsParameters:r,candidates:[],remoteRTPCapabilities:o,localCapabilities:this.localCapabilities,direction:this.direction,setup:\"active\",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:\"answer\",sdp:this.remoteSDP.toString()});let s=this.peerConnection.getTransceivers()[0];s!=null&&s.sender&&s.sender.transport&&this.tryBindTransportEvents(s.sender.transport);}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(n.toString()))}}async addRemoteCandidate(e){try{e&&this.pendingCandidates.push(e),this.peerConnection.remoteDescription&&this.isReady&&(this.pendingCandidates.forEach(n=>{this.peerConnection.addIceCandidate(n);}),this.pendingCandidates=[]);}catch(n){throw new N(R.ADD_CANDIDATE_FAILED,\"P2PConnection.addRemoteCandidate failed; \".concat(n.toString()))}}send(e,n,i){var r=this;return Bi(function*(){let o=yield Tt(r.mutex.lock(\"From P2PConnection.send\"));try{if(!r.remoteSDP)throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");let s=[],a=r.remoteSDP.receive(e,n,i);e.forEach((f,S)=>{if(a[S].needCreateTransceiver){let C=r.peerConnection.addTransceiver(f._mediaStreamTrack,{direction:\"sendonly\"});s.push(C),f._updateRtpTransceiver(C);}else {let C=r.peerConnection.getTransceivers().find(A=>A.mid===a[S].mid);if(!C)throw new Error(\"cannot find transceiver when sendPeerconnection send, mid is \".concat(a[S].mid));s.push(C),f._updateRtpTransceiver(C);}}),$t()&&v(\"SIMULCAST\")===!0&&(yield Tt(r.applySimulcastForFirefox(s,e)));let c=a.map(f=>f.mid),d=yield Tt(r.peerConnection.createOffer()),l=r.mungSendOfferSDP(d.sdp,e,c),u=Le.parse(l),h=c.map(f=>{let S=u.mediaDescriptions.find(C=>C.attributes.mid===f);if(!S)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return n0(S,v(\"USE_PUB_RTX\"))}),p=s.map((f,S)=>{let C=c[S];return {localSSRC:h[S],id:C}});yield Tt(r.peerConnection.setLocalDescription({type:\"offer\",sdp:l}));try{yield p;}catch(f){let S=r.remoteSDP.toString();throw yield Tt(r.peerConnection.setLocalDescription({type:\"offer\",sdp:l})),yield Tt(r.peerConnection.setRemoteDescription({type:\"answer\",sdp:S})),yield Tt(r.stopSending(c,!0)),f}yield Tt(r.applySimulcastEncodings(s,e)),yield Tt(r.applySendEncodings(s,e));let g=r.remoteSDP.toString(),E=r.logSDPExchange(l,\"offer\",\"local\",\"send\");return E?.(g),yield Tt(r.setRemoteDescription({type:\"answer\",sdp:g})),s.map((f,S)=>{let C=c[S];return {localSSRC:h[S],id:C}})}catch(s){throw s instanceof N?s:new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(s.toString()))}finally{o();}})()}async stopSending(e,n){let i=n?void 0:await this.mutex.lock(\"From P2PConnection.stopSending\");try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");let r=this.peerConnection.getTransceivers().filter(c=>e.indexOf(c.mid)!==-1);if(r.length!==e.length)throw new Error(\"Transceivers' length (\".concat(r.length,\") doesn't match mids' length (\").concat(e.length,\") when trying to call P2PConnection.stopSending.\"));r.map(c=>{var d;c.direction=\"inactive\",(d=c.stop)===null||d===void 0||d.call(c);});let o=await this.peerConnection.createOffer(),s=this.logSDPExchange(o.sdp||\"\",\"offer\",\"local\",\"stopSending\");await this.peerConnection.setLocalDescription(o),this.remoteSDP.stopReceiving(e);let a=this.remoteSDP.toString();s?.(a),await this.setRemoteDescription({type:\"answer\",sdp:a});}catch(r){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(r.toString()))}finally{i&&i();}}async receive(e,n,i,r){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));let{mid:o,needExchangeSDP:s}=this.remoteSDP.send(e,n,i,r);if(s){let c=this.remoteSDP.toString(),d=this.logSDPExchange(c,\"offer\",\"remote\",\"receive\");await this.setRemoteDescription({type:\"offer\",sdp:c});let l=await this.peerConnection.createAnswer(),u=this.mungReceiveAnswerSDP(l.sdp,o,e);d?.(u||\"\"),await this.peerConnection.setLocalDescription({type:\"answer\",sdp:u}),_.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" by exchanging SDP.\"));}else _.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" no need to exchange SDP.\"));let a=this.peerConnection.getTransceivers().find(c=>c.mid===o);if(!a||a.mid===null)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return {track:a.receiver.track,mid:a.mid,transceiver:a}}catch(o){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(o.toString()))}}async mockReceive(e,n,i,r){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));let{mid:o,needExchangeSDP:s}=this.remoteSDP.send(e,n,i,r);if(s){let a=this.remoteSDP.toString(),c=this.logSDPExchange(a,\"offer\",\"remote\",\"receive\");await this.setRemoteDescription({type:\"offer\",sdp:a});let d=await this.peerConnection.createAnswer(),l=this.mungReceiveAnswerSDP(d.sdp,o,e);c?.(l||\"\"),await this.peerConnection.setLocalDescription({type:\"answer\",sdp:l}),_.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" by exchanging SDP.\"));}else _.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" no need to exchange SDP.\"));}catch(o){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(o.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");this.remoteSDP.stopSending(e);let n=this.remoteSDP.toString(),i=this.logSDPExchange(n,\"offer\",\"remote\",\"stopReceiving\");await this.setRemoteDescription({type:\"offer\",sdp:n});let r=await this.peerConnection.createAnswer();i?.(r.sdp||\"\"),await this.peerConnection.setLocalDescription(r);}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(n.toString()))}}async restartICE(e){try{if(this.store.p2pTransport===Oo.Auto&&(this.store.p2pTransport=Oo.SdRtn,ft().supportPCSetConfiguration&&this.peerConnection.setConfiguration(bs.resolvePCConfiguration(this.spec,this.store.p2pTransport))),this.restartCnt>3&&(this.restartCnt=0,ft().supportPCSetConfiguration&&this.peerConnection.setConfiguration(bs.resolvePCConfiguration(this.spec,this.store.p2pTransport,++this.curTurnServerIndex))),!e){this.restartCnt++,this.isReady=!1;let n=await this.peerConnection.createOffer({iceRestart:!0});if(!n.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");let{iceParameters:i}=io(n.sdp);return this.store.descriptionStart(),this.direction===cn.SEND_ONLY&&await this.peerConnection.setLocalDescription(n),i}if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");if(this.remoteSDP.restartICE(e),this.store.descriptionStart(),this.direction===cn.RECEIVE_ONLY){this.restartCnt++,await this.setRemoteDescription({type:\"offer\",sdp:this.remoteSDP.toString()});let n=await this.peerConnection.createAnswer();if(!n.sdp)throw new Error(\"Cannot get answer sdp when trying to iceRestart.\");let{iceParameters:i}=io(n.sdp);return await this.peerConnection.setLocalDescription(n),i}await this.setRemoteDescription({type:\"answer\",sdp:this.remoteSDP.toString()}),this.isReady=!0;}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(n.toString()))}}close(){var e;this.peerConnection.close(),this.peerConnection.onicecandidate=null,(e=this.onConnectionStateChange)===null||e===void 0||e.call(this,\"closed\"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.transport=void 0,this.statsFilter.destroy();}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");let i=await this.peerConnection.createOffer(),r=this.mungSendOfferSDP(i.sdp,[n],[e]);this.remoteSDP.updateRecvMedia(e,n);let o=this.remoteSDP.toString(),s=this.logSDPExchange(r,\"offer\",\"local\",\"updateEncoderConfig\");await this.peerConnection.setLocalDescription({type:\"offer\",sdp:r}),s?.(o),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o});}catch(i){throw new N(R.EXCHANGE_SDP_FAILED,i.toString())}}async updateSendParameters(e,n){let i=this.peerConnection.getTransceivers().filter(r=>r.mid===e);i.length===1&&(this.isVP8Simulcast(n)?$t()||await this.applySimulcastEncodings(i,[n]):await this.applySendEncodings(i,[n]));}setStatsRemoteVideoIsReady(e,n){this.statsFilter.setVideoIsReady2(e,n);}async replaceTrack(e,n){let i=this.peerConnection.getTransceivers().find(r=>r.mid===n);i&&await i.sender.replaceTrack(e._mediaStreamTrack);}async getSelectedCandidatePair(){let e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){let n=e[0].transport.iceTransport,{local:i,remote:r}=n.getSelectedCandidatePair();return {local:Gr(Gr({},hr),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port}),remote:Gr(Gr({},hr),{},{candidateType:r.type,protocol:r.protocol,address:r.address,port:r.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e,n;W(e=[\"connected\",\"completed\"]).call(e,this.peerConnection.iceConnectionState)&&(this.isReady=!1),(n=this.onICEConnectionStateChange)===null||n===void 0||n.call(this,this.peerConnection.iceConnectionState);},this.peerConnection.onconnectionstatechange=()=>{var e;this.peerConnection.connectionState===\"connected\"&&(this.restartCnt=0),(e=this.onConnectionStateChange)===null||e===void 0||e.call(this,this.peerConnection.connectionState);},this.startICECandidate();}startICECandidate(){this.peerConnection.onicecandidate||(this.localCandidateCount=0,this.peerConnection.onicecandidate=e=>{if(e.candidate){var n;e.candidate.candidate&&((n=this.onLocalCandidate)===null||n===void 0||n.call(this,e.candidate.toJSON())),this.localCandidateCount+=1;}else _.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount);});}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null;}static resolvePCConfiguration(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r={iceServers:[]};var o;return e.iceServers?r.iceServers=e.iceServers:e.turnServer&&e.turnServer.mode!==\"off\"&&(Yu(e.turnServer.servers)?r.iceServers=e.turnServer.servers:(r.iceServers&&r.iceServers.push(...bs.turnServerConfigToIceServers(e.turnServer.servers,n,i)),v(\"USE_TURN_SERVER_OF_GATEWAY\")&&r.iceServers&&e.turnServer.serversFromGateway&&r.iceServers.push(...bs.turnServerConfigToIceServers(e.turnServer.serversFromGateway,n,i)),W(o=[Oo.Relay,Oo.SdRtn]).call(o,n)&&(r.iceTransportPolicy=\"relay\"),v(\"FORCE_TURN_TCP\")?r.iceTransportPolicy=\"relay\":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach(s=>{s.forceturn&&(r.iceTransportPolicy=\"relay\");}))),v(\"ENABLE_ENCODED_TRANSFORM\")&&ft().supportWebRTCEncodedTransform&&(r.encodedInsertableStreams=!0),_.debug(\"P2PConnection p2pTransport is \".concat(n)),r}static turnServerConfigToIceServers(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=[],o=e.filter(a=>a.tcpport);_.debug(\"P2PConnection turnServers is \".concat(o,\", current index is \").concat(i));let s=o.length>i?o[i]:o[0];switch(n){case Oo.SdRtn:let a=e.filter(d=>{var l;return W(l=d.username).call(l,\"glb:\")&&d.turnServerURL==d.turnServerURL}),c=a.length>i?a[i]:a[0];c&&(r.push({username:c.username,credential:c.password,credentialType:\"password\",urls:\"turn:\".concat(Us(c.turnServerURL),\":\").concat(c.tcpport,\"?transport=udp\")}),r.push({username:c.username,credential:c.password,credentialType:\"password\",urls:\"turns:\".concat(Us(c.turnServerURL),\":\").concat(c.tcpport,\"?transport=tcp\")}));break;case Oo.Relay:s&&(r.push({username:s.username,credential:s.password,credentialType:\"password\",urls:\"turn:\".concat(s.turnServerURL,\":\").concat(s.tcpport,\"?transport=udp\")}),r.push({username:s.username,credential:s.password,credentialType:\"password\",urls:\"turns:\".concat(Us(s.turnServerURL),\":\").concat(s.tcpport,\"?transport=tcp\")}));break;default:s&&(r.push({username:s.username,credential:s.password,credentialType:\"password\",urls:\"turn:\".concat(s.turnServerURL,\":\").concat(s.tcpport,\"?transport=udp\")}),r.push({username:s.username,credential:s.password,credentialType:\"password\",urls:\"turns:\".concat(Us(s.turnServerURL),\":\").concat(s.tcpport,\"?transport=tcp\")}),r.push({username:s.username,credential:s.password,credentialType:\"password\",urls:\"stun:\".concat(s.turnServerURL,\":\").concat(s.tcpport)}));}return r}tryBindTransportEvents(e){if(e){this.transport=e,e.onstatechange=()=>{var i;e!=null&&e.state&&((i=this.onDTLSTransportStateChange)===null||i===void 0||i.call(this,e.state));},e.onerror=i=>{var r;(r=this.onDTLSTransportError)===null||r===void 0||r.call(this,\"error\"in i?i.error:i);};let n=e.iceTransport;n&&(n.onstatechange=()=>{let i=e?.iceTransport.state;var r;i&&((r=this.onICETransportStateChange)===null||r===void 0||r.call(this,i));},n.getSelectedCandidatePair&&(n.onselectedcandidatepairchange=()=>{if(n.getSelectedCandidatePair()){let{local:i,remote:r}=n.getSelectedCandidatePair();_.info(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] selectedcandidatepairchange: local \").concat(JSON.stringify({candidateType:i.type,protocol:i.protocol}),\", remote \").concat(JSON.stringify({candidateType:r.type,protocol:r.protocol,address:r.address,port:r.port}),\" )\"));}}));}}tryUnbindTransportEvents(){this.transport&&(this.transport.onstatechange=null,this.transport.onerror=null,this.transport.iceTransport&&(this.transport.iceTransport.onstatechange=null));}async updateRtpSenderEncodings(e,n){var i;if(n||(n=this.peerConnection.getSenders().find(l=>l.track===e._mediaStreamTrack)),!n)return _.warn(\"[\".concat(e.getTrackId(),\"] no rtpSender found}\"));if(this.isVP8Simulcast(e))return _.warn(\"[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings\");if(!ft().supportSetRtpSenderParameters)return _.warn(\"[updateRtpSenderEncodings] Browser not support set rtp-sender parameters\");let r={},o={};switch(e._optimizationMode){case\"motion\":r.degradationPreference=\"maintain-framerate\";break;case\"detail\":r.degradationPreference=\"maintain-resolution\";break;default:r.degradationPreference=\"balanced\";}if(e._encoderConfig){var s;let{bitrateMax:l,frameRate:u,scaleResolutionDownBy:h}=e._encoderConfig;l&&(o.maxBitrate=1e3*l),W(s=e._hints).call(s,Gt.LOW_STREAM)&&(u&&(o.maxFramerate=Nn(u)),h&&h>=1&&(o.scaleResolutionDownBy=h));}if(v(\"DSCP_TYPE\")&&ho()){var a;let l=v(\"DSCP_TYPE\");W(a=[\"very-low\",\"low\",\"medium\",\"high\"]).call(a,l)&&(o.networkPriority=l);}let c=n.getParameters(),d=(i=c.encodings)===null||i===void 0?void 0:i[0];$t()&&!d&&(r.encodings=[o]),d&&Object.assign(d,o),Object.assign(c,r),_.debug(\"[\".concat(e.getTrackId(),\"] updateRtpSenderEncodings: \").concat(JSON.stringify(c.encodings))),await n.setParameters(c);}async applySendEncodings(e,n){try{if(!ft().supportSetRtpSenderParameters||e.length!==n.length)return;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];o instanceof Ft&&!this.isVP8Simulcast(o)&&await this.updateRtpSenderEncodings(o,r.sender);}}catch{_.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"));}}mungSendOfferSDP(e,n,i){let r=Le.parse(e);return n.forEach((o,s)=>{let a=i[s],c=r.mediaDescriptions.find(d=>d.attributes.mid===a);c&&(ra(c,o),o0(c,o,this.store.codec));}),Le.print(r)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var n;(n=this.onFirstAudioReceived)===null||n===void 0||n.call(this,e);},this.statsFilter.onFirstVideoReceived=e=>{var n;(n=this.onFirstVideoReceived)===null||n===void 0||n.call(this,e);},this.statsFilter.onFirstAudioDecoded=e=>{var n;(n=this.onFirstAudioDecoded)===null||n===void 0||n.call(this,e);},this.statsFilter.onFirstVideoDecoded=(e,n,i)=>{var r;(r=this.onFirstVideoDecoded)===null||r===void 0||r.call(this,e,n,i);},this.statsFilter.onSelectedLocalCandidateChanged=(e,n)=>{var i;(i=this.onSelectedLocalCandidateChanged)===null||i===void 0||i.call(this,e,n);},this.statsFilter.onSelectedRemoteCandidateChanged=(e,n)=>{var i;(i=this.onSelectedRemoteCandidateChanged)===null||i===void 0||i.call(this,e,n);},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var n;(n=this.onFirstVideoDecodedTimeout)===null||n===void 0||n.call(this,e);};}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0;}async applySimulcastForFirefox(e,n){if(e.length===n.length)for(let c=0;c<e.length;c++){var i,r,o,s,a;let d=e[c],l=n[c];if(l instanceof Ft&&!W(i=l._hints).call(i,Gt.LOW_STREAM)&&(r=l._encoderConfig)!==null&&r!==void 0&&r.bitrateMax&&((o=l._encoderConfig)===null||o===void 0?void 0:o.bitrateMax)>200&&(s=l._scalabilityMode)!==null&&s!==void 0&&s.numSpatialLayers&&((a=l._scalabilityMode)===null||a===void 0?void 0:a.numSpatialLayers)>1&&this.store.codec===\"vp8\"){let u={},h={high:1e3*(l._encoderConfig.bitrateMax-50),medium:5e4};u.encodings=[{rid:\"m\",active:!0,maxBitrate:h.medium,scaleResolutionDownBy:4},{rid:\"h\",active:!0,maxBitrate:h.high}];let p=d.sender.getParameters();await d.sender.setParameters(Object.assign(p,u));}}}async applySimulcastEncodings(e,n){if(!$t()&&e.length===n.length)for(let i=0;i<e.length;i++){let r=n[i];if(r instanceof Ft&&this.isVP8Simulcast(r)){let o=e[i],s={},a={high:1e3*(r._encoderConfig.bitrateMax-50),medium:5e4};s.encodings=[{active:!0,adaptivePtime:!1,networkPriority:\"high\",priority:\"high\",maxBitrate:a.high},{active:!0,adaptivePtime:!1,networkPriority:\"low\",priority:\"low\",maxBitrate:a.medium,scaleResolutionDownBy:4}];let c=o.sender.getParameters();await o.sender.setParameters(Object.assign(c,s));}}}isVP8Simulcast(e){var n,i,r,o,s;return !!(e instanceof Ft&&v(\"SIMULCAST\")&&this.store.codec===\"vp8\"&&!W(n=e._hints).call(n,Gt.LOW_STREAM)&&(i=e._encoderConfig)!==null&&i!==void 0&&i.bitrateMax&&((r=e._encoderConfig)===null||r===void 0?void 0:r.bitrateMax)>200&&(o=e._scalabilityMode)!==null&&o!==void 0&&o.numSpatialLayers&&((s=e._scalabilityMode)===null||s===void 0?void 0:s.numSpatialLayers)>1)}logSDPExchange(e,n,i,r){if(v(\"SDP_LOGGING\"))return _.upload(\"[\".concat(this.store.clientId,\"] exchanging \").concat(i,\" \").concat(n,\" SDP during P2PConnection.\").concat(r,`\n`),e),n===\"offer\"?o=>{this.logSDPExchange(o,\"answer\",i===\"local\"?\"remote\":\"local\",r);}:void 0}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");let n=this.peerConnection.getTransceivers().filter(s=>s.mid&&e.indexOf(s.mid)!==-1);if(n.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");n.map(s=>{s.direction=\"inactive\";});let i=await this.peerConnection.createOffer(),r=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.muteRemote(e);let o=this.remoteSDP.toString();r?.(o),await this.setRemoteDescription({type:\"answer\",sdp:o});}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.muteLocal failed; \".concat(n.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");let n=this.peerConnection.getTransceivers().filter(s=>s.mid&&e.indexOf(s.mid)!==-1);if(n.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");n.map(async s=>{s.direction=\"sendonly\";});let i=await this.peerConnection.createOffer(),r=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"unmuteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.unmuteRemote(e);let o=this.remoteSDP.toString();r?.(o),await this.setRemoteDescription({type:\"answer\",sdp:o});}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteLocal failed; \".concat(n.toString()))}}async getRemoteSSRC(e,n){var i,r;if(n=(i=n)!==null&&i!==void 0?i:(r=this.currentRemoteDescription)===null||r===void 0?void 0:r.sdp){var o;let s=(o=Le.parse(n).mediaDescriptions.find(a=>a.attributes.mid===e))===null||o===void 0?void 0:o.attributes.ssrcs;return s?.[0].ssrcId}}async setRemoteDescription(e){var n;await this.peerConnection.setRemoteDescription(e),W(n=[\"connected\",\"completed\"]).call(n,this.peerConnection.iceConnectionState)||(this.isReady=!0,this.addRemoteCandidate());}mungReceiveAnswerSDP(e,n,i){let r=Le.parse(e),o=r.mediaDescriptions.find(s=>s.attributes.mid===n);return o&&i===Q.AUDIO&&o.media.mediaType===\"audio\"&&oa(o),Le.print(r)}},q(Vt.prototype,\"establish\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"establish\"),Vt.prototype),q(Vt.prototype,\"connect\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"connect\"),Vt.prototype),q(Vt.prototype,\"receive\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"receive\"),Vt.prototype),q(Vt.prototype,\"mockReceive\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"mockReceive\"),Vt.prototype),q(Vt.prototype,\"stopReceiving\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"stopReceiving\"),Vt.prototype),q(Vt.prototype,\"restartICE\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"restartICE\"),Vt.prototype),q(Vt.prototype,\"close\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"close\"),Vt.prototype),q(Vt.prototype,\"updateEncoderConfig\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"updateEncoderConfig\"),Vt.prototype),q(Vt.prototype,\"updateSendParameters\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"updateSendParameters\"),Vt.prototype),q(Vt.prototype,\"replaceTrack\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"replaceTrack\"),Vt.prototype),q(Vt.prototype,\"muteLocal\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"muteLocal\"),Vt.prototype),q(Vt.prototype,\"unmuteLocal\",[_i],Object.getOwnPropertyDescriptor(Vt.prototype,\"unmuteLocal\"),Vt.prototype),Vt);function _i(t,e,n){let i=t[e];if(typeof i!=\"function\")throw new Error(\"Cannot use mutex on object property.\");return n.value=async function(){let r=this.mutex,o=await r.lock(\"From P2PConnection.\".concat(e));try{for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return await i.apply(this,a)}finally{o();}},n}function dm(t,e){let n=document.createElement(\"video\"),i=document.createElement(\"canvas\");n.setAttribute(\"style\",\"display:none\"),i.setAttribute(\"style\",\"display:none\"),n.setAttribute(\"muted\",\"\"),n.muted=!0,n.setAttribute(\"autoplay\",\"\"),n.autoplay=!0,n.setAttribute(\"playsinline\",\"\"),i.width=Nn(e.width),i.height=Nn(e.height);let r=Nn(e.framerate||15);document.body.append(n),document.body.append(i);let o=t._mediaStreamTrack;n.srcObject=new MediaStream([o]),n.play();let s=i.getContext(\"2d\");if(!s)throw new O(R.UNEXPECTED_ERROR,\"can not get canvas context\");let a=ft(),c=i.captureStream(a.supportRequestFrame?0:r).getVideoTracks()[0];c.canvas||(c.canvas=i),i.startCapture=()=>{if(!n)return i.stopCapture&&i.stopCapture();if(n.paused&&n.play(),n.videoHeight>2&&n.videoWidth>2){let l=n.videoWidth,u=n.videoHeight/l,h=i.width*u;Math.abs(h-i.height)>=2&&(_.debug(\"adjust low stream resolution\",\"\".concat(i.width,\"x\").concat(i.height,\" -> \").concat(i.width,\"x\").concat(h)),i.height=h);}s.drawImage(n,0,0,i.width,i.height),c.requestFrame&&c.requestFrame(),o!==t._mediaStreamTrack&&(o=t._mediaStreamTrack,n.srcObject=new MediaStream([o]));},i.stopCapture=Rf(()=>i.startCapture&&i.startCapture(),r);let d=c.stop;return c.stop=()=>{d.call(c),n&&(n.remove(),n.srcObject=null,n=null),i&&(i.width=0,i.remove(),i.stopCapture&&i.stopCapture(),i.startCapture=void 0,i.stopCapture=void 0,i=null),_.debug(\"clean low stream renderer\");},c}var Al=function(t){return t[t.HEIGHT=2033]=\"HEIGHT\",t[t.FRAME_RATE=2034]=\"FRAME_RATE\",t[t.WIDTH=2035]=\"WIDTH\",t}(Al||{}),Ie=function(t){return t[t.FRAME_RATE=2002]=\"FRAME_RATE\",t[t.WIDTH=2003]=\"WIDTH\",t[t.HEIGHT=2004]=\"HEIGHT\",t[t.PACKAGE_LOST=2005]=\"PACKAGE_LOST\",t[t.AVG_ENCODE=2007]=\"AVG_ENCODE\",t[t.NACKS=2009]=\"NACKS\",t[t.PLIS=2010]=\"PLIS\",t[t.FIRS=2011]=\"FIRS\",t[t.BITRATE=2012]=\"BITRATE\",t[t.PACKAGE_RATE=2031]=\"PACKAGE_RATE\",t[t.ADAPTATION=2032]=\"ADAPTATION\",t[t.ACTUAL_ENCODED=2060]=\"ACTUAL_ENCODED\",t[t.BANDWIDTH=2061]=\"BANDWIDTH\",t[t.RETRANSMIT=2062]=\"RETRANSMIT\",t[t.TARGET_ENCODED=2064]=\"TARGET_ENCODED\",t[t.TRANSMIT=2066]=\"TRANSMIT\",t[t.FREEZE=2082]=\"FREEZE\",t[t.DISABLED=2095]=\"DISABLED\",t[t.PLAYER_STATUS=2128]=\"PLAYER_STATUS\",t[t.QP_SUM=2143]=\"QP_SUM\",t}(Ie||{}),Do=function(t){return t[t.BITRATE=2069]=\"BITRATE\",t[t.PACKAGE_LOST=2070]=\"PACKAGE_LOST\",t[t.PACKAGE_RATE=2071]=\"PACKAGE_RATE\",t[t.HEIGHT=2073]=\"HEIGHT\",t[t.FRAME_RATE=2075]=\"FRAME_RATE\",t[t.WIDTH=2077]=\"WIDTH\",t}(Do||{}),Qe=function(t){return t[t.JITTER=-1]=\"JITTER\",t[t.PACKAGE_LOST=2014]=\"PACKAGE_LOST\",t[t.WIDTH=2018]=\"WIDTH\",t[t.HEIGHT=2019]=\"HEIGHT\",t[t.FRAME_RATE=2020]=\"FRAME_RATE\",t[t.JITTER_BUFFER=2023]=\"JITTER_BUFFER\",t[t.CURRENT_DELAY=2024]=\"CURRENT_DELAY\",t[t.NACKS=2026]=\"NACKS\",t[t.PLIS=2027]=\"PLIS\",t[t.FIRS=2028]=\"FIRS\",t[t.BITRATE=2029]=\"BITRATE\",t[t.PACKAGE_RATE=2078]=\"PACKAGE_RATE\",t[t.FREEZE=2084]=\"FREEZE\",t[t.DISABLED=2101]=\"DISABLED\",t[t.PLAYER_STATUS=2129]=\"PLAYER_STATUS\",t[t.QP_SUM=2144]=\"QP_SUM\",t[t.I_FRAME_DELAY=2149]=\"I_FRAME_DELAY\",t}(Qe||{}),Po=function(t){return t[t.FRAME_RATE_DECODE=2021]=\"FRAME_RATE_DECODE\",t[t.FRAME_RATE_RENDER=2022]=\"FRAME_RATE_RENDER\",t[t.FRAME_RATE_OUTPUT=2155]=\"FRAME_RATE_OUTPUT\",t[t.FREEZE_TIME=2109]=\"FREEZE_TIME\",t[t.FREEZE_TIME_RENDER=2147]=\"FREEZE_TIME_RENDER\",t[t.FREEZE_DURATION=2156]=\"FREEZE_DURATION\",t}(Po||{}),g0=function(t){return t[t.PCM_LEVEL=2104]=\"PCM_LEVEL\",t}(g0||{}),zr=function(t){return t[t.PACKAGE_LOST=-1]=\"PACKAGE_LOST\",t[t.LEVEL=2038]=\"LEVEL\",t[t.BITRATE=2039]=\"BITRATE\",t[t.PACKAGE_RATE=2040]=\"PACKAGE_RATE\",t[t.AEC_RETURN_LOSS=2041]=\"AEC_RETURN_LOSS\",t[t.AEC_RETURN_LOSS_ENH=2042]=\"AEC_RETURN_LOSS_ENH\",t[t.FREEZE=2081]=\"FREEZE\",t[t.DISABLED=2096]=\"DISABLED\",t}(zr||{}),mi=function(t){return t[t.BITRATE=2044]=\"BITRATE\",t[t.PACKAGE_LOST=2045]=\"PACKAGE_LOST\",t[t.PACKAGE_RATE=2046]=\"PACKAGE_RATE\",t[t.CURRENT_DELAY=2047]=\"CURRENT_DELAY\",t[t.JITTER_BUFFER=2054]=\"JITTER_BUFFER\",t[t.JITTER=2055]=\"JITTER\",t[t.FREEZE=2083]=\"FREEZE\",t[t.DISABLED=2102]=\"DISABLED\",t[t.PCM_LEVEL=2105]=\"PCM_LEVEL\",t[t.PLAYER_STATUS=2130]=\"PLAYER_STATUS\",t[t.CONCEALED_SAMPLES=2148]=\"CONCEALED_SAMPLES\",t}(mi||{}),T0=function(t){return t[t.FREEZE_TIME=-1]=\"FREEZE_TIME\",t[t.LEVEL=2043]=\"LEVEL\",t}(T0||{}),$n=function(t){return t[t.RTT=2006]=\"RTT\",t[t.CONN_TYPE=801]=\"CONN_TYPE\",t}($n||{}),Rr=1e3,bo=3;function st(t,e,n){n!=null&&Number.isFinite(n)&&(t[e]=Math.round(Math.max(0,n)));}function fv(t){let e={[$n.CONN_TYPE]:0,[$n.RTT]:t.rtt};switch(t.selectedCandidatePair.localCandidate.candidateType){case\"relay\":{let n=t.selectedCandidatePair.localCandidate.relayProtocol;n===\"udp\"&&(e[$n.CONN_TYPE]=1),n===\"tcp\"&&(e[$n.CONN_TYPE]=3),n===\"tls\"&&(e[$n.CONN_TYPE]=4);break}case\"srflx\":e[$n.CONN_TYPE]=2;}return e}function gv(t){let e=0;switch(t){case\"none\":e=0;break;case\"cpu\":e=1;break;case\"bandwidth\":e=2;break;case\"other\":e=3;}return e}var pu=class extends Xt{constructor(e){super(),T(this,\"store\",void 0),T(this,\"uploadWRTCStatsTimer\",void 0),T(this,\"uploadOutboundDenoiserStatsTimer\",void 0),T(this,\"uploadExtStatsTimer\",void 0),T(this,\"uploadExtUsageStatsTimer\",void 0),T(this,\"uploadInboundExtStatsTimer\",void 0),T(this,\"requestStats\",void 0),T(this,\"requestTransportStats\",void 0),T(this,\"requestLocalMedia\",void 0),T(this,\"requestRemoteMedia\",void 0),T(this,\"requestAllTracks\",void 0),T(this,\"requestVideoIsReady\",void 0),T(this,\"requestUploadStats\",void 0),T(this,\"requestUpload\",void 0),T(this,\"uploadOutboundStarted\",!1),T(this,\"uploadInboundStarted\",!1),T(this,\"uploadTransportStarted\",!1),T(this,\"uploadExtensionUsageStarted\",!1),T(this,\"lastRecvStats\",void 0),T(this,\"lastSendStats\",void 0),T(this,\"lastFullRecvStats\",void 0),T(this,\"lastFullSendStats\",void 0),T(this,\"needUploadRenderFreezeTime\",!0),this.store=e;}uploadWRTCStats(e){if(!this.requestStats||!this.requestUploadStats)return;let n,i;if(this.uploadTransportStarted&&(n=this.requestStats(),this.store.useP2P&&(i=this.requestStats(!0))),!n&&this.uploadOutboundStarted&&(n=this.requestStats()),!i&&this.uploadInboundStarted&&(i=this.requestStats(!0)),n||i){let r={};if(this.uploadTransportStarted&&n){let o=this.getTransportStats(n,i,e);o&&(r.misc=[o]);}if(this.uploadOutboundStarted&&n){let o=this.getOutboundStats(n,e?this.lastSendStats:this.lastFullSendStats,e);o&&(r.outbound=[o]);}if(this.uploadInboundStarted&&i){let o=this.getInboundStats(i,e?this.lastRecvStats:this.lastFullRecvStats,e);o&&(r.inbound=o);}this.requestUploadStats(r);}this.lastRecvStats=i,this.lastSendStats=n,e||(this.lastFullRecvStats=i,this.lastFullSendStats=n);}startUploadWRTCStats(){if(this.uploadWRTCStatsTimer)return;let e=1;this.uploadWRTCStatsTimer=window.setInterval(()=>{if(!this.uploadTransportStarted&&!this.uploadInboundStarted&&!this.uploadOutboundStarted)return this.stopUploadWRTCStats();this.uploadWRTCStats(e!==bo),++e===bo+1&&(e=1);},Rr);}stopUploadWRTCStats(){window.clearInterval(this.uploadWRTCStatsTimer),this.uploadWRTCStatsTimer=void 0,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0);}getTransportStats(e,n,i){if(!this.requestStats)return;if(i)return e.rtt==null?void 0:{addition:{[$n.RTT]:e.rtt,[$n.CONN_TYPE]:void 0}};let r=fv(e);if(this.store.useP2P){if(n){let o=fv(n);r[$n.CONN_TYPE]+=o[$n.CONN_TYPE]<<3;}r[$n.CONN_TYPE]+=110;}else r[$n.CONN_TYPE]+=100;return {addition:r}}getOutboundStats(e,n,i){if(!this.requestUploadStats||!this.requestLocalMedia)return;let r=this.requestLocalMedia();if(!r||r.length===0)return;let o,s,a;return r.forEach(c=>{let[d,{track:l,ssrcs:u}]=c;switch(d){case U.LocalVideoLowTrack:case U.LocalVideoTrack:if(d===U.LocalVideoTrack){let h=function(E,f,S,C,A){let b=f.videoSend.find(z=>z.ssrc===E);if(!b)return;let w={},{sentFrame:D,inputFrame:k}=b;if(k&&D){let z=k.frameRate,lt=D.frameRate;w[Ie.FREEZE]=function(vt,Dt){let ce=!0;return ce=!(vt<=5)&&(vt<=10?Dt<3:vt<=20?Dt<4:Dt<5),ce}(z,lt)?1:0;}if(st(w,Ie.QP_SUM,b.qpSumPerFrame),A)return w;switch(D&&(st(w,Ie.HEIGHT,D.height),st(w,Ie.WIDTH,D.width),st(w,Ie.FRAME_RATE,D.frameRate)),w[Ie.DISABLED]=C._originMediaStreamTrack&&!C._originMediaStreamTrack.enabled||C._mediaStreamTrack&&!C._mediaStreamTrack.enabled?1:0,b.adaptionChangeReason){case\"none\":w[Ie.ADAPTATION]=0;break;case\"cpu\":w[Ie.ADAPTATION]=1;break;case\"bandwidth\":w[Ie.ADAPTATION]=2;break;case\"other\":w[Ie.ADAPTATION]=3;}let B=0;b.adaptionChangeReason&&(B+=gv(b.adaptionChangeReason)),f.qualityLimitationReason&&(B+=gv(f.qualityLimitationReason)<<3),w[Ie.ADAPTATION]=B,w[Ie.PLAYER_STATUS]=o_[C._player?C._player.videoElementStatus:\"uninit\"],st(w,Ie.NACKS,b.nacksCount),st(w,Ie.PLIS,b.plisCount),st(w,Ie.FIRS,b.firsCount),st(w,Ie.AVG_ENCODE,b.avgEncodeMs);let V=S&&S.videoSend.find(z=>z.ssrc===E);if(V){let z=A?Rr:Rr*bo;V.timestamp&&b.timestamp&&(z=b.timestamp-V.timestamp),V.packets!=null&&b.packets!=null&&st(w,Ie.PACKAGE_RATE,1e3*(b.packets-V.packets)/z),b.packetsLost!=null&&V.packetsLost!=null&&st(w,Ie.PACKAGE_LOST,b.packetsLost-V.packetsLost),V.bytes!=null&&b.bytes!=null&&st(w,Ie.BITRATE,8*(b.bytes-V.bytes)/z);}return w}(u[0].ssrcId,e,n,l,i),p=i?null:function(E,f,S){let C=f.videoSend.find(B=>B.ssrc===E);if(!C)return null;let A={},b=C.inputFrame,w=b&&b.height||S&&S.videoHeight||0,D=b&&b.width||S&&S.videoWidth||0,k=b&&b.frameRate||0;return st(A,Al.HEIGHT,w),st(A,Al.WIDTH,D),st(A,Al.FRAME_RATE,k),A}(u[0].ssrcId,e,l),g=i?null:function(E){let f={};return st(f,Ie.RETRANSMIT,E.bitrate.retransmit),st(f,Ie.TARGET_ENCODED,E.bitrate.targetEncoded),st(f,Ie.ACTUAL_ENCODED,E.bitrate.actualEncoded),st(f,Ie.TRANSMIT,E.bitrate.transmit),st(f,Ie.BANDWIDTH,E.sendBandwidth),f}(e);s=Object.assign({},h,p,g);}else a=i?void 0:function(h,p,g){let E=p.videoSend.find(C=>C.ssrc===h);if(!E)return;let f={},S=E.sentFrame;if(S&&(st(f,Do.HEIGHT,S.height),st(f,Do.WIDTH,S.width),st(f,Do.FRAME_RATE,S.frameRate)),g){let C=g.videoSend.find(A=>A.ssrc===h);if(C){let A=Rr*bo;C.timestamp&&E.timestamp&&(A=E.timestamp-C.timestamp),C.packets!=null&&E.packets!=null&&st(f,Do.PACKAGE_RATE,1e3*(E.packets-C.packets)/A),E.packetsLost!=null&&C.packetsLost!=null&&st(f,Do.PACKAGE_LOST,E.packetsLost-C.packetsLost),C.bytes!=null&&E.bytes!=null&&st(f,Do.BITRATE,8*(E.bytes-C.bytes)/A);}}return f}(u[0].ssrcId,e,n);break;case U.LocalAudioTrack:o=i?void 0:function(h,p,g,E){let f=p.audioSend.find(w=>w.ssrc===h);if(!f)return;let S={};S[zr.DISABLED]=E._originMediaStreamTrack&&!E._originMediaStreamTrack.enabled||E._mediaStreamTrack&&!E._mediaStreamTrack.enabled?1:0;let C=100*E._source.getAccurateVolumeLevel(),A=f.inputLevel;if(A!=null){let w=Math.ceil(50*Math.log10(100*A+1));st(S,zr.LEVEL,w);}st(S,g0.PCM_LEVEL,C),st(S,zr.AEC_RETURN_LOSS,f.aecReturnLoss),st(S,zr.AEC_RETURN_LOSS_ENH,f.aecReturnLossEnhancement),S[zr.FREEZE]=0;let b=g&&g.audioSend.find(w=>w.ssrc===h);if(b){let w=Rr*bo;b.timestamp&&f.timestamp&&(w=f.timestamp-b.timestamp),b.bytes!=null&&f.bytes!=null&&st(S,zr.BITRATE,8*(f.bytes-b.bytes)/w),b.packets!=null&&f.packets!=null&&st(S,zr.PACKAGE_RATE,1e3*(f.packets-b.packets)/w);}return S}(u[0].ssrcId,e,n,l);}}),{high:s,low:a,audio:o}}getInboundStats(e,n,i){if(!this.requestRemoteMedia)return;let r=this.requestRemoteMedia()||[],o=[];return r.forEach(s=>{let[a,c]=s,d={peer:a.uid};if(c.has(Q.VIDEO)&&a.videoTrack){let l=a._videoSSRC&&this.requestVideoIsReady&&this.requestVideoIsReady(a._videoSSRC)||!1,u=a.videoTrack?function(h,p,g,E,f,S,C){var A;let b=p.videoRecv.find(lt=>lt.ssrc===h);if(!b)return;let w={},{receivedFrame:D,outputFrame:k,decodeFrameRate:B}=b,V=g&&g.videoRecv.find(lt=>lt.ssrc===h);if(w[Qe.FREEZE]=f&&_u.isRemoteVideoFreeze(E,b,V)?1:0,st(w,Po.FRAME_RATE_DECODE,B),st(w,Qe.QP_SUM,b.qpSumPerFrame),b.framesRateFirefox&&st(w,Qe.FRAME_RATE,b.framesRateFirefox),D&&st(w,Qe.FRAME_RATE,D.frameRate),V){let lt=p.timestamp-g.timestamp||(C?Rr:bo*Rr);b.packetsLost!=null&&V.packetsLost!=null&&st(w,Qe.PACKAGE_LOST,b.packetsLost-V.packetsLost),V.bytes!=null&&b.bytes!=null&&st(w,Qe.BITRATE,8*(b.bytes-V.bytes)/lt),V.packets!=null&&b.packets!=null&&st(w,Qe.PACKAGE_RATE,1e3*(b.packets-V.packets)/lt);}if(C)return w;D?(st(w,Qe.HEIGHT,D.height),st(w,Qe.WIDTH,D.width)):E&&(st(w,Qe.HEIGHT,E._videoHeight||0),st(w,Qe.WIDTH,E._videoWidth||0)),k&&st(w,Po.FRAME_RATE_OUTPUT,k.frameRate);let z=(A=E._player)===null||A===void 0?void 0:A.rendFrameRate.toFixed(0);if(z&&st(w,Po.FRAME_RATE_RENDER,+z),st(w,Qe.JITTER_BUFFER,b.jitterBufferMs),st(w,Qe.CURRENT_DELAY,b.currentDelayMs),st(w,Qe.FIRS,b.firsCount),st(w,Qe.NACKS,b.nacksCount),st(w,Qe.PLIS,b.plisCount),E){w[Qe.DISABLED]=E._originMediaStreamTrack.enabled&&E._mediaStreamTrack.enabled?0:1;let lt=E._player;if(lt){let{freezeTimeCounterList:vt,renderFreezeAccTime:Dt,videoElementStatus:ce}=lt;if(vt&&vt.length>0&&st(w,Po.FREEZE_TIME,vt.splice(0,1)[0]),S&&yr.visibility===\"visible\"&&ce===nn.PLAYING&&ft().supportRequestVideoFrameCallback){let Wt=Math.min(6e3,Dt);lt.renderFreezeAccTime=Math.max(0,Dt-Wt),st(w,Po.FREEZE_TIME_RENDER,Wt);}if(typeof b.totalFreezesDuration==\"number\"){let Wt=V&&V.totalFreezesDuration?b.totalFreezesDuration-V.totalFreezesDuration:b.totalFreezesDuration;st(w,Po.FREEZE_DURATION,1e3*Wt);}}}if(w[Qe.PLAYER_STATUS]=o_[E._player?E._player.videoElementStatus:\"uninit\"],V&&b.totalInterFrameDelay!==void 0&&b.totalSquaredInterFrameDelay!==void 0&&V.totalInterFrameDelay!==void 0&&V.totalSquaredInterFrameDelay!==void 0){let lt=b.totalInterFrameDelay-V.totalInterFrameDelay,vt=b.totalSquaredInterFrameDelay-V.totalSquaredInterFrameDelay,Dt=b.framesDecodeCount-V.framesDecodeCount,ce=lt/Dt*1e3,Wt=Math.round(1e3*Math.sqrt((vt-Math.pow(lt,2)/Dt)/Dt));!isNaN(Wt)&&ce+Wt>Math.max(3*ce,ce+150)&&(w[Qe.I_FRAME_DELAY]=Wt);}return w}(a._videoSSRC,e,n,a.videoTrack,l===!0,this.needUploadRenderFreezeTime,i):void 0;u&&(d.video=u);}if(c.has(Q.AUDIO)&&a.audioTrack){let l=a.audioTrack?function(u,h,p,g,E){let f=h.audioRecv.find(V=>V.ssrc===u);if(!f)return;let S={},C=p&&p.audioRecv.find(V=>V.ssrc===u),{receivedFrames:A,droppedFrames:b}=f;var w,D;if(st(S,mi.JITTER,f.jitterMs),A!=null&&b!=null&&(S[mi.FREEZE]=(D=b,(w=A)===0||100*D/w>20?1:0)),C){let V=h.timestamp-p.timestamp||(E?Rr:Rr*bo);f.packets!=null&&C.packets!=null&&st(S,mi.PACKAGE_RATE,1e3*(f.packets-C.packets)/V),C.bytes!=null&&f.bytes!=null&&st(S,mi.BITRATE,8*(f.bytes-C.bytes)/V),f.packetsLost!=null&&C.packetsLost!=null&&st(S,mi.PACKAGE_LOST,f.packetsLost-C.packetsLost);}if(E)return S;let k=100*g._source.getAccurateVolumeLevel(),B=f.outputLevel;if(B!=null){let V=Math.ceil(50*Math.log10(100*B+1));st(S,T0.LEVEL,V);}if(st(S,mi.PCM_LEVEL,k),g&&(S[mi.DISABLED]=g._originMediaStreamTrack.enabled&&g._mediaStreamTrack.enabled?0:1),st(S,mi.JITTER_BUFFER,f.jitterBufferMs),st(S,mi.CURRENT_DELAY,f.jitterBufferMs),S[mi.PLAYER_STATUS]=o_[En.getPlayerState(g.getTrackId())],C){let V=f.concealedSamples-C.concealedSamples;V>0&&st(S,mi.CONCEALED_SAMPLES,V);}return S}(a._audioSSRC,e,n,a.audioTrack,i):void 0;l&&(d.audio=l);}(d.video||d.audio)&&o.push(d);}),this.needUploadRenderFreezeTime=!this.needUploadRenderFreezeTime,o}startUploadTransportStats(){this.uploadTransportStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats();}stopUploadTransportStats(){this.uploadTransportStarted=!1;}startUploadOutboundStats(){this.uploadOutboundStarted||(this.uploadOutboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=window.setInterval(()=>{if(!this.requestAllTracks||!this.requestUpload)return;let e=(this.requestAllTracks()||[]).find(n=>n instanceof ou);if(e&&e._external.getDenoiserStats){let n=e._external.getDenoiserStats();n&&this.requestUpload(wc.DENOISER_STATS,n);}},2e3),this.uploadExtStatsTimer&&window.clearInterval(this.uploadExtStatsTimer),this.uploadExtStatsTimer=window.setInterval(()=>{!this.requestAllTracks||!this.requestUpload||this.requestAllTracks().forEach(e=>{e.getProcessorStats().forEach(n=>{this.requestUpload&&this.requestUpload(n.type,n.stats);});});},2e3));}stopUploadOutboundStats(){this.uploadOutboundStarted&&(this.uploadOutboundStarted=!1,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=void 0);}startUploadInboundStats(){this.uploadInboundStarted||(this.uploadInboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadInboundExtStatsTimer&&window.clearInterval(this.uploadInboundExtStatsTimer),this.uploadInboundExtStatsTimer=window.setInterval(()=>{!this.requestUpload||!this.requestRemoteMedia||(this.requestRemoteMedia()||[]).forEach(e=>{let[n,i]=e;i.has(Q.VIDEO)&&n.videoTrack&&n.videoTrack.getProcessorStats().forEach(r=>{this.requestUpload&&this.requestUpload(r.type,r.stats);}),i.has(Q.AUDIO)&&n.audioTrack&&n.audioTrack.getProcessorStats().forEach(r=>{this.requestUpload&&this.requestUpload(r.type,r.stats);});});},2e3));}stopUploadInboundStats(){this.uploadInboundStarted&&(this.uploadInboundStarted=!1,this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0));}startUploadExtensionUsageStats(){if(this.uploadExtensionUsageStarted)return;this.uploadExtensionUsageStarted=!0,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer);let e=new Map;this.uploadExtUsageStatsTimer=window.setInterval(async()=>{let n=Date.now(),i={connectionInterval:v(\"EXTENSION_USAGE_UPLOAD_INTERVAL\")/1e3,details:[],lts:n},r=[],o=this.requestAllTracks&&this.requestAllTracks()||[];for(let d of o)!d.muted&&d.enabled&&(r=r.concat(await d.getProcessorUsage()));let s=this.requestRemoteMedia&&this.requestRemoteMedia()||[];for(let[d,l]of s)l.has(Q.VIDEO)&&d.videoTrack&&(r=r.concat(await d.videoTrack.getProcessorUsage())),l.has(Q.AUDIO)&&d.audioTrack&&(r=r.concat(await d.audioTrack.getProcessorUsage()));if(r.length===0)return;i.details=function(d,l){let u={};for(let{id:E,value:f,level:S,direction:C}of d){var h;let A=(h=l.get(E))!==null&&h!==void 0?h:0,b=f===2?A+v(\"EXTENSION_USAGE_UPLOAD_INTERVAL\")/1e3:A;var p,g;l.set(E,b),u[E]?(f===2&&(u[E].value=f),S>u[E].level&&(u[E].level=S),C===\"remote\"&&(u[E].remoteUidCount+=1),u[E].totalTs=(p=l.get(E))!==null&&p!==void 0?p:0):u[E]={value:f,level:S,remoteUidCount:C===\"local\"?0:1,totalTs:(g=l.get(E))!==null&&g!==void 0?g:0};}return Object.keys(u).map(E=>{let{level:f,value:S,totalTs:C}=u[E];return {id:E,level:f,value:S,totalTs:C}})}(r,e);let a=Date.now(),c=a>n?a:n+1;this.requestUpload&&this.requestUpload(wc.EXTENSION_USAGE_STATS,{usageStats:i,sendTs:c});},v(\"EXTENSION_USAGE_UPLOAD_INTERVAL\"));}stopUploadExtensionUsageStats(){this.uploadExtensionUsageStarted&&(this.uploadExtensionUsageStarted=!1,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer),this.uploadExtUsageStatsTimer=void 0);}},ir=class{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio||this._audio_pre_subscribed)return this._audioTrack}get videoTrack(){if(this.hasVideo||this._video_pre_subscribed)return this._videoTrack}get dataChannels(){return this._dataChannels}constructor(e,n){T(this,\"uid\",void 0),T(this,\"_uintid\",void 0),T(this,\"_trust_in_room_\",!0),T(this,\"_trust_audio_enabled_state_\",!0),T(this,\"_trust_video_enabled_state_\",!0),T(this,\"_trust_audio_mute_state_\",!0),T(this,\"_trust_video_mute_state_\",!0),T(this,\"_audio_muted_\",!1),T(this,\"_video_muted_\",!1),T(this,\"_audio_enabled_\",!0),T(this,\"_video_enabled_\",!0),T(this,\"_audio_added_\",!1),T(this,\"_video_added_\",!1),T(this,\"_is_pre_created\",!1),T(this,\"_video_pre_subscribed\",!1),T(this,\"_audio_pre_subscribed\",!1),T(this,\"_trust_video_stream_added_state_\",!0),T(this,\"_trust_audio_stream_added_state_\",!0),T(this,\"_audioTrack\",void 0),T(this,\"_videoTrack\",void 0),T(this,\"_dataChannels\",[]),T(this,\"_audioSSRC\",void 0),T(this,\"_videoSSRC\",void 0),T(this,\"_audioOrtc\",void 0),T(this,\"_videoOrtc\",void 0),T(this,\"_cname\",void 0),T(this,\"_rtxSsrcId\",void 0),T(this,\"_videoMid\",void 0),T(this,\"_audioMid\",void 0),this.uid=e,this._uintid=n;}},Ui=function(t){return t.SEND_ONLY=\"SEND_ONLY\",t.RECEIVE_ONLY=\"RECEIVE_ONLY\",t}({});function uW(t,e){var n;let i;switch(e){case U.LocalAudioTrack:i=Ct.Audio;break;case U.LocalVideoTrack:i=W(n=t._hints).call(n,Gt.SCREEN_TRACK)?Ct.Screen:Ct.High;break;case U.LocalVideoLowTrack:i=Ct.Low;}return i}function lm(t){let e=ft();if(t.some(n=>n._bypassWebAudio))throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");if(!e.webAudioMediaStreamDest)throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks because your browser does not support audio mixing\")}function E_(t,e){lm(t);let n=new ge;return t.forEach(i=>n.addAudioTrack(i)),n}var Tv,Sv,Rv,Cv,Iv,vv,yv,Av,bv,wv,Ov,Ht;function Nv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var An=(Tv=Pi(Ui.SEND_ONLY),Sv=Pi(Ui.SEND_ONLY),Rv=Pi(),Cv=Pi(Ui.RECEIVE_ONLY),Iv=Pi(Ui.RECEIVE_ONLY),vv=Pi(Ui.RECEIVE_ONLY),yv=Pi(Ui.RECEIVE_ONLY),Av=Pi(Ui.RECEIVE_ONLY),bv=Pi(Ui.RECEIVE_ONLY),wv=Pi(),Ov=Pi(Ui.RECEIVE_ONLY),Ht=class extends Xt{get state(){return this._state}set state(t){let e=this._state;this._state=t,this.emit(tt.StateChange,e,this._state);}constructor(t,e){super(),T(this,\"isPlanB\",!1),T(this,\"store\",void 0),T(this,\"statsUploader\",void 0),T(this,\"sendConnection\",void 0),T(this,\"recvConnection\",void 0),T(this,\"localTrackMap\",new Map),T(this,\"remoteUserMap\",new Map),T(this,\"localDataChannels\",[]),T(this,\"pendingLocalTracks\",[]),T(this,\"pendingRemoteTracks\",[]),T(this,\"statsCollector\",void 0),T(this,\"dtlsFailedCount\",0),T(this,\"sendMutex\",new ze(\"P2PChannel2-send-mutex\")),T(this,\"recvMutex\",new ze(\"P2PChannel2-recv-mutex\")),T(this,\"_state\",Rt.Disconnected),T(this,\"_restartStates\",[\"disconnected\",\"failed\"]),T(this,\"reconnectInterval\",void 0),T(this,\"uploadUnplinkStarted\",!1),T(this,\"uploadDownlinkStarted\",!1),T(this,\"uplinkStateUploadInterval\",void 0),T(this,\"downlinkStatsUploadInterval\",void 0),T(this,\"handleMuteLocalTrack\",async(n,i,r)=>{let o=await this.sendMutex.lock(\"Locking from P2PChannel2.handleMuteLocalTrack\");try{if(!this.sendConnection||this.state!==Rt.Connected)return void r(new N(R.INVALID_OPERATION,\"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.\"));let c=this.filterTobeMutedTracks(n);if(c.length===0)return void i();let d=c.find(p=>p[0]===\"videoLowTrack\");d&&d[1].track._originMediaStreamTrack.stop(),await this.sendConnection.muteLocal(c.map(p=>{let[,{id:g}]=p;return g}));let l=!1;var s,a;n.trackMediaType===\"video\"?l=!((s=this.localTrackMap.get(U.LocalAudioTrack))===null||s===void 0||!s.track._muted):l=((a=this.localTrackMap.get(U.LocalVideoTrack))===null||a===void 0?void 0:a.id)===void 0;let u=this.createMuteMessage(c);await kt(this,tt.RequestMuteLocal,u);let h=n.trackMediaType===\"video\"?to.MUTE_LOCAL_VIDEO:to.MUTE_LOCAL_AUDIO;await kt(this,tt.RequestP2PMuteLocal,{action:h,message:u,isMuteAll:l}),i();}catch(c){r(c);}finally{o();}}),T(this,\"handleUnmuteLocalTrack\",async(n,i,r)=>{let o=await this.sendMutex.lock(\"Locking from P2PChannel2.handleUnmuteLocalTrack\");try{if(!this.sendConnection||this.state!==Rt.Connected)return void r(new N(R.INVALID_OPERATION,\"Cannot call P2PChannel2.handleUnmuteLocalTrack before sendConnection established.\"));let s=this.filterTobeUnmutedTracks(n);if(s.length===0)return void i();await this.sendConnection.unmuteLocal(s.map(d=>{let[,{id:l}]=d;return l}));let a=this.createUnmuteMessage(s),c=n.trackMediaType===\"video\"?to.UNMUTE_LOCAL_VIDEO:to.UNMUTE_LOCAL_AUDIO;await kt(this,tt.RequestP2PMuteLocal,{action:c,message:a}),i();}catch(s){r(s);}finally{o();}}),T(this,\"handleUpdateVideoEncoder\",async(n,i,r)=>{let o=await this.sendMutex.lock(\"Locking from P2PChannel2.handleSetVideoEncoder\");try{let s=this.localTrackMap.get(U.LocalVideoTrack);if(!this.sendConnection||!s||s.track!==n||this.state!==Rt.Connected)return void i();let{id:a,track:c}=s;a&&(await this.sendConnection.updateSendParameters(a,c),await this.sendConnection.updateEncoderConfig(a,c),this.emit(tt.UpdateVideoEncoder,c)),i();}catch(s){r(s);}finally{o();}}),T(this,\"handleUpdateVideoSendParameters\",async(n,i,r)=>{let o=await this.sendMutex.lock(\"Locking from P2PChannel2.handleUpdateVideoSendParameters\");try{let s=this.localTrackMap.get(U.LocalVideoTrack);if(!this.sendConnection||!s||s.track!==n||this.state!==Rt.Connected)return void i();let{id:a,track:c}=s;a&&await this.sendConnection.updateSendParameters(a,c),i();}catch(s){r(s);}finally{o();}}),T(this,\"handleReplaceTrack\",async(n,i,r,o)=>{let s;_.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2 handleReplaceTrack for [track-id-\").concat(n.getTrackId(),\"]\")),typeof o==\"boolean\"&&o||(s=await this.sendMutex.lock(\"From P2PChannel2.handleReplaceTrack\"));try{var a;let d=Array.from(this.localTrackMap.entries()).find(l=>{let[,{track:u}]=l;return n===u});if(!this.sendConnection||!d||d[1].id===void 0||this.state!==Rt.Connected)return void i();if(await((a=this.sendConnection)===null||a===void 0?void 0:a.replaceTrack(n,d[1].id)),d[0]===U.LocalVideoTrack&&ft().supportDualStreamEncoding){let l=this.localTrackMap.get(U.LocalVideoLowTrack);if(l){let u=n._mediaStreamTrack.clone();l.track._originMediaStreamTrack.stop(),l.track._mediaStreamTrack=u,l.track._originMediaStreamTrack=u,await new j((h,p)=>{this.handleReplaceTrack(l.track,h,p,!0);});}}i();}catch(d){r(d);}finally{var c;(c=s)===null||c===void 0||c();}}),T(this,\"handleGetLocalVideoStats\",n=>{n(this.statsCollector.getLocalVideoTrackStats());}),T(this,\"handleGetLocalAudioStats\",n=>{n(this.statsCollector.getLocalAudioTrackStats());}),T(this,\"handleGetRemoteVideoStats\",n=>this.statsCollector.getRemoteVideoTrackStats(n.uid)[n.uid]),T(this,\"handleGetRemoteAudioStats\",n=>this.statsCollector.getRemoteAudioTrackStats(n.uid)[n.uid]),this.store=t,this.statsCollector=e,this.statsCollector.addP2PChannel(this),this.statsUploader=new pu(t),this.bindStatsUploaderEvents(),this.reconnectInterval=window.setInterval(()=>{[this.sendConnection,this.recvConnection].forEach(n=>{n&&(n.iceConnectionState!==\"disconnected\"&&n.iceConnectionState!==\"failed\"||this.handleDisconnect(n.direction));});},v(\"ICE_RESTART_INTERVAL\"));}async startP2PConnection(t,e){throw new N(R.NOT_SUPPORTED,\"p2p mode does not support startP2PConnection.\")}async connect(t){throw new N(R.NOT_SUPPORTED,\"p2p mode does not support connect.\")}async startP2P(t,e){let n;try{if(e){this.recvConnection&&(_.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.startP2P reset recvConnection.\")),this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection)),n=await this.recvMutex.lock(\"From P2PChannel.startP2P\"),this.recvConnection=new mv(t,this.store,cn.RECEIVE_ONLY),this.bindConnectionEvents(this.recvConnection);let i=await this.recvConnection.establish(e);return {iceParameters:i.iceParameters,dtlsParameters:i.dtlsParameters,sdp:i.sdp}}{this.state=Rt.New,this.sendConnection&&(_.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.startP2P reset sendConnection.\")),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection)),n=await this.sendMutex.lock(\"From P2PChannel.startP2P\"),this.sendConnection=new mv(t,this.store),this.store.peerConnectionStart(),this.bindConnectionEvents(this.sendConnection);let i=await this.sendConnection.establish();return {iceParameters:i.iceParameters,dtlsParameters:i.dtlsParameters,sdp:i.sdp}}}finally{n&&n();}}async p2pConnect(t){if(!this.sendConnection)throw new N(R.UNEXPECTED_ERROR,\"Cannot P2PChannel2.p2pConnect before P2PChannel2.startP2PConnection .\");this.store.peerConnectionStart(),await this.sendConnection.connect(t),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=Rt.Connected;}async addRemoteCandidate(t,e){if(e===cn.RECEIVE_ONLY){if(!this.sendConnection)throw new N(R.UNEXPECTED_ERROR,\"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .\");await this.sendConnection.addRemoteCandidate(t);}else {if(!this.recvConnection)throw new N(R.UNEXPECTED_ERROR,\"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .\");await this.recvConnection.addRemoteCandidate(t);}}publish(t,e,n){var i=this;return Bi(function*(){let r=yield Tt(i.sendMutex.lock(\"From P2PChannel.publish\"));try{if(!i.sendConnection||i.state!==Rt.Connected){i.throwIfTrackTypeNotMatch(t);let d=t.filter(l=>i.pendingLocalTracks.indexOf(l)===-1);return void(i.pendingLocalTracks=i.pendingLocalTracks.concat(d))}i.store.pubId=i.store.pubId+1,qe.markPublishStart(i.store.clientId,i.store.pubId);let o=i.filterTobePublishedTracks(t,e,n);if(o.length===0)return void(yield Tt(i.tryToUnmuteAudio(t)));o.forEach(d=>{let{track:l,type:u}=d,h=Date.now();i.store.publish(l.getTrackId(),u===U.LocalAudioTrack?\"audio\":\"video\",h);}),i.bindLocalTrackEvents(o);let s=yield Tt(i.sendConnection.send(o.map(d=>{let{track:l}=d;return l}),i.store.codec,i.store.audioCodec)),a=(yield Tt(s.next())).value,c=i.createGatewayPublishMessage(o,a);try{yield c;}catch(d){throw s.throw(d),d?.code===R.WS_ABORT&&o.forEach(l=>{let{track:u}=l;i.pendingLocalTracks.indexOf(u)===-1&&i.pendingLocalTracks.push(u);}),i.unbindLocalTrackEvents(o),d}yield Tt(s.next()),o.forEach(d=>{let{type:l}=d;i.statsCollector.addLocalStats(l);}),i.statsUploader.startUploadOutboundStats(),i.assignLocalTracks(o,a),o.forEach(d=>{let{track:l,type:u}=d,h=Date.now();i.store.publish(l.getTrackId(),u===U.LocalAudioTrack?\"audio\":\"video\",void 0,h);}),i.startUploadUplinkState();}finally{r();}})()}async unpublish(t){if(!this.sendConnection||this.state!==Rt.Connected)return void(t.length===0?this.pendingLocalTracks.length=0:this.pendingLocalTracks=this.pendingLocalTracks.filter(r=>!W(t).call(t,r)));let e=this.filterTobeUnpublishedTracks(t);if(e.length===0)return;let n=e.find(r=>r[0]===\"videoLowTrack\");n&&n[1].track.close();let i=this.createGatewayUnpublishMessage(e);if(await this.sendConnection.stopSending(e.map(r=>{let[,{id:o}]=r;return o})),this.withdrawLocalTracks(e),this.unbindLocalTrackEvents(e.map(r=>{let[o,{track:s}]=r;return {type:o,track:s}})),e.forEach(r=>{let[o]=r;this.statsCollector.removeLocalStats(o);}),this.localTrackMap.size===0&&(this.statsUploader.stopUploadOutboundStats(),this.stopUploadUplinkState()),this.sendConnection&&this.state===Rt.Connected)return n&&n[1].track.close(),i;t.forEach(r=>{let o=this.pendingLocalTracks.indexOf(r);o!==-1&&this.pendingLocalTracks.splice(o,1);});}startUploadUplinkState(){if(this.uploadUnplinkStarted)return;this.uploadUnplinkStarted=!0,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval);let t=()=>{let e=[],n=[];Array.from(this.localTrackMap.entries()).forEach(i=>{let[r,{track:o,ssrcs:s}]=i,a={stream_type:uW(o,r),ssrcs:s};o._muted||!o._enabled?e.push(a):n.push(a);}),e.length>0&&e.forEach(i=>{kt(this,tt.RequestMuteLocal,[i]);}),n.length>0&&n.forEach(i=>{kt(this,tt.RequestUnmuteLocal,[i]);});};t(),this.uplinkStateUploadInterval=window.setInterval(()=>{t();},3e3);}stopUploadUplinkState(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval));}publishLowStream(t){return Bi(function*(){throw new N(R.NOT_SUPPORTED,\"p2p mode does not support publishLowStream.\")})()}async republish(){this.pendingLocalTracks.length>0&&(_.debug(\"[\".concat(this.store.clientId,\"] Emit P2PChannelEvents.RequestRePublish to republish tracks.\")),await Ge(this,tt.RequestRePublish,this.pendingLocalTracks),this.emit(tt.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[]);}async unpublishLowStream(){throw new N(R.NOT_SUPPORTED,\"p2p mode does not support unpublishLowStream.\")}async subscribe(t,e,n,i){var r;if(!this.recvConnection)throw new N(R.INVALID_OPERATION,\"Cannot subscribe remote user when recvConnection disconnected.\");if((r=this.remoteUserMap.get(t))!==null&&r!==void 0&&r.has(e))return;let{track:o,mid:s,transceiver:a}=await this.recvConnection.receive(e,[{ssrcId:n}],String(t.uid),i);e===Q.AUDIO?(t._audioTrack?t._audioTrack._updateOriginMediaStreamTrack(o):(t._audioTrack=new Ks(o,t.uid,t._uintid,this.store),_.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(t._audioTrack.getTrackId()))),a&&t._audioTrack._updateRtpTransceiver(a),this.bindRemoteTrackEvents(t,t._audioTrack)):(t._videoSSRC=n,t._videoTrack?t._videoTrack._updateOriginMediaStreamTrack(o):(t._videoTrack=new Hs(o,t.uid,t._uintid,this.store),_.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(t._videoTrack.getTrackId()))),a&&t._videoTrack._updateRtpTransceiver(a),this.bindRemoteTrackEvents(t,t._videoTrack));let c=this.remoteUserMap.get(t);c?c.set(e,s):this.remoteUserMap.set(t,new Map([[e,s]])),this.statsCollector.addRemoteStats(t.uid),this.statsUploader.startUploadInboundStats(),this.startUploadDownlinkState();let d=this.pendingRemoteTracks.findIndex(l=>{let{user:u,kind:h}=l;return u.uid===t.uid&&e===h});d!==-1&&(this.pendingRemoteTracks.splice(d,1),this.emit(tt.MediaReconnectEnd,t.uid));}async mockSubscribe(t,e,n,i){if(!this.recvConnection)throw new N(R.INVALID_OPERATION,\"Cannot subscribe remote user when recvConnection disconnected.\");await this.recvConnection.mockReceive(e,[{ssrcId:n}],String(t.uid),i);}async unsubscribe(t,e,n){let i=this.pendingRemoteTracks.filter(o=>{let{user:s,kind:a}=o;return e!==void 0?s.uid===t.uid&&e===a:s.uid===t.uid});if(i.forEach(o=>{let s=this.pendingRemoteTracks.indexOf(o);this.pendingRemoteTracks.splice(s,1);}),this.recvConnection||n||i.forEach(o=>{let{kind:s}=o;var a;if(s===Q.AUDIO)(a=t._audioTrack)===null||a===void 0||a._destroy(),t._audioTrack=void 0;else if(s===Q.VIDEO){var c;(c=t._videoTrack)===null||c===void 0||c._destroy(),t._videoTrack=void 0;}}),!this.recvConnection)return;let r=this.filterTobeUnSubscribedTracks(t,e);r.length!==0&&(await this.recvConnection.stopReceiving(r.map(o=>{let[,{id:s}]=o;return s})),this.withdrawRemoteTracks(r),this.remoteUserMap.size===0&&(this.statsUploader.stopUploadInboundStats(),this.stopUploadDownlinkState()),r.forEach(o=>{let[s,{kind:a}]=o;var c,d;if(a===Q.VIDEO&&s._videoSSRC&&((c=this.recvConnection)===null||c===void 0||c.setStatsRemoteVideoIsReady(s._videoSSRC,!1)),a===Q.VIDEO)this.unbindRemoteTrackEvents(s._videoTrack),n||((d=s._videoTrack)===null||d===void 0||d._destroy(),s._videoTrack=void 0);else if(a===Q.AUDIO){var l;this.unbindRemoteTrackEvents(s._audioTrack),!n&&((l=s._audioTrack)===null||l===void 0||l._destroy(),s._audioTrack=void 0);}}),r.forEach(o=>{let[,{kind:s}]=o;kt(this,tt.RequestP2PMuteRemote,s);}));}startUploadDownlinkState(){if(this.uploadDownlinkStarted)return;this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval);let t=()=>Array.from(this.remoteUserMap.entries()).forEach(e=>{let[,n]=e;[Q.VIDEO,Q.AUDIO].forEach(i=>{n.has(i)?kt(this,tt.RequestP2PUnmuteRemote,i):kt(this,tt.RequestP2PMuteRemote,i);});});t(),this.downlinkStatsUploadInterval=window.setInterval(()=>{t();},3e3);}stopUploadDownlinkState(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval));}getAllDataChannels(){return this.localDataChannels}async massSubscribe(t){throw new N(R.NOT_SUPPORTED,\"p2p mode does not support massSubscribe.\")}async massSubscribeNoLock(t){throw new N(R.NOT_SUPPORTED,\"p2p mode does not support massSubscribeNoLock.\")}async massUnsubscribe(t){throw new N(R.NOT_SUPPORTED,\"p2p mode does not support massUnsubscribe.\")}async massUnsubscribeNoLock(t){throw new N(R.NOT_SUPPORTED,\"p2p mode does not support massUnsubscribeNoLock.\")}async muteRemote(t,e){if(!this.recvConnection)return;let n=this.remoteUserMap.get(t);if(!n)return void _.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.muteRemote has no remote user \").concat(t.uid,\".\"));if(!n.get(e))return void _.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.muteRemote has no remote user \").concat(t.uid,\" media type \").concat(e,\".\"));let i=e===Q.VIDEO?t._videoSSRC:t._audioSSRC;i!==void 0&&this.recvConnection.setStatsRemoteVideoIsReady(i,!1);}async unmuteRemote(t,e){return this.unmuteRemoteNoLock(t,e)}async unmuteRemoteNoLock(t,e){if(!this.recvConnection)return;let n=this.remoteUserMap.get(t);if(!n)return void _.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.unmuteRemote has no remote user \").concat(t.uid,\".\"));n.get(e)||_.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.unmuteRemote has no remote user \").concat(t.uid,\" media type \").concat(e,\".\"));}getAllTracks(t){let e=this.localTrackMap.get(U.LocalAudioTrack);if(e?.track instanceof ge){let n=e.track;return Array.from(this.localTrackMap.entries()).filter(i=>{let[r]=i;return r!==U.LocalAudioTrack}).filter(i=>{let[r]=i;return !(t&&r===U.LocalVideoLowTrack)}).map(i=>{let[,{track:r}]=i;return r}).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter(n=>{let[i]=n;return !(t&&i===U.LocalVideoLowTrack)}).map(n=>{let[,{track:i}]=n;return i})}reportPublishEvent(t,e,n,i,r){if(t){let s=this.localTrackMap.get(U.LocalAudioTrack),a=i?this.localTrackMap.get(U.LocalVideoLowTrack):this.localTrackMap.get(U.LocalVideoTrack);X.publish(this.store.sessionId,{eventElapse:qe.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:t,ec:e,audioName:s?.track.getTrackLabel(),videoName:a?.track.getTrackLabel(),screenshare:a?.track._hints.indexOf(Gt.SCREEN_TRACK)!==-1,audio:!!s,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r});}else {var o;n||(n=[]);let s=n.find(c=>c instanceof Qt),a=i?(o=this.localTrackMap.get(U.LocalVideoTrack))===null||o===void 0?void 0:o.track:n.find(c=>c instanceof Ft);X.publish(this.store.sessionId,{eventElapse:qe.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:t,ec:e,audioName:s?.getTrackLabel(),videoName:a?.getTrackLabel(),screenshare:a?._hints.indexOf(Gt.SCREEN_TRACK)!==-1,audio:!!s,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r});}}reportSubscribeEvent(t,e,n,i){let r=i===Q.VIDEO?n._videoSSRC:n._audioSSRC;r&&X.subscribe(this.store.sessionId,{succ:t,ec:e,video:i===Q.VIDEO,audio:i===Q.AUDIO,peerid:n.uid,subscribeRequestid:i===Q.VIDEO?n._videoSSRC:n._audioSSRC,p2pid:this.store.p2pId,eventElapse:qe.measureFromSubscribeStart(this.store.clientId,r)});}reset(){_.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2.reset\")),this.sendMutex=new ze(\"P2PChannel2-send-mutex\"),this.sendMutex=new ze(\"P2PChannel2-recv-mutex\"),this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();let t=this.localTrackMap.get(U.LocalAudioTrack);if(t?.track instanceof ge){if(t.track.trackList.length>0){let e=t.track;t.track.trackList.forEach(n=>{e.removeAudioTrack(n);});}t.track.close();}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.reconnectInterval&&(window.clearInterval(this.reconnectInterval),this.reconnectInterval=void 0),this.state=Rt.Disconnected;}getStats(t){var e,n;return t?(n=this.recvConnection)===null||n===void 0?void 0:n.getStats():(e=this.sendConnection)===null||e===void 0?void 0:e.getStats()}getRemoteVideoIsReady(t){var e;return ((e=this.recvConnection)===null||e===void 0?void 0:e.getRemoteVideoIsReady(t))||!1}getLocalAudioVolume(){let t=this.localTrackMap.get(U.LocalAudioTrack);if(t)return t.track.getVolumeLevel()}getLocalVideoSize(){let t=this.localTrackMap.get(U.LocalVideoTrack);if(t)return {width:t.track.videoWidth||0,height:t.track.videoHeight||0}}getEncoderConfig(t){let e=this.localTrackMap.get(t);return e&&e.track instanceof Ft||e&&e.track instanceof Qt?e.track._encoderConfig:void 0}getLocalMedia(t){return this.localTrackMap.get(t)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(t,e){if(!t)return this.remoteUserMap.size>0;let n=this.remoteUserMap.get(t);return !!n&&(!e||n.has(e))}async hasRemoteMediaWithLock(t,e){if(!t)return this.remoteUserMap.size>0;let n=this.remoteUserMap.get(t);return !!n&&(!e||n.has(e))}getRemoteMedia(t){var e;let n=Array.from(xn(e=this.remoteUserMap).call(e)).find(i=>i.uid===t);return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}getAudioLevels(){let t=Array.from(this.remoteUserMap.entries()).map(n=>{let[i]=n;return {uid:i.uid,level:i.audioTrack?100*i.audioTrack._source.getAccurateVolumeLevel():0}}),e=this.localTrackMap.get(U.LocalAudioTrack);return e&&t.push({level:100*e.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),t=ed(t).call(t,(n,i)=>n.level-i.level),t}async disconnectForReconnect(){this.sendConnection&&this.recvConnection&&(_.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2.disconnectForReconnect closing P2PConnection\")),this.state=Rt.Reconnecting,v(\"KEEP_LAST_FRAME\")&&this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(t=>{let[e]=t;var n;e._videoTrack&&e._videoTrack._player&&((n=e._videoTrack._player.getVideoElement())===null||n===void 0||n.pause(),e._videoTrack._player.isKeepLastFrame=!0,e._videoTrack._originMediaStreamTrack.stop());}),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0,this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0,this.localTrackMap.size!==0&&(Array.from(this.localTrackMap.entries()).forEach(t=>{var e;let[n,{track:i}]=t;switch(n){case U.LocalVideoTrack:W(e=i._hints).call(e,Gt.LOW_STREAM)?i.close():this.pendingLocalTracks.push(i);break;case U.LocalAudioTrack:i instanceof ge?this.pendingLocalTracks=this.pendingLocalTracks.concat(i.trackList):this.pendingLocalTracks.push(i);case U.LocalVideoLowTrack:}}),this.emit(tt.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(t=>{let[e,n]=t;Array.from(xn(n).call(n)).forEach(i=>{this.setPendingRemoteMedia(e,i);}),this.emit(tt.MediaReconnectStart,e.uid);}),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),_.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2 disconnected, waiting to reconnect.\")));}hasPendingRemoteMedia(t,e){for(let n of this.pendingRemoteTracks){let{user:i,kind:r}=n;if((t instanceof ir?t.uid:t)===i.uid&&e===r)return !0}return !1}setPendingRemoteMedia(t,e){this.hasPendingRemoteMedia(t,e)||this.pendingRemoteTracks.push({user:t,kind:e});}async restartICE(t,e){let n,i;if(t===cn.SEND_ONLY){if(!this.sendConnection)throw new N(R.INVALID_OPERATION,\"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.\");n=await this.sendMutex.lock(\"From P2PChannel.restartICE\"),i=this.sendConnection;}else {if(!this.recvConnection)throw new N(R.INVALID_OPERATION,\"Cannot call P2PChannel2.handleMuteLocalTrack before recvConnection established.\");n=await this.recvMutex.lock(\"From P2PChannel.restartICE\"),i=this.recvConnection;}try{if(e){let r=await i.restartICE(e);return i.isInRestartIce=!1,r}{let r=await i.restartICE();if(r){let o=await Ge(this,tt.RequestP2PRestartICE,{direction:cn.RECEIVE_ONLY,iceParameter:r});await i.restartICE(o),i.isInRestartIce=!1;}}}finally{n();}}getUplinkNetworkQuality(){if(!this.sendConnection)return 0;let t=this.sendConnection.getStats(),e=this.localTrackMap.get(U.LocalVideoTrack),n=this.localTrackMap.get(U.LocalAudioTrack),i=t.videoSend.find(p=>{var g;return p.ssrc===(e==null||(g=e.ssrcs)===null||g===void 0?void 0:g[0].ssrcId)}),r=t.audioSend.find(p=>{var g;return p.ssrc===(n==null||(g=n.ssrcs)===null||g===void 0?void 0:g[0].ssrcId)});if(!i||!r)return 1;let o=ni(this,tt.NeedSignalRTT),s=i?i.rttMs:void 0,a=r?r.rttMs:void 0,c=s&&a?(s+a)/2:s||a,d=(c&&o?(c+o)/2:c||o)||0,l=100*t.sendPacketLossRate*.7/50+.3*d/1500,u=l<.17?1:l<.36?2:l<.59?3:l<.1?4:5,h=e?.track;if(h&&h._encoderConfig&&h._hints.indexOf(Gt.SCREEN_TRACK)===-1){let p=h._encoderConfig.bitrateMax,g=t.bitrate.actualEncoded;if(p&&g){let E=(1e3*p-g)/(1e3*p);return OO[E<.15?0:E<.3?1:E<.45?2:E<.6?3:4][u]}}return u}getDownlinkNetworkQuality(){if(!this.recvConnection)return 0;let t=this.recvConnection.getStats(),e=0;return Array.from(this.remoteUserMap.entries()).forEach(n=>{let[i]=n,r=i._audioSSRC,o=i._videoSSRC,s=t.audioRecv.find(g=>g.ssrc===r),a=t.videoRecv.find(g=>g.ssrc===o);if(!s&&!a)return void(e+=1);let c=ni(this,tt.NeedSignalRTT),d=t.rtt,l=(d&&c?(d+c)/2:d||c)||0,u=s?s.jitterMs:void 0,h=t.recvPacketLossRate,p=.7*h*100/50+.3*l/1500;u&&(p=.6*h*100/50+.2*l/1500+.2*u/400),e+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5;}),this.remoteUserMap.size>0?Math.round(e/this.remoteUserMap.size):e}async muteLocalTrack(t){return new j((e,n)=>{this.handleMuteLocalTrack(t,e,n);})}filterTobePublishedTracks(t,e,n){let i=[],r=ft(),o=this.getAllTracks();t=Ls(t=t.filter(c=>o.indexOf(c)===-1));let s=!1,a=!1;for(let c of t){if(c instanceof Ft&&(this.localTrackMap.has(U.LocalVideoTrack)||s?new N(R.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(i.push({track:c,type:U.LocalVideoTrack}),s=!0),e)){let d=this.getLowVideoTrack(c,n);i.push({track:d,type:U.LocalVideoLowTrack});}if(c instanceof Qt){let d=this.localTrackMap.get(U.LocalAudioTrack);if(d){if(!(d.track instanceof ge))throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");if(c._bypassWebAudio)throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");d.track.addAudioTrack(c),this.bindLocalAudioTrackEvents(c,!0);}else if(a){let l=i.find(u=>{let{type:h}=u;return h===U.LocalAudioTrack});if(!(l.track instanceof ge))throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");if(c._bypassWebAudio)throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");l.track.addAudioTrack(c);}else {if(!r.webAudioMediaStreamDest||c instanceof ge||c._bypassWebAudio)i.push({track:c,type:U.LocalAudioTrack});else {let l=new ge;l.addAudioTrack(c),i.push({track:l,type:U.LocalAudioTrack});}a=!0;}}}return i}filterTobeUnpublishedTracks(t){let e=[],n=this.getAllTracks();t=Ls(t=t.filter(i=>n.indexOf(i)!==-1));for(let i of t){if(i instanceof Qt){let r=this.localTrackMap.get(U.LocalAudioTrack);if(!r)continue;r.track instanceof ge?(r.track.removeAudioTrack(i),this.unbindLocalAudioTrackEvents(i),r.track.trackList.length===0&&(e.push([U.LocalAudioTrack,r]),r.track.close())):e.push([U.LocalAudioTrack,r]);}if(i instanceof Ft){let r=this.localTrackMap.get(U.LocalVideoTrack);if(!r)continue;e.push([U.LocalVideoTrack,r]);let o=this.localTrackMap.get(U.LocalVideoLowTrack);o&&e.push([U.LocalVideoLowTrack,o]);}}return e}bindLocalTrackEvents(t){t.forEach(e=>{let{track:n,type:i}=e;switch(i){case U.LocalVideoTrack:n.addListener(H.GET_STATS,this.handleGetLocalVideoStats),n.addListener(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),n.addListener(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),n.addListener(H.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),n.addListener(H.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),n.addListener(H.NEED_REPLACE_TRACK,this.handleReplaceTrack),n.addListener(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),n.addListener(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case U.LocalAudioTrack:this.bindLocalAudioTrackEvents(n);case U.LocalVideoLowTrack:}});}bindLocalAudioTrackEvents(t,e){t instanceof ge?t.trackList.forEach(n=>{n.addListener(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),n.addListener(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),n.addListener(H.GET_STATS,this.handleGetLocalAudioStats),n.addListener(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),n.addListener(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);}):(t.addListener(H.GET_STATS,this.handleGetLocalAudioStats),t.addListener(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),e||t.addListener(H.NEED_REPLACE_TRACK,this.handleReplaceTrack));}unbindLocalTrackEvents(t){t||(t=Array.from(this.localTrackMap.entries()).map(e=>{let[n,{track:i}]=e;return {track:i,type:n}})),t.forEach(e=>{let{track:n,type:i}=e;switch(i){case U.LocalVideoTrack:n.off(H.GET_STATS,this.handleGetLocalVideoStats),n.off(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),n.off(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),n.off(H.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),n.off(H.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),n.off(H.NEED_REPLACE_TRACK,this.handleReplaceTrack),n.off(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),n.off(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case U.LocalAudioTrack:this.unbindLocalAudioTrackEvents(n);case U.LocalVideoLowTrack:}});}unbindLocalAudioTrackEvents(t){t instanceof ge?t.trackList.forEach(e=>{e.off(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(H.GET_STATS,this.handleGetLocalAudioStats),e.off(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);}):(t.off(H.GET_STATS,this.handleGetLocalAudioStats),t.off(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(H.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack));}bindRemoteTrackEvents(t,e){e instanceof Hs&&e.addListener(H.GET_STATS,n=>{n(this.handleGetRemoteVideoStats(t));}),e instanceof Ks&&e.addListener(H.GET_STATS,n=>{n(this.handleGetRemoteAudioStats(t));});}unbindRemoteTrackEvents(t){t&&t.removeAllListeners(H.GET_STATS);}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach(t=>{let[e,n]=t;n.has(Q.AUDIO)&&this.unbindRemoteTrackEvents(e._audioTrack),n.has(Q.VIDEO)&&this.unbindRemoteTrackEvents(e._videoTrack);});}createGatewayPublishMessage(t,e){return t.map((n,i)=>{var r;let o,{track:s,type:a}=n;switch(a){case U.LocalAudioTrack:o=Ct.Audio;break;case U.LocalVideoTrack:o=W(r=s._hints).call(r,Gt.SCREEN_TRACK)?Ct.Screen:Ct.High;break;case U.LocalVideoLowTrack:o=Ct.Low;}return {kind:a===U.LocalAudioTrack?Q.AUDIO:Q.VIDEO,stream_type:o,mid:e[i].id,ssrcs:e[i].localSSRC,isMuted:s.muted||!s.enabled}})}createGatewayUnpublishMessage(t){return t.map(e=>{var n;let i,[r,{track:o,ssrcs:s,id:a}]=e;switch(r){case U.LocalVideoTrack:i=W(n=o._hints).call(n,Gt.SCREEN_TRACK)?Ct.Screen:Ct.High;break;case U.LocalAudioTrack:i=Ct.Audio;break;case U.LocalVideoLowTrack:i=Ct.Low;}return {stream_type:i,ssrcs:s,mid:a}})}assignLocalTracks(t,e){t.forEach((n,i)=>{let{track:r,type:o}=n;this.localTrackMap.set(o,{track:r,id:e[i].id,ssrcs:e[i].localSSRC});});}withdrawLocalTracks(t){t.forEach(e=>{let[n]=e;this.localTrackMap.delete(n);});}bindConnectionEvents(t){t.onConnectionStateChange=async e=>{var n;_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: \").concat(t.name,\".onConnectionStateChange(\").concat(e,\")\")),this.emit(tt.PeerConnectionStateChange,e),e!==\"connected\"||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),e===\"connected\"&&(t.isInRestartIce=!1),W(n=this._restartStates).call(n,e)&&!t.isInRestartIce&&(e===\"disconnected\"&&await Me(800),t.iceConnectionState!==\"disconnected\"&&t.iceConnectionState!==\"failed\"||this.handleDisconnect(t.direction));},t.onICEConnectionStateChange=e=>{e!==\"connected\"||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICEConnectionStateChange(\").concat(e,\")\")),X.reportApiInvoke(this.store.sessionId,{name:\"ICEConnectionStateChange\",options:e,tag:Zt.TRACER}).onSuccess(),this.emit(tt.IceConnectionStateChange,e);},t.onICETransportStateChange=e=>{_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICETransportStateChange(\").concat(e,\")\"));},t.onDTLSTransportStateChange=e=>{_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportStateChange(\").concat(e,\")\"));},t.onDTLSTransportError=e=>{_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportError(\").concat(e,\")\"));},t.onFirstAudioDecoded=e=>{var n;let i=Array.from(xn(n=this.remoteUserMap).call(n)).find(o=>o._audioSSRC===e);var r;i&&(this.store.subscribe(i.uid,\"audio\",void 0,void 0,void 0,Date.now()),(r=i.audioTrack)===null||r===void 0||r.emit(Ws.FIRST_FRAME_DECODED),X.firstRemoteFrame(this.store.sessionId,De.FIRST_AUDIO_DECODE,Jt.FIRST_AUDIO_DECODE,{peer:i._uintid,subscribeElapse:qe.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}));},t.onFirstAudioReceived=e=>{var n;let i=Array.from(xn(n=this.remoteUserMap).call(n)).find(r=>r._audioSSRC===e);i&&X.firstRemoteFrame(this.store.sessionId,De.FIRST_AUDIO_RECEIVED,Jt.FIRST_AUDIO_RECEIVED,{peer:i._uintid,subscribeElapse:qe.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId});},t.onFirstVideoDecoded=(e,n,i)=>{this.reportVideoFirstFrameDecoded(e,n,i);},t.onFirstVideoReceived=e=>{var n;let i=Array.from(xn(n=this.remoteUserMap).call(n)).find(r=>r._videoSSRC===e);i&&X.firstRemoteFrame(this.store.sessionId,De.FIRST_VIDEO_RECEIVED,Jt.FIRST_VIDEO_RECEIVED,{peer:i._uintid,subscribeElapse:qe.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId});},t.onSelectedLocalCandidateChanged=(e,n)=>{let i=e.candidateType===\"relay\",r=n.candidateType===\"relay\";n.candidateType!==\"unknown\"&&i===r||this.emit(tt.ConnectionTypeChange,i),_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedLocalCandidateChanged(\").concat(JSON.stringify(eo(n)),\" -> \").concat(JSON.stringify(eo(e)),\")\"));},t.onSelectedRemoteCandidateChanged=(e,n)=>{_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedRemoteCandidateChanged(\").concat(JSON.stringify(eo(n)),\" -> \").concat(JSON.stringify(eo(e)),\")\"));},t.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0);},t.onLocalCandidate=e=>{this.emit(tt.LocalCandidate,{candidate:e,direction:t.direction});};}unbindConnectionEvents(t){t.onConnectionStateChange=void 0,t.onICEConnectionStateChange=void 0,t.onICETransportStateChange=void 0,t.onDTLSTransportStateChange=void 0,t.onDTLSTransportError=void 0,t.onFirstAudioDecoded=void 0,t.onFirstAudioReceived=void 0,t.onFirstVideoDecoded=void 0,t.onFirstVideoReceived=void 0,t.onSelectedLocalCandidateChanged=void 0,t.onSelectedRemoteCandidateChanged=void 0,t.onFirstVideoDecodedTimeout=void 0,t.onLocalCandidate=void 0;}async handleDisconnect(t){let e=t===cn.SEND_ONLY?this.sendConnection:this.recvConnection;e&&!e.isInRestartIce&&(e.isInRestartIce=!0,_.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel-\").concat(e.name,\"] start use restartICE\")),t===cn.SEND_ONLY?this.restartICE(t):Ge(this,tt.RequestP2PRestartICE,{direction:cn.SEND_ONLY}));}filterTobeMutedTracks(t){let e=[];if(this.getAllTracks().indexOf(t)===-1)return e;let n=this.localTrackMap.get(U.LocalAudioTrack);if(t instanceof Qt&&n?.track instanceof ge)return n.track.isActive||e.push([U.LocalAudioTrack,n]),e;let i=Array.from(this.localTrackMap.entries()).find(r=>{let[,{track:o}]=r;return t===o});if(i&&(e.push(i),i[0]===U.LocalVideoTrack)){let r=this.localTrackMap.get(U.LocalVideoLowTrack);r&&e.push([U.LocalVideoLowTrack,r]);}return e}filterTobeUnmutedTracks(t){let e=[],n=this.localTrackMap.get(U.LocalAudioTrack);if(t instanceof Qt&&n?.track instanceof ge)return n.track.isActive&&e.push([U.LocalAudioTrack,n]),e;let i=Array.from(this.localTrackMap.entries()).find(r=>{let[,{track:o}]=r;return t===o});if(i)if(i[0]===U.LocalVideoTrack){e.push(i);let r=this.localTrackMap.get(U.LocalVideoLowTrack);r&&e.push([U.LocalVideoLowTrack,r]);}else e.push(i);return e}createMuteMessage(t){return t.map(e=>{var n;let i,[r,{track:o,ssrcs:s,id:a}]=e;switch(r){case U.LocalAudioTrack:i=Ct.Audio;break;case U.LocalVideoTrack:i=W(n=o._hints).call(n,Gt.SCREEN_TRACK)?Ct.Screen:Ct.High;break;case U.LocalVideoLowTrack:i=Ct.Low;}return {stream_type:i,ssrcs:s,mid:a}})}createUnmuteMessage(t){return t.map(e=>{var n;let i,[r,{track:o,ssrcs:s,id:a}]=e;switch(r){case U.LocalAudioTrack:i=Ct.Audio;break;case U.LocalVideoTrack:i=W(n=o._hints).call(n,Gt.SCREEN_TRACK)?Ct.Screen:Ct.High;break;case U.LocalVideoLowTrack:i=Ct.Low;}return {stream_type:i,ssrcs:s,mid:a}})}filterTobeUnSubscribedTracks(t,e){let n=[],i=this.remoteUserMap.get(t);if(!i)return n;if(e){let r=i.get(e);if(!r)return n;n.push([t,{kind:e,id:r}]);}else Array.from(i.entries()).forEach(r=>{let[o,s]=r;n.push([t,{kind:o,id:s}]);});return n}createUnsubscribeMessage(t){let e=[];return t.forEach(n=>{let[i,{kind:r,id:o}]=n;switch(r){case Q.VIDEO:return void(i._videoSSRC&&e.push({stream_type:Q.VIDEO,ssrcId:i._videoSSRC}));case Q.AUDIO:return void(i._audioSSRC&&e.push({stream_type:Q.AUDIO,ssrcId:i._audioSSRC}))}}),e}withdrawRemoteTracks(t){t.forEach(e=>{let[n,{kind:i}]=e,r=this.remoteUserMap.get(n);r&&(r.delete(i),Array.from(r.entries()).length===0&&this.remoteUserMap.delete(n));});}async updateBitrateLimit(t){let e=this.localTrackMap.get(U.LocalVideoTrack),n=this.localTrackMap.get(U.LocalVideoLowTrack);e&&await e.track.setBitrateLimit(t.uplink),n&&t.low_stream_uplink&&await n.track.setBitrateLimit({max_bitrate:t.low_stream_uplink.bitrate,min_bitrate:t.low_stream_uplink.bitrate||0});}isP2PDisconnected(){if(this.sendConnection&&this.recvConnection){let t=this.sendConnection.peerConnectionState,e=this.recvConnection.peerConnectionState;return t!==\"connected\"&&e!==\"connected\"}return !0}async tryToUnmuteAudio(t){for(let e=0;e<t.length;e++)if(t[e]instanceof Qt){let n=this.filterTobeUnmutedTracks(t[e]);if(n.length===0)continue;let i=this.createUnmuteMessage(n);return void await kt(this,tt.RequestUnmuteLocal,i)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=t=>this.getStats(t),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()).filter(t=>{let[,{ssrcs:e}]=t;return !!e}),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=t=>{var e;return !((e=this.recvConnection)===null||e===void 0||!e.getRemoteVideoIsReady(t))},this.statsUploader.requestUpload=(t,e)=>this.emit(tt.RequestUpload,t,e),this.statsUploader.requestUploadStats=t=>this.emit(tt.RequestUploadStats,t),this.statsUploader.requestAllTracks=()=>this.getAllTracks();}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0;}async requestReconnect(){this.dtlsFailedCount+=1,await Me(hf(this.dtlsFailedCount,Ee)),this.emit(tt.RequestReconnect);}async reconnectP2P(){}canPublishLowStream(){return this.localTrackMap.has(U.LocalVideoTrack)||this.pendingLocalTracks.some(t=>t instanceof Ft)}throwIfTrackTypeNotMatch(t){if(t.filter(e=>e instanceof Ft).length>1)throw new N(R.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t.filter(e=>e instanceof Qt).length>1&&(t.some(e=>e instanceof Qt&&e._bypassWebAudio)||!ft().webAudioMediaStreamDest))throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\");for(let e of t){if(e instanceof Ft&&this.pendingLocalTracks.some(n=>n instanceof Ft))throw new N(R.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e instanceof Qt&&this.pendingLocalTracks.some(n=>n instanceof Qt)&&(!ft().webAudioMediaStreamDest||e._bypassWebAudio||this.pendingLocalTracks.some(n=>n instanceof Qt&&n._bypassWebAudio)))throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\")}}getLowVideoTrack(t,e){let n=!v(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&ft().supportDualStreamEncoding,i=Yd(Yd({},{width:160,height:120,framerate:15,bitrate:50}),e),r;r=n?t._mediaStreamTrack.clone():dm(t,i);let o=Ut(8,\"track-low-\"),s=new Ft(r,Yd(Yd({},n&&{scaleResolutionDownBy:GE(i,t)}),{},{frameRate:i.framerate,bitrateMax:i.bitrate,bitrateMin:i.bitrate}),void 0,void 0,o);return s.on(Ko.TRANSCEIVER_UPDATED,a=>{t._updateRtpTransceiver(a,na.LOW_STREAM);}),s._hints.push(Gt.LOW_STREAM),t.addListener(H.NEED_CLOSE,()=>{s.close();}),s}async globalLock(){return this.recvMutex.lock(\"From P2PChannel2.globalLock\")}reportVideoFirstFrameDecoded(t,e,n,i){var r;let o=Array.from(xn(r=this.remoteUserMap).call(r)).find(s=>s._videoSSRC===t);if(o){i||this.store.subscribe(o.uid,\"video\",void 0,void 0,void 0,void 0,Date.now());let s=this.store.keyMetrics,a=s.subscribe.find(c=>c.userId===o.uid&&c.type===\"video\");X.firstRemoteVideoDecode(this.store.sessionId,De.FIRST_VIDEO_DECODE,Jt.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:e,videoheight:n,subscribeElapse:qe.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId,apEnd:s.requestAPEnd||0,apStart:s.requestAPStart||0,joinGwEnd:s.joinGatewayEnd||0,joinGwStart:s.joinGatewayStart||0,pcEnd:s.peerConnectionEnd||0,pcStart:s.peerConnectionStart||0,subscriberEnd:a?.subscribeEnd||0,subscriberStart:a?.subscribeStart||0,videoAddNotify:a?.streamAdded||0,state:i?1:0});}}async remoteMediaSsrcChanged(t,e,n){if(!this.recvConnection)return !1;let i=this.remoteUserMap.get(t);if(!i)return !1;let r=i.get(e);if(!r)return !1;let o=await this.recvConnection.getRemoteSSRC(r);return o!==void 0&&o!==n}isPreSubScribe(t){return !1}async publishDataChannel(t){throw new N(R.NOT_SUPPORTED)}async unpublishDataChannel(t){throw new N(R.NOT_SUPPORTED)}async subscribeDataChannel(t,e){throw new N(R.NOT_SUPPORTED)}async unsubscribeDataChannel(t,e){throw new N(R.NOT_SUPPORTED)}hasPendingRemoteDataChannel(t,e){throw new N(R.NOT_SUPPORTED)}setPendingRemoteDataChannel(t,e){throw new N(R.NOT_SUPPORTED)}async preConnect(t){throw new N(R.NOT_SUPPORTED)}getEstablishParams(){throw new N(R.NOT_SUPPORTED)}async reSubscribe(t){throw new N(R.NOT_SUPPORTED)}async updateVideoStreamParameter(t,e){throw new N(R.NOT_SUPPORTED)}unbindRtpTransceiver(){this.localTrackMap.size!==0&&Array.from(this.localTrackMap.entries()).forEach(t=>{let[e,{track:n}]=t;e===U.LocalVideoLowTrack?n._updateRtpTransceiver(void 0,na.LOW_STREAM):n._updateRtpTransceiver(void 0);});}},q(Ht.prototype,\"p2pConnect\",[Tv],Object.getOwnPropertyDescriptor(Ht.prototype,\"p2pConnect\"),Ht.prototype),q(Ht.prototype,\"unpublish\",[Sv],Object.getOwnPropertyDescriptor(Ht.prototype,\"unpublish\"),Ht.prototype),q(Ht.prototype,\"unpublishLowStream\",[Rv],Object.getOwnPropertyDescriptor(Ht.prototype,\"unpublishLowStream\"),Ht.prototype),q(Ht.prototype,\"subscribe\",[Cv],Object.getOwnPropertyDescriptor(Ht.prototype,\"subscribe\"),Ht.prototype),q(Ht.prototype,\"mockSubscribe\",[Iv],Object.getOwnPropertyDescriptor(Ht.prototype,\"mockSubscribe\"),Ht.prototype),q(Ht.prototype,\"unsubscribe\",[vv],Object.getOwnPropertyDescriptor(Ht.prototype,\"unsubscribe\"),Ht.prototype),q(Ht.prototype,\"muteRemote\",[yv],Object.getOwnPropertyDescriptor(Ht.prototype,\"muteRemote\"),Ht.prototype),q(Ht.prototype,\"unmuteRemote\",[Av],Object.getOwnPropertyDescriptor(Ht.prototype,\"unmuteRemote\"),Ht.prototype),q(Ht.prototype,\"hasRemoteMediaWithLock\",[bv],Object.getOwnPropertyDescriptor(Ht.prototype,\"hasRemoteMediaWithLock\"),Ht.prototype),q(Ht.prototype,\"disconnectForReconnect\",[wv],Object.getOwnPropertyDescriptor(Ht.prototype,\"disconnectForReconnect\"),Ht.prototype),q(Ht.prototype,\"remoteMediaSsrcChanged\",[Ov],Object.getOwnPropertyDescriptor(Ht.prototype,\"remoteMediaSsrcChanged\"),Ht.prototype),Ht);function Pi(t){return function(e,n,i){let r=e[n];if(typeof r!=\"function\")throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];switch(t){case Ui.SEND_ONLY:{let c=await this.sendMutex.lock(\"From P2PChannel2.\".concat(n));try{return await r.apply(this,s)}finally{c();}}case Ui.RECEIVE_ONLY:{let c=await this.recvMutex.lock(\"From P2PChannel2.\".concat(n));try{return await r.apply(this,s)}finally{c();}}default:{let c=await this.sendMutex.lock(\"From P2PChannel2.\".concat(n)),d=await this.recvMutex.lock(\"From P2PChannel2.\".concat(n));try{return await r.apply(this,s)}finally{c(),d();}}}},i}}function Dv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var _u=class t{constructor(e){T(this,\"store\",void 0),T(this,\"onStatsException\",void 0),T(this,\"onUploadPublishDuration\",void 0),T(this,\"onStatsChanged\",void 0),T(this,\"localStats\",new Map),T(this,\"remoteStats\",new Map),T(this,\"updateStatsInterval\",void 0),T(this,\"trafficStats\",void 0),T(this,\"trafficStatsPeerList\",[]),T(this,\"uplinkStats\",void 0),T(this,\"exceptionMonitor\",void 0),T(this,\"p2pChannel\",void 0),T(this,\"scalabilityMode\",xE.L1T1),T(this,\"updateStats\",()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel));}),this.store=e,this.exceptionMonitor=new rm,this.exceptionMonitor.on(\"exception\",(n,i,r)=>{this.onStatsException&&this.onStatsException(n,i,r);});}startUpdateStats(){this.updateStatsInterval||(this.updateStatsInterval=window.setInterval(this.updateStats,1e3));}stopUpdateStats(){this.updateStatsInterval&&(window.clearInterval(this.updateStatsInterval),this.updateStatsInterval=void 0);}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0;}getLocalAudioTrackStats(){return this.localStats.get(U.LocalAudioTrack)||wo({},KE)}getLocalVideoTrackStats(){return this.localStats.get(U.LocalVideoTrack)||wo({},YE)}getRemoteAudioTrackStats(e){let n=(o,s)=>{if(!this.trafficStats)return s;let a=this.trafficStats.peer_delay.find(c=>c.peer_uid===o);return a&&(s.publishDuration=a.B_ppad+(Date.now()-this.trafficStats.timestamp)),s},i={};if(e){var r;let o=(r=this.remoteStats.get(e))===null||r===void 0?void 0:r.audioStats;o&&(i[e]=n(e,o));}else Array.from(this.remoteStats.entries()).forEach(o=>{let[s,{audioStats:a}]=o;a&&(i[s]=n(s,a));});return i}getRemoteNetworkQualityStats(e){let n={};if(e){var i;let r=(i=this.remoteStats.get(e))===null||i===void 0?void 0:i.networkStats;r&&(n[e]=r);}else Array.from(this.remoteStats.entries()).forEach(r=>{let[o,{networkStats:s}]=r;s&&(n[o]=s);});return n}getRemoteVideoTrackStats(e){let n=(o,s)=>{if(!this.trafficStats)return s;let a=this.trafficStats.peer_delay.find(c=>c.peer_uid===o);return a&&(s.publishDuration=a.B_ppvd+(Date.now()-this.trafficStats.timestamp)),s},i={};if(e){var r;let o=(r=this.remoteStats.get(e))===null||r===void 0?void 0:r.videoStats;o&&(i[e]=n(e,o));}else Array.from(this.remoteStats.entries()).forEach(o=>{let[s,{videoStats:a}]=o;a&&(i[s]=n(s,a));});return i}getRTCStats(){let e=0,n=0,i=0,r=0,o=this.localStats.get(U.LocalAudioTrack);o&&(e+=o.sendBytes,n+=o.sendBitrate);let s=this.localStats.get(U.LocalVideoTrack);s&&(e+=s.sendBytes,n+=s.sendBitrate);let a=this.localStats.get(U.LocalVideoLowTrack);a&&(e+=a.sendBytes,n+=a.sendBitrate),this.remoteStats.forEach(d=>{let{audioStats:l,videoStats:u}=d;l&&(i+=l.receiveBytes,r+=l.receiveBitrate),u&&(i+=u.receiveBytes,r+=u.receiveBitrate);});let c=1;return this.trafficStats&&(c+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:c,SendBitrate:n,SendBytes:e,RecvBytes:i,RecvBitrate:r,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(e){this.localStats.set(e,void 0);}removeLocalStats(e){e?this.localStats.delete(e):this.localStats.clear();}addRemoteStats(e){this.remoteStats.set(e,{});}removeRemoteStats(e){e?this.remoteStats.delete(e):this.remoteStats.clear();}addP2PChannel(e){this.p2pChannel=e;}updateTrafficStats(e){e.peer_delay=e.peer_delay.filter(n=>n.B_ppad!==void 0||n.B_ppvd!==void 0),e.peer_delay.filter(n=>this.trafficStatsPeerList.indexOf(n.peer_uid)===-1).forEach(n=>{var i;let r=(i=this.p2pChannel)===null||i===void 0?void 0:i.getRemoteMedia(n.peer_uid),o=r!=null&&r.videoSSRC?qe.measureFromSubscribeStart(this.store.clientId,r.videoSSRC):0,s=r!=null&&r.audioSSRC?qe.measureFromSubscribeStart(this.store.clientId,r.audioSSRC):0;n.B_ppad!==void 0&&n.B_ppvd!==void 0&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(n.peer_uid,n.B_ppad,n.B_ppvd,o>s?o:s),this.trafficStatsPeerList.push(n.peer_uid));}),this.trafficStats=e;}updateUplinkStats(e){this.uplinkStats&&this.uplinkStats.B_fir!==e.B_fir&&_.debug(\"[\".concat(this.store.clientId,\"]: Period fir changes to \").concat(e.B_fir)),this.uplinkStats=e;}static isRemoteVideoFreeze(e,n,i){if(!e)return !1;let r=!!i&&n.framesDecodeFreezeTime>i.framesDecodeFreezeTime,o=!i||n.framesDecodeCount>i.framesDecodeCount;return r||!o}static isRemoteAudioFreeze(e){return !!e&&e._isFreeze()}isLocalVideoFreeze(e){return !(!e.inputFrame||!e.sentFrame)&&e.inputFrame.frameRate>5&&e.sentFrame.frameRate<3}updateLocalStats(e){Array.from(this.localStats.entries()).forEach(n=>{let[i,r]=n;switch(i){case U.LocalVideoTrack:case U.LocalVideoLowTrack:{let s=r,a=wo({},YE),c=e.getStats(),d=e.getLocalMedia(i);if(c){let l=c.videoSend.find(u=>u.ssrc===d?.ssrcs[0].ssrcId);if(l){let u=e.getLocalVideoSize(),h=e.getEncoderConfig(U.LocalVideoTrack);l.codec!==\"H264\"&&l.codec!==\"H265\"&&l.codec!==\"VP8\"&&l.codec!==\"VP9\"&&l.codec!==\"AV1X\"&&l.codec!==\"AV1\"||(a.codecType=l.codec),a.sendBytes=l.bytes,a.sendBitrate=s?8*Math.max(0,a.sendBytes-s.sendBytes):0,l.inputFrame?(a.captureFrameRate=l.inputFrame.frameRate,a.captureResolutionHeight=l.inputFrame.height,a.captureResolutionWidth=l.inputFrame.width):u&&(a.captureResolutionWidth=u.width,a.captureResolutionHeight=u.height),l.sentFrame?(a.sendFrameRate=l.sentFrame.frameRate,a.sendResolutionHeight=l.sentFrame.height,a.sendResolutionWidth=l.sentFrame.width):u&&(a.sendResolutionWidth=u.width,a.sendResolutionHeight=u.height),l.avgEncodeMs&&(a.encodeDelay=l.avgEncodeMs),h&&h.bitrateMax&&(a.targetSendBitrate=1e3*h.bitrateMax),a.sendPackets=l.packets,a.sendPacketsLost=l.packetsLost,a.sendJitterMs=l.jitterMs,a.sendRttMs=l.rttMs,a.totalDuration=s?s.totalDuration+1:1,a.totalFreezeTime=s?s.totalFreezeTime:0,this.isLocalVideoFreeze(l)&&(a.totalFreezeTime+=1),l.scalabilityMode&&this.scalabilityMode!==l.scalabilityMode&&(_.debug(\"[\".concat(this.store.clientId,\"]: The scalabilityMode of the video sending stream is \").concat(l.scalabilityMode)),this.scalabilityMode=l.scalabilityMode);}this.trafficStats&&(a.currentPacketLossRate=(this.trafficStats.B_pvlr4||0)/100);}var o;this.localStats.set(i,a),(s?.sendResolutionWidth!==a.sendResolutionWidth||s?.sendResolutionHeight!==a.sendResolutionHeight)&&((o=this.onStatsChanged)===null||o===void 0||o.call(this,\"resolution\",{width:a.sendResolutionWidth,height:a.sendResolutionHeight})),a&&d&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,d.track,a);break}case U.LocalAudioTrack:{let s=r,a=wo({},KE),c=e.getStats(),d=e.getLocalMedia(i);if(c){let l=c.audioSend.find(u=>u.ssrc===d?.ssrcs[0].ssrcId);if(l){if(l.codec!==\"opus\"&&l.codec!==\"aac\"&&l.codec!==\"PCMU\"&&l.codec!==\"PCMA\"&&l.codec!==\"G722\"||(a.codecType=l.codec),l.inputLevel)a.sendVolumeLevel=Math.round(32767*l.inputLevel);else {let u=e.getLocalAudioVolume();u&&(a.sendVolumeLevel=Math.round(32767*u));}a.sendBytes=l.bytes,a.sendPackets=l.packets,a.sendPacketsLost=l.packetsLost,a.sendJitterMs=l.jitterMs,a.sendRttMs=l.rttMs,a.sendBitrate=s?8*Math.max(0,a.sendBytes-s.sendBytes):0;}}this.trafficStats&&(a.currentPacketLossRate=(this.trafficStats.B_palr4||0)/100),this.localStats.set(U.LocalAudioTrack,a),a&&d&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,d.track,a);break}}});}updateRemoteStats(e){Array.from(this.remoteStats.entries()).forEach(n=>{var i,r;let[o,{videoStats:s,audioStats:a,videoPcStats:c}]=n,d=a,l=s,u=c,h=wo({},GO),p=wo({},WO),g=wo({},kG),{audioTrack:E,videoTrack:f,audioSSRC:S,videoSSRC:C}=e.getRemoteMedia(o),A;A=e instanceof An?e.getStats(!0):e.getStats();let b=(i=A)===null||i===void 0?void 0:i.audioRecv.find(k=>k.ssrc===S),w=(r=A)===null||r===void 0?void 0:r.videoRecv.find(k=>k.ssrc===C),D=this.trafficStats&&this.trafficStats.peer_delay.find(k=>k.peer_uid===o);if(b&&(b.codec!==\"opus\"&&b.codec!==\"aac\"&&b.codec!==\"PCMU\"&&b.codec!==\"PCMA\"&&b.codec!==\"G722\"||(h.codecType=b.codec),b.outputLevel?h.receiveLevel=Math.round(32767*b.outputLevel):E&&(h.receiveLevel=Math.round(32767*E.getVolumeLevel())),h.receiveBytes=b.bytes,h.receivePackets=b.packets,h.receivePacketsLost=b.packetsLost,h.receivePacketsDiscarded=b.packetsDiscarded,h.packetLossRate=h.receivePacketsLost/(h.receivePackets+h.receivePacketsLost),h.receiveBitrate=d?8*Math.max(0,h.receiveBytes-d.receiveBytes):0,h.totalDuration=d?d.totalDuration+1:1,h.totalFreezeTime=d?d.totalFreezeTime:0,h.freezeRate=h.totalFreezeTime/h.totalDuration,h.receiveDelay=b.jitterBufferMs,h.totalDuration>10&&t.isRemoteAudioFreeze(E)&&(h.totalFreezeTime+=1)),w){w.codec!==\"H264\"&&w.codec!==\"H265\"&&w.codec!==\"VP8\"&&w.codec!==\"VP9\"&&w.codec!==\"AV1X\"&&w.codec!==\"AV1\"||(p.codecType=w.codec),p.receiveBytes=w.bytes,p.receiveBitrate=l?8*Math.max(0,p.receiveBytes-l.receiveBytes):0,p.decodeFrameRate=w.decodeFrameRate<0?0:w.decodeFrameRate,p.renderFrameRate=w.decodeFrameRate<0?0:w.decodeFrameRate,w.outputFrame&&(p.renderFrameRate=w.outputFrame.frameRate),w.receivedFrame?(p.receiveFrameRate=w.receivedFrame.frameRate,p.receiveResolutionHeight=w.receivedFrame.height,p.receiveResolutionWidth=w.receivedFrame.width):f&&(p.receiveResolutionHeight=f._videoHeight||0,p.receiveResolutionWidth=f._videoWidth||0),w.framesRateFirefox!==void 0&&(p.receiveFrameRate=Math.round(w.framesRateFirefox)),p.receivePackets=w.packets,p.receivePacketsLost=w.packetsLost,p.packetLossRate=p.receivePacketsLost/(p.receivePackets+p.receivePacketsLost),p.totalDuration=l?l.totalDuration+1:1,p.totalFreezeTime=l?l.totalFreezeTime:0,p.receiveDelay=w.jitterBufferMs||0;let k=!!C&&e.getRemoteVideoIsReady(C);f&&k&&t.isRemoteVideoFreeze(f,w,u)&&(p.totalFreezeTime+=1),p.freezeRate=p.totalFreezeTime/p.totalDuration;}D&&(h.end2EndDelay=D.B_ad,p.end2EndDelay=D.B_vd,h.transportDelay=D.B_ed,p.transportDelay=D.B_ed,h.currentPacketLossRate=D.B_ealr4/100,p.currentPacketLossRate=D.B_evlr4/100,g.uplinkNetworkQuality=D.B_punq?D.B_punq:0,g.downlinkNetworkQuality=D.B_pdnq?D.B_pdnq:0),this.remoteStats.set(o,{audioStats:h,videoStats:p,videoPcStats:w,networkStats:g}),E&&this.exceptionMonitor.setRemoteAudioStats(E,h),f&&this.exceptionMonitor.setRemoteVideoStats(f,p);});}},Eu=class{constructor(){T(this,\"destChannelMediaInfos\",new Map),T(this,\"srcChannelMediaInfo\",void 0);}setSrcChannelInfo(e){MR(e),this.srcChannelMediaInfo=e;}addDestChannelInfo(e){MR(e),this.destChannelMediaInfos.set(e.channelName,e);}removeDestChannelInfo(e){Xu(e),this.destChannelMediaInfos.delete(e);}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}};function Pv(t){if(!(t instanceof Eu))return new O(R.INVALID_PARAMS,\"Config should be instance of [ChannelMediaRelayConfiguration]\").throw();let e=t.getSrcChannelMediaInfo(),n=t.getDestChannelMediaInfo();if(!e)return new O(R.INVALID_PARAMS,\"srcChannelMediaInfo should not be empty\").throw();if(n.size===0)return new O(R.INVALID_PARAMS,\"destChannelMediaInfo should not be empty\").throw()}function kv(t){var e={},n=!1;function i(r,o){return n=!0,{done:!1,value:new Of(o=new om(function(s){s(t[r](o));}),1)}}return e[Ds!==void 0&&zw||\"@@iterator\"]=function(){return this},e.next=function(r){return n?(n=!1,r):i(\"next\",r)},typeof t.throw==\"function\"&&(e.throw=function(r){if(n)throw n=!1,r;return i(\"throw\",r)}),typeof t.return==\"function\"&&(e.return=function(r){return n?(n=!1,r):i(\"return\",r)}),e}var hW=ae(p0);function Lv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Mv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var Pt;function Uv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var Va=(Pt=class Xa extends Yl{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get localCodecs(){return [...new Set(this.localCapabilities&&this.localCapabilities.videoCodecs.map(e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\").filter(e=>{var n;return W(n=Object.keys(Ju)).call(n,e)}))]}constructor(e,n){super(e,n),T(this,\"store\",void 0),T(this,\"peerConnection\",void 0),T(this,\"remoteSDP\",void 0),T(this,\"initialOffer\",void 0),T(this,\"statsFilter\",void 0),T(this,\"useRTX\",!1),T(this,\"localCapabilities\",void 0),T(this,\"localCandidateCount\",0),T(this,\"allCandidatesReceived\",!1),T(this,\"establishPromise\",void 0),T(this,\"mutex\",new ze(\"P2PConnection-mutex\")),this.store=n,this.peerConnection=new RTCPeerConnection(Xa.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),this.statsFilter=Nf(this.peerConnection,v(\"STATS_UPDATE_INTERVAL\"),void 0,$t()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish();}async establish(){try{let e=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");let n=io(e.sdp),i=Lc(e.sdp,{filterRTX:!this.useRTX,filterVideoFec:v(\"FILTER_VIDEO_FEC\"),filterAudioFec:v(\"FILTER_AUDIO_FEC\"),filterAudioCodec:[\"opus\"]});return this.localCapabilities=i,this.initialOffer=e,qd(qd({},n),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:i},offerSDP:e.sdp})}catch(e){throw new N(R.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async updateRemoteConnect(){}async connect(e){try{if(!this.initialOffer)throw new Error(\"Cannot establish P2PConnection without initial offer.\");this.remoteSDP=new class{constructor(i){T(this,\"sessionDesc\",void 0),T(this,\"localCapabilities\",void 0),T(this,\"rtpCapabilities\",void 0),T(this,\"candidates\",void 0),T(this,\"iceParameters\",void 0),T(this,\"dtlsParameters\",void 0),T(this,\"setup\",void 0),T(this,\"currentMidIndex\",void 0),T(this,\"cname\",void 0),i=le(i);let{iceParameters:r,dtlsParameters:o,candidates:s,rtpCapabilities:a,setup:c,localCapabilities:d,sdkCodec:l,cname:u}=i,h=Le.parse(`v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE audio video\na=msid-semantic: WMS\na=ice-lite\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:audio\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:video\n`);this.rtpCapabilities=a,this.candidates=s,this.iceParameters=r,this.dtlsParameters=o,this.setup=c,this.localCapabilities=d,this.cname=u;for(let p=0;p<h.mediaDescriptions.length;p++){let g=h.mediaDescriptions[p];if(g.attributes.iceUfrag=r.iceUfrag,g.attributes.icePwd=r.icePwd,g.attributes.fingerprints=o.fingerprints,g.attributes.candidates=s,g.attributes.setup=c,g.media.mediaType===\"video\"){g.media.fmts=a.videoCodecs.map(f=>f.payloadType.toString(10));let E=a.videoCodecs.filter(f=>{var S,C;return (S=f.rtpMap)===null||S===void 0?void 0:W(C=S.encodingName.toLowerCase()).call(C,l)});E.length===0&&(E=a.videoCodecs),g.attributes.payloads=E,g.attributes.extmaps=a.videoExtensions;}g.media.mediaType===\"audio\"&&(g.media.fmts=a.audioCodecs.map(E=>E.payloadType.toString(10)),g.attributes.payloads=a.audioCodecs,g.attributes.extmaps=a.audioExtensions),h.mediaDescriptions[p]=this.mungMediaDesc(g);}this.sessionDesc=h,this.currentMidIndex=h.mediaDescriptions.length-1;}toString(){return Le.print(this.sessionDesc)}send(i,r,o){let{ssrcs:s,ssrcGroups:a}=Lo(r,this.cname),c=this.sessionDesc.mediaDescriptions.find(u=>i===Q.VIDEO?u.media.mediaType===\"video\":u.media.mediaType===\"audio\"),d=s[0].attributes.label,l=s[0].attributes.mslabel;return c.attributes.ssrcs=c.attributes.ssrcs.concat(s),c.attributes.ssrcGroups=c.attributes.ssrcGroups.concat(a),{id:d,mslabel:l}}batchSend(i){return i.map(r=>{let{kind:o,ssrcMsg:s}=r;return this.send(o,s,void 0)})}stopSending(i){this.sessionDesc.mediaDescriptions.forEach(r=>{let o=[],s=[],a=[];r.attributes.ssrcs.forEach(c=>{W(i).call(i,c.attributes.label||\"\")?a.push(c):o.push(c);}),r.attributes.ssrcGroups.forEach(c=>{var d;W(d=a.map(l=>l.ssrcId)).call(d,c.ssrcIds[0])||s.push(c);}),r.attributes.ssrcs=o,r.attributes.ssrcGroups=s;});}mute(i){let r=this.sessionDesc.mediaDescriptions.find(o=>o.attributes.mid===i);if(!r)throw new Error(\"mediaDescription not found with \".concat(i,\" in remote SDP when calling RemoteSDP.mute.\"));r.attributes.direction=\"inactive\";}unmute(i){let r=this.sessionDesc.mediaDescriptions.find(o=>o.attributes.mid===i);if(!r)throw new Error(\"mediaDescription not found with \".concat(i,\" in remote SDP when calling RemoteSDP.unmute.\"));r.attributes.direction=\"sendonly\";}receive(i,r,o){i.forEach((s,a)=>{let c=s._mediaStreamTrack,d=this.sessionDesc.mediaDescriptions.findIndex(u=>u.attributes.mid===c.kind),l=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[d],s);this.sessionDesc.mediaDescriptions[d]=l;});}stopReceiving(i){}updateCandidates(i){i===On.TCP?this.candidates.forEach(r=>{this.candidates.findIndex(o=>o.transport===\"tcp\"&&o.connectionAddress===r.connectionAddress&&o.port===r.port)===-1&&this.candidates.push(Mv(Mv({},r),{},{foundation:\"tcpcandidate\",priority:Number(r.priority)-1+\"\",transport:\"tcp\",port:Number(r.port)+90+\"\"}));}):this.candidates=this.candidates.filter(r=>r.transport!==\"tcp\");for(let r of this.sessionDesc.mediaDescriptions)r.attributes.candidates=this.candidates;}restartICE(i){i=le(i),this.iceParameters=i,this.sessionDesc.mediaDescriptions.forEach(r=>{r.attributes.iceUfrag=i.iceUfrag,r.attributes.icePwd=i.icePwd;});}predictReceivingMids(i){let r=[];for(let o=0;o<i;o++)r.push((this.currentMidIndex+o+1).toString(10));return r}mungRecvMediaDsec(i,r){let o=le(i);return ra(o,r),vf(o,r),o}updateRecvMedia(i,r){let o=this.sessionDesc.mediaDescriptions.findIndex(s=>s.attributes.mid===i);if(o!==-1){let s=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[o],r);this.sessionDesc.mediaDescriptions[o]=s;}}bumpMid(i){this.currentMidIndex+=i;}updateTrackLabel(i,r,o){let s=this.sessionDesc.mediaDescriptions.find(c=>i===Q.VIDEO?c.attributes.mid===\"video\":c.attributes.mid===\"audio\");if(s){let c=s.attributes.ssrcs.find(d=>d.attributes.label===r);var a;c&&(c.attributes.label=o,(a=c.attributes.msid)===null||a===void 0||a.replace(r,o));}}mungMediaDesc(i){let r=le(i);return If(r),function(o){let s=o.attributes.extmaps.find(a=>a.extensionName===\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\");s&&o.attributes.extmaps.splice(o.attributes.extmaps.indexOf(s),1),o.attributes.payloads.forEach(a=>{let c=a.rtcpFeedbacks.findIndex(d=>d.type===\"transport-cc\");c!==-1&&a.rtcpFeedbacks.splice(c,1);});}(r),r}getSSRC(i){for(let r of this.sessionDesc.mediaDescriptions)for(let o of r.attributes.ssrcs)if(o.attributes.label===i)return [o]}}(qd(qd({},e),{},{rtpCapabilities:e.rtpCapabilities.send,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec}));let n=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:n});}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(n.toString()))}}async updateRemoteRTPCapabilities(e,n){throw new N(R.NOT_SUPPORTED,\"Planb mode does not support createDataChannels.\")}getPreMedia(e){}send(e,n){var i=this;return Bi(function*(){let r=yield Tt(i.mutex.lock());try{if(!i.remoteSDP)throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");let o=e.map(h=>i.peerConnection.addTrack(h._mediaStreamTrack)),s=yield Tt(i.peerConnection.createOffer()),a=Le.parse(s.sdp),c=e.map(h=>{let p=h._mediaStreamTrack,g=a.mediaDescriptions.find(E=>E.attributes.mid===p.kind);if(!g)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return function(E,f,S){let C=E.attributes.ssrcs.filter(b=>b.attributes.label===f),A=E.attributes.ssrcGroups;if(C.length===0)throw new Error(\"Cannot extract ssrc from plan-b SDP.\");if(A&&C.length>1){let b=A.find(w=>w.ssrcIds.indexOf(C[0].ssrcId)!==-1);return b?[{ssrcId:b.ssrcIds[0],rtx:S?b.ssrcIds[1]:void 0}]:[{ssrcId:C[0].ssrcId}]}return [{ssrcId:C[0].ssrcId}]}(g,p.id,i.useRTX)}),d;try{d=yield c;}catch(h){throw o.forEach(p=>{je()&&p.replaceTrack(null),i.peerConnection.removeTrack(p);}),h}let l=i.mungSendOfferSDP(s.sdp,e);i.remoteSDP.receive(e,n,d);let u=i.remoteSDP.toString();return yield Tt(i.peerConnection.setLocalDescription({type:\"offer\",sdp:l})),yield Tt(i.applySendEncodings(o,e)),yield Tt(i.peerConnection.setRemoteDescription({type:\"answer\",sdp:u})),e.map((h,p)=>{let g=h._mediaStreamTrack.id;return {localSSRC:c[p],id:g}})}catch(o){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(o.toString()))}finally{r();}})()}async stopSending(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");let n=this.peerConnection.getSenders().filter(o=>{var s;return e.indexOf(((s=o.track)===null||s===void 0?void 0:s.id)||\"\")!==-1});if(n.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.\");n.map(o=>{je()&&o.replaceTrack(null),this.peerConnection.removeTrack(o);});let i=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(i),this.remoteSDP.stopReceiving(e);let r=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r});}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(n.toString()))}}async receive(e,n,i,r){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));let{id:o,mslabel:s}=this.remoteSDP.send(e,n,r),a=new j((l,u)=>{let h=setTimeout(()=>{u(new Error(\"Cannot receive track, id: \".concat(o)));},1e4),p=g=>{let E=mt();if((E.name===\"Safari\"&&Number(E.version)===11||ln())&&g.track.id!==o&&g.streams[0].id===s){var f;let S=g.streams[0].getTracks()[0];return (f=this.remoteSDP)===null||f===void 0||f.updateTrackLabel(e,o,g.track.id),this.peerConnection.removeEventListener(\"track\",p),clearTimeout(h),void l(S)}if(g.track.id===o)return this.peerConnection.removeEventListener(\"track\",p),clearTimeout(h),void l(g.track)};this.peerConnection.addEventListener(\"track\",p);}),c=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:c});let d=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(d),{track:await a,id:o}}catch(o){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(o.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");this.remoteSDP.stopSending(e);let n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:n});let i=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(i);}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(n.toString()))}}async muteRemote(e){}async unmuteRemote(e){}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");let n=this.peerConnection.getSenders().filter(i=>{var r;return e.indexOf(((r=i.track)===null||r===void 0?void 0:r.id)||\"\")!==-1});if(n.length!==e.length)throw new Error(\"sender' length doesn't match mids' length.\");n.map(i=>{if(je()&&i.track)i.track.enabled=!1;else {let r=i.getParameters();r.encodings.forEach(o=>o.active=!1),i.setParameters(r);}});}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.muteLocal failed; \".concat(n.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");let n=this.peerConnection.getSenders().filter(o=>{var s;return e.indexOf(((s=o.track)===null||s===void 0?void 0:s.id)||\"\")!==-1});if(n.length!==e.length)throw new Error(\"Senders' length doesn't match mids' length.\");n.map(async o=>{if(je()&&o.track)o.track.enabled=!0;else {let s=o.getParameters();s.encodings.forEach(a=>a.active=!0),await o.setParameters(s);}});let i=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(i);let r=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r});}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteLocal failed; \".concat(n.toString()))}}restartICE(e){var n=this;return Bi(function*(){let i=yield Tt(n.mutex.lock(\"From P2PConnection.restartICE\"));try{if(!n.remoteSDP)throw new Error(\"Cannot restartICE before remoteSDP created.\");if(ft().supportPCSetConfiguration){let c=n.peerConnection.getConfiguration(),d=e===On.RELAY?\"relay\":\"all\";c.iceTransportPolicy!==d&&(_.debug(\"[\".concat(n.store.clientId,\"] restartICE change iceTransportPolicy from [\").concat(c.iceTransportPolicy,\"] to [\").concat(d,\"]\")),c.iceTransportPolicy=d,n.peerConnection.setConfiguration(c));}else if(e===On.RELAY)return;e!==On.RELAY&&n.remoteSDP.updateCandidates(e);let r=yield Tt(n.peerConnection.createOffer({iceRestart:!0}));if(!r.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");let o=io(r.sdp),{remoteIceParameters:s}=yield o.iceParameters;n.remoteSDP.restartICE(s);let a=n.remoteSDP.toString();yield Tt(n.peerConnection.setLocalDescription(r)),yield Tt(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:a}));}catch(r){_.warning(\"[\".concat(n.store.clientId,\"] restart ICE failed, abort operation\"),r);}finally{i();}})()}close(){var e;this.peerConnection.close(),(e=this.onConnectionStateChange)===null||e===void 0||e.call(this,\"closed\"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy();}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");let i=await this.peerConnection.createOffer(),r=this.mungSendOfferSDP(i.sdp,[n]);this.remoteSDP.updateRecvMedia(n._mediaStreamTrack.kind,n);let o=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:\"offer\",sdp:r}),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o});}catch(i){throw new N(R.EXCHANGE_SDP_FAILED,i.toString())}}async updateSendParameters(e,n){let i=this.peerConnection.getSenders().filter(r=>{var o;return ((o=r.track)===null||o===void 0?void 0:o.id)===e});i.length===1&&await this.applySendEncodings(i,[n]);}setStatsRemoteVideoIsReady(e,n){this.statsFilter.setVideoIsReady2(e,n);}async replaceTrack(e,n){let i=this.peerConnection.getSenders().find(r=>{var o;return ((o=r.track)===null||o===void 0?void 0:o.id)===n});i&&await i.replaceTrack(e._mediaStreamTrack);}createDataChannels(e,n){throw new N(R.NOT_SUPPORTED,\"Planb mode does not support createDataChannels.\")}stopDataChannels(e){throw new N(R.NOT_SUPPORTED,\"Planb mode does not support stopDataChannels.\")}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;(e=this.onICEConnectionStateChange)===null||e===void 0||e.call(this,this.peerConnection.iceConnectionState);},this.peerConnection.onconnectionstatechange=()=>{var e;(e=this.onConnectionStateChange)===null||e===void 0||e.call(this,this.peerConnection.connectionState);},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,_.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount));},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,_.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount));},v(\"CANDIDATE_TIMEOUT\"));}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null;}static resolvePCConfiguration(e){let n={iceServers:[],sdpSemantics:\"plan-b\"};return e.iceServers?n.iceServers=e.iceServers:e.turnServer&&e.turnServer.mode!==\"off\"&&(Yu(e.turnServer.servers)?n.iceServers=e.turnServer.servers:(n.iceServers&&n.iceServers.push(...Xa.turnServerConfigToIceServers(e.turnServer.servers)),v(\"USE_TURN_SERVER_OF_GATEWAY\")&&n.iceServers&&e.turnServer.serversFromGateway&&n.iceServers.push(...Xa.turnServerConfigToIceServers(e.turnServer.serversFromGateway)),e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach(i=>{i.forceturn&&(n.iceTransportPolicy=\"relay\");}))),n}static turnServerConfigToIceServers(e){let n=[];return e.forEach(i=>{i.security?i.tcpport&&n.push({username:i.username,credential:i.password,credentialType:\"password\",urls:\"turns:\".concat(i.turnServerURL,\":\").concat(i.tcpport,\"?transport=tcp\")}):(i.udpport&&n.push({username:i.username,credential:i.password,credentialType:\"password\",urls:\"turn:\".concat(i.turnServerURL,\":\").concat(i.udpport,\"?transport=udp\")}),i.tcpport&&n.push({username:i.username,credential:i.password,credentialType:\"password\",urls:\"turn:\".concat(i.turnServerURL,\":\").concat(i.tcpport,\"?transport=tcp\")}));}),n}async updateRtpSenderEncodings(e,n){var i;if(n||(n=this.peerConnection.getSenders().find(d=>{var l;return ((l=d.track)===null||l===void 0?void 0:l.id)===e._mediaStreamTrack.id})),!n)return _.warn(\"[\".concat(e.getTrackId(),\"] no rtpSender found}\"));if(!ft().supportSetRtpSenderParameters)return _.warn(\"Browser not support set rtp-sender parameters\");let r={},o={};if(e instanceof Ft)switch(e._optimizationMode){case\"motion\":r.degradationPreference=\"maintain-framerate\";break;case\"detail\":r.degradationPreference=\"maintain-resolution\";break;default:r.degradationPreference=\"balanced\";}if(v(\"DSCP_TYPE\")&&ho()){var s;let d=v(\"DSCP_TYPE\");W(s=[\"very-low\",\"low\",\"medium\",\"high\"]).call(s,d)&&(o.networkPriority=d);}let a=n.getParameters(),c=(i=a.encodings)===null||i===void 0?void 0:i[0];c&&Object.assign(c,o),Object.assign(a,r),_.debug(\"[\".concat(e.getTrackId(),\"] updateRtpSenderEncodings: \").concat(JSON.stringify(a.encodings))),await n.setParameters(a);}async applySendEncodings(e,n){try{if(!ft().supportSetRtpSenderParameters||e.length!==n.length)return;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];r&&o&&await this.updateRtpSenderEncodings(o,r);}}catch{_.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"));}}mungSendOfferSDP(e,n){let i=Le.parse(e);return n.forEach((r,o)=>{let s=r._mediaStreamTrack,a=i.mediaDescriptions.find(c=>c.attributes.mid===s.kind);a&&ra(a,r);}),Le.print(i)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var n;(n=this.onFirstAudioReceived)===null||n===void 0||n.call(this,e);},this.statsFilter.onFirstVideoReceived=e=>{var n;(n=this.onFirstVideoReceived)===null||n===void 0||n.call(this,e);},this.statsFilter.onFirstAudioDecoded=e=>{var n;(n=this.onFirstAudioDecoded)===null||n===void 0||n.call(this,e);},this.statsFilter.onFirstVideoDecoded=(e,n,i)=>{var r;(r=this.onFirstVideoDecoded)===null||r===void 0||r.call(this,e,n,i);},this.statsFilter.onSelectedLocalCandidateChanged=(e,n)=>{var i;(i=this.onSelectedLocalCandidateChanged)===null||i===void 0||i.call(this,e,n);},this.statsFilter.onSelectedRemoteCandidateChanged=(e,n)=>{var i;(i=this.onSelectedRemoteCandidateChanged)===null||i===void 0||i.call(this,e,n);};}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0;}async batchReceive(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.batchReceive before remoteSDP created.\");let n=this.remoteSDP.batchSend(e).map((o,s)=>{let{id:a,mslabel:c}=o,{kind:d}=e[s];return new j((l,u)=>{let h=setTimeout(()=>{u(new Error(\"Cannot receive track, id: \".concat(a)));},1e4),p=g=>{let E=mt();if(E.name===\"Safari\"&&Number(E.version)===11&&g.track.id!==a&&g.streams[0].id===c){var f;let S=g.streams[0].getTracks()[0];return (f=this.remoteSDP)===null||f===void 0||f.updateTrackLabel(d,a,g.track.id),this.peerConnection.removeEventListener(\"track\",p),clearTimeout(h),void l({track:S,id:a})}if(g.track.id===a)return this.peerConnection.removeEventListener(\"track\",p),clearTimeout(h),void l({track:g.track,id:a})};this.peerConnection.addEventListener(\"track\",p);})}),i=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:i});let r=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(r),await j.all(n)}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(n.toString()))}}async getRemoteSSRC(e){if(!this.remoteSDP)return;let n=this.remoteSDP.getSSRC(e);return n?.[0].ssrcId}setConfiguration(e){if(ft().supportPCSetConfiguration){let n=Xa.resolvePCConfiguration(e);this.peerConnection.setConfiguration(n);}}},q(Pt.prototype,\"connect\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"connect\"),Pt.prototype),q(Pt.prototype,\"stopSending\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"stopSending\"),Pt.prototype),q(Pt.prototype,\"receive\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"receive\"),Pt.prototype),q(Pt.prototype,\"stopReceiving\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"stopReceiving\"),Pt.prototype),q(Pt.prototype,\"muteRemote\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"muteRemote\"),Pt.prototype),q(Pt.prototype,\"unmuteRemote\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"unmuteRemote\"),Pt.prototype),q(Pt.prototype,\"muteLocal\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"muteLocal\"),Pt.prototype),q(Pt.prototype,\"unmuteLocal\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"unmuteLocal\"),Pt.prototype),q(Pt.prototype,\"close\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"close\"),Pt.prototype),q(Pt.prototype,\"updateEncoderConfig\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"updateEncoderConfig\"),Pt.prototype),q(Pt.prototype,\"updateSendParameters\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"updateSendParameters\"),Pt.prototype),q(Pt.prototype,\"replaceTrack\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"replaceTrack\"),Pt.prototype),q(Pt.prototype,\"getRemoteSSRC\",[Jn],Object.getOwnPropertyDescriptor(Pt.prototype,\"getRemoteSSRC\"),Pt.prototype),Pt);function Jn(t,e,n){let i=t[e];if(typeof i!=\"function\")throw new Error(\"Cannot use mutex on object property.\");return n.value=async function(){let r=this.mutex,o=await r.lock(\"Locking from P2PConnection.\".concat(e));try{for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return await i.apply(this,a)}finally{o();}},n}function xv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var Fa=\"9\",Vv=4e4,um=class{get localCapabilities(){return le(this._localCapabilities)}get rtpCapabilities(){return le(this._rtpCapabilities)}get candidates(){return le(this._candidates)}get iceParameters(){return le(this._iceParameters)}get dtlsParameters(){return le(this._dtlsParameters)}constructor(e){T(this,\"sessionDesc\",void 0),T(this,\"_localCapabilities\",void 0),T(this,\"_rtpCapabilities\",void 0),T(this,\"_candidates\",void 0),T(this,\"_iceParameters\",void 0),T(this,\"_dtlsParameters\",void 0),T(this,\"setup\",void 0),T(this,\"currentMidIndex\",void 0),T(this,\"cname\",void 0),T(this,\"firefoxSsrcMidMap\",new Map),e=le(e);let{iceParameters:n,dtlsParameters:i,candidates:r,rtpCapabilities:o,setup:s,localCapabilities:a,cname:c}=e;this._rtpCapabilities=o,this._candidates=r,this._iceParameters=n,this._dtlsParameters=i,this._localCapabilities=a,this.setup=s,this.cname=c,this.sessionDesc=this.updateRemoteRTPCapabilities(o),this.currentMidIndex=this.sessionDesc.mediaDescriptions.length-1;}preloadRemoteMedia(e){let n=this.candidates,i=this.dtlsParameters,r=this.iceParameters,o=this.rtpCapabilities.send,s=this.sessionDesc.mediaDescriptions.length-1;for(let a=1;a<e;a++){let c=2*a+2e4,d=2*a+Vv,{ssrcs:l,ssrcGroups:u}=Lo([{ssrcId:c}],this.cname),{ssrcs:h,ssrcGroups:p}=Lo([{ssrcId:d,rtx:v(\"USE_SUB_RTX\")?d+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:\"video\",port:Fa,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:o.videoCodecs.map(g=>g.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:r.iceUfrag,icePwd:r.icePwd,unrecognized:[],candidates:n,extmaps:o.videoExtensions,fingerprints:i.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:h,ssrcGroups:p,rtcpFeedbackWildcards:[],payloads:o.videoCodecs,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:\"sendonly\",rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(++s)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:\"audio\",port:Fa,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:o.audioCodecs.map(g=>g.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:r.iceUfrag,icePwd:r.icePwd,unrecognized:[],candidates:n,extmaps:o.audioExtensions,fingerprints:i.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:l,ssrcGroups:u,rtcpFeedbackWildcards:[],payloads:o.audioCodecs,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:\"sendonly\",rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(++s)}}),this.currentMidIndex+=2;}this.updateBundleMids();}toString(){return Le.print(this.sessionDesc)}send(e,n,i,r){let{ssrcs:o,ssrcGroups:s}=Lo(n,this.cname,v(\"SYNC_GROUP\")?i:void 0),a=this.findPreloadMediaDesc(o);if(a){if($t()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,a.attributes.mid),r&&(r.twcc||r.remb)){let c=this.sessionDesc.mediaDescriptions.indexOf(a);return this.sessionDesc.mediaDescriptions[c]=this.mungSendMediaDesc(a,r),{mid:a.attributes.mid,needExchangeSDP:!0}}return {mid:a.attributes.mid,needExchangeSDP:!1}}{let c=this.findAvailableMediaIndex(e,o),d;return c===-1||c===1&&(je()||function(){let l=mt();return !(l.name!==It.CHROME||!l.osVersion)&&Number(l.version)<=90}())||c===0&&v(\"USE_SUB_RTX\")||hR()?(d=this.createOrRecycleSendMedia(e,o,s,\"sendonly\",r),this.updateBundleMids()):(d=le(this.sessionDesc.mediaDescriptions[c]),d.attributes.direction=\"sendonly\",d.attributes.ssrcs=o,d.attributes.ssrcGroups=s,this.sessionDesc.mediaDescriptions[c]=this.mungSendMediaDesc(d,r)),$t()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,d.attributes.mid),{mid:d.attributes.mid,needExchangeSDP:!0}}}sendDataChannel(){let{mediaDesc:e,needExchangeSDP:n}=this.createOrRecycleDataChannel();return this.updateBundleMids(),{mid:e.attributes.mid,needExchangeSDP:n}}batchSend(e){let n=e.map(o=>{let{kind:s,ssrcMsg:a,mslabel:c}=o;return this.send(s,a,c)}),i=[],r=!1;return n.forEach(o=>{let{mid:s,needExchangeSDP:a}=o;a&&(r=!0),i.push(s);}),{mids:i,needExchangeSDP:r}}stopSending(e){let n=this.sessionDesc.mediaDescriptions.filter(i=>i.attributes.mid&&e.indexOf(i.attributes.mid)!==-1);if(n.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.\");n.forEach(i=>{i.attributes.mid===\"0\"||$t()||hR()?i.attributes.ssrcs=[]:(i.attributes.ssrcs=[],i.attributes.direction=\"inactive\",i.media.port=\"0\");}),this.updateBundleMids();}mute(e){let n=this.sessionDesc.mediaDescriptions.find(i=>i.attributes.mid===e);if(!n)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.mute.\"));n.attributes.direction=\"inactive\";}unmute(e){let n=this.sessionDesc.mediaDescriptions.find(i=>i.attributes.mid===e);if(!n)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.unmute.\"));n.attributes.direction=\"sendonly\";}muteRemote(e){let n=this.sessionDesc.mediaDescriptions.filter(i=>W(e).call(e,i.attributes.mid||\"\"));if(n.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");n.forEach(i=>{i.attributes.direction=\"inactive\";});}unmuteRemote(e){let n=this.sessionDesc.mediaDescriptions.filter(i=>W(e).call(e,i.attributes.mid||\"\"));if(n.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");n.forEach(i=>{i.attributes.direction=\"recvonly\";});}receive(e,n,i,r){e.forEach((o,s)=>{this.createOrRecycleRecvMedia(o,[],\"recvonly\",n,i,r[s]);}),this.updateBundleMids();}stopReceiving(e){let n=this.sessionDesc.mediaDescriptions.filter(i=>e.indexOf(i.attributes.mid)!==-1);if(n.length!==e.length)throw new Error(\"MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.\");n.forEach(i=>{i.media.port=\"0\",i.attributes.direction=\"inactive\";}),this.updateBundleMids();}updateRemoteRTPCapabilities(e){let n=this.sessionDesc||Le.parse(`v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=ice-lite\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n`);this._rtpCapabilities=e;let i=this.rtpCapabilities.send,r=this.localCapabilities.send;for(let o of n.mediaDescriptions){if(o.attributes.iceUfrag=this._iceParameters.iceUfrag,o.attributes.icePwd=this._iceParameters.icePwd,o.attributes.fingerprints=this._dtlsParameters.fingerprints,o.attributes.candidates=this._candidates,o.attributes.setup=this.setup,o.media.mediaType===\"application\"&&(o.attributes.sctpPort=\"5000\"),o.media.mediaType===\"video\"){if(i.videoCodecs.length===0){let s=r.videoCodecs.filter(a=>{var c,d;return (c=a.rtpMap)===null||c===void 0?void 0:W(d=c.encodingName.toLowerCase()).call(d,\"vp8\")})||[r.videoCodecs[0]];o.media.fmts=s.map(a=>a.payloadType.toString(10)),o.attributes.payloads=s,o.attributes.extmaps=[];}else if(o.media.fmts=i.videoCodecs.map(s=>s.payloadType.toString(10)),o.attributes.payloads=i.videoCodecs,o.attributes.extmaps=i.videoExtensions,v(\"PRELOAD_MEDIA_COUNT\")>0){let{ssrcs:s,ssrcGroups:a}=Lo([{ssrcId:Vv,rtx:v(\"USE_SUB_RTX\")?40001:void 0}],this.cname);o.attributes.ssrcs=s,o.attributes.ssrcGroups=a;}}if(o.media.mediaType===\"audio\"){if(i.audioCodecs.length===0){let s=r.audioCodecs.filter(a=>{var c,d;return (c=a.rtpMap)===null||c===void 0?void 0:W(d=c.encodingName.toLowerCase()).call(d,\"opus\")})||[r.audioCodecs[0]];o.media.fmts=s.map(a=>a.payloadType.toString(10)),o.attributes.payloads=s,o.attributes.extmaps=[];}else if(o.media.fmts=i.audioCodecs.map(s=>s.payloadType.toString(10)),o.attributes.payloads=i.audioCodecs,o.attributes.extmaps=i.audioExtensions,oa(o),v(\"PRELOAD_MEDIA_COUNT\")>0){let{ssrcs:s,ssrcGroups:a}=Lo([{ssrcId:2e4}],this.cname);o.attributes.ssrcs=s,o.attributes.ssrcGroups=a;}}}return this.sessionDesc=n,this.currentMidIndex=n.mediaDescriptions.length-1,this.sessionDesc}updateCandidates(e){let n=this._candidates.filter(i=>i.transport===\"udp\");if(e===On.TCP){if(n.length===0)return;if(v(\"TCP_CANDIDATE_ONLY\")){let i=this._candidates.filter(r=>r.transport===\"tcp\");n.forEach(r=>{i.findIndex(o=>o.connectionAddress===r.connectionAddress)===-1&&i.push(Wr(Wr({},r),{},{foundation:\"tcpcandidate\",priority:Number(r.priority)-1+\"\",transport:\"tcp\",port:Number(r.port)+90+\"\"}));}),this._candidates=i;}else {let i=[];n.forEach(r=>{i.push(Wr(Wr({},r),{},{foundation:\"tcpcandidate\",priority:Number(r.priority)-1+\"\",transport:\"tcp\",port:Number(r.port)+90+\"\"}));}),this._candidates=[...n,...i];}}else if(e===On.RELAY){if(n.length!==0)return;{let i=this._candidates.filter(r=>r.transport===\"tcp\");i.forEach(r=>{n.push(Wr(Wr({},r),{},{foundation:\"udpcandidate\",priority:Number(r.priority)+1+\"\",transport:\"udp\",port:Number(r.port)-90+\"\"}));}),this._candidates=[...n,...i];}}else n.length===0?(this._candidates.filter(i=>i.transport===\"tcp\").forEach(i=>{n.push(Wr(Wr({},i),{},{foundation:\"udpcandidate\",priority:Number(i.priority)+1+\"\",transport:\"udp\",port:Number(i.port)-90+\"\"}));}),this._candidates=n):this._candidates=this._candidates.filter(i=>i.transport!==\"tcp\");for(let i of this.sessionDesc.mediaDescriptions)i.attributes.candidates=this.candidates;}restartICE(e){e=le(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach(n=>{n.attributes.iceUfrag=e.iceUfrag,n.attributes.icePwd=e.icePwd;});}predictReceivingMids(e){let n=[];for(let i=0;i<e;i++)n.push((this.currentMidIndex+i+1).toString(10));return n}findAvailableMediaIndex(e,n){return this.sessionDesc.mediaDescriptions.findIndex(i=>{let r=i.media.mediaType===e&&i.media.port!==\"0\"&&(i.attributes.direction===\"sendonly\"||i.attributes.direction===\"sendrecv\")&&i.attributes.ssrcs.length===0;if($t()){if(r){let o=this.firefoxSsrcMidMap.get(n[0].ssrcId);return !(o||i.attributes.mid!==\"0\"&&i.attributes.mid!==\"1\")||!(!o||o!==i.attributes.mid)}return !1}return r})}createOrRecycleDataChannel(){for(let i of this.sessionDesc.mediaDescriptions)if(i.media.mediaType===\"application\")return {mediaDesc:i,needExchangeSDP:!1};this.currentMidIndex+=1;let e=\"\".concat(this.currentMidIndex),n={media:{mediaType:\"application\",port:Fa,protos:[\"UDP\",\"DTLS\",\"SCTP\"],fmts:[\"webrtc-datachannel\"]},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:[],fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[],rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,mid:\"\".concat(e),sctpPort:\"5000\"}};return this.sessionDesc.mediaDescriptions.push(n),{mediaDesc:n,needExchangeSDP:!0}}createOrRecycleRecvMedia(e,n,i,r,o,s){let a=e._mediaStreamTrack.kind,c=this.rtpCapabilities.recv,d=ac(a,c,this.localCapabilities.send,a===Q.VIDEO?r:o),l=a===Q.VIDEO?c.videoExtensions:c.audioExtensions;this.currentMidIndex+=1;let u=\"\".concat(this.currentMidIndex),h={media:{mediaType:a,port:Fa,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:d.map(g=>g.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:l,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:n,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:d,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(u)}};h=this.mungRecvMediaDsec(h,e,s);let p=this.findFirstClosedMedia(a);if(p){let g=this.sessionDesc.mediaDescriptions.indexOf(p);this.sessionDesc.mediaDescriptions[g]=h;}else this.sessionDesc.mediaDescriptions.push(h);return h}updateRemoteCodec(e,n,i){let r=[...new Set(this._rtpCapabilities.recv.videoCodecs.map(h=>h.rtpMap&&h.rtpMap.encodingName.toLowerCase()||\"\").filter(h=>{var p;return W(p=Object.keys(Ju)).call(p,h)}))],o=new Set(n);if(r.every(h=>o.has(h)))return _.debug(\"codecs has not changed, no need to updateRemoteCodec, codecs: \".concat(n)),!1;let s=this._rtpCapabilities.recv.videoCodecs.filter(h=>n.some(p=>{var g;return W(g=h.rtpMap&&h.rtpMap.encodingName.toLowerCase()||\"\").call(g,p)}));if(s.length===0)return _.debug(\"updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: \".concat(r,\" codecs: \").concat(n)),!1;let a=[...new Set(s.map(h=>h.rtpMap&&h.rtpMap.encodingName.toLowerCase()||\"\"))],c;if(_.debug(\"updateRemoteCodec, from \".concat(r,\" to \").concat(a)),e.length===0)c=this.sessionDesc.mediaDescriptions.filter(h=>h.media.mediaType===\"video\"&&h.attributes.direction===\"recvonly\");else if(c=this.sessionDesc.mediaDescriptions.filter(h=>h.attributes.mid&&W(e).call(e,h.attributes.mid)&&h.attributes.direction===\"recvonly\"),c.length!==e.length)return _.debug(\"updateRemoteCodec failed, because cannot find mids, mids: \".concat(e,\", codecs: \").concat(n)),!1;if(v(\"USE_PUB_RTX\")||v(\"USE_SUB_RTX\")){let h=yf(s,this.rtpCapabilities.recv.videoCodecs);s.push(...h);}this._rtpCapabilities.recv.videoCodecs=s;let d=this.localCapabilities.send,l=this.rtpCapabilities.recv,u=ac(Q.VIDEO,l,d,i);return c.forEach(h=>{let p=u.map(g=>g.payloadType.toString(10));_.debug(\"updateRemoteCodec mid: \".concat(h.attributes.mid,\", from \").concat(h.attributes.payloads,\" to \").concat(u)),h.attributes.payloads=u,h.media.fmts=p;}),!0}createOrRecycleSendMedia(e,n,i,r,o){let s=this.rtpCapabilities.send,a=e===Q.VIDEO?s.videoCodecs:s.audioCodecs,c=e===Q.VIDEO?s.videoExtensions:s.audioExtensions;this.currentMidIndex+=1;let d=\"\".concat(this.currentMidIndex),l={media:{mediaType:e,port:Fa,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:a.map(h=>h.payloadType.toString(10))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:n,ssrcGroups:i,rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:r,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(d)}};l=this.mungSendMediaDesc(l,o);let u=this.findFirstClosedMedia(e);if(u){let h=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[h]=l;}else this.sessionDesc.mediaDescriptions.push(l);return l}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter(e=>e.media.port!==\"0\").map(e=>e.attributes.mid);}mungRecvMediaDsec(e,n,i){let r=le(e);return If(r),ra(r,n),vf(r,n),r0(r),lu(r,i,this.localCapabilities.send),r}mungSendMediaDesc(e,n){let i=le(e);return lu(i,n,this.localCapabilities.recv),oa(i),i}updateRecvMedia(e,n){let i=this.sessionDesc.mediaDescriptions.findIndex(r=>r.attributes.mid===e);if(i!==-1){let r=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],n);this.sessionDesc.mediaDescriptions[i]=r;}}bumpMid(e){this.currentMidIndex+=e;}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find(n=>$t()?n.media.port===\"0\"&&n.media.mediaType===e:n.media.port===\"0\")}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find(n=>{var i;return ((i=n.attributes)===null||i===void 0||(i=i.ssrcs[0])===null||i===void 0?void 0:i.ssrcId)===e[0].ssrcId})}getSSRC(e){var n;return (n=this.sessionDesc.mediaDescriptions.find(i=>i.attributes.mid===e))===null||n===void 0?void 0:n.attributes.ssrcs}};function Fv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var dc=function(t){return t.BANDWIDTH=\"bandwidth\",t.CPU=\"cpu\",t.NONE=\"none\",t.OTHER=\"other\",t}({}),qs=function(t){return t[t.DOWN=0]=\"DOWN\",t[t.UP=1]=\"UP\",t}(qs||{}),mu=new Map;function Bv(t,e,n,i){let{scale:r}=t;if(r===0&&i===qs.UP||r>=e.length-1&&i===qs.DOWN)return t;let o=Ar(Ar({},t),{},{scale:i===qs.DOWN?++r:--r});switch(n){case\"maintain-framerate\":o=Ar(Ar({},o),e[r].motion);break;case\"maintain-resolution\":o=Ar(Ar({},o),e[r].detail);break;case\"balanced\":o=Ar(Ar({},o),e[r].balanced);}return o}function S0(t,e){if(e){let n={overUse:0,underUse:0,adaptationList:R0(e)};mu.set(t,n);}else mu.delete(t);}function R0(t){let e=Ar({},t),{bitrateMax:n,frameRate:i,scaleResolutionDownBy:r,bitrateMin:o}=e,{MIN_FRAME_RATE:s,MAX_THRESHOLD_FRAMERATE:a,MAX_SCALE:c,BITRATE_MIN_THRESHOLD:d,BITRATE_MAX_THRESHOLD:l,BWE_SCALE_UP_THRESHOLD:u,BWE_SCALE_DOWN_THRESHOLD:h,PERF_SCALE_DOWN_THRESHOLD:p,PERF_SCALE_UP_THRESHOLD:g,BALANCE_BITRATE_FACTOR:E,BALANCE_FRAMERATE_FACTOR:f,BALANCE_RESOLUTION_FACTOR:S,MOTION_RESOLUTION_FACTOR:C,MOTION_BITRATE_FACTOR:A,DETAIL_FRAMERATE_FACTOR:b,DETAIL_BITRATE_FACTOR:w}=_f,D=Math.min(e.frameRate,a),k=[{scale:0,threshold:{bwe_down:Math.round(Math.pow(h,1)*n),bwe_up:n,fps_down:Math.round(Math.pow(p,1)*D),fps_up:i},balanced:{scaleResolutionDownBy:1,frameRate:i,bitrateMax:n,bitrateMin:o},motion:{scaleResolutionDownBy:1,frameRate:i,bitrateMax:n,bitrateMin:o},detail:{scaleResolutionDownBy:1,frameRate:i,bitrateMax:n,bitrateMin:o}}];for(let B=1;B<=c;B++){let V={bwe_up:Math.round(Math.pow(u,B)*n),bwe_down:Math.round(Math.pow(h,B+1)*n),fps_up:Math.round(Math.pow(g,B)*D),fps_down:Math.round(Math.pow(p,B+1)*D)},z={scaleResolutionDownBy:r/Math.pow(S,B),frameRate:Math.max(Math.round(Math.pow(f,B)*i),s),bitrateMax:Math.max(Math.round(Math.pow(E,B)*n),l),bitrateMin:Math.max(Math.round(Math.pow(E,B)*o),d)},lt={scaleResolutionDownBy:r/Math.pow(C,B),frameRate:i,bitrateMax:Math.max(Math.round(Math.pow(A,B)*n),l),bitrateMin:Math.max(Math.round(Math.pow(A,B)*o),d)},vt={scaleResolutionDownBy:1,frameRate:Math.max(Math.round(Math.pow(b,B)*i),s),bitrateMax:Math.max(Math.round(Math.pow(w,B)*n),l),bitrateMin:Math.max(Math.round(Math.pow(w,B)*o),d)};k.push({scale:B,threshold:V,balanced:z,motion:lt,detail:vt});}return k}function pW(t,e,n,i,r,o){let s=mu.get(t)||{overUse:0,underUse:0,adaptationList:R0(r)},{adaptationList:a}=s;mu.set(t,s);let{OVERUSE_TIMES_THRESHOLD:c,UNDERUSE_TIMES_THRESHOLD:d}=_f,{scale:l}=i,u,h;return typeof e==\"number\"&&e>0&&function(p,g,E,f){if(g>=E.length)return !1;let{threshold:{fps_down:S}}=E[g];return v(\"FORCE_AG_HIGH_FRAMERATE\")&&f===\"maintain-framerate\"&&(S=E[0].threshold.fps_down),p<S}(e,l,a,o)&&(s.overUse++,h=dc.CPU,s.overUse>c)||typeof n==\"number\"&&n>0&&function(p,g,E){if(g>=E.length)return !1;let{threshold:{bwe_down:f}}=E[g];return p<f}(n,l,a)&&(s.overUse++,h=dc.BANDWIDTH,s.overUse>c)?(s.overUse=0,s.underUse=0,u=Bv(i,a,o,qs.DOWN),[u,h]):(typeof e==\"number\"&&e>0&&typeof n==\"number\"&&n>0&&function(p,g,E,f){if(g===0)return;let{threshold:{fps_up:S}}=E[g];return v(\"FORCE_AG_HIGH_FRAMERATE\")&&f===\"maintain-framerate\"&&(S=E[1].threshold.fps_up),p>S}(e,l,a,o)&&function(p,g,E){if(g===0)return;let{threshold:{bwe_up:f}}=E[g];return p>f}(n,l,a)&&(s.underUse++,s.underUse>d&&(s.overUse=0,s.underUse=0,u=Bv(i,a,o,qs.UP),u.scale===0&&(h=dc.NONE))),[u,h])}function jv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function m_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}function _W(t){var e;return !!v(\"ENABLE_AG_ADAPTATION\")&&!!(t instanceof XE||W(e=t._hints).call(e,Gt.CUSTOM_TRACK))&&(!!v(\"FORCE_SUPPORT_AG_ADAPTATION\")||!!(function(n){let i=mt();if(i.os!==ye.IOS||!i.osVersion)return !1;let r=i.osVersion.split(\".\");return Number(r[0])>=n}(14)&&fO(17,4)||mO(14)&&gO(17,4)))}var fu=new Map;function zd(t,e){let n=fu.get(t);if(n){let{timer:i}=n;window.clearTimeout(i),fu.delete(t);}e.qualityLimitationReason=dc.NONE,S0(t);}var pt;function Gv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var ki=(pt=class Qa extends Yl{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,n;return (e=(n=this.peerConnection.getReceivers()[0])===null||n===void 0||(n=n.transport)===null||n===void 0?void 0:n.state)!==null&&e!==void 0?e:null}get localCodecs(){return [...new Set(this.localCapabilities&&this.localCapabilities.send.videoCodecs.map(e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\").filter(e=>{var n;return W(n=Object.keys(Ju)).call(n,e)}))]}constructor(e,n){super(e,n),T(this,\"store\",void 0),T(this,\"peerConnection\",void 0),T(this,\"id\",Ut(5,\"connection-\")),T(this,\"remoteSDP\",void 0),T(this,\"initialOffer\",void 0),T(this,\"transportEventReceiver\",void 0),T(this,\"statsFilter\",void 0),T(this,\"extension\",{useXR:v(\"USE_XR\")}),T(this,\"localCapabilities\",void 0),T(this,\"remoteCodecs\",void 0),T(this,\"localCandidateCount\",0),T(this,\"allCandidatesReceived\",!1),T(this,\"isPreallocation\",!1),T(this,\"preSSRCMap\",new Map),T(this,\"dataStreamChannelMap\",new Map),T(this,\"establishPromise\",void 0),T(this,\"recoveredDataChannelIds\",[]),T(this,\"currentDataChannelId\",1),T(this,\"mutex\",new ze(\"P2PConnection-mutex\")),T(this,\"qualityLimitationReason\",dc.NONE),this.store=n,this.peerConnection=new RTCPeerConnection(Qa.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),this.statsFilter=Nf(this.peerConnection,v(\"STATS_UPDATE_INTERVAL\"),void 0,$t()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish();}getPreMedia(e){let n=this.preSSRCMap.get(e);if(n!==void 0){let i=this.peerConnection.getTransceivers().find(r=>r.mid===n);if(i)return {transceiver:i,track:i.receiver.track,id:n}}}async updateRemoteRTPCapabilities(e,n){if(this.remoteCodecs=n,!this.remoteSDP)return void _.debug(\"[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: \".concat(this.localCodecs,\", codecs: \").concat(n));if(this.remoteSDP.updateRemoteCodec(e,n,this.store.codec)){let i=await this.peerConnection.createOffer(),r=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(i);let o=this.remoteSDP.toString();r?.(o),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o});}else _.debug(\"[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.\");}async establish(){try{this.peerConnection.addTransceiver(\"video\",{direction:\"recvonly\"}),this.peerConnection.addTransceiver(\"audio\",{direction:\"recvonly\"});let e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");let n=io(e.sdp),i=await s0({filterRTX:!v(\"USE_PUB_RTX\")&&!v(\"USE_SUB_RTX\"),filterVideoFec:v(\"FILTER_VIDEO_FEC\"),filterAudioFec:v(\"FILTER_AUDIO_FEC\"),filterVideoCodec:v(\"FILTER_VIDEO_CODEC\")},this.extension);return this.localCapabilities=uu(i),this.initialOffer=e,Qi(Qi({},n),{},{rtpCapabilities:i,offerSDP:e.sdp})}catch(e){throw new N(R.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e){try{if(!this.initialOffer)throw new Error(\"Cannot establish P2PConnection without initial offer.\");this.remoteSDP=new um(Qi(Qi({},e),{},{localCapabilities:this.localCapabilities})),e.preallocation&&(this.isPreallocation=!0),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);let n=this.remoteSDP.toString(),i=a0(this.initialOffer.sdp,this.extension),r=this.logSDPExchange(i||\"\",\"offer\",\"local\",\"connect\");this.store.descriptionStart(),await this.peerConnection.setLocalDescription({type:\"offer\",sdp:i}),r?.(n),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:n});let o=this.peerConnection.getTransceivers()[0];if(o!=null&&o.receiver&&this.tryBindTransportEvents(o.receiver),v(\"PRELOAD_MEDIA_COUNT\")>0){this.remoteSDP.preloadRemoteMedia(v(\"PRELOAD_MEDIA_COUNT\"));let a=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:a});let c=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(c);}let{preSSRCs:s}=e;if(Array.isArray(s)&&s.length>0){let{mids:a}=this.remoteSDP.batchSend(s.map(c=>({kind:c.kind,ssrcMsg:[{ssrcId:c.ssrcId,rtx:c.rtx}],mslabel:c.mslabel})));a.forEach((c,d)=>{this.preSSRCMap.set(s[d].ssrcId,c);}),await Wd(this.peerConnection,this.remoteSDP,this.extension),_.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] pre-batchReceive exchange SDP.\"));}}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(n.toString()))}}async updateRemoteConnect(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateRemoteConnect before remote SDP created\");let{rtpCapabilities:n}=e;this.remoteSDP.updateRemoteRTPCapabilities(n),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);let{preSSRCs:i}=e;if(Array.isArray(i)&&i.length>0){let{mids:r}=this.remoteSDP.batchSend(i.map(o=>Object.assign({},{kind:o.kind,ssrcMsg:[{ssrcId:o.ssrcId,rtx:o.rtx}],mslabel:o.mslabel})));r.forEach((o,s)=>{this.preSSRCMap.set(i[s].ssrcId,o);});}await Wd(this.peerConnection,this.remoteSDP,this.extension),_.debug(\"[P2PConnection] updateRemoteRTPCapabilities by exchanging SDP.\");}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.updateRemoteConnect failed; \".concat(n.toString()))}}send(e,n,i){var r=this;return Bi(function*(){let o=yield Tt(r.mutex.lock(\"From P2PConnection.send\"));try{if(!r.remoteSDP)throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");let s=[];e.forEach(E=>{let f=r.peerConnection.addTransceiver(E._mediaStreamTrack,{direction:\"sendonly\"});s.push(f),E._updateRtpTransceiver(f);}),$t()&&v(\"SIMULCAST\")===!0&&(yield Tt(r.applySimulcastForFirefox(s,e)));let a=yield Tt(r.peerConnection.createOffer()),c=r.remoteSDP.predictReceivingMids(e.length),d=r.mungSendOfferSDP(a.sdp,e,c),l=Le.parse(d),u=c.map(E=>{let f=l.mediaDescriptions.find(S=>S.attributes.mid===E);if(!f)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return n0(f,v(\"USE_PUB_RTX\"))}),h;try{h=yield u;}catch(E){h=[],r.remoteSDP.receive(e,n,i,h);let f=r.remoteSDP.toString();throw yield Tt(r.peerConnection.setLocalDescription({type:\"offer\",sdp:d})),yield Tt(r.peerConnection.setRemoteDescription({type:\"answer\",sdp:f})),yield Tt(r.stopSending(c,!0)),E}r.remoteSDP.receive(e,n,i,h);let p=r.remoteSDP.toString(),g=r.logSDPExchange(d,\"offer\",\"local\",\"send\");return yield Tt(r.peerConnection.setLocalDescription({type:\"offer\",sdp:d})),yield Tt(r.applySimulcastEncodings(s,e)),yield Tt(r.applySendEncodings(s,e)),g?.(p),yield Tt(r.peerConnection.setRemoteDescription({type:\"answer\",sdp:p})),s.map((E,f)=>{let S=c[f];return {localSSRC:u[f],id:S,transceiver:E}})}catch(s){throw s instanceof N?s:new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(s.toString()))}finally{o();}})()}async createDataChannels(e,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.createDataChannels before remote SDP created\");let i=this.dataStreamChannelMap.get(e);if(i&&i.readyState===\"open\")_.debug(\"[P2PConnection] Channels are already available and can be reused directly.\");else {let o=this.currentDataChannelId<1023?this.currentDataChannelId++:this.recoveredDataChannelIds.shift();if(typeof o!=\"number\")throw new Error(\"create DataChannel error, because cannot get dc id\");i=this.peerConnection.createDataChannel(\"datastream-channel\",{id:o,negotiated:!0,ordered:!1,maxRetransmits:v(\"DATASTREAM_MAX_RETRANSMITS\")}),i.binaryType=\"arraybuffer\",this.dataStreamChannelMap.set(e,i);}n.forEach(o=>{o._updateOriginDataChannel(i);});let{needExchangeSDP:r}=this.remoteSDP.sendDataChannel();if(r){let o=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:o});let s=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(s),_.debug(\"[P2PConnection] createDataChannels by exchanging SDP.\");}else _.debug(\"[P2PConnection] createDataChannels no need to exchange SDP.\");return}catch(i){throw i instanceof N?i:new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.createDataChannels failed; \".concat(i.toString()))}}async stopDataChannels(e){try{let n=this.dataStreamChannelMap.get(e);return n&&(n.id&&this.recoveredDataChannelIds.push(n.id),n.close()),void this.dataStreamChannelMap.delete(e)}catch(n){throw n instanceof N?n:new N(R.DATACHANNEL_FAILED,\"P2PConnection.stopDataChannels failed; \".concat(n.toString()))}}async stopSending(e,n){let i=n?void 0:await this.mutex.lock(\"From P2PConnection.stopSending\");try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");let r=this.peerConnection.getTransceivers().filter(c=>e.indexOf(c.mid)!==-1);if(r.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.\");r.map(c=>{var d;zd(this.id+c.mid,this),c.direction=\"inactive\",(d=c.stop)===null||d===void 0||d.call(c);});let o=await this.peerConnection.createOffer(),s=this.logSDPExchange(o.sdp||\"\",\"offer\",\"local\",\"stopSending\");await this.peerConnection.setLocalDescription(o),this.remoteSDP.stopReceiving(e);let a=this.remoteSDP.toString();s?.(a),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:a});}catch(r){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(r.toString()))}finally{i&&i();}}async receive(e,n,i,r){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));let{mid:o,needExchangeSDP:s}=this.remoteSDP.send(e,n,i,r);s&&(await Wd(this.peerConnection,this.remoteSDP,this.extension),_.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" by exchanging SDP.\")));let a=this.peerConnection.getTransceivers().find(c=>c.mid===o);if(!a)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return {track:a.receiver.track,id:o,transceiver:a}}catch(o){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(o.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.batchReceive before remoteSDP created.\");let{mids:n,needExchangeSDP:i}=this.remoteSDP.batchSend(e);return i&&(await Wd(this.peerConnection,this.remoteSDP,this.extension),_.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] batchReceive by exchanging SDP.\"))),n.map(r=>{let o=this.peerConnection.getTransceivers().find(s=>s.mid===r);if(!o)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return {track:o.receiver.track,id:r,transceiver:o}})}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(n.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");e.forEach(o=>{Array.from(this.preSSRCMap.entries()).some(s=>{let[a,c]=s;if(c===o)return this.preSSRCMap.delete(a),!0});}),this.remoteSDP.stopSending(e);let n=this.remoteSDP.toString(),i=this.logSDPExchange(n,\"offer\",\"remote\",\"stopReceiving\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:n});let r=await this.peerConnection.createAnswer();i?.(r.sdp||\"\"),await this.peerConnection.setLocalDescription(r);}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(n.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.mute(e);let n=this.remoteSDP.toString(),i=this.logSDPExchange(n,\"offer\",\"remote\",\"muteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:n});let r=await this.peerConnection.createAnswer();i?.(r.sdp||\"\"),await this.peerConnection.setLocalDescription(r);}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.muteRemote failed; \".concat(n.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.unmute(e);let n=this.remoteSDP.toString(),i=this.logSDPExchange(n,\"offer\",\"remote\",\"unmuteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:n});let r=await this.peerConnection.createAnswer();i?.(r.sdp||\"\"),await this.peerConnection.setLocalDescription(r);}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteRemote failed; \".concat(n.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");let n=this.peerConnection.getTransceivers().filter(s=>s.mid&&e.indexOf(s.mid)!==-1);if(n.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");n.map(s=>{s.direction=\"inactive\";});let i=await this.peerConnection.createOffer(),r=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.muteRemote(e);let o=this.remoteSDP.toString();r?.(o),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o});}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.muteLocal failed; \".concat(n.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");let n=this.peerConnection.getTransceivers().filter(s=>s.mid&&e.indexOf(s.mid)!==-1);if(n.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");n.map(async(s,a)=>{s.direction=\"sendonly\";});let i=await this.peerConnection.createOffer(),r=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"unmuteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.unmuteRemote(e);let o=this.remoteSDP.toString();r?.(o),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o});}catch(n){throw new N(R.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteLocal failed; \".concat(n.toString()))}}restartICE(e){var n=this;return Bi(function*(){let i=yield Tt(n.mutex.lock(\"From P2PConnection.restartICE\"));try{if(!n.remoteSDP)throw new Error(\"Cannot restartICE before remoteSDP created.\");if(ft().supportPCSetConfiguration){let d=n.peerConnection.getConfiguration(),l=e===On.RELAY?\"relay\":\"all\";d.iceTransportPolicy!==l&&(_.debug(\"[\".concat(n.store.clientId,\"] restartICE change iceTransportPolicy from [\").concat(d.iceTransportPolicy,\"] to [\").concat(l,\"]\")),d.iceTransportPolicy=l,n.peerConnection.setConfiguration(d));}else if(e===On.RELAY)return;n.remoteSDP.updateCandidates(e);let r=yield Tt(n.peerConnection.createOffer({iceRestart:!0}));if(!r.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");let o=io(r.sdp),{remoteIceParameters:s}=yield o.iceParameters;n.remoteSDP.restartICE(s);let a=n.remoteSDP.toString(),c=n.logSDPExchange(r.sdp||\"\",\"offer\",\"local\",\"restartICE\");n.store.descriptionStart(),yield Tt(n.peerConnection.setLocalDescription(r)),c?.(a),yield Tt(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:a}));}catch(r){_.warning(\"[\".concat(n.store.clientId,\"] restart ICE failed, abort operation\"),r);}finally{i();}})()}close(){var e;this.peerConnection.getTransceivers().forEach(n=>{zd(this.id+n.mid,this);}),this.preSSRCMap.clear(),this.peerConnection.close(),(e=this.onConnectionStateChange)===null||e===void 0||e.call(this,\"closed\"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear(),this.recoveredDataChannelIds=[],this.currentDataChannelId=1;}getStats(){return Qi(Qi({},this.statsFilter.getStats()),{},{qualityLimitationReason:this.qualityLimitationReason})}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");let i=await this.peerConnection.createOffer(),r=this.mungSendOfferSDP(i.sdp,[n],[e]);this.remoteSDP.updateRecvMedia(e,n);let o=this.remoteSDP.toString(),s=this.logSDPExchange(r,\"offer\",\"local\",\"updateEncoderConfig\");await this.peerConnection.setLocalDescription({type:\"offer\",sdp:r}),s?.(o),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o});}catch(i){throw new N(R.EXCHANGE_SDP_FAILED,i.toString())}}async updateSendParameters(e,n){let i=this.peerConnection.getTransceivers().filter(r=>r.mid===e);i.length===1&&(this.isVP8Simulcast(n)?$t()||await this.applySimulcastEncodings(i,[n]):await this.applySendEncodings(i,[n]));}setStatsRemoteVideoIsReady(e,n){this.statsFilter.setVideoIsReady2(e,n);}async replaceTrack(e,n){let i=this.peerConnection.getTransceivers().find(r=>r.mid===n);i&&await i.sender.replaceTrack(e._mediaStreamTrack);}async getSelectedCandidatePair(){let e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){let n=e[0].transport.iceTransport,{local:i,remote:r}=n.getSelectedCandidatePair();return {local:Qi(Qi({},hr),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port}),remote:Qi(Qi({},hr),{},{candidateType:r.type,protocol:r.protocol,address:r.address,port:r.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;(e=this.onICEConnectionStateChange)===null||e===void 0||e.call(this,this.peerConnection.iceConnectionState);},this.peerConnection.onconnectionstatechange=()=>{var e;(e=this.onConnectionStateChange)===null||e===void 0||e.call(this,this.peerConnection.connectionState);},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,_.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount));},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,_.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount));},v(\"CANDIDATE_TIMEOUT\"));}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null;}static resolvePCConfiguration(e){let n={iceServers:[]};return e.iceServers?n.iceServers=e.iceServers:e.turnServer&&e.turnServer.mode!==\"off\"&&(Yu(e.turnServer.servers)?n.iceServers=e.turnServer.servers:(n.iceServers&&n.iceServers.push(...Qa.turnServerConfigToIceServers(e.turnServer.servers)),v(\"USE_TURN_SERVER_OF_GATEWAY\")&&n.iceServers&&e.turnServer.serversFromGateway&&n.iceServers.push(...Qa.turnServerConfigToIceServers(e.turnServer.serversFromGateway)),v(\"FORCE_TURN_TCP\")?n.iceTransportPolicy=\"relay\":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach(i=>{i.forceturn&&(n.iceTransportPolicy=\"relay\");}))),v(\"ENABLE_ENCODED_TRANSFORM\")&&ft().supportWebRTCEncodedTransform&&(n.encodedInsertableStreams=!0),n}static turnServerConfigToIceServers(e){let n=[];return e.forEach(i=>{i.security?i.tcpport&&n.push({username:i.username,credential:i.password,credentialType:\"password\",urls:\"turns:\".concat(Us(i.turnServerURL),\":\").concat(i.tcpport,\"?transport=tcp\")}):(i.udpport&&!v(\"FORCE_TURN_TCP\")&&n.push({username:i.username,credential:i.password,credentialType:\"password\",urls:\"turn:\".concat(i.turnServerURL,\":\").concat(i.udpport,\"?transport=udp\")}),i.tcpport&&n.push({username:i.username,credential:i.password,credentialType:\"password\",urls:\"turn:\".concat(i.turnServerURL,\":\").concat(i.tcpport,\"?transport=tcp\")}));}),n}tryBindTransportEvents(e){let n=e.transport;if(n){this.transportEventReceiver=e,n.onstatechange=()=>{var r;n!=null&&n.state&&((r=this.onDTLSTransportStateChange)===null||r===void 0||r.call(this,n.state));},n.onerror=r=>{var o;(o=this.onDTLSTransportError)===null||o===void 0||o.call(this,\"error\"in r?r.error:r);};let i=n.iceTransport;i&&(i.onstatechange=()=>{let r=n?.iceTransport.state;var o;r&&((o=this.onICETransportStateChange)===null||o===void 0||o.call(this,r));},i.getSelectedCandidatePair&&(i.onselectedcandidatepairchange=()=>{if(i.getSelectedCandidatePair()){let{local:r,remote:o}=i.getSelectedCandidatePair();_.info(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] selectedcandidatepairchange: local \").concat(JSON.stringify({candidateType:r.type,protocol:r.protocol}),\", remote \").concat(JSON.stringify({candidateType:o.type,protocol:o.protocol,address:o.address,port:o.port}),\" )\"));}}));}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null));}async updateRtpSenderEncodings(e,n){var i,r;if(n||(n=this.peerConnection.getSenders().find(f=>f.track===e._mediaStreamTrack)),!n)return _.warn(\"[\".concat(e.getTrackId(),\"] no rtpSender found}\"));if(this.isVP8Simulcast(e))return _.warn(\"[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings\");if(!ft().supportSetRtpSenderParameters)return _.warn(\"[updateRtpSenderEncodings] Browser not support set rtp-sender parameters\");let o={},s={};switch(e._optimizationMode){case\"motion\":o.degradationPreference=\"maintain-framerate\";break;case\"detail\":o.degradationPreference=\"maintain-resolution\";break;case\"balanced\":o.degradationPreference=\"balanced\";}let a=function(E,f){return E.getTransceivers().find(S=>S.sender.track===f||S.receiver.track===f)}(this.peerConnection,e._mediaStreamTrack),c=xG(e);if(_W(e)&&a&&n&&c&&this.getLocalVideoStats&&W(i=[\"vp8\",\"vp9\"]).call(i,this.store.codec)){var d;let E=o.degradationPreference||(W(d=e._hints).call(d,Gt.CUSTOM_TRACK)?v(\"CUSTOM_ADAPTATION_DEFAULT_MODE\"):\"maintain-framerate\");(function(f,S,C,A,b,w){if(zd(f,C),b(S),A!==\"balanced\"&&A!==\"maintain-framerate\"&&A!==\"maintain-resolution\")return;let D=-1;S0(f,S);let k=window.setInterval(()=>{let V=fu.get(f);if(!v(\"ENABLE_AG_ADAPTATION\")||!V)return zd(f,C),void b(S);let z=w();if(z.sendPackets>0&&z.OutgoingAvailableBandwidth>0){if(D===-1)return void(D=Date.now());if(Date.now()-D<1e3)return;let lt=z.sendFrameRate,vt=z.OutgoingAvailableBandwidth,[Dt,ce]=pW(f,lt,vt,V.adaptationConfig,S,A);ce&&(C.qualityLimitationReason=ce),Dt&&V.adaptationConfig.scale!==Dt.scale&&(_.debug(\"[\".concat(f,\"] applyAdaptation: \").concat(C.qualityLimitationReason,`\n           sendFps `).concat(lt,\", bwe \").concat(vt,\", switch from \").concat(V.adaptationConfig.scale,\" to \").concat(Dt.scale,\" \")),V.adaptationConfig=m_(m_({},V.adaptationConfig),Dt),b(Dt));}},v(\"CHECK_LOCAL_STATS_INTERVAL\")),B=m_({},S);fu.set(f,{timer:k,adaptationConfig:B,originConfig:S,adaptationFunc:b}),_.debug(\"[\".concat(f,\"] start adaptation, originConfig: \").concat(JSON.stringify(S),\", degradationPreference: \").concat(A));})(this.id+a.mid,c,this,E,f=>{n&&this.updateAdaptation(n,f);},this.getLocalVideoStats.bind(this));}if(e._encoderConfig){var l;let{bitrateMax:E,frameRate:f,scaleResolutionDownBy:S}=e._encoderConfig;E&&(s.maxBitrate=1e3*E),(W(l=e._hints).call(l,Gt.LOW_STREAM)||e.isUseScaleResolutionDownBy)&&(f&&(s.maxFramerate=Nn(f)),S&&S>=1&&(s.scaleResolutionDownBy=S));}let{maxFramerate:u}=v(\"ENCODER_CONFIG_LIMIT\");if(u&&typeof u==\"number\"&&(s.maxFramerate=s.maxFramerate?Math.min(s.maxFramerate,u):u),v(\"DSCP_TYPE\")&&ho()){var h;let E=v(\"DSCP_TYPE\");W(h=[\"very-low\",\"low\",\"medium\",\"high\"]).call(h,E)&&(s.networkPriority=E);}let p=n.getParameters(),g=(r=p.encodings)===null||r===void 0?void 0:r[0];$t()&&!g&&(o.encodings=[s]),g&&Object.assign(g,s),Object.assign(p,o),_.debug(\"[\".concat(e.getTrackId(),\"] updateRtpSenderEncodings: \").concat(JSON.stringify(p.encodings))),await n.setParameters(p),await async function(E,f,S){try{var C;if(!ft().supportSetRtpSenderParameters||!function(k){return k===\"vp9\"}(E)||!v(\"ENABLE_SVC\"))return;let A={},b={},w=f.getParameters(),D=(C=w.encodings)===null||C===void 0?void 0:C[0];b.scalabilityMode=$E(S),D&&Object.assign(D,b),Object.assign(w,A),await f.setParameters(w),_.debug(\"[updateAdaptation] updateRtpSenderEncodings scalabilityMode success: \".concat(JSON.stringify(w.encodings)));}catch(A){_.debug(\"[updateAdaptation] updateRtpSenderEncodings scalabilityMode failed\",A);}}(this.store.codec,n,v(\"SVC_MODE\"));}async updateAdaptation(e,n){var i,r;if(!e)return _.debug(\"[updateAdaptation] no rtpSender found\");if(!ft().supportSetRtpSenderParameters)return _.debug(\"[updateAdaptation] Browser not support set rtp-sender parameters\");let o={},{bitrateMax:s,frameRate:a,scaleResolutionDownBy:c}=n;s&&(o.maxBitrate=1e3*s),a&&(o.maxFramerate=Nn(a)),c&&c>=1&&W(i=[\"vp8\",\"vp9\"]).call(i,this.store.codec)&&(o.scaleResolutionDownBy=c);let d=e.getParameters(),l=(r=d.encodings)===null||r===void 0?void 0:r[0];l&&Object.assign(l,o),Object.assign(d,{});try{await e.setParameters(d),_.debug(\"[updateAdaptation] updateRtpSenderEncodings: \".concat(JSON.stringify(d.encodings)));}catch(u){!(\"transport\"in e)||e.transport&&e.transport.state===\"connected\"?this.peerConnectionState!==\"connected\"?_.debug(\"[updateAdaptation] peerConnection not connected}\"):_.debug(\"[updateAdaptation] updateRtpSenderEncodings failed\",u):_.debug(\"[updateAdaptation] rtpSender transport not connected}\");}}async applySendEncodings(e,n){try{if(!ft().supportSetRtpSenderParameters||e.length!==n.length)return;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];o instanceof Ft&&!this.isVP8Simulcast(o)&&await this.updateRtpSenderEncodings(o,r.sender);}}catch{_.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"));}}mungSendOfferSDP(e,n,i){let r=Le.parse(e);return n.forEach((o,s)=>{let a=i[s],c=r.mediaDescriptions.find(d=>d.attributes.mid===a);c&&(ra(c,o),o0(c,o,this.store.codec));}),Le.print(r)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var n;(n=this.onFirstAudioReceived)===null||n===void 0||n.call(this,e);},this.statsFilter.onFirstVideoReceived=e=>{var n;(n=this.onFirstVideoReceived)===null||n===void 0||n.call(this,e);},this.statsFilter.onFirstAudioDecoded=e=>{var n;(n=this.onFirstAudioDecoded)===null||n===void 0||n.call(this,e);},this.statsFilter.onFirstVideoDecoded=(e,n,i)=>{var r;(r=this.onFirstVideoDecoded)===null||r===void 0||r.call(this,e,n,i);},this.statsFilter.onSelectedLocalCandidateChanged=(e,n)=>{var i;(i=this.onSelectedLocalCandidateChanged)===null||i===void 0||i.call(this,e,n);},this.statsFilter.onSelectedRemoteCandidateChanged=(e,n)=>{var i;(i=this.onSelectedRemoteCandidateChanged)===null||i===void 0||i.call(this,e,n);},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var n;(n=this.onFirstVideoDecodedTimeout)===null||n===void 0||n.call(this,e);};}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0;}async applySimulcastForFirefox(e,n){if(e.length===n.length)for(let c=0;c<e.length;c++){var i,r,o,s,a;let d=e[c],l=n[c];if(l instanceof Ft&&!W(i=l._hints).call(i,Gt.LOW_STREAM)&&(r=l._encoderConfig)!==null&&r!==void 0&&r.bitrateMax&&((o=l._encoderConfig)===null||o===void 0?void 0:o.bitrateMax)>200&&(s=l._scalabilityMode)!==null&&s!==void 0&&s.numSpatialLayers&&((a=l._scalabilityMode)===null||a===void 0?void 0:a.numSpatialLayers)>1&&this.store.codec===\"vp8\"){let u={},h={high:1e3*(l._encoderConfig.bitrateMax-50),medium:5e4};u.encodings=[{rid:\"m\",active:!0,maxBitrate:h.medium,scaleResolutionDownBy:4},{rid:\"h\",active:!0,maxBitrate:h.high}];let p=d.sender.getParameters();await d.sender.setParameters(Object.assign(p,u));}}}async applySimulcastEncodings(e,n){if(!$t()&&e.length===n.length)for(let i=0;i<e.length;i++){let r=n[i];if(r instanceof Ft&&this.isVP8Simulcast(r)){let o=e[i],s={},a={high:1e3*(r._encoderConfig.bitrateMax-50),medium:5e4};s.encodings=[{active:!0,adaptivePtime:!1,networkPriority:\"high\",priority:\"high\",maxBitrate:a.high},{active:!0,adaptivePtime:!1,networkPriority:\"low\",priority:\"low\",maxBitrate:a.medium,scaleResolutionDownBy:4}];let c=o.sender.getParameters();await o.sender.setParameters(Object.assign(c,s));}}}isVP8Simulcast(e){var n,i,r,o,s;return !!(e instanceof Ft&&v(\"SIMULCAST\")&&this.store.codec===\"vp8\"&&!W(n=e._hints).call(n,Gt.LOW_STREAM)&&(i=e._encoderConfig)!==null&&i!==void 0&&i.bitrateMax&&((r=e._encoderConfig)===null||r===void 0?void 0:r.bitrateMax)>200&&(o=e._scalabilityMode)!==null&&o!==void 0&&o.numSpatialLayers&&((s=e._scalabilityMode)===null||s===void 0?void 0:s.numSpatialLayers)>1)}logSDPExchange(e,n,i,r){if(v(\"SDP_LOGGING\"))return _.upload(\"[\".concat(this.store.clientId,\"] exchanging \").concat(i,\" \").concat(n,\" SDP during P2PConnection.\").concat(r,`\n`),e),n===\"offer\"?o=>{this.logSDPExchange(o,\"answer\",i===\"local\"?\"remote\":\"local\",r);}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;let n=this.remoteSDP.getSSRC(e);return n&&n.length!==0?n[0].ssrcId:void 0}setConfiguration(e){if(ft().supportPCSetConfiguration){let n=Qa.resolvePCConfiguration(e);this.peerConnection.setConfiguration(n);}}},q(pt.prototype,\"updateRemoteRTPCapabilities\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"updateRemoteRTPCapabilities\"),pt.prototype),q(pt.prototype,\"connect\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"connect\"),pt.prototype),q(pt.prototype,\"updateRemoteConnect\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"updateRemoteConnect\"),pt.prototype),q(pt.prototype,\"createDataChannels\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"createDataChannels\"),pt.prototype),q(pt.prototype,\"receive\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"receive\"),pt.prototype),q(pt.prototype,\"batchReceive\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"batchReceive\"),pt.prototype),q(pt.prototype,\"stopReceiving\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"stopReceiving\"),pt.prototype),q(pt.prototype,\"muteRemote\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"muteRemote\"),pt.prototype),q(pt.prototype,\"unmuteRemote\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"unmuteRemote\"),pt.prototype),q(pt.prototype,\"muteLocal\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"muteLocal\"),pt.prototype),q(pt.prototype,\"unmuteLocal\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"unmuteLocal\"),pt.prototype),q(pt.prototype,\"close\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"close\"),pt.prototype),q(pt.prototype,\"updateEncoderConfig\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"updateEncoderConfig\"),pt.prototype),q(pt.prototype,\"updateSendParameters\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"updateSendParameters\"),pt.prototype),q(pt.prototype,\"replaceTrack\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"replaceTrack\"),pt.prototype),q(pt.prototype,\"updateAdaptation\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"updateAdaptation\"),pt.prototype),q(pt.prototype,\"getRemoteSSRC\",[pn],Object.getOwnPropertyDescriptor(pt.prototype,\"getRemoteSSRC\"),pt.prototype),pt);function pn(t,e,n){let i=t[e];if(typeof i!=\"function\")throw new Error(\"Cannot use mutex on object property.\");return n.value=async function(){let r=this.mutex,o=await r.lock(\"From P2PConnection.\".concat(e));try{for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return await i.apply(this,a)}finally{o();}},n}var at;function Wv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}function Hv(t){var e,n,i,r=2;for(typeof Symbol<\"u\"&&(n=hW,i=Symbol.iterator);r--;){if(n&&(e=t[n])!=null)return e.call(t);if(i&&(e=t[i])!=null)return new bl(e.call(t));n=\"@@asyncIterator\",i=\"@@iterator\";}throw new TypeError(\"Object is not async iterable\")}function bl(t){function e(n){if(Object(n)!==n)return j.reject(new TypeError(n+\" is not an object.\"));var i=n.done;return j.resolve(n.value).then(function(r){return {value:r,done:i}})}return bl=function(n){this.s=n,this.n=n.next;},bl.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(n){var i=this.s.return;return i===void 0?j.resolve({value:n,done:!0}):e(i.apply(this.s,arguments))},throw:function(n){var i=this.s.return;return i===void 0?j.reject(n):e(i.apply(this.s,arguments))}},new bl(t)}var Jd=(at=class extends Xt{get state(){return this._state}set state(t){let e=this._state;this._state=t,this.emit(tt.StateChange,e,this._state);}constructor(t,e){super(),T(this,\"isPlanB\",void 0),T(this,\"store\",void 0),T(this,\"statsUploader\",void 0),T(this,\"connection\",void 0),T(this,\"localTrackMap\",new Map),T(this,\"remoteUserMap\",new Map),T(this,\"localDataChannels\",[]),T(this,\"remoteDataChannelMap\",new Map),T(this,\"pendingLocalTracks\",[]),T(this,\"pendingRemoteTracks\",[]),T(this,\"pendingLocalDataChannels\",[]),T(this,\"pendingRemoteDataChannels\",[]),T(this,\"statsCollector\",void 0),T(this,\"shouldForwardP2PCreation\",void 0),T(this,\"iceFailedCount\",0),T(this,\"dtlsFailedCount\",0),T(this,\"mutex\",new ze(\"P2PChannel-mutex\")),T(this,\"_state\",Rt.Disconnected),T(this,\"_pcStatsUploadType\",v(\"NEW_ICE_RESTART\")?Tr.FIRST_CONNECTION:Tr.OLD_FIRST_CONNECTION),T(this,\"_isInRestartIce\",!1),T(this,\"_isStartRestartIce\",!1),T(this,\"_restartStates\",[\"disconnected\",\"failed\"]),T(this,\"_restartTimer\",void 0),T(this,\"_isFirstConnected\",!0),T(this,\"handleMuteLocalTrack\",async(n,i,r)=>{let o=await this.mutex.lock(\"Locking from P2PChannel.handleMuteLocalTrack\");try{if(!this.connection||this.state!==Rt.Connected)return void r(new N(R.INVALID_OPERATION,\"Cannot call P2PChannel.handleMuteLocalTrack before connection established.\"));let s=this.filterTobeMutedTracks(n);if(s.length===0)return void i();let a=s.find(d=>d[0]===\"videoLowTrack\");a&&a[1].track._originMediaStreamTrack.stop(),await this.connection.muteLocal(s.map(d=>{let[,{id:l}]=d;return l}));let c=this.createMuteMessage(s);await kt(this,tt.RequestMuteLocal,c),i();}catch(s){r(s);}finally{o();}}),T(this,\"handleUnmuteLocalTrack\",async(n,i,r)=>{let o=await this.mutex.lock(\"Locking from P2PChannel.handleUnmuteLocalTrack\");try{if(!this.connection||this.state!==Rt.Connected)return void r(new N(R.INVALID_OPERATION,\"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established.\"));let s=this.filterTobeUnmutedTracks(n);if(s.length===0)return void i();let a=s.find(d=>d[0]===\"videoLowTrack\");if(a){let d=a[1];if(d.track._originMediaStreamTrack.stop(),!v(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&ft().supportDualStreamEncoding){let l=n._mediaStreamTrack.clone();d.track._mediaStreamTrack=l,d.track._originMediaStreamTrack=l;}else {let l=dm(n,Ac(this,tt.RequestLowStreamParameter));d.track._mediaStreamTrack=l,d.track._originMediaStreamTrack=l;}await new j((l,u)=>{this.handleReplaceTrack(d.track,l,u,!0);});}await this.connection.unmuteLocal(s.map(d=>{let[,{id:l}]=d;return l}));let c=this.createUnmuteMessage(s);await kt(this,tt.RequestUnmuteLocal,c),i();}catch(s){r(s);}finally{o();}}),T(this,\"handleUpdateVideoEncoder\",async(n,i,r)=>{let o=await this.mutex.lock(\"Locking from P2PChannel.handleSetVideoEncoder\");try{let s=this.localTrackMap.get(U.LocalVideoTrack);if(!this.connection||!s||s.track!==n||this.state!==Rt.Connected)return void i();let{id:a,track:c}=s;await this.connection.updateSendParameters(a,c),await this.connection.updateEncoderConfig(a,c),this.emit(tt.UpdateVideoEncoder,c),i();}catch(s){r(s);}finally{o();}}),T(this,\"handleUpdateVideoSendParameters\",async(n,i,r)=>{let o=await this.mutex.lock(\"Locking from P2PChannel.handleUpdateVideoSendParameters\");try{let s=this.localTrackMap.get(U.LocalVideoTrack);if(!this.connection||!s||s.track!==n||this.state!==Rt.Connected)return void i();let{id:a,track:c}=s;await this.connection.updateSendParameters(a,c),i();}catch(s){r(s);}finally{o();}}),T(this,\"handleReplaceMixingTrack\",async(n,i,r,o)=>{if(!this.connection||this.state!==Rt.Connected)return void i();let s=E_([n]),a;_.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection will replace audioTrack [\").concat(s.getTrackId(),\"]\")),typeof o==\"boolean\"&&o||(a=await this.mutex.lock(\"From P2PChannel.handleReplaceMixingTrack\"));try{await this.replaceTrack(n,s),i();}catch(d){r(d);}finally{var c;(c=a)===null||c===void 0||c();}}),T(this,\"handleReplaceTrack\",async(n,i,r,o)=>{let s;_.debug(\"[\".concat(this.store.clientId,\"] P2PChannel handleReplaceTrack for [track-id-\").concat(n.getTrackId(),\"]\")),typeof o==\"boolean\"&&o||(s=await this.mutex.lock(\"From P2PChannel.handleReplaceTrack\"));try{var a;let d=Array.from(this.localTrackMap.entries()).find(l=>{let[,{track:u}]=l;return n===u});if(!this.connection||!d||this.state!==Rt.Connected)return void i();if(await((a=this.connection)===null||a===void 0?void 0:a.replaceTrack(n,d[1].id)),this.isPlanB){let l=d[1];l.id=n._mediaStreamTrack.id,this.localTrackMap.set(d[0],l);}if(d[0]===U.LocalVideoTrack&&!v(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&ft().supportDualStreamEncoding){let l=this.localTrackMap.get(U.LocalVideoLowTrack);if(l){let u=n._mediaStreamTrack.clone();l.track._originMediaStreamTrack.stop(),l.track._mediaStreamTrack=u,l.track._originMediaStreamTrack=u,await new j((h,p)=>{this.handleReplaceTrack(l.track,h,p,!0);});}}i();}catch(d){r(d);}finally{var c;(c=s)===null||c===void 0||c();}}),T(this,\"handleGetRTCStats\",n=>{n(this.statsCollector.getRTCStats());}),T(this,\"handleGetLocalVideoStats\",n=>{n(this.statsCollector.getLocalVideoTrackStats());}),T(this,\"handleGetLocalAudioStats\",n=>{n(this.statsCollector.getLocalAudioTrackStats());}),T(this,\"handleGetRemoteVideoStats\",n=>this.statsCollector.getRemoteVideoTrackStats(n.uid)[n.uid]),T(this,\"handleGetRemoteAudioStats\",n=>this.statsCollector.getRemoteAudioTrackStats(n.uid)[n.uid]),this.store=t,this.statsCollector=e,this.statsCollector.addP2PChannel(this),this.statsUploader=new pu(this.store),this.bindStatsUploaderEvents(),this.isPlanB=!ft().supportUnifiedPlan||v(\"CHROME_FORCE_PLAN_B\")&&ho(),this.shouldForwardP2PCreation=v(\"FORWARD_P2P_CREATION\")&&ft().supportPCSetConfiguration&&lf(),this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new Va({},this.store):new ki({},this.store),this.bindConnectionEvents(this.connection));}async startP2PConnection(t){var e;this.state=Rt.New;let n=this.shouldForwardP2PCreation&&((e=this.connection)===null||e===void 0?void 0:e.peerConnectionState)===\"closed\";if(this.shouldForwardP2PCreation&&!n||(n&&this.connection&&(_.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.startP2PConnection ForwardP2P closed.\")),this.connection.close(),this.unbindConnectionEvents(this.connection)),this.connection=this.isPlanB?new Va(t,this.store):new ki(t,this.store),this.bindConnectionEvents(this.connection)),!this.connection)throw new N(R.UNEXPECTED_ERROR,\"Cannot P2PChannel.startConnection before P2PConnection initialization .\");return this._pcStatsUploadType=v(\"NEW_ICE_RESTART\")?Tr.FIRST_CONNECTION:Tr.OLD_FIRST_CONNECTION,this._isFirstConnected=!0,this._isInRestartIce=!1,this._isStartRestartIce=!1,this.connection.setConfiguration(t),this.connection.establishPromise}async connect(t){if(!this.connection)throw new N(R.UNEXPECTED_ERROR,\"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .\");v(\"ENABLE_PREALLOC_PC\")&&this.state===Rt.Connected?await this.connection.updateRemoteConnect(t):(this.store.peerConnectionStart(),await this.connection.connect(t),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=Rt.Connected);}updateRemoteRTPCapabilities(t){let e=Array.from(this.localTrackMap.entries()).filter(r=>{var o;let[s]=r;return W(o=[U.LocalVideoLowTrack,U.LocalVideoTrack]).call(o,s)}),n=e.map(r=>{let[,{id:o}]=r;return o}),i=e.map(r=>{let[o]=r;return o});if(this.connection instanceof ki){if(X.updateRemoteRTPCapabilities(this.store.sessionId,{trackTypes:JSON.stringify(i),localCodecs:JSON.stringify(this.connection.localCodecs),remoteCodecs:JSON.stringify(t)}),!W(t).call(t,this.store.codec)){let r=[\"vp9\",\"vp8\",\"h264\"].find(o=>W(t).call(t,o));r&&(this.store.codec=r,_.debug(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\" updateRemoteRTPCapabilities] default codec is not available, hence the fallback to \").concat(r,\".\")));}this.connection.updateRemoteRTPCapabilities(n,t);}}async getEstablishParams(){var t;if(this.connection instanceof ki&&this.connection.peerConnectionState!==\"closed\"&&W(t=[Rt.New,Rt.Connected]).call(t,this.state))return this.connection.establishPromise}async publishDataChannel(t){if(!this.connection||this.state!==Rt.Connected){if(this.state===Rt.Disconnected)throw new N(R.UNEXPECTED_ERROR,\"PeerConnection already disconnected.\");return t.forEach(n=>{var i;W(i=this.pendingLocalDataChannels).call(i,n)||this.pendingLocalDataChannels.push(n);}),[]}let e=this.filterTobePublishedDataChannels(t);return e.length===0?[]:(e.forEach(n=>{let i=Date.now();this.store.publish(n.id.toString(),\"datachannel\",i);}),await this.connection.createDataChannels(this.store.uid,e),e.forEach(n=>{this.localDataChannels.push(n);let i=Date.now();this.store.publish(n.id+\"\",\"datachannel\",void 0,i);}),t.map(n=>({streamId:n.id,ordered:n.ordered,maxRetransmits:n.maxRetransmits,metadata:n.metadata,channelId:n._originDataChannelId})))}publish(t,e,n){var i=this;return Bi(function*(){let r=yield Tt(i.mutex.lock(\"From P2PChannel.publish\"));try{if(!i.connection||i.state!==Rt.Connected){if(i.state===Rt.Disconnected)throw new N(R.UNEXPECTED_ERROR,\"PeerConnection already disconnected.\");i.throwIfTrackTypeNotMatch(t);let s=t.filter(a=>i.pendingLocalTracks.indexOf(a)===-1);return void(i.pendingLocalTracks=i.pendingLocalTracks.concat(s))}i.store.pubId=i.store.pubId+1,qe.markPublishStart(i.store.clientId,i.store.pubId);let o=i.filterTobePublishedTracks(t,e,n);if(o.length===0)return void(yield Tt(i.tryToUnmuteAudio(t)));yield*kv(Hv(i.doPublish(i.connection,o)));}finally{r();}})()}doPublish(t,e){var n=this;return Bi(function*(){e.forEach(u=>{let{track:h,type:p}=u,g=Date.now();n.store.publish(h.getTrackId(),p===U.LocalAudioTrack?\"audio\":\"video\",g);}),n.bindLocalTrackEvents(e);let i=e.map(u=>{let{track:h}=u;return h}),r=yield Tt(t.send(e.map(u=>{let{track:h}=u;return h}),n.store.codec,n.store.audioCodec)),o=(yield Tt(r.next())).value,s=n.createGatewayPublishMessage(e,o),a;try{a=yield s;}catch(u){throw r.throw(u),u?.code===R.WS_ABORT&&e.forEach(h=>{let{track:p}=h;n.pendingLocalTracks.indexOf(p)===-1&&n.pendingLocalTracks.push(p);}),n.unbindLocalTrackEvents(e),u}let c=n.mapPubResToRemoteConfig(s,a),d=(yield Tt(r.next(c))).value,l=v(\"ENABLE_VIDEO_SEI\");i.forEach(async u=>{let h=u.getRTCRtpTransceiver();h&&l&&(u.trackMediaType===Q.VIDEO?await BG(h.sender,u):u.trackMediaType===Q.AUDIO&&await async function(p){if(!ft().supportWebRTCEncodedTransform)return void _.warning(\"browser not support audio encoded transform\");if(Bd.has(p)||!p.track)return;let g={track:p.track};if(oo()){if(!p.createEncodedStreams)return void _.warning(\"browser not support createEncodedStreams() API\");let f=null;try{f=p.createEncodedStreams();}catch(C){return void _.error(\"create audio-encoded-streams error\",C&&C.message)}let S=new TransformStream({transform(C,A){g.controller||(g.controller=A),p.track&&p.track.id!==g.track.id&&(_.debug(\"audio track changed: \".concat(g.track.id,\" => \").concat(p.track.id)),g.track.removeEventListener(\"ended\",E),g.track=p.track,g.track.addEventListener(\"ended\",E)),A.enqueue(C);}});f.readable.pipeThrough(S).pipeTo(f.writable);}else if(je()){if(typeof RTCRtpScriptTransform>\"u\")return void _.warning(\"browser not support RTCRtpScriptTransform\");let f=vl(),S=new MessageChannel;await new j(A=>f.onmessage=b=>{b.data===\"registered\"&&A(void 0);});let C=new RTCRtpScriptTransform(f,{name:\"tx\",port:S.port2},[S.port2]);p.transform=C,await new j(A=>f.onmessage=b=>{b.data===\"started\"&&A(void 0);}),S.port1.onmessage=A=>{var b;A.data.transformed&&p.track&&((b=p.track)===null||b===void 0?void 0:b.id)!==g.track.id&&(_.debug(\"audio track changed: \".concat(g.track.id,\" => \").concat(p.track.id)),g.track.removeEventListener(\"ended\",E),g.track=p.track,g.track.addEventListener(\"ended\",E));},g.worker=f;}function E(){if(p.track){if(this.id!==p.track.id)return;p.track.removeEventListener(\"ended\",E);}let f=Bd.get(p);if(f){Bd.delete(p);try{var S,C;(S=f.controller)===null||S===void 0||S.terminate(),(C=f.worker)===null||C===void 0||C.terminate();}catch(A){_.warning(A&&A.message);}}}Bd.set(p,g),p.track.addEventListener(\"ended\",E);}(h.sender));}),e.forEach(u=>{let{type:h}=u;n.statsCollector.addLocalStats(h);}),n.assignLocalTracks(e,d),n.statsUploader.startUploadOutboundStats(),e.forEach(u=>{let{track:h,type:p}=u,g=Date.now();n.store.publish(h.getTrackId(),p===U.LocalAudioTrack?\"audio\":\"video\",void 0,g);});})()}async updateVideoStreamParameter(t,e){let n=this.localTrackMap.get(e);if(!n)return;if(!(n.track instanceof Ft))return _.warn(\"[updateVideoStreamParameter]: track is not an instance of LocalVideoTrack\");if(!(this.connection instanceof ki||this.connection instanceof Va))return _.warn(\"[updateVideoStreamParameter]: connection is not P2PConnection or P2PConnectionPlanB\");let{track:i}=n,r=function(o,s){let a={};return o.height&&o.width&&(a.scaleResolutionDownBy=GE(o,s)),a.maxFramerate=o.framerate?Nn(o.framerate):void 0,a.maxBitrate=o.bitrate?1e3*o.bitrate:void 0,a}(t,i);if(i._encoderConfig||(i._encoderConfig={}),e!==U.LocalVideoLowTrack||!v(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&ft().supportDualStreamEncoding)r.scaleResolutionDownBy!=null&&(i._encoderConfig.scaleResolutionDownBy=r.scaleResolutionDownBy);else {let o=i._originMediaStreamTrack;if(!o.canvas)return _.warn(\"[\".concat(i.getTrackId(),\"] no canvas on track\"));(function(s,a){let c=s.canvas;a.width&&(c.width=Nn(a.width)),a.height&&(c.height=Nn(a.height)),a.framerate&&(c.stopCapture&&c.stopCapture(),c.stopCapture=Rf(()=>{!c.startCapture&&c.stopCapture&&c.stopCapture(),c.startCapture&&c.startCapture();},Nn(a.framerate)));})(o,t);}r.maxBitrate!=null&&(i._encoderConfig.bitrateMax=r.maxBitrate/1e3),r.maxFramerate!=null&&(i._encoderConfig.frameRate&&typeof i._encoderConfig.frameRate==\"object\"?i._encoderConfig.frameRate.max=r.maxFramerate:i._encoderConfig.frameRate={max:r.maxFramerate}),_.debug(\"[\".concat(i.getTrackId(),\"] LowStreamEncoderConfig: , \").concat(JSON.stringify(i._encoderConfig))),await this.connection.updateRtpSenderEncodings(i);}publishLowStream(t){var e=this;return Bi(function*(){if(!e.connection||e.state!==Rt.Connected)return;let n=yield Tt(e.mutex.lock(\"Locking from P2PChannel.publishLowStream\"));try{let r=e.localTrackMap.get(U.LocalVideoTrack);if(!r)throw new N(R.UNEXPECTED_ERROR,\"Could not find high stream\");if(e.localTrackMap.has(U.LocalVideoLowTrack))throw new N(R.UNEXPECTED_ERROR,\"[\".concat(e.store.clientId,\"] Can't publish low stream when stream already publish\"));let o=[{track:e.getLowVideoTrack(r.track,t),type:U.LocalVideoLowTrack}];if(yield*kv(Hv(e.doPublish(e.connection,o))),r.track.muted||!r.track.enabled){var i;let s=(i=e.localTrackMap.get(U.LocalVideoLowTrack))===null||i===void 0?void 0:i.id;s!==void 0&&(yield Tt(e.connection.muteLocal([s])));}}finally{n();}})()}async republish(){this.pendingLocalTracks.length>0&&(_.debug(\"[\".concat(this.store.clientId,\"] Emit P2PChannelEvents.RequestRePublish to republish tracks.\")),await Ge(this,tt.RequestRePublish,this.pendingLocalTracks),this.emit(tt.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[]),this.pendingLocalDataChannels.length>0&&(_.debug(\"Emit P2PChannelEvents.RequestRePublishDataChannel to republish datachannels.\"),await Ge(this,tt.RequestRePublishDataChannel,this.pendingLocalDataChannels),this.pendingLocalDataChannels=[]);}async reSubscribe(t){for(let e=this.pendingRemoteTracks.length-1;e>=0;e--){let{user:n,kind:i}=this.pendingRemoteTracks[e];(i!==Q.AUDIO||n._audio_added_&&n._audioSSRC)&&(i!==Q.VIDEO||n._video_added_&&n._videoSSRC)||this.pendingRemoteTracks.splice(e,1);}if(t)await Ge(this,tt.RequestReSubscribe,this.pendingRemoteTracks);else for(let{user:e,kind:n}of this.pendingRemoteTracks)await this.subscribe(e,n,n===Q.VIDEO?e._videoSSRC:e._audioSSRC);this.pendingRemoteTracks.forEach(e=>{let{user:n}=e;this.emit(tt.MediaReconnectEnd,n.uid);}),this.pendingRemoteTracks=[];}async unpublish(t){if(!this.connection||this.state!==Rt.Connected)return void t.forEach(i=>{let r=this.pendingLocalTracks.indexOf(i);r!==-1&&this.pendingLocalTracks.splice(r,1);});let e=this.filterTobeUnpublishedTracks(t);if(e.length===0)return;let n=e.find(i=>i[0]===\"videoLowTrack\");return n&&n[1].track.close(),this.doUnpublish(this.connection,e)}async unpublishDataChannel(t){if(!this.connection||this.state!==Rt.Connected)return void t.forEach(n=>{let i=this.pendingLocalDataChannels.indexOf(n);i!==-1&&this.pendingLocalDataChannels.splice(i,1);});let e=this.filterTobeUnpublishedDataChannels(t);return e.length!==0?(e.forEach(n=>{let i=this.localDataChannels.indexOf(n);i!==-1&&this.localDataChannels.splice(i,1);}),this.localDataChannels.length===0&&await this.connection.stopDataChannels(this.store.uid),e.map(n=>n.id)):void 0}async unpublishLowStream(){if(!this.connection||this.state!==Rt.Connected)return;let t=this.localTrackMap.get(U.LocalVideoLowTrack);if(!t)return;t.track.close();let e=[[U.LocalVideoLowTrack,t]];return this.doUnpublish(this.connection,e)}async doUnpublish(t,e){let n=this.createGatewayUnpublishMessage(e);return await t.stopSending(e.map(i=>{let[,{id:r}]=i;return r})),this.withdrawLocalTracks(e),this.unbindLocalTrackEvents(e.map(i=>{let[r,{track:o}]=i;return {type:r,track:o}})),e.forEach(i=>{let[r]=i;this.statsCollector.removeLocalStats(r);}),this.localTrackMap.size===0&&this.statsUploader.stopUploadOutboundStats(),n}async subscribeDataChannel(t,e){if(!this.connection||this.state!==Rt.Connected)throw new N(R.INVALID_OPERATION,\"Cannot subscribe remote user when peerConnection disconnected.\");let n=e.filter(i=>{var r;return !((r=this.remoteDataChannelMap.get(t))!==null&&r!==void 0&&r.get(i.id))});if(n.length!==0)return await this.connection.createDataChannels(t.uid,n),n.forEach(i=>{var r;this.remoteDataChannelMap.has(t)?(r=this.remoteDataChannelMap.get(t))===null||r===void 0||r.set(i.id,i):this.remoteDataChannelMap.set(t,new Map([[i.id,i]]));let o=this.pendingRemoteDataChannels.findIndex(s=>{let{user:a,id:c}=s;return a.uid===t.uid&&c===i.id});o!==-1&&this.pendingRemoteDataChannels.splice(o,1);}),n.map(i=>i.id)}async subscribe(t,e,n,i,r){var o;if(!this.connection||this.state!==Rt.Connected)throw new N(R.INVALID_OPERATION,\"Cannot subscribe remote user when peerConnection disconnected.\");if((o=this.remoteUserMap.get(t))!==null&&o!==void 0&&o.has(e))return;let s,a,c,d=this.connection.getPreMedia(n);if(d)_.debug(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] preSSRCMap has ssrcId: \").concat(n,\", no need to send sub to gateway.\")),c=d.transceiver,s=d.track,a=d.id;else if(r){let h=r.find(g=>{let{stream_type:E}=g;return E===e});if(!h)throw new N(R.UNEXPECTED_ERROR,\"Cannot subscribe to remote \".concat(e,\" for user: \").concat(t.uid,\" because subscribe answer from gateway does not contain stream_type: \").concat(e,\".\"));let p=await this.connection.receive(e,h.ssrcs,String(t._uintid),h.attributes);this.connection instanceof ki&&(c=p.transceiver),s=p.track,a=p.id;}else {let h=await this.connection.receive(e,[{ssrcId:n,rtx:i}],String(t._uintid),void 0);this.connection instanceof ki&&(c=h.transceiver),s=h.track,a=h.id;}e===Q.AUDIO?(t._audioTrack?t._audioTrack._updateOriginMediaStreamTrack(s):(t._audioTrack=new Ks(s,t.uid,t._uintid,this.store),_.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(t._audioTrack.getTrackId()))),c&&t._audioTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(t,t._audioTrack)):(t._videoTrack?t._videoTrack._updateOriginMediaStreamTrack(s):(t._videoTrack=new Hs(s,t.uid,t._uintid,this.store),_.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(t._videoTrack.getTrackId()))),c&&t._videoTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(t,t._videoTrack)),v(\"ENABLE_VIDEO_SEI\")&&c&&(e==Q.VIDEO?await async function(h){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ft().supportWebRTCEncodedTransform)return void _.warning(\"browser not support video encoded transform\");if(!h.track)return;if(xa.has(h)){let f=xa.get(h);return void(f&&(f.onSei=p.onSei))}let g={track:h.track,onSei:p.onSei};if(oo()){if(!h.createEncodedStreams)return void _.warning(\"browser not support createEncodedStreams() API\");let f=null;try{f=h.createEncodedStreams();}catch(C){return void _.error(\"create video-encoded-streams error\",C&&C.message)}let S=new TransformStream({transform(C,A){g.controller||(g.controller=A),h.track&&h.track.id!==g.track.id&&(_.debug(\"video track changed: \".concat(g.track.id,\" => \").concat(h.track.id)),g.track.removeEventListener(\"ended\",E),g.track=h.track,g.track.addEventListener(\"ended\",E));let b=function(w){let D=new DataView(w.data),k=0;for(;k+4<w.data.byteLength;){if(D.getUint8(k+0)===0&&D.getUint8(k+1)===0&&D.getUint8(k+2)===0&&D.getUint8(k+3)===1&&D.getUint8(k+4)===6){let B=k+6,V=0,z=0;for(;(z=D.getUint8(B++))===255;)V+=255;V+=z;let lt=FG(w.data,B,V);return new Uint8Array(lt)}k++;}return null}(C);b&&g.onSei&&g.onSei(b),A.enqueue(C);}});f.readable.pipeThrough(S).pipeTo(f.writable);}else if(je()){if(typeof RTCRtpScriptTransform>\"u\")return void _.warning(\"browser not support RTCRtpScriptTransform\");let f=vl(),S=new MessageChannel;await new j(A=>f.onmessage=b=>{b.data===\"registered\"&&A(void 0);});let C=new RTCRtpScriptTransform(f,{name:\"rx\",port:S.port2},[S.port2]);h.transform=C,await new j(A=>f.onmessage=b=>{b.data===\"started\"&&A(void 0);}),S.port1.onmessage=A=>{var b;A.data.transformed&&h.track&&((b=h.track)===null||b===void 0?void 0:b.id)!==g.track.id?(_.debug(\"video track changed: \".concat(g.track.id,\" => \").concat(h.track.id)),g.track.removeEventListener(\"ended\",E),g.track=h.track,g.track.addEventListener(\"ended\",E)):A.data.sei&&g.onSei&&g.onSei(A.data.sei);},g.worker=f;}function E(){if(h.track){if(this.id!==h.track.id)return;h.track.removeEventListener(\"ended\",E);}(function(f){let S=xa.get(f);if(S){xa.delete(f);try{var C,A;(C=S.controller)===null||C===void 0||C.terminate(),(A=S.worker)===null||A===void 0||A.terminate();}catch(b){_.warning(b&&b.message);}}})(h);}xa.set(h,g),h.track.addEventListener(\"ended\",E);}(c.receiver,{onSei:h=>{var p;(p=t._videoTrack)===null||p===void 0||p._onSei(h);}}):e==Q.AUDIO&&await async function(h){if(!ft().supportWebRTCEncodedTransform)return void _.warning(\"browser not support audio encoded transform\");if(jd.has(h))return;let p={track:h.track};if(oo()){if(!h.createEncodedStreams)return void _.warning(\"browser not support createEncodedStreams() API\");let E=null;try{E=h.createEncodedStreams();}catch(S){return void _.error(\"create audio-encoded-streams error\",S&&S.message)}let f=new TransformStream({transform(S,C){p.controller||(p.controller=C),h.track&&h.track.id!==p.track.id&&(_.debug(\"audio track changed: \".concat(p.track.id,\" => \").concat(h.track.id)),p.track.removeEventListener(\"ended\",g),p.track=h.track,p.track.addEventListener(\"ended\",g)),C.enqueue(S);}});E.readable.pipeThrough(f).pipeTo(E.writable);}else if(je()){if(typeof RTCRtpScriptTransform>\"u\")return void _.warning(\"browser not support RTCRtpScriptTransform\");let E=vl(),f=new MessageChannel;await new j(C=>E.onmessage=A=>{A.data===\"registered\"&&C(void 0);});let S=new RTCRtpScriptTransform(E,{name:\"rx\",port:f.port2},[f.port2]);h.transform=S,await new j(C=>E.onmessage=A=>{A.data===\"started\"&&C(void 0);}),f.port1.onmessage=C=>{var A;C.data.transformed&&h.track&&((A=h.track)===null||A===void 0?void 0:A.id)!==p.track.id&&(_.debug(\"audio track changed: \".concat(p.track.id,\" => \").concat(h.track.id)),p.track.removeEventListener(\"ended\",g),p.track=h.track,p.track.addEventListener(\"ended\",g));},p.worker=E;}function g(){h.track.removeEventListener(\"ended\",g),function(E){let f=jd.get(E);if(f){jd.delete(E);try{var S,C;(S=f.controller)===null||S===void 0||S.terminate(),(C=f.worker)===null||C===void 0||C.terminate();}catch(A){_.warning(A&&A.message);}}}(h);}jd.set(h,p),h.track.addEventListener(\"ended\",g);}(c.receiver));let l=this.remoteUserMap.get(t);l?l.set(e,a):this.remoteUserMap.set(t,new Map([[e,a]])),this.statsCollector.addRemoteStats(t.uid),this.statsUploader.startUploadInboundStats();let u=this.pendingRemoteTracks.findIndex(h=>{let{user:p,kind:g}=h;return p.uid===t.uid&&e===g});u!==-1&&(this.pendingRemoteTracks.splice(u,1),this.emit(tt.MediaReconnectEnd,t.uid));}async massSubscribe(t){return this.massSubscribeNoLock(t)}async massSubscribeNoLock(t){if(!this.connection||this.state!==Rt.Connected)throw new N(R.INVALID_OPERATION,\"Cannot subscribeAll remote users when peerConnection disconnected.\");t=t.filter(r=>{var o;let{user:s,mediaType:a}=r;return !((o=this.remoteUserMap.get(s))!==null&&o!==void 0&&o.has(a))});let e=[],n=new Map;t.forEach(r=>{if(!this.connection)return;let o=this.connection.getPreMedia(r.ssrcId);o?n.set(r.ssrcId,o):e.push(r);});let i=await this.connection.batchReceive(e.map(r=>{let{user:o,mediaType:s,ssrcId:a,rtxSsrcId:c}=r;return {kind:s,ssrcMsg:[{ssrcId:a,rtx:c}],mslabel:String(o._uintid)}}));e.forEach((r,o)=>{n.set(r.ssrcId,i[o]);}),t.forEach(r=>{let{user:o,mediaType:s,ssrcId:a}=r,c=n.get(a);if(!c)return void _.debug(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] cannot find \").concat(o.uid,\" subscribe data,\").concat(s,\", \").concat(a));let{track:d,id:l,transceiver:u}=c;s===Q.AUDIO?(o._audioTrack?o._audioTrack._updateOriginMediaStreamTrack(d):(o._audioTrack=new Ks(d,o.uid,o._uintid,this.store),_.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(o._audioTrack.getTrackId()))),u&&o._audioTrack._updateRtpTransceiver(u),this.bindRemoteTrackEvents(o,o._audioTrack)):(o._videoTrack?o._videoTrack._updateOriginMediaStreamTrack(d):(o._videoTrack=new Hs(d,o.uid,o._uintid,this.store),_.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(o._videoTrack.getTrackId()))),u&&o._videoTrack._updateRtpTransceiver(u),this.bindRemoteTrackEvents(o,o._videoTrack));let h=this.remoteUserMap.get(o);h?h.set(s,l):this.remoteUserMap.set(o,new Map([[s,l]])),this.statsCollector.addRemoteStats(o.uid),this.statsUploader.startUploadInboundStats();let p=this.pendingRemoteTracks.findIndex(g=>{let{user:E,kind:f}=g;return E.uid===o.uid&&s===f});p!==-1&&(this.pendingRemoteTracks.splice(p,1),this.emit(tt.MediaReconnectEnd,o.uid));});}async unsubscribe(t,e,n){let i=this.pendingRemoteTracks.filter(s=>{let{user:a,kind:c}=s;return e!==void 0?a.uid===t.uid&&e===c:a.uid===t.uid});if(i.forEach(s=>{let a=this.pendingRemoteTracks.indexOf(s);this.pendingRemoteTracks.splice(a,1);}),this.connection&&this.state===Rt.Connected||n||i.forEach(s=>{let{kind:a}=s;var c;if(a===Q.AUDIO)(c=t._audioTrack)===null||c===void 0||c._destroy(),t._audioTrack=void 0;else if(a===Q.VIDEO){var d;(d=t._videoTrack)===null||d===void 0||d._destroy(),t._videoTrack=void 0;}}),!this.connection||this.state!==Rt.Connected)return;let r=this.filterTobeUnSubscribedTracks(t,e);if(r.length===0)return;await this.connection.stopReceiving(r.map(s=>{let[,{id:a}]=s;return a}));let o=this.createUnsubscribeMessage(r);return this.withdrawRemoteTracks(r),this.remoteUserMap.size===0&&this.statsUploader.stopUploadInboundStats(),r.forEach(s=>{let[a,{kind:c}]=s;var d,l;if(c===Q.VIDEO&&a._videoSSRC&&((d=this.connection)===null||d===void 0||d.setStatsRemoteVideoIsReady(a._videoSSRC,!1)),c===Q.VIDEO)this.unbindRemoteTrackEvents(a._videoTrack),n||((l=a._videoTrack)===null||l===void 0||l._destroy(),a._videoTrack=void 0);else if(c===Q.AUDIO){var u;this.unbindRemoteTrackEvents(a._audioTrack),!n&&((u=a._audioTrack)===null||u===void 0||u._destroy(),a._audioTrack=void 0);}}),o}async unsubscribeDataChannel(t,e){if(e.forEach(r=>{let o=this.pendingRemoteDataChannels.findIndex(s=>s.id===r.id);o!==-1&&this.pendingRemoteDataChannels.splice(o,1);}),!this.connection)return;let n=this.filterTobeUnSubscribedDataChannels(t,e);if(n.length===0)return;e.forEach(r=>{r._close();});let i=this.remoteDataChannelMap.get(t);return n.forEach(r=>{i&&i.delete(r.id);}),i&&i.size===0&&(this.remoteDataChannelMap.delete(t),await this.connection.stopDataChannels(t.uid)),n.map(r=>r.id)}async massUnsubscribe(t){return this.massUnsubscribeNoLock(t)}async massUnsubscribeNoLock(t){let e=[];for(let{user:r,mediaType:o}of t){let s=this.pendingRemoteTracks.filter(a=>{let{user:c,kind:d}=a;return o!==void 0?c.uid===r.uid&&o===d:c.uid===r.uid});s.forEach(a=>{let c=this.pendingRemoteTracks.indexOf(a);this.pendingRemoteTracks.splice(c,1);}),e=e.concat(s);}if(!this.connection||this.state!==Rt.Connected)return void e.forEach(r=>{let{user:o,kind:s}=r;var a;if(s===Q.AUDIO)(a=o._audioTrack)===null||a===void 0||a._destroy(),o._audioTrack=void 0;else if(s===Q.VIDEO){var c;(c=o._videoTrack)===null||c===void 0||c._destroy(),o._videoTrack=void 0;}});let n=ji(t).call(t,(r,o)=>{let{user:s,mediaType:a}=o,c=this.filterTobeUnSubscribedTracks(s,a);return r.concat(c)},[]);if(n.length===0)return;await this.connection.stopReceiving(n.map(r=>{let[,{id:o}]=r;return o}));let i=this.createUnsubscribeAllMessage(n);return this.withdrawRemoteTracks(n),this.remoteUserMap.size===0&&this.statsUploader.stopUploadInboundStats(),n.forEach(r=>{let[o,{kind:s}]=r;var a,c;if(s===Q.VIDEO&&o._videoSSRC&&((a=this.connection)===null||a===void 0||a.setStatsRemoteVideoIsReady(o._videoSSRC,!1)),s===Q.VIDEO)this.unbindRemoteTrackEvents(o._videoTrack),(c=o._videoTrack)===null||c===void 0||c._destroy(),o._videoTrack=void 0;else if(s===Q.AUDIO){var d;this.unbindRemoteTrackEvents(o._audioTrack),(d=o._audioTrack)===null||d===void 0||d._destroy(),o._audioTrack=void 0;}}),i}isPreSubScribe(t){return !this.connection||this.state!==Rt.Connected?!1:!!this.connection.getPreMedia(t)}async muteRemote(t,e){if(!this.connection)return;let n=this.remoteUserMap.get(t);if(!n)return void _.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.muteRemote has no remote user \").concat(t.uid,\".\"));if(!n.get(e))return void _.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.muteRemote has no remote user \").concat(t.uid,\" media type \").concat(e,\".\"));let i=e===Q.VIDEO?t._videoSSRC:t._audioSSRC;i!==void 0&&this.connection.setStatsRemoteVideoIsReady(i,!1);}async unmuteRemote(t,e){return this.unmuteRemoteNoLock(t,e)}async unmuteRemoteNoLock(t,e){if(!this.connection)return;let n=this.remoteUserMap.get(t);if(!n)return void _.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.unmuteRemote has no remote user \").concat(t.uid,\".\"));n.get(e)||_.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.unmuteRemote has no remote user \").concat(t.uid,\" media type \").concat(e,\".\"));}getAllTracks(t){let e=this.localTrackMap.get(U.LocalAudioTrack);if(e?.track instanceof ge){let n=e.track;return Array.from(this.localTrackMap.entries()).filter(i=>{let[r]=i;return r!==U.LocalAudioTrack}).filter(i=>{let[r]=i;return !(t&&r===U.LocalVideoLowTrack)}).map(i=>{let[,{track:r}]=i;return r}).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter(n=>{let[i]=n;return !(t&&i===U.LocalVideoLowTrack)}).map(n=>{let[,{track:i}]=n;return i})}getAllDataChannels(){return this.localDataChannels}reportPublishEvent(t,e,n,i,r){if(t){let s=this.localTrackMap.get(U.LocalAudioTrack),a=i?this.localTrackMap.get(U.LocalVideoLowTrack):this.localTrackMap.get(U.LocalVideoTrack);X.publish(this.store.sessionId,{eventElapse:qe.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:t,ec:e,audioName:s?.track.getTrackLabel(),videoName:a?.track.getTrackLabel(),screenshare:a?.track._hints.indexOf(Gt.SCREEN_TRACK)!==-1,audio:!!s,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r});}else {var o;n||(n=[]);let s=n.find(c=>c instanceof Qt),a=i?(o=this.localTrackMap.get(U.LocalVideoTrack))===null||o===void 0?void 0:o.track:n.find(c=>c instanceof Ft);X.publish(this.store.sessionId,{eventElapse:qe.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:t,ec:e,audioName:s?.getTrackLabel(),videoName:a?.getTrackLabel(),screenshare:a?._hints.indexOf(Gt.SCREEN_TRACK)!==-1,audio:!!s,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r});}}reportSubscribeEvent(t,e,n,i){let r=i===Q.VIDEO?n._videoSSRC:n._audioSSRC;r&&X.subscribe(this.store.sessionId,{succ:t,ec:e,video:i===Q.VIDEO,audio:i===Q.AUDIO,peerid:n.uid,subscribeRequestid:r,p2pid:this.store.p2pId,eventElapse:qe.measureFromSubscribeStart(this.store.clientId,r),preSsrc:this.isPreSubScribe(r)});}reset(){_.debug(\"[\".concat(this.store.clientId,\"] P2PChannel.reset\")),this.mutex=new ze(\"P2PChannel-mutex\"),this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new Va({},this.store):new ki({},this.store),this.bindConnectionEvents(this.connection)),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();let t=this.localTrackMap.get(U.LocalAudioTrack);if(t?.track instanceof ge){if(t.track.trackList.length>0){let e=t.track;t.track.trackList.forEach(n=>{e.removeAudioTrack(n);});}t.track.close();}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.localDataChannels=[],this.remoteDataChannelMap.clear(),this.pendingLocalDataChannels=[],this.pendingRemoteDataChannels=[],this.state=Rt.Disconnected;}getStats(){var t;return (t=this.connection)===null||t===void 0?void 0:t.getStats()}getRemoteVideoIsReady(t){var e;return ((e=this.connection)===null||e===void 0?void 0:e.getRemoteVideoIsReady(t))||!1}getLocalAudioVolume(){let t=this.localTrackMap.get(U.LocalAudioTrack);if(t)return t.track.getVolumeLevel()}getLocalVideoSize(){let t=this.localTrackMap.get(U.LocalVideoTrack);if(t)return {width:t.track.videoWidth||0,height:t.track.videoHeight||0}}getEncoderConfig(t){let e=this.localTrackMap.get(t);return e&&e.track instanceof Ft||e&&e.track instanceof Qt?e.track._encoderConfig:void 0}getLocalMedia(t){return this.localTrackMap.get(t)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(t,e){if(!t)return this.remoteUserMap.size>0;let n=this.remoteUserMap.get(t);return !!n&&(!e||n.has(e))}async hasRemoteMediaWithLock(t,e){if(!t)return this.remoteUserMap.size>0;let n=this.remoteUserMap.get(t);return !!n&&(!e||n.has(e))}getRemoteMedia(t){var e;let n=Array.from(xn(e=this.remoteUserMap).call(e)).find(i=>i.uid===t);return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}getAudioLevels(){let t=Array.from(this.remoteUserMap.entries()).map(n=>{let[i]=n;return {uid:i.uid,level:i.audioTrack?100*i.audioTrack._source.getAccurateVolumeLevel():0}}),e=this.localTrackMap.get(U.LocalAudioTrack);return e&&t.push({level:100*e.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),t=ed(t).call(t,(n,i)=>n.level-i.level),t}async disconnectForReconnect(){this.connection&&(_.debug(\"[\".concat(this.store.clientId,\"] P2PChannel.disconnectForReconnect closing P2PConnection\")),this.state=Rt.Reconnecting,v(\"KEEP_LAST_FRAME\")&&this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(t=>{let[e]=t;var n;e._videoTrack&&e._videoTrack._player&&((n=e._videoTrack._player.getVideoElement())===null||n===void 0||n.pause(),e._videoTrack._player.isKeepLastFrame=!0,e._videoTrack._originMediaStreamTrack.stop());}),this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0,this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new Va({},this.store):new ki({},this.store),this.bindConnectionEvents(this.connection)),this.localTrackMap.size!==0&&(Array.from(this.localTrackMap.entries()).forEach(t=>{var e;let[n,{track:i}]=t;switch(n){case U.LocalVideoTrack:W(e=i._hints).call(e,Gt.LOW_STREAM)?i.close():this.pendingLocalTracks.push(i);break;case U.LocalAudioTrack:i instanceof ge?this.pendingLocalTracks=this.pendingLocalTracks.concat(i.trackList):this.pendingLocalTracks.push(i);case U.LocalVideoLowTrack:}}),this.emit(tt.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(t=>{let[e,n]=t;Array.from(xn(n).call(n)).forEach(i=>{this.setPendingRemoteMedia(e,i);}),this.emit(tt.MediaReconnectStart,e.uid);}),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.localDataChannels.length!==0&&(this.localDataChannels.forEach(t=>{this.pendingLocalDataChannels.push(t);}),this.localDataChannels.length=0),this.remoteDataChannelMap.size!==0&&(Array.from(this.remoteDataChannelMap.entries()).forEach(t=>{let[e,n]=t;Array.from(xn(n).call(n)).forEach(i=>{this.setPendingRemoteDataChannel(e,i);});}),this.remoteDataChannelMap.clear()),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),_.debug(\"[\".concat(this.store.clientId,\"] P2PChannel disconnected, waiting to reconnect.\")));}hasPendingRemoteDataChannel(t,e){for(let n of this.pendingRemoteDataChannels){let{user:i,id:r}=n;if((t instanceof ir?t.uid:t)===i.uid&&r===e)return !0}return !1}setPendingRemoteDataChannel(t,e){this.hasPendingRemoteDataChannel(t,e)||this.pendingRemoteDataChannels.push({user:t,id:e});}hasPendingRemoteMedia(t,e){for(let n of this.pendingRemoteTracks){let{user:i,kind:r}=n;if((t instanceof ir?t.uid:t)===i.uid&&e===r)return !0}return !1}setPendingRemoteMedia(t,e){this.hasPendingRemoteMedia(t,e)||this.pendingRemoteTracks.push({user:t,kind:e});}restartICE(t){var e=this;return Bi(function*(){if(!e.connection||e.state!==Rt.Connected)return;let n=yield Tt(e.mutex.lock(\"From P2PChannel.restartICE\")),i;try{i=yield Tt(e.connection.restartICE(t));let o=yield Tt(i.next());if(o.done)return;let s=o.value,a=yield s;switch(e.reportPCDisconnectedOrFailed(t),t){case On.TCP:e._pcStatsUploadType=Tr.TCP_RESTART;break;case On.RELAY:e._pcStatsUploadType=Tr.RELAY_RESTART;break;default:e._pcStatsUploadType=Tr.OLD_RESTART;}e._isInRestartIce=!0,i.next(a);}catch(o){var r;(r=i)===null||r===void 0||r.throw(o);}finally{n();}})()}getUplinkNetworkQuality(){if(!this.connection)return 0;let t=this.connection.getStats(),e=this.localTrackMap.get(U.LocalVideoTrack),n=this.localTrackMap.get(U.LocalAudioTrack),i=t.videoSend.find(p=>p.ssrc===e?.ssrcs[0].ssrcId),r=t.audioSend.find(p=>p.ssrc===n?.ssrcs[0].ssrcId);if(!i||!r)return 1;let o=ni(this,tt.NeedSignalRTT),s=i?i.rttMs:void 0,a=r?r.rttMs:void 0,c=s&&a?(s+a)/2:s||a,d=(c&&o?(c+o)/2:c||o)||0,l=100*t.sendPacketLossRate*.7/50+.3*d/1500,u=l<.17?1:l<.36?2:l<.59?3:l<.1?4:5,h=e?.track;if(h&&h._encoderConfig&&h._hints.indexOf(Gt.SCREEN_TRACK)===-1){let p=h._encoderConfig.bitrateMax,g=t.bitrate.actualEncoded;if(p&&g){let E=(1e3*p-g)/(1e3*p);return OO[E<.15?0:E<.3?1:E<.45?2:E<.6?3:4][u]}}return u}getDownlinkNetworkQuality(){if(!this.connection)return 0;let t=this.connection.getStats(),e=0;return Array.from(this.remoteUserMap.entries()).forEach(n=>{let[i]=n,r=i._audioSSRC,o=i._videoSSRC,s=t.audioRecv.find(g=>g.ssrc===r),a=t.videoRecv.find(g=>g.ssrc===o);if(!s&&!a)return void(e+=1);let c=ni(this,tt.NeedSignalRTT),d=t.rtt,l=(d&&c?(d+c)/2:d||c)||0,u=s?s.jitterMs:void 0,h=t.recvPacketLossRate,p=.7*h*100/50+.3*l/1500;u&&(p=.6*h*100/50+.2*l/1500+.2*u/400),e+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5;}),this.remoteUserMap.size>0?Math.round(e/this.remoteUserMap.size):e}async muteLocalTrack(t){return new j((e,n)=>{this.handleMuteLocalTrack(t,e,n);})}async replaceTrack(t,e){var n;if(_.debug(\"[\".concat(this.store.clientId,\"] P2PChannel replaceTrack from [\").concat(t.getTrackId(),\"] to [\").concat(e.getTrackId(),\"]\")),!this.connection||this.state!==Rt.Connected)return;let i=Array.from(this.localTrackMap.entries()).find(o=>{let[,{track:s}]=o;return t===s});if(!i)return;let r=i[0];if(t!==e&&(this.unbindLocalTrackEvents([{track:t,type:r}]),this.bindLocalTrackEvents([{track:e,type:r}]),i[1].track=e),await((n=this.connection)===null||n===void 0?void 0:n.replaceTrack(e,i[1].id)),this.isPlanB){let o=i[1];o.id=e._mediaStreamTrack.id,this.localTrackMap.set(r,o);}if(r===U.LocalVideoTrack&&!v(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&ft().supportDualStreamEncoding){let o=this.localTrackMap.get(U.LocalVideoLowTrack);if(o){let s=t._mediaStreamTrack.clone();o.track._originMediaStreamTrack.stop(),o.track._mediaStreamTrack=s,o.track._originMediaStreamTrack=s,await new j((a,c)=>{this.handleReplaceTrack(o.track,a,c,!0);});}}}filterTobePublishedTracks(t,e,n){let i=[],r=this.getAllTracks();t=Ls(t=t.filter(c=>r.indexOf(c)===-1));let o,s=!1,a=this.localTrackMap.get(U.LocalAudioTrack);for(let c of t){if(c instanceof Ft&&(this.localTrackMap.has(U.LocalVideoTrack)||s?new N(R.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(i.push({track:c,type:U.LocalVideoTrack}),s=!0),e)){let d=this.getLowVideoTrack(c,n);i.push({track:d,type:U.LocalVideoLowTrack});}if(c instanceof Qt)if(a){let d=a.track;if(d instanceof ge)lm([c]),d.addAudioTrack(c),this.bindLocalAudioTrackEvents(c,!0);else {let l=E_([d,c]);_.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection will replace audioTrack [\").concat(l.getTrackId(),\"]\")),this.replaceTrack(d,l);}}else o instanceof ge?(lm([c]),o.addAudioTrack(c)):o||!c._useAudioElement&&ft().webAudioMediaStreamDest&&!c._bypassWebAudio?o=E_(o?[c,o]:[c]):o=c;}return o&&(_.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection will send audioTrack [\").concat(o.getTrackId(),\"]\")),i.push({track:o,type:U.LocalAudioTrack})),i}filterTobeUnpublishedTracks(t){let e=[],n=this.getAllTracks();t=Ls(t=t.filter(i=>n.indexOf(i)!==-1));for(let i of t){if(i instanceof Qt){let r=this.localTrackMap.get(U.LocalAudioTrack);if(!r)continue;r.track instanceof ge?(r.track.removeAudioTrack(i),this.unbindLocalAudioTrackEvents(i),r.track.trackList.length===0&&(e.push([U.LocalAudioTrack,r]),r.track.close())):e.push([U.LocalAudioTrack,r]);}if(i instanceof Ft){let r=this.localTrackMap.get(U.LocalVideoTrack);if(!r)continue;e.push([U.LocalVideoTrack,r]);let o=this.localTrackMap.get(U.LocalVideoLowTrack);o&&e.push([U.LocalVideoLowTrack,o]);}}return e}filterTobePublishedDataChannels(t){return t=(t=Ls(t)).filter(e=>this.localDataChannels.findIndex(n=>n.id===e.id)===-1)}filterTobeUnpublishedDataChannels(t){return t=(t=(t=Ls(t)).filter(e=>this.localDataChannels.indexOf(e)!==-1)).filter(e=>e._originDataChannel)}bindLocalTrackEvents(t){t.forEach(e=>{let{track:n,type:i}=e;switch(i){case U.LocalVideoTrack:n.addListener(H.GET_STATS,this.handleGetLocalVideoStats),n.addListener(H.GET_RTC_STATS,this.handleGetRTCStats),n.addListener(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),n.addListener(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),n.addListener(H.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),n.addListener(H.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),n.addListener(H.NEED_REPLACE_TRACK,this.handleReplaceTrack),n.addListener(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),n.addListener(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case U.LocalAudioTrack:this.bindLocalAudioTrackEvents(n);case U.LocalVideoLowTrack:}});}bindLocalAudioTrackEvents(t,e){t instanceof ge?t.trackList.forEach(n=>{n.addListener(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),n.addListener(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),n.addListener(H.GET_STATS,this.handleGetLocalAudioStats),n.addListener(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),n.addListener(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);}):(t.addListener(H.GET_STATS,this.handleGetLocalAudioStats),t.addListener(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),e||(t.addListener(H.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(H.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack)));}unbindLocalTrackEvents(t){t||(t=Array.from(this.localTrackMap.entries()).map(e=>{let[n,{track:i}]=e;return {track:i,type:n}})),t.forEach(e=>{let{track:n,type:i}=e;switch(i){case U.LocalVideoTrack:n.off(H.GET_STATS,this.handleGetLocalVideoStats),n.off(H.GET_RTC_STATS,this.handleGetRTCStats),n.off(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),n.off(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),n.off(H.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),n.off(H.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),n.off(H.NEED_REPLACE_TRACK,this.handleReplaceTrack),n.off(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),n.off(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case U.LocalAudioTrack:this.unbindLocalAudioTrackEvents(n);case U.LocalVideoLowTrack:}});}unbindLocalAudioTrackEvents(t){t instanceof ge?t.trackList.forEach(e=>{e.off(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(H.GET_STATS,this.handleGetLocalAudioStats),e.off(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);}):(t.off(H.GET_STATS,this.handleGetLocalAudioStats),t.off(H.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(H.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(H.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(H.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack),t.off(H.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(H.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack));}bindRemoteTrackEvents(t,e){e instanceof Hs&&e.addListener(H.GET_STATS,n=>{n(this.handleGetRemoteVideoStats(t));}),e instanceof Ks&&e.addListener(H.GET_STATS,n=>{n(this.handleGetRemoteAudioStats(t));});}unbindRemoteTrackEvents(t){t&&t.removeAllListeners(H.GET_STATS);}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach(t=>{let[e,n]=t;n.has(Q.AUDIO)&&this.unbindRemoteTrackEvents(e._audioTrack),n.has(Q.VIDEO)&&this.unbindRemoteTrackEvents(e._videoTrack);});}createGatewayPublishMessage(t,e){return t.map((n,i)=>{var r;let o,s,{track:a,type:c}=n;switch(c){case U.LocalAudioTrack:o=Ct.Audio,s={dtx:a instanceof ou&&a._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case U.LocalVideoTrack:o=W(r=a._hints).call(r,Gt.SCREEN_TRACK)?Ct.Screen:Ct.High,s=Zi(Zi({},GR(a)),{},{codec:this.store.codec,svc_mode:$E()});break;case U.LocalVideoLowTrack:o=Ct.Low,s=Zi(Zi({},GR(a)),{},{codec:this.store.codec,svc_mode:$E()});}return {stream_type:o,attributes:s,ssrcs:e[i]}})}createGatewayUnpublishMessage(t){return t.map(e=>{var n;let i,[r,{track:o,ssrcs:s,id:a}]=e;switch(r){case U.LocalVideoTrack:i=W(n=o._hints).call(n,Gt.SCREEN_TRACK)?Ct.Screen:Ct.High;break;case U.LocalAudioTrack:i=Ct.Audio;break;case U.LocalVideoLowTrack:i=Ct.Low;}return {stream_type:i,ssrcs:s,mid:a}})}assignLocalTracks(t,e){t.forEach((n,i)=>{let{track:r,type:o}=n;this.localTrackMap.set(o,{track:r,id:e[i].id,ssrcs:e[i].localSSRC});});}withdrawLocalTracks(t){t.forEach(e=>{let[n]=e;this.localTrackMap.delete(n);});}bindConnectionEvents(t){t.onConnectionStateChange=async e=>{if(_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onConnectionStateChange(\").concat(e,\")\")),this.emit(tt.PeerConnectionStateChange,e),e!==\"connected\"||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),e===\"connected\"&&(this._restartTimer&&(clearTimeout(this._restartTimer),this._restartTimer=void 0),(this._isFirstConnected||this._isInRestartIce)&&this.reportPCStats(Date.now(),!0,this._pcStatsUploadType),this._isInRestartIce=!1,this._isFirstConnected=!1,this._isStartRestartIce=!1),v(\"NEW_ICE_RESTART\")){var n;if(W(n=this._restartStates).call(n,e)){if(this._isStartRestartIce)return;this._isStartRestartIce=!0;let i=s=>{(t.iceConnectionState===\"disconnected\"||t.iceConnectionState===\"checking\"||t.iceConnectionState===\"failed\")&&(_.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel] start use restartICE, type is \").concat(s)),ni(this,tt.QueryClientConnectionState)===\"CONNECTED\"&&this.emit(tt.RequestRestartICE,s));},r=()=>{t.iceConnectionState!==\"disconnected\"&&t.iceConnectionState!==\"checking\"&&t.iceConnectionState!==\"failed\"||(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),_.debug(\"[\".concat(this.store.clientId,\"] P2PConnection disconnected timeout, force reconnect\")),setTimeout(()=>this.emit(tt.P2PLost),0),this.iceFailedCount+=1,this.requestReconnect());},o=v(\"ICE_RESTART_INTERVAL\");return void(this._restartTimer=window.setTimeout(()=>{if(v(\"JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE\")&&ft().supportPCSetConfiguration)i(On.RELAY),this._restartTimer=window.setTimeout(r,o);else if($t())i(On.UDP),this._restartTimer=window.setTimeout(r,4e3);else {if(i(On.TCP),ft().supportPCSetConfiguration)return void(this._restartTimer=window.setTimeout(()=>{i(On.RELAY),this._restartTimer=window.setTimeout(r,o);},o));this._restartTimer=window.setTimeout(r,o);}},800))}}else {if(e===\"disconnected\"&&t.iceConnectionState===\"disconnected\")return setTimeout(()=>{t.iceConnectionState===\"disconnected\"&&v(\"ICE_RESTART\")&&ni(this,tt.QueryClientConnectionState)===\"CONNECTED\"&&this.emit(tt.RequestRestartICE);},800),void setTimeout(()=>{t.peerConnectionState===\"disconnected\"&&(_.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection disconnected timeout 4000ms, force reconnect\")),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isInRestartIce=!1,setTimeout(()=>this.emit(tt.P2PLost),0),this.iceFailedCount+=1,this.requestReconnect());},4e3);e===\"failed\"&&(_.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection state failed, force reconnect\")),this.reportPCDisconnectedOrFailed(),setTimeout(()=>this.emit(tt.P2PLost),0),this.iceFailedCount+=1,await this.requestReconnect());}},t.onICEConnectionStateChange=e=>{e!==\"connected\"||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICEConnectionStateChange(\").concat(e,\")\")),X.reportApiInvoke(this.store.sessionId,{name:\"ICEConnectionStateChange\",options:e,tag:Zt.TRACER}).onSuccess(),this.emit(tt.IceConnectionStateChange,e);},t.onICETransportStateChange=e=>{_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICETransportStateChange(\").concat(e,\")\"));},t.onDTLSTransportStateChange=e=>{_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportStateChange(\").concat(e,\")\"));},t.onDTLSTransportError=e=>{_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportError(\").concat(e,\")\"));},t.onFirstAudioDecoded=e=>{var n;let i=Array.from(xn(n=this.remoteUserMap).call(n)).find(o=>o._audioSSRC===e);var r;i&&(this.store.subscribe(i.uid,\"audio\",void 0,void 0,void 0,Date.now()),(r=i.audioTrack)===null||r===void 0||r.emit(Ws.FIRST_FRAME_DECODED),X.firstRemoteFrame(this.store.sessionId,De.FIRST_AUDIO_DECODE,Jt.FIRST_AUDIO_DECODE,{peer:i._uintid,subscribeElapse:qe.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}));},t.onFirstAudioReceived=e=>{var n;let i=Array.from(xn(n=this.remoteUserMap).call(n)).find(r=>r._audioSSRC===e);i&&X.firstRemoteFrame(this.store.sessionId,De.FIRST_AUDIO_RECEIVED,Jt.FIRST_AUDIO_RECEIVED,{peer:i._uintid,subscribeElapse:qe.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId});},t.onFirstVideoDecoded=(e,n,i)=>{this.reportVideoFirstFrameDecoded(e,n,i);},t.onFirstVideoReceived=e=>{var n;let i=Array.from(xn(n=this.remoteUserMap).call(n)).find(r=>r._videoSSRC===e);i&&X.firstRemoteFrame(this.store.sessionId,De.FIRST_VIDEO_RECEIVED,Jt.FIRST_VIDEO_RECEIVED,{peer:i._uintid,subscribeElapse:qe.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId});},t.onSelectedLocalCandidateChanged=(e,n)=>{let i=e.candidateType===\"relay\",r=n.candidateType===\"relay\";n.candidateType!==\"unknown\"&&i===r||this.emit(tt.ConnectionTypeChange,i),_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedLocalCandidateChanged(\").concat(JSON.stringify(eo(n)),\" -> \").concat(JSON.stringify(eo(e)),\")\"));},t.onSelectedRemoteCandidateChanged=(e,n)=>{_.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedRemoteCandidateChanged(\").concat(JSON.stringify(eo(n)),\" -> \").concat(JSON.stringify(eo(e)),\")\"));},t.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0);},t.getLocalVideoStats=()=>{let e=this.statsCollector.getLocalVideoTrackStats(),n=this.statsCollector.getRTCStats();return Zi(Zi({},e),n)};}unbindConnectionEvents(t){t.onConnectionStateChange=void 0,t.onICEConnectionStateChange=void 0,t.onICETransportStateChange=void 0,t.onDTLSTransportStateChange=void 0,t.onDTLSTransportError=void 0,t.onFirstAudioDecoded=void 0,t.onFirstAudioReceived=void 0,t.onFirstVideoDecoded=void 0,t.onFirstVideoReceived=void 0,t.onSelectedLocalCandidateChanged=void 0,t.onSelectedRemoteCandidateChanged=void 0,t.onFirstVideoDecodedTimeout=void 0,t.getLocalVideoStats=void 0;}filterTobeMutedTracks(t){let e=[];if(this.getAllTracks().indexOf(t)===-1)return e;let n=this.localTrackMap.get(U.LocalAudioTrack);if(t instanceof Qt&&n?.track instanceof ge)return n.track.isActive||e.push([U.LocalAudioTrack,n]),e;let i=Array.from(this.localTrackMap.entries()).find(r=>{let[,{track:o}]=r;return t===o});if(i&&(e.push(i),i[0]===U.LocalVideoTrack)){let r=this.localTrackMap.get(U.LocalVideoLowTrack);r&&e.push([U.LocalVideoLowTrack,r]);}return e}filterTobeUnmutedTracks(t){let e=[],n=this.localTrackMap.get(U.LocalAudioTrack);if(t instanceof Qt&&n?.track instanceof ge)return n.track.isActive&&e.push([U.LocalAudioTrack,n]),e;let i=Array.from(this.localTrackMap.entries()).find(r=>{let[,{track:o}]=r;return t===o});if(i)if(i[0]===U.LocalVideoTrack){e.push(i);let r=this.localTrackMap.get(U.LocalVideoLowTrack);r&&e.push([U.LocalVideoLowTrack,r]);}else e.push(i);return e}createMuteMessage(t){return t.map(e=>{var n;let i,[r,{track:o,ssrcs:s,id:a}]=e;switch(r){case U.LocalAudioTrack:i=Ct.Audio;break;case U.LocalVideoTrack:i=W(n=o._hints).call(n,Gt.SCREEN_TRACK)?Ct.Screen:Ct.High;break;case U.LocalVideoLowTrack:i=Ct.Low;}return {stream_type:i,ssrcs:s,mid:a}})}createUnmuteMessage(t){return t.map(e=>{var n;let i,[r,{track:o,ssrcs:s,id:a}]=e;switch(r){case U.LocalAudioTrack:i=Ct.Audio;break;case U.LocalVideoTrack:i=W(n=o._hints).call(n,Gt.SCREEN_TRACK)?Ct.Screen:Ct.High;break;case U.LocalVideoLowTrack:i=Ct.Low;}return {stream_type:i,ssrcs:s,mid:a}})}filterTobeUnSubscribedTracks(t,e){let n=[],i=this.remoteUserMap.get(t);if(!i)return n;if(e){let r=i.get(e);if(!r)return n;n.push([t,{kind:e,id:r}]);}else Array.from(i.entries()).forEach(r=>{let[o,s]=r;n.push([t,{kind:o,id:s}]);});return n}filterTobeUnSubscribedDataChannels(t,e){let n=[];return e.forEach(i=>{var r;(r=this.remoteDataChannelMap.get(t))!==null&&r!==void 0&&r.has(i.id)&&n.push(i);}),n}createUnsubscribeMessage(t){let e=[];return t.forEach(n=>{let[i,{kind:r,id:o}]=n;switch(r){case Q.VIDEO:return void(i._videoSSRC&&e.push({stream_type:Q.VIDEO,ssrcId:i._videoSSRC}));case Q.AUDIO:return void(i._audioSSRC&&e.push({stream_type:Q.AUDIO,ssrcId:i._audioSSRC}))}}),e}createUnsubscribeAllMessage(t){let e=new Map;return t.forEach(n=>{let[i,{kind:r}]=n;if(e.has(i)){let o=e.get(i);r===Q.VIDEO?o|=ve.Video:o|=ve.Audio,e.set(i,o);}else r===Q.VIDEO?e.set(i,ve.Video):e.set(i,ve.Audio);}),{users:Array.from(e.entries()).map(n=>{let[i,r]=n;return {stream_id:i.uid,stream_type:r}})}}withdrawRemoteTracks(t){t.forEach(e=>{let[n,{kind:i}]=e,r=this.remoteUserMap.get(n);r&&(r.delete(i),Array.from(r.entries()).length===0&&this.remoteUserMap.delete(n));});}async updateBitrateLimit(t){let e=this.localTrackMap.get(U.LocalVideoTrack),n=this.localTrackMap.get(U.LocalVideoLowTrack);e&&await e.track.setBitrateLimit(t.uplink),n&&t.low_stream_uplink&&await n.track.setBitrateLimit({max_bitrate:t.low_stream_uplink.bitrate,min_bitrate:t.low_stream_uplink.bitrate||0});}isP2PDisconnected(){return this.connection?this.connection.peerConnectionState!==\"connected\":!0}mapPubResToRemoteConfig(t,e){return t.map((n,i)=>{var r;let{stream_type:o}=n;return (r=e.find(s=>{let{stream_type:a}=s;return o===a}))===null||r===void 0?void 0:r.attributes})}async tryToUnmuteAudio(t){for(let n=0;n<t.length;n++)if(t[n]instanceof Qt){var e;let i=this.filterTobeUnmutedTracks(t[n]);if(i.length===0)continue;await((e=this.connection)===null||e===void 0?void 0:e.unmuteLocal(i.map(o=>{let[,{id:s}]=o;return s})));let r=this.createUnmuteMessage(i);return void await kt(this,tt.RequestUnmuteLocal,r)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=t=>{var e;return !((e=this.connection)===null||e===void 0||!e.getRemoteVideoIsReady(t))},this.statsUploader.requestUpload=(t,e)=>this.emit(tt.RequestUpload,t,e),this.statsUploader.requestUploadStats=t=>this.emit(tt.RequestUploadStats,t),this.statsUploader.requestAllTracks=()=>this.getAllTracks();}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0;}async requestReconnect(){this.dtlsFailedCount+=1,await Me(hf(this.dtlsFailedCount,Ee)),this.emit(tt.RequestReconnect);}async reconnectP2P(){let t=Array.from(this.localTrackMap.entries()),e=this.createGatewayUnpublishMessage(t);Array.from(this.remoteUserMap.entries()),e.length>0&&await Ge(this,tt.RequestUnpublishForReconnectPC,e),this.disconnectForReconnect(),this.emit(tt.RequestReconnectPC);}canPublishLowStream(){return this.localTrackMap.has(U.LocalVideoTrack)||this.pendingLocalTracks.some(t=>t instanceof Ft)}throwIfTrackTypeNotMatch(t){if(t.filter(e=>e instanceof Ft).length>1)throw new N(R.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t.filter(e=>e instanceof Qt).length>1&&(t.some(e=>e instanceof Qt&&e._bypassWebAudio)||!ft().webAudioMediaStreamDest))throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\");for(let e of t){if(e instanceof Ft&&this.pendingLocalTracks.some(n=>n instanceof Ft))throw new N(R.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e instanceof Qt&&this.pendingLocalTracks.some(n=>n instanceof Qt)&&(!ft().webAudioMediaStreamDest||e._bypassWebAudio||this.pendingLocalTracks.some(n=>n instanceof Qt&&n._bypassWebAudio)))throw new N(R.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\")}}getLowVideoTrack(t,e){let n=!v(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&ft().supportDualStreamEncoding,i=Zi(Zi({},{width:160,height:120,framerate:15,bitrate:50}),e),r;r=n?t._mediaStreamTrack.clone():dm(t,i);let o=Ut(8,\"track-low-\"),s=new Ft(r,Zi(Zi({},n&&{scaleResolutionDownBy:GE(i,t)}),{},{frameRate:i.framerate,bitrateMax:i.bitrate,bitrateMin:i.bitrate}),void 0,void 0,o);return s.on(Ko.TRANSCEIVER_UPDATED,a=>{t._updateRtpTransceiver(a,na.LOW_STREAM);}),s._hints.push(Gt.LOW_STREAM),t.on(\"sei-to-send\",a=>{s.emit(\"sei-to-send\",a);}),t.addListener(H.NEED_CLOSE,()=>{s.close();}),s}async globalLock(){return this.mutex.lock(\"From P2PChannel.globalLock\")}async reportPCStats(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(this.connection&&this.connection instanceof ki){var r,o,s,a;let c=this.store.keyMetrics.descriptionStart||0,{iceConnectionState:d,dtlsTransportState:l,peerConnectionState:u}=this.connection,{local:h,remote:p}=await this.connection.getSelectedCandidatePair();X.pcStats(this.store.sessionId,{startTime:c,eventElapse:t-c||0,iceconnectionsate:d,dtlsstate:l,connectionstate:u,intSucc:e?1:2,error:i,selectedLocalCandidateProtocol:(r=h?.protocol)!==null&&r!==void 0?r:\"\",selectedLocalCandidateType:(o=h.candidateType)!==null&&o!==void 0?o:\"\",selectedLocalCandidateAddress:\"\".concat(h.address,\":\").concat(h.port),selectedRemoteCandidateProtocol:(s=p.protocol)!==null&&s!==void 0?s:\"\",selectedRemoteCandidateType:(a=p.candidateType)!==null&&a!==void 0?a:\"\",selectedRemoteCandidateAddress:\"\".concat(p.address,\":\").concat(p.port),restartCnt:n,preallocation:this.connection.isPreallocation});}}reportVideoFirstFrameDecoded(t,e,n,i){var r;let o=Array.from(xn(r=this.remoteUserMap).call(r)).find(s=>s._videoSSRC===t);if(o){i||this.store.subscribe(o.uid,\"video\",void 0,void 0,void 0,void 0,Date.now());let s=this.store.keyMetrics,a=s.subscribe.find(c=>c.userId===o.uid&&c.type===\"video\");X.firstRemoteVideoDecode(this.store.sessionId,De.FIRST_VIDEO_DECODE,Jt.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:e,videoheight:n,subscribeElapse:qe.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId,apEnd:s.requestAPEnd||0,apStart:s.requestAPStart||0,joinGwEnd:s.joinGatewayEnd||0,joinGwStart:s.joinGatewayStart||0,pcEnd:s.peerConnectionEnd||0,pcStart:s.peerConnectionStart||0,subscriberEnd:a?.subscribeEnd||0,subscriberStart:a?.subscribeStart||0,videoAddNotify:a?.streamAdded||0,state:i?1:0,firstFrame:a?.firstFrame||0});}}async remoteMediaSsrcChanged(t,e,n){if(!this.connection)return !1;let i=this.remoteUserMap.get(t);if(!i)return !1;let r=i.get(e);if(!r)return !1;let o=await this.connection.getRemoteSSRC(r);return o!==void 0&&o!==n}unbindRtpTransceiver(){this.localTrackMap.size!==0&&Array.from(this.localTrackMap.entries()).forEach(t=>{let[e,{track:n}]=t;e===U.LocalVideoLowTrack?n._updateRtpTransceiver(void 0,na.LOW_STREAM):n._updateRtpTransceiver(void 0);});}reportPCDisconnectedOrFailed(t){this.connection&&this.connection instanceof ki&&(this.connection.iceConnectionState!==\"disconnected\"&&this.connection.iceConnectionState!==\"checking\"&&this.connection.iceConnectionState!==\"failed\"||(this._isFirstConnected?(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isFirstConnected=!1):this._pcStatsUploadType===Tr.TCP_RESTART&&t===On.RELAY?this.reportPCStats(Date.now(),!1,this._pcStatsUploadType):this.reportPCStats(Date.now(),!1,Tr.DISCONNECTED_OR_FAILED)));}},q(at.prototype,\"startP2PConnection\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"startP2PConnection\"),at.prototype),q(at.prototype,\"connect\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"connect\"),at.prototype),q(at.prototype,\"updateRemoteRTPCapabilities\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"updateRemoteRTPCapabilities\"),at.prototype),q(at.prototype,\"publishDataChannel\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"publishDataChannel\"),at.prototype),q(at.prototype,\"unpublish\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"unpublish\"),at.prototype),q(at.prototype,\"unpublishDataChannel\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"unpublishDataChannel\"),at.prototype),q(at.prototype,\"unpublishLowStream\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"unpublishLowStream\"),at.prototype),q(at.prototype,\"subscribeDataChannel\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"subscribeDataChannel\"),at.prototype),q(at.prototype,\"subscribe\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"subscribe\"),at.prototype),q(at.prototype,\"massSubscribe\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"massSubscribe\"),at.prototype),q(at.prototype,\"unsubscribe\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"unsubscribe\"),at.prototype),q(at.prototype,\"unsubscribeDataChannel\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"unsubscribeDataChannel\"),at.prototype),q(at.prototype,\"massUnsubscribe\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"massUnsubscribe\"),at.prototype),q(at.prototype,\"muteRemote\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"muteRemote\"),at.prototype),q(at.prototype,\"unmuteRemote\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"unmuteRemote\"),at.prototype),q(at.prototype,\"hasRemoteMediaWithLock\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"hasRemoteMediaWithLock\"),at.prototype),q(at.prototype,\"disconnectForReconnect\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"disconnectForReconnect\"),at.prototype),q(at.prototype,\"updateBitrateLimit\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"updateBitrateLimit\"),at.prototype),q(at.prototype,\"remoteMediaSsrcChanged\",[tn],Object.getOwnPropertyDescriptor(at.prototype,\"remoteMediaSsrcChanged\"),at.prototype),at);function tn(t,e,n){let i=t[e];if(typeof i!=\"function\")throw new Error(\"Cannot use mutex on object property.\");return n.value=async function(){let r=this.mutex,o=await r.lock(\"From P2PChannel.\".concat(e));try{for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return await i.apply(this,a)}finally{o();}},n}var C0={};function Ba(t){(!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])&&_.debug(\"install service \".concat(t.name)),C0[t.name]=t;}function Za(t){let e=C0[t];if(!e)throw new N(R.INVALID_OPERATION,\"\".concat(t,\" not found, please use AgoraRTC.use(\").concat(t,\"Service) to load it first\"));return e}function Kv(t,e){return Za(\"DataStream\").create(t,e)}function Yv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var EW=Date.now(),mW=20,hm=new Map,wl=new Map;async function I0(t){let e=hm.get(t),n=Array.isArray(e)&&e[e.length-1],i=wl.get(t);if(!n)return void(i.isSyncing=!1);let r={uid:n.uid,payload:n.payload};i.firstRecvTs===0&&(i.firstRecvTs=n.recvTs,i.firstSendTs=n.sendTs);let o=n.sendTs-i.firstSendTs,s=o-(Date.now()-i.firstRecvTs);s>0&&(i.firstRecvTs=Date.now()-o);let a=n.mediaDelay+s;a<=0?(e.pop(),v0(n.context,r),a=0):a=Math.min(a,mW),setTimeout(()=>e.length&&I0(t),a);}function v0(t,e){t.safeEmit(ut.STREAM_MESSAGE,e.uid,e.payload),t.onStreamMessage&&t.onStreamMessage(e);}function fW(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(!t.syncWithAudio)return v0(n,{uid:t.uid,payload:t.payload});let i=\"\".concat(n.id,\"-\").concat(t.uid),r=hm.get(i)||[],o=r.findIndex(d=>t.sendTs>=d.sendTs),s=qv(qv({},t),{},{context:n,mediaDelay:e,recvTs:Date.now()});o===-1?r.push(s):r.splice(o,0,s),hm.set(i,r);let a=!1;var c;wl.has(i)?a=!((c=wl.get(i))===null||c===void 0||!c.isSyncing):wl.set(i,{isSyncing:a,firstRecvTs:0,firstSendTs:0}),a||I0(i);}var gW=mt().name;function zv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Jv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zv(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var zs=\"websdk_ng_cache_parameter\",TW=v(\"MAX_PRELOAD_ASYNC_LENGTH\"),SW=1e4,Mo=new Map,Uo=[],f_=null,g_=0,T_=0,Xd=new Map,RW=function(t,e){let n=[],i=0,r=async()=>{let o=n.shift();o&&await o(),n.length>0&&i<e?r():i--;};return async function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return new j(async(c,d)=>{n.push(async()=>{try{let l=await t(...s);c(l);}catch(l){d(l);}}),i<e&&(i++,r());})}}(y0,TW),S_=mn.CancelToken.source();async function y0(t,e,n,i,r,o){try{if(!v(\"ENABLE_PRELOAD\"))return;if(!ft().supportWebCrypto)return void po(()=>{_.warn(\"Your browser does not support preloading, this feature  be run in a secure environment\");},\"preload_webcrypto_not_supported\");if(!n&&n!==null)throw new N(R.INVALID_PARAMS,\"Invalid token: \".concat(n,\". If you don not use token, set it to null\"));n&&Pe(n,\"token\",1,2047),Pe(t,\"appid\",1,2047),Xu(e),i&&Qu(i);let s=Ms();_.debug(\"preload channel \".concat(e,\", uid is \").concat(i));let a={appId:t,cname:e,token:n||t,uid:typeof i!=\"string\"?i:null,sid:s,proxyServer:r},c,d;typeof i==\"string\"?(a.stringUid=i,[d,c]=await j.all([YG(i,{sid:s,appId:t},S_.token),ev(Jv(Jv({},a),{},{token:n||t,uid:0}),S_.token)]),a.uid=d.uid,c.gatewayInfo.uid=a.uid,c.gatewayInfo.res.uid=a.uid):(o&&(a.stringUid=o),c=await ev(a,S_.token));let l={sid:s,appId:t,cname:e,token:n||t,uid:a.stringUid||i,intUid:a.uid||c.gatewayInfo.uid,stringUid:a.stringUid,ts:Date.now(),sua:d,ap:c};await async function(u){let h;try{u.uid&&A0({appId:u.appId,cname:u.cname,token:u.token,uid:u.uid,stringUid:u.stringUid});let p=O0(u),g=await async function(f,S){try{let C=await window.crypto.subtle.importKey(\"raw\",yO(S),\"AES-GCM\",!1,[\"encrypt\"]),A=await window.crypto.subtle.encrypt({name:\"AES-GCM\",iv:new Uint8Array(1)},C,Fo(window.btoa(JSON.stringify(f))));return so(new Uint8Array(A))}catch{return}}(u,u.token||u.appId);if(!g)return;h=w0(zs);let E=h?JSON.parse(h):[];E.push({[p]:g}),E.length>v(\"AP_CACHE_NUM\")&&E.shift(),gu(zs,JSON.stringify(E));}catch(p){_.warn(\"Error caching server parameters:\",p.message),gu(zs,\"\");}}(l),g_++;}catch(s){throw T_++,function(a){f_||(f_=window.setTimeout(()=>{let d=\"\";Xd.forEach((l,u)=>{d+=\"\".concat(u,\": \").concat(l,\" ;\");}),X.reportApiInvoke(null,{name:Te.PRELOAD,options:{success:g_,failed:T_,err:d}}).onError(a),g_=0,T_=0,Xd.clear(),f_=null;},SW));let c=Xd.get(a.code)||0;Xd.set(a.code,c+1);}(s),s}}async function Xv(t){try{let e=A0(t);if(!e||t.cloudProxyServer!==\"disabled\")return;let n=await async function(i,r){try{let o=await window.crypto.subtle.importKey(\"raw\",yO(r),\"AES-GCM\",!1,[\"decrypt\"]),s=await window.crypto.subtle.decrypt({name:\"AES-GCM\",iv:new Uint8Array(1)},o,Fo(i));return JSON.parse(window.atob(so(new Uint8Array(s))))}catch{return}}(e,t.token||t.appId);if(!n||!function(i,r){return i.cname===r.cname&&i.appId===r.appId&&i.token===r.token?r.stringUid?i.stringUid===r.stringUid:typeof r.uid==\"number\"?i.uid===r.uid:i.uid==r.uid:!1}(n,t))return;if(n&&Date.now()-n.ts<v(\"AP_CACHE_LIFETIME\"))return n}catch(e){_.warn(\"Error get preloadInfo\",e.message);}}function A0(t){let e;try{if(e=w0(zs),!e)return;let n=JSON.parse(e),i=O0(t),r=function(s,a){for(let c=s.length-1;c>=0;c--)if(a(s[c]))return c;return -1}(n,s=>i in s);if(r===-1)return;let o=n.splice(r,1)[0];return gu(zs,JSON.stringify(n)),o[i]}catch(n){_.warn(\"Error delete preload info: \".concat(e),n.message),gu(zs,\"\");}}function Df(t){if(t){let e=Mo.get(t);e&&(window.clearTimeout(e),e=null,Mo.delete(t)),W(Uo).call(Uo,t)||t.cloudProxyServer!==\"disabled\"||Uo.push(t);}if(Mo.size<v(\"AP_CACHE_NUM\")&&Uo.length>0){let e=Uo.shift();Mo.set(e,window.setTimeout(async()=>{let{appId:n,cname:i,token:r,stringUid:o,uid:s,proxyServer:a}=e;try{await RW(n,i,r,s,a,o),Mo.has(e)&&Df(e);}catch(c){_.warn(\"update preload failed\",c.message),b0(e);}},v(\"AP_UPDATE_INTERVAL\")));}}function b0(t){let e=Uo.indexOf(t);e!==-1&&Uo.splice(e,1);let n=Mo.get(t);n&&(window.clearTimeout(n),n=null,Mo.delete(t),Df());}function Qv(t,e){let n=t.sua,i=t.ap;e&&n&&X.reqUserAccount(t.sid,{lts:n.requestTime,elapse:n.elapse,success:!0,serverAddr:n.url,stringUid:e,uid:t.intUid,errorCode:null,extend:n.req}),X.reportResourceTiming(t.ap.url,t.sid),X.joinWebProxyAP(t.sid,{lts:i.requestTime,elapse:i.elapse,sucess:1,apServerAddr:i.url,turnServerAddrList:i.proxyInfo.addresses.map(r=>r.ip).join(\",\"),eventType:\"disabled\",unilbsServerIds:[ue.CHOOSE_SERVER,ue.CLOUD_PROXY_FALLBACK].toString()}),X.joinChooseServer(t.sid,{lts:i.requestTime,elapse:i.elapse,succ:!0,csAddr:i.url,opid:i.opid,serverList:i.gatewayInfo.gatewayAddrs.map(r=>r.address),ec:null,cid:i.gatewayInfo.cid.toString(),uid:i.gatewayInfo.uid.toString(),csIp:i.gatewayInfo.csIp,unilbsServerIds:[ue.CHOOSE_SERVER].toString(),isHttp3:i.isHttp3});}function w0(t){return window.atob(window.localStorage.getItem(t)||\"\")}function gu(t,e){window.localStorage.setItem(t,window.btoa(e));}function O0(t){let e=\"\".concat(t.appId,\"_\").concat(t.cname);return typeof t.uid==\"string\"&&(e+=\"_s_\".concat(t.uid)),typeof t.uid==\"number\"&&(e+=\"_\".concat(t.uid)),t.token&&(e+=\"_\".concat(t.token)),bO(e)}function CW(t){let e=function(){let n=yW.pop();return n?(n.offset=n.limit=0,n):{bytes:new Uint8Array(64),offset:0,limit:0}}();return function(n,i){let r=n.appId;r!==void 0&&(de(i,10),Hr(i,r));let o=n.cid;o!==void 0&&(de(i,16),de(i,o));let s=n.cname;s!==void 0&&(de(i,26),Hr(i,s));let a=n.deviceId;a!==void 0&&(de(i,34),Hr(i,a));let c=n.elapse;c!==void 0&&(de(i,40),Kr(i,c));let d=n.fileSize;d!==void 0&&(de(i,48),Kr(i,Ss(d)));let l=n.height;l!==void 0&&(de(i,56),Kr(i,Ss(l)));let u=n.jpg;u!==void 0&&(de(i,66),de(i,u.length),Zv(i,u));let h=n.networkType;h!==void 0&&(de(i,72),Kr(i,Ss(h)));let p=n.osType;p!==void 0&&(de(i,80),Kr(i,Ss(p)));let g=n.requestId;g!==void 0&&(de(i,90),Hr(i,g));let E=n.sdkVersion;E!==void 0&&(de(i,98),Hr(i,E));let f=n.sequence;f!==void 0&&(de(i,104),Kr(i,Ss(f)));let S=n.sid;S!==void 0&&(de(i,114),Hr(i,S));let C=n.timestamp;C!==void 0&&(de(i,120),Kr(i,C));let A=n.uid;A!==void 0&&(de(i,128),de(i,A));let b=n.vid;b!==void 0&&(de(i,136),de(i,b));let w=n.width;w!==void 0&&(de(i,144),Kr(i,Ss(w)));let D=n.service;D!==void 0&&(de(i,152),de(i,D));let k=n.callbackData;k!==void 0&&(de(i,162),de(i,k.length),Zv(i,k));let B=n.ticket;B!==void 0&&(de(i,170),Hr(i,B));let V=n.vendorConfigs;V!==void 0&&(de(i,178),Hr(i,V));}(t,e),function(n){let i=n.bytes,r=n.limit;return i.length===r?i:i.subarray(0,r)}(e)}function IW(t){return function(n){let i={};t:for(;!AW(n);){let r=$a(n);switch(r>>>3){case 0:break t;case 1:i.code=$a(n);break;case 2:i.msg=$v(n,$a(n));break;case 3:i.requestId=$v(n,$a(n));break;case 4:i.timestamp=bW(n,!1);break;default:vW(n,7&r);}}return i}({bytes:e=t,offset:0,limit:e.length});var e;}function vW(t,e){switch(e){case 0:for(;128&gi(t););break;case 2:R_(t,$a(t));break;case 5:R_(t,4);break;case 1:R_(t,8);break;default:throw new Error(\"Unimplemented type: \"+e)}}function Ss(t){return {low:t|=0,high:t>>31,unsigned:t>=0}}var yW=[];function R_(t,e){if(t.offset+e>t.limit)throw new Error(\"Skip past limit\");t.offset+=e;}function AW(t){return t.offset>=t.limit}function $u(t,e){let n=t.bytes,i=t.offset,r=t.limit,o=i+e;if(o>n.length){let s=new Uint8Array(2*o);s.set(n),t.bytes=s;}return t.offset=o,o>r&&(t.limit=o),i}function N0(t,e){let n=t.offset;if(n+e>t.limit)throw new Error(\"Read past limit\");return t.offset+=e,n}function Zv(t,e){let n=$u(t,e.length);t.bytes.set(e,n);}function $v(t,e){let n=N0(t,e),i=String.fromCharCode,r=t.bytes,o=\"\\uFFFD\",s=\"\";for(let a=0;a<e;a++){let c,d,l,u,h=r[a+n];128&h?(224&h)==192?a+1>=e?s+=o:(c=r[a+n+1],(192&c)!=128?s+=o:(u=(31&h)<<6|63&c,u<128?s+=o:(s+=i(u),a++))):(240&h)==224?a+2>=e?s+=o:(c=r[a+n+1],d=r[a+n+2],(49344&(c|d<<8))!=32896?s+=o:(u=(15&h)<<12|(63&c)<<6|63&d,u<2048||u>=55296&&u<=57343?s+=o:(s+=i(u),a+=2))):(248&h)==240?a+3>=e?s+=o:(c=r[a+n+1],d=r[a+n+2],l=r[a+n+3],(12632256&(c|d<<8|l<<16))!=8421504?s+=o:(u=(7&h)<<18|(63&c)<<12|(63&d)<<6|63&l,u<65536||u>1114111?s+=o:(u-=65536,s+=i(55296+(u>>10),56320+(1023&u)),a+=3))):s+=o:s+=i(h);}return s}function Hr(t,e){let n=e.length,i=0;for(let s=0;s<n;s++){let a=e.charCodeAt(s);a>=55296&&a<=56319&&s+1<n&&(a=(a<<10)+e.charCodeAt(++s)-56613888),i+=a<128?1:a<2048?2:a<65536?3:4;}de(t,i);let r=$u(t,i),o=t.bytes;for(let s=0;s<n;s++){let a=e.charCodeAt(s);a>=55296&&a<=56319&&s+1<n&&(a=(a<<10)+e.charCodeAt(++s)-56613888),a<128?o[r++]=a:(a<2048?o[r++]=a>>6&31|192:(a<65536?o[r++]=a>>12&15|224:(o[r++]=a>>18&7|240,o[r++]=a>>12&63|128),o[r++]=a>>6&63|128),o[r++]=63&a|128);}}function gi(t){return t.bytes[N0(t,1)]}function ty(t,e){let n=$u(t,1);t.bytes[n]=e;}function $a(t){let e,n=0,i=0;do e=gi(t),n<32&&(i|=(127&e)<<n),n+=7;while(128&e);return i}function de(t,e){for(e>>>=0;e>=128;)ty(t,127&e|128),e>>>=7;ty(t,e);}function bW(t,e){let n,i=0,r=0,o=0;return n=gi(t),i=127&n,128&n&&(n=gi(t),i|=(127&n)<<7,128&n&&(n=gi(t),i|=(127&n)<<14,128&n&&(n=gi(t),i|=(127&n)<<21,128&n&&(n=gi(t),r=127&n,128&n&&(n=gi(t),r|=(127&n)<<7,128&n&&(n=gi(t),r|=(127&n)<<14,128&n&&(n=gi(t),r|=(127&n)<<21,128&n&&(n=gi(t),o=127&n,128&n&&(n=gi(t),o|=(127&n)<<7))))))))),{low:i|r<<28,high:r>>>4|o<<24,unsigned:e}}function Kr(t,e){let n=e.low>>>0,i=(e.low>>>28|e.high<<4)>>>0,r=e.high>>>24,o=r===0?i===0?n<16384?n<128?1:2:n<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:r<128?9:10,s=$u(t,o),a=t.bytes;switch(o){case 10:a[s+9]=r>>>7&1;case 9:a[s+8]=o!==9?128|r:127&r;case 8:a[s+7]=o!==8?i>>>21|128:i>>>21&127;case 7:a[s+6]=o!==7?i>>>14|128:i>>>14&127;case 6:a[s+5]=o!==6?i>>>7|128:i>>>7&127;case 5:a[s+4]=o!==5?128|i:127&i;case 4:a[s+3]=o!==4?n>>>21|128:n>>>21&127;case 3:a[s+2]=o!==3?n>>>14|128:n>>>14&127;case 2:a[s+1]=o!==2?n>>>7|128:n>>>7&127;case 1:a[s]=o!==1?128|n:127&n;}}var ey={},ny={},Tu=4294967296,D0=Tu*Tu,iy=D0/2;P0(0,!0);var ry=P0(0),wW=sa(0,-2147483648,!1),OW=sa(-1,2147483647,!1);function P0(t,e){let n,i,r;return e?(r=0<=(t>>>=0)&&t<256)&&(i=ny[t],i)?i:(n=sa(t,0,!0),r&&(ny[t]=n),n):(r=-128<=(t|=0)&&t<128)&&(i=ey[t],i)?i:(n=sa(t,t<0?-1:0,!1),r&&(ey[t]=n),n)}function sa(t,e,n){return {low:0|t,high:0|e,unsigned:!!n}}function DW(t,e){if(isNaN(t))return ry;{if(t<=-iy)return wW;if(t+1>=iy)return OW}return t<0?ry:sa(t%Tu|0,t/Tu|0,e)}function oy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}var pm=class t extends Xt{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;let n=this._connectionState;this._connectionState=e,this.emit(Mi.CONNECTION_STATE_CHANGE,e,n);}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this._qualityTimer&&(window.clearTimeout(this._qualityTimer),this._qualityTimer=null),this._quality>=1||(this._qualityTimer=window.setTimeout(()=>{this.quality=this._quality/this._qualityRatio;},6e4));}constructor(e){var n;super(),T(this,\"name\",\"AgoraRTCImageModeration\"),T(this,\"_connectionState\",Xn.CONNECTING),T(this,\"_sequence\",0),T(this,\"_moderationStartTime\",void 0),T(this,\"_workerConnection\",void 0),T(this,\"_workerMessageLengthLimit\",void 0),T(this,\"_qualityRatio\",void 0),T(this,\"_connectInfo\",void 0),T(this,\"_cancelTokenSource\",mn.CancelToken.source()),T(this,\"_retryConfig\",void 0),T(this,\"_moderationInterval\",void 0),T(this,\"_moderationTimer\",null),T(this,\"_moderationMode\",1),T(this,\"_quality\",1),T(this,\"_qualityTimer\",null),T(this,\"_ticket\",void 0),T(this,\"_moderationIntervalMinimum\",void 0),T(this,\"_uploadFailedNum\",0),T(this,\"_uploadNum\",0),T(this,\"_uploadTimer\",null),T(this,\"_extraInfo\",void 0),T(this,\"_vendor\",\"\"),T(this,\"_encoder\",new TextEncoder),T(this,\"_moderationId\",void 0),T(this,\"inspectImage\",()=>{if(this.connectionState!==Xn.CONNECTED)throw new O(R.OPERATION_ABORTED,\"image moderation service connection status is \".concat(this.connectionState));this._moderationTimer&&(window.clearInterval(this._moderationTimer),this._moderationTimer=null),this._moderationTimer=window.setInterval(()=>{this.connectionState===Xn.CONNECTED?this.requestToInspectImage():_.debug(\"[\".concat(this._moderationId,\"] Moderation State is not connected , \"),this.connectionState);},this._moderationInterval<this._moderationIntervalMinimum?this._moderationIntervalMinimum:this._moderationInterval),this.requestToInspectImage();}),this._moderationId=Ut(5,\"image-moderation-\"),this._workerMessageLengthLimit=v(\"IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT\"),this._moderationIntervalMinimum=v(\"IMAGE_MODERATION_INTERVAL_MINIMUM\"),this._moderationInterval=(n=e.interval)!==null&&n!==void 0?n:1e3,e.extraInfo&&(this._extraInfo=this._encoder.encode(e.extraInfo)),e.vendor&&(this._vendor=e.vendor),this._qualityRatio=v(\"IMAGE_MODERATION_QUALITY_RATIO\"),this._moderationStartTime=Number(Date.now()),this._workerConnection=new Qo(\"worker-\"+this._moderationId,Ee),this.on(Mi.STATE_CHANGE,(i,r)=>{_.debug(\"[\".concat(this._moderationId,\"] Moderation operation :\").concat(hs[i],\" \").concat(r||\"\"));}),this.handleWorkerEvents();}async init(e,n){this.emit(Mi.STATE_CHANGE,hs.CONNECT_AP),this._connectInfo=e;let i=this._cancelTokenSource.token;return this._retryConfig=n,new j((r,o)=>{this.on(Mi.CONNECTION_STATE_CHANGE,(s,a)=>{s===Xn.CONNECTED&&r();}),this.requestAP(e,i,n).then(s=>{this.connectWorker(s);}).catch(s=>{o(s);});})}updateConfig(e){var n;this._moderationInterval=(n=e.interval)!==null&&n!==void 0?n:1e3,e.extraInfo&&(this._extraInfo=this._encoder.encode(e.extraInfo)),e.vendor&&(this._vendor=e.vendor),_.debug(\"[\".concat(this._moderationId,\"] updateConfig: \").concat(JSON.stringify(e))),this.connectionState===Xn.CONNECTED&&this.inspectImage();}async requestAP(e,n,i){let r=v(\"WEBCS_DOMAIN\").map(c=>\"https://\".concat(c,\"/api/v1\")),o=await function(c,d,l,u){let{appId:h,areaCode:p,cname:g,sid:E,token:f,uid:S}=d;Ys++;let C=\"moderation_plugin\",A={service_name:C,json_body:JSON.stringify({appId:h,areaCode:p,cname:g,command:\"allocateEdge\",requestId:Ys,seq:Ys,sid:E,appToken:f,ts:Date.now(),uid:S+\"\"})},b,w,D=c[0];return Wi(async()=>{b=Date.now();let k=await Hi(D,{data:A,cancelToken:l,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"},params:{action:\"wrtc_gateway\"}});if(w=Date.now()-b,k.code!==0){let z=new O(R.UNEXPECTED_RESPONSE,\"moderation plugin ap error, code\"+k.code,{retry:!0,responseTime:w});throw _.error(z.toString()),z}let B=JSON.parse(k.json_body);if(B.code!==200){let z=new O(R.UNEXPECTED_RESPONSE,\"moderation plugin ap error, code: \".concat(B.code,\", reason: \").concat(B.reason),{code:B.code,responseTime:w});throw _.error(z.toString()),z}if(!B.servers||!Array.isArray(B.servers)||B.servers.length===0){let z=new O(R.UNEXPECTED_RESPONSE,\"moderation plugin ap empty server\",{code:B.code,responseTime:w});throw _.error(z.toString()),z}if(!B.servers.some(z=>!!z.wss)){let z=new O(R.UNEXPECTED_RESPONSE,\"moderation plugin ap empty port\",{code:B.code,responseTime:w});throw _.error(z.toString()),z}let V=v(\"IMAGE_MODERATION_WORKER_HOST\");return {addressList:B.servers.map(z=>{let{address:lt,wss:vt}=z;if(lt&&vt)return \"wss://\".concat(lt.replace(/\\./g,\"-\"),\".\").concat(V,\":\").concat(vt,\"/moderation\")}).filter(z=>!!z),workerToken:B.workerToken,vid:B.vid,ticket:B.appTicket,responseTime:w}},(k,B)=>(X.apworkerEvent(E,{success:!0,sc:200,serviceName:C,responseDetail:JSON.stringify(k.addressList),firstSuccess:B===0,responseTime:w,serverIp:c[B%c.length]}),!1),(k,B)=>(X.apworkerEvent(E,{success:!1,sc:k.data&&k.data.code||200,serviceName:C,responseTime:w,serverIp:c[B%c.length]}),!!(k.code!==R.OPERATION_ABORTED&&k.code!==R.UNEXPECTED_RESPONSE||k.data&&k.data.retry)&&(D=c[(B+1)%c.length],!0)),u)}(r,e,n,i);this.emit(Mi.STATE_CHANGE,hs.AP_CONNECTED);let{addressList:s,ticket:a}=o;return this._ticket=a,s}async connectWorker(e){this.emit(Mi.STATE_CHANGE,hs.CONNECT_WORKER),await this._workerConnection.init(e,1e4);}handleWorkerEvents(){this._workerConnection.on(it.CONNECTED,async()=>{this.emit(Mi.STATE_CHANGE,hs.WORKER_CONNECTED,this._workerConnection.url),this.connectionState=Xn.CONNECTED;}),this._workerConnection.on(it.CLOSED,()=>{this.connectionState=Xn.CLOSED;}),this._workerConnection.on(it.FAILED,()=>{this.connectionState=Xn.CLOSED;}),this._workerConnection.on(it.RECONNECTING,()=>{this.connectionState=this.connectionState===Xn.CONNECTED?Xn.RECONNECTING:Xn.CONNECTING;}),this._workerConnection.on(it.ON_MESSAGE,async e=>{if(e.data instanceof ArrayBuffer){let n=IW(new Uint8Array(e.data));v(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&_.debug(\"[\".concat(this._moderationId,\"] Response message for worker of image moderation \"),JSON.stringify(n)),this._uploadNum++,n.code===void 0||n.code===0||(this._uploadFailedNum++,_.error(\"[\".concat(this._moderationId,\"] Error response from worke, code is \").concat(n.code,\", msg is \").concat(n.msg)),this._uploadTimer||(this._uploadTimer=window.setTimeout(()=>{X.reportApiInvoke(this._connectInfo.sid||null,{name:Te.IMAGE_MODERATION_UPLOAD,options:[this._uploadFailedNum,this._uploadNum,n.code],tag:Zt.TRACER}).onError(new O(R.IMAGE_MODERATION_UPLOAD_FAILED,n.msg)),this._uploadTimer=null;},v(\"IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL\"))));}else _.error(\"[\".concat(this._moderationId,\"] Unexpected message type from worker\"));}),this._workerConnection.on(it.WILL_RECONNECT,(e,n,i)=>{e===\"recover\"&&i(e),i(\"tryNext\");}),this._workerConnection.on(it.REQUEST_NEW_URLS,(e,n)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(n);});}static intToLong(e){return {low:e|=0,high:e>>31,unsigned:e>=0}}async requestToInspectImage(){let e=ni(this,Mi.CLIENT_LOCAL_VIDEO_TRACK),n={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void(v(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&_.debug(\"Only the track being played can be inspected\"));this._sequence++;let i=await this.generateRequestData(e,n);this._workerConnection.sendMessage(i,!0,!0);}else v(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&_.debug(\"Only the track being published can be inspected\");}async generateRequestData(e,n){let{appId:i,cname:r,cid:o,vid:s,sid:a,uid:c}=n,d=Date.now(),l=await e.getCurrentFrameImage(\"image/jpeg\",this.quality),u=await QO(l,i,r),h=this._sequence+\"-\"+o+\"-\"+c+\"-\"+d+\"-\"+Ut(12,\"\"),p={appId:i,cid:o,cname:r,deviceId:\"\",elapse:t.intToLong(Number(d-this._moderationStartTime)),fileSize:l.buffer.byteLength,height:l.height,width:l.width,jpg:u,networkType:6,osType:7,requestId:h,sdkVersion:\"4.22.0\",sequence:this._sequence,sid:a,timestamp:DW(d),uid:c,vid:s,service:this._moderationMode,ticket:this._ticket,callbackData:this._extraInfo,vendorConfigs:this._vendor};this._extraInfo===void 0&&delete p.callbackData;let g=CW(p);if(g.byteLength<this._workerMessageLengthLimit){if(v(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")){let E=function(f){for(var S=1;S<arguments.length;S++){var C=arguments[S]!=null?arguments[S]:{};S%2?oy(Object(C),!0).forEach(function(A){T(f,A,C[A]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):oy(Object(C)).forEach(function(A){Object.defineProperty(f,A,Object.getOwnPropertyDescriptor(C,A));});}return f}({},p);delete E.jpg,_.debug(\"[\".concat(this._moderationId,\"] Request message for worker of image moderation service: \"),JSON.stringify(E));}return g}{let E=this.quality*this._qualityRatio;return this.quality=E,await this.generateRequestData(e,{appId:i,cname:r,cid:o,vid:s,sid:a,uid:c})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=mn.CancelToken.source(),this._workerConnection&&this._workerConnection.close(),this._moderationTimer&&window.clearInterval(this._moderationTimer),this._moderationTimer=null,this._uploadTimer&&window.clearTimeout(this._uploadTimer),this._uploadTimer=null,this.connectionState=Xn.CLOSED,this.emit(Mi.STATE_CHANGE,hs.CLOSED);}};function k0(t){if(Nt(t.interval,\"interval\",1e3,1/0),t&&t.extraInfo&&t.extraInfo.length>1024)throw new O(R.INVALID_PARAMS,\"config.extraInfo length cannot exceed 1024 bytes\");if(t&&t.vendor&&t.vendor.length>1024)throw new O(R.INVALID_PARAMS,\"config.vendor length cannot exceed 1024 bytes\")}var PW={name:\"ImageModeration\",create:function(t){let{config:e}=t;return k0(e),new pm(e)}},sy,ay,cy,dy,ly,uy,hy,py,_y,Ey,my,fy,gy,Ty,Sy,Ry,Cy,Iy,vy,yy,Ay,by,wy,Oy,Ny,Dy,Py,ky,Ly,My,Uy,xy,Vy,Fy,By,jy,Gy,Wy,Hy,Ky,G;function Yy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yy(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yy(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}ze.setLogger(_);var kW=(sy=$(),ay=$({argsMap:(t,e)=>{if(!Array.isArray(e)){if(!(e instanceof no))return [e];e=[e];}return e.map(n=>n?Object(n).toString():\"null\")}}),cy=$({argsMap:(t,e)=>(e||(e=[]),Array.isArray(e)||e.trackMediaType!==fa.DATA?(Array.isArray(e)||(e=[e]),e.map(n=>n.getTrackId())):[e.getChannelId()])}),dy=$({argsMap:(t,e,n,i)=>[typeof e==\"object\"?e.uid:e,n,i]}),ly=$({argsMap:(t,e,n)=>[e,n]}),uy=$({argsMap:(t,e)=>e.map(n=>{let{user:i,mediaType:r}=n;return [i?.uid,r]})}),hy=$({argsMap:(t,e,n,i)=>[typeof e==\"object\"?e.uid:e,n,i]}),py=$({argsMap:(t,e)=>e.map(n=>{let{user:i,mediaType:r}=n;return {uid:i?.uid,mediaType:r}})}),_y=$(),Ey=$(),my=$(),fy=$(),gy=$(),Ty=$(),Sy=$(),Ry=$(),Cy=$(),Iy=$(),vy=$(),yy=$(),Ay=$(),by=$(),wy=$({argsMap:(t,e)=>[e]}),Oy=$(),Ny=$(),Dy=$(),Py=$(),ky=$(),Ly=$(),My=$(),Uy=$(),xy=$({argsMap:(t,e)=>(Array.isArray(e)||(e=[e]),[JSON.stringify(e)])}),Vy=$(),Fy=$(),By=$(),jy=$(),Gy=$(),Wy=$(),Hy=$({reportResult:!0}),Ky=$(),G=class extends Xt{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get localDataChannels(){return this._p2pChannel.getAllDataChannels()}get mode(){return this._config.mode}get role(){var t;return ((t=this._config)===null||t===void 0?void 0:t.role)||\"audience\"}get codec(){return this._config.codec}get audioCodec(){return this._config.audioCodec||\"opus\"}get isStringUID(){return !!this._joinInfo&&!!this._joinInfo.stringUid}get __className__(){return \"Client\"}constructor(t){let e;if(super(),T(this,\"store\",void 0),T(this,\"_uid\",void 0),T(this,\"_channelName\",void 0),T(this,\"_uintUid\",void 0),T(this,\"_users\",[]),T(this,\"_config\",void 0),T(this,\"_clientId\",void 0),T(this,\"_appId\",void 0),T(this,\"_sessionId\",null),T(this,\"_key\",void 0),T(this,\"_rtmConfig\",{}),T(this,\"_joinInfo\",void 0),T(this,\"_gateway\",void 0),T(this,\"_statsCollector\",void 0),T(this,\"_configDistribute\",void 0),T(this,\"_leaveMutex\",new ze(\"client-leave\")),T(this,\"_publishMutex\",new ze(\"client-publish\")),T(this,\"_renewTokenMutex\",new ze(\"client-renewtoken\")),T(this,\"_subscribeMutex\",new ze(\"client-subscribe\")),T(this,\"_encryptionMode\",\"none\"),T(this,\"_encryptionSecret\",null),T(this,\"_encryptionSalt\",null),T(this,\"_encryptDataStream\",!1),T(this,\"_encryptDataStreamKey\",null),T(this,\"_encryptDataStreamIv\",null),T(this,\"_proxyServer\",void 0),T(this,\"_turnServer\",{servers:[],mode:\"auto\"}),T(this,\"_cloudProxyServerMode\",\"disabled\"),T(this,\"_isDualStreamEnabled\",!1),T(this,\"_defaultStreamFallbackType\",void 0),T(this,\"_lowStreamParameter\",void 0),T(this,\"_streamFallbackTypeCacheMap\",new Map),T(this,\"_remoteStreamTypeCacheMap\",new Map),T(this,\"_axiosCancelSource\",mn.CancelToken.source()),T(this,\"_audioVolumeIndicationInterval\",void 0),T(this,\"_networkQualityInterval\",void 0),T(this,\"_userOfflineTimeout\",void 0),T(this,\"_streamRemovedTimeout\",void 0),T(this,\"_liveTranscodeStreamingClient\",void 0),T(this,\"_liveRawStreamingClient\",void 0),T(this,\"_channelMediaRelayClient\",void 0),T(this,\"_networkQualitySensitivity\",\"normal\"),T(this,\"_p2pChannel\",void 0),T(this,\"_useLocalAccessPoint\",!1),T(this,\"_setLocalAPVersion\",void 0),T(this,\"_joinAndNotLeaveYet\",!1),T(this,\"_numberOfJoinCount\",0),T(this,\"_remoteDefaultVideoStreamType\",void 0),T(this,\"_inspect\",void 0),T(this,\"_moderation\",void 0),T(this,\"_license\",void 0),T(this,\"_pendingPublishedUsers\",[]),T(this,\"ntpAlignErrorCount\",0),T(this,\"remoteInboundOffset\",0),T(this,\"_handleLocalTrackEnable\",(n,i,r)=>{this.publish(n,!1).then(i).catch(r);}),T(this,\"_handleLocalTrackDisable\",(n,i,r)=>{this.unpublish(n).then(i).catch(r);}),T(this,\"_handleUserOnline\",n=>{if(v(\"BLOCK_LOCAL_CLIENT\")&&Io(n.uid,this.channelName))return void _.debug(\"[\".concat(n.uid,\"] will be ignored in local\"));this.isStringUID&&typeof n.uid!=\"string\"&&_.error(\"[\".concat(this._clientId,\"] StringUID is Mixed with UintUID\"));let i=this._users.find(r=>r.uid===n.uid);if(i)i._trust_in_room_=!0,i._is_pre_created&&(i._is_pre_created=!1,this.safeEmit(ut.USER_JOINED,i));else {let r=new ir(n.uid,n.uint_id||n.uid);this._users.push(r),_.debug(\"[\".concat(this._clientId,\"] user online\"),n.uid),this.safeEmit(ut.USER_JOINED,r);}}),T(this,\"_handleUserOffline\",n=>{if(v(\"BLOCK_LOCAL_CLIENT\")&&Io(n.uid,this.channelName))return;let i=this._users.find(r=>r.uid===n.uid);i&&(this._handleRemoveStream(n),this._handleRemoveDataChannels(n),i._audio_pre_subscribed||i._video_pre_subscribed?i._is_pre_created=!0:Wl(this._users,i),this._remoteStreamTypeCacheMap.delete(i.uid),this._streamFallbackTypeCacheMap.delete(i.uid),_.debug(\"[\".concat(this._clientId,\"] user offline\"),n.uid,\"reason:\",n.reason),this.safeEmit(ut.USER_LEAVED,i,n.reason));}),T(this,\"_handleAddAudioOrVideoStream\",(n,i,r,o,s,a,c)=>{if(v(\"BLOCK_LOCAL_CLIENT\")&&Io(i,this.channelName))return;let d=this._users.find(u=>u.uid===i);if(!d)return void _.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_stream)\"));_.debug(\"[\".concat(this._clientId,\"] stream added with uid \").concat(i,\", type \").concat(n)),this.store.subscribe(d.uid,n,void 0,void 0,void 0,Date.now());let l=n===\"audio\"?d.hasAudio:d.hasVideo;d._uintid||(d._uintid=s||i),n===\"audio\"?d._trust_audio_stream_added_state_=!0:d._trust_video_stream_added_state_=!0,n===\"audio\"?(d._audio_added_=!0,r!==void 0&&(d._audioSSRC=r),o!==void 0&&(d._cname=o),a&&(d._audioOrtc=a)):(d._video_added_=!0,r!==void 0&&(d._videoSSRC=r),o!==void 0&&(d._cname=o),c!==void 0&&(d._rtxSsrcId=c),a&&(d._videoOrtc=a)),(n===\"audio\"?d.hasAudio:d.hasVideo)&&!l&&(_.info(\"[\".concat(this._clientId,\"] remote user \").concat(d.uid,\" published \").concat(n)),this.safeEmit(ut.USER_PUBLISHED,d,n)),n===\"video\"?X.onGatewayStream(this._sessionId,De.ON_ADD_VIDEO_STREAM,Jt.ON_ADD_VIDEO_STREAM,{peer:s||i,ssrc:d._videoSSRC}):X.onGatewayStream(this._sessionId,De.ON_ADD_AUDIO_STREAM,Jt.ON_ADD_AUDIO_STREAM,{peer:s||i,ssrc:d._audioSSRC}),this._p2pChannel.remoteMediaSsrcChanged(d,n,r).then(u=>{if(u&&(_.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(n,\" for user \").concat(d.uid,\" after rejoin because SSRC id changed.\")),this._p2pChannel instanceof Jd))return this._p2pChannel.unsubscribe(d,n,!0).then(()=>this._subscribe(d,n,!0).catch(h=>{_.error(\"[\".concat(this._clientId,\"] resubscribe error\"),h.toString());}))}),this._p2pChannel.hasPendingRemoteMedia(d,n)&&(_.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(n,\" for user \").concat(d.uid,\" after reconnect.\")),this._subscribe(d,n,!0).catch(u=>{_.error(\"[\".concat(this._clientId,\"] resubscribe error\"),u.toString());}));}),T(this,\"_handleRemoveStream\",n=>{if(v(\"BLOCK_LOCAL_CLIENT\")&&Io(n.uid,this.channelName))return;let i=this._users.find(o=>o.uid===n.uid);if(!i)return void _.warning(\"[\".concat(this._clientId,\"] can not find target user!(on_remove_stream)\"));_.debug(\"[\".concat(this._clientId,\"] stream removed with uid \").concat(n.uid));let r=()=>{};i.hasAudio&&i.hasVideo?r=()=>{_.info(\"[\".concat(this._clientId,\"] remote user \").concat(i.uid,\" unpublished audio track\")),this.safeEmit(ut.USER_UNPUBLISHED,i,\"audio\"),_.info(\"[\".concat(this._clientId,\"] remote user \").concat(i.uid,\" unpublished video track\")),this.safeEmit(ut.USER_UNPUBLISHED,i,\"video\");}:i.hasVideo?r=()=>{_.info(\"[\".concat(this._clientId,\"] remote user \").concat(i.uid,\" unpublished video track\")),this.safeEmit(ut.USER_UNPUBLISHED,i,\"video\");}:i.hasAudio&&(r=()=>{_.info(\"[\".concat(this._clientId,\"] remote user \").concat(i.uid,\" unpublished audio track\")),this.safeEmit(ut.USER_UNPUBLISHED,i,\"audio\");}),i._video_pre_subscribed||i._audio_pre_subscribed||(i._trust_audio_stream_added_state_=!0,i._trust_video_stream_added_state_=!0,i._audio_added_=!1,i._video_added_=!1,this._p2pChannel instanceof Jd&&this._p2pChannel.unsubscribe(i).then(o=>{if(o)return this._gateway.unsubscribe(o,i.uid)}),i._audioSSRC=void 0,i._videoSSRC=void 0,i._audioOrtc=void 0,i._videoOrtc=void 0,i._rtxSsrcId=void 0),X.onGatewayStream(this._sessionId,De.ON_REMOVE_STREAM,Jt.ON_REMOVE_STREAM,{peer:n.uint_id||n.uid}),r();}),T(this,\"_handleSetStreamLocalEnable\",(n,i,r)=>{if(v(\"BLOCK_LOCAL_CLIENT\")&&Io(i,this.channelName))return;let o=this._users.find(c=>c.uid===i);if(!o)return void _.error(\"[\".concat(this._clientId,\"] can not find target user!(disable_local)\"));_.debug(\"[\".concat(this._clientId,\"] local \").concat(n,\" \").concat(r?\"enabled\":\"disabled\",\" with uid \").concat(i));let s=n===\"audio\"?o.hasAudio:o.hasVideo;if(n===\"audio\"){o._trust_audio_enabled_state_=!0;let c=o._audio_enabled_;if(o._audio_enabled_=r,o._audio_enabled_===c)return;{let d=o._audio_enabled_?\"enable-local-audio\":\"disable-local-audio\";_.debug(\"[\".concat(this._clientId,\"] user-info-updated, uid: \").concat(i,\", msg: \").concat(d)),this.safeEmit(ut.USER_INFO_UPDATED,i,d);}}else {o._trust_video_enabled_state_=!0;let c=o._video_enabled_;if(o._video_enabled_=r,o._video_enabled_===c)return;{let d=o._video_enabled_?\"enable-local-video\":\"disable-local-video\";_.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(i,\", msg: \").concat(d)),this.safeEmit(ut.USER_INFO_UPDATED,i,d);}}let a=n===\"audio\"?o.hasAudio:o.hasVideo;return s!==a?!s&&a?(_.info(\"[\".concat(this._clientId,\"] remote user \").concat(i,\" published \").concat(n)),void this.safeEmit(ut.USER_PUBLISHED,o,n)):(n===\"video\"&&o._videoTrack&&o._videoTrack._destroy(),n===\"audio\"&&o._audioTrack,this._p2pChannel.muteRemote(o,n),_.info(\"[\".concat(this._clientId,\"] remote user \").concat(i,\" unpublished \").concat(n)),void this.safeEmit(ut.USER_UNPUBLISHED,o,n)):void 0}),T(this,\"_handleMuteStream\",(n,i,r)=>{if(v(\"BLOCK_LOCAL_CLIENT\")&&Io(n,this.channelName))return;_.debug(\"[\".concat(this._clientId,\"] receive mute message\"),n,i,r);let o=this._users.find(c=>c.uid===n);if(!o)return void _.warning(\"[\".concat(this._clientId,\"] can not find remote user, ignore mute event, uid: \").concat(n));let s=i===\"audio\"?o.hasAudio:o.hasVideo;if(i===\"audio\"){o._trust_audio_mute_state_=!0;let c=o._audio_muted_;if(o._audio_muted_=r,o._audio_muted_===c)return;{let d=o._audio_muted_?\"mute-audio\":\"unmute-audio\";_.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(n,\", msg: \").concat(d)),this.safeEmit(ut.USER_INFO_UPDATED,n,d);}}else {o._trust_video_mute_state_=!0;let c=o._video_muted_;if(o._video_muted_=r,o._video_muted_===c)return;{let d=o._video_muted_?\"mute-video\":\"unmute-video\";_.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(n,\", msg: \").concat(d)),this.safeEmit(ut.USER_INFO_UPDATED,n,d);}}let a=i===\"audio\"?o.hasAudio:o.hasVideo;if(s!==a){if(!s&&a)return (i===\"audio\"?o._audioSSRC:o._videoSSRC)?(_.info(\"[\".concat(this._clientId,\"] remote user \").concat(n,\" published \").concat(i)),void this.safeEmit(ut.USER_PUBLISHED,o,i)):void _.warning(\"[\".concat(this._clientId,\"] remote user \").concat(n,\" receive \").concat(i,\" unmute message  before add stream message, \").concat(i,\" SSRC doesn't exist yet.\"));i===\"video\"&&o._videoTrack&&!o._video_pre_subscribed&&o._videoTrack._destroy(),i===\"audio\"&&o._audioTrack,this._p2pChannel.muteRemote(o,i),_.info(\"[\".concat(this._clientId,\"] remote user \").concat(n,\" unpublished \").concat(i)),this.safeEmit(ut.USER_UNPUBLISHED,o,i);}}),T(this,\"_handleP2PLost\",async n=>{_.debug(\"[\".concat(this._clientId,\"] receive p2p lost\"),n),parseInt(n.p2pid,10)===this.store.p2pId?await this._p2pChannel.requestReconnect():_.warning(\"[\".concat(this._clientId,\"] P2PLost stream not found\"),n);}),T(this,\"_handleTokenWillExpire\",()=>{_.debug(\"[\".concat(this._clientId,\"] received message onTokenPrivilegeWillExpire\")),this.safeEmit(ut.ON_TOKEN_PRIVILEGE_WILL_EXPIRE);}),T(this,\"_handleBeforeUnload\",n=>{n.type===\"beforeunload\"&&n.returnValue!==void 0&&n.returnValue!==\"\"||(this.leave(),_.info(\"[\".concat(this._clientId,\"] auto leave onbeforeunload or pagehide\")));}),T(this,\"_handleUpdateNetworkQuality\",()=>{if(this._networkQualitySensitivity===\"normal\")return;if(navigator&&navigator.onLine!==void 0&&!navigator.onLine)return void this.safeEmit(ut.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});let n={downlinkNetworkQuality:0,uplinkNetworkQuality:0};n.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),n.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.safeEmit(ut.NETWORK_QUALITY,n);}),T(this,\"_handleP2PAddAudioOrVideoStream\",(n,i,r,o)=>{let s=this._users.find(c=>c.uid===i);if(!s)return void _.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_stream)\"));_.debug(\"[\".concat(this._clientId,\"] stream added with uid \").concat(i,\", type \").concat(n)),this.store.subscribe(s.uid,n,void 0,void 0,void 0,Date.now());let a=n===\"audio\"?s.hasAudio:s.hasVideo;n===\"audio\"?s._trust_audio_stream_added_state_=!0:s._trust_video_stream_added_state_=!0,n===\"audio\"?(s._audio_added_=!0,r!==void 0&&(s._audioSSRC=r),o!==void 0&&(s._audioMid=o)):(s._video_added_=!0,r!==void 0&&(s._videoSSRC=r),o!==void 0&&(s._videoMid=o)),(n===\"audio\"?s.hasAudio:s.hasVideo)&&!a&&(_.info(\"[\".concat(this._clientId,\"] remote user \").concat(s.uid,\" published \").concat(n)),this.safeEmit(ut.USER_PUBLISHED,s,n)),this._p2pChannel.hasPendingRemoteMedia(s,n)&&(_.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(n,\" for user \").concat(s.uid,\" after reconnect.\")),this._subscribe(s,n,!0).catch(c=>{_.error(\"[\".concat(this._clientId,\"] resubscribe error\"),c.toString());}));}),this._config=t,this._clientId=Ut(5,\"client-\"),this.store=new ME(t.codec,t.audioCodec,t.mode,this._clientId),this.store.clientCreated(),t.proxyServer&&this.setProxyServer(t.proxyServer,!0),t.turnServer&&this.setTurnServer(t.turnServer,!0),_.info(\"[\".concat(this._clientId,\"] Initializing AgoraRTC client v\").concat(ii,\" build: \").concat(Ef,\", mode: \").concat(this.mode,\", codec: \").concat(this.codec)),t.clientRoleOptions)try{fR(t.clientRoleOptions),e=Object.assign({},t.clientRoleOptions);}catch(n){_.warning(\"[\".concat(this._clientId,\"] \").concat(n.toString()));}this._statsCollector=new _u(this.store),this._statsCollector.onStatsException=(n,i,r)=>{_.debug(\"[\".concat(this._clientId,\"] receive exception msg, code: \").concat(n,\", msg: \").concat(i,\", uid: \").concat(r)),this.safeEmit(ut.EXCEPTION,{code:n,msg:i,uid:r});},this._statsCollector.onUploadPublishDuration=(n,i,r,o)=>{let s=this._users.find(a=>a.uid===n);s&&X.peerPublishStatus(this._sessionId,{subscribeElapse:o,audioPublishDuration:i,videoPublishDuration:r,peer:s._uintid});},this.store.useP2P=t.mode===\"p2p\",this._gateway=new tm(this.store,{clientId:this._clientId,mode:this.mode,codec:this.codec,websocketRetryConfig:t.websocketRetryConfig||Ee,httpRetryConfig:t.httpRetryConfig||Ee,forceWaitGatewayResponse:t.forceWaitGatewayResponse===void 0||t.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:t.role,clientRoleOptions:e}),this._configDistribute=new im,this.store.useP2P?(this._p2pChannel=new An(this.store,this._statsCollector),this._handleP2PEvents()):this._p2pChannel=new Jd(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents(),this._handleGatewaySignalEvents();}async joinMeta(t,e,n,i,r){let o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],s=arguments.length>6&&arguments[6]!==void 0&&arguments[6];Ot(\"JOIN_GATEWAY_USE_443PORT_ONLY\",o),Ot(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\",s);let a=this._gateway.signal.websocket;return a instanceof Nc&&(a.use443PortOnly=o,a.tryDoubleDomain=s),async function(c,d,l){bd.get(c)||bd.set(c,[]),wd.get(c)||wd.set(c,d),Yi.get(c)||Yi.set(c,0);let u=bd.get(c),h=wd.get(c);if(!u||!h)throw new Error(\"concurrent: deferQueue or maxConcurrency is null\");if(Yi.get(c)===h){let S=vc();u.push(S),await S.promise;}Yi.set(c,Yi.get(c)+1);for(var p=arguments.length,g=new Array(p>3?p-3:0),E=3;E<p;E++)g[E-3]=arguments[E];let f=await l(...g);return Yi.set(c,Yi.get(c)-1),Yi.get(c)===h-1&&u.length>0&&(u[0].resolve(),u.shift()),Yi.get(c)===0&&(bd.set(c,[]),wd.set(c,0),Yi.set(c,0)),f}(\"client.join\",v(\"JOIN_MAX_CONCURRENCY\"),this.join.bind(this),t,e,n,i,r)}async join(t,e,n,i,r){let o=++this._numberOfJoinCount;this.store.joinStart(),i&&(this.store.uid=i);let s=(Nd||Nd||(Nd=(window.location.protocol.split(\":\")[0]||\"\").toUpperCase(),Nd))===\"HTTPS\",a=vR()?window.isSecureContext:\"Browser Not Support\";(!vR()&&!s||!window.isSecureContext)&&_.warning(\"The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser\"),this.connectionState===\"DISCONNECTED\"&&(this.store.avoidJoinStart=Math.round(Date.now()),_.debug(\"[\".concat(this._clientId,\"] set avoidJoinStart to \").concat(this.store.avoidJoinStart))),X.setAppId(t);try{if(!n&&n!==null)throw new O(R.INVALID_PARAMS,\"Invalid token: \".concat(n,\". If you don not use token, set it to null\"));n&&Pe(n,\"token\",1,2047),Pe(t,\"appid\",1,2047),Xu(e),i&&Qu(i),r&&Pe(r,\"optionalInfo\",1,2047);}catch(E){throw X.reportApiInvoke(Ms(),{name:Te.JOIN,options:[t,e,n,i],states:{isHttps:s,isSecureContext:a},tag:Zt.TRACER}).onError(E),E}if(this._leaveMutex.isLocked&&(_.debug(\"[\".concat(this._clientId,\"] join: waiting leave operation\")),(await this._leaveMutex.lock())(),_.debug(\"[\".concat(this._clientId,\"] join: continue\"))),this._joinAndNotLeaveYet=!0,this.connectionState!==\"DISCONNECTED\"){let E=new O(R.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already in connecting/connected state\"));throw X.reportApiInvoke(Ms(),{name:Te.JOIN,options:[t,e,n,i],states:{isHttps:s,isSecureContext:a},tag:Zt.TRACER}).onError(E),E}this._gateway.state=\"CONNECTING\";let c=await Xv({appId:t,cname:e,uid:i,stringUid:typeof i==\"string\"?i:void 0,token:n||t,cloudProxyServer:this._cloudProxyServerMode});if(!this._joinAndNotLeaveYet)throw new O(R.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));let d=c?.sid||Ms();_.info(\"[\".concat(this._clientId,\"] start join channel \").concat(e,\", join number: \").concat(o)),this._sessionId||(this._sessionId=d,this.store.sessionId=this._sessionId);let l=X.reportApiInvoke(d,{name:Te.JOIN,options:[t,e,n,i],states:{isHttps:s,isSecureContext:a},tag:Zt.TRACER}),u=xi(xi({},this._rtmConfig),{},{clientId:this._clientId,appId:t,sid:this._sessionId,cname:e,uid:typeof i!=\"string\"?i:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:n||t,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:r,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint,preload:!!c},this._remoteDefaultVideoStreamType!==void 0&&{defaultVideoStream:this._remoteDefaultVideoStreamType});if(this._useLocalAccessPoint&&(u.setLocalAPVersion=this._setLocalAPVersion),typeof i==\"string\"&&(u.stringUid=i,this._uintUid?(u.uid=this._uintUid,this._uintUid=void 0):u.uid=0),this._encryptionMode!==\"none\"&&this._encryptionSecret){if(u.aesmode=this._encryptionMode,u.aespassword=await(async E=>{let f=function(b){let w=window.atob(`MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\nxQiYDz3vqa6bP29adwIDAQAB`),D=new Uint8Array(new ArrayBuffer(w.length));for(let k=0;k<w.length;k+=1)D[k]=w.charCodeAt(k);return D}(),S=await window.crypto.subtle.importKey(\"spki\",f,{name:\"RSA-OAEP\",hash:\"SHA-256\"},!0,[\"encrypt\"]),C=uf(E),A=await window.crypto.subtle.encrypt({name:\"RSA-OAEP\"},S,C);return function(b){let w=\"\";for(let D=0;D<b.length;D+=1)w+=String.fromCharCode(b[D]);return window.btoa(w)}(new Uint8Array(A))})(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new O(R.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));this._encryptionSalt&&(u.aessalt=this._encryptionSalt);}if(this._encryptDataStream&&(this._encryptionMode===\"aes-128-gcm2\"||this._encryptionMode===\"aes-256-gcm2\"))if(this._encryptionSalt&&this._encryptionSecret)if(window.crypto.subtle){let E=new TextEncoder,f=v(\"USE_PURE_ENCRYPTION_MASTER_KEY\")?E.encode(u.appId+this._encryptionSecret+this._encryptionSecret):E.encode(u.appId+u.cname+this._encryptionSecret);this._encryptDataStreamIv=await async function(S,C,A){let b=await window.crypto.subtle.importKey(\"raw\",C,\"PBKDF2\",!1,[\"deriveBits\",\"deriveKey\"]),w=S===\"aes-128-gcm2\"?128:256,D=await window.crypto.subtle.deriveBits({name:\"PBKDF2\",iterations:AR,hash:\"SHA-256\",salt:A},b,w+TB);return new Uint8Array(D).subarray(w/8)}(this._encryptionMode,f,Fo(this._encryptionSalt)),this._encryptDataStreamKey=await async function(S,C,A){let b=await window.crypto.subtle.importKey(\"raw\",C,\"PBKDF2\",!1,[\"deriveBits\",\"deriveKey\"]),w=S===\"aes-128-gcm2\"?128:256;return await window.crypto.subtle.deriveKey({name:\"PBKDF2\",iterations:AR,hash:\"SHA-256\",salt:A},b,{name:\"AES-GCM\",length:w},!0,[\"encrypt\",\"decrypt\"])}(this._encryptionMode,f,Fo(this._encryptionSalt));}else a?_.warning(\"[\".concat(this._clientId,\"] encrypt datastream must be running in a secure context, fallback to plain data stream\")):_.warning(\"[\".concat(this._clientId,\"] current browser do not support WebCrypto ,fallback to plain data stream\")),this._encryptDataStream=!1;else this._encryptDataStream=!1,_.debug(\"[\".concat(this._clientId,\"] no salt / secret, cannot support encrypt data stream, fallback to plain data stream\"));this._startSession(this._sessionId,{channel:e,appId:t,stringUid:u.stringUid});let h=this._sessionId;setTimeout(()=>{this.connectionState===\"CONNECTING\"&&h===this._sessionId&&X.joinChannelTimeout(this._sessionId,5);},5e3);try{var p;let E,f=u.cloudProxyServer;if(W(p=[\"proxy3\",\"proxy4\",\"proxy5\"]).call(p,f)){let w=v(\"PROXY_SERVER_TYPE3\");Array.isArray(w)?u.proxyServer=w[0]:u.proxyServer=w;}if(X.setProxyServer(u.proxyServer),_.setProxyServer(u.proxyServer),this.store.requestAPStart(),c){if(_.debug(\"[\".concat(this._clientId,\"] get serverInfo Success from Preload Cache \").concat(u.stringUid?\", \".concat(u.stringUid,\" => \").concat(c.intUid):\"\",\" \")),u.stringUid&&!u.uid&&(u.uid=c.intUid),E={gatewayInfo:c.ap.gatewayInfo},v(\"JOIN_WITH_FALLBACK_MEDIA_PROXY\")&&u.turnServer.mode===\"auto\")if(c.ap.proxyInfo.addresses.length===0)_.warning(\"no edge services in ap response of proxy fallback, will not set proxy in iceServers\");else {let w=(await kO(c.ap.proxyInfo,c.ap.gatewayInfo.uid)).map(D=>({turnServerURL:D.address,tcpport:D.tcpport||Ve.tcpport,udpport:D.udpport||Ve.udpport,username:D.username||Ve.username,password:D.password||Ve.password,forceturn:!1,security:!0}));u.turnServer={mode:\"manual\",servers:w};}Qv(c,u.stringUid);}else {if(u.stringUid&&!u.uid){let w;[w,E]=await j.all([h0(u.stringUid,u,this._axiosCancelSource.token,this._config.httpRetryConfig||Ee,this.store),tv(u,this._axiosCancelSource.token,this._config.httpRetryConfig||Ee,!0,this.store)]),_.debug(\"[\".concat(this._clientId,\"] getUserAccount Success \").concat(u.stringUid,\" => \").concat(w)),u.uid=w,E.gatewayInfo.uid=w,E.gatewayInfo.res.uid=w;}else E=await tv(u,this._axiosCancelSource.token,this._config.httpRetryConfig||Ee,!0,this.store);if(!this._joinAndNotLeaveYet)throw new O(R.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"))}this.store.requestAPEnd(),setTimeout(()=>{this._configDistribute.startGetConfigDistribute(u,this._axiosCancelSource.token),this._configDistribute.on(FE.UPDATE_BITRATE_LIMIT,w=>{this._p2pChannel.updateBitrateLimit(w);});},0),this._key=n||t;let S=E.gatewayInfo,C=u.uid?u.uid:S.uid;this._joinInfo=xi(xi({},u),{},{cid:S.cid,uid:C,vid:S.vid,apResponse:S.res,apGatewayAddress:S.apGatewayAddress,uni_lbs_ip:S.uni_lbs_ip,gatewayAddrs:S.gatewayAddrs}),this.store.intUid=C;let A=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new O(R.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));l.onSuccess(A),this._appId=t,this._channelName=u.cname,this._uid=A,this.store.uid=A,setTimeout(()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),window.addEventListener(je()?\"beforeunload\":\"pagehide\",this._handleBeforeUnload),this._statsCollector.startUpdateStats();},0);let b=u.stringUid?\"string uid: \".concat(u.stringUid,\",uid: \").concat(u.uid):\"uid: \".concat(this._uid);return _.info(\"[\".concat(this._clientId,\"] Joining channel success: channel: \").concat(e,\",\").concat(b)),setTimeout(()=>{_.startUpload();},5e3),this.store.joinEnd(),g=this,W(Jr).call(Jr,g)||Jr.push(g),this._cloudProxyServerMode===\"disabled\"&&ft().supportWebCrypto&&v(\"ENABLE_PRELOAD\")&&Df(this._joinInfo),A}catch(E){let f=Array.isArray(E)?E[0]:E;throw f&&f.code===R.OPERATION_ABORTED?_.warning(\"[\".concat(this._clientId,\"] join number: \").concat(o,\", Joining channel failed, rollback\"),f):_.error(\"[\".concat(this._clientId,\"] join number: \").concat(o,\", Joining channel failed, rollback\"),f),f.code!==R.OPERATION_ABORTED&&this._numberOfJoinCount===o&&(this._gateway.state=\"DISCONNECTED\",this._reset()),l.onError(f),f}var g;}_joinGateway(){if(!this._joinInfo||!this._key)throw new O(R.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!(this._joinInfo.cloudProxyServer!==\"disabled\"||this._joinInfo.proxyServer||!v(\"JOIN_WITH_FALLBACK_SIGNAL_PROXY\")))}async leave(){_.info(\"[\".concat(this._clientId,\"] Leaving channel\")),window.removeEventListener(je()?\"beforeunload\":\"pagehide\",this._handleBeforeUnload),this._reset(),function(e){let n=Jr.indexOf(e);n!==-1&&Jr.splice(n,1);}(this),this._statsCollector.stopUpdateStats();let t=await this._leaveMutex.lock();if(this.connectionState===\"DISCONNECTED\")return _.info(\"[\".concat(this._clientId,\"] Leaving channel repeated, success\")),void t();await this._gateway.leave(this.connectionState!==\"CONNECTED\"),_.info(\"[\".concat(this._clientId,\"] Leaving channel success\")),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),t();}async publish(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!Array.isArray(t)){if(!(t instanceof no))return this._publishDataChannel(t);t=[t];}if(t.length===0)throw new O(R.INVALID_PARAMS,\"param list is empty\");let n=t;if(this._gateway.role===\"audience\")throw new O(R.INVALID_OPERATION,\"audience can not publish stream\");for(let r of n){if(!(r instanceof no))throw new O(R.INVALID_PARAMS,\"parameter is not local track\");if(!r._enabled&&e)throw new O(R.TRACK_IS_DISABLED,\"can not publish a disabled track: \".concat(r.getTrackId()))}_.info(\"[\".concat(this._clientId,\"] Publishing tracks, id \").concat(n.map(r=>\"\".concat(r.getTrackId(),\" \"))));let i=await this._publishMutex.lock();await this._configDistribute.awaitConfigDistributeComplete(),e&&n.forEach(r=>{let o=this._configDistribute.getBitrateLimit();r instanceof Ft&&o&&r.setBitrateLimit(o.uplink);});try{await this._publishHighStream(n),_.info(\"[\".concat(this._clientId,\"] Publish success, id \").concat(n.map(r=>\"\".concat(r.getTrackId(),\" \"))));}catch(r){throw _.error(\"[\".concat(this._clientId,\"] publish error\"),r.toString()),r}finally{i();}}async _publishDataChannel(t){Nt(t.id,\"id\",0,65535,!0),Nr(t.ordered,\"ordered\"),Pe(t.metadata,\"metadata\",0,512),_.info(\"[\".concat(this._clientId,\"] Publishing datachannels, id \").concat(t.id));let e=await this._publishMutex.lock();try{if(this._p2pChannel.getAllDataChannels().findIndex(r=>r.id===t.id)!==-1)throw new O(R.INVALID_PARAMS,\"Invalid id: \".concat(t.id,\". If you want to republish the datachannel, unpublish first\"));if(!this._joinInfo||this._uid===void 0)throw new O(R.INVALID_OPERATION,\"Can't publish datachannel, haven't joined yet!\");if(this.connectionState!==\"CONNECTED\"&&this.connectionState!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not publish datachannel in \".concat(this.connectionState,\" state\"));if(this._turnServer.mode===\"auto\"&&v(\"FORCE_TURN\")&&!v(\"TURN_ENABLE_TCP\")&&!v(\"TURN_ENABLE_UDP\"))throw new O(R.UNEXPECTED_ERROR,\"force TURN With No TURN Configuration\");let n=function(r){return Kv(r,!1)}(t),i=await this._p2pChannel.publishDataChannel([n]);if(i.length>0){if(typeof n._originDataChannelId!=\"number\")throw _.error(\"[\".concat(this._clientId,\"] can not publish with mediaType datachannel, cannot get RTCDatachannel id\")),new O(R.CREATE_DATACHANNEL_ERROR);try{await j.all(i.map(r=>this._uid&&this._gateway.publishDataChannel(this._uid,r,!0))),await n._waitTillOpen();}catch(r){if(r.code!==R.DISCONNECT_P2P)throw r}}return _.info(\"[\".concat(this._clientId,\"] Publish dataChannels success, id \").concat(n.id)),n}catch(n){throw _.error(\"[\".concat(this._clientId,\"] publish datachannels error\"),n.toString()),n}finally{e();}}async unpublish(t){if(!this._joinInfo||this._uid===void 0)throw new O(R.INVALID_OPERATION,\"Can't unpublish stream, haven't joined yet!\");let e=[];if(t)if(Array.isArray(t))e=t;else {if(!(t instanceof no))return this._unpublishDataChannel([t]);e=[t];}else this.store.useP2P||await this._unpublishDataChannel(),e=this._p2pChannel.getAllTracks(!0);_.info(\"[\".concat(this._clientId,\"] Unpublish tracks, tracks \").concat(e.map(i=>\"\".concat(i.getTrackId(),\" \")),\" \"));let n=await this._publishMutex.lock();try{if(this._p2pChannel instanceof An){let i=await this._p2pChannel.unpublish(e);i&&await this._gateway.sendExtensionMessage(ie.UNPUBLISH,{unpubMsg:i},!0);}else {let i=await this._p2pChannel.unpublish(e);i&&await this._gateway.unpublish(i,this._uid),_.info(\"[\".concat(this._clientId,\"] Unpublish success,tracks \").concat(e.map(r=>\"\".concat(r.getTrackId()))));}}catch(i){throw _.error(\"[\".concat(this._clientId,\"] unpublish error\"),i.toString()),i}finally{n&&n();}}async _unpublishDataChannel(t){t!==void 0&&t.length!==0||(t=this._p2pChannel.getAllDataChannels()),_.info(\"[\".concat(this._clientId,\"] Unpublish datachannels, datachannels \").concat(t.map(n=>\"\".concat(n.id,\" \")),\" \"));let e=await this._publishMutex.lock();try{let n=await this._p2pChannel.unpublishDataChannel(t);n&&await this._gateway.unpublishDataChannel(n),_.info(\"[\".concat(this._clientId,\"] Unpublish dataChannel success,dataChannel \").concat(t.map(i=>\"\".concat(i.id))));}catch(n){throw _.error(\"[\".concat(this._clientId,\"] unpublish dataChannel error\"),n.toString()),n}finally{e&&e();}}async subscribe(t,e,n){if(!(t instanceof ir)){let i=this.remoteUsers.find(r=>r.uid===t);if(!i)throw new O(R.INVALID_REMOTE_USER,\"user is not in the channel\");t=i;}return e===\"datachannel\"?this._subscribeDataChannel(t,n):this._subscribe(t,e)}async presubscribe(t,e){if(Ce(e,\"mediaType\",[\"audio\",\"video\"]),this._p2pChannel instanceof An)throw new O(R.INVALID_OPERATION,\"can't presub at p2p mode\");if(!this._joinInfo)throw new O(R.INVALID_OPERATION,\"can't presub when not join\");if(this.connectionState!==\"CONNECTED\"&&this.connectionState!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can't presub in \".concat(this.connectionState,\" state\"));let n=e===Q.AUDIO,i=e===Q.VIDEO,r=await this._subscribeMutex.lock();try{let{ssrcId:o,ortc:s,rtxSsrcId:a,cname:c,uint_id:d}=await this._gateway.presubscribe(t,e,!0);if(o==null)throw new O(R.UNEXPECTED_RESPONSE,\"no ssrc id\");let l=this._users.find(h=>h.uid===t);l||(l=new ir(t,d||t),l._is_pre_created=!0,this._users.push(l)),c&&(l._cname=c),l._uintid||(l._uintid=d||t),n&&(l._audioSSRC=o,l._audio_pre_subscribed=!0,s&&(l._audioOrtc=s)),i&&(l._videoSSRC=o,l._video_pre_subscribed=!0,s&&(l._videoOrtc=s),a!=null&&(l._rtxSsrcId=a)),_.info(\"[\".concat(this._clientId,\"] presub succeed ssrc: \").concat(o)),await this._p2pChannel.subscribe(l,e,o,a,s);let u=n?l._audioTrack:l._videoTrack;if(!u)throw new O(R.UNEXPECTED_ERROR,\"can not find remote track in user\");return n&&(l._trust_audio_stream_added_state_=!0,l._audio_added_=!0),i&&(l._trust_video_stream_added_state_=!0,l._video_added_=!0),u}catch(o){throw _.error(\"[\".concat(this._clientId,\"] presub user \").concat(t,\" error\"),o),o}finally{r();}}async _subscribeDataChannel(t,e){var n;if(Nt(e,\"channelId\",0,65535,!0),!this._joinInfo)throw new O(R.INVALID_OPERATION,\"Can't subscribe datachannel, not joined\");if(this.connectionState!==\"CONNECTED\"&&this.connectionState!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"Can't subscribe datachannel in \".concat(this.connectionState,\" state\"));if(!this._users.find(a=>a===t))throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\", this user is not in the channel\")),new O(R.INVALID_REMOTE_USER,\"user is not in the channel\");if(!t.hasAudio&&!t.hasVideo&&t._dataChannels.length===0)throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\", user is not published\")),new O(R.INVALID_REMOTE_USER,\"user is not published\");let r=(n=t._dataChannels)===null||n===void 0?void 0:n.find(a=>a.id===e);if(!r)throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\" with mediaType datachannel, remote datachannel is not published\")),new O(R.REMOTE_USER_IS_NOT_PUBLISHED);let o=await this._subscribeMutex.lock();_.info(\"[\".concat(this._clientId,\"] subscribe user \").concat(t.uid,\", mediaType: datachannel\"));try{let a=await this._p2pChannel.subscribeDataChannel(t,[r]);if(a&&W(a).call(a,r.id))try{var s;if(typeof r._originDataChannelId!=\"number\")throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\" with mediaType datachannel, cannot get RTCDatachannel\")),new O(R.CREATE_DATACHANNEL_ERROR);let c={id:r.id,datachannelId:r._originDataChannelId,ordered:r.ordered,maxRetransmits:r.maxRetransmits,metadata:(s=r.metadata)!==null&&s!==void 0?s:\"\"};await this._gateway.subscribeDataChannel(t.uid,c,!0),await r._waitTillOpen();}catch(c){if(c?.code!==R.WS_ABORT)throw await this._p2pChannel.unsubscribeDataChannel(t,[r]),c;await this._p2pChannel.unsubscribeDataChannel(t,[r]),this._p2pChannel.setPendingRemoteDataChannel(t,r.id);}return _.info(\"[\".concat(this._clientId,\"] subscribe success user \").concat(t.uid,\", mediaType: datachannel\")),r}finally{o();}}async _p2pSubscribe(t,e,n){if(Ce(e,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new O(R.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(this.connectionState!==\"CONNECTED\"&&this.connectionState!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));if(!this._users.find(o=>o===t)){let o=new O(R.INVALID_REMOTE_USER,\"user is not in the channel\");throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\", this user is not in the channel\")),o}if(!t.hasAudio&&!t.hasVideo){let o=new O(R.INVALID_REMOTE_USER,\"user is not published\");throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\", user is not published\")),o}if(!n&&(e===\"audio\"&&!t.hasAudio||e===\"video\"&&!t.hasVideo)){let o=new O(R.REMOTE_USER_IS_NOT_PUBLISHED);throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\" with mediaType \").concat(e,\", remote track is not published\")),o}let r=await this._subscribeMutex.lock();_.info(\"[\".concat(this._clientId,\"] subscribe user \").concat(t.uid,\", mediaType: \").concat(e));try{if(await this._p2pChannel.hasRemoteMediaWithLock(t,e))await this._p2pChannel.unmuteRemote(t,e);else try{let s=e===\"audio\"?t._audioSSRC:t._videoSSRC,a=e===\"audio\"?t._audioMid:t._videoMid;this.store.subscribe(t.uid,e,Date.now()),this._p2pChannel instanceof An&&await this._p2pChannel.subscribe(t,e,s,a);}catch(s){throw s}_.info(\"[\".concat(this._clientId,\"] subscribe success user \").concat(t.uid,\", mediaType: \").concat(e)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(t.uid,this._defaultStreamFallbackType).catch(s=>{_.warning(\"[\".concat(this._clientId,\"] auto set fallback failed\"),s);});let o=e===\"audio\"?t._audioTrack:t._videoTrack;if(!o)throw new O(R.UNEXPECTED_ERROR,\"can not find remote track in user object\");return o}catch(o){throw _.error(\"[\".concat(this._clientId,\"] subscribe user \").concat(t.uid,\" error\"),o),o}finally{r();}}async _subscribe(t,e,n){if(this._p2pChannel instanceof An)return this._p2pSubscribe(t,e);if(Ce(e,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new O(R.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(this.connectionState!==\"CONNECTED\"&&this.connectionState!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));if(!this._users.find(d=>d===t)){let d=new O(R.INVALID_REMOTE_USER,\"user is not in the channel\");throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\", this user is not in the channel\")),d}if(!t.hasAudio&&!t.hasVideo){let d=new O(R.INVALID_REMOTE_USER,\"user is not published\");throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\", user is not published\")),d}if(!(n||(e!==\"audio\"||t.hasAudio&&t._audioSSRC!==void 0)&&(e!==\"video\"||t.hasVideo&&t._videoSSRC!==void 0))){let d=new O(R.REMOTE_USER_IS_NOT_PUBLISHED);throw _.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(t.uid,\" with mediaType \").concat(e,\", remote track is not published\")),d}let r=e===\"audio\"?t._audioSSRC:t._videoSSRC,o=e===\"audio\"?t._audioOrtc:t._videoOrtc,s=e===\"video\"?t._rtxSsrcId:void 0,a={stream_type:e===\"audio\"?Q.AUDIO:Q.VIDEO,ssrcId:r},c=await this._subscribeMutex.lock();_.info(\"[\".concat(this._clientId,\"] subscribe user \").concat(t.uid,\", mediaType: \").concat(e));try{if(await this._p2pChannel.hasRemoteMediaWithLock(t,e))await this._p2pChannel.unmuteRemote(t,e);else try{let l=e===\"audio\"?t._audioSSRC:t._videoSSRC;l!==void 0&&l!==r&&(r=l,o=e===\"audio\"?t._audioOrtc:t._videoOrtc,s=e===\"video\"?t._rtxSsrcId:void 0,a={stream_type:e===\"audio\"?Q.AUDIO:Q.VIDEO,ssrcId:r}),qe.markSubscribeStart(this.store.clientId,r),this.store.subscribe(t.uid,e,Date.now()),await this._p2pChannel.subscribe(t,e,r,s,o);try{this._p2pChannel.isPreSubScribe(r)||await this._gateway.subscribe(t.uid,a,!0);}catch(u){if(u?.code!==R.WS_ABORT)throw await this._p2pChannel.unsubscribe(t,e),u;await this._p2pChannel.unsubscribe(t,e,!0),this._p2pChannel.setPendingRemoteMedia(t,e);}this.store.subscribe(t.uid,e,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,t,e);}catch(l){throw this._p2pChannel.reportSubscribeEvent(!1,l?.code,t,e),l}_.info(\"[\".concat(this._clientId,\"] subscribe success user \").concat(t.uid,\", mediaType: \").concat(e)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(t.uid,this._defaultStreamFallbackType).catch(l=>{_.warning(\"[\".concat(this._clientId,\"] auto set fallback failed\"),l);});let d=e===\"audio\"?t._audioTrack:t._videoTrack;if(!d)throw new O(R.UNEXPECTED_ERROR,\"can not find remote track in user object\");return d}catch(d){throw _.error(\"[\".concat(this._clientId,\"] subscribe user \").concat(t.uid,\" error\"),d),d}finally{c();}}async massSubscribe(t){if(br(t,\"subscribeList\"),!this._joinInfo)throw new O(R.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(this.connectionState!==\"CONNECTED\"&&this.connectionState!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));let e=Date.now(),n=new Map,i=await this._subscribeMutex.lock();_.info(\"[\".concat(this._clientId,\"]start massSubscribe user \").concat(t.map(a=>{let{user:c,mediaType:d}=a;return \"user: \".concat(c?.uid,\", mediaType: \").concat(d)}).join(\"; \")));let r=(t=[...t]).map(a=>{let{user:c,mediaType:d}=a;return {user:c,mediaType:d}}),o=await this._p2pChannel.globalLock();try{var s;for(let c=t.length-1;c>=0;c--){let d=t[c],{user:l,mediaType:u}=d;if(Ce(u,\"mediaType\",[\"audio\",\"video\"]),!l){let E=new O(R.INVALID_PARAMS,\"user property does not exist in subscribeList item\");throw _.error(\"[\".concat(this._clientId,\"] user property does not exist in subscribeList item\")),E}if(!this._users.find(E=>E===l)){let E=new O(R.INVALID_REMOTE_USER,\"user is not in the channel\");_.error(\"[\".concat(this._clientId,\"] can not massSubscribe \").concat(l.uid,\", this user is not in the channel\")),r[c].error=E,t.splice(c,1);continue}if(u===\"audio\"&&(!l.hasAudio||l._audioSSRC===void 0)||u===\"video\"&&(!l.hasVideo||l._videoSSRC===void 0)){let E=new O(R.REMOTE_USER_IS_NOT_PUBLISHED);_.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(l.uid,\" with mediaType \").concat(u,\", remote user is not published\")),r[c].error=E,t.splice(c,1);continue}let p=ve.Video|ve.LwoVideo,g=n.get(l);if(g){if(u===\"video\"?g&p:g&ve.Audio){t.splice(c,1),_.warning(\"[\".concat(this._clientId,\"] repeat massSubscribe user:\").concat(l.uid,\", mediaType:\").concat(u,\" twice\"));continue}n.set(l,g|(u===\"video\"?p:ve.Audio));}else n.set(l,u===\"video\"?p:ve.Audio);}for(let c=t.length-1;c>=0;c--){let d=t[c],{user:l,mediaType:u}=d,h=ve.Video|ve.LwoVideo;if(this._p2pChannel.hasRemoteMedia(l,u)){await this._p2pChannel.unmuteRemoteNoLock(l,u);let p=n.get(l);n.set(l,u===\"video\"?p^h:p^ve.Audio),t.splice(c,1);}}this.store.massSubscribe(t.map(c=>({userId:c.user.uid,type:c.mediaType})),e);let a=ji(s=Array.from(n.entries())).call(s,(c,d)=>{let[l,u]=d;if(u===0)return c;let h={stream_id:l.uid,stream_type:u};return u&ve.Audio&&(h.audio_ssrc=l._audioSSRC),u&ve.Video&&(h.video_ssrc=l._videoSSRC),c.push(h),c},[]);try{t.length>0&&await this._p2pChannel.massSubscribeNoLock(t.map(d=>{let{user:l,mediaType:u}=d;return {user:l,mediaType:u,ssrcId:u===Q.VIDEO?l._videoSSRC:l._audioSSRC,rtxSsrcId:u===Q.VIDEO?l._rtxSsrcId:void 0}}));let c=new Map;if(a=a.filter(d=>d.video_ssrc&&!this._p2pChannel.isPreSubScribe(d.video_ssrc)||d.audio_ssrc&&!this._p2pChannel.isPreSubScribe(d.audio_ssrc)||!d.video_ssrc&&!d.audio_ssrc),a.length>0){let d=await this._gateway.subscribeAll(a,!0);(d?.users||[]).forEach(l=>{let{stream_id:u,video_error_code:h,audio_error_code:p,error_code:g}=l;(h||p||g)&&c.set(u,{video_error_code:h,audio_error_code:p,error_code:g});});}if(Array.from(c.entries()).length>0){let d=[];Array.from(c.entries()).forEach(l=>{let[u,h]=l,p=this.remoteUsers.find(g=>g.uid===u);if(p){let g;h.error_code||h.video_error_code&&h.audio_error_code?g=void 0:h.video_error_code?g=Q.VIDEO:h.audio_error_code&&(g=Q.AUDIO),d.push({user:p,mediaType:g});}}),d.length>0&&await this._p2pChannel.massUnsubscribeNoLock(d);}for(let d of r){let l=c.get(d.user.uid);if(l){let u=l.error_code||d.mediaType===\"audio\"&&l.audio_error_code||d.mediaType===\"video\"&&l.video_error_code;if(u){let h=Oc(u);_.error(\"user:\".concat(d.user.uid,\" mediaType:\").concat(d.mediaType,\" has massSubscribe error \").concat(h.desc)),d.error=new O(R.SUBSCRIBE_FAILED,\"code \".concat(u,\": \").concat(h.desc));}}d.error||(d.mediaType===\"video\"?d.track=d.user.videoTrack:d.track=d.user.audioTrack);}return this.store.massSubscribe(r.filter(d=>!d.error).map(d=>({userId:d.user.uid,type:d.mediaType})),void 0,Date.now()),r.forEach(d=>{var l;X.subscribe(this.store.sessionId,{succ:!!d.error,ec:((l=d.error)===null||l===void 0?void 0:l.code)||null,video:d.mediaType===Q.VIDEO,audio:d.mediaType===Q.AUDIO,peerid:d.user.uid,subscribeRequestid:d.mediaType===Q.VIDEO?d.user._videoSSRC:d.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-e),preSsrc:this._p2pChannel.isPreSubScribe(d.user._videoSSRC)},!0);}),_.info(\"[\".concat(this._clientId,\"] massSubscribe success \").concat(t.map(d=>{let{user:l,mediaType:u}=d;return \"user: \".concat(l?.uid,\", mediaType: \").concat(u)}).join(\"; \"))),r}catch(c){throw await this._p2pChannel.massUnsubscribeNoLock(t),c}}finally{o(),i();}}async unsubscribe(t,e,n){if(!(t instanceof ir)){let o=this.remoteUsers.find(s=>s.uid===t);if(!o)throw new O(R.INVALID_REMOTE_USER,\"user is not in the channel\");t=o;}if(e||this.store.useP2P){if(e===\"datachannel\")return this._unsubscribeDataChannel(t,n)}else await this._unsubscribeDataChannel(t,n);if(e&&Ce(e,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new O(R.INVALID_OPERATION,\"Can't unsubscribe stream, haven't joined yet!\");if(!this._users.find(o=>o===t)){let o=new O(R.INVALID_REMOTE_USER,\"user is not in the channel\");throw _.error(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(t.uid,\", user is not in the channel\")),o}_.info(\"[\".concat(this._clientId,\"] unsubscribe uid: \").concat(t.uid,\", mediaType: \").concat(e));let r=await this._subscribeMutex.lock();try{if(this._p2pChannel instanceof An)await this._p2pChannel.unsubscribe(t,e);else {let o=await this._p2pChannel.unsubscribe(t,e);o&&await this._gateway.unsubscribe(o,t.uid),e&&e!==\"audio\"||(t._audio_pre_subscribed=!1),e&&e!==\"video\"||(t._video_pre_subscribed=!1),t._is_pre_created&&Wl(this._users,t),_.info(\"[\".concat(this._clientId,\"] unsubscribe success uid: \").concat(t.uid,\", mediaType: \").concat(e));}}catch(o){if(o.code===R.DISCONNECT_P2P)return void _.warning(\"disconnecting p2p, abort unsubscribe request.\");throw _.error(\"[\".concat(this._clientId,\"] unsubscribe user \").concat(t.uid,\" error\"),o.toString()),o}finally{r();}}async _unsubscribeDataChannel(t,e){if(e&&Nt(e,\"id\",0,65535,!0),!this._joinInfo)throw new O(R.INVALID_OPERATION,\"Can't unsubscribe datachannel, haven't joined yet!\");if(!this._users.find(r=>r===t)){let r=new O(R.INVALID_REMOTE_USER,\"user is not in the channel\");throw _.error(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(t.uid,\", user is not in the channel\")),r}let i;if(typeof e==\"number\"){let r=t._dataChannels.find(o=>o.id===e);r&&(i=[r]);}else i=t._dataChannels;if(i===void 0){let r=new O(R.REMOTE_USER_IS_NOT_PUBLISHED);throw _.error(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(t.uid,\" with channelId \").concat(e,\", remote datachannel is not published\")),r}_.info(\"[\".concat(this._clientId,\"] unsubscribe uid: \").concat(t.uid,\", mediaType: datachannel, ids: \").concat(i.map(r=>r.id)));try{let r=await this._p2pChannel.unsubscribeDataChannel(t,i);r&&await this._gateway.unsubscribeDataChannel(r,t.uid),_.info(\"[\".concat(this._clientId,\"] unsubscribe datachannel success uid: \").concat(t.uid,\", mediaType: datachannel, ids: \").concat(r));}catch(r){if(r.code===R.DISCONNECT_P2P)return void _.warning(\"disconnecting p2p, abort unsubscribe request.\");throw _.error(\"[\".concat(this._clientId,\"] unsubscribe user \").concat(t.uid,\" error\"),r.toString()),r}}async massUnsubscribe(t){if(br(t,\"unsubscribeList\"),!this._joinInfo)throw new O(R.INVALID_OPERATION,\"Can't unsubscribeAll stream, haven't joined yet!\");_.info(\"[\".concat(this._clientId,\"] start massUnsubscribe \").concat(t.map(n=>{let{user:i,mediaType:r}=n;return \"user: \".concat(i?.uid,\", mediaType: \").concat(r,\";\")}).join())),t=[...t];let e=new Map;for(let n=t.length-1;n>=0;n--){let{user:i,mediaType:r}=t[n];if(!i){let a=new O(R.INVALID_PARAMS,\"user property does not exist in unsubscribeList item\");throw _.error(\"[\".concat(this._clientId,\"] user property does not exist in unsubscribeList item\")),a}if(Ce(r,\"mediaType\",[\"video\",\"audio\",void 0]),!this._users.find(a=>a===i)){_.warning(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(i.uid,\", user is not in the channel\")),t.splice(n,1);continue}let s=ve.Video|ve.LwoVideo;if(e.has(i)){let a=e.get(i),c;switch(r){case\"video\":c=a&s;break;case\"audio\":c=a&ve.Audio;break;default:c=a&(ve.Audio|s);}if(c){_.warning(\"[\".concat(this._clientId,\"] repeat massUnsubscribe user:\").concat(i.uid,\",mediaType:\").concat(r,\" twice.\")),t.splice(n,1);continue}r?r===\"audio\"?e.set(i,a|ve.Audio):r===\"video\"&&e.set(i,a|s):e.set(i,a|ve.Audio|s);}else r?r===\"audio\"?e.set(i,ve.Audio):r===\"video\"&&e.set(i,s):e.set(i,ve.Audio|s);}try{let n=await this._p2pChannel.massUnsubscribe(t);n&&await this._gateway.massUnsubscribe(n),_.info(\"[\".concat(this._clientId,\"] massUnsubscribe success \").concat(t.map(i=>{let{user:r,mediaType:o}=i;return \"user: \".concat(r?.uid,\", mediaType: \").concat(o,\";\")}).join()));}catch(n){if(n.code===R.DISCONNECT_P2P)return void _.warning(\"[\".concat(this._clientId,\"] disconnecting p2p, abort unsubscribe request.\"));throw _.error(\"[\".concat(this._clientId,\"] massUnsubscribe error\"),n.toString()),n}}async setLowStreamParameter(t){((function(n){if(!n)throw new N(R.INVALID_PARAMS);zt(n.width)||bp(n.width,\"streamParameter.width\"),zt(n.height)||bp(n.height,\"streamParameter.height\"),zt(n.framerate)||bp(n.framerate,\"streamParameter.framerate\"),zt(n.bitrate)||Nt(n.bitrate,\"streamParameter.bitrate\");}))(t),(!t.width&&t.height||t.width&&!t.height)&&_.warning(\"[\".concat(this._clientId,\"] The width and height parameters take effect only when both are set\")),_.info(\"[\".concat(this._clientId,\"] set low stream parameter to\"),JSON.stringify(t));let e=this._configDistribute.getLowStreamConfigDistribute();if(e&&e.bitrate&&t.bitrate&&e.bitrate<t.bitrate&&(t.bitrate=e.bitrate),this._lowStreamParameter=t,this._isDualStreamEnabled)return this._p2pChannel.updateVideoStreamParameter(t,U.LocalVideoLowTrack)}async enableDualStream(){if(!ft().supportDualStream)throw X.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),new O(R.NOT_SUPPORTED,\"Your browser is not support dual stream\");if(this._isDualStreamEnabled)throw new O(R.INVALID_OPERATION,\"Dual stream is already enabled\");if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream();}catch(t){throw X.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),t}this._isDualStreamEnabled=!0,X.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),_.info(\"[\".concat(this._clientId,\"] enable dual stream\"));}async disableDualStream(){if(this._isDualStreamEnabled){if(!this._joinInfo)throw new O(R.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(this._p2pChannel.getLocalMedia(U.LocalVideoLowTrack))try{let t=await this._p2pChannel.unpublishLowStream();t&&await this._gateway.unpublish(t,this._joinInfo.stringUid||this._joinInfo.uid);}catch(t){throw X.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),t}this._isDualStreamEnabled=!1,X.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),_.info(\"[\".concat(this._clientId,\"] disable dual stream\"));}}async setClientRole(t,e){if(function(n){Ce(n,\"role\",[\"audience\",\"host\"]);}(t),e&&fR(e),this.mode===\"rtc\"||this.mode===\"p2p\")throw _.warning(\"[\".concat(this._clientId,\"]\").concat(this.mode,\" mode can not use setClientRole\")),new O(R.INVALID_OPERATION,\"\".concat(this.mode,\" mode can not use setClientRole\"));if(e&&e.level&&t===\"host\")throw new O(R.INVALID_OPERATION,\"host mode can not set audience latency level\");if(t===\"audience\"&&this._p2pChannel.hasLocalMedia())throw new O(R.INVALID_OPERATION,\"can not set client role to audience when publishing stream\");await this._gateway.setClientRole(t,e),this._config.role=t,_.info(\"[\".concat(this._clientId,\"] set client role to \").concat(t,\", level: \").concat(e&&e.level));}getRemoteInboundOffset(){var t;let e=(t=this._p2pChannel.getStats())===null||t===void 0?void 0:t.audioSend[0];if(!e||!e.timestamp)return 0;let n=e.timestamp-Date.now();return Math.abs(n)>1e3+e.rttMs+100?this.ntpAlignErrorCount+=1:this.ntpAlignErrorCount=0,this.ntpAlignErrorCount>=3?n:0}getNtpWallTimeInMs(){return document.visibilityState===\"visible\"&&(this.remoteInboundOffset=this.getRemoteInboundOffset()),this.remoteInboundOffset+Date.now()+this._gateway.ntpOffset}setProxyServer(t,e){if(Pe(t,\"proxyServer\"),!e){if(this.connectionState!==\"DISCONNECTED\")throw new O(R.INVALID_OPERATION,\"Set proxy server before join channel\");if(this._cloudProxyServerMode!==\"disabled\"||this._useLocalAccessPoint)throw new O(R.INVALID_OPERATION,\"You have already set the proxy\")}this._proxyServer=t,X.setProxyServer(this._proxyServer),_.setProxyServer(this._proxyServer),_.info(\"[\".concat(this._clientId,\"] Set proxy server \").concat(e?\"by initialize call\":\"\",\" success.\"));}setTurnServer(t,e){if(Array.isArray(t)||(t=[t]),!e){if(this.connectionState!==\"DISCONNECTED\")throw new O(R.INVALID_OPERATION,\"Set turn server before join channel\");if(this._cloudProxyServerMode!==\"disabled\"||this._useLocalAccessPoint)throw new O(R.INVALID_OPERATION,\"You have already set the proxy\")}if(Yu(t))return this._turnServer={servers:t,mode:\"original-manual\"},void _.info(\"[\".concat(this._clientId,\"] Set original turnserver \").concat(e?\"by initialize call\":\"\",\" success: \").concat(t.map(n=>n.urls).join(\",\"),\".\"));t.forEach(n=>vO(n)),this._turnServer={servers:t,mode:\"manual\"},_.info(\"[\".concat(this._clientId,\"] Set turnserver \").concat(e?\"by initialize call\":\"\",\" success.\"));}setLicense(t){if(this.connectionState!==\"DISCONNECTED\")throw new O(R.INVALID_OPERATION,\"you should set license before join channel\");if(Pe(t,\"license\",32,32),!/^[A-Za-z\\d]+$/.test(t))throw new O(R.INVALID_PARAMS,\"license should only contains characters from A-Z a-z 0-9\");this._license=t,_.info(\"[\".concat(this._clientId,\"] set license success\"),t);}startProxyServer(t){if(this.connectionState!==\"DISCONNECTED\")throw new O(R.INVALID_OPERATION,\"Start proxy server before join channel\");if(this._proxyServer||this._turnServer.mode===\"manual\"||this._useLocalAccessPoint)throw new O(R.INVALID_OPERATION,\"You have already set the proxy\");let e=[3,4,5],n;switch(t===void 0&&(t=3),t){case 1:case 2:throw new O(R.NOT_SUPPORTED,\"proxy mode 1/2 has been deprecated and not supported.\");case 3:n=\"proxy3\";break;case 4:n=\"proxy4\";break;case 5:n=\"proxy5\";break;default:throw new O(R.INVALID_PARAMS,\"proxy server mode must be \".concat(e.join(\"|\")))}this._cloudProxyServerMode=n,this.store.cloudProxyServerMode=n,_.info(\"[\".concat(this._clientId,\"] set cloud proxy server mode to\"),this._cloudProxyServerMode);}stopProxyServer(){if(this.connectionState!==\"DISCONNECTED\")throw new O(R.INVALID_OPERATION,\"Stop proxy server after leave channel\");X.setProxyServer(),_.setProxyServer(),this._cloudProxyServerMode=\"disabled\",this.store.cloudProxyServerMode=\"disabled\",_.info(\"[\".concat(this._clientId,\"] set cloud proxy server mode to\"),this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:\"auto\",servers:[]};}setLocalAccessPointsV2(t){if(!t.accessPoints)throw new O(R.INVALID_PARAMS,\"accessPoints is required.\");br(t.accessPoints.serverList,\"accessPoints.serverList\"),Pe(t.accessPoints.domain,\"accessPoints.domain\");let e=(h,p)=>{Nt(h,p,0,65535,!0);},n=443;if(t.accessPoints.port&&(e(t.accessPoints.port,\"accessPoints.port\"),n=t.accessPoints.port),this._proxyServer||this._cloudProxyServerMode!==\"disabled\")throw new O(R.INVALID_OPERATION,\"set local access point failed, You have already set the cloud proxy\");v(\"CLOSE_AFB_FOR_LOCAL_AP\")&&(Ot(\"JOIN_WITH_FALLBACK_SIGNAL_PROXY\",!1),Ot(\"JOIN_WITH_FALLBACK_MEDIA_PROXY\",!1));let i=/^((\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/,r=t.accessPoints.domain,o=t.accessPoints.serverList.map(h=>i.test(h)?\"\".concat(h.replace(/\\./g,\"-\"),\".\").concat(r):h),s=o.map(h=>\"\".concat(h,\":\").concat(n));this._useLocalAccessPoint=!0,this._setLocalAPVersion=2,Ot(\"WEBCS_DOMAIN\",s),Ot(\"WEBCS_DOMAIN_BACKUP_LIST\",s),Ot(\"GATEWAY_DOMAINS\",[r]),t.report&&t.report.hostname&&Array.isArray(t.report.hostname)&&t.report.hostname.length?(br(t.report.hostname,\"report.hostname\"),Ot(\"EVENT_REPORT_DOMAIN\",t.report.hostname[0]),Ot(\"EVENT_REPORT_BACKUP_DOMAIN\",t.report.hostname[1]||t.report.hostname[0])):(Ot(\"EVENT_REPORT_DOMAIN\",o[0]),Ot(\"EVENT_REPORT_BACKUP_DOMAIN\",o[1]||o[0]));let a=6443;t.report&&t.report.port&&(e(t.report.port,\"report.port\"),a=t.report.port),Ot(\"STATS_COLLECTOR_PORT\",a),t.report?Ot(\"ENABLE_EVENT_REPORT\",!0):Ot(\"ENABLE_EVENT_REPORT\",!1);let c=\"\";t.log&&t.log.hostname&&Array.isArray(t.log.hostname)&&t.log.hostname.length?(br(t.log.hostname,\"log.hostname\"),c=t.log.hostname[0]):c=o[0];let d=6444;t.log&&t.log.port&&(e(t.log.port,\"log.port\"),d=t.log.port),Ot(\"LOG_UPLOAD_SERVER\",\"\".concat(c,\":\").concat(d));let l=[];t.cds&&t.cds.hostname&&Array.isArray(t.cds.hostname)&&t.cds.hostname.length?(br(t.cds.hostname,\"cds.hostname\"),l=t.cds.hostname):l=o;let u=443;t.cds&&t.cds.port&&(e(t.cds.port,\"cds.port\"),u=t.cds.port),Ot(\"CDS_AP\",l.map(h=>\"\".concat(h,\":\").concat(u))),t.cds?Ot(\"ENABLE_CONFIG_DISTRIBUTE\",!0):Ot(\"ENABLE_CONFIG_DISTRIBUTE\",!1),_.info(\"set local access point v2 success\");}setLocalAccessPoints(t,e){if(br(t,\"serverList\"),Pe(e,\"domain\"),this._proxyServer||this._cloudProxyServerMode!==\"disabled\")throw new O(R.INVALID_OPERATION,\"set local access point failed, You have already set the cloud proxy\");let n=/^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/;t=t.map(i=>n.test(i)?\"\".concat(i.replace(/\\./g,\"-\"),\".\").concat(e):i),this._useLocalAccessPoint=!0,this._setLocalAPVersion=1,Ot(\"WEBCS_DOMAIN\",t),Ot(\"WEBCS_DOMAIN_BACKUP_LIST\",t),Ot(\"GATEWAY_DOMAINS\",[e]),Ot(\"EVENT_REPORT_DOMAIN\",t[0]),Ot(\"EVENT_REPORT_BACKUP_DOMAIN\",t[1]||t[0]),Ot(\"LOG_UPLOAD_SERVER\",\"\".concat(t[0],\":6444\")),_.info(\"[\".concat(this._clientId,\"] set local access point success\"));}async setRemoteDefaultVideoStreamType(t){if(Ce(t,\"streamType\",[0,1]),this._remoteDefaultVideoStreamType=t,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(t),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType;}catch(e){throw _.error(\"[\".concat(this._clientId,\"] set default remote video stream type error\"),e.toString()),e}else _.debug(\"[\".concat(this._clientId,\"] haven't joined yet, cache remoteDefaultVideoStreamType \").concat(t));}async setRemoteVideoStreamType(t,e){Ce(e,\"streamType\",[0,1]);try{await this._gateway.setRemoteVideoStreamType(t,e),setTimeout(()=>{let n=this._users.find(i=>i.uid===t);n&&n.videoTrack&&n.videoTrack.updateMediaStreamTrackResolution();},2e3);}catch(n){throw _.error(\"[\".concat(this._clientId,\"] set remote video stream type error\"),n.toString()),n}_.info(\"[\".concat(this._clientId,\"] set remote \").concat(t,\" video stream type to \").concat(e)),this._remoteStreamTypeCacheMap.set(t,e);}async setStreamFallbackOption(t,e){Ce(e,\"fallbackType\",[0,1,2]);try{await this._gateway.setStreamFallbackOption(t,e);}catch(n){throw _.error(\"[\".concat(this._clientId,\"] set stream fallback option\"),n.toString()),n}_.info(\"[\".concat(this._clientId,\"] set remote \").concat(t,\" stream fallback type to \").concat(e)),this._streamFallbackTypeCacheMap.set(t,e);}setEncryptionConfig(t,e,n,i){((function(o){Ce(o,\"encryptionMode\",[\"aes-128-xts\",\"aes-256-xts\",\"aes-128-ecb\",\"sm4-128-ecb\",\"aes-128-gcm\",\"aes-256-gcm\",\"aes-128-gcm2\",\"aes-256-gcm2\",\"none\"]);}))(t),Pe(e,\"secret\");let r=[\"aes-128-gcm2\",\"aes-256-gcm2\"];if(W(r).call(r,t)){if(!n||!(n instanceof Uint8Array&&n.length===32))throw new O(R.INVALID_PARAMS,\"salt must be an Uint8Array and exactly equal to 32 bytes\")}else if(n)throw new O(R.INVALID_PARAMS,\"current encrypt mode does not need salt\");if(i){if(Nr(i,\"encryptDataStream\"),!W(r).call(r,t))throw new O(R.INVALID_PARAMS,\"current encrypt mode does not support data stream\");this._encryptDataStream=!0;}new RegExp(`^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'\"|{}\\\\[\\\\]])(?=.{8,})`).test(e)||_.warning(`The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer.\n      `),this._encryptionMode=t,this._encryptionSecret=e,n&&(this._encryptionSalt=so(n));}async renewToken(t){if(Pe(t,\"token\",1,2047),!this._key||!this._joinInfo)throw new O(R.INVALID_OPERATION,\"renewToken should not be called before user join\");let e=this._key;this._key=t,this._joinInfo&&(this._joinInfo.token=t);let n=await this._renewTokenMutex.lock();try{if(v(\"USE_NEW_TOKEN\")){_.debug(\"[\".concat(this._clientId,\"] start renew token with ticket from unilbs\"));let i=await JG(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||Ee);_.debug(\"[\".concat(this._clientId,\"] get ticket from unilbs success\")),await this._gateway.renewToken({token:t,ticket:i});}else _.debug(\"[\".concat(this._clientId,\"] start renew token without ticket\")),await this._gateway.renewToken({token:t});_.debug(\"[\".concat(this._clientId,\"] renewToken success\"));}catch(i){throw this._key=e,this._joinInfo.token=e,_.error(\"[\".concat(this._clientId,\"] renewToken failed\"),i.toString()),i}finally{n();}}enableAudioVolumeIndicator(){this._audioVolumeIndicationInterval?_.warning(\"you have already enabled audio volume indicator!\"):this._audioVolumeIndicationInterval=window.setInterval(()=>{let t=this._p2pChannel.getAudioLevels();this.safeEmit(ut.VOLUME_INDICATOR,t);},v(\"AUDIO_VOLUME_INDICATION_INTERVAL\")||2e3);}getRTCStats(){let t=this._statsCollector.getRTCStats(),e=this._gateway.getInChannelInfo();return t.Duration=Math.round(e.duration/1e3),t}async startLiveStreaming(t,e){if(!e){if(this.codec!==\"h264\")throw new O(R.LIVE_STREAMING_INVALID_RAW_STREAM,\"raw streaming is only support h264\");if(!this._p2pChannel.hasLocalMedia())throw new O(R.LIVE_STREAMING_INVALID_RAW_STREAM,\"can not find stream to raw streaming\")}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(t)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(t))throw new O(R.LIVE_STREAMING_TASK_CONFLICT);let n=e?er.TRANSCODE:er.RAW;return this._createLiveStreamingClient(n).startLiveStreamingTask(t,n)}setLiveTranscoding(t){return this._createLiveStreamingClient(er.TRANSCODE).setTranscodingConfig(t)}async stopLiveStreaming(t){let e=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter(n=>n&&n.hasUrl(t));if(!e.length)throw new O(R.INVALID_PARAMS,\"can not find live streaming url to stop\");await j.all(e.map(n=>n&&n.stopLiveStreamingTask(t)));}async startChannelMediaRelay(t){Pv(t),await this._createChannelMediaRelayClient().startChannelMediaRelay(t);}async updateChannelMediaRelay(t){Pv(t),await this._createChannelMediaRelayClient().updateChannelMediaRelay(t);}async stopChannelMediaRelay(){await this._createChannelMediaRelayClient().stopChannelMediaRelay(),this._statsCollector.onStatsChanged&&(this._statsCollector.onStatsChanged=void 0);}async sendStreamMessage(t){var e;let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!this._joinInfo)throw new O(R.INVALID_OPERATION,\"can not send data stream, not joined\");if((typeof t==\"string\"||t instanceof Uint8Array)&&(t={payload:t}),typeof t.payload==\"string\"){let r=new TextEncoder;t.payload=r.encode(t.payload);}let i=!1;if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&W(e=[\"aes-128-gcm2\",\"aes-256-gcm2\"]).call(e,this._encryptionMode)&&(i=!0,t.payload=await async function(r,o,s){var a;let c=ji(a=Array.from(s)).call(a,(E,f)=>E+f,0),d={serverTs:0,seq:SB++,length:s.length,checkSum:c},l=new Uint8Array(IR(c,2)),u=new ArrayBuffer(us),h=new DataView(u);h.setUint32(0,d.serverTs),h.setUint16(4,d.seq),h.setUint16(6,d.length),h.setUint16(8,d.checkSum);let p=16-s.length%16;s=TR(s,new Uint8Array(p));let g=await window.crypto.subtle.encrypt({name:\"AES-GCM\",iv:r,tagLength:yR,additionalData:l},o,s);return TR(new Uint8Array(u),new Uint8Array(g))}(this._encryptDataStreamIv,this._encryptDataStreamKey,t.payload)),new Blob([t.payload]).size>1024)throw new O(R.INVALID_PARAMS,i?\"encrypted stream message out of range.\":\"stream message out of range.\");return this._gateway.signal.request(et.DATA_STREAM,{payload:so(t.payload),syncWithAudio:t.syncWithAudio,sendTs:Date.now()-EW},!n)}sendMetadata(t){if(!this._joinInfo)throw new O(R.INVALID_OPERATION,\"can not send metadata, not joined\");if(new Blob([t]).size>1024)throw new O(R.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(et.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:so(t)})}async sendCustomReportMessage(t){if(Array.isArray(t)||(t=[t]),t.forEach(RB),!this._joinInfo)throw new O(R.INVALID_OPERATION,\"can not send custom report, not joined\");await X.sendCustomReportMessage(this._joinInfo.sid,t);}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){return this._statsCollector.getRemoteNetworkQualityStats()}async pickSVCLayer(t,e){Ce(e.spatialLayer,\"spatialLayer\",[0,1,2,3]),Ce(e.temporalLayer,\"temporalLayer\",[0,1,2,3]);try{await this._gateway.pickSVCLayer(t,e);}catch(n){throw _.error(\"[\".concat(this._clientId,\"] pick SVC layer failed\"),n.toString()),n}}async setRTMConfig(t){let{apRTM:e=!1,rtmFlag:n}=t;if(Nr(e,\"apRTM\"),Nt(n,\"rtmFlag\",0),this._rtmConfig.apRTM=e,this._rtmConfig.rtmFlag=n,_.debug(\"[\".concat(this._clientId,\"] setRTMconfig \").concat(JSON.stringify(t),\" in \").concat(this.connectionState,\" state\")),(this.connectionState===\"CONNECTED\"||this.connectionState===\"RECONNECTING\")&&this._joinInfo)return this._joinInfo.apRTM=e,this._joinInfo.rtmFlag=n,this._gateway.setRTM2Flag(n)}_reset(){if(_.debug(\"[\".concat(this._clientId,\"] reset client\")),this._axiosCancelSource.cancel(),this._axiosCancelSource=mn.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo&&b0(this._joinInfo),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId=null,this.store.sessionId=null,this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode=\"none\",this._encryptionSecret=null,this._encryptionSalt=null,this._encryptDataStreamKey=null,this._encryptDataStreamIv=null,this._pendingPublishedUsers=[],this._users.forEach(t=>{t._audioTrack&&t._audioTrack._destroy(),t._videoTrack&&t._videoTrack._destroy(),t._dataChannels&&(t._dataChannels.forEach(e=>e._close()),t._dataChannels.length=0);}),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),this._cloudProxyServerMode===\"fallback\"&&(this._cloudProxyServerMode=\"disabled\",this.store.cloudProxyServerMode=\"disabled\"),this._p2pChannel.reset(),this._publishMutex=new ze(\"client-publish\"),this._subscribeMutex=new ze(\"client-subscribe\"),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0;}catch{}if(this._moderation)try{this.setImageModeration(!1);}catch{}}_startSession(t,e){var n;let i=t||Ms();t?_.debug(\"[\".concat(this._clientId,\"] new Session \").concat(i)):_.debug(\"[\".concat(this._clientId,\"] renewSession \").concat(this._sessionId,\" => \").concat(i));let r=t?\"\":this._sessionId||\"\";this._sessionId=i,this.store.sessionId=i;let o={lts:new Date().getTime(),mode:this.mode,buildFormat:2,stringUid:e?.stringUid||((n=this._joinInfo)===null||n===void 0?void 0:n.stringUid),channelProfile:this.mode===\"live\"?1:0,channelMode:0,isABTestSuccess:Number(this._configDistribute.isSuccess),lsid:r,clientRole:this.role===\"audience\"?2:1};X.sessionInit(this._sessionId,xi({cname:e.channel,appid:e.appId},o)),this._joinInfo&&(this._joinInfo.sid=i),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=i);}async _publishHighStream(t){if(!this._joinInfo||this._uid===void 0)throw new O(R.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(this.connectionState!==\"CONNECTED\"&&this.connectionState!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not publish stream in \".concat(this.connectionState,\" state\"));if(this._turnServer.mode===\"auto\"&&v(\"FORCE_TURN\")&&!v(\"TURN_ENABLE_TCP\")&&!v(\"TURN_ENABLE_UDP\"))throw new O(R.UNEXPECTED_ERROR,\"force TURN With No TURN Configuration\");_.debug(\"[\".concat(this._clientId,\"] publish high stream\"));try{let n=await this._p2pChannel.publish(t,this._isDualStreamEnabled,this._lowStreamParameter);if(this._p2pChannel instanceof An){let i=(await n.next()).value;if(i){try{await this._gateway.sendExtensionMessage(ie.PUBLISH,i,!0);}catch(r){throw n.throw(r),r}await n.next();}this._p2pChannel.reportPublishEvent(!0,null);}else {let i=(await n.next()).value;if(i){var e;let r;try{r=await this._gateway.publish(this._uid,i,!0);}catch(o){if(o.code!==R.DISCONNECT_P2P)throw n.throw(o),o}await n.next(((e=r)===null||e===void 0?void 0:e.ortc)||[]);}this._p2pChannel.reportPublishEvent(!0,null);for(let r of t)r instanceof Ft&&r._encoderConfig&&this._gateway.setVideoProfile(r._encoderConfig),!r.muted&&r.enabled||await this._p2pChannel.muteLocalTrack(r);}}catch(n){if(this._p2pChannel.reportPublishEvent(!1,n?.code,t),n?.code===R.WS_ABORT)return;throw n}}async _publishLowStream(){if(!this._joinInfo||this._uid===void 0)throw new O(R.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(this.connectionState!==\"CONNECTED\"&&this.connectionState!==\"RECONNECTING\")throw new O(R.INVALID_OPERATION,\"can not publish stream in \".concat(this.connectionState,\" state\"));_.debug(\"[\".concat(this._clientId,\"] publish low stream\"));let t=this._configDistribute.getLowStreamConfigDistribute();t&&t.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&t.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=t.bitrate));try{let n=await this._p2pChannel.publishLowStream(this._lowStreamParameter),i=(await n.next()).value;if(i){var e;let r;try{r=await this._gateway.publish(this._uid,i,!0);}catch(o){if(o.code!==R.DISCONNECT_P2P)throw n.throw(o),o}n.next(((e=r)===null||e===void 0?void 0:e.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0);}}catch(n){if(this._p2pChannel.reportPublishEvent(!1,n?.code,void 0,!0),n?.code===R.WS_ABORT)return;throw n}}_createLiveStreamingClient(t){let e=()=>{if(!this._joinInfo||!this._appId)return new O(R.INVALID_OPERATION,\"can not create live streaming client, please join channel first\").throw();let n=(i={joinInfo:this._joinInfo,appId:this._appId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig},Za(\"LiveStreaming\").create(i));var i;return n.onLiveStreamError=(r,o)=>{X.reportApiInvoke(this._sessionId,{name:Te.ON_LIVE_STREAM_ERROR,options:[r,o],tag:Zt.TRACER}).onSuccess(),this.safeEmit(ut.LIVE_STREAMING_ERROR,r,o);},n.onLiveStreamWarning=(r,o)=>{X.reportApiInvoke(this._sessionId,{name:Te.ON_LIVE_STREAM_WARNING,options:[r,o],tag:Zt.TRACER}).onSuccess(),this.safeEmit(ut.LIVE_STREAMING_WARNING,r,o);},n.on(VE.REQUEST_WORKER_MANAGER_LIST,(r,o,s)=>{if(!this._joinInfo)return s(new O(R.INVALID_OPERATION,\"can not find join info to get worker manager\"));(async function(a,c,d,l){let u=v(\"UAP_AP\").slice(0,v(\"AJAX_REQUEST_CONCURRENT\")).map(h=>c.proxyServer?\"https://\".concat(c.proxyServer,\"/ap/?url=\").concat(h+\"/api/v1?action=uap\"):\"https://\".concat(h,\"/api/v1?action=uap\"));return await WG(u,a,c,d,l)})(r,this._joinInfo,this._axiosCancelSource.token,Ee).then(o).catch(s);}),n};return t===er.RAW?(this._liveRawStreamingClient=this._liveRawStreamingClient||e(),this._liveRawStreamingClient):(this._liveTranscodeStreamingClient=this._liveTranscodeStreamingClient||e(),this._liveTranscodeStreamingClient)}_createChannelMediaRelayClient(){if(!this._joinInfo)return new O(R.INVALID_OPERATION,\"can not create channel media relay client, please join channel first\").throw();if(!this._channelMediaRelayClient){let{sendResolutionWidth:e,sendResolutionHeight:n}=this.getLocalVideoStats(),i=(t={joinInfo:this._joinInfo,clientId:this._clientId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig,resolution:{width:e,height:n}},Za(\"ChannelMediaRelay\").create(t));i.on(\"state\",r=>{r===Sn.RELAY_STATE_FAILURE&&i&&i.dispose(),this.safeEmit(ut.CHANNEL_MEDIA_RELAY_STATE,r);}),i.on(\"event\",r=>{this.safeEmit(ut.CHANNEL_MEDIA_RELAY_EVENT,r);}),this._channelMediaRelayClient=i,this._statsCollector.onStatsChanged=(r,o)=>{var s;r===\"resolution\"&&((s=this._channelMediaRelayClient)===null||s===void 0||s.setVideoProfile(o));};}var t;return this._channelMediaRelayClient}_handleUpdateDataChannel(t,e){let{added:n,deleted:i}=t,r=[];if(e){let o=[];this._users.forEach(s=>{s._dataChannels.forEach(a=>{n.every(c=>c.uid!==s._uintid||c.stream_id!==a.id)&&o.push({uid:s._uintid,stream_id:a.id,ordered:a.ordered,max_retrans_times:a.maxRetransmits,metadata:a.metadata});});}),o.length>0&&this._handleUpdateDataChannel({added:[],deleted:o});}Array.isArray(n)&&n.length>0&&n.forEach(o=>{let{uid:s,stream_id:a,ordered:c,max_retrans_times:d,metadata:l}=o,u=this._users.find(h=>h._uintid===s);if(!u)return void _.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_data_channel)\"));if(_.debug(\"[\".concat(this._clientId,\"] data_channel added with uid \").concat(s)),W(r).call(r,u)||r.push(u),u._uintid||(u._uintid=s),u._dataChannels.findIndex(h=>h.id===o.stream_id)===-1){let h={id:a,ordered:!!c,maxRetransmits:d,metadata:l},p=function(g){return Kv(g,!0)}(h);u._dataChannels.push(p),_.info(\"[\".concat(this._clientId,\"] remote user \").concat(u.uid,\" published datachannel\")),e||this.safeEmit(ut.USER_PUBLISHED,u,\"datachannel\",h);}this._p2pChannel.hasPendingRemoteDataChannel(u,o.stream_id)&&(_.debug(\"[\".concat(this._clientId,\"] resubscribe datachannel for user \").concat(u.uid,\" after reconnect.\")),this._subscribeDataChannel(u,o.stream_id).catch(h=>{_.error(\"[\".concat(this._clientId,\"] resubscribe datachannel error\"),h.toString());}));}),e&&(this.safeEmit(ut.PUBLISHED_USER_LIST,this._pendingPublishedUsers),this._pendingPublishedUsers=[]),Array.isArray(i)&&i.length>0&&i.forEach(o=>{let{uid:s,stream_id:a}=o,c=this._users.find(l=>l._uintid===s);if(!c)return void _.error(\"[\".concat(this._clientId,\"] can not find target user!(on_delete_data_channel)\"));let d=c._dataChannels.find(l=>l.id===o.stream_id);d&&(_.debug(\"[\".concat(this._clientId,\"] data_stream delete with uid \").concat(s)),this._p2pChannel.unsubscribeDataChannel(c,[d]).then(l=>{if(c._dataChannels=c._dataChannels.filter(u=>u!==d),l)return this._gateway.unsubscribeDataChannel(l,c.uid)}),_.info(\"[\".concat(this._clientId,\"] remote user \").concat(s,\" unpublished datachannel ,id:\").concat(d.id)),this.safeEmit(ut.USER_UNPUBLISHED,c,\"datachannel\",d._config));});}_handleRemoveDataChannels(t){let e=this._users.find(n=>n.uid===t.uid);if(e){if(e._dataChannels!==void 0&&e._dataChannels.length>0){_.debug(\"[\".concat(this._clientId,\"] datachannel removed with uid \").concat(t.uid));let n=()=>{_.info(\"[\".concat(this._clientId,\"] remote user \").concat(e.uid,\" unpublished datachannel\")),e._dataChannels.forEach(i=>{this.safeEmit(ut.USER_UNPUBLISHED,e,\"datachannel\",i._config);});};this._p2pChannel.unsubscribeDataChannel(e,e._dataChannels).then(i=>{if(i)return this._gateway.unsubscribeDataChannel(i,e.uid)}),n();}}else _.warning(\"[\".concat(this._clientId,\"] can not find target user!(on_remove_datachannel)\"));}_handleGatewayEvents(){this._gateway.on(xe.DISCONNECT_P2P,async()=>{await this._p2pChannel.disconnectForReconnect();}),this._gateway.on(xe.CONNECTION_STATE_CHANGE,(t,e,n)=>{var i;if(n===At.FALLBACK)return;let r=()=>{this.safeEmit(ut.CONNECTION_STATE_CHANGE,t,e,n);};if(X.reportApiInvoke(this._sessionId||((i=this._gateway.joinInfo)===null||i===void 0?void 0:i.sid)||null,{name:Te.CONNECTION_STATE_CHANGE,options:[t,e,n],tag:Zt.TRACER}).onSuccess(JSON.stringify({cur:t,prev:e,reason:n})),_.info(\"[\".concat(this._clientId,\"] connection state change: \").concat(e,\" -> \").concat(t)),t===\"DISCONNECTED\")return this._reset(),void r();if(t===\"RECONNECTING\")this._users.forEach(s=>{s._trust_in_room_=!1,s._trust_audio_enabled_state_=!1,s._trust_video_enabled_state_=!1,s._trust_audio_mute_state_=!1,s._trust_video_mute_state_=!1,s._trust_audio_stream_added_state_=!1,s._trust_video_stream_added_state_=!1,s._is_pre_created||(s._audio_pre_subscribed||(s._audioSSRC=void 0,s._audioOrtc=void 0),s._video_pre_subscribed||(s._videoSSRC=void 0,s._videoOrtc=void 0,s._rtxSsrcId=void 0),s._cname=void 0);}),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if(t===\"CONNECTED\"){var o;this._streamFallbackTypeCacheMap.forEach((s,a)=>{this._gateway.setStreamFallbackOption(a,s).catch(c=>{_.warning(\"[\".concat(this._clientId,\"] auto set stream fallback option failed\"),c);});}),this._remoteStreamTypeCacheMap.forEach((s,a)=>{this._gateway.setRemoteVideoStreamType(a,s).catch(c=>{_.warning(\"[\".concat(this._clientId,\"] auto set remote stream type failed\"),c);});}),this._remoteDefaultVideoStreamType!==void 0&&((o=this._joinInfo)===null||o===void 0?void 0:o.defaultVideoStream)===void 0&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then(()=>{_.debug(\"[\".concat(this._clientId,\"] setRemoteDefaultVideoStreamType after gateway connected\"));}).catch(s=>{_.error(\"[\".concat(this._clientId,\"] setRemoteDefaultVideoStreamType after gateway failed, \").concat(s));}),this.store.useP2P||(this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout(()=>{this.connectionState===\"CONNECTED\"&&(this._userOfflineTimeout=void 0,this._users.filter(s=>!s._trust_in_room_).forEach(s=>{_.debug(\"[\".concat(this._clientId,\"] user offline timeout, emit user offline \").concat(s.uid)),this._handleUserOffline({uid:s.uid});}));},3e3),this._streamRemovedTimeout=window.setTimeout(()=>{this.connectionState===\"CONNECTED\"&&(this._streamRemovedTimeout=void 0,this._users.forEach(s=>{s._trust_audio_mute_state_||(_.debug(\"[\".concat(this._clientId,\"] auto dispatch audio unmute event \").concat(s.uid)),this._handleMuteStream(s.uid,Q.AUDIO,!1)),s._trust_video_mute_state_||(_.debug(\"[\".concat(this._clientId,\"] auto dispatch video unmute event \").concat(s.uid)),this._handleMuteStream(s.uid,Q.VIDEO,!1)),s._trust_audio_enabled_state_||(_.debug(\"[\".concat(this._clientId,\"] auto dispatch enable local audio \").concat(s.uid)),this._handleSetStreamLocalEnable(\"audio\",s.uid,!0)),s._trust_video_enabled_state_||(_.debug(\"[\".concat(this._clientId,\"] auto dispatch enable local video \").concat(s.uid)),this._handleSetStreamLocalEnable(\"video\",s.uid,!0)),s._trust_video_stream_added_state_||(_.debug(\"[\".concat(this._clientId,\"] auto dispatch reset video stream added \").concat(s.uid)),this._handleResetAddStream(s,\"video\")),s._trust_audio_stream_added_state_||(_.debug(\"[\".concat(this._clientId,\"] auto dispatch reset audio stream added \").concat(s.uid)),this._handleResetAddStream(s,\"audio\")),s._video_added_||s._audio_added_||(_.debug(\"[\".concat(this._clientId,\"] auto dispatch stream remove \").concat(s.uid)),this._handleRemoveStream({uid:s.uid,uint_id:s._uintid}));}));},1e3));}r();}),this._gateway.on(xe.REQUEST_NEW_GATEWAY_LIST,async(t,e)=>{if(!this._joinInfo)return e(new O(R.UNEXPECTED_ERROR,\"can not recover, no join info\"));try{let n,i=await Xv(xi(xi({},this._joinInfo),{},{uid:this._joinInfo.uid,stringUid:void 0}));i?(n=i.ap,Qv(i),this._joinInfo.preload=!0):(n=await nm(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||Ee,this.store),this._joinInfo.preload=!1),this._joinInfo&&(this._joinInfo.apResponse=n.gatewayInfo.res,this._joinInfo.gatewayAddrs=n.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=n.gatewayInfo.uni_lbs_ip);let r=[];n.gatewayInfo.gatewayAddrs.forEach(o=>{let{address:s}=o,[a,c]=s.split(\":\");this._joinInfo&&this._joinInfo.proxyServer?r.push({proxy:this._joinInfo.proxyServer,host:a,port:c}):r.push({host:a,port:c});}),t(r);}catch(n){e(n);}}),this._gateway.on(xe.NETWORK_QUALITY,t=>{this._networkQualitySensitivity===\"normal\"&&this.safeEmit(ut.NETWORK_QUALITY,t);}),this._gateway.on(xe.STREAM_TYPE_CHANGE,(t,e)=>{this.safeEmit(ut.STREAM_TYPE_CHANGED,t,e),X.reportApiInvoke(this._sessionId,{name:Te.STREAM_TYPE_CHANGE,options:[t,e],tag:Zt.TRACER}).onSuccess(JSON.stringify({uid:t,streamType:e}));}),this._gateway.on(xe.IS_P2P_DISCONNECTED,t=>{this._p2pChannel.isP2PDisconnected()?t(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?t(!1):t(!0);}),this._gateway.on(xe.REQUEST_P2P_CONNECTION_PARAMS,async(t,e,n)=>{try{let i=await this._p2pChannel.getEstablishParams();v(\"ENABLE_PREALLOC_PC\")&&i||(i=await this._p2pChannel.startP2PConnection(t)),e(i);}catch(i){n(i);}}),this._gateway.on(xe.JOIN_RESPONSE,(t,e)=>{if(this.store.useP2P)return;let n=qI(t.ortc,e,t.attributes.userAttributes.preSubSsrcs);this._p2pChannel.connect(n);}),this._gateway.on(xe.PRE_CONNECT_PC,async t=>{let{candidates:e,fingerprint:n}=t;if(this._joinInfo&&e.length>0&&!this._p2pChannel.isPlanB){var i;await this._p2pChannel.startP2PConnection({turnServer:this._joinInfo.turnServer});let{cert:r,cid:o}=this._joinInfo.apResponse;await this._p2pChannel.connect({iceParameters:{iceUfrag:\"\".concat(o,\"_\").concat(r),icePwd:\"\".concat(o,\"_\").concat(r)},dtlsParameters:{fingerprints:[{hashFunction:\"sha-256\",fingerprint:(i=v(\"FINGERPRINT\"))!==null&&i!==void 0?i:n}]},candidates:e,rtpCapabilities:{send:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},recv:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]}},setup:\"active\",cname:\"o/i14u9pJrxRKAsu\",preallocation:!0});}});}_handleGatewaySignalEvents(){this._gateway.signal.on(dt.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(dt.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(dt.ON_ADD_AUDIO_STREAM,t=>this._handleAddAudioOrVideoStream(\"audio\",t.uid,t.ssrcId,t.cname,t.uint_id,t.ortc)),this._gateway.signal.on(dt.ON_ADD_VIDEO_STREAM,t=>this._handleAddAudioOrVideoStream(\"video\",t.uid,t.ssrcId,t.cname,t.uint_id,t.ortc,t.rtxSsrcId)),this._gateway.signal.on(dt.ON_REMOTE_DATASTREAM_UPDATE,t=>{this._handleUpdateDataChannel(t);}),this._gateway.signal.on(dt.ON_REMOTE_FULL_DATASTREAM_INFO,t=>{this._handleUpdateDataChannel({added:t.datastreams||[],deleted:[]},!0);}),this._gateway.signal.on(dt.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(dt.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(dt.MUTE_AUDIO,t=>this._handleMuteStream(t.uid,Q.AUDIO,!0)),this._gateway.signal.on(dt.UNMUTE_AUDIO,t=>this._handleMuteStream(t.uid,Q.AUDIO,!1)),this._gateway.signal.on(dt.MUTE_VIDEO,t=>this._handleMuteStream(t.uid,Q.VIDEO,!0)),this._gateway.signal.on(dt.UNMUTE_VIDEO,t=>this._handleMuteStream(t.uid,Q.VIDEO,!1)),this._gateway.signal.on(dt.RECEIVE_METADATA,t=>{let e=Fo(t.metadata);this.safeEmit(ut.RECEIVE_METADATA,t.uid,e);}),this._gateway.signal.on(dt.ON_DATA_STREAM,async t=>{var e;if(!t)return;let n=Fo(t.payload);if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&W(e=[\"aes-128-gcm2\",\"aes-256-gcm2\"]).call(e,this._encryptionMode)){if(t.payload.length<us)throw new O(R.UNEXPECTED_RESPONSE,\"payload length \".concat(t.payload.length,\" is less than header length \").concat(us));n=await async function(o,s,a){let c=a.subarray(0,us),d=c.slice(8,us),l=(d[0]<<8)+d[1],u=(c[6]<<8)+c[7],h=await window.crypto.subtle.decrypt({name:\"AES-GCM\",iv:o,tagLength:yR,additionalData:new Uint8Array(IR(l,2))},s,a.subarray(us));return new Uint8Array(h).subarray(0,u)}(this._encryptDataStreamIv,this._encryptDataStreamKey,n);}let i=0;if(t.ordered||t.syncWithAudio){let r=this._p2pChannel.getStats(),o=this.remoteUsers.find(a=>a.uid===t.uid),s=r?.audioRecv.find(a=>a.ssrc===o?._audioSSRC);i=s?.jitterBufferMs;}i==null&&(i=0),fW(xi(xi({},t),{},{payload:n}),i,{id:this._clientId,onStreamMessage:typeof this.onStreamMessage==\"function\"?this.onStreamMessage.bind(this):void 0,safeEmit:this.safeEmit.bind(this)});}),this._gateway.signal.on(dt.ON_CRYPT_ERROR,()=>{po(()=>{_.warning(\"[\".concat(this._clientId,\"] on crypt error\")),this.safeEmit(ut.CRYPT_ERROR);},this._sessionId);}),this._gateway.signal.on(dt.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(dt.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{_.warning(\"[\".concat(this._clientId,\"] received message onTokenPrivilegeDidExpire, please get new token and join again\")),this._gateway.leave(!0,At.TOKEN_EXPIRE),this.safeEmit(ut.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset();}),this._gateway.signal.on(dt.ON_STREAM_FALLBACK_UPDATE,t=>{_.debug(\"[\".concat(this._clientId,\"] stream fallback peerId: \").concat(t.stream_id,\", attr: \").concat(t.stream_type)),this.safeEmit(ut.STREAM_FALLBACK,t.stream_id,t.stream_type===1?\"fallback\":\"recover\");}),this._gateway.signal.on(dt.ON_PUBLISH_STREAM,t=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:t.proxy})),_.info(\"[\".concat(this._clientId,\"] on publish stream, \").concat(JSON.stringify(t))));}),this._gateway.signal.on(dt.ENABLE_LOCAL_VIDEO,t=>{this._handleSetStreamLocalEnable(\"video\",t.uid,!0);}),this._gateway.signal.on(dt.DISABLE_LOCAL_VIDEO,t=>{this._handleSetStreamLocalEnable(\"video\",t.uid,!1);}),this._gateway.signal.on(nt.REQUEST_TIMEOUT,(t,e)=>{if(this._joinInfo)switch(t){case et.PUBLISH:{if(!e)return;let r=e.ortc;if(r){var n,i;let o=r.some(c=>{let{stream_type:d}=c;return d===Ct.Audio}),s=r.some(c=>{let{stream_type:d}=c;return d!==Ct.Audio}),a=r.some(c=>{let{stream_type:d}=c;return d===Ct.Screen||d===Ct.ScreenLow});e.state===\"offer\"&&X.publish(this._joinInfo.sid,{eventElapse:qe.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:R.TIMEOUT,audio:o,video:s,p2pid:e.p2p_id,publishRequestid:this.store.pubId,screenshare:a,audioName:o?(n=r.find(c=>{let{stream_type:d}=c;return d===Ct.Audio}))===null||n===void 0||(n=n.ssrcs[0])===null||n===void 0?void 0:n.ssrcId.toString():void 0,videoName:s?(i=r.find(c=>{let{stream_type:d}=c;return d!==Ct.Audio}))===null||i===void 0||(i=i.ssrcs[0])===null||i===void 0?void 0:i.ssrcId.toString():void 0});}break}case et.SUBSCRIBE:e&&X.subscribe(this._joinInfo.sid,{succ:!1,ec:R.TIMEOUT,audio:e.stream_type===Q.AUDIO,video:e.stream_type===Q.VIDEO,peerid:e.stream_id,subscribeRequestid:e.ssrcId,p2pid:this.store.p2pId,eventElapse:qe.measureFromSubscribeStart(this.store.clientId,e.ssrcId),preSsrc:this._p2pChannel.isPreSubScribe(e.ssrcId)});}}),this._gateway.signal.on(dt.ON_P2P_OK,t=>{this.uid,this._uid;}),this._gateway.signal.on(dt.ON_PUBLISHED_USER_LIST,t=>{if(t==null||!t.users)return;v(\"BLOCK_LOCAL_CLIENT\")&&(t.users=t.users.filter(i=>!Io(i.string_id||i.stream_id,this.channelName)));let e=[],n=[];for(let i of t.users){let r=this._users.find(l=>l._uintid===i.stream_id);r?r._trust_in_room_=!0:(r=new ir(i.string_id||i.stream_id,i.stream_id),this._users.push(r),this.getListeners(ut.PUBLISHED_USER_LIST).length===0&&(_.debug(\"[\".concat(this._clientId,\"] user online\"),i.stream_id),this.safeEmit(ut.USER_JOINED,r)));let o=ve.Audio&i.stream_type,s=(ve.Video|ve.LwoVideo)&i.stream_type,a=(65280&i.stream_type)!=0,c=o&&r.hasAudio,d=s&&r.hasVideo;s&&(r._trust_video_stream_added_state_=!0,r._video_added_=!0,r._videoSSRC=i.video_ssrc,r._rtxSsrcId=i.video_rtx),o&&(r._trust_audio_stream_added_state_=!0,r._audio_added_=!0,r._audioSSRC=i.audio_ssrc),o&&!c&&this.getListeners(ut.PUBLISHED_USER_LIST).length===0&&(_.info(\"[\".concat(this._clientId,\"] remote user \").concat(r.uid,\" published audio\")),this.safeEmit(ut.USER_PUBLISHED,r,\"audio\")),s&&!d&&this.getListeners(ut.PUBLISHED_USER_LIST).length===0&&(_.info(\"[\".concat(this._clientId,\"] remote user \").concat(r.uid,\" published video\")),this.safeEmit(ut.USER_PUBLISHED,r,\"video\")),(o&&!c||s&&!d||a)&&e.push(r),s&&this._p2pChannel.hasPendingRemoteMedia(r,\"video\")&&n.push({user:r,mediaType:\"video\"}),o&&this._p2pChannel.hasPendingRemoteMedia(r,\"audio\")&&n.push({user:r,mediaType:\"audio\"});}n.length>0&&(_.debug(\"[\".concat(this._clientId,\"] RE massSubscribe after reconnect \").concat(n.map(i=>\"user: \".concat(i.user.uid,\", mediaType: \").concat(i.mediaType)).join(\"; \"),\" \")),this.massSubscribe(n).catch(i=>{_.error(\"[\".concat(this._clientId,\"] mass resubscribe error\"),i.toString());})),this.getListeners(ut.PUBLISHED_USER_LIST).length>0?v(\"ENABLE_DATASTREAM_2\")?this._pendingPublishedUsers=e:(_.info(\"[\".concat(this._clientId,\"] client emit user-list event, users: \").concat(e.map(i=>i.uid).join(\", \"))),this.safeEmit(ut.PUBLISHED_USER_LIST,e)):_.info(\"[\".concat(this._clientId,\"] client not emit user-list event case there is no user-list listener, users: \").concat(e.map(i=>i.uid).join(\", \")));}),this._gateway.signal.on(dt.ON_RTP_CAPABILITY_CHANGE,t=>{let{video_codec:e}=t;this._p2pChannel instanceof Jd&&this._p2pChannel.updateRemoteRTPCapabilities(e.map(n=>n.toLowerCase()).filter(n=>{var i;return W(i=Object.keys(Ju)).call(i,n)}));});}_handleP2PEvents(){this._gateway.signal.on(dt.ON_USER_OFFLINE,()=>{this._p2pChannel.disconnectForReconnect();}),this._gateway.signal.on(ie.PUBLISH,(t,e,n)=>{let{uid:i}=t;t.forEach(r=>{let{kind:o,ssrcs:s,mid:a,isMuted:c}=r;this._handleP2PAddAudioOrVideoStream(o,i,s[0].ssrcId,a);let d=this._users.find(l=>l.uid===i);return d&&this._p2pChannel instanceof An?this._p2pChannel.mockSubscribe(d,o,s[0].ssrcId,a).then(()=>{e();}).catch(n):e(),this._handleMuteStream(i,o,!!c)});}),this._gateway.signal.on(ie.CALL,async(t,e,n)=>{if(this._p2pChannel instanceof An)try{var i;e(await this._p2pChannel.startP2P({turnServer:(i=this._joinInfo)===null||i===void 0?void 0:i.turnServer},t));}catch(r){n(r);}}),this._gateway.signal.on(nt.P2P_CONNECTION,async t=>{this._p2pChannel instanceof An&&await this._p2pChannel.p2pConnect(t);}),this._gateway.signal.on(ie.UNPUBLISH,async(t,e,n)=>{if(this._p2pChannel instanceof An){let{unpubMsg:i,uid:r}=t,o=this._users.find(s=>s.uid===r);if(!o)return _.warning(\"[\".concat(this._clientId,\"] can not find remote user, ignore mute event, uid: \").concat(r)),void e();try{i.forEach(async s=>{let{stream_type:a}=s,c=a===Ct.Audio?Q.AUDIO:Q.VIDEO;await this._p2pChannel.unsubscribe(o,c),this._handleMuteStream(r,c,!0);}),e();}catch(s){n(s);}}}),this._gateway.signal.on(ie.CONTROL,async(t,e)=>{let{action:n}=t;switch(n){case to.MUTE_LOCAL_VIDEO:this._handleMuteStream(e,Q.VIDEO,!0);break;case to.MUTE_LOCAL_AUDIO:this._handleMuteStream(e,Q.AUDIO,!0);break;case to.UNMUTE_LOCAL_VIDEO:this._handleP2PAddAudioOrVideoStream(\"video\",e),this._handleMuteStream(e,Q.VIDEO,!1);break;case to.UNMUTE_LOCAL_AUDIO:this._handleP2PAddAudioOrVideoStream(\"audio\",e),this._handleMuteStream(e,Q.AUDIO,!1);}}),this._gateway.signal.on(ie.RESTART_ICE,async(t,e,n)=>{if(this._p2pChannel instanceof An)try{let{direction:i,iceParameter:r}=t;i!==cn.SEND_ONLY||r?e(await this._p2pChannel.restartICE(i,r)):(this._p2pChannel.handleDisconnect(i),e());}catch(i){n(i);}}),this._gateway.signal.on(ie.CANDIDATE,t=>{if(this._p2pChannel instanceof An){let{candidate:e,direction:n}=t;this._p2pChannel.addRemoteCandidate(e,n);}}),this._p2pChannel.on(tt.RequestP2PRestartICE,async(t,e,n)=>{try{let{direction:i}=t;e(await this._gateway.sendExtensionMessage(ie.RESTART_ICE,t,i===cn.SEND_ONLY));}catch(i){n(i);}}),this._p2pChannel.on(tt.LocalCandidate,t=>{this._gateway.sendExtensionMessage(ie.CANDIDATE,JSON.stringify(t),!0);}),this._p2pChannel.on(tt.RequestP2PMuteLocal,async(t,e,n)=>{try{await this._gateway.sendExtensionMessage(ie.CONTROL,t,!0),e();}catch(i){n(i);}}),this._p2pChannel.on(tt.RequestP2PUnmuteRemote,async(t,e,n)=>{if(this._joinInfo)try{await this._gateway.unmuteRemote(t,this._joinInfo.stringUid||this._joinInfo.uid),e();}catch(i){i.code===R.DISCONNECT_P2P?e():n(i);}else e();}),this._p2pChannel.on(tt.RequestP2PMuteRemote,async(t,e,n)=>{if(this._joinInfo)try{await this._gateway.muteRemote(t,this._joinInfo.stringUid||this._joinInfo.uid),e();}catch(i){i.code===R.DISCONNECT_P2P?e():n(i);}else e();}),this._p2pChannel.on(tt.StateChange,(t,e)=>{e===Rt.Connected&&this._p2pChannel.republish();});}_handleP2PChannelEvents(){this._p2pChannel.on(tt.RequestMuteLocal,async(t,e,n)=>{if(this._joinInfo)try{await this._gateway.muteLocal(t,this._joinInfo.stringUid||this._joinInfo.uid),e();}catch(i){i.code===R.DISCONNECT_P2P?e():n(i);}else e();}),this._p2pChannel.on(tt.RequestUnmuteLocal,async(t,e,n)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(t,this._joinInfo.stringUid||this._joinInfo.uid),e();}catch(i){i.code===R.DISCONNECT_P2P?e():n(i);}else e();}),this._p2pChannel.on(tt.RequestRePublish,(t,e,n)=>{this.publish(t,!1).then(e).catch(n);}),this._p2pChannel.on(tt.RequestRePublishDataChannel,(t,e,n)=>{j.all(t.map(async i=>{let r=await this._p2pChannel.publishDataChannel([i]);try{r.forEach(o=>{this._uid&&this._gateway.publishDataChannel(this._uid,o,!0);});}catch(o){if(o.code!==R.DISCONNECT_P2P)throw o}})).then(e).catch(n);}),this._p2pChannel.on(tt.RequestReSubscribe,async(t,e,n)=>{try{for(let{user:i,kind:r}of t)r===Q.VIDEO?await this.subscribe(i,\"video\"):await this.subscribe(i,\"audio\");e();}catch(i){n(i);}}),this._p2pChannel.on(tt.RequestUpload,(t,e)=>{this._gateway.upload(t,e);}),this._p2pChannel.on(tt.RequestUploadStats,t=>{this._gateway.uploadWRTCStats(t);}),this._p2pChannel.on(tt.MediaReconnectStart,t=>{this.safeEmit(ut.MEDIA_RECONNECT_START,t);}),this._p2pChannel.on(tt.MediaReconnectEnd,t=>{this.safeEmit(ut.MEDIA_RECONNECT_END,t);}),this._p2pChannel.on(tt.NeedSignalRTT,t=>{t(this._gateway.getSignalRTT());}),this._p2pChannel.on(tt.RequestRestartICE,async t=>{if(this._p2pChannel instanceof An)return;let e=await this._p2pChannel.restartICE(t),n=await e.next();if(n.done)return;let i=n.value,r;try{r=await this._gateway.restartICE({iceParameters:i});}catch(s){return void e.throw(s)}let{iceParameters:o}=function(s){let a=s.iceParameters;return {iceParameters:{iceUfrag:a.iceUfrag,icePwd:a.icePwd}}}(r);await e.next({remoteIceParameters:o});}),this._p2pChannel.on(tt.RequestReconnect,async()=>{this._gateway.reconnect();}),this._p2pChannel.on(tt.RequestReconnectPC,async()=>{var t;let{iceParameters:e,dtlsParameters:n,rtpCapabilities:i}=await this._p2pChannel.startP2PConnection({turnServer:(t=this._joinInfo)===null||t===void 0?void 0:t.turnServer}),{gatewayEstablishParams:r,gatewayAddress:o}=await this._gateway.reconnectPC({iceParameters:e,dtlsParameters:n,rtpCapabilities:i}),s=qI(r,o);await this._p2pChannel.connect(s),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe();}),this._p2pChannel.on(tt.RequestUnpublishForReconnectPC,async(t,e,n)=>{this._joinInfo&&this._uid!==void 0?(await this._gateway.unpublish(t,this._uid),e()):n();}),this._p2pChannel.on(tt.P2PLost,()=>{this.safeEmit(ut.P2P_LOST,this.store.uid);}),this._p2pChannel.on(tt.UpdateVideoEncoder,t=>{t._encoderConfig&&this._gateway.setVideoProfile(t._encoderConfig);}),this._p2pChannel.on(tt.ConnectionTypeChange,t=>{this.safeEmit(ut.IS_USING_CLOUD_PROXY,t);}),this._p2pChannel.on(tt.RequestLowStreamParameter,t=>{t(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50});}),this._p2pChannel.on(tt.QueryClientConnectionState,t=>{t(this.connectionState);});}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(t){if(!this._joinInfo||this.connectionState!==\"CONNECTED\")throw new O(R.INVALID_OPERATION,\"[\".concat(this._clientId,\"] can not create content inspect, please join channel first\"));if(this._inspect)throw new O(R.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Inspect content service already in connecting/connected state\"));try{let n=(e={config:t},Za(\"ContentInspect\").create(e));this._inspect=n,this.handleVideoInspectEvents(n);let{appId:i,cname:r,sid:o,token:s,uid:a,cid:c,vid:d}=this._joinInfo;await n.init({appId:i,areaCode:\"\",cname:r,sid:o,token:s,uid:a,cid:c,vid:d?Number(d):0},Ee);}catch(n){throw Array.isArray(n)?n[0]:n}var e;}handleVideoInspectEvents(t){t.on(we.CONNECTION_STATE_CHANGE,(e,n)=>{if(this.safeEmit(ut.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,e,n),n===Ei.CONNECTED){if(this.connectionState!==\"CONNECTED\")return void this.safeEmit(ut.CONTENT_INSPECT_ERROR,new O(R.OPERATION_ABORTED,\"Content inspect was cancelled because it left the channel\"));t.inspectImage();}}),t.on(we.INSPECT_RESULT,(e,n)=>{var i;if(n?.code===R.INVALID_OPERATION&&this.connectionState===\"DISCONNECTED\")return _.debug(\"Stop inspect content because that has left channel\"),this==null||(i=this._inspect)===null||i===void 0||i.close(),void(this._inspect=void 0);this.safeEmit(ut.CONTENT_INSPECT_RESULT,e,n);}),t.on(we.CLIENT_LOCAL_VIDEO_TRACK,e=>{e(this.localTracks.filter(n=>n.trackMediaType===\"video\")[0]);});}async disableContentInspect(){if(!this._inspect)throw new O(R.INVALID_OPERATION,\"[\".concat(this._clientId,\"] inspectVideoContent not started\"));try{this._inspect.close(),this._inspect=void 0;}catch(t){throw Array.isArray(t)?t[0]:t}}async setImageModeration(t,e){if(Nr(t,\"enabled\"),t){if(!e)throw new O(R.INVALID_PARAMS,\"config is required\");if(k0(e),!this._joinInfo)throw new O(R.INVALID_OPERATION,\"can not create image moderation, please join channel first\");try{if(this._moderation)this._moderation.updateConfig(e);else {let i=(n={config:e},Za(\"ImageModeration\").create(n));this._moderation=i,this.handleImageModerationEvents(i);let{appId:r,cname:o,sid:s,token:a,uid:c,cid:d,vid:l}=this._joinInfo;await i.init({appId:r,areaCode:\"\",cname:o,sid:s,token:a,uid:c,cid:d,vid:l?Number(l):0},Ee);}}catch(i){throw Array.isArray(i)?i[0]:i}}else {var n;if(!this._moderation)throw new O(R.INVALID_OPERATION,\"[\".concat(this._clientId,\"] image moderation not started\"));try{this._moderation.close(),this._moderation.removeAllListeners(),this._moderation=void 0;}catch(i){throw Array.isArray(i)?i[0]:i}}}handleImageModerationEvents(t){t.on(Mi.CONNECTION_STATE_CHANGE,(e,n)=>{if(this.safeEmit(ut.IMAGE_MODERATION_CONNECTION_STATE_CHANGE,e,n),e===Xn.CONNECTED){if(this.connectionState!==\"CONNECTED\")throw this.setImageModeration(!1),new O(R.OPERATION_ABORTED,\"Image moderation was cancelled because it left the channel\");t.inspectImage();}}),t.on(Mi.CLIENT_LOCAL_VIDEO_TRACK,e=>{e(this.localTracks.filter(n=>n.trackMediaType===\"video\")[0]);});}setP2PTransport(t){if(function(e){Ce(e,\"transport\",[\"default\",\"auto\",\"relay\",\"sd-rtn\"]);}(t),this.mode!==\"p2p\")throw new O(R.INVALID_OPERATION,\"only p2p mode can set p2pTransport\");this.store.p2pTransport=t,_.info(\"[\".concat(this._clientId,\"] set client p2pTransport to \").concat(t));}getJoinChannelServiceRecords(){return _.debug(\"getJoinChannelServiceRecords\"),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(t){Nr(t,\"enabled\"),Ot(\"ENABLE_PUBLISH_AUDIO_FILTER\",t),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(t);}_handleResetAddStream(t,e){switch(e){case\"audio\":t._audio_added_=!1,t._trust_audio_stream_added_state_=!0;break;case\"video\":t._video_added_=!1,t._trust_video_stream_added_state_=!0;}}},q(G.prototype,\"leave\",[sy],Object.getOwnPropertyDescriptor(G.prototype,\"leave\"),G.prototype),q(G.prototype,\"publish\",[ay],Object.getOwnPropertyDescriptor(G.prototype,\"publish\"),G.prototype),q(G.prototype,\"unpublish\",[cy],Object.getOwnPropertyDescriptor(G.prototype,\"unpublish\"),G.prototype),q(G.prototype,\"subscribe\",[dy],Object.getOwnPropertyDescriptor(G.prototype,\"subscribe\"),G.prototype),q(G.prototype,\"presubscribe\",[ly],Object.getOwnPropertyDescriptor(G.prototype,\"presubscribe\"),G.prototype),q(G.prototype,\"massSubscribe\",[uy],Object.getOwnPropertyDescriptor(G.prototype,\"massSubscribe\"),G.prototype),q(G.prototype,\"unsubscribe\",[hy],Object.getOwnPropertyDescriptor(G.prototype,\"unsubscribe\"),G.prototype),q(G.prototype,\"massUnsubscribe\",[py],Object.getOwnPropertyDescriptor(G.prototype,\"massUnsubscribe\"),G.prototype),q(G.prototype,\"setLowStreamParameter\",[_y],Object.getOwnPropertyDescriptor(G.prototype,\"setLowStreamParameter\"),G.prototype),q(G.prototype,\"enableDualStream\",[Ey],Object.getOwnPropertyDescriptor(G.prototype,\"enableDualStream\"),G.prototype),q(G.prototype,\"disableDualStream\",[my],Object.getOwnPropertyDescriptor(G.prototype,\"disableDualStream\"),G.prototype),q(G.prototype,\"setClientRole\",[fy],Object.getOwnPropertyDescriptor(G.prototype,\"setClientRole\"),G.prototype),q(G.prototype,\"setProxyServer\",[gy],Object.getOwnPropertyDescriptor(G.prototype,\"setProxyServer\"),G.prototype),q(G.prototype,\"setTurnServer\",[Ty],Object.getOwnPropertyDescriptor(G.prototype,\"setTurnServer\"),G.prototype),q(G.prototype,\"setLicense\",[Sy],Object.getOwnPropertyDescriptor(G.prototype,\"setLicense\"),G.prototype),q(G.prototype,\"startProxyServer\",[Ry],Object.getOwnPropertyDescriptor(G.prototype,\"startProxyServer\"),G.prototype),q(G.prototype,\"stopProxyServer\",[Cy],Object.getOwnPropertyDescriptor(G.prototype,\"stopProxyServer\"),G.prototype),q(G.prototype,\"setLocalAccessPointsV2\",[Iy],Object.getOwnPropertyDescriptor(G.prototype,\"setLocalAccessPointsV2\"),G.prototype),q(G.prototype,\"setLocalAccessPoints\",[vy],Object.getOwnPropertyDescriptor(G.prototype,\"setLocalAccessPoints\"),G.prototype),q(G.prototype,\"setRemoteDefaultVideoStreamType\",[yy],Object.getOwnPropertyDescriptor(G.prototype,\"setRemoteDefaultVideoStreamType\"),G.prototype),q(G.prototype,\"setRemoteVideoStreamType\",[Ay],Object.getOwnPropertyDescriptor(G.prototype,\"setRemoteVideoStreamType\"),G.prototype),q(G.prototype,\"setStreamFallbackOption\",[by],Object.getOwnPropertyDescriptor(G.prototype,\"setStreamFallbackOption\"),G.prototype),q(G.prototype,\"setEncryptionConfig\",[wy],Object.getOwnPropertyDescriptor(G.prototype,\"setEncryptionConfig\"),G.prototype),q(G.prototype,\"renewToken\",[Oy],Object.getOwnPropertyDescriptor(G.prototype,\"renewToken\"),G.prototype),q(G.prototype,\"enableAudioVolumeIndicator\",[Ny],Object.getOwnPropertyDescriptor(G.prototype,\"enableAudioVolumeIndicator\"),G.prototype),q(G.prototype,\"startLiveStreaming\",[Dy],Object.getOwnPropertyDescriptor(G.prototype,\"startLiveStreaming\"),G.prototype),q(G.prototype,\"setLiveTranscoding\",[Py],Object.getOwnPropertyDescriptor(G.prototype,\"setLiveTranscoding\"),G.prototype),q(G.prototype,\"stopLiveStreaming\",[ky],Object.getOwnPropertyDescriptor(G.prototype,\"stopLiveStreaming\"),G.prototype),q(G.prototype,\"startChannelMediaRelay\",[Ly],Object.getOwnPropertyDescriptor(G.prototype,\"startChannelMediaRelay\"),G.prototype),q(G.prototype,\"updateChannelMediaRelay\",[My],Object.getOwnPropertyDescriptor(G.prototype,\"updateChannelMediaRelay\"),G.prototype),q(G.prototype,\"stopChannelMediaRelay\",[Uy],Object.getOwnPropertyDescriptor(G.prototype,\"stopChannelMediaRelay\"),G.prototype),q(G.prototype,\"sendCustomReportMessage\",[xy],Object.getOwnPropertyDescriptor(G.prototype,\"sendCustomReportMessage\"),G.prototype),q(G.prototype,\"pickSVCLayer\",[Vy],Object.getOwnPropertyDescriptor(G.prototype,\"pickSVCLayer\"),G.prototype),q(G.prototype,\"setRTMConfig\",[Fy],Object.getOwnPropertyDescriptor(G.prototype,\"setRTMConfig\"),G.prototype),q(G.prototype,\"enableContentInspect\",[By],Object.getOwnPropertyDescriptor(G.prototype,\"enableContentInspect\"),G.prototype),q(G.prototype,\"disableContentInspect\",[jy],Object.getOwnPropertyDescriptor(G.prototype,\"disableContentInspect\"),G.prototype),q(G.prototype,\"setImageModeration\",[Gy],Object.getOwnPropertyDescriptor(G.prototype,\"setImageModeration\"),G.prototype),q(G.prototype,\"setP2PTransport\",[Wy],Object.getOwnPropertyDescriptor(G.prototype,\"setP2PTransport\"),G.prototype),q(G.prototype,\"getJoinChannelServiceRecords\",[Hy],Object.getOwnPropertyDescriptor(G.prototype,\"getJoinChannelServiceRecords\"),G.prototype),q(G.prototype,\"setPublishAudioFilterEnabled\",[Ky],Object.getOwnPropertyDescriptor(G.prototype,\"setPublishAudioFilterEnabled\"),G.prototype),G),Su=class t{constructor(e,n){T(this,\"id\",0),T(this,\"element\",void 0),T(this,\"peerPair\",void 0),T(this,\"context\",void 0),T(this,\"audioPlayerElement\",void 0),T(this,\"audioTrack\",void 0),t.count+=1,this.id=t.count,this.element=e,this.context=n;}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=e=>{let n=document.createElement(\"audio\");n.srcObject=new MediaStream([e.track]),n.play(),this.audioPlayerElement=n;};}async switchSdp(){if(!this.peerPair)return;let e=async(i,r)=>{let o=r===\"offer\"?await i.createOffer():await i.createAnswer();return await i.setLocalDescription(o),i.iceGatheringState===\"complete\"?i.localDescription:new j(s=>{i.onicegatheringstatechange=()=>{i.iceGatheringState===\"complete\"&&s(i.localDescription);};})},n=async(i,r)=>await i.setRemoteDescription(r);try{let i=await e(this.peerPair[0],\"offer\");await n(this.peerPair[1],i);let r=await e(this.peerPair[1],\"answer\");await n(this.peerPair[0],r);}catch(i){throw new O(R.LOCAL_AEC_ERROR,i.toString()).print()}}async getTracksFromMediaElement(e){if(this.audioTrack)return this.audioTrack;let n;try{e instanceof HTMLVideoElement&&(e.captureStream?e.captureStream():e.mozCaptureStream()),n=this.context.createMediaStreamDestination(),this.context.createMediaElementSource(e).connect(n);}catch(r){throw new O(R.LOCAL_AEC_ERROR,r.toString()).print()}if(!n)throw new O(R.LOCAL_AEC_ERROR,\"no dest node when local aec\").print();let i=n.stream.getAudioTracks()[0];return this.audioTrack=i,i}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();let e=this.element,n=await this.getTracksFromMediaElement(e);this.peerPair&&this.peerPair[0].addTrack(n),await this.switchSdp();}close(){_.debug(\"close echo cancellation unit, id is\",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach(e=>{e.close();}),this.peerPair=void 0,this.audioPlayerElement=void 0;}},qy,Qd;T(Su,\"count\",0);var LW=window.AudioContext||window.webkitAudioContext,MW=new(qy=$({report:X}),q((Qd=class{constructor(){T(this,\"units\",[]),T(this,\"context\",void 0);}processExternalMediaAEC(t){if(!this._doesEnvironmentNeedAEC())return _.debug(\"the system does not need to process local aec\"),-1;this.context||(this.context=new LW);let e=this.units.find(n=>n&&n.getElement()===t);return e||(e=new Su(t,this.context),this.units.push(e)),e.startEchoCancellation(),_.debug(\"start processing local audio echo cancellation, id is\",e.id),e.id}_doesEnvironmentNeedAEC(){return mt().name!==It.SAFARI}}).prototype,\"processExternalMediaAEC\",[qy],Object.getOwnPropertyDescriptor(Qd.prototype,\"processExternalMediaAEC\"),Qd.prototype),Qd);function zy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Jy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zy(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zy(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var I_=window||document;function L0(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!I_)return;let n=Mt._cspEventHandlerPointer;if(n&&e)return void console.error(n,e);let i=r=>{if(!(r&&r.blockedURI&&(Mt.onSecurityPolicyViolation||Mt.getListeners(nr.SECURITY_POLICY_VIOLATION).length>0)))return;let o=r.blockedURI;v(\"CSP_DETECTED_HOSTNAME_LIST\").some(s=>W(o).call(o,s))&&(Mt.onSecurityPolicyViolation&&typeof Mt.onSecurityPolicyViolation==\"function\"&&Mt.onSecurityPolicyViolation(r),Mt.getListeners(nr.SECURITY_POLICY_VIOLATION).length>0&&Mt.safeEmit(nr.SECURITY_POLICY_VIOLATION,r));};n&&I_.removeEventListener(\"securitypolicyviolation\",n),(e||t&&typeof t==\"function\"||Mt.getListeners(nr.SECURITY_POLICY_VIOLATION).length>0)&&I_.addEventListener(\"securitypolicyviolation\",i),Mt._cspEventHandlerPointer=i;}var UW=hn,xW=nO,Xy=RegExp.prototype,VW=function(t){return t===Xy||UW(Xy,t)?xW(t):t.flags},en=ae(VW);function Sa(t){let e=t.length;for(;--e>=0;)t[e]=0;}var Pf=256,M0=286,lc=30,uc=15,_m=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ol=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),FW=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Qy=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wr=new Array(576);Sa(wr);var hc=new Array(60);Sa(hc);var Fc=new Array(512);Sa(Fc);var Bc=new Array(256);Sa(Bc);var kf=new Array(29);Sa(kf);var Ru=new Array(lc);function v_(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length;}var Zy,$y,tA;function y_(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e;}Sa(Ru);var U0=t=>t<256?Fc[t]:Fc[256+(t>>>7)],jc=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255;},Bn=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,jc(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n);},rr=(t,e,n)=>{Bn(t,n[2*e],n[2*e+1]);},x0=(t,e)=>{let n=0;do n|=1&t,t>>>=1,n<<=1;while(--e>0);return n>>>1},V0=(t,e,n)=>{let i=new Array(16),r,o,s=0;for(r=1;r<=uc;r++)s=s+n[r-1]<<1,i[r]=s;for(o=0;o<=e;o++){let a=t[2*o+1];a!==0&&(t[2*o]=x0(i[a]++,a));}},F0=t=>{let e;for(e=0;e<M0;e++)t.dyn_ltree[2*e]=0;for(e=0;e<lc;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0;},B0=t=>{t.bi_valid>8?jc(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0;},eA=(t,e,n,i)=>{let r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]},A_=(t,e,n)=>{let i=t.heap[n],r=n<<1;for(;r<=t.heap_len&&(r<t.heap_len&&eA(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!eA(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i;},nA=(t,e,n)=>{let i,r,o,s,a=0;if(t.sym_next!==0)do i=255&t.pending_buf[t.sym_buf+a++],i+=(255&t.pending_buf[t.sym_buf+a++])<<8,r=t.pending_buf[t.sym_buf+a++],i===0?rr(t,r,e):(o=Bc[r],rr(t,o+Pf+1,e),s=_m[o],s!==0&&(r-=kf[o],Bn(t,r,s)),i--,o=U0(i),rr(t,o,n),s=Ol[o],s!==0&&(i-=Ru[o],Bn(t,i,s)));while(a<t.sym_next);rr(t,256,e);},b_=(t,e)=>{let n=e.dyn_tree,i=e.stat_desc.static_tree,r=e.stat_desc.has_stree,o=e.stat_desc.elems,s,a,c,d=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<o;s++)n[2*s]!==0?(t.heap[++t.heap_len]=d=s,t.depth[s]=0):n[2*s+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=d<2?++d:0,n[2*c]=1,t.depth[c]=0,t.opt_len--,r&&(t.static_len-=i[2*c+1]);for(e.max_code=d,s=t.heap_len>>1;s>=1;s--)A_(t,n,s);c=o;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],A_(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[2*c]=n[2*s]+n[2*a],t.depth[c]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[2*s+1]=n[2*a+1]=c,t.heap[1]=c++,A_(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((l,u)=>{let h=u.dyn_tree,p=u.max_code,g=u.stat_desc.static_tree,E=u.stat_desc.has_stree,f=u.stat_desc.extra_bits,S=u.stat_desc.extra_base,C=u.stat_desc.max_length,A,b,w,D,k,B,V=0;for(D=0;D<=uc;D++)l.bl_count[D]=0;for(h[2*l.heap[l.heap_max]+1]=0,A=l.heap_max+1;A<573;A++)b=l.heap[A],D=h[2*h[2*b+1]+1]+1,D>C&&(D=C,V++),h[2*b+1]=D,b>p||(l.bl_count[D]++,k=0,b>=S&&(k=f[b-S]),B=h[2*b],l.opt_len+=B*(D+k),E&&(l.static_len+=B*(g[2*b+1]+k)));if(V!==0){do{for(D=C-1;l.bl_count[D]===0;)D--;l.bl_count[D]--,l.bl_count[D+1]+=2,l.bl_count[C]--,V-=2;}while(V>0);for(D=C;D!==0;D--)for(b=l.bl_count[D];b!==0;)w=l.heap[--A],w>p||(h[2*w+1]!==D&&(l.opt_len+=(D-h[2*w+1])*h[2*w],h[2*w+1]=D),b--);}})(t,e),V0(n,d,t.bl_count);},iA=(t,e,n)=>{let i,r,o=-1,s=e[1],a=0,c=7,d=4;for(s===0&&(c=138,d=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=e[2*(i+1)+1],++a<c&&r===s||(a<d?t.bl_tree[2*r]+=a:r!==0?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=r,s===0?(c=138,d=3):r===s?(c=6,d=3):(c=7,d=4));},rA=(t,e,n)=>{let i,r,o=-1,s=e[1],a=0,c=7,d=4;for(s===0&&(c=138,d=3),i=0;i<=n;i++)if(r=s,s=e[2*(i+1)+1],!(++a<c&&r===s)){if(a<d)do rr(t,r,t.bl_tree);while(--a!=0);else r!==0?(r!==o&&(rr(t,r,t.bl_tree),a--),rr(t,16,t.bl_tree),Bn(t,a-3,2)):a<=10?(rr(t,17,t.bl_tree),Bn(t,a-3,3)):(rr(t,18,t.bl_tree),Bn(t,a-11,7));a=0,o=r,s===0?(c=138,d=3):r===s?(c=6,d=3):(c=7,d=4);}},oA=!1,j0=(t,e,n,i)=>{Bn(t,0+(i?1:0),3),B0(t),jc(t,n),jc(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n;},BW=t=>{oA||((()=>{let e,n,i,r,o,s=new Array(16);for(i=0,r=0;r<28;r++)for(kf[r]=i,e=0;e<1<<_m[r];e++)Bc[i++]=r;for(Bc[i-1]=r,o=0,r=0;r<16;r++)for(Ru[r]=o,e=0;e<1<<Ol[r];e++)Fc[o++]=r;for(o>>=7;r<lc;r++)for(Ru[r]=o<<7,e=0;e<1<<Ol[r]-7;e++)Fc[256+o++]=r;for(n=0;n<=uc;n++)s[n]=0;for(e=0;e<=143;)wr[2*e+1]=8,e++,s[8]++;for(;e<=255;)wr[2*e+1]=9,e++,s[9]++;for(;e<=279;)wr[2*e+1]=7,e++,s[7]++;for(;e<=287;)wr[2*e+1]=8,e++,s[8]++;for(V0(wr,287,s),e=0;e<lc;e++)hc[2*e+1]=5,hc[2*e]=x0(e,5);Zy=new v_(wr,_m,257,M0,uc),$y=new v_(hc,Ol,0,lc,uc),tA=new v_(new Array(0),FW,0,19,7);})(),oA=!0),t.l_desc=new y_(t.dyn_ltree,Zy),t.d_desc=new y_(t.dyn_dtree,$y),t.bl_desc=new y_(t.bl_tree,tA),t.bi_buf=0,t.bi_valid=0,F0(t);},jW=(t,e,n,i)=>{let r,o,s=0;t.level>0?(t.strm.data_type===2&&(t.strm.data_type=(a=>{let c,d=4093624447;for(c=0;c<=31;c++,d>>>=1)if(1&d&&a.dyn_ltree[2*c]!==0)return 0;if(a.dyn_ltree[18]!==0||a.dyn_ltree[20]!==0||a.dyn_ltree[26]!==0)return 1;for(c=32;c<Pf;c++)if(a.dyn_ltree[2*c]!==0)return 1;return 0})(t)),b_(t,t.l_desc),b_(t,t.d_desc),s=(a=>{let c;for(iA(a,a.dyn_ltree,a.l_desc.max_code),iA(a,a.dyn_dtree,a.d_desc.max_code),b_(a,a.bl_desc),c=18;c>=3&&a.bl_tree[2*Qy[c]+1]===0;c--);return a.opt_len+=3*(c+1)+5+5+4,c})(t),r=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=r&&(r=o)):r=o=n+5,n+4<=r&&e!==-1?j0(t,e,n,i):t.strategy===4||o===r?(Bn(t,2+(i?1:0),3),nA(t,wr,hc)):(Bn(t,4+(i?1:0),3),((a,c,d,l)=>{let u;for(Bn(a,c-257,5),Bn(a,d-1,5),Bn(a,l-4,4),u=0;u<l;u++)Bn(a,a.bl_tree[2*Qy[u]+1],3);rA(a,a.dyn_ltree,c-1),rA(a,a.dyn_dtree,d-1);})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),nA(t,t.dyn_ltree,t.dyn_dtree)),F0(t),i&&B0(t);},GW=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(Bc[n]+Pf+1)]++,t.dyn_dtree[2*U0(e)]++),t.sym_next===t.sym_end),WW=t=>{Bn(t,2,3),rr(t,256,wr),(e=>{e.bi_valid===16?(jc(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8);})(t);},HW={_tr_init:BW,_tr_stored_block:j0,_tr_flush_block:jW,_tr_tally:GW,_tr_align:WW},Gc=(t,e,n,i)=>{let r=65535&t|0,o=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do r=r+e[i++]|0,o=o+r|0;while(--s);r%=65521,o%=65521;}return r|o<<16|0},KW=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t;}return e})()),an=(t,e,n,i)=>{let r=KW,o=i+n;t^=-1;for(let s=i;s<o;s++)t=t>>>8^r[255&(t^e[s])];return -1^t},Zo={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"},Ra={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:YW,_tr_stored_block:Em,_tr_flush_block:qW,_tr_tally:ao,_tr_align:zW}=HW,{Z_NO_FLUSH:co,Z_PARTIAL_FLUSH:JW,Z_FULL_FLUSH:XW,Z_FINISH:Ri,Z_BLOCK:sA,Z_OK:_n,Z_STREAM_END:aA,Z_STREAM_ERROR:dr,Z_DATA_ERROR:QW,Z_BUF_ERROR:w_,Z_DEFAULT_COMPRESSION:ZW,Z_FILTERED:$W,Z_HUFFMAN_ONLY:Zd,Z_RLE:t3,Z_FIXED:e3,Z_DEFAULT_STRATEGY:n3,Z_UNKNOWN:i3,Z_DEFLATED:th}=Ra,mm=286,r3=30,o3=19,s3=2*mm+1,a3=15,jo=258,lr=262,aa=42,Go=113,tc=666,Wo=(t,e)=>(t.msg=Zo[e],e),cA=t=>2*t-(t>4?9:0),Qr=t=>{let e=t.length;for(;--e>=0;)t[e]=0;},c3=t=>{let e,n,i,r=t.w_size;e=t.hash_size,i=e;do n=t.head[--i],t.head[i]=n>=r?n-r:0;while(--e);e=r,i=e;do n=t.prev[--i],t.prev[i]=n>=r?n-r:0;while(--e)},lo=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,Zn=t=>{let e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0));},ti=(t,e)=>{qW(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Zn(t.strm);},te=(t,e)=>{t.pending_buf[t.pending++]=e;},ja=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e;},fm=(t,e,n,i)=>{let r=t.avail_in;return r>i&&(r=i),r===0?0:(t.avail_in-=r,e.set(t.input.subarray(t.next_in,t.next_in+r),n),t.state.wrap===1?t.adler=Gc(t.adler,e,r,n):t.state.wrap===2&&(t.adler=an(t.adler,e,r,n)),t.next_in+=r,t.total_in+=r,r)},G0=(t,e)=>{let n,i,r=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,c=t.strstart>t.w_size-lr?t.strstart-(t.w_size-lr):0,d=t.window,l=t.w_mask,u=t.prev,h=t.strstart+jo,p=d[o+s-1],g=d[o+s];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do if(n=e,d[n+s]===g&&d[n+s-1]===p&&d[n]===d[o]&&d[++n]===d[o+1]){o+=2,n++;do;while(d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&d[++o]===d[++n]&&o<h);if(i=jo-(h-o),o=h-jo,i>s){if(t.match_start=e,s=i,i>=a)break;p=d[o+s-1],g=d[o+s];}}while((e=u[e&l])>c&&--r!=0);return s<=t.lookahead?s:t.lookahead},ca=t=>{let e=t.w_size,n,i,r;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-lr)&&(t.window.set(t.window.subarray(e,e+e-i),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),c3(t),i+=e),t.strm.avail_in===0)break;if(n=fm(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=3)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=lo(t,t.ins_h,t.window[r+1]);t.insert&&(t.ins_h=lo(t,t.ins_h,t.window[r+3-1]),t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<lr&&t.strm.avail_in!==0)},W0=(t,e)=>{let n,i,r,o=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s=0,a=t.strm.avail_in;do{if(n=65535,r=t.bi_valid+42>>3,t.strm.avail_out<r||(r=t.strm.avail_out-r,i=t.strstart-t.block_start,n>i+t.strm.avail_in&&(n=i+t.strm.avail_in),n>r&&(n=r),n<o&&(n===0&&e!==Ri||e===co||n!==i+t.strm.avail_in)))break;s=e===Ri&&n===i+t.strm.avail_in?1:0,Em(t,0,0,s),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,Zn(t.strm),i&&(i>n&&(i=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,n-=i),n&&(fm(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n);}while(s===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?4:e!==co&&e!==Ri&&t.strm.avail_in===0&&t.strstart===t.block_start?2:(r=t.window_size-t.strstart,t.strm.avail_in>r&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,r+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),r>t.strm.avail_in&&(r=t.strm.avail_in),r&&(fm(t.strm,t.window,t.strstart,r),t.strstart+=r,t.insert+=r>t.w_size-t.insert?t.w_size-t.insert:r),t.high_water<t.strstart&&(t.high_water=t.strstart),r=t.bi_valid+42>>3,r=t.pending_buf_size-r>65535?65535:t.pending_buf_size-r,o=r>t.w_size?t.w_size:r,i=t.strstart-t.block_start,(i>=o||(i||e===Ri)&&e!==co&&t.strm.avail_in===0&&i<=r)&&(n=i>r?r:i,s=e===Ri&&t.strm.avail_in===0&&n===i?1:0,Em(t,t.block_start,n,s),t.block_start+=n,Zn(t.strm)),s?3:1)},O_=(t,e)=>{let n,i;for(;;){if(t.lookahead<lr){if(ca(t),t.lookahead<lr&&e===co)return 1;if(t.lookahead===0)break}if(n=0,t.lookahead>=3&&(t.ins_h=lo(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-lr&&(t.match_length=G0(t,n)),t.match_length>=3)if(i=ao(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do t.strstart++,t.ins_h=lo(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!=0);t.strstart++;}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=lo(t,t.ins_h,t.window[t.strstart+1]);else i=ao(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(ti(t,!1),t.strm.avail_out===0))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Ri?(ti(t,!0),t.strm.avail_out===0?3:4):t.sym_next&&(ti(t,!1),t.strm.avail_out===0)?1:2},Rs=(t,e)=>{let n,i,r;for(;;){if(t.lookahead<lr){if(ca(t),t.lookahead<lr&&e===co)return 1;if(t.lookahead===0)break}if(n=0,t.lookahead>=3&&(t.ins_h=lo(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-lr&&(t.match_length=G0(t,n),t.match_length<=5&&(t.strategy===$W||t.match_length===3&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,i=ao(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=r&&(t.ins_h=lo(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!=0);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(ti(t,!1),t.strm.avail_out===0))return 1}else if(t.match_available){if(i=ao(t,0,t.window[t.strstart-1]),i&&ti(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return 1}else t.match_available=1,t.strstart++,t.lookahead--;}return t.match_available&&(i=ao(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Ri?(ti(t,!0),t.strm.avail_out===0?3:4):t.sym_next&&(ti(t,!1),t.strm.avail_out===0)?1:2};function $i(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r;}var ec=[new $i(0,0,0,0,W0),new $i(4,4,8,4,O_),new $i(4,5,16,8,O_),new $i(4,6,32,32,O_),new $i(4,4,16,16,Rs),new $i(8,16,32,32,Rs),new $i(8,16,128,128,Rs),new $i(8,32,128,256,Rs),new $i(32,128,258,1024,Rs),new $i(32,258,258,4096,Rs)];function d3(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=th,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*s3),this.dyn_dtree=new Uint16Array(2*(2*r3+1)),this.bl_tree=new Uint16Array(2*(2*o3+1)),Qr(this.dyn_ltree),Qr(this.dyn_dtree),Qr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(a3+1),this.heap=new Uint16Array(2*mm+1),Qr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*mm+1),Qr(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0;}var Wc=t=>{if(!t)return 1;let e=t.state;return !e||e.strm!==t||e.status!==aa&&e.status!==57&&e.status!==69&&e.status!==73&&e.status!==91&&e.status!==103&&e.status!==Go&&e.status!==tc?1:0},H0=t=>{if(Wc(t))return Wo(t,dr);t.total_in=t.total_out=0,t.data_type=i3;let e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?57:e.wrap?aa:Go,t.adler=e.wrap===2?0:1,e.last_flush=-2,YW(e),_n},K0=t=>{let e=H0(t);return e===_n&&(n=>{n.window_size=2*n.w_size,Qr(n.head),n.max_lazy_match=ec[n.level].max_lazy,n.good_match=ec[n.level].good_length,n.nice_match=ec[n.level].nice_length,n.max_chain_length=ec[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0;})(t.state),e},dA=(t,e,n,i,r,o)=>{if(!t)return dr;let s=1;if(e===ZW&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),r<1||r>9||n!==th||i<8||i>15||e<0||e>9||o<0||o>e3||i===8&&s!==1)return Wo(t,dr);i===8&&(i=9);let a=new d3;return t.state=a,a.strm=t,a.status=aa,a.wrap=s,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=o,a.method=n,K0(t)},l3=(t,e)=>{if(Wc(t)||e>sA||e<0)return t?Wo(t,dr):dr;let n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===tc&&e!==Ri)return Wo(t,t.avail_out===0?w_:dr);let i=n.last_flush;if(n.last_flush=e,n.pending!==0){if(Zn(t),t.avail_out===0)return n.last_flush=-1,_n}else if(t.avail_in===0&&cA(e)<=cA(i)&&e!==Ri)return Wo(t,w_);if(n.status===tc&&t.avail_in!==0)return Wo(t,w_);if(n.status===aa&&n.wrap===0&&(n.status=Go),n.status===aa){let r=th+(n.w_bits-8<<4)<<8,o=-1;if(o=n.strategy>=Zd||n.level<2?0:n.level<6?1:n.level===6?2:3,r|=o<<6,n.strstart!==0&&(r|=32),r+=31-r%31,ja(n,r),n.strstart!==0&&(ja(n,t.adler>>>16),ja(n,65535&t.adler)),t.adler=1,n.status=Go,Zn(t),n.pending!==0)return n.last_flush=-1,_n}if(n.status===57){if(t.adler=0,te(n,31),te(n,139),te(n,8),n.gzhead)te(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),te(n,255&n.gzhead.time),te(n,n.gzhead.time>>8&255),te(n,n.gzhead.time>>16&255),te(n,n.gzhead.time>>24&255),te(n,n.level===9?2:n.strategy>=Zd||n.level<2?4:0),te(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(te(n,255&n.gzhead.extra.length),te(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=an(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(te(n,0),te(n,0),te(n,0),te(n,0),te(n,0),te(n,n.level===9?2:n.strategy>=Zd||n.level<2?4:0),te(n,3),n.status=Go,Zn(t),n.pending!==0)return n.last_flush=-1,_n}if(n.status===69){if(n.gzhead.extra){let r=n.pending,o=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>r&&(t.adler=an(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex+=a,Zn(t),n.pending!==0)return n.last_flush=-1,_n;r=0,o-=a;}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>r&&(t.adler=an(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0;}n.status=73;}if(n.status===73){if(n.gzhead.name){let r,o=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(t.adler=an(t.adler,n.pending_buf,n.pending-o,o)),Zn(t),n.pending!==0)return n.last_flush=-1,_n;o=0;}r=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,te(n,r);}while(r!==0);n.gzhead.hcrc&&n.pending>o&&(t.adler=an(t.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0;}n.status=91;}if(n.status===91){if(n.gzhead.comment){let r,o=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(t.adler=an(t.adler,n.pending_buf,n.pending-o,o)),Zn(t),n.pending!==0)return n.last_flush=-1,_n;o=0;}r=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,te(n,r);}while(r!==0);n.gzhead.hcrc&&n.pending>o&&(t.adler=an(t.adler,n.pending_buf,n.pending-o,o));}n.status=103;}if(n.status===103){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Zn(t),n.pending!==0))return n.last_flush=-1,_n;te(n,255&t.adler),te(n,t.adler>>8&255),t.adler=0;}if(n.status=Go,Zn(t),n.pending!==0)return n.last_flush=-1,_n}if(t.avail_in!==0||n.lookahead!==0||e!==co&&n.status!==tc){let r=n.level===0?W0(n,e):n.strategy===Zd?((o,s)=>{let a;for(;;){if(o.lookahead===0&&(ca(o),o.lookahead===0)){if(s===co)return 1;break}if(o.match_length=0,a=ao(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++,a&&(ti(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,s===Ri?(ti(o,!0),o.strm.avail_out===0?3:4):o.sym_next&&(ti(o,!1),o.strm.avail_out===0)?1:2})(n,e):n.strategy===t3?((o,s)=>{let a,c,d,l,u=o.window;for(;;){if(o.lookahead<=jo){if(ca(o),o.lookahead<=jo&&s===co)return 1;if(o.lookahead===0)break}if(o.match_length=0,o.lookahead>=3&&o.strstart>0&&(d=o.strstart-1,c=u[d],c===u[++d]&&c===u[++d]&&c===u[++d])){l=o.strstart+jo;do;while(c===u[++d]&&c===u[++d]&&c===u[++d]&&c===u[++d]&&c===u[++d]&&c===u[++d]&&c===u[++d]&&c===u[++d]&&d<l);o.match_length=jo-(l-d),o.match_length>o.lookahead&&(o.match_length=o.lookahead);}if(o.match_length>=3?(a=ao(o,1,o.match_length-3),o.lookahead-=o.match_length,o.strstart+=o.match_length,o.match_length=0):(a=ao(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++),a&&(ti(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,s===Ri?(ti(o,!0),o.strm.avail_out===0?3:4):o.sym_next&&(ti(o,!1),o.strm.avail_out===0)?1:2})(n,e):ec[n.level].func(n,e);if(r!==3&&r!==4||(n.status=tc),r===1||r===3)return t.avail_out===0&&(n.last_flush=-1),_n;if(r===2&&(e===JW?zW(n):e!==sA&&(Em(n,0,0,!1),e===XW&&(Qr(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Zn(t),t.avail_out===0))return n.last_flush=-1,_n}return e!==Ri?_n:n.wrap<=0?aA:(n.wrap===2?(te(n,255&t.adler),te(n,t.adler>>8&255),te(n,t.adler>>16&255),te(n,t.adler>>24&255),te(n,255&t.total_in),te(n,t.total_in>>8&255),te(n,t.total_in>>16&255),te(n,t.total_in>>24&255)):(ja(n,t.adler>>>16),ja(n,65535&t.adler)),Zn(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?_n:aA)},u3=(t,e)=>{let n=e.length;if(Wc(t))return dr;let i=t.state,r=i.wrap;if(r===2||r===1&&i.status!==aa||i.lookahead)return dr;if(r===1&&(t.adler=Gc(t.adler,e,n,0)),i.wrap=0,n>=i.w_size){r===0&&(Qr(i.head),i.strstart=0,i.block_start=0,i.insert=0);let c=new Uint8Array(i.w_size);c.set(e.subarray(n-i.w_size,n),0),e=c,n=i.w_size;}let o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,ca(i);i.lookahead>=3;){let c=i.strstart,d=i.lookahead-2;do i.ins_h=lo(i,i.ins_h,i.window[c+3-1]),i.prev[c&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=c,c++;while(--d);i.strstart=c,i.lookahead=2,ca(i);}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,i.wrap=r,_n},pc={deflateInit:(t,e)=>dA(t,e,th,15,8,n3),deflateInit2:dA,deflateReset:K0,deflateResetKeep:H0,deflateSetHeader:(t,e)=>Wc(t)||t.state.wrap!==2?dr:(t.state.gzhead=e,_n),deflate:l3,deflateEnd:t=>{if(Wc(t))return dr;let e=t.state.status;return t.state=null,e===Go?Wo(t,QW):_n},deflateSetDictionary:u3,deflateInfo:\"pako deflate (from Nodeca project)\"},h3=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),eh={assign:function(t){let e=Array.prototype.slice.call(arguments,1);for(;e.length;){let n=e.shift();if(n){if(typeof n!=\"object\")throw new TypeError(n+\"must be non-object\");for(let i in n)h3(n,i)&&(t[i]=n[i]);}}return t},flattenChunks:t=>{let e=0;for(let i=0,r=t.length;i<r;i++)e+=t[i].length;let n=new Uint8Array(e);for(let i=0,r=0,o=t.length;i<o;i++){let s=t[i];n.set(s,r),r+=s.length;}return n}},Y0=!0;try{String.fromCharCode.apply(null,new Uint8Array(1));}catch{Y0=!1;}var Hc=new Uint8Array(256);for(let t=0;t<256;t++)Hc[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Hc[254]=Hc[254]=1;var Kc={string2buf:t=>{if(typeof TextEncoder==\"function\"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,i,r,o,s=t.length,a=0;for(r=0;r<s;r++)n=t.charCodeAt(r),(64512&n)==55296&&r+1<s&&(i=t.charCodeAt(r+1),(64512&i)==56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,r=0;o<a;r++)n=t.charCodeAt(r),(64512&n)==55296&&r+1<s&&(i=t.charCodeAt(r+1),(64512&i)==56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},buf2string:(t,e)=>{let n=e||t.length;if(typeof TextDecoder==\"function\"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let i,r,o=new Array(2*n);for(r=0,i=0;i<n;){let s=t[i++];if(s<128){o[r++]=s;continue}let a=Hc[s];if(a>4)o[r++]=65533,i+=a-1;else {for(s&=a===2?31:a===3?15:7;a>1&&i<n;)s=s<<6|63&t[i++],a--;a>1?o[r++]=65533:s<65536?o[r++]=s:(s-=65536,o[r++]=55296|s>>10&1023,o[r++]=56320|1023&s);}}return ((s,a)=>{if(a<65534&&s.subarray&&Y0)return String.fromCharCode.apply(null,s.length===a?s:s.subarray(0,a));let c=\"\";for(let d=0;d<a;d++)c+=String.fromCharCode(s[d]);return c})(o,r)},utf8border:(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(192&t[n])==128;)n--;return n<0||n===0?e:n+Hc[t[n]]>e?n:e}},q0=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0;},z0=Object.prototype.toString,{Z_NO_FLUSH:p3,Z_SYNC_FLUSH:_3,Z_FULL_FLUSH:E3,Z_FINISH:m3,Z_OK:Cu,Z_STREAM_END:f3,Z_DEFAULT_COMPRESSION:g3,Z_DEFAULT_STRATEGY:T3,Z_DEFLATED:S3}=Ra;function _c(t){this.options=eh.assign({level:g3,method:S3,chunkSize:16384,windowBits:15,memLevel:8,strategy:T3},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new q0,this.strm.avail_out=0;let n=pc.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==Cu)throw new Error(Zo[n]);if(e.header&&pc.deflateSetHeader(this.strm,e.header),e.dictionary){let i;if(i=typeof e.dictionary==\"string\"?Kc.string2buf(e.dictionary):z0.call(e.dictionary)===\"[object ArrayBuffer]\"?new Uint8Array(e.dictionary):e.dictionary,n=pc.deflateSetDictionary(this.strm,i),n!==Cu)throw new Error(Zo[n]);this._dict_set=!0;}}function N_(t,e){let n=new _c(e);if(n.push(t,!0),n.err)throw n.msg||Zo[n.err];return n.result}_c.prototype.push=function(t,e){let n=this.strm,i=this.options.chunkSize,r,o;if(this.ended)return !1;for(o=e===~~e?e:e===!0?m3:p3,typeof t==\"string\"?n.input=Kc.string2buf(t):z0.call(t)===\"[object ArrayBuffer]\"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;)if(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(o===_3||o===E3)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else {if(r=pc.deflate(n,o),r===f3)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),r=pc.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===Cu;if(n.avail_out!==0){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(n.avail_in===0)break}else this.onData(n.output);}return !0},_c.prototype.onData=function(t){this.chunks.push(t);},_c.prototype.onEnd=function(t){t===Cu&&(this.result=eh.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg;};var R3={Deflate:_c,deflate:N_,deflateRaw:function(t,e){return (e=e||{}).raw=!0,N_(t,e)},gzip:function(t,e){return (e=e||{}).gzip=!0,N_(t,e)},constants:Ra},$d=16209,C3=function(t,e){let n,i,r,o,s,a,c,d,l,u,h,p,g,E,f,S,C,A,b,w,D,k,B,V,z=t.state;n=t.next_in,B=t.input,i=n+(t.avail_in-5),r=t.next_out,V=t.output,o=r-(e-t.avail_out),s=r+(t.avail_out-257),a=z.dmax,c=z.wsize,d=z.whave,l=z.wnext,u=z.window,h=z.hold,p=z.bits,g=z.lencode,E=z.distcode,f=(1<<z.lenbits)-1,S=(1<<z.distbits)-1;t:do{p<15&&(h+=B[n++]<<p,p+=8,h+=B[n++]<<p,p+=8),C=g[h&f];e:for(;;){if(A=C>>>24,h>>>=A,p-=A,A=C>>>16&255,A===0)V[r++]=65535&C;else {if(!(16&A)){if(!(64&A)){C=g[(65535&C)+(h&(1<<A)-1)];continue e}if(32&A){z.mode=16191;break t}t.msg=\"invalid literal/length code\",z.mode=$d;break t}b=65535&C,A&=15,A&&(p<A&&(h+=B[n++]<<p,p+=8),b+=h&(1<<A)-1,h>>>=A,p-=A),p<15&&(h+=B[n++]<<p,p+=8,h+=B[n++]<<p,p+=8),C=E[h&S];n:for(;;){if(A=C>>>24,h>>>=A,p-=A,A=C>>>16&255,!(16&A)){if(!(64&A)){C=E[(65535&C)+(h&(1<<A)-1)];continue n}t.msg=\"invalid distance code\",z.mode=$d;break t}if(w=65535&C,A&=15,p<A&&(h+=B[n++]<<p,p+=8,p<A&&(h+=B[n++]<<p,p+=8)),w+=h&(1<<A)-1,w>a){t.msg=\"invalid distance too far back\",z.mode=$d;break t}if(h>>>=A,p-=A,A=r-o,w>A){if(A=w-A,A>d&&z.sane){t.msg=\"invalid distance too far back\",z.mode=$d;break t}if(D=0,k=u,l===0){if(D+=c-A,A<b){b-=A;do V[r++]=u[D++];while(--A);D=r-w,k=V;}}else if(l<A){if(D+=c+l-A,A-=l,A<b){b-=A;do V[r++]=u[D++];while(--A);if(D=0,l<b){A=l,b-=A;do V[r++]=u[D++];while(--A);D=r-w,k=V;}}}else if(D+=l-A,A<b){b-=A;do V[r++]=u[D++];while(--A);D=r-w,k=V;}for(;b>2;)V[r++]=k[D++],V[r++]=k[D++],V[r++]=k[D++],b-=3;b&&(V[r++]=k[D++],b>1&&(V[r++]=k[D++]));}else {D=r-w;do V[r++]=V[D++],V[r++]=V[D++],V[r++]=V[D++],b-=3;while(b>2);b&&(V[r++]=V[D++],b>1&&(V[r++]=V[D++]));}break}}break}}while(n<i&&r<s);b=p>>3,n-=b,p-=b<<3,h&=(1<<p)-1,t.next_in=n,t.next_out=r,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=r<s?s-r+257:257-(r-s),z.hold=h,z.bits=p;},tl=15,I3=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),v3=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),y3=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),A3=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ec=(t,e,n,i,r,o,s,a)=>{let c=a.bits,d,l,u,h,p,g,E=0,f=0,S=0,C=0,A=0,b=0,w=0,D=0,k=0,B=0,V=null,z=new Uint16Array(16),lt=new Uint16Array(16),vt,Dt,ce,Wt=null;for(E=0;E<=tl;E++)z[E]=0;for(f=0;f<i;f++)z[e[n+f]]++;for(A=c,C=tl;C>=1&&z[C]===0;C--);if(A>C&&(A=C),C===0)return r[o++]=20971520,r[o++]=20971520,a.bits=1,0;for(S=1;S<C&&z[S]===0;S++);for(A<S&&(A=S),D=1,E=1;E<=tl;E++)if(D<<=1,D-=z[E],D<0)return -1;if(D>0&&(t===0||C!==1))return -1;for(lt[1]=0,E=1;E<tl;E++)lt[E+1]=lt[E]+z[E];for(f=0;f<i;f++)e[n+f]!==0&&(s[lt[e[n+f]]++]=f);if(t===0?(V=Wt=s,g=20):t===1?(V=I3,Wt=v3,g=257):(V=y3,Wt=A3,g=0),B=0,f=0,E=S,p=o,b=A,w=0,u=-1,k=1<<A,h=k-1,t===1&&k>852||t===2&&k>592)return 1;for(;;){vt=E-w,s[f]+1<g?(Dt=0,ce=s[f]):s[f]>=g?(Dt=Wt[s[f]-g],ce=V[s[f]-g]):(Dt=96,ce=0),d=1<<E-w,l=1<<b,S=l;do l-=d,r[p+(B>>w)+l]=vt<<24|Dt<<16|ce|0;while(l!==0);for(d=1<<E-1;B&d;)d>>=1;if(d!==0?(B&=d-1,B+=d):B=0,f++,--z[E]==0){if(E===C)break;E=e[n+s[f]];}if(E>A&&(B&h)!==u){for(w===0&&(w=A),p+=S,b=E-w,D=1<<b;b+w<C&&(D-=z[b+w],!(D<=0));)b++,D<<=1;if(k+=1<<b,t===1&&k>852||t===2&&k>592)return 1;u=B&h,r[u]=A<<24|b<<16|p-o|0;}}return B!==0&&(r[p+B]=E-w<<24|64<<16|0),a.bits=A,0},{Z_FINISH:lA,Z_BLOCK:b3,Z_TREES:el,Z_OK:Yo,Z_STREAM_END:w3,Z_NEED_DICT:O3,Z_STREAM_ERROR:Ci,Z_DATA_ERROR:J0,Z_MEM_ERROR:X0,Z_BUF_ERROR:N3,Z_DEFLATED:uA}=Ra,nh=16180,Iu=16190,Cr=16191,D_=16192,P_=16194,nl=16199,il=16200,k_=16206,be=16209,hA=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function D3(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0;}var qo=t=>{if(!t)return 1;let e=t.state;return !e||e.strm!==t||e.mode<nh||e.mode>16211?1:0},Q0=t=>{if(qo(t))return Ci;let e=t.state;return t.total_in=t.total_out=e.total=0,t.msg=\"\",e.wrap&&(t.adler=1&e.wrap),e.mode=nh,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Yo},Z0=t=>{if(qo(t))return Ci;let e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Q0(t)},$0=(t,e)=>{let n;if(qo(t))return Ci;let i=t.state;return e<0?(n=0,e=-e):(n=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Ci:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,Z0(t))},pA=(t,e)=>{if(!t)return Ci;let n=new D3;t.state=n,n.strm=t,n.window=null,n.mode=nh;let i=$0(t,e);return i!==Yo&&(t.state=null),i},L_,M_,_A=!0,P3=t=>{if(_A){L_=new Int32Array(512),M_=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ec(1,t.lens,0,288,L_,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ec(2,t.lens,0,32,M_,0,t.work,{bits:5}),_A=!1;}t.lencode=L_,t.lenbits=9,t.distcode=M_,t.distbits=5;},tN=(t,e,n,i)=>{let r,o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),o.window.set(e.subarray(n-i,n-i+r),o.wnext),(i-=r)?(o.window.set(e.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},k3=(t,e)=>{let n,i,r,o,s,a,c,d,l,u,h,p,g,E,f,S,C,A,b,w,D,k,B=0,V=new Uint8Array(4),z,lt,vt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qo(t)||!t.output||!t.input&&t.avail_in!==0)return Ci;n=t.state,n.mode===Cr&&(n.mode=D_),s=t.next_out,r=t.output,c=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,d=n.hold,l=n.bits,u=a,h=c,k=Yo;t:for(;;)switch(n.mode){case nh:if(n.wrap===0){n.mode=D_;break}for(;l<16;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if(2&n.wrap&&d===35615){n.wbits===0&&(n.wbits=15),n.check=0,V[0]=255&d,V[1]=d>>>8&255,n.check=an(n.check,V,2,0),d=0,l=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&d)<<8)+(d>>8))%31){t.msg=\"incorrect header check\",n.mode=be;break}if((15&d)!==uA){t.msg=\"unknown compression method\",n.mode=be;break}if(d>>>=4,l-=4,D=8+(15&d),n.wbits===0&&(n.wbits=D),D>15||D>n.wbits){t.msg=\"invalid window size\",n.mode=be;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&d?16189:Cr,d=0,l=0;break;case 16181:for(;l<16;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if(n.flags=d,(255&en(n))!==uA){t.msg=\"unknown compression method\",n.mode=be;break}if(57344&en(n)){t.msg=\"unknown header flags set\",n.mode=be;break}n.head&&(n.head.text=d>>8&1),512&en(n)&&4&n.wrap&&(V[0]=255&d,V[1]=d>>>8&255,n.check=an(n.check,V,2,0)),d=0,l=0,n.mode=16182;case 16182:for(;l<32;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}n.head&&(n.head.time=d),512&en(n)&&4&n.wrap&&(V[0]=255&d,V[1]=d>>>8&255,V[2]=d>>>16&255,V[3]=d>>>24&255,n.check=an(n.check,V,4,0)),d=0,l=0,n.mode=16183;case 16183:for(;l<16;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}n.head&&(n.head.xflags=255&d,n.head.os=d>>8),512&en(n)&&4&n.wrap&&(V[0]=255&d,V[1]=d>>>8&255,n.check=an(n.check,V,2,0)),d=0,l=0,n.mode=16184;case 16184:if(1024&en(n)){for(;l<16;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}n.length=d,n.head&&(n.head.extra_len=d),512&en(n)&&4&n.wrap&&(V[0]=255&d,V[1]=d>>>8&255,n.check=an(n.check,V,2,0)),d=0,l=0;}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&en(n)&&(p=n.length,p>a&&(p=a),p&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+p),D)),512&en(n)&&4&n.wrap&&(n.check=an(n.check,i,p,o)),a-=p,o+=p,n.length-=p),n.length))break t;n.length=0,n.mode=16186;case 16186:if(2048&en(n)){if(a===0)break t;p=0;do D=i[o+p++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D));while(D&&p<a);if(512&en(n)&&4&n.wrap&&(n.check=an(n.check,i,p,o)),a-=p,o+=p,D)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&en(n)){if(a===0)break t;p=0;do D=i[o+p++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D));while(D&&p<a);if(512&en(n)&&4&n.wrap&&(n.check=an(n.check,i,p,o)),a-=p,o+=p,D)break t}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&en(n)){for(;l<16;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if(4&n.wrap&&d!==(65535&n.check)){t.msg=\"header crc mismatch\",n.mode=be;break}d=0,l=0;}n.head&&(n.head.hcrc=en(n)>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Cr;break;case 16189:for(;l<32;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}t.adler=n.check=hA(d),d=0,l=0,n.mode=Iu;case Iu:if(n.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=d,n.bits=l,O3;t.adler=n.check=1,n.mode=Cr;case Cr:if(e===b3||e===el)break t;case D_:if(n.last){d>>>=7&l,l-=7&l,n.mode=k_;break}for(;l<3;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}switch(n.last=1&d,d>>>=1,l-=1,3&d){case 0:n.mode=16193;break;case 1:if(P3(n),n.mode=nl,e===el){d>>>=2,l-=2;break t}break;case 2:n.mode=16196;break;case 3:t.msg=\"invalid block type\",n.mode=be;}d>>>=2,l-=2;break;case 16193:for(d>>>=7&l,l-=7&l;l<32;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if((65535&d)!=(d>>>16^65535)){t.msg=\"invalid stored block lengths\",n.mode=be;break}if(n.length=65535&d,d=0,l=0,n.mode=P_,e===el)break t;case P_:n.mode=16195;case 16195:if(p=n.length,p){if(p>a&&(p=a),p>c&&(p=c),p===0)break t;r.set(i.subarray(o,o+p),s),a-=p,o+=p,c-=p,s+=p,n.length-=p;break}n.mode=Cr;break;case 16196:for(;l<14;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if(n.nlen=257+(31&d),d>>>=5,l-=5,n.ndist=1+(31&d),d>>>=5,l-=5,n.ncode=4+(15&d),d>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg=\"too many length or distance symbols\",n.mode=be;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;l<3;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}n.lens[vt[n.have++]]=7&d,d>>>=3,l-=3;}for(;n.have<19;)n.lens[vt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,z={bits:n.lenbits},k=Ec(0,n.lens,0,19,n.lencode,0,n.work,z),n.lenbits=z.bits,k){t.msg=\"invalid code lengths set\",n.mode=be;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;B=n.lencode[d&(1<<n.lenbits)-1],f=B>>>24,S=B>>>16&255,C=65535&B,!(f<=l);){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if(C<16)d>>>=f,l-=f,n.lens[n.have++]=C;else {if(C===16){for(lt=f+2;l<lt;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if(d>>>=f,l-=f,n.have===0){t.msg=\"invalid bit length repeat\",n.mode=be;break}D=n.lens[n.have-1],p=3+(3&d),d>>>=2,l-=2;}else if(C===17){for(lt=f+3;l<lt;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}d>>>=f,l-=f,D=0,p=3+(7&d),d>>>=3,l-=3;}else {for(lt=f+7;l<lt;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}d>>>=f,l-=f,D=0,p=11+(127&d),d>>>=7,l-=7;}if(n.have+p>n.nlen+n.ndist){t.msg=\"invalid bit length repeat\",n.mode=be;break}for(;p--;)n.lens[n.have++]=D;}}if(n.mode===be)break;if(n.lens[256]===0){t.msg=\"invalid code -- missing end-of-block\",n.mode=be;break}if(n.lenbits=9,z={bits:n.lenbits},k=Ec(1,n.lens,0,n.nlen,n.lencode,0,n.work,z),n.lenbits=z.bits,k){t.msg=\"invalid literal/lengths set\",n.mode=be;break}if(n.distbits=6,n.distcode=n.distdyn,z={bits:n.distbits},k=Ec(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,z),n.distbits=z.bits,k){t.msg=\"invalid distances set\",n.mode=be;break}if(n.mode=nl,e===el)break t;case nl:n.mode=il;case il:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=d,n.bits=l,C3(t,h),s=t.next_out,r=t.output,c=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,d=n.hold,l=n.bits,n.mode===Cr&&(n.back=-1);break}for(n.back=0;B=n.lencode[d&(1<<n.lenbits)-1],f=B>>>24,S=B>>>16&255,C=65535&B,!(f<=l);){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if(S&&!(240&S)){for(A=f,b=S,w=C;B=n.lencode[w+((d&(1<<A+b)-1)>>A)],f=B>>>24,S=B>>>16&255,C=65535&B,!(A+f<=l);){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}d>>>=A,l-=A,n.back+=A;}if(d>>>=f,l-=f,n.back+=f,n.length=C,S===0){n.mode=16205;break}if(32&S){n.back=-1,n.mode=Cr;break}if(64&S){t.msg=\"invalid literal/length code\",n.mode=be;break}n.extra=15&S,n.mode=16201;case 16201:if(n.extra){for(lt=n.extra;l<lt;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,l-=n.extra,n.back+=n.extra;}n.was=n.length,n.mode=16202;case 16202:for(;B=n.distcode[d&(1<<n.distbits)-1],f=B>>>24,S=B>>>16&255,C=65535&B,!(f<=l);){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if(!(240&S)){for(A=f,b=S,w=C;B=n.distcode[w+((d&(1<<A+b)-1)>>A)],f=B>>>24,S=B>>>16&255,C=65535&B,!(A+f<=l);){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}d>>>=A,l-=A,n.back+=A;}if(d>>>=f,l-=f,n.back+=f,64&S){t.msg=\"invalid distance code\",n.mode=be;break}n.offset=C,n.extra=15&S,n.mode=16203;case 16203:if(n.extra){for(lt=n.extra;l<lt;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,l-=n.extra,n.back+=n.extra;}if(n.offset>n.dmax){t.msg=\"invalid distance too far back\",n.mode=be;break}n.mode=16204;case 16204:if(c===0)break t;if(p=h-c,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg=\"invalid distance too far back\",n.mode=be;break}p>n.wnext?(p-=n.wnext,g=n.wsize-p):g=n.wnext-p,p>n.length&&(p=n.length),E=n.window;}else E=r,g=s-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do r[s++]=E[g++];while(--p);n.length===0&&(n.mode=il);break;case 16205:if(c===0)break t;r[s++]=n.length,c--,n.mode=il;break;case k_:if(n.wrap){for(;l<32;){if(a===0)break t;a--,d|=i[o++]<<l,l+=8;}if(h-=c,t.total_out+=h,n.total+=h,4&n.wrap&&h&&(t.adler=n.check=en(n)?an(n.check,r,h,s-h):Gc(n.check,r,h,s-h)),h=c,4&n.wrap&&(en(n)?d:hA(d))!==n.check){t.msg=\"incorrect data check\",n.mode=be;break}d=0,l=0;}n.mode=16207;case 16207:if(n.wrap&&en(n)){for(;l<32;){if(a===0)break t;a--,d+=i[o++]<<l,l+=8;}if(4&n.wrap&&d!==(4294967295&n.total)){t.msg=\"incorrect length check\",n.mode=be;break}d=0,l=0;}n.mode=16208;case 16208:k=w3;break t;case be:k=J0;break t;case 16210:return X0;default:return Ci}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=d,n.bits=l,(n.wsize||h!==t.avail_out&&n.mode<be&&(n.mode<k_||e!==lA))&&tN(t,t.output,t.next_out,h-t.avail_out),u-=t.avail_in,h-=t.avail_out,t.total_in+=u,t.total_out+=h,n.total+=h,4&n.wrap&&h&&(t.adler=n.check=en(n)?an(n.check,r,h,t.next_out-h):Gc(n.check,r,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Cr?128:0)+(n.mode===nl||n.mode===P_?256:0),(u===0&&h===0||e===lA)&&k===Yo&&(k=N3),k},Or={inflateReset:Z0,inflateReset2:$0,inflateResetKeep:Q0,inflateInit:t=>pA(t,15),inflateInit2:pA,inflate:k3,inflateEnd:t=>{if(qo(t))return Ci;let e=t.state;return e.window&&(e.window=null),t.state=null,Yo},inflateGetHeader:(t,e)=>{if(qo(t))return Ci;let n=t.state;return 2&n.wrap?(n.head=e,e.done=!1,Yo):Ci},inflateSetDictionary:(t,e)=>{let n=e.length,i,r,o;return qo(t)?Ci:(i=t.state,i.wrap!==0&&i.mode!==Iu?Ci:i.mode===Iu&&(r=1,r=Gc(r,e,n,0),r!==i.check)?J0:(o=tN(t,e,n,n),o?(i.mode=16210,X0):(i.havedict=1,Yo)))},inflateInfo:\"pako inflate (from Nodeca project)\"},L3=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1;},eN=Object.prototype.toString,{Z_NO_FLUSH:M3,Z_FINISH:U3,Z_OK:mc,Z_STREAM_END:U_,Z_NEED_DICT:x_,Z_STREAM_ERROR:x3,Z_DATA_ERROR:EA,Z_MEM_ERROR:V3}=Ra;function fc(t){this.options=eh.assign({chunkSize:65536,windowBits:15,to:\"\"},t||{});let e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&!(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new q0,this.strm.avail_out=0;let n=Or.inflateInit2(this.strm,e.windowBits);if(n!==mc)throw new Error(Zo[n]);if(this.header=new L3,Or.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary==\"string\"?e.dictionary=Kc.string2buf(e.dictionary):eN.call(e.dictionary)===\"[object ArrayBuffer]\"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Or.inflateSetDictionary(this.strm,e.dictionary),n!==mc)))throw new Error(Zo[n])}function V_(t,e){let n=new fc(e);if(n.push(t),n.err)throw n.msg||Zo[n.err];return n.result}fc.prototype.push=function(t,e){let n=this.strm,i=this.options.chunkSize,r=this.options.dictionary,o,s,a;if(this.ended)return !1;for(s=e===~~e?e:e===!0?U3:M3,eN.call(t)===\"[object ArrayBuffer]\"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),o=Or.inflate(n,s),o===x_&&r&&(o=Or.inflateSetDictionary(n,r),o===mc?o=Or.inflate(n,s):o===EA&&(o=x_));n.avail_in>0&&o===U_&&n.state.wrap>0&&t[n.next_in]!==0;)Or.inflateReset(n),o=Or.inflate(n,s);switch(o){case x3:case EA:case x_:case V3:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===U_))if(this.options.to===\"string\"){let c=Kc.utf8border(n.output,n.next_out),d=n.next_out-c,l=Kc.buf2string(n.output,c);n.next_out=d,n.avail_out=i-d,d&&n.output.set(n.output.subarray(c,c+d),0),this.onData(l);}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==mc||a!==0){if(o===U_)return o=Or.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return !0},fc.prototype.onData=function(t){this.chunks.push(t);},fc.prototype.onEnd=function(t){t===mc&&(this.options.to===\"string\"?this.result=this.chunks.join(\"\"):this.result=eh.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg;};var F3={Inflate:fc,inflate:V_,inflateRaw:function(t,e){return (e=e||{}).raw=!0,V_(t,e)},ungzip:V_,constants:Ra},{Deflate:$H,deflate:B3,deflateRaw:t5,gzip:e5}=R3,{Inflate:n5,inflate:j3,inflateRaw:i5,ungzip:r5}=F3,G3=B3,W3=j3,nN=function(t){return t[t.ONE_BYTE=0]=\"ONE_BYTE\",t[t.TWO_BYTE=1]=\"TWO_BYTE\",t}(nN||{}),gm=class{constructor(){T(this,\"_sequence\",0),T(this,\"_startTime\",Date.now()),T(this,\"isUseOneByte\",!0);}get startTime(){let e=Date.now()-this._startTime;return e<Math.pow(2,16)?e:(this._startTime+=Math.pow(2,16),this.startTime)}get sequence(){return this._sequence<Math.pow(2,32)?this._sequence++:(this._sequence-=Math.pow(2,32),this.sequence)}serialize(e){let n={commonPacketHeader:{length:0,reserved:0,extension:0,sequence:this.sequence},commonStreamHeader:this.startTime,extension:void 0,payload:e};if(e.byteLength>128){let a=new Uint8Array(4);a.set([1,0,0,0]);let c={id:0,length:4,data:a.buffer},d={profile:this.isUseOneByte?0:1,length:this.isUseOneByte?5:6,datas:[c]};n.commonPacketHeader.extension=1,n.extension=d,n.payload=this.compress(e),n.commonPacketHeader.length=8+(n.extension.length+2)+n.payload.byteLength;}else n.commonPacketHeader.length=8+n.payload.byteLength;v(\"SHOW_DATASTREAM2_LOG\")&&_.debug(\"send data header: \".concat(JSON.stringify(n.commonPacketHeader)));let i=new ArrayBuffer(n.commonPacketHeader.length),r=new Uint8Array(i),o=new DataView(i),s=0;if(o.setUint16(s,n.commonPacketHeader.extension<<15|n.commonPacketHeader.reserved<<14|n.commonPacketHeader.length,!0),s+=2,o.setUint32(s,n.commonPacketHeader.sequence,!0),s+=4,o.setUint16(s,n.commonStreamHeader,!0),s+=2,n.extension){let a=this.serializeExtension(n.extension);r.set(new Uint8Array(a),s),s+=a.byteLength;}if(r.set(new Uint8Array(n.payload),s),s+=n.payload.byteLength,s!==n.commonPacketHeader.length)throw Error(\"serialize error!\");return i}deserialize(e){if(e.byteLength<4)return new ArrayBuffer(0);let n=new DataView(e),i=0,r=n.getUint16(i,!0);i+=2;let o={length:16383&r,reserved:(16384&r)>>14,extension:(32768&r)>>15,sequence:n.getUint16(i+2,!0)<<16|n.getUint16(i,!0)},s,a;if(i+=4,v(\"SHOW_DATASTREAM2_LOG\")&&_.debug(\"receive data header: \".concat(JSON.stringify(o))),n.getUint16(i,!0),i+=2,o.extension){a=this.deserializeExtension(e.slice(i)),i+=2+a.length,s=e.slice(i);let c=!1;if(a.datas.length>0){let d=a.datas.find(l=>l.id===0);d&&(c=(1&new DataView(d.data).getUint32(0,!0))==1);}s=c?this.decompress(s):s;}else s=e.slice(8);return s}serializeExtension(e){let{profile:n,length:i,datas:r}=e,o=new ArrayBuffer(i+2),s=new Uint8Array(o),a=new DataView(o),c=0;if(a.setUint8(c++,n),a.setUint8(c++,i),r.forEach(d=>{n?(a.setUint8(c++,d.id),a.setUint8(c++,d.length),s.set(new Uint8Array(d.data),c),c+=d.data.byteLength):(a.setUint8(c++,d.id|d.length<<4),s.set(new Uint8Array(d.data),c),c+=d.data.byteLength);}),c!==i+2)throw Error(\"serialize extension error, is \".concat(c,\"!==\").concat(i+2));return o}deserializeExtension(e){let n=new DataView(e),i=0,r=n.getUint8(i);i++;let o=n.getUint8(i);i++;let s=r===nN.TWO_BYTE,a=[],c=new DataView(e,2),d=0;for(;d<o;){let l=0,u=0,h=new ArrayBuffer(0);s?(l=c.getUint8(d),d++,u=c.getUint8(d),d++):(l=15&c.getUint8(d),u=c.getUint8(d)>>4,d++),u>0&&(h=c.buffer.slice(d+2,d+2+u),d+=h.byteLength),a.push({id:l,length:u,data:h});}if(d!==o)throw Error(\"parse error\");return {profile:r,length:o,datas:a}}decompress(e){return W3(new Uint8Array(e))}compress(e){return G3(new Uint8Array(e))}},H3={name:\"DataStream\",create:(t,e)=>{let n=e?new QE(t):new ZE(t);return n.useDataStream(new gm),n}},Tm=class extends Xt{constructor(e,n,i){super(),T(this,\"ws\",void 0),T(this,\"requestId\",1),T(this,\"heartBeatTimer\",void 0),T(this,\"joinInfo\",void 0),T(this,\"clientId\",void 0),T(this,\"onOpen\",()=>{this.emit(\"open\"),this.startHeartBeatCheck();}),T(this,\"onClose\",r=>{this.emit(\"close\"),this.dispose();}),T(this,\"onMessage\",r=>{let o=JSON.parse(r.data);if(!o||o.command!==\"serverResponse\"||!o.requestId)return o&&o.command===\"serverStatus\"&&o.serverStatus&&o.serverStatus.command?(this.emit(\"status\",o.serverStatus),void this.emit(o.serverStatus.command,o.serverStatus)):void 0;this.emit(\"req_\".concat(o.requestId),o);}),this.joinInfo=e,this.clientId=n,this.ws=new Qo(\"cross-channel-\".concat(this.clientId),i),this.ws.on(it.RECONNECTING,()=>{this.ws.reconnectMode=\"retry\",this.emit(\"reconnecting\");}),this.ws.on(it.CONNECTED,this.onOpen),this.ws.on(it.ON_MESSAGE,this.onMessage),this.ws.on(it.CLOSED,this.onClose);}isConnect(){return this.ws.state===\"connected\"}sendMessage(e){let n=this.requestId++;return e.requestId=n,e.seq=n,this.ws.sendMessage(e),n}waitStatus(e){return new j((n,i)=>{let r=window.setTimeout(()=>{i(new O(R.TIMEOUT,\"wait status timeout, status: \".concat(e)));},5e3);this.once(e,o=>{window.clearTimeout(r),o.state&&o.state!==0?i(new O(R.CROSS_CHANNEL_WAIT_STATUS_ERROR,\"wait status error, status: \".concat(e))):n(void 0);}),this.once(\"dispose\",()=>{window.clearTimeout(r),i(new O(R.WS_ABORT));});})}async request(e){if(this.ws.state===\"closed\")throw new O(R.WS_DISCONNECT);let n=()=>new j((s,a)=>{this.ws.once(it.CLOSED,()=>a(new O(R.WS_ABORT))),this.ws.once(it.CONNECTED,s);});this.ws.state!==\"connected\"&&await n();let i=this.sendMessage(e),r=new j((s,a)=>{let c=()=>{a(new O(R.WS_ABORT));};this.ws.once(it.RECONNECTING,c),this.ws.once(it.CLOSED,c),this.once(\"req_\".concat(i),s),Me(3e3).then(()=>{this.removeAllListeners(\"req_\".concat(i)),this.ws.off(it.RECONNECTING,c),this.ws.off(it.CLOSED,c),a(new O(R.TIMEOUT,\"cross channel ws request timeout\"));});}),o=await r;if(!o||o.code!==200)throw new O(R.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,\"response: \".concat(JSON.stringify(o)));return o}async connect(e){this.ws.removeAllListeners(it.REQUEST_NEW_URLS),this.ws.on(it.REQUEST_NEW_URLS,n=>{n(e);}),await this.ws.init(e);}dispose(){this.clearHeartBeatCheck(),this.emit(\"dispose\"),this.removeAllListeners(),this.ws.close();}sendPing(e){let n=this.requestId++;return e.requestId=n,this.ws.sendMessage(e),n}startHeartBeatCheck(){this.heartBeatTimer&&window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=window.setInterval(()=>{this.sendPing({command:\"ping\",appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0});},3e3);}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0;}},Sm=class extends Xt{set state(e){e!==this._state&&(e!==Sn.RELAY_STATE_FAILURE&&(this.errorCode=ys.RELAY_OK),this.emit(\"state\",e,this.errorCode),this._state=e);}get state(){return this._state}constructor(e,n,i,r,o){super(),T(this,\"joinInfo\",void 0),T(this,\"sid\",void 0),T(this,\"clientId\",void 0),T(this,\"cancelToken\",mn.CancelToken.source()),T(this,\"workerToken\",void 0),T(this,\"requestId\",0),T(this,\"signal\",void 0),T(this,\"prevChannelMediaConfig\",void 0),T(this,\"httpRetryConfig\",void 0),T(this,\"_resolution\",void 0),T(this,\"_state\",Sn.RELAY_STATE_IDLE),T(this,\"errorCode\",ys.RELAY_OK),T(this,\"onStatus\",s=>{_.debug(\"[\".concat(this.clientId,\"] ChannelMediaStatus: \").concat(JSON.stringify(s))),s&&s.command&&(s.command===\"onAudioPacketReceived\"&&this.emit(\"event\",Ir.PACKET_RECEIVED_AUDIO_FROM_SRC),s.command===\"onVideoPacketReceived\"&&this.emit(\"event\",Ir.PACKET_RECEIVED_VIDEO_FROM_SRC),s.command===\"onSrcTokenPrivilegeDidExpire\"&&(this.errorCode=ys.SRC_TOKEN_EXPIRED,this.state=Sn.RELAY_STATE_FAILURE),s.command===\"onDestTokenPrivilegeDidExpire\"&&(this.errorCode=ys.DEST_TOKEN_EXPIRED,this.state=Sn.RELAY_STATE_FAILURE));}),T(this,\"onReconnect\",async()=>{_.debug(\"[\".concat(this.clientId,\"] ChannelMediaSocket disconnect, reconnecting\")),this.emit(\"event\",Ir.NETWORK_DISCONNECTED),this.state=Sn.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch(s=>{this.state!==Sn.RELAY_STATE_IDLE&&(_.error(\"auto restart channel media relay failed\",s.toString()),this.errorCode=ys.SERVER_CONNECTION_LOST,this.state=Sn.RELAY_STATE_FAILURE);});}),this.joinInfo=e,this.clientId=n,this.sid=Ms(),this.signal=new Tm(this.joinInfo,this.clientId,i),this.httpRetryConfig=r,this._resolution=o;}async startChannelMediaRelay(e){if(this.state!==Sn.RELAY_STATE_IDLE)throw new O(R.INVALID_OPERATION);this.state=Sn.RELAY_STATE_CONNECTING,await this.connect(),_.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: connect success\"));try{await this.sendStartRelayMessage(e);}catch(n){throw n.data&&n.data.serverResponse&&n.data.serverResponse.command===\"SetSourceChannel\"?new O(R.CROSS_CHANNEL_FAILED_JOIN_SRC):n.data&&n.data.serverResponse&&n.serverResponse.command===\"SetDestChannelStatus\"?new O(R.CROSS_CHANNEL_FAILED_JOIN_DEST):n.data&&n.data.serverResponse&&n.serverResponse.command===\"StartPacketTransfer\"?new O(R.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST):n}this.prevChannelMediaConfig=e;}async updateChannelMediaRelay(e){if(this.state!==Sn.RELAY_STATE_RUNNING)throw new O(R.INVALID_OPERATION);await this.sendUpdateMessage(e),this.prevChannelMediaConfig=e;}async setVideoProfile(e){if(this._resolution=e,this.state!==Sn.RELAY_STATE_RUNNING)throw new O(R.INVALID_OPERATION);let n=this.genMessage(sn.SetVideoProfile);await this.signal.request(n),_.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: setVideoProfile success\"));}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),_.debug(\"[\".concat(this.clientId,\"] stopChannelMediaRelay: send stop message success\")),this.state=Sn.RELAY_STATE_IDLE,this.dispose();}dispose(){_.debug(\"[\".concat(this.clientId,\"] disposeChannelMediaRelay\")),this.cancelToken.cancel(),this.cancelToken=mn.CancelToken.source(),this.state=Sn.RELAY_STATE_IDLE,this.emit(\"dispose\"),this.signal.dispose(),this.prevChannelMediaConfig=void 0;}async connect(){let e=await zG(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=e.workerToken,await this.signal.connect(e.addressList),this.emit(\"event\",Ir.NETWORK_CONNECTED),this.signal.on(\"status\",this.onStatus),this.signal.on(\"reconnecting\",this.onReconnect);}async sendStartRelayMessage(e){let n=this.genMessage(sn.StopPacketTransfer);await this.signal.request(n),await this.signal.waitStatus(\"Normal Quit\"),_.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: StopPacketTransfer success\"));let i=this.genMessage(sn.SetSdkProfile,e);await this.signal.request(i),_.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSdkProfile success\"));let r=this.genMessage(sn.SetSourceChannel,e);await this.signal.request(r),await this.signal.waitStatus(\"SetSourceChannelStatus\"),this.emit(\"event\",Ir.PACKET_JOINED_SRC_CHANNEL),_.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSourceChannel success\"));let o=this.genMessage(sn.SetSourceUserId,e);await this.signal.request(o),_.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSourceUserId success\"));let s=this.genMessage(sn.SetDestChannel,e);await this.signal.request(s),await this.signal.waitStatus(\"SetDestChannelStatus\"),this.emit(\"event\",Ir.PACKET_JOINED_DEST_CHANNEL),_.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetDestChannel success\"));let a=this.genMessage(sn.StartPacketTransfer,e);await this.signal.request(a),this.emit(\"event\",Ir.PACKET_SENT_TO_DEST_CHANNEL),this.state=Sn.RELAY_STATE_RUNNING,_.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: StartPacketTransfer success\")),this.setVideoProfile(this._resolution);}async sendUpdateMessage(e){let n=this.genMessage(sn.UpdateDestChannel,e);await this.signal.request(n),this.emit(\"event\",Ir.PACKET_UPDATE_DEST_CHANNEL),_.debug(\"[\".concat(this.clientId,\"] sendUpdateMessage: UpdateDestChannel success\"));}async sendStopRelayMessage(){let e=this.genMessage(sn.StopPacketTransfer);await this.signal.request(e),_.debug(\"[\".concat(this.clientId,\"] sendStopRelayMessage: StopPacketTransfer success\"));}genMessage(e,n){let i=[],r=[],o=[];this.requestId+=1;let s={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:ii,sid:this.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};s.sdkVersion===\"4.22.0\"&&(s.sdkVersion=\"0.0.1\");let a=null,c=null;switch(e){case sn.SetSdkProfile:return s.clientRequest={command:\"SetSdkProfile\",type:\"multi_channel\"},s;case sn.SetSourceChannel:if(c=n&&n.getSrcChannelMediaInfo(),!c)throw new O(R.UNEXPECTED_ERROR,\"can not find source config\");return s.clientRequest={command:\"SetSourceChannel\",uid:\"0\",channelName:c.channelName,token:c.token||this.joinInfo.appId},s;case sn.SetSourceUserId:if(c=n&&n.getSrcChannelMediaInfo(),!c)throw new O(R.UNEXPECTED_ERROR,\"can not find source config\");return s.clientRequest={command:\"SetSourceUserId\",uid:c.uid+\"\"},s;case sn.SetDestChannel:if(a=n&&n.getDestChannelMediaInfo(),!a)throw new O(R.UNEXPECTED_ERROR,\"can not find dest config\");return a.forEach(d=>{i.push(d.channelName),r.push(d.uid+\"\"),o.push(d.token||this.joinInfo.appId);}),s.clientRequest={command:\"SetDestChannel\",channelName:i,uid:r,token:o},s;case sn.StartPacketTransfer:return s.clientRequest={command:\"StartPacketTransfer\"},s;case sn.Reconnect:return s.clientRequest={command:\"Reconnect\"},s;case sn.StopPacketTransfer:return s.clientRequest={command:\"StopPacketTransfer\"},s;case sn.UpdateDestChannel:if(a=n&&n.getDestChannelMediaInfo(),!a)throw new O(R.UNEXPECTED_ERROR,\"can not find dest config\");return a.forEach(d=>{i.push(d.channelName),r.push(d.uid+\"\"),o.push(d.token||this.joinInfo.appId);}),s.clientRequest={command:\"UpdateDestChannel\",channelName:i,uid:r,token:o},s;case sn.SetVideoProfile:s.clientRequest={command:\"SetVideoProfile\",width:this._resolution.width,height:this._resolution.height};}return s}},K3={name:\"ChannelMediaRelay\",create:function(t){return new Sm(t.joinInfo,t.clientId,t.websocketRetryConfig||Ee,t.httpRetryConfig||Ee,t.resolution)}};function mA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Ga(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mA(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var Rm=class extends Xt{constructor(e,n,i,r){super(),T(this,\"spec\",void 0),T(this,\"token\",void 0),T(this,\"websocket\",void 0),T(this,\"pingpongTimer\",void 0),T(this,\"reconnectMode\",\"retry\"),T(this,\"serviceMode\",void 0),T(this,\"reqId\",0),T(this,\"commandReqId\",0),T(this,\"handleWebSocketOpen\",()=>{this.reconnectMode=\"retry\",this.startPingPong();}),T(this,\"handleWebSocketMessage\",o=>{if(!o.data)return;let s=JSON.parse(o.data);s.requestId?this.emit(\"@\".concat(s.requestId,\"-\").concat(s.sid),s):(X.workerEvent(this.spec.sid,{actionType:\"status\",serverCode:s.code,workerType:this.serviceMode===er.TRANSCODE?1:2}),this.emit(Xr.PUBLISH_STREAM_STATUS,s));}),this.spec=n,this.token=e,this.serviceMode=r,this.websocket=new Qo(\"live-streaming\",i),this.websocket.on(it.CONNECTED,this.handleWebSocketOpen),this.websocket.on(it.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(it.REQUEST_NEW_URLS,(o,s)=>{Ge(this,Xr.REQUEST_NEW_ADDRESS).then(o).catch(s);}),this.websocket.on(it.RECONNECTING,()=>{this.websocket.reconnectMode=this.reconnectMode;});}init(e){return this.websocket.init(e)}async request(e,n,i,r){this.reqId+=1,e===\"request\"&&(this.commandReqId+=1);let o=this.commandReqId,s=this.reqId;if(!s||!this.websocket)throw new O(R.UNEXPECTED_ERROR);let a=Ga({command:e,sdkVersion:ii===\"4.22.0\"?\"0.0.1\":ii,seq:s,requestId:s,allocate:i,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},n);if(this.websocket.state===\"closed\")throw new O(R.WS_DISCONNECT);let c=()=>new j((h,p)=>{this.websocket.once(it.CLOSED,()=>p(new O(R.WS_ABORT))),this.websocket.once(it.CONNECTED,h);});this.websocket.state!==\"connected\"&&await c(),a.clientRequest&&(a.clientRequest.workerToken=this.token);let d=new j((h,p)=>{let g=()=>{p(new O(R.WS_ABORT));};this.websocket.once(it.RECONNECTING,g),this.websocket.once(it.CLOSED,g),this.once(\"@\".concat(s,\"-\").concat(this.spec.sid),E=>{h(E);});});r&&X.workerEvent(this.spec.sid,Ga(Ga({},r),{},{requestId:o,actionType:\"request\",payload:JSON.stringify(n.clientRequest),serverCode:0,code:0}));let l=Date.now();this.websocket.sendMessage(a);let u=null;try{u=await d;}catch(h){if(this.websocket.state===\"closed\")throw h;return await c(),await this.request(e,n,i)}return r&&X.workerEvent(this.spec.sid,Ga(Ga({},r),{},{requestId:o,actionType:\"response\",payload:JSON.stringify(u.serverResponse),serverCode:u.code,success:u.code===200,responseTime:Date.now()-l})),u.code!==200&&this.handleResponseError(u),u}tryNextAddress(){this.reconnectMode=\"tryNext\",this.websocket.reconnect(\"tryNext\");}close(){let e=ii===\"4.22.0\"?\"0.0.1\":ii;this.reqId+=1,this.websocket.state===\"connected\"?(this.websocket.sendMessage({command:\"request\",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:\"DestroyWorker\"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0);}handleResponseError(e){switch(e.code){case fe.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void _.warning(\"live stream response already exists stream\");case fe.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case fe.LIVE_STREAM_RESPONSE_BAD_STREAM:case fe.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new O(R.LIVE_STREAMING_INVALID_ARGUMENT,\"\",{code:e.code}).throw();case fe.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if(e.serverResponse.command===\"UnpublishStream\")return;throw new O(R.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream response wm worker not exist\",{retry:!0});case fe.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new O(R.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,\"\",{code:e.code}).throw();case fe.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{let n=new O(R.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(Xr.WARNING,n,e.serverResponse.url)}case fe.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{let n=new O(R.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(Xr.WARNING,n,e.serverResponse.url)}case fe.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new O(R.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream response wm worker not exist\",{retry:!0});case fe.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new O(R.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,\"\",{code:e.code}).throw();case fe.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{let n=new O(R.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(Xr.WARNING,n,e.serverResponse.url)}case fe.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new O(R.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"\",{code:e.code}).throw();case fe.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new O(R.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream resource limit\",{retry:!0,changeAddress:!0});case fe.LIVE_STREAM_RESPONSE_WORKER_LOST:case fe.LIVE_STREAM_RESPONSE_WORKER_QUIT:if(e.serverResponse.command===\"UnpublishStream\")return;throw new O(R.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{retry:!0,changeAddress:!0});case fe.ERROR_FAIL_SEND_MESSAGE:if(e.serverResponse.command===\"UnpublishStream\")return;if(e.serverResponse.command===\"UpdateTranscoding\"||e.serverResponse.command===\"ControlStream\")return new O(R.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{code:e.code}).throw();throw new O(R.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{retry:!0,changeAddress:!0});case fe.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case fe.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case fe.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case fe.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new O(R.LIVE_STREAMING_CDN_ERROR,\"\",{code:e.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(()=>{this.websocket.state===\"connected\"&&this.request(\"ping\",{}).catch(zu);},6e3);}};function fA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fA(Object(n),!0).forEach(function(i){T(t,i,n[i]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i));});}return t}var Cm=class extends Xt{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ee,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ee;super(),T(this,\"onLiveStreamWarning\",void 0),T(this,\"onLiveStreamError\",void 0),T(this,\"spec\",void 0),T(this,\"retryTimeout\",1e4),T(this,\"connection\",void 0),T(this,\"httpRetryConfig\",void 0),T(this,\"wsRetryConfig\",void 0),T(this,\"streamingTasks\",new Map),T(this,\"isStartingStreamingTask\",!1),T(this,\"taskMutex\",new ze(\"live-streaming\")),T(this,\"cancelToken\",mn.CancelToken.source()),T(this,\"transcodingConfig\",void 0),T(this,\"uapResponse\",void 0),T(this,\"lastTaskId\",1),T(this,\"statusError\",new Map),this.spec=e,this.httpRetryConfig=i,this.wsRetryConfig=n;}async setTranscodingConfig(e){let n=Tn(Tn({},aj),e);n.videoCodecProfile!==66&&n.videoCodecProfile!==77&&n.videoCodecProfile!==100&&(_.debug(\"[\".concat(this.spec.clientId,\"] set transcoding config, fix video codec profile: \").concat(n.videoCodecProfile,\" -> 100\")),n.videoCodecProfile=100),n.transcodingUsers||(n.transcodingUsers=n.userConfigs),n.transcodingUsers&&(n.transcodingUsers=n.transcodingUsers.map(s=>Tn(Tn(Tn({},sj),s),{},{zOrder:s.zOrder?s.zOrder+1:1}))),function(s){zt(s.width)||Nt(s.width,\"config.width\",0,1e4),zt(s.height)||Nt(s.height,\"config.height\",0,1e4),zt(s.videoBitrate)||Nt(s.videoBitrate,\"config.videoBitrate\",1,1e6),zt(s.videoFrameRate)||Nt(s.videoFrameRate,\"config.videoFrameRate\"),zt(s.lowLatency)||Nr(s.lowLatency,\"config.lowLatency\"),zt(s.audioSampleRate)||Ce(s.audioSampleRate,\"config.audioSampleRate\",[32e3,44100,48e3]),zt(s.audioBitrate)||Nt(s.audioBitrate,\"config.audioBitrate\",1,128),zt(s.audioChannels)||Ce(s.audioChannels,\"config.audioChannels\",[1,2,3,4,5]),zt(s.videoGop)||Nt(s.videoGop,\"config.videoGop\"),zt(s.videoCodecProfile)||Ce(s.videoCodecProfile,\"config.videoCodecProfile\",[66,77,100]),zt(s.userCount)||Nt(s.userCount,\"config.userCount\",0,17),zt(s.backgroundColor)||Nt(s.backgroundColor,\"config.backgroundColor\",0,16777215),zt(s.userConfigExtraInfo)||Pe(s.userConfigExtraInfo,\"config.userConfigExtraInfo\",0,4096,!1),s.transcodingUsers&&!zt(s.transcodingUsers)&&(br(s.transcodingUsers,\"config.transcodingUsers\"),s.transcodingUsers.forEach((a,c)=>{Qu(a.uid),zt(a.x)||Nt(a.x,\"transcodingUser[\".concat(c,\"].x\"),0,1e4),zt(a.y)||Nt(a.y,\"transcodingUser[\".concat(c,\"].y\"),0,1e4),zt(a.width)||Nt(a.width,\"transcodingUser[\".concat(c,\"].width\"),0,1e4),zt(a.height)||Nt(a.height,\"transcodingUser[\".concat(c,\"].height\"),0,1e4),zt(a.zOrder)||Nt(a.zOrder-1,\"transcodingUser[\".concat(c,\"].zOrder\"),0,100),zt(a.alpha)||Nt(a.alpha,\"transcodingUser[\".concat(c,\"].alpha\"),0,1,!1);})),zt(s.watermark)||xp(s.watermark,\"watermark\"),zt(s.backgroundImage)||xp(s.backgroundImage,\"backgroundImage\"),s.images&&!zt(s.images)&&(br(s.images,\"config.images\"),s.images.forEach((a,c)=>{xp(a,\"images[\".concat(c,\"]\"));}));}(n);let i=[];n.images&&i.push(...n.images.map(s=>Tn(Tn(Tn({},Up),s),{},{zOrder:255}))),n.backgroundImage&&(i.push(Tn(Tn(Tn({},Up),n.backgroundImage),{},{zOrder:0})),delete n.backgroundImage),n.watermark&&(i.push(Tn(Tn(Tn({},Up),n.watermark),{},{zOrder:255})),delete n.watermark),n.images=i,n.transcodingUsers&&(n.userConfigs=n.transcodingUsers.map(s=>Tn({},s)),n.userCount=n.transcodingUsers.length,delete n.transcodingUsers);let r=(n.userConfigs||[]).map(s=>typeof s.uid==\"number\"?j.resolve(s.uid):h0(s.uid,this.spec,this.cancelToken.token,this.httpRetryConfig));if((await j.all(r)).forEach((s,a)=>{n.userConfigs&&n.userConfigs[a]&&(n.userConfigs[a].uid=s);}),this.transcodingConfig=n,this.connection)try{var o;let s=await this.connection.request(\"request\",{clientRequest:{command:\"UpdateTranscoding\",transcodingConfig:this.transcodingConfig}},!1,{command:\"UpdateTranscoding\",workerType:1,requestByUser:!0,tid:Array.from(Pr(o=this.streamingTasks).call(o)).map(a=>a.taskId).join(\"#\")});_.debug(\"[\".concat(this.spec.clientId,\"] update live transcoding config success, code: \").concat(s.code,\", config:\"),JSON.stringify(this.transcodingConfig));}catch(s){if(!s.data||!s.data.retry)throw s;s.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach(a=>{_.warning(\"[\".concat(this.spec.clientId,\"] live streaming receive error\"),s.toString(),\"try to republish\",a.url),this.startLiveStreamingTask(a.url,a.mode,s).then(()=>{_.debug(\"[\".concat(this.spec.clientId,\"] live streaming republish \").concat(a.url,\" success\"));}).catch(c=>{_.error(\"[\".concat(this.spec.clientId,\"] live streaming republish failed\"),a.url,c.toString()),this.onLiveStreamError&&this.onLiveStreamError(a.url,c);});});}}async startLiveStreamingTask(e,n,i){if(!this.transcodingConfig&&n===er.TRANSCODE)throw new O(R.INVALID_OPERATION,\"[LiveStreaming] no transcoding config found, can not start transcoding streaming task\");let r={command:\"PublishStream\",ts:Date.now(),url:e,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};_.debug(\"[\".concat(this.spec.clientId,\"] start live streaming \").concat(e,\", mode: \").concat(n));let o=await this.taskMutex.lock();if(!this.connection&&i)return void o();if(this.streamingTasks.get(e)&&!i)return o(),new O(R.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||(this.connection=await this.connect(n));}catch(a){throw o(),a}switch(n){case er.TRANSCODE:r.transcodingConfig=Tn({},this.transcodingConfig);}this.uapResponse&&this.uapResponse.vid&&(r.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;let s=this.lastTaskId++;try{let a=new j((d,l)=>{Me(this.retryTimeout).then(()=>{if(i)return l(i);let u=this.statusError.get(e);return u?(this.statusError.delete(e),l(u)):void 0});}),c=await j.race([this.connection.request(\"request\",{clientRequest:r},!0,{url:e,command:\"PublishStream\",workerType:n===er.TRANSCODE?1:2,requestByUser:!i,tid:s.toString()}),a]);this.isStartingStreamingTask=!1,_.debug(\"[\".concat(this.spec.clientId,\"] live streaming started, code: \").concat(c.code)),this.streamingTasks.set(e,{clientRequest:r,mode:n,url:e,taskId:s}),o();}catch(a){if(o(),this.isStartingStreamingTask=!1,!a.data||!a.data.retry||i)throw a;return a.data.changeAddress?(this.connection.tryNextAddress(),await this.startLiveStreamingTask(e,n,a)):await this.startLiveStreamingTask(e,n,a)}}stopLiveStreamingTask(e){return new j((n,i)=>{let r=this.streamingTasks.get(e);if(!r||!this.connection)return new O(R.UNEXPECTED_ERROR,\"can not find streaming task to stop\").throw();let o=r.mode;r.abortTask=()=>{_.debug(\"[\".concat(this.spec.clientId,\"] stop live streaming success(worker exception)\")),this.streamingTasks.delete(e),n();},this.connection.request(\"request\",{clientRequest:{command:\"UnpublishStream\",url:r.url}},!1,{url:e,command:\"UnPublishStream\",workerType:o===er.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then(s=>{_.debug(\"[\".concat(this.spec.clientId,\"] stop live streaming success, code: \").concat(s.code)),this.streamingTasks.delete(e),this.streamingTasks.size===0&&(this.connection&&this.connection.close(),this.connection=void 0),n();}).catch(i);})}resetAllTask(){var e;let n=Array.from(Pr(e=this.streamingTasks).call(e));this.terminate();for(let i of n)this.startLiveStreamingTask(i.url,i.mode).catch(r=>{this.onLiveStreamError&&this.onLiveStreamError(i.url,r);});}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=mn.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0;}async connect(e){if(this.connection)throw new O(R.UNEXPECTED_ERROR,\"live streaming connection has already connected\");let n=await Ge(this,VE.REQUEST_WORKER_MANAGER_LIST,e);return this.uapResponse=n,this.connection=new Rm(n.workerToken,this.spec,this.wsRetryConfig,e),this.connection.on(Xr.WARNING,(i,r)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(r,i)),this.connection.on(Xr.PUBLISH_STREAM_STATUS,i=>this.handlePublishStreamServer(i)),this.connection.on(Xr.REQUEST_NEW_ADDRESS,(i,r)=>{if(!this.connection)return r(new O(R.UNEXPECTED_ERROR,\"can not get new live streaming address list\"));Ge(this,VE.REQUEST_WORKER_MANAGER_LIST,e).then(o=>{this.uapResponse=o,i(o.addressList);}).catch(r);}),await this.connection.init(n.addressList),this.connection}handlePublishStreamServer(e){let n=e.serverStatus&&e.serverStatus.url||\"empty_url\",i=this.streamingTasks.get(n),r=e.reason;switch(e.code){case fe.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case fe.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case fe.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case fe.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{let s=new O(R.LIVE_STREAMING_CDN_ERROR,\"\",{code:e.code});if(i)return _.error(s.toString()),this.onLiveStreamError&&this.onLiveStreamError(n,s);if(!this.isStartingStreamingTask)return;this.statusError.set(n,s);}case fe.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{let s=new O(R.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,r);return this.onLiveStreamWarning&&this.onLiveStreamWarning(n,s)}case fe.LIVE_STREAM_RESPONSE_WORKER_LOST:case fe.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var o;if(!this.connection)return;this.connection.tryNextAddress();let s=Array.from(Pr(o=this.streamingTasks).call(o));for(let a of s)a.abortTask?a.abortTask():(_.warning(\"[\".concat(this.spec.clientId,\"] publish stream status code\"),e.code,\"try to republish\",a.url),this.startLiveStreamingTask(a.url,a.mode,new O(R.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"\",{code:e.code})).then(()=>{_.debug(\"[\".concat(this.spec.clientId,\"] republish live stream success\"),a.url);}).catch(c=>{_.error(c.toString()),this.onLiveStreamError&&this.onLiveStreamError(a.url,c);}));return}}}hasUrl(e){return this.streamingTasks.has(e)}},Y3={name:\"LiveStreaming\",create:function(t){return new Cm(t.joinInfo,t.websocketRetryConfig||Ee,t.httpRetryConfig||Ee)}};function q3(t){let e=gA();return function(n,i){let r=n.appId;r!==void 0&&(yt(i,10),tr(i,r));let o=n.cid;o!==void 0&&(yt(i,16),yt(i,o));let s=n.cname;s!==void 0&&(yt(i,26),tr(i,s));let a=n.deviceId;a!==void 0&&(yt(i,34),tr(i,a));let c=n.elapse;c!==void 0&&(yt(i,40),Yr(i,c));let d=n.fileSize;d!==void 0&&(yt(i,48),Yr(i,Cs(d)));let l=n.height;l!==void 0&&(yt(i,56),Yr(i,Cs(l)));let u=n.jpg;u!==void 0&&(yt(i,66),yt(i,u.length),function(si,L){let F=Ca(si,L.length);si.bytes.set(L,F);}(i,u));let h=n.networkType;h!==void 0&&(yt(i,72),Yr(i,Cs(h)));let p=n.osType;p!==void 0&&(yt(i,80),Yr(i,Cs(p)));let g=n.requestId;g!==void 0&&(yt(i,90),tr(i,g));let E=n.sdkVersion;E!==void 0&&(yt(i,98),tr(i,E));let f=n.sequence;f!==void 0&&(yt(i,104),Yr(i,Cs(f)));let S=n.sid;S!==void 0&&(yt(i,114),tr(i,S));let C=n.timestamp;C!==void 0&&(yt(i,120),Yr(i,C));let A=n.uid;A!==void 0&&(yt(i,128),yt(i,A));let b=n.vid;b!==void 0&&(yt(i,136),yt(i,b));let w=n.width;w!==void 0&&(yt(i,144),Yr(i,Cs(w)));let D=n.service;D!==void 0&&(yt(i,152),yt(i,D));let k=n.callbackData;k!==void 0&&(yt(i,162),tr(i,k));let B=n.jpgEncryption;B!==void 0&&(yt(i,168),yt(i,B));let V=n.requestType;V!==void 0&&(yt(i,176),yt(i,V));let z=n.scorePorn;z!==void 0&&(yt(i,185),j_(i,z));let lt=n.scoreSexy;lt!==void 0&&(yt(i,193),j_(i,lt));let vt=n.scoreNeutral;vt!==void 0&&(yt(i,201),j_(i,vt));let Dt=n.scene;Dt!==void 0&&(yt(i,208),yt(i,Dt));let ce=n.ossFilePrefix;ce!==void 0&&(yt(i,218),tr(i,ce));let Wt=n.serviceVendor;if(Wt!==void 0)for(let si of Wt){yt(i,226);let L=gA();X3(si,L),yt(i,L.limit),tH(i,L),$3(L);}}(t,e),function(n){let i=n.bytes,r=n.limit;return i.length===r?i:i.subarray(0,r)}(e)}function z3(t){return function(n){let i={};t:for(;!oN(n);){let r=or(n);switch(r>>>3){case 0:break t;case 1:i.code=or(n);break;case 2:i.msg=sN(n,or(n));break;case 3:{let o=Q3(n);i.data=J3(n),n.limit=o;break}default:iN(n,7&r);}}return i}({bytes:e=t,offset:0,limit:e.length});var e;}function J3(t){let e={};t:for(;!oN(t);){let n=or(t);switch(n>>>3){case 0:break t;case 1:e.requestId=sN(t,or(t));break;case 2:e.requestType=or(t)>>>0;break;case 3:e.scorePorn=B_(t);break;case 4:e.scoreSexy=B_(t);break;case 5:e.scoreNeutral=B_(t);break;case 6:e.requestScene=or(t)>>>0;break;case 7:e.scene=or(t)>>>0;break;default:iN(t,7&n);}}return e}function X3(t,e){let n=t.service;n!==void 0&&(yt(e,8),yt(e,n));let i=t.vendor;i!==void 0&&(yt(e,16),yt(e,i));let r=t.token;r!==void 0&&(yt(e,26),tr(e,r));let o=t.callbackUrl;o!==void 0&&(yt(e,34),tr(e,o));}function Q3(t){let e=or(t),n=t.limit;return t.limit=t.offset+e,n}function iN(t,e){switch(e){case 0:for(;128&aN(t););break;case 2:F_(t,or(t));break;case 5:F_(t,4);break;case 1:F_(t,8);break;default:throw new Error(\"Unimplemented type: \"+e)}}var Z3=new Float32Array(1);new Uint8Array(Z3.buffer);var Lf=new Float64Array(1),Rn=new Uint8Array(Lf.buffer);function Cs(t){return {low:t|=0,high:t>>31,unsigned:t>=0}}var rN=[];function gA(){let t=rN.pop();return t?(t.offset=t.limit=0,t):{bytes:new Uint8Array(64),offset:0,limit:0}}function $3(t){rN.push(t);}function F_(t,e){if(t.offset+e>t.limit)throw new Error(\"Skip past limit\");t.offset+=e;}function oN(t){return t.offset>=t.limit}function Ca(t,e){let n=t.bytes,i=t.offset,r=t.limit,o=i+e;if(o>n.length){let s=new Uint8Array(2*o);s.set(n),t.bytes=s;}return t.offset=o,o>r&&(t.limit=o),i}function Mf(t,e){let n=t.offset;if(n+e>t.limit)throw new Error(\"Read past limit\");return t.offset+=e,n}function sN(t,e){let n=Mf(t,e),i=String.fromCharCode,r=t.bytes,o=\"\\uFFFD\",s=\"\";for(let a=0;a<e;a++){let c,d,l,u,h=r[a+n];128&h?(224&h)==192?a+1>=e?s+=o:(c=r[a+n+1],(192&c)!=128?s+=o:(u=(31&h)<<6|63&c,u<128?s+=o:(s+=i(u),a++))):(240&h)==224?a+2>=e?s+=o:(c=r[a+n+1],d=r[a+n+2],(49344&(c|d<<8))!=32896?s+=o:(u=(15&h)<<12|(63&c)<<6|63&d,u<2048||u>=55296&&u<=57343?s+=o:(s+=i(u),a+=2))):(248&h)==240?a+3>=e?s+=o:(c=r[a+n+1],d=r[a+n+2],l=r[a+n+3],(12632256&(c|d<<8|l<<16))!=8421504?s+=o:(u=(7&h)<<18|(63&c)<<12|(63&d)<<6|63&l,u<65536||u>1114111?s+=o:(u-=65536,s+=i(55296+(u>>10),56320+(1023&u)),a+=3))):s+=o:s+=i(h);}return s}function tr(t,e){let n=e.length,i=0;for(let s=0;s<n;s++){let a=e.charCodeAt(s);a>=55296&&a<=56319&&s+1<n&&(a=(a<<10)+e.charCodeAt(++s)-56613888),i+=a<128?1:a<2048?2:a<65536?3:4;}yt(t,i);let r=Ca(t,i),o=t.bytes;for(let s=0;s<n;s++){let a=e.charCodeAt(s);a>=55296&&a<=56319&&s+1<n&&(a=(a<<10)+e.charCodeAt(++s)-56613888),a<128?o[r++]=a:(a<2048?o[r++]=a>>6&31|192:(a<65536?o[r++]=a>>12&15|224:(o[r++]=a>>18&7|240,o[r++]=a>>12&63|128),o[r++]=a>>6&63|128),o[r++]=63&a|128);}}function tH(t,e){let n=Ca(t,e.limit),i=t.bytes,r=e.bytes;for(let o=0,s=e.limit;o<s;o++)i[o+n]=r[o];}function aN(t){return t.bytes[Mf(t,1)]}function TA(t,e){let n=Ca(t,1);t.bytes[n]=e;}function B_(t){let e=Mf(t,8),n=t.bytes;return Rn[0]=n[e++],Rn[1]=n[e++],Rn[2]=n[e++],Rn[3]=n[e++],Rn[4]=n[e++],Rn[5]=n[e++],Rn[6]=n[e++],Rn[7]=n[e++],Lf[0]}function j_(t,e){let n=Ca(t,8),i=t.bytes;Lf[0]=e,i[n++]=Rn[0],i[n++]=Rn[1],i[n++]=Rn[2],i[n++]=Rn[3],i[n++]=Rn[4],i[n++]=Rn[5],i[n++]=Rn[6],i[n++]=Rn[7];}function or(t){let e,n=0,i=0;do e=aN(t),n<32&&(i|=(127&e)<<n),n+=7;while(128&e);return i}function yt(t,e){for(e>>>=0;e>=128;)TA(t,127&e|128),e>>>=7;TA(t,e);}function Yr(t,e){let n=e.low>>>0,i=(e.low>>>28|e.high<<4)>>>0,r=e.high>>>24,o=r===0?i===0?n<16384?n<128?1:2:n<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:r<128?9:10,s=Ca(t,o),a=t.bytes;switch(o){case 10:a[s+9]=r>>>7&1;case 9:a[s+8]=o!==9?128|r:127&r;case 8:a[s+7]=o!==8?i>>>21|128:i>>>21&127;case 7:a[s+6]=o!==7?i>>>14|128:i>>>14&127;case 6:a[s+5]=o!==6?i>>>7|128:i>>>7&127;case 5:a[s+4]=o!==5?128|i:127&i;case 4:a[s+3]=o!==4?n>>>21|128:n>>>21&127;case 3:a[s+2]=o!==3?n>>>14|128:n>>>14&127;case 2:a[s+1]=o!==2?n>>>7|128:n>>>7&127;case 1:a[s]=o!==1?128|n:127&n;}}function SA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i);}return n}var eH=new Map([[\"moderation\",1],[\"supervise\",2]]);function RA(t){return {low:t|=0,high:t>>31,unsigned:t>=0}}var Im=class extends Xt{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;let n=this._connectionState;this._connectionState=e,this.emit(we.CONNECTION_STATE_CHANGE,n,e);}get inspectType(){return this._inspectType}set inspectType(e){var n;this._inspectMode=ji(n=e.map(i=>eH.get(i)||0)).call(n,(i,r)=>i+r),this._inspectType=e;}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout(()=>{this.quality=this._quality/this.qualityRatio;},6e4));}constructor(e){super(),T(this,\"name\",\"AgoraRTCVideoContentInspect\"),T(this,\"_connectionState\",Ei.CONNECTING),T(this,\"_innerConnectionState\",void 0),T(this,\"sequence\",0),T(this,\"inspectStartTime\",void 0),T(this,\"workerManagerConnection\",void 0),T(this,\"workerConnection\",void 0),T(this,\"workerMessageLengthLimit\",void 0),T(this,\"inspectIntervalMinimum\",void 0),T(this,\"qualityRatio\",void 0),T(this,\"_connectInfo\",void 0),T(this,\"_cancelTokenSource\",mn.CancelToken.source()),T(this,\"_retryConfig\",void 0),T(this,\"wmSequence\",0),T(this,\"inspectInterval\",void 0),T(this,\"inspectTimer\",null),T(this,\"ossFilePrefix\",void 0),T(this,\"extraInfo\",void 0),T(this,\"_inspectType\",void 0),T(this,\"_inspectMode\",void 0),T(this,\"_quality\",1),T(this,\"qualityTimer\",null),T(this,\"_inspectId\",void 0),T(this,\"_needWorkUrlOnly\",!1),T(this,\"inspectImage\",()=>{if(this.connectionState!==Ei.CONNECTED)throw new O(R.OPERATION_ABORTED,\"content inspect service connection status is \".concat(this.connectionState));this.inspectTimer&&(window.clearInterval(this.inspectTimer),this.inspectTimer=null),this.inspectTimer=window.setInterval(()=>{this.connectionState===Ei.CONNECTED?this.requestToInspectImage():_.debug(\"[\".concat(this._inspectId,\"] Inspect State is not connected , \"),this.connectionState);},this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage();}),this._inspectId=Ut(5,\"inspect-\"),this.workerMessageLengthLimit=v(\"VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT\"),this.inspectIntervalMinimum=v(\"VIDEO_INSPECT_INTERVAL_MINIMUM\"),this.qualityRatio=v(\"VIDEO_INSPECT_QUALITY_RATIO\"),this.inspectInterval=e.interval,this.ossFilePrefix=e.ossFilePrefix,this.extraInfo=e.extraInfo,this.inspectType=e.inspectType,this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new Qo(\"worker-manager-\"+this._inspectId,Ee),this.on(we.STATE_CHANGE,(n,i)=>{this._innerConnectionState=n,_.debug(\"[\".concat(this._inspectId,\"] Inspect operation :\").concat(di[n],\" \").concat(i||\"\"));}),this.handleWorkerManagerEvents(),this.workerConnection=new Qo(\"worker-\"+this._inspectId,Ee),this.handleWorkerEvents();}async init(e,n){this.emit(we.STATE_CHANGE,di.CONNECT_AP),this._connectInfo=e;let i=this._cancelTokenSource.token;return this._retryConfig=n,new j((r,o)=>{this.on(we.CONNECTION_STATE_CHANGE,(s,a)=>{a===Ei.CONNECTED&&r();}),this.requestAP(e,i,n).then(s=>{this.connectWorkerManager(s);}).catch(s=>{o(s);});})}async requestAP(e,n,i){let r=v(\"WEBCS_DOMAIN\").map(a=>\"https://\".concat(a,\"/api/v1\")),o=await function(a,c,d,l){let{appId:u,areaCode:h,cname:p,sid:g,token:E,uid:f}=c;Ys++;let S=\"image_moderation_api\",C={service_name:S,json_body:JSON.stringify({appId:u,areaCode:h,cname:p,command:\"allocateEdge\",requestId:Ys,seq:Ys,sid:g,token:E,ts:Date.now(),uid:f+\"\"})},A,b,w=a[0];return Wi(async()=>{A=Date.now();let D=await Hi(w,{data:C,cancelToken:d,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"},params:{action:\"wrtc_gateway\"}});if(b=Date.now()-A,D.code!==0){let z=new O(R.UNEXPECTED_RESPONSE,\"image inspect ap error, code\"+D.code,{retry:!0,responseTime:b});throw _.error(z.toString()),z}let k=JSON.parse(D.json_body);if(k.code!==200){let z=new O(R.UNEXPECTED_RESPONSE,\"image inspect ap error, code: \".concat(k.code,\", reason: \").concat(k.reason),{code:k.code,responseTime:b});throw _.error(z.toString()),z}if(!k.servers||!Array.isArray(k.servers)||k.servers.length===0){let z=new O(R.UNEXPECTED_RESPONSE,\"image inspect ap empty server\",{code:k.code,responseTime:b});throw _.error(z.toString()),z}let B=v(\"VIDEO_INSPECT_WORKER_MANAGER_HOST\"),V=v(\"VIDEO_INSPECT_WORKER_MANAGER_PORT\");return {addressList:k.servers.map(z=>{let{address:lt,wss:vt}=z;if(lt&&vt)return \"wss://\".concat(lt.replace(/\\./g,\"-\"),\".\").concat(B,\":\").concat(V||vt)}).filter(z=>!!z),workerToken:k.workerToken,vid:k.vid,responseTime:b}},(D,k)=>(X.apworkerEvent(g,{success:!0,sc:200,serviceName:S,responseDetail:JSON.stringify(D.addressList),firstSuccess:k===0,responseTime:b,serverIp:a[k%a.length]}),!1),(D,k)=>(X.apworkerEvent(g,{success:!1,sc:D.data&&D.data.code||200,serviceName:S,responseTime:b,serverIp:a[k%a.length]}),!!(D.code!==R.OPERATION_ABORTED&&D.code!==R.UNEXPECTED_RESPONSE||D.data&&D.data.retry)&&(w=a[(k+1)%a.length],!0)),l)}(r,e,n,i);this.emit(we.STATE_CHANGE,di.AP_CONNECTED);let{addressList:s}=o;return this.wmSequence++,s}async connectWorkerManager(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this._needWorkUrlOnly=n,this.emit(we.STATE_CHANGE,di.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(e,1e4);}async connectWorker(e){await this.workerConnection.init([e]);}handleWorkerManagerEvents(){this.workerManagerConnection.on(it.CONNECTED,async()=>{this.emit(we.STATE_CHANGE,di.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+\"\",sdkVersion:\"4.22.0\",sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:\"join\"}},!0);}),this.workerManagerConnection.on(it.CLOSED,()=>{this._innerConnectionState<di.GET_WORKER_MANAGER_RESPONSE&&_.debug(\"[\".concat(this._inspectId,\"] Inspect worker manager is closed before connecting worker\"));}),this.workerManagerConnection.on(it.FAILED,()=>{this._innerConnectionState<di.GET_WORKER_MANAGER_RESPONSE&&_.debug(\"[\".concat(this._inspectId,\"] Connecting inspect worker manager is failed before connecting worker\"));}),this.workerManagerConnection.on(it.RECONNECTING,()=>{this._innerConnectionState<di.GET_WORKER_MANAGER_RESPONSE&&_.debug(\"[\".concat(this._inspectId,\"] Inspect worker manager is reconnecting before connecting worker\"));}),this.workerManagerConnection.on(it.ON_MESSAGE,async e=>{this.emit(we.STATE_CHANGE,di.GET_WORKER_MANAGER_RESPONSE);let n=this.workerManagerConnection.url;this.workerManagerConnection.close();let i=JSON.parse(e.data);if(i.code!==200)throw _.error(\"[\".concat(this._inspectId,\"] Unexpected code \").concat(i.code,\" from worker manager\")),new O(R.UNEXPECTED_RESPONSE,\"response code of worker is unexpected\",i);if(!(i.serverResponse&&i.serverResponse.portWss&&n))throw _.error(\"[\".concat(this._inspectId,\"] Unexpected content from worker manager : \").concat(JSON.stringify(i))),new O(R.UNEXPECTED_RESPONSE,\"response content of worker is unexpected\",i);{let r=v(\"VIDEO_INSPECT_WORKER_PORT\")||i.serverResponse.portWss,o=n.replace(/:\\d+\\/?$/,\":\".concat(r));this.emit(we.STATE_CHANGE,di.CONNECT_WORKER,o),this._needWorkUrlOnly?this.emit(we.REQUEST_NEW_WORKER_URL,o):await this.connectWorker(o);}}),this.workerManagerConnection.on(it.WILL_RECONNECT,(e,n,i)=>{i(e);}),this.workerManagerConnection.on(it.REQUEST_NEW_URLS,(e,n)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(n);});}handleWorkerEvents(){this.workerConnection.on(it.CONNECTED,async()=>{this.emit(we.STATE_CHANGE,di.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=Ei.CONNECTED;}),this.workerConnection.on(it.ON_MESSAGE,async e=>{if(e.data instanceof ArrayBuffer){let i=z3(new Uint8Array(e.data));if(v(\"SHOW_VIDEO_INSPECT_WORKER_MESSAGE\")&&_.debug(\"[\".concat(this._inspectId,\"] Response message for worker of inspect content \"),JSON.stringify(i)),i.code===200){if(Array.isArray(this.inspectType)&&this.inspectType.length===1&&this.inspectType[0]===\"supervise\")return void this.emit(we.INSPECT_RESULT,void 0,void 0);if(i.data&&i.data.scorePorn&&i.data.scoreSexy&&i.data.scoreNeutral){var n;let r={porn:i.data.scorePorn,sexy:i.data.scoreSexy,neutral:i.data.scoreNeutral},o=ji(n=Object.keys(r)).call(n,(a,c)=>r[a]>r[c]?a:c,\"porn\"),s=Object.keys(r).find(a=>a===o);this.emit(we.INSPECT_RESULT,s);}else this.emit(we.INSPECT_RESULT,void 0,new O(R.UNEXPECTED_RESPONSE,i.code+\"\",\"There is an unexpected data on message\"));}else this.emit(we.INSPECT_RESULT,void 0,new O(R.UNEXPECTED_RESPONSE,i.code+\"\",i.msg));}else _.error(\"[\".concat(this._inspectId,\"] Unexpected message type from worker\")),this.emit(we.INSPECT_RESULT,void 0,new O(R.UNEXPECTED_RESPONSE,\"invalid worker message type\"));}),this.workerConnection.on(it.CLOSED,()=>{this.connectionState=Ei.CLOSED;}),this.workerConnection.on(it.FAILED,()=>{this.connectionState=Ei.CLOSED;}),this.workerConnection.on(it.RECONNECTING,()=>{this.connectionState=this.connectionState===Ei.CONNECTED?Ei.RECONNECTING:Ei.CONNECTING;}),this.workerConnection.on(it.WILL_RECONNECT,(e,n,i)=>{e===\"recover\"&&i(e),i(\"tryNext\");}),this.workerConnection.on(it.REQUEST_NEW_URLS,(e,n)=>{this.workerManagerConnection.close(),this.once(we.REQUEST_NEW_WORKER_URL,i=>{e([i]);}),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(i=>{this.connectWorkerManager(i,!0);}).catch(i=>{n(i);});});}async requestToInspectImage(){this.sequence++;let e=ni(this,we.CLIENT_LOCAL_VIDEO_TRACK),n={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void this.emit(we.INSPECT_RESULT,void 0,new O(R.INVALID_OPERATION,\"Only the track being played can be inspected\"));let i=await this.generateRequestData(e,n);this.workerConnection.sendMessage(i,!0,!0);}else this.emit(we.INSPECT_RESULT,void 0,new O(R.INVALID_OPERATION,\"Only the track being published can be inspected\"));}async generateRequestData(e,n){let{appId:i,cname:r,cid:o,vid:s,sid:a,uid:c}=n,d=Date.now(),l=await e.getCurrentFrameImage(\"image/jpeg\",this.quality),u=await QO(l,i,r),h=this.sequence+\"-\"+o+\"-\"+c+\"-\"+d+\"-\"+Ut(12,\"\"),p={appId:i,cid:o,cname:r,deviceId:\"\",elapse:RA(Number(d-this.inspectStartTime)),fileSize:u.byteLength,jpgEncryption:2,height:l.height,width:l.width,jpg:u,networkType:6,osType:7,requestId:h,sdkVersion:\"4.22.0\",sequence:this.sequence,sid:a,timestamp:RA(d),uid:c,vid:s,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};this.extraInfo===void 0&&delete p.callbackData,this.ossFilePrefix===void 0&&delete p.ossFilePrefix;let g=q3(p);if(g.byteLength<this.workerMessageLengthLimit){if(v(\"SHOW_VIDEO_INSPECT_WORKER_MESSAGE\")){let E=function(f){for(var S=1;S<arguments.length;S++){var C=arguments[S]!=null?arguments[S]:{};S%2?SA(Object(C),!0).forEach(function(A){T(f,A,C[A]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(C)):SA(Object(C)).forEach(function(A){Object.defineProperty(f,A,Object.getOwnPropertyDescriptor(C,A));});}return f}({},p);delete E.jpg,_.debug(\"[\".concat(this._inspectId,\"] Request message for worker of inspect content \"),JSON.stringify(E));}return g}{let E=this.quality*this.qualityRatio;return this.quality=E,await this.generateRequestData(e,{appId:i,cname:r,cid:o,vid:s,sid:a,uid:c})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=mn.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=Ei.CLOSED,this.emit(we.STATE_CHANGE,di.CLOSED);}},nH={name:\"ContentInspect\",create:function(t){let{config:e}=t;return function(n){if(!n)throw new O(R.INVALID_PARAMS,\"inspectConfig is necessary.\");if(!n.inspectType||!Array.isArray(n.inspectType))throw new O(R.INVALID_PARAMS,\"inspectConfig.inspectType is necessary and is an instance of Array.\");{let i=[...new Set(n.inspectType)];i.forEach(r=>{var o;if(!W(o=[\"supervise\",\"moderation\"]).call(o,r))throw new O(R.INVALID_PARAMS,\"\".concat(r,\" is not a valid inspect type.\"))}),n.inspectType=i;}if(n&&n.extraInfo&&n.extraInfo.length>1024)throw new O(R.INVALID_PARAMS,\"inspectConfig.extraInfo length cannot exceed 1024 bytes\")}(e),new Im(e)}};Ot(\"PROCESS_ID\",\"process-\".concat(Ut(8,\"\"),\"-\").concat(Ut(4,\"\"),\"-\").concat(Ut(4,\"\"),\"-\").concat(Ut(4,\"\"),\"-\").concat(Ut(12,\"\"))),function(){let t;try{t=window.localStorage.getItem(\"websdk_ng_global_parameter\");}catch(e){return void _.error(\"Error loading sdk config\",e.message)}if(t)try{let e=JSON.parse(window.atob(t)),n=Date.now();_.debug(\"Loading global parameters from cache\",e),Object.keys(e).forEach(i=>{if(Object.prototype.hasOwnProperty.call(oe,i)){let{value:r,expires:o}=e[i];if(o&&o<=n)return;$r[i]=r,oe[i]=r;}});}catch(e){_.error(\"Error loading mutableParamsCache: \".concat(t),e.message);}}(),Array.isArray($r.AREAS)&&$r.AREAS.length>0&&Af($r.AREAS,!0);var CA=(t,e,n)=>{_.debug(\"setParameter key:\".concat(t,\", value:\").concat(JSON.stringify(e))),Ot(t,e,n);};Ba(K3,!1),Ba(Y3,!1),Ba(PW,!1),Ba(nH,!1),Ba(H3,!1);var Mt=function(t){let e=new Xt,n=t,i={getListeners:e.getListeners.bind(e),on:(r,o)=>(function(s,a){s===nr.SECURITY_POLICY_VIOLATION&&L0(a,!0);}(r,o),e.on.bind(e)(r,o)),addListener:e.addListener.bind(e),once:e.once.bind(e),off:e.off.bind(e),removeAllListeners:e.removeAllListeners.bind(e),emit:e.emit.bind(e),safeEmit:e.safeEmit.bind(e)};return Jy(Jy({},n),i)}({__TRACK_LIST__:As,VERSION:ii,BUILD:Ef,ESM_BUNDLER:!1,ESM:!0,UMD:!1,DEV:!1,setParameter:CA,getParameter:v,getSupportedCodec:async function(){let t={audio:[],video:[]};try{let e=new RTCPeerConnection,n=await async function(i){let r;return ft().supportUnifiedPlan?(i.addTransceiver(\"video\",{direction:\"recvonly\"}),i.addTransceiver(\"audio\",{direction:\"recvonly\"}),r=(await i.createOffer()).sdp):r=(await i.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})).sdp,r}(e);if(!n)return t;e.close(),e=null,t=function(i){let r={video:[],audio:[]};return i.match(/ VP8/i)&&r.video.push(\"VP8\"),i.match(/ VP9/i)&&r.video.push(\"VP9\"),i.match(/ AV1/i)&&r.video.push(\"AV1\"),i.match(/ H264/i)&&r.video.push(\"H264\"),i.match(/ H265/i)&&r.video.push(\"H265\"),i.match(/ opus/i)&&r.audio.push(\"OPUS\"),i.match(/ PCMU/i)&&r.audio.push(\"PCMU\"),i.match(/ PCMA/i)&&r.audio.push(\"PCMA\"),i.match(/ G722/i)&&r.audio.push(\"G722\"),r}(n);}catch(e){throw new O(R.CREATE_OFFER_FAILED,e.toString&&e.toString()).print()}return t},checkSystemRequirements:function(){let t=X.reportApiInvoke(null,{name:Te.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:Zt.TRACER}),e=!1;try{let o=window.RTCPeerConnection,s=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,a=window.WebSocket;e=!!(o&&s&&a),e&&lf()&&EO(75)&&new o().close();}catch(o){return _.error(\"check system requirement failed: \",o),!1}let n=!1,i=mt();i.name===It.CHROME&&Number(i.version)>=58&&(Vi.engine.name!==\"WebKit\"||function(){let o=mt();if(Gl()){if(o.os===ye.MAC_OS)return !0;if(o.os===ye.IOS){let s=Vi.os.version&&Vi.os.version.split(\".\");if(s&&Number(s[0])===14&&s[1]&&Number(s[1])>=3||s&&Number(s[0])>14)return !0}}return !1}())&&(n=!0),(i.name===It.FIREFOX&&Number(i.version)>=56||i.name===It.OPERA&&Number(i.version)>=45||i.name===It.SAFARI&&Number(i.version)>=11||i.name===\"WebKit\"&&(ln()||vi())&&i.osVersion&&Number(i.osVersion.split(\".\")[0])>=11||TO()||mt().name===It.QQ)&&(n=!0),_.debug(\"checkSystemRequirements, api:\",e,\"browser\",n);let r=e&&n;return t.onSuccess(r),r},getDevices:function(t){return Gn.enumerateDevices(!0,!0,t)},getMicrophones:function(t){return Gn.getRecordingDevices(t)},getCameras:function(t){return Gn.getCamerasDevices(t)},getElectronScreenSources:KO,getPlaybackDevices:function(t){return Gn.getSpeakers(t)},createClient:function(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{codec:\"vp8\",audioCodec:\"opus\",mode:\"rtc\"},n=X.reportApiInvoke(null,{name:Te.CREATE_CLIENT,options:[e],tag:Zt.TRACER});try{(function(i){Ce(i.codec,\"config.codec\",[\"vp8\",\"vp9\",\"av1\",\"h264\",\"h265\"]),Ce(i.mode,\"config.mode\",[\"rtc\",\"live\",\"p2p\"]),i.audioCodec!==void 0&&Ce(i.audioCodec,\"config.audioCodec\",[\"opus\",\"pcmu\",\"pcma\",\"g722\"]),i.proxyServer!==void 0&&Pe(i.proxyServer,\"config.proxyServer\",1,1e4),i.turnServer!==void 0&&vO(i.turnServer),i.httpRetryConfig!==void 0&&mR(i.httpRetryConfig),i.websocketRetryConfig!==void 0&&mR(i.websocketRetryConfig);})(e);}catch(i){throw n.onError(i),i}return (fO(16,0)||gO(16,0))&&(e.codec===\"vp9\"&&(e.codec=\"vp8\",_.debug(\"browser not support vp9, force use vp8\")),Ot(\"UNSUPPORTED_VIDEO_CODEC\",[\"vp9\"])),e.audioCodec===void 0&&(e.audioCodec=\"opus\"),n.onSuccess(),new kW(xi(xi({forceWaitGatewayResponse:!0},e),{},{role:W(t=[\"rtc\",\"p2p\"]).call(t,e.mode)?\"host\":e.role||\"audience\"}))},createCameraVideoTrack:async function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=v(\"CAMERA_CAPTURE_CONFIG\"),n=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.CREATE_CAM_VIDEO_TRACK,options:[Kt({},t),e]});e&&(t.encoderConfig=e);let i=ru(t),r=Ut(8,\"track-cam-\"),o=null;_.info(\"start create camera video track with config\",JSON.stringify(t),\"trackId\",r);try{o=(await Fn({video:i},r)).getVideoTracks()[0]||null;}catch(a){throw n.onError(a),a}if(!o){let a=new N(R.UNEXPECTED_ERROR,\"can not find track in media stream\");return n.onError(a),a.throw(_)}t.optimizationMode&&c_(r,o,t,cr(t.encoderConfig));let s=new XE(o,t,i,t.scalabiltyMode?Fd(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,r);return n.onSuccess(s.getTrackId()),_.info(\"create camera video success, trackId:\",r),s},createCustomVideoTrack:function(t){let e=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.CREATE_CUSTOM_VIDEO_TRACK,options:[t]}),n=new Ft(t.mediaStreamTrack,{width:t.width,height:t.height,frameRate:t.frameRate,bitrateMax:t.bitrateMax,bitrateMin:t.bitrateMin},t.scalabiltyMode?Fd(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,Ut(8,\"track-cus-\"),[Gt.CUSTOM_TRACK]);return e.onSuccess(n.getTrackId()),_.info(\"create custom video track success with config\",t,\"trackId\",n.getTrackId()),n},createScreenVideoTrack:async function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:\"disable\",n=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.CREATE_SCREEN_VIDEO_TRACK,options:[Kt({},t),e]});t.encoderConfig?typeof t.encoderConfig==\"string\"||t.encoderConfig.width&&t.encoderConfig.height||(t.encoderConfig.width={max:1920},t.encoderConfig.height={max:1080}):t.encoderConfig=\"1080p_2\";let i=function(l){let u={};l.screenSourceType&&(u.mediaSource=l.screenSourceType),l.extensionId&&oo()&&(u.extensionId=l.extensionId);let{displaySurface:h,selfBrowserSurface:p,surfaceSwitching:g,systemAudio:E}=l;(OE(107)||lR(107)||uR(93))&&(h&&(Ce(h,\"displaySurface\",[\"browser\",\"window\",\"monitor\"]),u.displaySurface=h),p?(Ce(p,\"selfBrowserSurface\",[\"exclude\",\"include\"]),u.selfBrowserSurface=p):u.selfBrowserSurface=\"include\",g&&(Ce(g,\"surfaceSwitching\",[\"exclude\",\"include\"]),u.surfaceSwitching=g)),(OE(105)||lR(105)||uR(91))&&E&&(Ce(E,\"systemAudio\",[\"exclude\",\"include\"]),u.systemAudio=E),l.electronScreenSourceId&&(u.sourceId=l.electronScreenSourceId);let f=l.encoderConfig?r_(l.encoderConfig):null;return u.mandatory={chromeMediaSource:\"desktop\",maxWidth:f?f.width:void 0,maxHeight:f?f.height:void 0},f&&(f.frameRate&&(typeof f.frameRate==\"number\"?(u.mandatory.maxFrameRate=f.frameRate,u.mandatory.minFrameRate=f.frameRate):(u.mandatory.maxFrameRate=f.frameRate.max||f.frameRate.ideal||f.frameRate.exact||void 0,u.mandatory.minFrameRate=f.frameRate.min||f.frameRate.ideal||f.frameRate.exact||void 0),u.frameRate=f.frameRate),f.width&&(u.width=f.width),f.height&&(u.height=f.height)),u}(t),r=Ut(8,\"track-scr-v-\"),o=null,s=null,a=ft();if(!a.supportShareAudio&&e===\"enable\"){let l=new N(R.NOT_SUPPORTED,\"your browser or platform is not support share-screen with audio\");return n.onError(l),l.throw(_)}_.info(\"start create screen video track with config\",t,\"withAudio\",e,\"trackId\",r);try{let l=await Fn({screen:i,screenAudio:e===\"auto\"?a.supportShareAudio:e===\"enable\"},r);o=l.getVideoTracks()[0]||null,s=l.getAudioTracks()[0]||null;}catch(l){throw n.onError(l),l}if(!o){let l=new N(R.UNEXPECTED_ERROR,\"can not find track in media stream\");return n.onError(l),l.throw(_)}if(!s&&e===\"enable\"){o&&o.stop();let l=new N(R.SHARE_AUDIO_NOT_ALLOWED);return n.onError(l),l.throw(_)}t.optimizationMode||(t.optimizationMode=\"detail\"),t.optimizationMode&&(c_(r,o,t,t.encoderConfig&&r_(t.encoderConfig)||void 0),t.encoderConfig&&typeof t.encoderConfig!=\"string\"&&(t.encoderConfig.bitrateMin=t.encoderConfig.bitrateMax));let c=new Ft(o,t.encoderConfig?r_(t.encoderConfig):{},t.scalabiltyMode?Fd(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,r,[Gt.SCREEN_TRACK]);if(!s)return n.onSuccess(c.getTrackId()),_.info(\"create screen video track success\",\"video:\",c.getTrackId()),c;let d=new Qt(s,void 0,Ut(8,\"track-scr-a-\"),!1);return n.onSuccess([c.getTrackId(),d.getTrackId()]),_.info(\"create screen video track success\",\"video:\",c.getTrackId(),\"audio:\",d.getTrackId()),[c,d]},createMicrophoneAndCameraTracks:async function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=v(\"CAMERA_CAPTURE_CONFIG\"),i=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.CREATE_MIC_AND_CAM_TRACKS,options:[t,e,n]});n&&(e.encoderConfig=n);let r=ru(e),o=fC(t),s=Ut(8,\"track-mic-\"),a=Ut(8,\"track-cam-\"),c=null,d=null;_.info(\"start create camera video track(\".concat(a,\") and microphone audio track(\").concat(s,\") with config, audio: \").concat(JSON.stringify(t),\", video: \").concat(JSON.stringify(e)));try{let h=await Fn({audio:o,video:r},\"\".concat(s,\"-\").concat(a));c=h.getAudioTracks()[0],d=h.getVideoTracks()[0];}catch(h){throw i.onError(h),h}if(!c||!d){let h=new N(R.UNEXPECTED_ERROR,\"can not find tracks in media stream\");return i.onError(h),h.throw(_)}e.optimizationMode&&c_(a,d,e,cr(e.encoderConfig));let l=new ou(c,t,o,s),u=new XE(d,e,r,e.scalabiltyMode?Fd(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,a);return i.onSuccess([l.getTrackId(),u.getTrackId()]),_.info(\"create camera video track(\".concat(a,\") and microphone audio track(\").concat(s,\") success\")),[l,u]},createMicrophoneAudioTrack:async function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.CREATE_MIC_AUDIO_TRACK,options:[t]}),n=fC(t),i=Ut(8,\"track-mic-\"),r=null;_.info(\"start create microphone audio track with config\",JSON.stringify(t),\"trackId\",i);try{r=(await Fn({audio:n},i)).getAudioTracks()[0]||null;}catch(s){throw e.onError(s),s}if(!r){let s=new N(R.UNEXPECTED_ERROR,\"can not find track in media stream\");return e.onError(s),s.throw(_)}let o=new ou(r,t,n,i);return e.onSuccess(o.getTrackId()),_.info(\"create microphone audio track success, trackId:\",i),o},createCustomAudioTrack:function(t){let e=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.CREATE_CUSTOM_AUDIO_TRACK,options:[t]}),n=new Qt(t.mediaStreamTrack,t.encoderConfig?Jl(t.encoderConfig):{},Ut(8,\"track-cus-\"),!1);return _.info(\"create custom audio track success with config\",t,\"trackId\",n.getTrackId()),e.onSuccess(n.getTrackId()),n},createBufferSourceAudioTrack:async function(t){var e;let{cacheOnlineFile:n,encoderConfig:i}=t,{source:r}=t,o={source:r instanceof AudioBuffer?\"AudioBuffer\":r instanceof File?(e=File.name)!==null&&e!==void 0?e:\"File\":r,cacheOnlineFile:n,encoderConfig:i},s=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.CREATE_BUFFER_AUDIO_TRACK,options:[o]});if(v(\"DISABLE_WEBAUDIO\"))throw new N(R.NOT_SUPPORTED,\"can not create BufferSourceAudioTrack when WebAudio disabled\");let a=Ut(8,\"track-buf-\");_.info(\"start create buffer source audio track with config\",JSON.stringify(o),\"trackId\",a);let c=r;if(!(r instanceof AudioBuffer))try{r=await async function(u,h){let p=null;if(typeof u==\"string\"){let E=eI.get(u);if(E)return _.debug(\"use cached audio resource: \",u),E;try{p=(await Wi(()=>mn.get(u,{responseType:\"arraybuffer\"}),void 0,void 0,{maxRetryCount:3})).data;}catch(f){throw new N(R.FETCH_AUDIO_FILE_FAILED,f.toString())}}else p=await new j((f,S)=>{let C=new FileReader;C.onload=A=>{A.target?f(A.target.result):S(new N(R.READ_LOCAL_AUDIO_FILE_ERROR));},C.onerror=()=>{S(new N(R.READ_LOCAL_AUDIO_FILE_ERROR));},C.readAsArrayBuffer(u);});let g=await function(E){let f=ga();return new j((S,C)=>{f.decodeAudioData(E,A=>{S(A);},A=>{C(new N(R.DECODE_AUDIO_FILE_FAILED,A.toString()));});})}(p);return typeof u==\"string\"&&h&&eI.set(u,g),g}(r,n);}catch(u){return s.onError(u),u.throw(_)}let d=new JE(r),l=new VG(c,d,i?Jl(i):{},a);return _.info(\"create buffer source audio track success, trackId:\",a),s.onSuccess(l.getTrackId()),l},setAppType:function(t){if(_.debug(\"setAppType: \".concat(t)),!(Number.isInteger(t)&&t>=0))throw _.debug(\"Invalid appType\"),new O(R.INVALID_PARAMS,\"invalid app type\",t);Ot(\"APP_TYPE\",Math.floor(t));},setLogLevel:function(t){_.setLogLevel(t);},enableLogUpload:function(){v(\"USE_NEW_LOG\")?Ot(\"UPLOAD_LOG\",!0):_.enableLogUpload();},disableLogUpload:function(){v(\"USE_NEW_LOG\")?Ot(\"UPLOAD_LOG\",!1):_.disableLogUpload();},createChannelMediaRelayConfiguration:function(){return new Eu},checkAudioTrackIsActive:async function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3,n=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[e]});if(!(t instanceof Qt||t instanceof Ks)){let c=new O(R.INVALID_TRACK,\"the parameter is not a audio track\");return n.onError(c),c.throw()}e&&e<1e3&&(e=1e3);let i=t instanceof Qt?t.getTrackLabel():\"remote_track\",r=t.getVolumeLevel(),o=r,s=r,a=Date.now();return new j(c=>{let d=setInterval(()=>{let l=t.getVolumeLevel();o=l>o?l:o,s=l<s?l:s;let u=o-s>1e-4,h=Date.now()-a;if(u||h>e){clearInterval(d);let p=u,g={duration:h,deviceLabel:i,maxVolumeLevel:o,result:p};_.info(\"[track-\".concat(t.getTrackId(),\"] check audio track active completed. \").concat(JSON.stringify(g))),n.onSuccess(g),c(p);}},200);})},checkVideoTrackIsActive:async function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3,n=X.reportApiInvoke(null,{tag:Zt.TRACER,name:Te.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[e]});if(!(t instanceof Ft||t instanceof Hs)){let u=new O(R.INVALID_TRACK,\"the parameter is not a video track\");return n.onError(u),u.throw()}e&&e<1e3&&(e=1e3);let i=t instanceof Ft?t.getTrackLabel():\"remote_track\",r=t.getMediaStreamTrack(!0),o=document.createElement(\"video\");o.style.width=\"1px\",o.style.height=\"1px\",o.setAttribute(\"muted\",\"\"),o.muted=!0,o.setAttribute(\"playsinline\",\"\"),o.controls=!1,(je()||Gl())&&(o.style.opacity=\"0.01\",o.style.position=\"fixed\",o.style.left=\"0\",o.style.top=\"0\",document.body.appendChild(o)),o.srcObject=new MediaStream([r]),o.play();let s=document.createElement(\"canvas\");s.width=160,s.height=120;let a=0,c=0;try{let u=Date.now();a=await function(h,p,g,E){let f,S=0,C=null;return new j((A,b)=>{function w(){S>E&&f&&(f(),A(S));let D=g.getContext(\"2d\");if(!D){let V=new O(R.UNEXPECTED_ERROR,\"can not get canvas 2d context.\");return _.error(V.toString()),void b(V)}D.drawImage(h,0,0,160,120);let k=D.getImageData(0,0,g.width,g.height),B=Math.floor(k.data.length/3);if(C){for(let V=0;V<B;V+=3)if(k.data[V]!==C[V])return S+=1,void(C=k.data);C=k.data;}else C=k.data;}setTimeout(()=>{f&&(f(),A(S));},p),f=Rf(()=>{w();},30);})}(o,e,s,4),c=Date.now()-u;}catch(u){throw n.onError(u),u}gW===It.SAFARI&&(o.pause(),o.remove()),o.srcObject=null;let d=a>4,l={duration:c,changedPicNum:a,deviceLabel:i,result:d};return _.info(\"[track-\".concat(t.getTrackId(),\"] check video track active completed. \").concat(JSON.stringify(l))),n.onSuccess(l),d},setArea:Af,audioElementPlayCenter:En,resumeAudioContext:function(){En.autoResumeAfterInterruption(!0);},processExternalMediaAEC:function(t){MW.processExternalMediaAEC(t);},registerExtensions:function(t){let e=v(\"PLUGIN_INFO\")||[];t.forEach(n=>{\"name\"in n&&!W(e).call(e,n.name)&&e.push(n.name);let i=n;i.__registered__=!0,i.logger.hookLog=_.extLog,i.reporter.hookApiInvoke=X.extApiInvoke,i.parameters&&Object.keys(i.parameters).forEach(r=>{i.parameters[r]=v(r);});}),CA(\"PLUGIN_INFO\",e);},ChannelMediaRelayError:ys,ChannelMediaRelayEvent:Ir,ChannelMediaRelayState:Sn,RemoteStreamFallbackType:PG,RemoteStreamType:DG,ConnectionDisconnectedReason:At,AudienceLatencyLevelType:EB,AREAS:St,preload:async function(t,e,n,i){return y0(t,e,n,i)}});Object.defineProperties(Mt,{onAudioAutoplayFailed:{get:()=>Un.onAudioAutoplayFailed,set:t=>{Un.onAudioAutoplayFailed=t;}},onAutoplayFailed:{get:()=>Un.onAutoplayFailed,set:t=>{Un.onAutoplayFailed=t;}},_onSecurityPolicyViolation:{value:void 0,writable:!0},_cspEventHandlerPointer:{value:void 0,writable:!0},onSecurityPolicyViolation:{get:()=>Mt._onSecurityPolicyViolation,set(t){Mt._onSecurityPolicyViolation=t,L0(t);}},__CLIENT_LIST__:{get:()=>v(\"SHOW_GLOBAL_CLIENT_LIST\")?Jr:[]}}),Gn.on(Bo.CAMERA_DEVICE_CHANGED,t=>{_.info(\"camera device changed\",JSON.stringify(t)),Mt.onCameraChanged&&Mt.onCameraChanged(t),Mt.safeEmit(nr.CAMERA_CHANGED,t);}),Gn.on(Bo.RECORDING_DEVICE_CHANGED,t=>{_.info(\"microphone device changed\",JSON.stringify(t)),Mt.onMicrophoneChanged&&Mt.onMicrophoneChanged(t),Mt.safeEmit(nr.MICROPHONE_CHANGED,t);}),Gn.on(Bo.PLAYOUT_DEVICE_CHANGED,t=>{_.debug(\"playout device changed\",JSON.stringify(t)),Mt.onPlaybackDeviceChanged&&Mt.onPlaybackDeviceChanged(t),Mt.safeEmit(nr.PLAYBACK_DEVICE_CHANGED,t);}),En.onAutoplayFailed=()=>{_.info(\"detect audio element autoplay failed\"),Un.onAudioAutoplayFailed&&Un.onAudioAutoplayFailed();},wt.on(\"autoplay-failed\",()=>{_.info(\"detect webaudio autoplay failed\"),Un.onAudioAutoplayFailed&&Un.onAudioAutoplayFailed(),Mt.safeEmit(nr.AUTOPLAY_FAILED);}),wt.on(ke.STATE_CHANGE,(t,e)=>{_.info(\"audio context state changed: \".concat(e,\" => \").concat(t)),Mt.onAudioContextStateChanged&&Mt.onAudioContextStateChanged(t,e),Mt.safeEmit(nr.AUDIO_CONTEXT_STATE_CHANGED,t,e);}),he.on(ks.NETWORK_STATE_CHANGE,(t,e)=>{_.info(\"[network-indicator] network state changed, \".concat(e,\" => \").concat(t));}),window&&(window.__ARTC__=Mt);function Ae(t,e,n){return t.on(e,n),()=>t.off(e,n)}function iH(t){try{return t()}catch(e){console.error(e);}}function Kn(t){return ()=>t.forEach(iH)}function cN(t,e){let n=setInterval(t,e);return ()=>clearInterval(n)}function So(t,e){let n=setTimeout(t,e);return ()=>clearTimeout(n)}function Ia(){let t,e,n;function i(){if(e){let d=e;e=void 0,d();}}async function r(){if(n){let d=n;n=void 0;try{await d();}catch(l){console.error(l);}}}async function o(d){t=!0,await r();try{n=await d();}catch(l){console.error(l);}t=!1,i();}async function s(){t=!0,await r(),t=!1,i();}function a(d){t?e=()=>o(d):o(d);}function c(){t?e=s:s();}return {run:a,dispose:c}}var va=typeof document<\"u\"?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect;function aH(t){return t!=null&&typeof t.then==\"function\"}function Pn(){let t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1);return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>(t.current=!1,()=>{t.current=!0;}),[]),t}function cH(){let t=Pn();function e(n,i){return new Promise(async(r,o)=>{try{let s=await n;t.current||r(s);}catch(s){t.current?i?i(s): true&&console.error(\"An error occurs from a promise after a component is unmounted\",s):o(s);}})}return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(e,[t])}function ih(t){let e=cH(),[n,i]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();return va(()=>{aH(t)?e(t).then(i):i(t);},[t,e]),n}function Yn(t,e){let n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{let{run:i,dispose:r}=n.current||=Ia();return i(t),r},e);}function lN(t,e){let n=t.split(\".\"),i=e.split(\".\"),r=Math.max(n.length,i.length);for(let o=0;o<r;o++){let s=parseInt(n[o]||\"0\"),a=parseInt(i[o]||\"0\");if(s>a)return 1;if(s<a)return -1}return 0}function j5(t,e,n){let i=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(n);va(()=>{i.current=n;},[n]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(t)return Ae(t,e,(...r)=>{i.current&&i.current(...r);})},[e,t]);}function G5(t,e,n){let i=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(n);va(()=>{i.current=n;},[n]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(t)return Ae(t,e,(...r)=>{i.current&&i.current(...r);})},[e,t]);}var pN=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);function K5({client:t,children:e}){return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(pN.Provider,{value:t,children:e})}function uH(t){let e=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(pN);return t||e}function Ze(t){let e=uH(t);if(!e)throw new Error(\"Agora RTC client not found. Should be wrapped in <AgoraRTCProvider value={client} />\");return e}var _N=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);function J5({client:t,children:e}){return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_N.Provider,{value:t,children:e})}function X5(t){let e=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_N);return t||e}function i4(t){let e=Ze(t),[n,i]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(e?e.connectionState:\"DISCONNECTED\");return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(e){i(e.connectionState);let r;return Kn([Ae(e,\"connection-state-change\",o=>{r?.(),o===\"CONNECTED\"?r=So(()=>i(o),0):i(o);}),()=>r?.()])}else i(\"DISCONNECTED\");},[e]),n}function In(t){let e=Ze(t),[n,i]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(e?e.connectionState===\"CONNECTED\":!1);return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(e){i(e.connectionState===\"CONNECTED\");let r;return Kn([Ae(e,\"connection-state-change\",o=>{r?.(),r=So(()=>i(o===\"CONNECTED\"),0);}),()=>r?.()])}else i(!1);},[e]),n}function _4(t){let e=Ze(t),[n,i]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(e?.uid);return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(e)return Ae(e,\"connection-state-change\",r=>{if(r===\"CONNECTED\")return So(()=>i(e.uid),0);r===\"DISCONNECTED\"&&i(void 0);})},[e]),n}var Oe=class extends Error{rtcMethod;rtcError;name=\"AgoraRTCReactException\";constructor(e,n){typeof n==\"string\"?super(n):super(n.message),this.rtcMethod=e,this.rtcError=n;}log(e){console[e](this);}};function I4(t,e=!0,n){let i=Ze(n),r=In(n),o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),[s,a]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[c,d]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),[l,u]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),h=Pn();return Yn(async()=>{if(h.current||(u(null),d(0),a(!1)),e&&i){try{h.current||a(!0);let{appid:g,channel:E,token:f,uid:S}=typeof t==\"function\"?await t():t,C=await i.join(g,E,f,S);h.current||d(C);}catch(g){console.error(g),h.current||u(new Oe(\"IAgoraRTCClient.join\",g));}h.current||a(!1);let p=o.current||=Ia();return Kn([()=>{p.dispose();},()=>{p.run(()=>i.unpublish(i.localTracks));},()=>{for(let g of i.localTracks)g.isPlaying&&g.stop(),g.close();p.run(()=>i.leave());}])}},[e,n]),{data:c,isLoading:s,isConnected:r,error:l}}var EN=()=>({uplinkNetworkQuality:0,downlinkNetworkQuality:0,delay:0});function w4(t){let e=Ze(t),[n,i]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(EN);return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(e)return Ae(e,\"network-quality\",r=>i({uplinkNetworkQuality:r.uplinkNetworkQuality,downlinkNetworkQuality:r.downlinkNetworkQuality,delay:e.getRTCStats().RTT??0}));i(EN());},[e]),n}function U4(t,e=!0,n){let i=Ze(n),r=In(n),o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]),[s,a]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[c,d]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),l=Pn();return Yn(async()=>{if(l.current||(a(!1),d(null)),!i||!r||!e)return;let u=t.filter(Boolean),h=E=>{let f=lN(Mt.VERSION,\"4.18.2\")>=0;return f||new Oe(\"usePublish\",\"please check your agora-rtc-sdk-ng version in package.json, it's recommend upgrade to >= 4.18.2\").log(\"warn\"),f?i.mode!==\"live\"||i.role!==\"audience\":!0},p=E=>o.current.some(f=>f&&f.getTrackId()===E.getTrackId()),g=E=>h()&&E.enabled&&e&&!p(E);for(let E=0;E<u.length;E++){let f=u[E];if(f&&g(f)){await i.unpublish(o.current.filter(S=>S?.trackMediaType===f.trackMediaType));try{l.current||a(!0),await i.publish(f);}catch(S){console.error(S),l.current||d(new Oe(\"IAgoraRTCClient.publish\",S));}l.current||a(!1);}}o.current=u;},[r,e,i,t]),{isLoading:s,error:c}}function B4(t){let[e,n]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(t)return cN(()=>{n(t.getVolumeLevel());},1e3)},[t]),e}function q4(t=!0,e={ANS:!0,AEC:!0},n){let i=In(n),[r,o]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[s,a]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[c,d]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),l=Pn();return Yn(async()=>{if(l.current||(a(!1),d(null)),i&&t&&!r){try{l.current||a(!0);let u=await Mt.createMicrophoneAudioTrack(e);l.current||o(u);}catch(u){console.error(u),l.current||d(new Oe(\"IAgoraRTC.createMicrophoneAudioTrack\",u));}l.current||a(!1);}!i&&!l.current&&o(null);},[i,t]),{localMicrophoneTrack:r,isLoading:s,error:c}}function tK(t=!0,e,n){let i=In(n),[r,o]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[s,a]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[c,d]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),l=Pn();return Yn(async()=>{if(l.current||(a(!1),d(null)),i&&t&&!r){try{l.current||a(!0);let u=await Mt.createCameraVideoTrack(e);l.current||o(u);}catch(u){console.error(u),l.current||d(new Oe(\"IAgoraRTC.createCameraVideoTrack\",u));}l.current||a(!1);}!i&&!l.current&&o(null);},[i,t]),{localCameraTrack:r,isLoading:s,error:c}}function dK(t,e){let n=Ze(e),[i,r]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),o=In(),s=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]),[a,c]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[d,l]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),u=Pn();return Yn(async()=>{if(u.current||l(null),!Array.isArray(t)||!o)return;let h=async E=>{if(!E.audioTrack&&t.some(({uid:f})=>E.uid===f)){try{u.current||c(!0),await n.subscribe(E,\"audio\");}catch(f){console.error(f),u.current||l(new Oe(\"IAgoraRTCClient.subscribe\",f));}E.audioTrack&&!s.current.some(f=>f.getUserId()===E.uid)&&s.current.push(E.audioTrack),s.current=s.current.map(f=>E.audioTrack&&f.getUserId()===E.uid&&f.getTrackId()!==E.audioTrack.getTrackId()?E.audioTrack:f),u.current||(r([...s.current]),c(!1));}},p=async E=>{if(t.some(({uid:f})=>E.uid===f)){u.current||(s.current=s.current.filter(f=>f.getUserId()!==E.uid),r([...s.current]));try{u.current||c(!0),await n.unsubscribe(E,\"audio\");}catch(f){console.error(f),u.current||l(new Oe(\"IAgoraRTCClient.unsubscribe\",f));}u.current||c(!1);}};t.map(E=>{!E.audioTrack&&E.hasAudio&&h(E);});let g=[];for(let E=0;E<s.current.length;E++){let f=s.current[E];if(!t.some(S=>S.uid===f.getUserId())){let S=n.remoteUsers.find(C=>C.uid===f.getUserId());S&&g.push({user:S,mediaType:\"audio\"}),s.current.splice(E,1),E--;}}if(g.length>0){try{u.current||c(!0),await n.massUnsubscribe(g);}catch(E){console.error(E),u.current||l(new Oe(\"IAgoraRTCClient.massUnsubscribe\",E));}u.current||(r(s.current.slice()),c(!1));}return Kn([Ae(n,\"user-published\",(E,f)=>{t.find(S=>S.uid===E.uid)&&f===\"audio\"&&h(E);}),Ae(n,\"user-unpublished\",(E,f)=>{t.find(S=>S.uid===E.uid)&&f===\"audio\"&&p(E);})])},[o,n,t]),{audioTracks:i,isLoading:a,error:d}}function gK(t,e){let n=Ze(e),[i,r]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),o=In(),s=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]),[a,c]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[d,l]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),u=Pn();return Yn(async()=>{if(u.current||l(null),!Array.isArray(t)||!o)return;let h=async E=>{if(!E.videoTrack&&t.some(({uid:f})=>E.uid===f)){try{u.current||c(!0),await n.subscribe(E,\"video\");}catch(f){console.error(f),u.current||l(new Oe(\"IAgoraRTCClient.subscribe\",f));}E.videoTrack&&!s.current.some(f=>f.getUserId()===E.uid)&&s.current.push(E.videoTrack),s.current=s.current.map(f=>E.videoTrack&&f.getUserId()===E.uid&&f.getTrackId()!==E.videoTrack.getTrackId()?E.videoTrack:f),u.current||(r([...s.current]),c(!1));}},p=async E=>{if(t.some(({uid:f})=>E.uid===f)){u.current||(s.current=s.current.filter(f=>f.getUserId()!==E.uid),r([...s.current]));try{u.current||c(!0),await n.unsubscribe(E,\"video\");}catch(f){console.error(f),u.current||l(new Oe(\"IAgoraRTCClient.unsubscribe\",f));}u.current||c(!1);}};t.map(E=>{!E.videoTrack&&E.hasVideo&&h(E);});let g=[];for(let E=0;E<s.current.length;E++){let f=s.current[E];if(!t.some(S=>S.uid===f.getUserId())){let S=n.remoteUsers.find(C=>C.uid===f.getUserId());S&&g.push({user:S,mediaType:\"video\"}),s.current.splice(E,1),E--;}}if(g.length>0){try{u.current||c(!0),await n.massUnsubscribe(g);}catch(E){console.error(E),u.current||l(new Oe(\"IAgoraRTCClient.massUnsubscribe\",E));}u.current||(r(s.current.slice()),c(!1));}return Kn([Ae(n,\"user-published\",(E,f)=>{t.find(S=>S.uid===E.uid)&&f===\"video\"&&h(E);}),Ae(n,\"user-unpublished\",(E,f)=>{t.find(S=>S.uid===E.uid)&&f===\"video\"&&p(E);})])},[o,n,t]),{videoTracks:i,isLoading:a,error:d}}function Wf(t,e,n){let i=Ze(n),r=e===\"audio\"?\"audioTrack\":\"videoTrack\",[o,s]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(t&&t[r]),a=In(),c=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),[d,l]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[u,h]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(!t||!a)return;let p=!1;p||h(null);let g=e===\"audio\"?\"hasAudio\":\"hasVideo\",E=t.uid,f=async(A,b)=>{if(A[r]&&i.remoteUsers.some(({uid:w})=>A.uid===w))try{p||l(!0),await i.unsubscribe(A,b);}catch(w){p||h(new Oe(\"IAgoraRTCClient.unsubscribe\",w)),console.error(w);}p||(s(void 0),l(!1));},S=async(A,b)=>{try{!A[r]&&i.remoteUsers.some(({uid:w})=>A.uid===w)&&(p||l(!0),await i.subscribe(A,b)),p||s(A[r]);}catch(w){p||h(new Oe(\"IAgoraRTCClient.subscribe\",w)),console.error(w);}p||l(!1);},C=c.current||=Ia();return !t[r]&&t[g]?C.run(()=>S(t,e)):s(t[r]),Kn([()=>{p=!0,C.dispose();},Ae(i,\"user-published\",(A,b)=>{A.uid===E&&b===e&&C.run(()=>S(A,e));}),Ae(i,\"user-unpublished\",(A,b)=>{A.uid===E&&b===e&&C.run(()=>f(A,e));})])},[a,i,t,e,r]),{track:o,isLoading:d,error:u}}function DK(t){let e=Ze(t),[n,i]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(e?e.remoteUsers:[]);return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(e){let r=()=>i(e.remoteUsers.slice());return Kn([Ae(e,\"user-joined\",r),Ae(e,\"user-left\",r),Ae(e,\"user-published\",r),Ae(e,\"user-unpublished\",r)])}},[e]),n}function VK(t=!0,e,n,i){let r=In(i),[o,s]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[a,c]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[d,l]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),u=Pn();return Yn(async()=>{if(u.current||(c(!1),l(null)),r&&t&&!o){try{u.current||c(!0);let h=await Mt.createScreenVideoTrack(e,n);u.current||s(h);}catch(h){console.error(h),u.current||l(new Oe(\"IAgoraRTC.createScreenVideoTrack\",h));}u.current||c(!1);}(!r||!t)&&!u.current&&s(null);},[r,t]),{screenTrack:o,isLoading:a,error:d}}function UH(){let t=new Map,e=1500;return {onMount:n=>{let i=t.get(n);i&&(i(),t.delete(n));},onUnmount:n=>{let i=t.get(n);i&&i(),t.set(n,So(()=>{n.isPlaying&&n.stop(),t.delete(n);},e));},dispose:()=>{for(let[n,i]of t)n.isPlaying&&n.stop(),i&&i();t.clear();}}}var Kf=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0);function WK({children:t}){let[e]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(UH);return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>e.dispose,[e]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Kf.Provider,{value:e,children:t})}function rh(t,e,n,i){let r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Kf);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(t)return i&&e?t.play(i,n||void 0):t.stop(),r?(r.onMount(t),()=>r.onUnmount(t)):()=>{t.isPlaying&&t.stop();}},[t,i,e,r,n]);}function oh(t,e){let n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Kf);va(()=>{if(t)return e?t.play():t.stop(),n?(n.onMount(t),()=>n.onUnmount(t)):()=>{t.isPlaying&&t.stop();}},[t,e,n]);}function TN({track:t,play:e=!1,volume:n,disabled:i,muted:r,children:o}){let s=ih(t);return oh(s,e),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{s&&n!=null&&s.setVolume(n);},[s,n]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{s&&i!=null&&s.setEnabled(!i).catch(console.warn);},[i,s]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{s&&r!=null&&s.setMuted(r).catch(console.warn);},[r,s]),o?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:o}):null}var sh={position:\"relative\",width:\"100%\",height:\"100%\",overflow:\"hidden\",background:\"#000\"},ah={width:\"100%\",height:\"100%\"},ya={position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\",overflow:\"hidden\",zIndex:2},Ro=(t,e)=>(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({...t,...e}),[t,e]);function RN({track:t,play:e,disabled:n,muted:i,style:r,videoPlayerConfig:o,...s}){let a=Ro(ah,r),[c,d]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),l=ih(t);return rh(l,e,o,c),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{l&&n!=null&&l.setEnabled(!n).catch(console.warn);},[n,l]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{l&&i!=null&&l.setMuted(i).catch(console.warn);},[i,l]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{...s,ref:d,style:a})}var WH={width:\"100%\",height:\"100%\",background:\"#1a1e21 center/cover no-repeat\",filter:\"blur(16px) brightness(0.4)\"},HH={position:\"absolute\",top:\"50%\",left:\"50%\",maxWidth:\"50%\",maxHeight:\"50%\",aspectRatio:\"1\",transform:\"translate(-50%, -50%)\",borderRadius:\"50%\",overflow:\"hidden\",objectFit:\"cover\"};function ch({cover:t}){return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{style:ya,children:typeof t==\"string\"?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{style:{...WH,backgroundImage:`url(${t})`}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"img\",{src:t,style:HH})]}):t()})}function h6({micOn:t,cameraOn:e,audioTrack:n,videoTrack:i,playAudio:r,playVideo:o,volume:s,cover:a,children:c,style:d,...l}){let u=Ro(sh,d);return o=o??!!e,r=r??!!t,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\",{...l,style:u,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(RN,{disabled:!e,play:o,track:i}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(TN,{disabled:!t,play:r,track:n,volume:s}),a&&!e&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ch,{cover:a}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{style:ya,children:c})]})}function IN({track:t,play:e=!1,playbackDeviceId:n,volume:i,children:r}){return oh(t,e),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{t&&n!=null&&t.setPlaybackDevice(n).catch(console.warn);},[t,n]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{t&&i!=null&&t.setVolume(i);},[t,i]),r?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:r}):null}function vN({track:t,play:e,style:n,videoPlayerConfig:i,...r}){let o=Ro(ah,n),[s,a]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);return rh(t,e,i,s),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{...r,ref:a,style:o})}function O6({user:t,playVideo:e,playAudio:n,playbackDeviceId:i,volume:r,cover:o,style:s,children:a,videoPlayerConfig:c,...d}){let l=Ro(sh,s),{track:u}=Wf(t,\"video\"),{track:h}=Wf(t,\"audio\");return e=e??t?.hasVideo,n=n??t?.hasAudio,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\",{...d,style:l,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(vN,{play:e,track:u,videoPlayerConfig:c}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(IN,{play:n,playbackDeviceId:i,track:h,volume:r}),o&&!e&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ch,{cover:o}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{style:ya,children:a})]})}var zf=class{appType=1001;constructor(){Mt.setAppType(this.appType);}};new zf;var k6=\"2.3.0\";var U6=Mt;/*! Bundled license information:\n\nagora-rtc-sdk-ng/AgoraRTC_N-production.esm.mjs:\n  (*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> *)\n*/\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYWdvcmEtcnRjLXJlYWN0L2Rpc3QvYWdvcmEtcnRjLXJlYWN0Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNIO0FBQzlEOztBQUV4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQiw2QkFBNkIsNkVBQTZFLDZCQUE2QiwyQ0FBMkMsbUNBQW1DLDZCQUE2QixhQUFhLElBQUksR0FBRyxtQkFBbUIsa0hBQWtILGVBQWUsc0ZBQXNGLG1CQUFtQixJQUFJLGFBQWEsTUFBTSxXQUFXLG1CQUFtQixrQkFBa0IsUUFBUSwyREFBMkQseUZBQXlGLGtCQUFrQiw4QkFBOEIsU0FBUywrQkFBK0IsMEJBQTBCLCtKQUErSixZQUFZLDRKQUE0Siw4QkFBOEIsZ0JBQWdCLDBDQUEwQyxzQkFBc0IsNEJBQTRCLG1DQUFtQyxnREFBZ0QsMkNBQTJDLHdDQUF3QyxvQ0FBb0MsYUFBYSw0QkFBNEIsTUFBTSxtQkFBbUIsK0JBQStCLElBQUksZUFBZSxVQUFVLFFBQVEsZ0VBQWdFLDhCQUE4QixNQUFNLE1BQU0sMEVBQTBFLElBQUksSUFBSSxvQkFBb0IsaUJBQWlCLHlCQUF5QixJQUFJLDJCQUEyQixRQUFRLCtEQUErRCx3REFBd0Qsd0NBQXdDLGNBQWMsc0NBQXNDLG1CQUFtQixlQUFlLG1DQUFtQyw2Q0FBNkMsU0FBUyw0QkFBNEIsaUJBQWlCLDhDQUE4QyxpREFBaUQsYUFBYSx5Q0FBeUMsTUFBTSxrQ0FBa0Msc0JBQXNCLGtCQUFrQixnRkFBZ0YsK0lBQStJLDRKQUE0SixxRkFBcUYsZUFBZSxzRUFBc0Usc0dBQXNHLDBCQUEwQixhQUFhLG1CQUFtQixvQ0FBb0MsMEJBQTBCLElBQUksYUFBYSxNQUFNLGlCQUFpQix5Q0FBeUMsa0JBQWtCLHFDQUFxQyw4QkFBOEIsV0FBVywwQkFBMEIsb0NBQW9DLFdBQVcsaURBQWlELElBQUksU0FBUyxvQ0FBb0MsR0FBRyxNQUFNLFNBQVMsU0FBUyw0Q0FBNEMsUUFBUSwwQkFBMEIsb0NBQW9DLEVBQUUsdUJBQXVCLHNNQUFzTSxFQUFFLGlEQUFpRCxpQkFBaUIsZUFBZSxpREFBaUQsbUJBQW1CLCtEQUErRCx1REFBdUQsa0hBQWtILGtFQUFrRSwwQ0FBMEMsUUFBUSw0RkFBNEYsb0RBQW9ELG9EQUFvRCwwQkFBMEIsaUJBQWlCLE1BQU0sc0NBQXNDLG9EQUFvRCxlQUFlLHNCQUFzQixxQkFBcUIsb0JBQW9CLHFFQUFxRSxpQ0FBaUMsOEJBQThCLDRDQUE0QyxlQUFlLFVBQVUsT0FBTyxxRkFBcUYseUJBQXlCLDBCQUEwQixlQUFlLE9BQU8sMENBQTBDLHNEQUFzRCxnQkFBZ0IsdUNBQXVDLDZCQUE2QiwrQ0FBK0MsY0FBYyx1RkFBdUYsZ0RBQWdELDZCQUE2QixNQUFNLHNCQUFzQix5Q0FBeUMsY0FBYyxxQkFBcUIsZ0JBQWdCLDhDQUE4QyxrQkFBa0Isb0NBQW9DLHdKQUF3SiwyQkFBMkIsNEZBQTRGLGNBQWMsMkJBQTJCLDRFQUE0RSxHQUFHLGlCQUFpQixvQkFBb0IsOEJBQThCLGlCQUFpQixPQUFPLDREQUE0RCxzQ0FBc0Msc0NBQXNDLHlCQUF5QixpQkFBaUIsZ0JBQWdCLDhFQUE4RSxzQkFBc0Isc0JBQXNCLHlCQUF5QixvQkFBb0IsdUJBQXVCLHlCQUF5QixvQkFBb0IsNkJBQTZCLGlDQUFpQyxrQkFBa0Isd0ZBQXdGLG9DQUFvQyxtQkFBbUIsb1RBQW9ULG9EQUFvRCx1REFBdUQsU0FBUyxzQkFBc0Isc0JBQXNCLFNBQVMsMkJBQTJCLGdEQUFnRCxZQUFZLDZCQUE2QixrQ0FBa0Msd0NBQXdDLHNCQUFzQixvQkFBb0Isa0NBQWtDLHVCQUF1QixnQ0FBZ0MsWUFBWSxLQUFLLElBQUksNEJBQTRCLFVBQVUsSUFBSSw0Q0FBNEMsZUFBZSxLQUFLLCtCQUErQixnQkFBZ0IsSUFBSSw2Q0FBNkMsNEJBQTRCLEVBQUUsRUFBRSxxQkFBcUIsMERBQTBELEVBQUUseUJBQXlCLHlCQUF5QixtRUFBbUUsTUFBTSx1REFBdUQsMEJBQTBCLDBCQUEwQixtR0FBbUcsaUJBQWlCLHNDQUFzQyxVQUFVLHFFQUFxRSxJQUFJLFlBQVksUUFBUSxtRkFBbUYsZ0NBQWdDLGlGQUFpRixhQUFhLHFDQUFxQyxtRUFBbUUsU0FBUyw0QkFBNEIsVUFBVSxJQUFJLGFBQWEsTUFBTSxJQUFJLDRCQUE0QixRQUFRLFVBQVUsbUJBQW1CLElBQUksZ0RBQWdELEVBQUUscUJBQXFCLDZFQUE2RSxFQUFFLHFHQUFxRyxpQkFBaUIsdUdBQXVHLDhEQUE4RCx5QkFBeUIsTUFBTSwrQ0FBK0MsYUFBYSxFQUFFLFdBQVcsWUFBWSxNQUFNLDJFQUEyRSxLQUFLLFdBQVcsK0JBQStCLFVBQVUsS0FBSyx5QkFBeUIsd0JBQXdCLFlBQVksMEJBQTBCLDBCQUEwQixTQUFTLEtBQUssRUFBRSwwREFBMEQsSUFBSSxnRUFBZ0UsRUFBRSxtQkFBbUIsdUJBQXVCLDZDQUE2QyxFQUFFLHdFQUF3RSxlQUFlLDRDQUE0Qyw2QkFBNkIsbUJBQW1CLGlCQUFpQix5Q0FBeUMsbUJBQW1CLCtCQUErQix5REFBeUQsaUNBQWlDLHdDQUF3QyxVQUFVLFdBQVcsMkNBQTJDLHdDQUF3QyxnR0FBZ0csNEJBQTRCLG9DQUFvQyw2RUFBNkUsNERBQTRELCtCQUErQiwwS0FBMEssaUNBQWlDLE1BQU0scUJBQXFCLFFBQVEsNkhBQTZILCtCQUErQixHQUFHLGVBQWUsK0pBQStKLGVBQWUsK0pBQStKLGNBQWMsNEJBQTRCLGFBQWEsMkZBQTJGLGlCQUFpQixpRUFBaUUsZUFBZSw2REFBNkQsZUFBZSxNQUFNLHVEQUF1RCw2REFBNkQsd0NBQXdDLE1BQU0sRUFBRSxHQUFHLElBQUksbUJBQW1CLDJEQUEyRCx5RUFBeUUsa0JBQWtCLEdBQUcsSUFBSSxtQkFBbUIsK0NBQStDLHFCQUFxQixTQUFTLHFCQUFxQix1REFBdUQsZ0JBQWdCLGNBQWMseUNBQXlDLEdBQUcsSUFBSSx1Q0FBdUMsNEJBQTRCLG1CQUFtQixjQUFjLCtFQUErRSwwR0FBMEcsWUFBWSx5QkFBeUIsb0JBQW9CLGlFQUFpRSw2REFBNkQsSUFBSSx1REFBdUQsUUFBUSxzQkFBc0Isc0NBQXNDLCtDQUErQywyQ0FBMkMsWUFBWSxnQkFBZ0IsSUFBSSx1RUFBdUUsT0FBTyxxQkFBcUIsNkNBQTZDLGdCQUFnQixNQUFNLGlFQUFpRSx1QkFBdUIsdUNBQXVDLEtBQUssV0FBVyxxQ0FBcUMsU0FBUywySkFBMkosNkNBQTZDLGlCQUFpQixVQUFVLGtDQUFrQyxxRkFBcUYseUJBQXlCLHNCQUFzQiw4QkFBOEIseUNBQXlDLGdCQUFnQixxQ0FBcUMsbURBQW1ELE1BQU0seUNBQXlDLElBQUksdUJBQXVCLFVBQVUsMklBQTJJLGdCQUFnQixnQ0FBZ0MsZ0JBQWdCLDBCQUEwQiw0QkFBNEIsZ0JBQWdCLGVBQWUsSUFBSSxrQ0FBa0MsT0FBTyxVQUFVLHNPQUFzTyxvQkFBb0IsSUFBSSxzQkFBc0IsYUFBYSxVQUFVLG9DQUFvQyxNQUFNLDBGQUEwRix1SUFBdUksaUJBQWlCLDhFQUE4RSx5QkFBeUIsc0RBQXNELElBQUksZUFBZSxTQUFTLHVDQUF1QywyREFBMkQsOENBQThDLDBEQUEwRCx5REFBeUQsNkRBQTZELGlDQUFpQyw0QkFBNEIsbUNBQW1DLHNDQUFzQyxRQUFRLE1BQU0sSUFBSSx3QkFBd0IsdUJBQXVCLFNBQVMsV0FBVyxTQUFTLFVBQVUsdUJBQXVCLGFBQWEsZUFBZSwyRkFBMkYsOEJBQThCLG9DQUFvQyxtSkFBbUosd0NBQXdDLGVBQWUsOERBQThELGtCQUFrQixjQUFjLE1BQU0saURBQWlELFVBQVUsZ0JBQWdCLElBQUksc0NBQXNDLGtCQUFrQixXQUFXLHNCQUFzQixrQkFBa0IsRUFBRSxJQUFJLGNBQWMsU0FBUyxpQkFBaUIsNENBQTRDLGtCQUFrQixrREFBa0Qsa0NBQWtDLFdBQVcsS0FBSyxXQUFXLHFDQUFxQyxvQ0FBb0MsMkNBQTJDLHNCQUFzQix3Q0FBd0Msd0JBQXdCLGdEQUFnRCwyREFBMkQsb0JBQW9CLDJKQUEySixTQUFTLGdCQUFnQixPQUFPLHNCQUFzQix1QkFBdUIsUUFBUSxFQUFFLHFDQUFxQyxrRUFBa0UsRUFBRSxJQUFJLGlDQUFpQyxFQUFFLGtCQUFrQixFQUFFLG1MQUFtTCx3R0FBd0csMEJBQTBCLGdDQUFnQyxnQkFBZ0IscUJBQXFCLGdCQUFnQixpQkFBaUIsNkNBQTZDLHlCQUF5QiwrQkFBK0IsZ0JBQWdCLHlCQUF5QixnQkFBZ0IsZ0JBQWdCLEVBQUUsdUJBQXVCLHlDQUF5QywwQkFBMEIsRUFBRSx1QkFBdUIsbUJBQW1CLE1BQU0sZ0ZBQWdGLFdBQVcsK0ZBQStGLGlDQUFpQywyRUFBMkUsNEJBQTRCLDBDQUEwQyw2REFBNkQsb0ZBQW9GLDhCQUE4QixTQUFTLDBCQUEwQixFQUFFLFlBQVksbUNBQW1DLFlBQVksRUFBRSxRQUFRLCtDQUErQyxlQUFlLHFCQUFxQiwrQkFBK0IsMkVBQTJFLE1BQU0sc0JBQXNCLG1CQUFtQix3QkFBd0IsZ0NBQWdDLCtEQUErRCxZQUFZLHNCQUFzQixvQkFBb0IsMEJBQTBCLGVBQWUsMkJBQTJCLG9LQUFvSyxZQUFZLDRCQUE0QixVQUFVLHdCQUF3QixxQkFBcUIsMkJBQTJCLFVBQVUsMENBQTBDLHNCQUFzQixrQkFBa0Isb0JBQW9CLGdIQUFnSCwrSEFBK0gsa0JBQWtCLFVBQVUsMENBQTBDLCtDQUErQyxTQUFTLCtCQUErQixJQUFJLGdDQUFnQyxPQUFPLFlBQVksa0JBQWtCLFFBQVEsZ0JBQWdCLG1CQUFtQixLQUFLLGtFQUFrRSwrQkFBK0IsU0FBUyxvQ0FBb0MsR0FBRyxZQUFZLCtDQUErQyxvR0FBb0csaUNBQWlDLDZCQUE2QixtQkFBbUIsd0VBQXdFLG9CQUFvQixpQ0FBaUMsc0NBQXNDLG9EQUFvRCxhQUFhLEVBQUUscUVBQXFFLGdIQUFnSCxvQkFBb0IsSUFBSSxzQkFBc0IsTUFBTSxXQUFXLGdCQUFnQixvQkFBb0IsY0FBYyxtRkFBbUYsSUFBSSwwQkFBMEIsTUFBTSxZQUFZLFdBQVcsc0NBQXNDLE1BQU0sZ0RBQWdELE1BQU0sS0FBSyxzREFBc0Qsa0JBQWtCLHdDQUF3Qyx5Q0FBeUMsMEJBQTBCLDJDQUEyQywrQ0FBK0Msd0NBQXdDLFNBQVMsMFBBQTBQLHlCQUF5QixjQUFjLGdCQUFnQixFQUFFLG1CQUFtQixhQUFhLFlBQVksbUJBQW1CLGdCQUFnQixrQkFBa0IsUUFBUSxnQkFBZ0IsWUFBWSxnQkFBZ0IsaURBQWlELHdCQUF3Qix1QkFBdUIsc0NBQXNDLDJCQUEyQixnQkFBZ0IsV0FBVyxnQkFBZ0IsY0FBYyxtQkFBbUIsb0JBQW9CLDJCQUEyQixlQUFlLDZQQUE2UCw0Q0FBNEMsOEJBQThCLGFBQWEscUJBQXFCLEVBQUUsUUFBUSxnQkFBZ0IsZUFBZSxnQ0FBZ0MsY0FBYyxnQkFBZ0IsT0FBTyxpQkFBaUIsYUFBYSxvQ0FBb0MsZ0JBQWdCLGdCQUFnQixpRUFBaUUsaVRBQWlULDZCQUE2QixRQUFRLGdDQUFnQyxXQUFXLEtBQUssS0FBSyxTQUFTLHNCQUFzQixjQUFjLGtIQUFrSCxRQUFRLG1CQUFtQixpQkFBaUIsNkJBQTZCLFFBQVEseURBQXlELGlCQUFpQixnQkFBZ0IsZ0JBQWdCLGlCQUFpQix5QkFBeUIsRUFBRSwrQkFBK0IsSUFBSSxRQUFRLG9CQUFvQixTQUFTLFFBQVEsbUJBQW1CLHlTQUF5Uyw4QkFBOEIsaURBQWlELHVDQUF1Qyx5QkFBeUIsTUFBTSxnQkFBZ0IsY0FBYyxhQUFhLElBQUksb0JBQW9CLGdDQUFnQyx5QkFBeUIseUJBQXlCLE1BQU0saURBQWlELE1BQU0sbUNBQW1DLFFBQVEsaUNBQWlDLDhEQUE4RCxTQUFTLHlDQUF5QyxpQkFBaUIsa0JBQWtCLDZEQUE2RCxZQUFZLHdCQUF3QiwrQkFBK0IsYUFBYSxHQUFHLGdFQUFnRSxJQUFJLHlEQUF5RCxRQUFRLHNTQUFzUyxNQUFNLG1DQUFtQyxrQkFBa0IsbUZBQW1GLElBQUksOEtBQThLLFNBQVMsdUJBQXVCLGtCQUFrQix5Q0FBeUMsd0JBQXdCLFVBQVUsU0FBUyxzQ0FBc0MsSUFBSSxvQkFBb0IsUUFBUSxrR0FBa0csbUJBQW1CLHVFQUF1RSxnQkFBZ0Isb0JBQW9CLDJCQUEyQiwyQkFBMkIsaURBQWlELG1EQUFtRCxHQUFHLGdCQUFnQixrQ0FBa0MsZ0JBQWdCLG9CQUFvQixlQUFlLG1FQUFtRSxHQUFHLG9CQUFvQixtQkFBbUIsV0FBVyxvQkFBb0IsMkRBQTJELG9CQUFvQixZQUFZLG1CQUFtQixJQUFJLDZEQUE2RCxZQUFZLGdCQUFnQixPQUFPLFNBQVMsSUFBSSwrQkFBK0IsU0FBUyxZQUFZLGtDQUFrQyxTQUFTLElBQUksUUFBUSxVQUFVLHdCQUF3Qiw4QkFBOEIsZUFBZSxJQUFJLHNCQUFzQixTQUFTLFVBQVUsNEJBQTRCLFNBQVMseUZBQXlGLEdBQUcsdUNBQXVDLGlDQUFpQywySEFBMkgsU0FBUyxZQUFZLGdCQUFnQixxQkFBcUIsMkRBQTJELHFCQUFxQiwwQ0FBMEMsTUFBTSwyQ0FBMkMsRUFBRSxXQUFXLHlCQUF5Qiw0QkFBNEIsSUFBSSxTQUFTLGdCQUFnQixRQUFRLGFBQWEsbUJBQW1CLFFBQVEsbUJBQW1CLFlBQVksMEJBQTBCLFFBQVEsR0FBRyxPQUFPLGlDQUFpQyxpQkFBaUIsU0FBUyxJQUFJLFNBQVMsaUJBQWlCLFFBQVEsZ0JBQWdCLFFBQVEsYUFBYSxPQUFPLE9BQU8sU0FBUyxvQ0FBb0Msa0NBQWtDLEdBQUcsZ0NBQWdDLElBQUksbUNBQW1DLEVBQUUsZ0JBQWdCLDREQUE0RCxpQ0FBaUMsaUJBQWlCLGVBQWUsK0JBQStCLDRCQUE0QixLQUFLLGFBQWEsRUFBRSxzQ0FBc0MsRUFBRSw0QkFBNEIscUJBQXFCLDRDQUE0QyxFQUFFLGtCQUFrQiw0QkFBNEIsRUFBRSxrQ0FBa0MsSUFBSSxtQ0FBbUMsRUFBRSxpQkFBaUIsZ0RBQWdELG9CQUFvQixpQkFBaUIsNkJBQTZCLEdBQUcsRUFBRSxzQ0FBc0MsRUFBRSxnQkFBZ0IsSUFBSSwrQ0FBK0MsRUFBRSxtQkFBbUIsaUJBQWlCLHdDQUF3QyxFQUFFLHVDQUF1QywyQ0FBMkMsY0FBYyxtQ0FBbUMsNkRBQTZELElBQUksbUNBQW1DLEVBQUUsb0JBQW9CLG9DQUFvQyxFQUFFLGtDQUFrQyxJQUFJLG1DQUFtQyxFQUFFLHVCQUF1Qiw0REFBNEQsaUNBQWlDLGlCQUFpQixlQUFlLCtCQUErQixlQUFlLDJCQUEyQixhQUFhLGFBQWEsZUFBZSwyQkFBMkIsYUFBYSxHQUFHLGFBQWEsRUFBRSxzQ0FBc0MsRUFBRSxxRUFBcUUsSUFBSSxtQ0FBbUMsRUFBRSxnQkFBZ0IsbUZBQW1GLHNDQUFzQyxpQkFBaUIsZUFBZSwrQkFBK0IsbUJBQW1CLGFBQWEseUNBQXlDLEdBQUcsdUJBQXVCLEVBQUUsc0NBQXNDLEVBQUUsa0VBQWtFLElBQUksNkRBQTZELGlCQUFpQixrQkFBa0IsYUFBYSxHQUFHLEVBQUUsRUFBRSxvQkFBb0IscUNBQXFDLCtCQUErQixpQ0FBaUMsU0FBUyxFQUFFLGlCQUFpQixpQ0FBaUMsUUFBUSxFQUFFLEtBQUssRUFBRSxpR0FBaUcscUJBQXFCLHVDQUF1QyxzSkFBc0osS0FBSyw0QkFBNEIseUZBQXlGLCtCQUErQixTQUFTLDZCQUE2QixHQUFHLFlBQVksc0NBQXNDLHdFQUF3RSxFQUFFLHNCQUFzQixvZkFBb2YsOENBQThDLHlGQUF5RixrQ0FBa0MsaUJBQWlCLHFCQUFxQiwwQkFBMEIsa0JBQWtCLHdEQUF3RCxTQUFTLGtDQUFrQywyREFBMkQsa0NBQWtDLFlBQVksa0VBQWtFLG9CQUFvQiw2RUFBNkUscUJBQXFCLDBCQUEwQixTQUFTLHVFQUF1RSxvRkFBb0YsdUVBQXVFLHlEQUF5RCwyQ0FBMkMsNEJBQTRCLEdBQUcsaUVBQWlFLGlCQUFpQiw2QkFBNkIsZ0VBQWdFLHNCQUFzQiw2Q0FBNkMsNEpBQTRKLGdDQUFnQyx5QkFBeUIsNEJBQTRCLFFBQVEsRUFBRSxtQkFBbUIsa01BQWtNLE1BQU0sc01BQXNNLGdFQUFnRSxNQUFNLDRDQUE0QyxHQUFHLDBGQUEwRixpQkFBaUIsRUFBRSxpQkFBaUIsMkRBQTJELEVBQUUsb0JBQW9CLDZDQUE2QyxlQUFlLHdCQUF3QixNQUFNLDBhQUEwYSx3RkFBd0Ysc0RBQXNELGtDQUFrQyxRQUFRLDZCQUE2QixZQUFZLEdBQUcsR0FBRyxzQ0FBc0MsdURBQXVELHdDQUF3Qyw0QkFBNEIsNEdBQTRHLFVBQVUsdUNBQXVDLFNBQVMsd0JBQXdCLGVBQWUsa0RBQWtELGVBQWUsMEZBQTBGLCtEQUErRCxNQUFNLHFCQUFxQixRQUFRLCtHQUErRywrQkFBK0IsRUFBRSx5REFBeUQsOERBQThELGlEQUFpRCx5Q0FBeUMsTUFBTSw0R0FBNEcsZUFBZSx5QkFBeUIsNENBQTRDLFdBQVcsNkNBQTZDLG1DQUFtQyxNQUFNLHNHQUFzRyxTQUFTLHlCQUF5QixzQ0FBc0MsV0FBVyw2Q0FBNkMsR0FBRyxpRkFBaUYsNEVBQTRFLE9BQU8scUJBQXFCLE9BQU8sZUFBZSxpSkFBaUosb0JBQW9CLFFBQVEsbUJBQW1CLDJHQUEyRyxTQUFTLDhDQUE4QyxvREFBb0QsOERBQThELDZDQUE2QyxxREFBcUQsOEJBQThCLGlEQUFpRCxnREFBZ0Qsc0RBQXNELHdCQUF3QiwrQkFBK0IscUNBQXFDLDhDQUE4QyxvREFBb0QsNEVBQTRFLCtCQUErQixJQUFJLGlEQUFpRCx1REFBdUQsNEVBQTRFLHlDQUF5QyxxREFBcUQsS0FBSyx5TUFBeU0sK0NBQStDLG9EQUFvRCx1QkFBdUIsa0NBQWtDLHdEQUF3RCxNQUFNLHFJQUFxSSxJQUFJLGVBQWUsK0JBQStCLDZDQUE2QyxrREFBa0QscUJBQXFCLDJFQUEyRSxzRkFBc0Ysa0JBQWtCLFNBQVMsOEJBQThCLE9BQU8sb0NBQW9DLG9FQUFvRSxrQkFBa0Isc0JBQXNCLGdCQUFnQixhQUFhLElBQUksZUFBZSxpREFBaUQsd0JBQXdCLGtCQUFrQixhQUFhLDJCQUEyQixxQkFBcUIsMEJBQTBCLFlBQVksTUFBTSxjQUFjLGVBQWUsdUZBQXVGLDZDQUE2QywrQ0FBK0Msd0RBQXdELHVCQUF1QixrQ0FBa0MsRUFBRSw2Q0FBNkMsc0RBQXNELDhCQUE4QixvQkFBb0IsK0NBQStDLFdBQVcsdURBQXVELCtDQUErQyxpREFBaUQsMERBQTBELHVCQUF1QixrQ0FBa0Msa0dBQWtHLFdBQVcsdURBQXVELCtGQUErRiw2Q0FBNkMsa0RBQWtELGtFQUFrRSx5QkFBeUIscUNBQXFDLDJCQUEyQiw4VEFBOFQsaUNBQWlDLGVBQWUseURBQXlELDhEQUE4RCxpRkFBaUYsNkNBQTZDLHFEQUFxRCxxQ0FBcUMsd0RBQXdELDhCQUE4Qix5S0FBeUssOENBQThDLG9EQUFvRCx1REFBdUQsMkJBQTJCLCtHQUErRyxFQUFFLHdCQUF3Qix3QkFBd0IscURBQXFELGdEQUFnRCxpREFBaUQsdURBQXVELDhEQUE4RCxpRUFBaUUsZ0RBQWdELHNEQUFzRCw4REFBOEQsdURBQXVELDhDQUE4QywrSEFBK0gsNEJBQTRCLGlCQUFpQiwrQkFBK0Isc0VBQXNFLG9EQUFvRCx5REFBeUQsb0JBQW9CLG9EQUFvRCx1Q0FBdUMsOENBQThDLG9EQUFvRCxrQ0FBa0MsOENBQThDLDJCQUEyQiwrR0FBK0csK0JBQStCLHVDQUF1Qyx3REFBd0Qsb0JBQW9CLGlEQUFpRCxnQkFBZ0IsWUFBWSxzREFBc0QsOENBQThDLHdDQUF3Qyw2QkFBNkIsa0JBQWtCLEVBQUUsdURBQXVELCtCQUErQiw4Q0FBOEMsaUpBQWlKLHNEQUFzRCxvSUFBb0ksaUNBQWlDLDhNQUE4TSwrR0FBK0csK0JBQStCLCtDQUErQywwQkFBMEIseUNBQXlDLG9EQUFvRCxFQUFFLE1BQU0sNkJBQTZCLHNFQUFzRSw4Q0FBOEMsb0RBQW9ELDBDQUEwQyxNQUFNLGdCQUFnQiwyRUFBMkUsZ0JBQWdCLHNCQUFzQixLQUFLLDBCQUEwQiw2REFBNkQsdUNBQXVDLEVBQUUsd0RBQXdELDZEQUE2RCx1RUFBdUUsWUFBWSxzREFBc0QsOENBQThDLHdDQUF3Qyw2QkFBNkIsa0JBQWtCLEVBQUUsc0VBQXNFLHdGQUF3Rix3RUFBd0UsTUFBTSx3QkFBd0IsZ0NBQWdDLHdEQUF3RCxvSUFBb0ksdUlBQXVJLDBHQUEwRyxNQUFNLCtCQUErQix3Q0FBd0MseUVBQXlFLDJKQUEySixpQkFBaUIseU5BQXlOLDBDQUEwQyxNQUFNLGlJQUFpSSx1Q0FBdUMsR0FBRyxpQkFBaUIsNkJBQTZCLGVBQWUsMkhBQTJILEdBQUcsc0JBQXNCLHlJQUF5SSw2S0FBNksscUJBQXFCLG9GQUFvRixnQkFBZ0IsV0FBVyxxRUFBcUUsK0dBQStHLEVBQUUsZ0ZBQWdGLHFKQUFxSixFQUFFLGlCQUFpQiw2Q0FBNkMsa0NBQWtDLDZHQUE2RyxnRkFBZ0Ysc0JBQXNCLDRDQUE0QyxvREFBb0QsMkNBQTJDLGtNQUFrTSw2QkFBNkIsOEJBQThCLG1DQUFtQyw4QkFBOEIscUdBQXFHLG9DQUFvQyxtQ0FBbUMseUNBQXlDLGtNQUFrTSxlQUFlLDBMQUEwTCxNQUFNLFFBQVEseUJBQXlCLEdBQUcsaUJBQWlCLDRFQUE0RSw4TEFBOEwsMENBQTBDLE1BQU0saUlBQWlJLHVDQUF1QyxFQUFFLE9BQU8sdUpBQXVKLDBDQUEwQyxrREFBa0QscUJBQXFCLHdDQUF3Qyx3QkFBd0IsY0FBYywwQkFBMEIsR0FBRyxTQUFTLGdDQUFnQyxrQkFBa0Isd0JBQXdCLElBQUksdUJBQXVCLElBQUksR0FBRyxTQUFTLGNBQWMsZUFBZSwySEFBMkgsK0NBQStDLHdEQUF3RCx1QkFBdUIsa0NBQWtDLEVBQUUsNkNBQTZDLHNEQUFzRCw4QkFBOEIsb0JBQW9CLCtDQUErQyxxRUFBcUUsZUFBZSw2SEFBNkgsaURBQWlELDBEQUEwRCx1QkFBdUIsa0NBQWtDLGtHQUFrRyx1Q0FBdUMsZUFBZSxnSUFBZ0ksK0RBQStELE1BQU0sa0VBQWtFLEdBQUcsR0FBRyxlQUFlLG9FQUFvRSxlQUFlLG1EQUFtRCxtREFBbUQsNERBQTRELDhCQUE4QiwrQ0FBK0MsNEJBQTRCLGlCQUFpQixpQkFBaUIsMEJBQTBCLEtBQUssbUVBQW1FLDBJQUEwSSw2R0FBNkcsRUFBRSw4QkFBOEIsTUFBTSxJQUFJLFNBQVMsdUJBQXVCLG9MQUFvTCx3QkFBd0IsYUFBYSx3QkFBd0IsS0FBSyxTQUFTLEdBQUcsZUFBZSw4Q0FBOEMsNkNBQTZDLHNEQUFzRCw4QkFBOEIsc0VBQXNFLE1BQU0sR0FBRyxlQUFlLG1EQUFtRCxnREFBZ0QscURBQXFELHNKQUFzSiwrQkFBK0IsNEJBQTRCLGVBQWUsbURBQW1ELGlEQUFpRCxzREFBc0Qsc0pBQXNKLCtCQUErQiw0QkFBNEIsc0JBQXNCLDhHQUE4Ryx3SkFBd0osaUJBQWlCLGlGQUFpRixtREFBbUQsNkJBQTZCLGNBQWMsZ0VBQWdFLEdBQUcsdUtBQXVLLEVBQUUsZUFBZSw0Q0FBNEMsZ0hBQWdILHNFQUFzRSxrREFBa0QsNkNBQTZDLG9EQUFvRCxNQUFNLDJNQUEyTSxvREFBb0Qsc0RBQXNELElBQUksd0JBQXdCLHdCQUF3QixNQUFNLHlHQUF5Ryw0QkFBNEIsd0dBQXdHLDRDQUE0QyxvQ0FBb0MsaUJBQWlCLCtCQUErQixvQkFBb0IsOEJBQThCLDJDQUEyQyxHQUFHLElBQUksZUFBZSw0SkFBNEosa0RBQWtELHFEQUFxRCxtRUFBbUUsTUFBTSx5QkFBeUIsUUFBUSxvUEFBb1Asc0JBQXNCLE1BQU0sMkZBQTJGLDRCQUE0Qiw2QkFBNkIsa0NBQWtDLEdBQUcsSUFBSSxFQUFFLHlEQUF5RCw4REFBOEQsV0FBVyw4RkFBOEYsc0JBQXNCLGlGQUFpRix5QkFBeUIsNkJBQTZCLCtCQUErQixHQUFHLDBCQUEwQixlQUFlLG1EQUFtRCwwSUFBMEksNEJBQTRCLHdFQUF3RSxxQ0FBcUMsOEJBQThCLHdFQUF3RSxzQ0FBc0Msc0JBQXNCLHdCQUF3QixzQ0FBc0MsMENBQTBDLHdCQUF3QixxQ0FBcUMsNENBQTRDLHdCQUF3QixxQ0FBcUMsc0JBQXNCLGVBQWUscUJBQXFCLGdEQUFnRCw4Q0FBOEMseUNBQXlDLDhGQUE4RiwwQ0FBMEMsV0FBVyxlQUFlLDJDQUEyQyxJQUFJLGtCQUFrQixJQUFJLGVBQWUsK0JBQStCLDBCQUEwQixrQ0FBa0Msb0JBQW9CLFNBQVMsWUFBWSxzQkFBc0IsS0FBSyxzQkFBc0IsNkxBQTZMLGdCQUFnQixrQkFBa0IsdUlBQXVJLDhCQUE4QixHQUFHLGVBQWUsMExBQTBMLE1BQU0sUUFBUSx5QkFBeUIsR0FBRyxlQUFlLGdEQUFnRCxzREFBc0QsTUFBTSxnRkFBZ0Ysc0VBQXNFLGlSQUFpUixxQkFBcUIsa0ZBQWtGLHNFQUFzRSxpUkFBaVIscUJBQXFCLEdBQUcsaUNBQWlDLGVBQWUsMkVBQTJFLHNCQUFzQiwyTkFBMk47QUFDcnMyRCx5T0FBeU8sbUJBQW1CLGdCQUFnQixzREFBc0QsS0FBSyxpQ0FBaUMscUNBQXFDLElBQUksNENBQTRDLHFCQUFxQixtRkFBbUYsRUFBRSxTQUFTLEVBQUUsZ0JBQWdCLGlCQUFpQixFQUFFLHdFQUF3RSxhQUFhLDhEQUE4RCxlQUFlLFlBQVksYUFBYSxPQUFPLDhCQUE4QixvREFBb0QsNkRBQTZEO0FBQ3Q2QixvQkFBb0IsNkJBQTZCO0FBQ2pEO0FBQ0EsR0FBRyw4QkFBOEIseUJBQXlCLGVBQWUsZ0NBQWdDLHlCQUF5QixtQkFBbUIsNkJBQTZCLG1EQUFtRCw4QkFBOEIsTUFBTSxzRkFBc0YsT0FBTywyQkFBMkIsaUJBQWlCLDJIQUEySCxZQUFZLFdBQVcsa0JBQWtCLG9DQUFvQyxNQUFNLDhDQUE4QyxNQUFNLCtCQUErQixNQUFNLHFEQUFxRCxNQUFNLDRDQUE0QyxTQUFTLDhCQUE4QixTQUFTLHFCQUFxQixrQkFBa0IsOElBQThJLGFBQWEsOFZBQThWLCtCQUErQixrQ0FBa0MsMkJBQTJCLG1DQUFtQyxvQ0FBb0MsMElBQTBJLDJCQUEyQixvQkFBb0IsNERBQTRELG1DQUFtQztBQUMzeUQsRUFBRSwyQkFBMkIsZ0NBQWdDLFFBQVEsMkhBQTJILDJCQUEyQjtBQUMzTixFQUFFLHlCQUF5QixRQUFRLDJDQUEyQyxHQUFHLFlBQVksV0FBVyxpREFBaUQsU0FBUyx5QkFBeUIseUJBQXlCLCtHQUErRyxTQUFTLHNDQUFzQyxrRUFBa0UsOEJBQThCO0FBQ2xkLEdBQUcsU0FBUywyQkFBMkIsK0NBQStDLFFBQVEsc0NBQXNDLDJCQUEyQix5QkFBeUIscUlBQXFJO0FBQzdULEdBQUcsSUFBSSw4QkFBOEIsd0JBQXdCLG1DQUFtQyxvQkFBb0IscUdBQXFHLDhCQUE4QixpQ0FBaUMsUUFBUSxvREFBb0Qsc0JBQXNCLG1DQUFtQywyQkFBMkIsZ0NBQWdDLGlDQUFpQyxRQUFRLHVEQUF1RCxtQ0FBbUMsUUFBUSxzRkFBc0YscUNBQXFDO0FBQzlzQixFQUFFLGtDQUFrQztBQUNwQyxHQUFHLElBQUksK0JBQStCLGdDQUFnQyxRQUFRLGdGQUFnRiwrQkFBK0I7QUFDN0wsRUFBRSxvQ0FBb0Msd0NBQXdDLGdDQUFnQyxRQUFRLGdJQUFnSSxvQ0FBb0MsNEhBQTRILHFDQUFxQyw2REFBNkQsa0NBQWtDLGdGQUFnRixhQUFhLDBEQUEwRCxNQUFNLGtDQUFrQztBQUN6dEI7QUFDQSxFQUFFO0FBQ0YsS0FBSyxrQ0FBa0MsT0FBTyx1REFBdUQsaUNBQWlDLGVBQWUsWUFBWSxXQUFXLEtBQUssbURBQW1ELE1BQU0sMERBQTBELGlEQUFpRCw4R0FBOEcscUVBQXFFLHlDQUF5QywyQ0FBMkMsRUFBRSx5REFBeUQsNEJBQTRCLGNBQWMsNEZBQTRGLEdBQUcsSUFBSSxxQ0FBcUMsU0FBUztBQUNsMUI7QUFDQTtBQUNBLHVCQUF1QiwyREFBMkQsRUFBRSxRQUFRLDRCQUE0Qiw4QkFBOEI7QUFDdEosc0RBQXNELHFCQUFxQixJQUFJLDBDQUEwQyxzVUFBc1UseUVBQXlFLG1EQUFtRCxPQUFPLHVEQUF1RCxjQUFjLE9BQU8sdURBQXVELHNDQUFzQyxjQUFjLDJCQUEyQixPQUFPLEVBQUUsNEJBQTRCLDBLQUEwSyxnQkFBZ0IsS0FBSyxtQ0FBbUMsUUFBUSw4RkFBOEYsbUNBQW1DLHNDQUFzQyxpREFBaUQsb0NBQW9DLDBCQUEwQixtQ0FBbUMsU0FBUztBQUNyMkM7QUFDQTtBQUNBLEtBQUsseUJBQXlCLG1DQUFtQyx1REFBdUQsd0JBQXdCLDZGQUE2Riw0Q0FBNEMsdUJBQXVCLFNBQVMsb0NBQW9DLGlFQUFpRSxvRUFBb0Usc0NBQXNDLHNCQUFzQixzRUFBc0Usb0NBQW9DLGVBQWUsb0NBQW9DLFFBQVEsd0RBQXdELHNDQUFzQyxTQUFTO0FBQzF5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdDQUFnQyw2Q0FBNkMsMkNBQTJDLHVCQUF1QjtBQUM3SjtBQUNBO0FBQ0E7QUFDQSxFQUFFLDhCQUE4QixzQkFBc0IsWUFBWSxXQUFXLGlCQUFpQiw2RkFBNkYsc0NBQXNDLHVCQUF1QixxREFBcUQsMEJBQTBCLCtCQUErQiwwQkFBMEIsaURBQWlELFFBQVEseUVBQXlFLDBCQUEwQix1REFBdUQsUUFBUSwwR0FBMEcsMEJBQTBCLDhDQUE4QyxzQkFBc0IsWUFBWSxXQUFXLHFEQUFxRCxVQUFVLGNBQWMsTUFBTSxtQ0FBbUMsMEJBQTBCLE9BQU8sZUFBZSw0RkFBNEYsd0JBQXdCLDhCQUE4Qix3S0FBd0sscUVBQXFFLDJCQUEyQixRQUFRLHlHQUF5RyxHQUFHLGdCQUFnQixtSEFBbUgsMERBQTBELE9BQU8sZUFBZSw4R0FBOEcsZ0JBQWdCLCtDQUErQyw4Q0FBOEMsd0JBQXdCLG1CQUFtQixTQUFTLEdBQUcsaUJBQWlCLCtCQUErQixvR0FBb0csTUFBTSw0Q0FBNEMsRUFBRSxrQkFBa0Isd0JBQXdCLDhCQUE4Qiw0QkFBNEIsdUJBQXVCLGtFQUFrRSxFQUFFLGVBQWUscURBQXFELGtDQUFrQyx3QkFBd0IsaUJBQWlCLGVBQWUsWUFBWSw0SEFBNEgsaUJBQWlCLFlBQVksaURBQWlELGtEQUFrRCxpR0FBaUcsc0RBQXNELDhEQUE4RCx3REFBd0QsSUFBSSxlQUFlLHlCQUF5QixpREFBaUQsTUFBTSwyQ0FBMkMsK0JBQStCLEdBQUcsb0JBQW9CLG1EQUFtRCxpRkFBaUYsU0FBUywwQ0FBMEMsVUFBVSxnQkFBZ0IsaUNBQWlDLGVBQWUsdUZBQXVGLGdCQUFnQixhQUFhLGtCQUFrQixvREFBb0QsMkpBQTJKLDhCQUE4QixzREFBc0QsMkRBQTJELDhCQUE4QixtQkFBbUIsbURBQW1ELGVBQWUsa0ZBQWtGLG9DQUFvQywyQ0FBMkMsTUFBTSxRQUFRLDRDQUE0QyxtREFBbUQsK0JBQStCLHFEQUFxRCxNQUFNLDJDQUEyQyxRQUFRLHlPQUF5TywrQkFBK0IsNkRBQTZELFdBQVcsZ0JBQWdCLDZFQUE2RSxlQUFlLCtDQUErQyx5Q0FBeUMsMkNBQTJDLG9CQUFvQixTQUFTLDhHQUE4RyxHQUFHLGlCQUFpQiwwR0FBMEcseURBQXlELCtEQUErRDtBQUNwNEssNkJBQTZCO0FBQzdCO0FBQ0EsR0FBRyx3R0FBd0csa0JBQWtCLFdBQVcsaUNBQWlDLGlCQUFpQiwrREFBK0Qsb0RBQW9ELDJFQUEyRSx3UEFBd1AsR0FBRyxpQkFBaUIsK0RBQStELHdEQUF3RCwrRUFBK0UsdUJBQXVCLG9FQUFvRSxNQUFNLHNCQUFzQixxQ0FBcUMsOEVBQThFLE1BQU0seUJBQXlCLGlLQUFpSyxHQUFHLHNCQUFzQixxUEFBcVAsRUFBRSxZQUFZLElBQUksU0FBUywwREFBMEQsMkRBQTJELDJDQUEyQyxvQkFBb0IsT0FBTywyQkFBMkIsZ0VBQWdFLElBQUksWUFBWSxHQUFHLHdGQUF3Rix1SkFBdUosTUFBTSxrSEFBa0gscUtBQXFLLFNBQVMsT0FBTywwRkFBMEYsa0JBQWtCLDJHQUEyRyx1RkFBdUYsc0tBQXNLLE1BQU0sOEdBQThHLGlLQUFpSyxNQUFNLHNHQUFzRyxrSkFBa0osTUFBTSxvQ0FBb0MsR0FBRyx1Q0FBdUMsRUFBRSx1RUFBdUUsNEJBQTRCLGdCQUFnQixhQUFhLHdEQUF3RCxtRUFBbUUsWUFBWSxpQ0FBaUMsMkRBQTJELHFFQUFxRSxJQUFJLHFCQUFxQixvQkFBb0Isc0NBQXNDLHlCQUF5Qix5REFBeUQsa0JBQWtCLDJCQUEyQixJQUFJLEVBQUUsZUFBZSxpQkFBaUIsYUFBYSxtQkFBbUIsU0FBUyxzQkFBc0Isc0NBQXNDLFNBQVMsaUVBQWlFLFNBQVMsb0xBQW9MLHVFQUF1RSxzR0FBc0csaUJBQWlCLG1CQUFtQixlQUFlLGtDQUFrQyxtQkFBbUIsZ0JBQWdCLGdCQUFnQixvQkFBb0IsaUJBQWlCLFNBQVMsS0FBSyxLQUFLLG1DQUFtQyxvQ0FBb0MsTUFBTSxvQkFBb0IsTUFBTSxhQUFhLFFBQVEsS0FBSyxhQUFhLFVBQVUsR0FBRywwQkFBMEIsZUFBZSxNQUFNLFlBQVkseURBQXlELDBCQUEwQixFQUFFLElBQUksaURBQWlELEVBQUUsaUJBQWlCLGtCQUFrQixlQUFlLHNDQUFzQyxxQkFBcUIsUUFBUSxJQUFJLHVCQUF1QixxQkFBcUIscUJBQXFCLDBFQUEwRSxpQkFBaUIsSUFBSSxhQUFhLEtBQUssSUFBSSxXQUFXLFVBQVUsRUFBRSw0RUFBNEUsYUFBYSwwQ0FBMEMsZUFBZSxZQUFZLGtDQUFrQyw4Y0FBOGMsYUFBYSxNQUFNLGFBQWEscUNBQXFDLFVBQVUsb0JBQW9CLGtEQUFrRCxpQkFBaUIsd0JBQXdCLG9CQUFvQix3RkFBd0Ysb0JBQW9CLCtCQUErQixrQkFBa0IsRUFBRSwwQkFBMEIsWUFBWSwwQkFBMEIsa0NBQWtDLGFBQWEseVdBQXlXLFFBQVEsb0JBQW9CLHdEQUF3RCxhQUFhLGlCQUFpQiwrQ0FBK0MsMkNBQTJDLFVBQVUsS0FBSyxxS0FBcUssS0FBSywySkFBMkosSUFBSSxtMkJBQW0yQixJQUFJLDQxQkFBNDFCLGdCQUFnQixrZEFBa2QsR0FBRyxpT0FBaU8sK0ZBQStGLGlIQUFpSCwyZkFBMmYscUhBQXFILGdDQUFnQyxtQ0FBbUMsZ0pBQWdKLElBQUksbURBQW1ELHVDQUF1Qyx5Q0FBeUMsMENBQTBDLHVIQUF1SCxJQUFJLFdBQVcsSUFBSSx3TEFBd0wsK0JBQStCLFNBQVMsb0VBQW9FLDBDQUEwQyw2R0FBNkcsRUFBRSwrREFBK0Qsc0JBQXNCLElBQUksc0dBQXNHLDhUQUE4VCxpQ0FBaUMsRUFBRSw4R0FBOEcsRUFBRSxpQkFBaUIseUNBQXlDLEVBQUUsVUFBVSxzS0FBc0ssSUFBSSwrREFBK0QsSUFBSSxtREFBbUQsRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLGFBQWEsSUFBSSxzRkFBc0YsMEpBQTBKLEVBQUUsV0FBVyxFQUFFLHlLQUF5SyxlQUFlLElBQUkscURBQXFELEVBQUUsV0FBVyxFQUFFLHlEQUF5RCxJQUFJLHFQQUFxUCxFQUFFLHdLQUF3SyxTQUFTLGlFQUFpRSx3REFBd0QsTUFBTSxnTEFBZ0wsSUFBSSxJQUFJLDBHQUEwRyx1RUFBdUUsNkRBQTZELGlDQUFpQyxHQUFHLGdMQUFnTCwrUkFBK1IsSUFBSSw0QkFBNEIsRUFBRSw0QkFBNEIsSUFBSSw0R0FBNEcsaUxBQWlMLElBQUksc0tBQXNLLEVBQUUsZ0ZBQWdGLEVBQUUsdUNBQXVDLEVBQUUsNkNBQTZDLEVBQUUsdUZBQXVGLEVBQUUsbUNBQW1DLEVBQUUsZ0RBQWdELElBQUksb0RBQW9ELElBQUksK2JBQStiLEVBQUUsNkNBQTZDLDBFQUEwRSxpR0FBaUcsa0RBQWtELDJNQUEyTSw0R0FBNEcsRUFBRSxtREFBbUQsOEZBQThGLFdBQVcsSUFBSSxJQUFJLHVFQUF1RSxrRkFBa0Ysa0hBQWtILFdBQVcseUhBQXlILHlDQUF5QyxRQUFRLElBQUksOEhBQThILElBQUksa0VBQWtFLElBQUksNEVBQTRFLDBEQUEwRCwwRUFBMEUsSUFBSSxFQUFFLHlXQUF5VyxJQUFJLDBGQUEwRiwwTUFBME0sSUFBSSw2QkFBNkIsdVdBQXVXLHFCQUFxQiw2Q0FBNkMsa0dBQWtHLFNBQVMsa0RBQWtELGdPQUFnTyxrSEFBa0gsWUFBWSwrRkFBK0Ysb1hBQW9YLElBQUksbUNBQW1DLElBQUksaVBBQWlQLG9CQUFvQixzRkFBc0YsMEpBQTBKLFVBQVUsdUZBQXVGLFVBQVUsV0FBVyxrQ0FBa0MsVUFBVSxvRUFBb0UsK0RBQStELHFFQUFxRSx3QkFBd0IsVUFBVSx3Q0FBd0MsMkJBQTJCLFVBQVUsNk1BQTZNLDJCQUEyQixVQUFVLG1EQUFtRCx1QkFBdUIsVUFBVSxtSkFBbUosMkJBQTJCLFFBQVEsNkhBQTZILHVCQUF1QixVQUFVLHlCQUF5QiwwREFBMEQsc0JBQXNCLGdLQUFnSyx5Q0FBeUMsZUFBZSxjQUFjLDBDQUEwQyxrQkFBa0Isd0JBQXdCLGFBQWEsc0JBQXNCLHNDQUFzQyxvQ0FBb0MseUZBQXlGLG1CQUFtQixZQUFZLHNEQUFzRCxpQkFBaUIsSUFBSSxvQ0FBb0MsRUFBRSxjQUFjLEVBQUUsY0FBYyxpQkFBaUIsa0JBQWtCLDZCQUE2QixJQUFJLFlBQVksbUJBQW1CLGtCQUFrQix1Q0FBdUMsaUJBQWlCLGtEQUFrRCxtRUFBbUUsV0FBVywySUFBMkksOEJBQThCLFlBQVksMEdBQTBHLHNGQUFzRixpQkFBaUIsU0FBUyxnQkFBZ0IsMkRBQTJELG1FQUFtRSxJQUFJLDBCQUEwQixNQUFNLGtFQUFrRSxRQUFRLElBQUksbUNBQW1DLGlCQUFpQixrQkFBa0Isa0NBQWtDLEtBQUssT0FBTyx3Q0FBd0MsWUFBWSx5TUFBeU0sSUFBSSxpQkFBaUIsR0FBRywwQkFBMEIsK0NBQStDLCtDQUErQyxhQUFhLE1BQU0sZ0NBQWdDLGdDQUFnQyxxREFBcUQscURBQXFELDJCQUEyQixpREFBaUQseUhBQXlILGdCQUFnQixNQUFNLHlLQUF5SywrQkFBK0IsTUFBTSxzR0FBc0csd1FBQXdRLElBQUksV0FBVyxtQkFBbUIsS0FBSyxXQUFXLG9CQUFvQiw4Q0FBOEMsa0NBQWtDLCtCQUErQixJQUFJLHFDQUFxQyxTQUFTLHdCQUF3QixJQUFJLGFBQWEsMkRBQTJELG9CQUFvQiw4QkFBOEIsRUFBRSxhQUFhLElBQUksNkpBQTZKLG9HQUFvRyxrQkFBa0IsbUNBQW1DLDBCQUEwQixlQUFlLFVBQVUsa0JBQWtCLEdBQUcsK0NBQStDLE9BQU8sZ0RBQWdELGlCQUFpQiw2Q0FBNkMsU0FBUyw0Q0FBNEMsK0RBQStELHFCQUFxQixxQkFBcUIsYUFBYSxrQkFBa0Isa0JBQWtCLGVBQWUsc0JBQXNCLG1CQUFtQixLQUFLLE9BQU8sV0FBVyxTQUFTLHNCQUFzQix3Q0FBd0MsS0FBSyxzQkFBc0IsRUFBRSxjQUFjLHNCQUFzQixrQkFBa0IsV0FBVyxLQUFLLHFCQUFxQixXQUFXLFNBQVMsc0ZBQXNGLGFBQWEsb0VBQW9FLFdBQVcsd0VBQXdFLHdEQUF3RCxJQUFJLEdBQUcscUJBQXFCLFFBQVEsT0FBTyxjQUFjLFNBQVMsSUFBSSwwQ0FBMEMsZ0ZBQWdGLHlCQUF5QixhQUFhLG9JQUFvSSw4SUFBOEksU0FBUyxHQUFHLEtBQUssSUFBSSx5QkFBeUIsU0FBUyxpQ0FBaUMsbUZBQW1GLGtCQUFrQiw4QkFBOEIsVUFBVSwwQkFBMEIsb0JBQW9CLE9BQU8sa0JBQWtCLG9CQUFvQixlQUFlLGtCQUFrQixpQkFBaUIsVUFBVSxjQUFjLHdFQUF3RSx1QkFBdUIseU9BQXlPLHFCQUFxQixrQkFBa0IsUUFBUSwrU0FBK1MsRUFBRSwwQkFBMEIsb09BQW9PLE9BQU8sVUFBVSwwRUFBMEUsU0FBUywwQkFBMEIsd0JBQXdCLHNDQUFzQywyQkFBMkIsc0dBQXNHLGVBQWUsd0NBQXdDLGVBQWUsMENBQTBDLG1CQUFtQix1Q0FBdUMsaUNBQWlDLG1CQUFtQiwwQkFBMEIsa0JBQWtCLDBCQUEwQixFQUFFLG1CQUFtQixrRUFBa0Usa0JBQWtCLDJCQUEyQixpQ0FBaUMsa0JBQWtCLDRCQUE0Qiw4R0FBOEcsc0VBQXNFLGNBQWMsc0JBQXNCLHNDQUFzQyxnRkFBZ0YsdUdBQXVHLGtCQUFrQixRQUFRLDhCQUE4QixtQkFBbUIsMkNBQTJDLGtDQUFrQyxpQ0FBaUMsb0dBQW9HLGtGQUFrRixLQUFLLDhDQUE4Qyw2QkFBNkIsK0NBQStDLEVBQUUsZ0VBQWdFLHVCQUF1QixzQkFBc0IsZ0ZBQWdGLG9DQUFvQyw2R0FBNkcsWUFBWSxNQUFNLGVBQWUsT0FBTyx3RUFBd0Usb0VBQW9FLFlBQVksRUFBRSxpQkFBaUIsZ0NBQWdDLG9CQUFvQixlQUFlLHlKQUF5SixtQkFBbUIsZUFBZSx5Q0FBeUMsNkVBQTZFLHFCQUFxQiw2REFBNkQsU0FBUyx3QkFBd0IseUJBQXlCLHlCQUF5QixvQkFBb0IseUJBQXlCLElBQUksbUNBQW1DLDJCQUEyQixnQkFBZ0IsYUFBYSxjQUFjLGtCQUFrQixXQUFXLDJCQUEyQiwrRUFBK0UseUJBQXlCLFNBQVMsMkNBQTJDLFFBQVEsbUNBQW1DLFdBQVcsb0NBQW9DLGdCQUFnQixJQUFJLEtBQUssaUVBQWlFLEtBQUssV0FBVyxxQkFBcUIsSUFBSSxtRUFBbUUsRUFBRSxrQkFBa0IsRUFBRSwrQ0FBK0MsaUNBQWlDLHFDQUFxQywwREFBMEQsc0JBQXNCLHlFQUF5RSxNQUFNLHdIQUF3SCxrQkFBa0IsNkJBQTZCLDZDQUE2Qyw4QkFBOEIsU0FBUyx3QkFBd0IsaUJBQWlCLFFBQVEsT0FBTyx1QkFBdUIsRUFBRSxvREFBb0QsaUVBQWlFLFNBQVMsK0VBQStFLFNBQVMsa0NBQWtDLGlCQUFpQixvQkFBb0IsWUFBWSw2QkFBNkIsSUFBSSwwREFBMEQsRUFBRSxtQkFBbUIsdUNBQXVDLDRCQUE0QixJQUFJLDJEQUEyRCxJQUFJLDZCQUE2Qix5QkFBeUIscUJBQXFCLEVBQUUsU0FBUyxnSUFBZ0ksaUJBQWlCLHVDQUF1QyxJQUFJLGFBQWEsTUFBTSxlQUFlLGVBQWUsU0FBUyxPQUFPLFFBQVEsNkNBQTZDLDhCQUE4QixFQUFFLGlCQUFpQixjQUFjLEdBQUcsdUNBQXVDLHVFQUF1RSw2QkFBNkIsa0JBQWtCLEVBQUUsUUFBUSxHQUFHLDZEQUE2RCx3REFBd0QseUJBQXlCLHdGQUF3RixJQUFJLG9EQUFvRCxvQkFBb0IsaUJBQWlCLGdCQUFnQixnQkFBZ0IsZ0JBQWdCLGVBQWUsaUJBQWlCLGdCQUFnQixzQkFBc0IsS0FBSywwR0FBMEcsb2dCQUFvZ0IsZUFBZSxNQUFNLGVBQWUsb0JBQW9CLFFBQVEsS0FBSyxRQUFRLGtCQUFrQixlQUFlLGlEQUFpRCxxQkFBcUIsbUJBQW1CLGFBQWEsNEJBQTRCLDBCQUEwQixvQkFBb0IseUJBQXlCLFlBQVksK0VBQStFLG9CQUFvQiw2QkFBNkIscUNBQXFDLGtCQUFrQixNQUFNLGtDQUFrQyx3QkFBd0IsK0JBQStCLElBQUksZ0JBQWdCLDRCQUE0QixzR0FBc0csa0JBQWtCLG9CQUFvQixnQ0FBZ0MsY0FBYywrREFBK0QsZ0JBQWdCLHFCQUFxQix3QkFBd0IsNkJBQTZCLElBQUksZ0JBQWdCLG1DQUFtQyx3QkFBd0Isc0NBQXNDLEtBQUssMEJBQTBCLHVEQUF1RCw0RkFBNEYseUZBQXlGLHdCQUF3QixzQkFBc0IsVUFBVSw0QkFBNEIsb0JBQW9CLG9DQUFvQyxtQkFBbUIsd0VBQXdFLG1CQUFtQiwwQkFBMEIsK0JBQStCLDZCQUE2QixPQUFPLHFEQUFxRCxFQUFFLFVBQVUsd0JBQXdCLE9BQU8sTUFBTSw2QkFBNkIsRUFBRSxxQkFBcUIsT0FBTyxzQkFBc0IsUUFBUSxNQUFNLDRDQUE0QyxFQUFFLHFCQUFxQixvQ0FBb0MsbUVBQW1FLE1BQU0sbUNBQW1DLEVBQUUsdUJBQXVCLDJCQUEyQixtSkFBbUosSUFBSSxtQ0FBbUMsRUFBRSxnQkFBZ0IsWUFBWSx5QkFBeUIsc0JBQXNCLDBCQUEwQixFQUFFLHFFQUFxRSxJQUFJLG1DQUFtQyxFQUFFLG1CQUFtQixvREFBb0QsMEJBQTBCLEVBQUUsZ0hBQWdILGtCQUFrQixVQUFVLDRCQUE0QixJQUFJLEtBQUssV0FBVyw4RkFBOEYsb0JBQW9CLHFCQUFxQixtQkFBbUIscUJBQXFCLFlBQVksSUFBSSwyQkFBMkIsZ09BQWdPLHFCQUFxQiw4QkFBOEIsSUFBSSxNQUFNLHFCQUFxQixFQUFFLG1CQUFtQiwyRUFBMkUsbUJBQW1CLDRCQUE0Qix1REFBdUQsaURBQWlELGVBQWUsb0JBQW9CLDRCQUE0Qix3RUFBd0UsUUFBUSw0Q0FBNEMsRUFBRSwwQkFBMEIsMENBQTBDLDZDQUE2QyxFQUFFLGdCQUFnQixJQUFJLGtEQUFrRCxTQUFTLEVBQUUsRUFBRSxrQ0FBa0MsV0FBVyxzQkFBc0IsZ0tBQWdLLFVBQVUsdUJBQXVCLGdCQUFnQixvRkFBb0YsdUVBQXVFLDJCQUEyQixXQUFXLCtCQUErQixVQUFVLG1CQUFtQix5R0FBeUcsSUFBSSwwQkFBMEIsTUFBTSxZQUFZLElBQUksd0JBQXdCLEVBQUUsc0JBQXNCLEVBQUUscUxBQXFMLE1BQU0sU0FBUyw4QkFBOEIsT0FBTyw2REFBNkQsdUJBQXVCLElBQUksd0NBQXdDLElBQUksNkJBQTZCLE9BQU8sV0FBVyxJQUFJLGtDQUFrQyxFQUFFLHFCQUFxQixxQ0FBcUMsa0RBQWtELEVBQUUsZ0JBQWdCLE1BQU0sMkRBQTJELEVBQUUsZUFBZSx3REFBd0Qsc0NBQXNDLGVBQWUsaUVBQWlFLGdCQUFnQixhQUFhLHdGQUF3RixPQUFPLCtCQUErQixlQUFlLG9CQUFvQix1Q0FBdUMsWUFBWSxlQUFlLDZCQUE2Qiw2QkFBNkIsb0VBQW9FLHVDQUF1QyxhQUFhLG9DQUFvQyxrQkFBa0IsNkJBQTZCLGtEQUFrRCxXQUFXLDhDQUE4QyxpR0FBaUcsa0RBQWtELHNCQUFzQixnY0FBZ2MsMkVBQTJFLDBEQUEwRCxTQUFTLG1RQUFtUSxvQkFBb0IsZUFBZSxrQkFBa0IsK1VBQStVLDJDQUEyQyxFQUFFLEVBQUUsTUFBTSxVQUFVLGdCQUFnQixJQUFJLGFBQWEsTUFBTSxVQUFVLGdCQUFnQix1QkFBdUIsSUFBSSxhQUFhLE1BQU0sS0FBSyxFQUFFLG9CQUFvQixVQUFVLHVCQUF1Qiw0REFBNEQsZ0JBQWdCLGFBQWEsZ0JBQWdCLHVCQUF1QixxQkFBcUIsU0FBUywwQ0FBMEMsR0FBRyx1QkFBdUIsc0RBQXNELGlGQUFpRixvQkFBb0IsMElBQTBJLGNBQWMsNEJBQTRCLDBCQUEwQix5QkFBeUIsMEJBQTBCLDRCQUE0QixrQkFBa0IsRUFBRSw0SEFBNEgsaUJBQWlCLGtDQUFrQyxHQUFHLDhDQUE4QyxxQkFBcUIsR0FBRyx3QkFBd0IsaUNBQWlDLFdBQVcsa0RBQWtELGtDQUFrQyxJQUFJLHNCQUFzQixrQ0FBa0MsV0FBVywwQ0FBMEMsaUJBQWlCLG1CQUFtQix1REFBdUQsc0JBQXNCLCtCQUErQixrQkFBa0IsWUFBWSw4REFBOEQsa0NBQWtDLGlCQUFpQixPQUFPLHFCQUFxQixlQUFlLHFDQUFxQyxzQkFBc0IsbUNBQW1DLG9CQUFvQixtSEFBbUgsV0FBVyxFQUFFLFdBQVcsMENBQTBDLG1DQUFtQyx3Q0FBd0MsaUJBQWlCLHVCQUF1Qix1QkFBdUIsb0JBQW9CLFdBQVcsc0NBQXNDLFlBQVksb0JBQW9CLHVCQUF1Qix1QkFBdUIseUJBQXlCLFdBQVcsbUNBQW1DLFNBQVMsaUJBQWlCLCtHQUErRyxXQUFXLEVBQUUsYUFBYSxrREFBa0QsVUFBVSxtQkFBbUIsZUFBZSx1QkFBdUIsK0NBQStDLFdBQVcsdURBQXVELFNBQVMsY0FBYywwQ0FBMEMsaUJBQWlCLGVBQWUsMkJBQTJCLHdCQUF3QixpQkFBaUIscUJBQXFCLGdGQUFnRixXQUFXLGlDQUFpQyxpQkFBaUIsMkJBQTJCLG1CQUFtQiw2QkFBNkIsb0JBQW9CLCtCQUErQixFQUFFLGNBQWMsdUJBQXVCLGVBQWUsOEJBQThCLDRCQUE0QixFQUFFLGNBQWMsb0JBQW9CLGVBQWUsK0JBQStCLCtCQUErQixnQkFBZ0Isb0NBQW9DLEVBQUUsbUJBQW1CLDJEQUEyRCxVQUFVLGVBQWUsdUlBQXVJLHNCQUFzQixpQ0FBaUMsRUFBRSxTQUFTLGFBQWEsb0RBQW9ELEVBQUUsa0JBQWtCLGtEQUFrRCxHQUFHLDBCQUEwQixrRUFBa0UsRUFBRSx1Q0FBdUMscURBQXFELEVBQUUsV0FBVyxJQUFJLG9CQUFvQiwrQkFBK0IsK0JBQStCLHNCQUFzQiw0R0FBNEcsdURBQXVELDhQQUE4UCxpQkFBaUIscUJBQXFCLGlDQUFpQyxzQ0FBc0MsMkJBQTJCLHVEQUF1RCxzQkFBc0IsU0FBUyxlQUFlLFlBQVksbUJBQW1CLEtBQUsseUNBQXlDLHlDQUF5QyxhQUFhLG9JQUFvSSxpRUFBaUUsR0FBRyxTQUFTLGVBQWUsZ0JBQWdCLDJGQUEyRiw2Q0FBNkMsb0JBQW9CLGtMQUFrTCxvQ0FBb0MsY0FBYyxxRUFBcUUsa0xBQWtMLDhCQUE4QixrQkFBa0IsYUFBYSxVQUFVLGdCQUFnQix5QkFBeUIsc0NBQXNDLHdEQUF3RCxzS0FBc0ssYUFBYSwwQkFBMEIsU0FBUyxxREFBcUQsR0FBRyxlQUFlLGVBQWUsK0JBQStCLG9DQUFvQyxnSkFBZ0osaUJBQWlCLHdEQUF3RCxtSEFBbUgsSUFBSSxtQ0FBbUMsRUFBRSxxQkFBcUIsdUJBQXVCLFVBQVUscUJBQXFCLE1BQU0sa0dBQWtHLHFCQUFxQixxRUFBcUUsK0NBQStDLEVBQUUsNEVBQTRFLGlCQUFpQixrRUFBa0UsV0FBVyxlQUFlLG9CQUFvQixhQUFhLDZCQUE2Qix3Q0FBd0Msd0tBQXdLLFFBQVEsaUNBQWlDLFFBQVEsSUFBSSxxQkFBcUIsU0FBUyxZQUFZLDZDQUE2QyxTQUFTLGdDQUFnQyxjQUFjLHlFQUF5RSxZQUFZLElBQUksWUFBWSxRQUFRLHVFQUF1RSxnRkFBZ0YsNEZBQTRGLHVGQUF1RiwwQ0FBMEMscUZBQXFGLGdDQUFnQyxNQUFNLE1BQU0sMEVBQTBFLDBEQUEwRCwwQkFBMEIsaUhBQWlILEtBQUssbUNBQW1DLDZEQUE2RCxrQ0FBa0MsYUFBYSxZQUFZLGtDQUFrQyxxRUFBcUUscUJBQXFCLDBDQUEwQyxTQUFTLGtDQUFrQyw4QkFBOEIsT0FBTyxpQ0FBaUMsK0ZBQStGLGlEQUFpRCxtQ0FBbUMsSUFBSSxxQkFBcUIsU0FBUyw0RkFBNEYsU0FBUyxnSEFBZ0gsa0RBQWtELDRCQUE0QixxQkFBcUIsVUFBVSxRQUFRLG9FQUFvRSwyREFBMkQsa0JBQWtCLEVBQUUseVJBQXlSLGVBQWUsTUFBTSxnREFBZ0QsZUFBZSwwREFBMEQsdUJBQXVCLHVJQUF1SSxhQUFhLGVBQWUsZ0JBQWdCLFdBQVcsV0FBVyxrQkFBa0IsWUFBWSxnRUFBZ0UscUJBQXFCLHFFQUFxRSwwQ0FBMEMsTUFBTSxpS0FBaUssUUFBUSxPQUFPO0FBQ3pyb0QsdUJBQXVCLFFBQVEseUxBQXlMLElBQUksK0JBQStCLFNBQVMsWUFBWSx3QkFBd0IsTUFBTSxjQUFjLGVBQWUsNkJBQTZCLG9DQUFvQyxtQkFBbUIsVUFBVSxLQUFLLFlBQVksY0FBYyxTQUFTLElBQUksMkNBQTJDLGtDQUFrQyxnRUFBZ0UsU0FBUyxZQUFZLHdCQUF3QixzREFBc0QsVUFBVSxZQUFZLGdCQUFnQixjQUFjLFlBQVkscUJBQXFCLDZDQUE2Qyx3Q0FBd0MsU0FBUyx3Q0FBd0MsS0FBSyxJQUFJLEVBQUUsV0FBVyxpREFBaUQsU0FBUyxhQUFhLGdCQUFnQiw4QkFBOEIsTUFBTSxxQkFBcUIsd0NBQXdDLG9CQUFvQix5RkFBeUYsNEJBQTRCLHVDQUF1QyxPQUFPLFNBQVMsOENBQThDLElBQUksc0JBQXNCLDBDQUEwQyxVQUFVLDBCQUEwQiw4QkFBOEIsd0RBQXdELElBQUksb0JBQW9CLHdEQUF3RCxXQUFXLDZDQUE2QyxXQUFXLGdCQUFnQjtBQUM3ckQsR0FBRywwQkFBMEIsc0JBQXNCLGVBQWUsdUNBQXVDLGlCQUFpQixrQkFBa0Isc0RBQXNELElBQUksd0JBQXdCLGdDQUFnQyxtQkFBbUIsMEJBQTBCLGFBQWEsNkJBQTZCLGNBQWMsWUFBWSxxQkFBcUIsMkJBQTJCLGdDQUFnQyw2QkFBNkIsc0JBQXNCLGtDQUFrQyxpQkFBaUIsR0FBRyxHQUFHLGdCQUFnQiw2Q0FBNkMsZ0pBQWdKLElBQUksUUFBUSxtQ0FBbUMsUUFBUSxpQkFBaUIsYUFBYSxzQkFBc0IsVUFBVSxpQkFBaUIsb0RBQW9ELCtCQUErQiwrQ0FBK0Msa0JBQWtCLGVBQWUsNEJBQTRCLG1CQUFtQiwyRUFBMkUsa0JBQWtCLGNBQWMsRUFBRSxpQ0FBaUMsbUJBQW1CLG9DQUFvQyxtTEFBbUwsSUFBSSxTQUFTLDRDQUE0QyxpQkFBaUIsT0FBTyx1Q0FBdUMsV0FBVyxvQ0FBb0MsRUFBRSxTQUFTLDJCQUEyQixpQkFBaUIsdUJBQXVCLDZDQUE2QyxrQkFBa0IsMkRBQTJELFFBQVEsMkNBQTJDLGtGQUFrRixjQUFjLFFBQVEsd0VBQXdFLCtQQUErUCw2Q0FBNkMsMkJBQTJCLGlEQUFpRCxjQUFjLFdBQVcsaUJBQWlCLHdCQUF3QixRQUFRLDRDQUE0QyxzQ0FBc0Msd0JBQXdCLHVCQUF1QixZQUFZLEtBQUssTUFBTSxnQkFBZ0IsNkNBQTZDLGFBQWEscUNBQXFDLFNBQVMsV0FBVyxnRUFBZ0UsSUFBSSxPQUFPLDJHQUEyRyxtQ0FBbUMsOENBQThDLDJCQUEyQixtREFBbUQsK0JBQStCLEdBQUcsYUFBYSwrRkFBK0Ysb0JBQW9CLG9GQUFvRixxQ0FBcUMsd0JBQXdCLDRDQUE0Qyx5REFBeUQsTUFBTSx5QkFBeUIsV0FBVyw2RkFBNkYsK0NBQStDLDBCQUEwQixhQUFhLGFBQWEsc0VBQXNFLGtCQUFrQiw4QkFBOEIsaUxBQWlMLGVBQWUsVUFBVSxhQUFhLFVBQVUsRUFBRSw4SEFBOEgsVUFBVSx5SkFBeUosdUdBQXVHLHNCQUFzQiw4REFBOEQsc0JBQXNCLHNEQUFzRCx3QkFBd0IsOEZBQThGLDZIQUE2SCw0RUFBNEUsb0VBQW9FLDhCQUE4Qiw4RkFBOEYseUJBQXlCLCtXQUErVyx3REFBd0Qsa0hBQWtILGtCQUFrQixnQkFBZ0IsS0FBSyxxQkFBcUIsbUJBQW1CLElBQUksK0dBQStHLEVBQUUsS0FBSyxrQkFBa0IscUJBQXFCLE1BQU0sSUFBSSxnQ0FBZ0MsUUFBUSxHQUFHLE9BQU8sdUNBQXVDLFFBQVEsSUFBSSxFQUFFLHFFQUFxRSxlQUFlLHFCQUFxQixJQUFJLFNBQVMsWUFBWSxZQUFZLElBQUksS0FBSyxNQUFNLHFIQUFxSCxXQUFXLGVBQWUsT0FBTyxnQ0FBZ0MsV0FBVywrR0FBK0csRUFBRTtBQUNoN007QUFDQSw4REFBOEQsU0FBUyxjQUFjLGVBQWUsbUdBQW1HLGVBQWUsd1BBQXdQLG9GQUFvRixhQUFhLDRKQUE0SixFQUFFLGlCQUFpQixxQkFBcUIsaUNBQWlDLHNDQUFzQywyQkFBMkIsdURBQXVELHNCQUFzQixTQUFTLHNDQUFzQyxZQUFZLG1CQUFtQixLQUFLLHlDQUF5Qyx5Q0FBeUMsYUFBYSxvSUFBb0ksaUVBQWlFLEdBQUcsU0FBUyxHQUFHLE1BQU0saUJBQWlCLFFBQVEsU0FBUyxrQkFBa0IsNERBQTRELFdBQVcsbUNBQW1DLDZCQUE2QixrQkFBa0IsdUVBQXVFLGdCQUFnQix3Q0FBd0MsZ0JBQWdCLHdFQUF3RSxrQkFBa0IsK0NBQStDLE9BQU8saWNBQWljLDZDQUE2QyxtQkFBbUIsK0JBQStCLG1DQUFtQyxJQUFJLHFCQUFxQiwyRUFBMkUsa0JBQWtCLDRDQUE0QyxFQUFFLFVBQVUsZ0NBQWdDLGdCQUFnQixxRUFBcUUsaUJBQWlCLG1GQUFtRiwwSUFBMEksUUFBUSw4QkFBOEIsd0ZBQXdGLGdDQUFnQyxLQUFLLE9BQU8sRUFBRSxrQkFBa0IsTUFBTSxrQ0FBa0MsMEVBQTBFLG9FQUFvRSxlQUFlLDJCQUEyQixlQUFlLG1DQUFtQyxpQ0FBaUMsbUJBQW1CLElBQUksZ0NBQWdDLFNBQVMsdUJBQXVCLE1BQU0sb0RBQW9ELGNBQWMsNkNBQTZDO0FBQzNpSCxnQkFBZ0IsU0FBUyxjQUFjLDJCQUEyQixlQUFlLHVCQUF1QixJQUFJLDRDQUE0QyxHQUFHLGdDQUFnQyw0SUFBNEksbURBQW1ELFlBQVkscUJBQXFCLHlDQUF5QyxxRUFBcUUsdUNBQXVDLHVFQUF1RSxhQUFhLDJCQUEyQixjQUFjLDhDQUE4Qyx5R0FBeUcsRUFBRSxXQUFXLCtDQUErQyxnQ0FBZ0MsRUFBRSxVQUFVLE9BQU8sNkJBQTZCLHFFQUFxRSxJQUFJLHlCQUF5QixTQUFTLFdBQVcsUUFBUSxRQUFRLElBQUksRUFBRSxzQkFBc0IsSUFBSSxRQUFRLFNBQVMsZUFBZSxPQUFPLElBQUksbUJBQW1CLFNBQVMsbUJBQW1CLG1CQUFtQixJQUFJLHlCQUF5QixTQUFTLFVBQVUsbUZBQW1GLHdEQUF3RCw4QkFBOEIsNEJBQTRCLEVBQUUsMEJBQTBCLE9BQU8sS0FBSywrQ0FBK0MsY0FBYyx1QkFBdUIsNEJBQTRCLEVBQUUsb0JBQW9CLHFDQUFxQyxHQUFHLGNBQWMsSUFBSSxrREFBa0QsRUFBRSxxQkFBcUIsZUFBZSw0RUFBNEUsTUFBTSwrQkFBK0IsS0FBSyxFQUFFLFdBQVcsc0JBQXNCLHdCQUF3QiwwQkFBMEIsS0FBSyxPQUFPLG9CQUFvQixtQkFBbUIsd0JBQXdCLGtCQUFrQixvQkFBb0IsVUFBVSwyQkFBMkIsa0JBQWtCLEdBQUcsbUJBQW1CLGdEQUFnRCxHQUFHLG1CQUFtQixpQ0FBaUMsYUFBYSx3RkFBd0YsZUFBZSwyQkFBMkIsaUNBQWlDLHFDQUFxQyxnQkFBZ0IsTUFBTSxRQUFRLHdCQUF3QixLQUFLLGFBQWEsV0FBVywwcUNBQTBxQywrQkFBK0IsV0FBVyxTQUFTLEVBQUUsMkJBQTJCLDZDQUE2QyxrQ0FBa0MsY0FBYyxxQkFBcUIsY0FBYyx1QkFBdUIsa0JBQWtCLEdBQUcsS0FBSywrSkFBK0osZ0JBQWdCLHVCQUF1QixtQkFBbUIsd0JBQXdCLDZCQUE2QiwwQ0FBMEMsNEpBQTRKLG9CQUFvQixjQUFjLE9BQU8saUdBQWlHLCtCQUErQixjQUFjLGdFQUFnRSxjQUFjLHdEQUF3RCxJQUFJLG9EQUFvRCxpY0FBaWMsR0FBRyxpQkFBaUIsd0lBQXdJLEdBQUcsc0NBQXNDLGVBQWUsUUFBUSxrQkFBa0Isa0JBQWtCLHVFQUF1RSx1QkFBdUIsbUVBQW1FLGtEQUFrRCwwQkFBMEIsZ0NBQWdDLHNDQUFzQyw0QkFBNEIsOEJBQThCLG1DQUFtQyw0QkFBNEIsNkZBQTZGLGtEQUFrRCx5QkFBeUIsaUVBQWlFLElBQUksa0VBQWtFLFVBQVUsZUFBZSxtRUFBbUUsZ0dBQWdHLGNBQWMsZUFBZSxjQUFjLFdBQVcsK0NBQStDLGNBQWMsV0FBVywySkFBMkosY0FBYyw2QkFBNkIsY0FBYyw2QkFBNkIsY0FBYywyQkFBMkIsY0FBYyw4QkFBOEIsY0FBYyx3QkFBd0IsZUFBZSxXQUFXLGlFQUFpRSxlQUFlLFdBQVcsZ0VBQWdFLGVBQWUsV0FBVywrREFBK0QsZUFBZSxXQUFXLGlFQUFpRSxtQkFBbUIsV0FBVyx5Q0FBeUMsNkJBQTZCLDJEQUEyRCxtQkFBbUIsV0FBVyxpRUFBaUUsa0NBQWtDLDJEQUEyRCxlQUFlLFdBQVcsZ0VBQWdFLGNBQWMsV0FBVyx5Q0FBeUMsNkJBQTZCLDJEQUEyRCxjQUFjLFdBQVcseUNBQXlDLDZCQUE2Qix5QkFBeUIsY0FBYyxXQUFXLHlDQUF5Qyw2QkFBNkIseUJBQXlCLGNBQWMsV0FBVyx5Q0FBeUMsNkJBQTZCLDBDQUEwQyxjQUFjLHdDQUF3QyxjQUFjLDZCQUE2QixjQUFjLHVLQUF1SyxjQUFjLFdBQVcsa0JBQWtCLElBQUksYUFBYSxNQUFNLGtDQUFrQyxrREFBa0QsY0FBYyxXQUFXLCtHQUErRyxjQUFjLHlCQUF5QixjQUFjLFdBQVcsb0dBQW9HLG1CQUFtQixzQkFBc0Isb0JBQW9CLG1DQUFtQyw0QkFBNEIsZUFBZSx5QkFBeUIsK0JBQStCLG9FQUFvRSxpQkFBaUIsSUFBSSxpQ0FBaUMsb0NBQW9DLGtEQUFrRCxXQUFXLGlCQUFpQixxQkFBcUIsaUNBQWlDLHNDQUFzQywyQkFBMkIsdURBQXVELHNCQUFzQixTQUFTLGNBQWMsWUFBWSxtQkFBbUIsS0FBSyx5Q0FBeUMseUNBQXlDLGNBQWMsb0lBQW9JLGlFQUFpRSxHQUFHLFNBQVMsa0JBQWtCLGl6SkFBaXpKLEdBQUcsd0JBQXdCLGVBQWUseUdBQXlHLDZNQUE2TSxXQUFXO0FBQzUvZCw0Q0FBNEMsUUFBUSw4R0FBOEcsK0dBQStHLFNBQVMsbUNBQW1DLGlCQUFpQixnSEFBZ0gsbUJBQW1CLCtHQUErRyxpQkFBaUIsNEhBQTRILHdGQUF3RixrQ0FBa0MsMkhBQTJILGlCQUFpQix1QkFBdUIsZ0hBQWdILDZOQUE2TixvQkFBb0IsaUJBQWlCLHlMQUF5TCxrRkFBa0YsbUxBQW1MLGlCQUFpQixzRkFBc0YsZUFBZSxlQUFlLGVBQWUseUxBQXlMLHNFQUFzRSxnQ0FBZ0MsWUFBWSxXQUFXLE1BQU0sc0JBQXNCLHdCQUF3QixVQUFVLEtBQUssbUJBQW1CLGlGQUFpRixPQUFPLGlCQUFpQiwrRUFBK0UsT0FBTyxlQUFlLGNBQWMsd1dBQXdXLE1BQU0sNkJBQTZCLDBDQUEwQyxHQUFHLGlIQUFpSCxNQUFNLHNCQUFzQixzREFBc0QsVUFBVSwwQkFBMEIsd0NBQXdDLGNBQWMsV0FBVyxVQUFVLHFDQUFxQyxNQUFNLHVCQUF1QixNQUFNLDZCQUE2QixLQUFLLG9EQUFvRCw0QkFBNEIsS0FBSyxLQUFLLCtDQUErQyxTQUFTLDBKQUEwSixJQUFJLCtDQUErQyw0RUFBNEUsUUFBUSxxR0FBcUcsaUNBQWlDLElBQUksNkJBQTZCLGtCQUFrQixzQ0FBc0MsMklBQTJJLGlDQUFpQyx1QkFBdUIsc0NBQXNDLElBQUksOEJBQThCLDJDQUEyQyxZQUFZLElBQUksZ0JBQWdCLElBQUksS0FBSyxrR0FBa0csUUFBUSxRQUFRLEdBQUcsY0FBYyxpUEFBaVAsSUFBSSx1RUFBdUUsMEJBQTBCLFdBQVcsTUFBTSxvQkFBb0IsS0FBSyxpQkFBaUIscUJBQXFCLE1BQU0sb0JBQW9CLEtBQUssaUJBQWlCLFVBQVUsZ0JBQWdCLHNDQUFzQywwREFBMEQsb0JBQW9CLHdDQUF3Qyw2QkFBNkIsdUNBQXVDLGdEQUFnRCxxSEFBcUgsOERBQThELDRFQUE0RSxXQUFXLG9DQUFvQyx5Q0FBeUMsNkNBQTZDLHdEQUF3RCw2S0FBNkssZUFBZSxtQ0FBbUMscUJBQXFCLGdEQUFnRCwwRUFBMEUsMkJBQTJCLFNBQVMscUNBQXFDLGtDQUFrQyxJQUFJLDBEQUEwRCxjQUFjLG9CQUFvQixrQ0FBa0MsZ0JBQWdCLDZEQUE2RCxRQUFRLHNDQUFzQyxzQkFBc0IseUNBQXlDLG1CQUFtQixHQUFHLFVBQVUsc0NBQXNDLHNCQUFzQix5Q0FBeUMsbUJBQW1CLEdBQUcsU0FBUywyQkFBMkIsbURBQW1ELDBFQUEwRSxzQkFBc0IsMENBQTBDLFFBQVEsc0NBQXNDLGdDQUFnQyxzREFBc0QsSUFBSSx3QkFBd0IsWUFBWSxXQUFXLE1BQU0sV0FBVyw4REFBOEQsWUFBWSxzREFBc0QsSUFBSSx3QkFBd0IscUNBQXFDLCtCQUErQixJQUFJLDBCQUEwQixTQUFTLDZFQUE2RSxHQUFHLHNCQUFzQixlQUFlLEtBQUssSUFBSSwrQkFBK0IsV0FBVyxTQUFTLGNBQWMsZ0JBQWdCLDZDQUE2QywrQkFBK0IsSUFBSSx3Q0FBd0MsTUFBTSxhQUFhLG1CQUFtQiw4Z0lBQThnSSxHQUFHLGlCQUFpQiwyQkFBMkIsR0FBRyxFQUFFLGVBQWUsME1BQTBNLG1CQUFtQixvTkFBb04sR0FBRyxpQkFBaUIsaWZBQWlmLEdBQUcsRUFBRSxlQUFlLDJDQUEyQyxJQUFJLGNBQWMseUJBQXlCLEdBQUcsTUFBTSxVQUFVLFVBQVUsZUFBZSw2UUFBNlEsZUFBZSx1R0FBdUcsbUJBQW1CLDYvQ0FBNi9DLEdBQUcsaUJBQWlCLHFNQUFxTSxHQUFHLGlCQUFpQiwrQ0FBK0MsR0FBRyxpQkFBaUIsNkZBQTZGLEdBQUcsRUFBRSxpQkFBaUIsc0RBQXNELElBQUksd0JBQXdCLDZHQUE2RyxvQkFBb0IsRUFBRSxpQkFBaUIsbURBQW1ELHNEQUFzRCxJQUFJLHdCQUF3QixvQkFBb0IsaUJBQWlCLDRDQUE0QyxzREFBc0QsSUFBSSx3QkFBd0Isb0JBQW9CLGlCQUFpQixrQkFBa0Isc0RBQXNELElBQUksd0JBQXdCLHFCQUFxQixLQUFLLEtBQUssS0FBSyxtQkFBbUIsa0VBQWtFLFNBQVMsNEJBQTRCLG9CQUFvQix3SUFBd0kseUJBQXlCLHVDQUF1QyxHQUFHLCtDQUErQyxtQkFBbUIsMEJBQTBCLGVBQWUsc0NBQXNDLGNBQWMsMkpBQTJKLDZCQUE2Qix5Q0FBeUMsOEJBQThCLEtBQUssaUJBQWlCLG1CQUFtQix1QkFBdUIsZUFBZSxTQUFTLHFCQUFxQiw4QkFBOEIsSUFBSSxlQUFlLGdEQUFnRCxlQUFlLHFDQUFxQyxlQUFlLElBQUksYUFBYSxNQUFNLFVBQVUsVUFBVSxpQkFBaUIsdUJBQXVCLGVBQWUsaUVBQWlFLFlBQVksV0FBVywwQkFBMEIsU0FBUyxlQUFlLFNBQVMsWUFBWSxXQUFXLGtDQUFrQyxzQkFBc0IsZUFBZSw4RkFBOEYsNkJBQTZCLG9CQUFvQix3QkFBd0IsY0FBYyxTQUFTLGNBQWMsOENBQThDLElBQUksc0JBQXNCLGlGQUFpRixxQkFBcUIsd0JBQXdCLElBQUksZUFBZSxzRUFBc0UsZUFBZSxRQUFRLHNJQUFzSSxvQ0FBb0MsUUFBUSxlQUFlLGlDQUFpQyxxQkFBcUIsK0JBQStCLEVBQUUsZUFBZSxpQkFBaUIsd0JBQXdCLEVBQUUsY0FBYywrSkFBK0osb0ZBQW9GLGNBQWMsK0JBQStCLGFBQWEsY0FBYyxjQUFjLDBCQUEwQix1QkFBdUIsc0RBQXNELElBQUksd0JBQXdCLHNCQUFzQix3QkFBd0Isb0JBQW9CLHNDQUFzQyw2QkFBNkIsd0JBQXdCLHlDQUF5QyxJQUFJLGtCQUFrQix5Q0FBeUMsR0FBRywwREFBMEQsTUFBTSxFQUFFLHFCQUFxQixJQUFJLE1BQU0sNkJBQTZCLHdCQUF3Qix5Q0FBeUMsSUFBSSxrQkFBa0IseUNBQXlDLEtBQUssOEJBQThCLGVBQWUsNERBQTRELGlCQUFpQixxR0FBcUcsdUNBQXVDLGFBQWEsWUFBWSxXQUFXLHVCQUF1QixVQUFVLFVBQVUsSUFBSSxtSUFBbUksVUFBVSxpQkFBaUIsVUFBVSwyQ0FBMkMsUUFBUSxLQUFLLGtDQUFrQyxFQUFFLFNBQVMsZUFBZSw4REFBOEQsZUFBZSx5QkFBeUIsY0FBYyxXQUFXLFFBQVEsS0FBSyxpREFBaUQsU0FBUyxnQkFBZ0IsMEJBQTBCLDJDQUEyQyx3QkFBd0IsdUJBQXVCLHFCQUFxQix3QkFBd0IsMEJBQTBCLDZCQUE2QiwwQkFBMEIsNkJBQTZCLDBCQUEwQiwwQkFBMEIsMEJBQTBCLDZCQUE2QixrQkFBa0IsNENBQTRDLFFBQVEsT0FBTyxXQUFXLFFBQVEsV0FBVyxvQ0FBb0Msa0RBQWtELGtFQUFrRSxRQUFRLFdBQVcsc3JFQUFzckUsMkJBQTJCLDZCQUE2QixvQkFBb0IsTUFBTSxlQUFlLHFOQUFxTixlQUFlLG9CQUFvQixRQUFRLE1BQU0saUtBQWlLLGdCQUFnQixPQUFPLDRLQUE0SyxvQ0FBb0MsK0RBQStELGlCQUFpQix1QkFBdUIsY0FBYyxnRkFBZ0YsZ0NBQWdDLGNBQWMsc0ZBQXNGLG9EQUFvRCxJQUFJLDhDQUE4QyxJQUFJLHNCQUFzQiw2QkFBNkIsUUFBUSxNQUFNLElBQUksUUFBUSxxRUFBcUUsaUJBQWlCLHdEQUF3RCxxQ0FBcUMscUJBQXFCLHNCQUFzQiwrQkFBK0Isa0JBQWtCLGlCQUFpQix3QkFBd0IsRUFBRSx3REFBd0QsMkJBQTJCLDRCQUE0QixZQUFZLGtCQUFrQixNQUFNLDBDQUEwQyxJQUFJLGdCQUFnQiw4Q0FBOEMsV0FBVyxTQUFTLDhDQUE4QyxhQUFhLEVBQUUsMkJBQTJCLGFBQWEsZUFBZSx3REFBd0QsT0FBTyx3RUFBd0UsT0FBTyxNQUFNLHNGQUFzRixjQUFjLHFCQUFxQixxQkFBcUIsaU9BQWlPLHdIQUF3SCxtS0FBbUssWUFBWSx3T0FBd08sR0FBRyxFQUFFLHVCQUF1Qix5QkFBeUIsY0FBYyxFQUFFLHdCQUF3QixNQUFNLEVBQUUsZ0JBQWdCLDJDQUEyQyxNQUFNLDBEQUEwRCwrQ0FBK0MsMkRBQTJELGtCQUFrQixrQkFBa0Isa0NBQWtDLDZEQUE2RCxrQkFBa0Isa0JBQWtCLGtEQUFrRCxtQkFBbUIseUJBQXlCLElBQUksK0JBQStCLE1BQU0sV0FBVyxrQkFBa0IsNEVBQTRFLEdBQUcsTUFBTSwrZEFBK2QsK0RBQStELGk3RkFBaTdGLGlCQUFpQiwrL0JBQSsvQixxMENBQXEwQyw4QkFBOEIsZ1FBQWdRLDRKQUE0SixFQUFFLDhsQkFBOGxCLElBQUksRUFBRSxnQ0FBZ0MsRUFBRSxtQkFBbUIsVUFBVSw4dEJBQTh0QixjQUFjLGFBQWEsU0FBUyxnQkFBZ0IsaXlDQUFpeUMsT0FBTyxXQUFXLHFCQUFxQixvQ0FBb0Msa0hBQWtILHdCQUF3QixrR0FBa0csWUFBWSx5QkFBeUIsZUFBZSxvQ0FBb0MsTUFBTSxFQUFFLHNCQUFzQixFQUFFLGdDQUFnQyxNQUFNLEVBQUUsY0FBYyxFQUFFLDZCQUE2QixNQUFNLEVBQUUsVUFBVSxFQUFFLGlDQUFpQyxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsZ0NBQWdDLE1BQU0sRUFBRSxjQUFjLEVBQUUsK0NBQStDLE1BQU0sRUFBRSxpQkFBaUIsaUJBQWlCLEVBQUUsdUJBQXVCLEVBQUUsRUFBRSwyQ0FBMkMsTUFBTSxFQUFFLGlCQUFpQixpQkFBaUIsRUFBRSxtQkFBbUIsRUFBRSxFQUFFLHNDQUFzQyxNQUFNLEVBQUUsZ0NBQWdDLEVBQUUseUNBQXlDLE1BQU0sRUFBRSxpQkFBaUIsaUJBQWlCLEVBQUUsaUJBQWlCLEVBQUUsRUFBRSxpREFBaUQsTUFBTSxFQUFFLGlCQUFpQixpQkFBaUIsRUFBRSx3QkFBd0IsRUFBRSxFQUFFLCtDQUErQyxNQUFNLEVBQUUsaUJBQWlCLGlCQUFpQixFQUFFLHNCQUFzQixFQUFFLEVBQUUsbURBQW1ELE1BQU0sRUFBRSxpQkFBaUIsaUJBQWlCLEVBQUUsMEJBQTBCLEVBQUUsRUFBRSxpREFBaUQsTUFBTSxFQUFFLGlCQUFpQixpQkFBaUIsRUFBRSx3QkFBd0IsRUFBRSxFQUFFLHNEQUFzRCxNQUFNLEVBQUUsaUJBQWlCLGlCQUFpQixFQUFFLDZCQUE2QixFQUFFLEVBQUUsb0RBQW9ELE1BQU0sRUFBRSxpQkFBaUIsaUJBQWlCLEVBQUUsMkJBQTJCLEVBQUUsRUFBRSxrREFBa0QsTUFBTSxFQUFFLGlCQUFpQixpQkFBaUIsRUFBRSwwQkFBMEIsRUFBRSxFQUFFLG9EQUFvRCxNQUFNLEVBQUUsaUJBQWlCLGlCQUFpQixFQUFFLDJCQUEyQixFQUFFLEVBQUUsbURBQW1ELE1BQU0sRUFBRSxpQkFBaUIsaUJBQWlCLEVBQUUsMEJBQTBCLEVBQUUsRUFBRSw0QkFBNEIsMEVBQTBFLDBCQUEwQix1QkFBdUIsTUFBTSxFQUFFLGlCQUFpQixpQkFBaUIsRUFBRSxlQUFlLEVBQUUsU0FBUyxNQUFNLEVBQUUsaUJBQWlCLGlCQUFpQixFQUFFLDJDQUEyQyxFQUFFLEVBQUUsOEJBQThCLGtHQUFrRywwQkFBMEIsdUJBQXVCLE1BQU0sRUFBRSxpQkFBaUIsaUJBQWlCLEVBQUUsaUJBQWlCLEVBQUUsU0FBUyxNQUFNLEVBQUUsaUJBQWlCLGlCQUFpQixFQUFFLCtDQUErQyxFQUFFLEVBQUUsMkVBQTJFLHNMQUFzTCxpSEFBaUgsbUZBQW1GLCtDQUErQyx3QkFBd0IsR0FBRyxpQ0FBaUMsTUFBTSxFQUFFLGFBQWEsRUFBRSx3Q0FBd0MsTUFBTSxFQUFFLG1CQUFtQixFQUFFLGtCQUFrQixnQkFBZ0IsaUJBQWlCLGVBQWUsbUNBQW1DLEdBQUcsZ0JBQWdCLDRCQUE0QixhQUFhLG9CQUFvQixZQUFZLHdCQUF3QixXQUFXLHVCQUF1QixpQkFBaUIsNkJBQTZCLGVBQWUsMkJBQTJCLGFBQWEsZUFBZSwyQkFBMkIsR0FBRyxZQUFZLHdCQUF3QixZQUFZLGVBQWUseUJBQXlCLEdBQUcsV0FBVyx1QkFBdUIsV0FBVyxlQUFlLHNCQUFzQixHQUFHLFVBQVUsc0JBQXNCLGNBQWMsZUFBZSw2QkFBNkIsR0FBRyxhQUFhLHlCQUF5QixhQUFhLGVBQWUsMkJBQTJCLEdBQUcsWUFBWSx3QkFBd0IsNEJBQTRCLGVBQWUsMkNBQTJDLEdBQUcsMkJBQTJCLHVDQUF1QyxjQUFjLGVBQWUsMEJBQTBCLEdBQUcsYUFBYSx5QkFBeUIsb0JBQW9CLGVBQWUsaUNBQWlDLEdBQUcsbUJBQW1CLCtCQUErQixnQkFBZ0IsZUFBZSxvREFBb0QsR0FBRyxZQUFZLGVBQWUsZ0RBQWdELEdBQUcsVUFBVSxlQUFlLDhDQUE4QyxHQUFHLGlCQUFpQixlQUFlLHNEQUFzRCxHQUFHLGVBQWUsZUFBZSxvREFBb0QsR0FBRyxtQkFBbUIsZUFBZSx3REFBd0QsR0FBRyxpQkFBaUIsZUFBZSxzREFBc0QsR0FBRyxzQkFBc0IsZUFBZSwyREFBMkQsR0FBRyxvQkFBb0IsZUFBZSx5REFBeUQsR0FBRyxtQkFBbUIsZUFBZSx1REFBdUQsR0FBRyxvQkFBb0IsZUFBZSx5REFBeUQsR0FBRyxtQkFBbUIsZUFBZSx3REFBd0QsR0FBRyxpQkFBaUIsZUFBZSx1Q0FBdUMsaUJBQWlCLEtBQUssZUFBZSxNQUFNLGFBQWEsRUFBRSxHQUFHLHlCQUF5QixlQUFlLCtDQUErQyxnQkFBZ0IsS0FBSyxpQkFBaUIsTUFBTSxlQUFlLE1BQU0sYUFBYSxNQUFNLGNBQWMsTUFBTSxlQUFlLEVBQUUsR0FBRyx1QkFBdUIsY0FBYyxlQUFlLDJDQUEyQyw0QkFBNEIsS0FBSyxpQkFBaUIsTUFBTSxlQUFlLE1BQU0sYUFBYSxFQUFFLEdBQUcsR0FBRyxpQkFBaUIsNkJBQTZCLDhCQUE4QixtSEFBbUgsSUFBSSwwQ0FBMEMsaURBQWlELE1BQU0sRUFBRSwrRUFBK0UsRUFBRSxzSEFBc0gscURBQXFELEtBQUssTUFBTSxVQUFVLGlDQUFpQyxlQUFlLDJDQUEyQyxHQUFHLGtCQUFrQixlQUFlLDBCQUEwQixHQUFHLGdDQUFnQyxJQUFJLDRDQUE0QyxNQUFNLFdBQVcscUJBQXFCLGlDQUFpQyxzQkFBc0IsZUFBZSwwQ0FBMEMsSUFBSSxnQkFBZ0IseUVBQXlFLEdBQUcsRUFBRSxhQUFhLHlEQUF5RCxJQUFJLEVBQUUsbUNBQW1DLG1CQUFtQixzQkFBc0Isb0JBQW9CLG1DQUFtQyw0QkFBNEIsZUFBZSx5QkFBeUIsK0JBQStCLG9FQUFvRSxpQkFBaUIsSUFBSSxpQ0FBaUMsb0NBQW9DLGtEQUFrRCxXQUFXLGlCQUFpQixxQkFBcUIsaUNBQWlDLHNDQUFzQywyQkFBMkIsdURBQXVELHNCQUFzQixTQUFTLGVBQWUsWUFBWSxtQkFBbUIsS0FBSyx5Q0FBeUMseUNBQXlDLGNBQWMsb0lBQW9JLGlFQUFpRSxHQUFHLFNBQVMsNEJBQTRCLGNBQWMscURBQXFELHdCQUF3QixJQUFJLGFBQWEsR0FBRyxpSUFBaUksVUFBVSxlQUFlLGtFQUFrRSxRQUFRLDhDQUE4QyxJQUFJLHNCQUFzQiw2Q0FBNkMsT0FBTyw4Q0FBOEMsSUFBSSxzQkFBc0IsNENBQTRDLFVBQVUsOENBQThDLElBQUksc0JBQXNCLCtDQUErQyxRQUFRLDhDQUE4QyxJQUFJLHNCQUFzQiw2Q0FBNkMsVUFBVSxxQ0FBcUMsWUFBWSxxQ0FBcUMsY0FBYyxlQUFlLDhEQUE4RCxjQUFjLDBCQUEwQixFQUFFLHFDQUFxQyxrR0FBa0csUUFBUSx3Q0FBd0Msc0JBQXNCLGtGQUFrRixpQkFBaUIsYUFBYSxjQUFjLGlSQUFpUixxQ0FBcUMsR0FBRyxRQUFRLDhDQUE4QyxJQUFJLHNCQUFzQiwyQkFBMkIsd0JBQXdCLE9BQU8sOENBQThDLElBQUksc0JBQXNCLDBCQUEwQix3QkFBd0IsVUFBVSw4Q0FBOEMsSUFBSSxzQkFBc0IsNkJBQTZCLHdCQUF3QixPQUFPLDRCQUE0QixRQUFRLDhDQUE4QyxJQUFJLHNCQUFzQiwyQkFBMkIsd0JBQXdCLFNBQVMsOENBQThDLElBQUksc0JBQXNCLDJCQUEyQiw4QkFBOEIsZUFBZSw2Q0FBNkMsa0JBQWtCLHFCQUFxQixtQkFBbUIsaUZBQWlGLGtCQUFrQix1QkFBdUIsVUFBVSw4QkFBOEIsTUFBTSw4Q0FBOEMsSUFBSSxzQkFBc0IsaURBQWlELGdCQUFnQixnQkFBZ0IsbUNBQW1DLDBHQUEwRyxvREFBb0QsK0JBQStCLG1DQUFtQyxtREFBbUQsTUFBTSxtQ0FBbUMsa0JBQWtCLG1EQUFtRCxNQUFNLHNDQUFzQyxrQkFBa0Isb0RBQW9ELE1BQU0sb0NBQW9DLGtCQUFrQix1REFBdUQsWUFBWSw4Q0FBOEMsSUFBSSxzQkFBc0IsaURBQWlELHNCQUFzQixnQkFBZ0IsbUNBQW1DLGlGQUFpRiwwQkFBMEIsMkJBQTJCLHNEQUFzRCxJQUFJLHdCQUF3QiwrR0FBK0csU0FBUyxjQUFjLCtEQUErRCxrQ0FBa0MsMERBQTBELG9HQUFvRyxjQUFjLCtGQUErRixtQkFBbUIscUNBQXFDLHFFQUFxRSxvQkFBb0IsbU5BQW1OLG9CQUFvQixFQUFFLGtCQUFrQixrREFBa0Qsc0JBQXNCLDZDQUE2QyxPQUFPLGdFQUFnRSx3S0FBd0ssRUFBRSwwR0FBMEcsRUFBRSxvQkFBb0Isc1BBQXNQLHNJQUFzSSxZQUFZLDROQUE0TixLQUFLLElBQUksZUFBZSxvUEFBb1AsTUFBTSxtREFBbUQsc05BQXNOLEdBQUcsRUFBRSxRQUFRLCtGQUErRixnQkFBZ0IsKzJCQUErMkIsR0FBRyxpQkFBaUIsaXREQUFpdEQsR0FBRyxFQUFFLGFBQWEsaUZBQWlGLElBQUksRUFBRSxtQkFBbUIsK3lDQUEreUMsR0FBRyxhQUFhLGNBQWMseWhCQUF5aEIsZ0JBQWdCLGNBQWMsTUFBTSxFQUFFLHNEQUFzRCxFQUFFLHdCQUF3QiwrTUFBK00sMEJBQTBCLCtCQUErQiwwQkFBMEIsNEpBQTRKLHlEQUF5RCwrSEFBK0gsWUFBWSxlQUFlLHVCQUF1QixnRkFBZ0YsaUJBQWlCLHVCQUF1QixrQ0FBa0MsK0ZBQStGLG1DQUFtQyxnREFBZ0QsU0FBUyx3QkFBd0IsK0JBQStCLFFBQVEsRUFBRSxzQ0FBc0MsMkNBQTJDLEVBQUUsNkVBQTZFLFFBQVEsY0FBYyxXQUFXLGFBQWEsdUNBQXVDLFFBQVEsRUFBRSxXQUFXLGtCQUFrQixTQUFTLGdEQUFnRCwrQ0FBK0MsYUFBYSxXQUFXLGFBQWEsZ0NBQWdDLFFBQVEsRUFBRSxtQkFBbUIsNERBQTRELCtDQUErQyxpQkFBaUIsa0NBQWtDLDRDQUE0QyxnQkFBZ0Isc0JBQXNCLEVBQUUsc0pBQXNKLFlBQVksaUZBQWlGLDBCQUEwQixNQUFNLEVBQUUsK2JBQStiLEVBQUUsTUFBTSxXQUFXLHVCQUF1QixNQUFNLHNCQUFzQiw4QkFBOEIsYUFBYSxvQ0FBb0MsTUFBTSxFQUFFLG1YQUFtWCxFQUFFLFdBQVcsa0NBQWtDLE1BQU0sb0JBQW9CLDhCQUE4QixhQUFhLG9DQUFvQyxNQUFNLEVBQUUsME5BQTBOLEVBQUUsV0FBVyxnQ0FBZ0MsTUFBTSxpQkFBaUIsOEJBQThCLGFBQWEsYUFBYSw2Q0FBNkMsa0JBQWtCLG9DQUFvQyxzQ0FBc0MsTUFBTSxFQUFFLHlNQUF5TSxFQUFFLDZDQUE2Qyw0QkFBNEIsTUFBTSx3QkFBd0IsOEJBQThCLGFBQWEsMkJBQTJCLFdBQVcsRUFBRSxxQ0FBcUMsRUFBRSxXQUFXLG9DQUFvQyxNQUFNLGFBQWEsOEJBQThCLGFBQWEsb0NBQW9DLE1BQU0sRUFBRSxvUkFBb1IsRUFBRSxXQUFXLHVCQUF1QixNQUFNLGlCQUFpQiw4QkFBOEIsYUFBYSxvQ0FBb0MsTUFBTSxFQUFFLGtOQUFrTixLQUFLLHVCQUF1QixtQkFBbUIsRUFBRSxFQUFFLHlFQUF5RSx5QkFBeUIsTUFBTSxvQkFBb0IsTUFBTSxxR0FBcUcsYUFBYSxvQ0FBb0MsTUFBTSxFQUFFLHlHQUF5RyxFQUFFLFdBQVcsa0NBQWtDLE1BQU0sZ0NBQWdDLDhCQUE4QixhQUFhLHVDQUF1QyxTQUFTLEVBQUUsMGdCQUEwZ0IsRUFBRSxXQUFXLGNBQWMsTUFBTSwwQkFBMEIsOEJBQThCLGFBQWEsdUNBQXVDLFNBQVMsRUFBRSx1Q0FBdUMsRUFBRSxXQUFXLGNBQWMsTUFBTSxhQUFhLDhCQUE4QixhQUFhLHVDQUF1QyxTQUFTLEVBQUUsc0hBQXNILEVBQUUsV0FBVyx3QkFBd0IsTUFBTSxpQ0FBaUMsTUFBTSw4QkFBOEIsYUFBYSx1Q0FBdUMsU0FBUyxFQUFFLG9GQUFvRixFQUFFLFdBQVcsNkNBQTZDLE9BQU8seUJBQXlCLDhCQUE4QixhQUFhLHVDQUF1QyxTQUFTLEVBQUUsa0JBQWtCLEVBQUUsV0FBVyxjQUFjLE1BQU0sa0JBQWtCLDhCQUE4QixhQUFhLG9DQUFvQyxNQUFNLEVBQUUscUZBQXFGLEVBQUUsV0FBVyw2QkFBNkIsTUFBTSwyQkFBMkIsOEJBQThCLGFBQWEsb0NBQW9DLE1BQU0sRUFBRSw0TEFBNEwsRUFBRSxXQUFXLHVDQUF1QyxNQUFNLCtCQUErQiw4QkFBOEIsYUFBYSxvQ0FBb0MsTUFBTSxFQUFFLGlMQUFpTCxFQUFFLFdBQVcsNENBQTRDLE1BQU0sa0JBQWtCLHNIQUFzSCx1QkFBdUIsOEJBQThCLGFBQWEsb0NBQW9DLE1BQU0sRUFBRSx5WEFBeVgsRUFBRSxXQUFXLG1DQUFtQyxNQUFNLGlCQUFpQiw4QkFBOEIsYUFBYSwwQkFBMEIsaUJBQWlCLFdBQVcscUNBQXFDLFFBQVEseUNBQXlDLFlBQVksV0FBVywyREFBMkQsTUFBTSxFQUFFLHFCQUFxQixrQ0FBa0MsMENBQTBDLE1BQU0sRUFBRSxtQkFBbUIsS0FBSyxhQUFhLFNBQVMsRUFBRSxnREFBZ0Qsd0NBQXdDLDRCQUE0QixPQUFPLG1CQUFtQiw4QkFBOEIsYUFBYSx1Q0FBdUMsU0FBUyxFQUFFLDJCQUEyQixFQUFFLFdBQVcsK0JBQStCLE1BQU0sb0JBQW9CLDhCQUE4QixhQUFhLHVDQUF1QyxTQUFTLEVBQUUsbURBQW1ELEVBQUUsV0FBVyxpQ0FBaUMsTUFBTSxtQkFBbUIsOEJBQThCLGFBQWEsdUNBQXVDLFNBQVMsRUFBRSwyQkFBMkIsRUFBRSxXQUFXLDhCQUE4QixNQUFNLG1DQUFtQyxvSUFBb0ksc0ZBQXNGLDBCQUEwQixPQUFPLDhCQUE4QixtQ0FBbUMsTUFBTSxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsSUFBSSx1R0FBdUcsU0FBUyw4R0FBOEcsaUJBQWlCLDRCQUE0Qiw2Q0FBNkMsbUVBQW1FLGtDQUFrQyx5REFBeUQsSUFBSSxvQkFBb0IsVUFBVSw0REFBNEQsSUFBSSxpQkFBaUIsU0FBUyw0QkFBNEIsMEJBQTBCLE9BQU8sOFhBQThYLGtCQUFrQiwwQkFBMEIsUUFBUSxrQkFBa0IsOEJBQThCLGlCQUFpQiw4Q0FBOEMsWUFBWSxJQUFJLEtBQUssK0NBQStDLDBEQUEwRCxTQUFTLEdBQUcsVUFBVSw0R0FBNEcsNFFBQTRRLFNBQVMsK09BQStPLGVBQWUsY0FBYyxLQUFLLFNBQVMsRUFBRSxnQkFBZ0IsaUNBQWlDLGFBQWEscUJBQXFCLE1BQU0sOExBQThMLGtNQUFrTSx3YUFBd2EsUUFBUSxtQ0FBbUMsdUZBQXVGLFVBQVUscUJBQXFCLHFCQUFxQiw2REFBNkQsUUFBUSxzQ0FBc0MsV0FBVyx1QkFBdUIsSUFBSSx1QkFBdUIseUlBQXlJLElBQUksK01BQStNLFlBQVksSUFBSSxNQUFNLDZNQUE2TSxJQUFJLFlBQVkscUNBQXFDLDZEQUE2RCxlQUFlLGtCQUFrQixJQUFJLEVBQUUsMENBQTBDLEVBQUUsTUFBTSxTQUFTLGlCQUFpQixTQUFTLFFBQVEsa0NBQWtDLGlFQUFpRSx3R0FBd0csc0RBQXNELHFDQUFxQyxTQUFTLHVGQUF1RixrVEFBa1QsWUFBWSxJQUFJLE1BQU0sK1JBQStSLElBQUksY0FBYyxtQkFBbUIsY0FBYyxtQkFBbUIsR0FBRyxTQUFTLGlCQUFpQixTQUFTLFFBQVEsb0JBQW9CLHNCQUFzQixLQUFLLHVDQUF1QyxtQkFBbUIsSUFBSSwwQkFBMEIsc0RBQXNELDJCQUEyQixxREFBcUQsaUJBQWlCLGFBQWEsZ0VBQWdFLHVCQUF1QixjQUFjLHlCQUF5Qix3R0FBd0csbUJBQW1CLDhDQUE4QyxJQUFJLHNCQUFzQixRQUFRLGlCQUFpQix3QkFBd0IsU0FBUyxtQkFBbUIsSUFBSSxtQkFBbUIsTUFBTSw0R0FBNEcsMkRBQTJELDRGQUE0RixpQkFBaUIsSUFBSSxzQkFBc0IsOEVBQThFLHFCQUFxQixxQ0FBcUMsU0FBUyx3QkFBd0IsVUFBVSw0QkFBNEIsYUFBYSw4QkFBOEIsdURBQXVELDhDQUE4QywrQkFBK0IsRUFBRSx3Q0FBd0MsMEVBQTBFLGtCQUFrQixzQkFBc0IsWUFBWSxJQUFJLGdCQUFnQixzQkFBc0Isc0NBQXNDLHdEQUF3RCxFQUFFLEdBQUcsczJCQUFzMkIsK0ZBQStGLGlCQUFpQixxREFBcUQsc0JBQXNCLDBEQUEwRCwwREFBMEQsSUFBSSw4Q0FBOEMsRUFBRSxXQUFXLEVBQUUsMEVBQTBFLDRCQUE0QixnQkFBZ0IsZ0JBQWdCLDJEQUEyRCx1QkFBdUIsSUFBSSw2Q0FBNkMsT0FBTyxFQUFFLEVBQUUsaUJBQWlCLGtCQUFrQixFQUFFLDJFQUEyRSxJQUFJLGlFQUFpRSxFQUFFLG1CQUFtQixxREFBcUQsRUFBRSx5RUFBeUUsZ0JBQWdCLDZDQUE2QyxrSUFBa0ksSUFBSSxtQ0FBbUMsRUFBRSxvQkFBb0IsOERBQThELHdJQUF3SSwwQ0FBMEMsSUFBSSw2QkFBNkIscUJBQXFCLEVBQUUsdUVBQXVFLGNBQWMsMkNBQTJDLFdBQVcsc0JBQXNCLGVBQWUsc0NBQXNDLFdBQVcscUtBQXFLLG1CQUFtQixzSkFBc0osbUJBQW1CLDZNQUE2TSxHQUFHLGlCQUFpQixzY0FBc2MsR0FBRyxpQkFBaUIsNEhBQTRILEdBQUcsaUJBQWlCLHNIQUFzSCxHQUFHLGlCQUFpQixta0JBQW1rQixHQUFHLGlCQUFpQiw0b0NBQTRvQyxHQUFHLGdCQUFnQixnbkhBQWduSCxHQUFHLGlCQUFpQiwyR0FBMkcsR0FBRyxpQkFBaUIseStCQUF5K0IsR0FBRyxpQkFBaUIsMmlDQUEyaUMsR0FBRyxpQkFBaUIsdUtBQXVLLEdBQUcsaUJBQWlCLDJ1Q0FBMnVDLEdBQUcsaUJBQWlCLCtEQUErRCxHQUFHLGlCQUFpQiw2ZEFBNmQsR0FBRyxvQkFBb0IsZUFBZSw4SUFBOEksUUFBUSxxRUFBcUUsd0JBQXdCLFFBQVEsa0JBQWtCLGVBQWUsMkRBQTJELHNCQUFzQixFQUFFLFFBQVEsS0FBSyxtTUFBbU0sa0NBQWtDLEdBQUcsWUFBWSxlQUFlLGdCQUFnQixrRUFBa0UsK0pBQStKLGlLQUFpSyxtQkFBbUIsMkRBQTJELEdBQUcsTUFBTSw2REFBNkQsS0FBSyxpREFBaUQsaUJBQWlCLHFWQUFxVixRQUFRLGdQQUFnUCxnQkFBZ0IsZ05BQWdOLEdBQUcsaUJBQWlCLGtFQUFrRSxHQUFHLGlCQUFpQixreURBQWt5RCxHQUFHLEVBQUUsZUFBZSw4RUFBOEUsb0dBQW9HLCtFQUErRSxtQkFBbUIsNFhBQTRYLEdBQUcsaUJBQWlCLHFtQkFBcW1CLEdBQUcsaUJBQWlCLHlMQUF5TCxHQUFHLGlCQUFpQixtS0FBbUssR0FBRyxpQkFBaUIsOEZBQThGLEdBQUcsaUJBQWlCLG1lQUFtZSxHQUFHLGlCQUFpQiw2SUFBNkksR0FBRyxpQkFBaUIsMFpBQTBaLEdBQUcsaUJBQWlCLHVTQUF1UyxHQUFHLCtJQUErSSxnUEFBZ1AsR0FBRyxNQUFNLFFBQVEsT0FBTyxta0JBQW1rQixnQkFBZ0Isd29CQUF3b0IsU0FBUyxvbEJBQW9sQixRQUFRLHVrQkFBdWtCLFFBQVEsdWtCQUF1a0IsUUFBUSx1a0JBQXVrQixPQUFPLHlqQkFBeWpCLEtBQUssNmhCQUE2aEIsVUFBVSw0ZkFBNGYsU0FBUyx1aUJBQXVpQixVQUFVLG1tQkFBbW1CLGdCQUFnQix1ckJBQXVyQixTQUFTLDJsQkFBMmxCLGdCQUFnQixlQUFlLHNqQkFBc2pCLEVBQUUsbUJBQW1CLHVEQUF1RCxHQUFHLHNCQUFzQixpQkFBaUIscWlCQUFxaUIscUJBQXFCLGlCQUFpQiwrQ0FBK0MsZUFBZSx5Q0FBeUMsR0FBRyxpQkFBaUIsZ0VBQWdFLEdBQUcsaUJBQWlCLHdRQUF3USxHQUFHLGdCQUFnQiw0R0FBNEcsR0FBRyxpQkFBaUIseUdBQXlHLEdBQUcsaUJBQWlCLDZzQ0FBNnNDLEdBQUcsaUJBQWlCLDJHQUEyRyxHQUFHLGlCQUFpQix1V0FBdVcsR0FBRyxpQkFBaUIscU9BQXFPLEdBQUcsaUJBQWlCLCtuQkFBK25CLEdBQUcsaUJBQWlCLGlWQUFpVixHQUFHLGlCQUFpQiwyR0FBMkcsR0FBRyxpQkFBaUIscU9BQXFPLEdBQUcsaUJBQWlCLHVXQUF1VyxHQUFHLGlCQUFpQiwyTUFBMk0sR0FBRyxpQkFBaUIseUJBQXlCLEdBQUcsaUJBQWlCLHlLQUF5SyxHQUFHLGlCQUFpQix5RkFBeUYsR0FBRyxNQUFNLG1CQUFtQixrQkFBa0IsNkJBQTZCLDBCQUEwQiw4QkFBOEIsd0JBQXdCLDZCQUE2QiwwQkFBMEIsK0NBQStDLDBCQUEwQixtQ0FBbUMsNEJBQTRCLHFDQUFxQyxnQ0FBZ0MsZ0RBQWdELGtDQUFrQyxrREFBa0QsbUNBQW1DLG1EQUFtRCxnQ0FBZ0MseUNBQXlDLGdDQUFnQyxvREFBb0QsZ0NBQWdDLHlDQUF5QyxtQ0FBbUMsbURBQW1ELHVDQUF1QyxnREFBZ0QsaUNBQWlDLHFEQUFxRCxpQ0FBaUMsaURBQWlELHVDQUF1QyxnREFBZ0QsMENBQTBDLG9EQUFvRCxjQUFjLHlCQUF5Qix1REFBdUQsNEJBQTRCLHFDQUFxQyxzQkFBc0Isc0NBQXNDLHFCQUFxQixpREFBaUQsMkJBQTJCLDZDQUE2Qyx3QkFBd0IsaUNBQWlDLDJCQUEyQixvQ0FBb0MsOEJBQThCLHVDQUF1Qyw4QkFBOEIsdUNBQXVDLHFCQUFxQiwwQ0FBMEMsd0JBQXdCLHNEQUFzRCwrQkFBK0IsMERBQTBELDRCQUE0QixvQkFBb0IsOEJBQThCLG1CQUFtQixtQ0FBbUMsc0JBQXNCLHVEQUF1RCxlQUFlLDRCQUE0QixjQUFjLCtCQUErQixlQUFlLE9BQU8sd0NBQXdDLFlBQVksaUNBQWlDLDRCQUE0QixpQ0FBaUMsNEJBQTRCLFFBQVEsK0JBQStCLFNBQVMsUUFBUSx5QkFBeUIsMkNBQTJDLG1DQUFtQyxvREFBb0QsNEJBQTRCLDZDQUE2QywyQkFBMkIsNENBQTRDLDBCQUEwQiwyQ0FBMkMsdUJBQXVCLHdDQUF3QywyQkFBMkIsNENBQTRDLDBCQUEwQiw0Q0FBNEMsMEJBQTBCLDRDQUE0QyxtQkFBbUIsb0NBQW9DLGtCQUFrQixtQ0FBbUMsdUJBQXVCLHlDQUF5Qyw2QkFBNkIsOENBQThDLCtCQUErQixnREFBZ0QsZ0NBQWdDLGlEQUFpRCxrQ0FBa0Msb0RBQW9ELG1DQUFtQyxvREFBb0QsZ0NBQWdDLGtEQUFrRCxpQ0FBaUMsa0RBQWtELDRCQUE0Qiw2Q0FBNkMsOEJBQThCLCtDQUErQyx3QkFBd0IseUNBQXlDLGtDQUFrQyxvREFBb0Qsb0NBQW9DLHFEQUFxRCxrQ0FBa0Msb0RBQW9ELHlCQUF5QiwyQ0FBMkMsMkJBQTJCLDRDQUE0QyxzQkFBc0IsdUNBQXVDLDhCQUE4QiwrQ0FBK0MsZ0NBQWdDLGlEQUFpRCxnQ0FBZ0MsaURBQWlELDRCQUE0Qiw4Q0FBOEMsMkJBQTJCLDZDQUE2QywrQkFBK0IsaURBQWlELDJCQUEyQiw2Q0FBNkMscUJBQXFCLHNDQUFzQyw4QkFBOEIsNkNBQTZDLDhCQUE4Qiw2Q0FBNkMsNEJBQTRCLDZDQUE2Qyx5QkFBeUIsMkNBQTJDLGtDQUFrQyxtREFBbUQsd0NBQXdDLG1EQUFtRCx5Q0FBeUMsMkRBQTJELGtDQUFrQyxtREFBbUQsb0NBQW9DLHFEQUFxRCxnQ0FBZ0MsaURBQWlELDBCQUEwQiwyQ0FBMkMsZ0NBQWdDLGlEQUFpRCwrQkFBK0IsZ0RBQWdELGlDQUFpQyw2Q0FBNkMsZ0NBQWdDLCtDQUErQyx1QkFBdUIseUNBQXlDLHVCQUF1Qix5Q0FBeUMscUJBQXFCLHVDQUF1QywyQkFBMkIsc0NBQXNDLGdDQUFnQyxpREFBaUQsK0JBQStCLGdEQUFnRCwwQkFBMEIseUNBQXlDLDBCQUEwQix5Q0FBeUMsMEJBQTBCLHlDQUF5QyxtQ0FBbUMsa0RBQWtELGlDQUFpQyxnREFBZ0QsdUNBQXVDLHdEQUF3RCxlQUFlLGVBQWUsaURBQWlELGlCQUFpQixxQkFBcUIsaUNBQWlDLHNDQUFzQywyQkFBMkIsdURBQXVELHNCQUFzQixTQUFTLGVBQWUsWUFBWSxtQkFBbUIsS0FBSyx5Q0FBeUMseUNBQXlDLGFBQWEsb0lBQW9JLGlFQUFpRSxHQUFHLFNBQVMsZUFBZSxxRkFBcUYsaUJBQWlCLCtCQUErQixJQUFJLHNCQUFzQixHQUFHLE1BQU0sMkNBQTJDLG1JQUFtSSxpR0FBaUcsK0pBQStKLGlCQUFpQixtZkFBbWYscUJBQXFCLDRCQUE0Qix5REFBeUQsNEJBQTRCLGVBQWUsMkhBQTJILFNBQVMsTUFBTSxnQ0FBZ0MsOENBQThDLElBQUksc0JBQXNCLHVJQUF1SSx1QkFBdUIsa0NBQWtDLHFDQUFxQyxFQUFFLDBEQUEwRCxNQUFNLDZCQUE2QixFQUFFLDZCQUE2QixTQUFTLHNDQUFzQyxrQkFBa0IsTUFBTSxFQUFFLHlCQUF5QixPQUFPLEVBQUUsTUFBTSxXQUFXLElBQUksU0FBUyx1QkFBdUIsaUNBQWlDLGlCQUFpQixJQUFJLGNBQWMsdUJBQXVCLDZFQUE2RSxHQUFHLFNBQVMsc0pBQXNKLGdFQUFnRSw0RUFBNEUsV0FBVyx3REFBd0QsdUNBQXVDLGlDQUFpQyxjQUFjLDZHQUE2Ryx3SEFBd0gseUNBQXlDLGVBQWUsNmZBQTZmLHdDQUF3QyxJQUFJLDZFQUE2RSxzQ0FBc0MsV0FBVyxvSkFBb0osNEtBQTRLLDhDQUE4Qyx5RkFBeUYsNkZBQTZGLHNGQUFzRix5RUFBeUUsMkJBQTJCLGNBQWMsNkJBQTZCLG1FQUFtRSxVQUFVLGlLQUFpSyw4QkFBOEIsd0xBQXdMLGlCQUFpQixxQkFBcUIsaUNBQWlDLHNDQUFzQywyQkFBMkIsdURBQXVELHNCQUFzQixTQUFTLHdCQUF3QixVQUFVLGdEQUFnRCxvQkFBb0IsMkJBQTJCLHFCQUFxQixNQUFNLHlGQUF5RixZQUFZLG1CQUFtQixhQUFhLDBQQUEwUCx1QkFBdUIsOEVBQThFLGlCQUFpQiwyTkFBMk4sK2xCQUErbEIsdUhBQXVILFlBQVksbUJBQW1CLEtBQUsseUNBQXlDLHlDQUF5QyxhQUFhLG9JQUFvSSxpRUFBaUUsR0FBRyxTQUFTLEdBQUcsb0VBQW9FLElBQUksMEJBQTBCLHdFQUF3RSwrR0FBK0csa09BQWtPLEdBQUcsZ0JBQWdCLDhCQUE4QixjQUFjLGdHQUFnRyw2REFBNkQsSUFBSSw2Q0FBNkMsaUpBQWlKLGtDQUFrQyxxREFBcUQsT0FBTyxRQUFRLE1BQU0sV0FBVyxtSUFBbUkscUZBQXFGLHFCQUFxQixpRUFBaUUscUZBQXFGLGVBQWUsb0dBQW9HLHVNQUF1TSxxQ0FBcUMsOEJBQThCLDZCQUE2Qiw4RUFBOEUsbUJBQW1CLEdBQUcsZUFBZSw4REFBOEQsZ0hBQWdILElBQUksaURBQWlELFNBQVMsbUVBQW1FLG9CQUFvQix1SEFBdUgsbUJBQW1CLGtEQUFrRCxrQ0FBa0MscUNBQXFDLHFCQUFxQiwrQ0FBK0MsbUNBQW1DLE1BQU0sV0FBVyx3REFBd0QsVUFBVSxNQUFNLGtOQUFrTixhQUFhLE1BQU0sNlZBQTZWLE1BQU0sb0ZBQW9GLHFIQUFxSCxtSEFBbUgsMkdBQTJHLGNBQWMsT0FBTyw0QkFBNEIsT0FBTyxxRUFBcUUsc05BQXNOLDJFQUEyRSxzREFBc0QsRUFBRSxJQUFJLE1BQU0sa0RBQWtELHNMQUFzTCxrQ0FBa0MsbUNBQW1DLFNBQVMsdUlBQXVJLHFIQUFxSCx1REFBdUQscU5BQXFOLGlCQUFpQiw2QkFBNkIsaUVBQWlFLDhHQUE4RyxnS0FBZ0sscUNBQXFDLEdBQUcsU0FBUyx5Q0FBeUMsK0NBQStDLCtKQUErSixLQUFLLHdDQUF3Qyx1QkFBdUIsbUJBQW1CLHNGQUFzRixJQUFJLG9HQUFvRyx1QkFBdUIsZ0hBQWdILHlOQUF5Tiw2UUFBNlEsU0FBUyxNQUFNLDZFQUE2RSwyREFBMkQsMklBQTJJLFdBQVcscUJBQXFCLGlCQUFpQiwyTkFBMk4seUNBQXlDLDJCQUEyQixtQkFBbUIsb0NBQW9DLDhCQUE4QiwrSUFBK0ksMkJBQTJCLDhRQUE4USxpQ0FBaUMsR0FBRyxxQkFBcUIsaUJBQWlCLDJOQUEyTix5Q0FBeUMscUJBQXFCLGNBQWMsOEJBQThCLHdFQUF3RSx5REFBeUQseURBQXlELG9HQUFvRyw4REFBOEQsZ0NBQWdDLFVBQVUsTUFBTSxpQkFBaUIsSUFBSSxjQUFjLHNGQUFzRiwwRkFBMEYsR0FBRyxNQUFNLGlHQUFpRyxTQUFTLFNBQVMsTUFBTSwrREFBK0QsdUNBQXVDLGtCQUFrQixjQUFjLFlBQVksbUJBQW1CLHdGQUF3Riw2RUFBNkUsYUFBYSxlQUFlLDRKQUE0SixpQkFBaUIsMkVBQTJFLHVDQUF1QyxjQUFjLDBDQUEwQyxHQUFHLEdBQUcsTUFBTSxNQUFNLE1BQU0sOEdBQThHLDJCQUEyQixJQUFJLElBQUkseURBQXlELFNBQVMsNEVBQTRFLDhEQUE4RCxjQUFjLE1BQU0sZUFBZSxNQUFNLGlCQUFpQix5RUFBeUUsc0NBQXNDLDZDQUE2QyxJQUFJLHlEQUF5RCx3Q0FBd0MsR0FBRyxxQkFBcUIsc0JBQXNCLDZCQUE2Qix1QkFBdUIsbVBBQW1QLHNCQUFzQixzQ0FBc0MsVUFBVSxnREFBZ0QsVUFBVSw4QkFBOEIsaUJBQWlCLDZuQkFBNm5CLGlGQUFpRix5QkFBeUIsOEVBQThFLDRCQUE0QixtQ0FBbUMseURBQXlELDZKQUE2SixrQ0FBa0MsTUFBTSxpQ0FBaUMsTUFBTSx1Q0FBdUMscUVBQXFFLDBEQUEwRCxNQUFNLDBEQUEwRCxNQUFNLDRFQUE0RSxNQUFNLHdFQUF3RSxNQUFNLG9GQUFvRixNQUFNLDBEQUEwRCxNQUFNLHdCQUF3QixnUkFBZ1IseUVBQXlFLEdBQUcsdUJBQXVCLGtCQUFrQix5QkFBeUIsbURBQW1ELGtEQUFrRCxXQUFXLDhCQUE4QixRQUFRLG1EQUFtRCx3VEFBd1QsNEJBQTRCLDRFQUE0RSw0QkFBNEIsR0FBRyxFQUFFLGlLQUFpSyxvQkFBb0IsbUJBQW1CLFFBQVEsc0NBQXNDLDhGQUE4RiwrQkFBK0IsV0FBVyxnSUFBZ0ksb0dBQW9HLHVKQUF1SixHQUFHLFNBQVMsSUFBSSxXQUFXLFNBQVMsMEVBQTBFLDRIQUE0SCxnQ0FBZ0MsNklBQTZJLGtDQUFrQyxFQUFFLDBzQkFBMHNCLGlCQUFpQixpQkFBaUIsVUFBVSxtQ0FBbUMsY0FBYyxFQUFFLG1CQUFtQixnSEFBZ0gsT0FBTyx1RUFBdUUsOEJBQThCLFlBQVksT0FBTyxvQkFBb0IsSUFBSSwrQkFBK0IsTUFBTSxnQ0FBZ0MseUxBQXlMLDhDQUE4QyxzQ0FBc0MsK0lBQStJLHFDQUFxQyxVQUFVLE9BQU8sb0JBQW9CLCtCQUErQixVQUFVLHdKQUF3SiwrU0FBK1MsNEJBQTRCLE9BQU8sRUFBRSxTQUFTLGlkQUFpZCxhQUFhLHVCQUF1QixrQ0FBa0MsMEVBQTBFLDBFQUEwRSxzSEFBc0gsbUxBQW1MLGVBQWUsMEZBQTBGLHNDQUFzQyw0QkFBNEIsc0NBQXNDLG1OQUFtTiw2QkFBNkIsVUFBVSw2Q0FBNkMseURBQXlELDZDQUE2Qyx5REFBeUQsd0NBQXdDLFVBQVUsNkJBQTZCLFVBQVUsd0NBQXdDLFVBQVUsNkJBQTZCLFVBQVUsd0RBQXdELFVBQVUsb0NBQW9DLFVBQVUsd0RBQXdELFVBQVUsb0NBQW9DLFVBQVUsbURBQW1ELDRCQUE0QixHQUFHLE1BQU0sZUFBZSxvSkFBb0osc0JBQXNCLGdFQUFnRSxpQkFBaUIseUJBQXlCLGdMQUFnTCwrREFBK0QsaUJBQWlCLDhEQUE4RCxtRkFBbUYsMkNBQTJDLDZRQUE2USw0QkFBNEIsbUJBQW1CLGtFQUFrRSxpQkFBaUIsR0FBRyxhQUFhLEdBQUcsc0JBQXNCLElBQUksb0NBQW9DLG1DQUFtQyxxREFBcUQsd0NBQXdDLEdBQUcsd0JBQXdCLG1EQUFtRCw4Q0FBOEMsdURBQXVELGdEQUFnRCw0RkFBNEYsZ0NBQWdDLG1DQUFtQywwRUFBMEUsd0NBQXdDLHVLQUF1SyxnREFBZ0QsdURBQXVELDRXQUE0VyxzQ0FBc0MsK0VBQStFLDZHQUE2Ryx3QkFBd0Isb0VBQW9FLHdUQUF3VCwrTEFBK0wsR0FBRyxnREFBZ0QsaUVBQWlFLDBEQUEwRCw2Q0FBNkMsMkNBQTJDLDhCQUE4QixJQUFJLGdCQUFnQiwyS0FBMkssR0FBRyxFQUFFLGlCQUFpQixxQkFBcUIsaUNBQWlDLHNDQUFzQywyQkFBMkIsdURBQXVELHNCQUFzQixTQUFTLGVBQWUsWUFBWSxtQkFBbUIsS0FBSyx5Q0FBeUMseUNBQXlDLGFBQWEsb0lBQW9JLGlFQUFpRSxHQUFHLFNBQVMsZUFBZSwySkFBMkosaUJBQWlCLDhCQUE4QixvQkFBb0Isd0RBQXdELElBQUksWUFBWSxHQUFHLFFBQVEsb0NBQW9DLEVBQUUseURBQXlELGlCQUFpQixJQUFJLDRCQUE0QixHQUFHLGFBQWEsZ0VBQWdFLHdJQUF3SSxvRUFBb0UsdUJBQXVCLEVBQUUsd0RBQXdELDBCQUEwQixnQkFBZ0IsR0FBRyxZQUFZLFdBQVcsS0FBSyxNQUFNLHlCQUF5Qix3QkFBd0IscUNBQXFDLE1BQU0sc0JBQXNCLFVBQVUsdURBQXVELEdBQUcsUUFBUSxpS0FBaUssZUFBZSw4REFBOEQsZUFBZSx1QkFBdUIsZ0JBQWdCLE9BQU8scUlBQXFJLHlSQUF5UixlQUFlLDRFQUE0RSxpQkFBaUIsVUFBVSxVQUFVLCtDQUErQyxNQUFNLHdDQUF3QyxNQUFNLDJDQUEyQyxNQUFNLDBEQUEwRCxNQUFNLG1HQUFtRyxzQ0FBc0MsRUFBRSwrQkFBK0IsaUNBQWlDLDBFQUEwRSxNQUFNLEVBQUUscUJBQXFCLDhGQUE4Riw4RUFBOEUsR0FBRyxpSEFBaUgsNkJBQTZCLEVBQUUsU0FBUyx1QkFBdUIsOENBQThDLDJQQUEyUCxJQUFJLGlCQUFpQixnR0FBZ0csa0tBQWtLLGVBQWUsSUFBSSxtRUFBbUUsR0FBRyw4QkFBOEIsMkNBQTJDLEVBQUUsNkRBQTZELHNGQUFzRiw0QkFBNEIsZ0JBQWdCLGVBQWUsMERBQTBELGtKQUFrSixXQUFXLElBQUksU0FBUyxNQUFNLDZCQUE2QixhQUFhLHNCQUFzQixJQUFJLEdBQUcsSUFBSSxtQkFBbUIsUUFBUSxLQUFLLHFDQUFxQyw4Q0FBOEMsUUFBUSxPQUFPLG1CQUFtQixpQkFBaUIsZ0JBQWdCLHFEQUFxRCxJQUFJLHdFQUF3RSxJQUFJLHNDQUFzQyxTQUFTLHVEQUF1RCxJQUFJLCtCQUErQixTQUFTLGtCQUFrQixpV0FBaVcsc0JBQXNCLG9CQUFvQixRQUFRLGtDQUFrQyxNQUFNLGtCQUFrQix5QkFBeUIsZ0JBQWdCLFNBQVMsY0FBYyw0QkFBNEIsSUFBSSxFQUFFLGdCQUFnQiw0QkFBNEIsZ0JBQWdCLG9FQUFvRSxjQUFjLFNBQVMsSUFBSSxrQ0FBa0MsUUFBUSxXQUFXLDhCQUE4QixtQkFBbUIsaUJBQWlCLElBQUksRUFBRSxTQUFTLFFBQVEsV0FBVyw0QkFBNEIsVUFBVSxpQ0FBaUMsdUJBQXVCLFdBQVcsS0FBSyxtQ0FBbUMsU0FBUyxrQkFBa0IsRUFBRSw0QkFBNEIsYUFBYSxpQkFBaUIscUNBQXFDLHlDQUF5QyxTQUFTLGdCQUFnQixrRkFBa0YsaUZBQWlGLHFDQUFxQyw0QkFBNEIsMERBQTBELElBQUksaUNBQWlDLDRDQUE0QyxrQkFBa0IsaURBQWlELG9CQUFvQixtQ0FBbUMsd0NBQXdDLFFBQVEsV0FBVyx5Q0FBeUMsaUJBQWlCLGtxQkFBa3FCLFlBQVksdUJBQXVCLGFBQWEsSUFBSSw0QkFBNEIsaUJBQWlCLHVCQUF1Qix1QkFBdUIsa0NBQWtDLElBQUksK0RBQStELHdCQUF3QixRQUFRLElBQUksdUZBQXVGLGlCQUFpQixTQUFTLE1BQU0sU0FBUyxLQUFLLDhCQUE4QixVQUFVLEtBQUssY0FBYyxNQUFNLElBQUksVUFBVSxLQUFLLGNBQWMsK0NBQStDLG1CQUFtQixjQUFjLHFEQUFxRCxLQUFLLGlEQUFpRCxrQkFBa0IsTUFBTSxtRUFBbUUsZ0JBQWdCLE1BQU0sK0ZBQStGLGdCQUFnQiw4QkFBOEIsTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sb0JBQW9CLGtCQUFrQixNQUFNLCtCQUErQix3QkFBd0IsTUFBTSxtRUFBbUUsb0RBQW9ELGNBQWMsaUNBQWlDLHFEQUFxRCxrTUFBa00sWUFBWSxFQUFFLGlCQUFpQiwwQkFBMEIsZUFBZSxLQUFLLFNBQVMsY0FBYyxNQUFNLDBEQUEwRCxNQUFNLFdBQVcsZUFBZSxjQUFjLFNBQVMsdUhBQXVILGdGQUFnRiwySkFBMkosTUFBTSxvREFBb0QsK0JBQStCLDZGQUE2RixNQUFNLHlCQUF5QixTQUFTLGdDQUFnQyxLQUFLLFNBQVMsU0FBUyxNQUFNLG1CQUFtQixLQUFLLE1BQU0sS0FBSyxTQUFTLDZJQUE2SSw0Q0FBNEMseUhBQXlILE1BQU0sV0FBVywrR0FBK0csU0FBUyw4SEFBOEgsTUFBTSw0Q0FBNEMsV0FBVyw2RUFBNkUsU0FBUyxNQUFNLFVBQVUsTUFBTSxnREFBZ0QsSUFBSSxNQUFNLDRCQUE0QixLQUFLLFNBQVMsTUFBTSxtQkFBbUIsNEJBQTRCLFlBQVksV0FBVyxLQUFLLFdBQVcsY0FBYyxlQUFlLCtCQUErQixXQUFXLE1BQU0sK0RBQStELHVDQUF1Qyw2QkFBNkIsVUFBVSxNQUFNLHdDQUF3QyxLQUFLLFNBQVMsY0FBYywwREFBMEQsa0NBQWtDLDZEQUE2RCw2QkFBNkIsc0JBQXNCLFNBQVMsaUNBQWlDLE1BQU0sbUJBQW1CLDZCQUE2QiwwQkFBMEIsTUFBTSxzQkFBc0IsNkRBQTZELFVBQVUsZUFBZSxxQkFBcUIsb0RBQW9ELFlBQVksS0FBSyxTQUFTLFVBQVUsS0FBSyxNQUFNLGdEQUFnRCxNQUFNLHlCQUF5QixLQUFLLFNBQVMseURBQXlELCtEQUErRCxNQUFNLFdBQVcsMkVBQTJFLFNBQVMscUVBQXFFLE1BQU0sNEJBQTRCLEtBQUssTUFBTSxxR0FBcUcsU0FBUyxtREFBbUQsa0JBQWtCLGVBQWUsc0JBQXNCLE1BQU0sTUFBTSw2QkFBNkIsNkNBQTZDLFdBQVcsU0FBUyxLQUFLLE1BQU0sMEJBQTBCLGlDQUFpQyxnQ0FBZ0MsaUNBQWlDLHdCQUF3QixxQkFBcUIsTUFBTSx3RUFBd0UsZ1VBQWdVLGdDQUFnQyxZQUFZLHVEQUF1RCxpQkFBaUIsTUFBTSwwRkFBMEYsTUFBTSxvSEFBb0gsTUFBTSx1Q0FBdUMsTUFBTSx1QkFBdUIsVUFBVSxpQkFBaUIseUNBQXlDLGtFQUFrRSxnQkFBZ0IsYUFBYSx1QkFBdUIsWUFBWSxLQUFLLElBQUksRUFBRSxlQUFlLGFBQWEsVUFBVSxnQkFBZ0IsMkJBQTJCLGFBQWEsMkJBQTJCLFFBQVEsSUFBSSxFQUFFLGVBQWUsMkJBQTJCLEtBQUssc0JBQXNCLEtBQUssV0FBVyxFQUFFLDZCQUE2QixNQUFNLGVBQWUsVUFBVSxnQkFBZ0IsS0FBSyxtQ0FBbUMsZUFBZSxNQUFNLGFBQWEsbUJBQW1CLG1CQUFtQixVQUFVLE1BQU0sbUJBQW1CLFlBQVksMEJBQTBCLFVBQVUsbUNBQW1DLG9CQUFvQixTQUFTLDJCQUEyQixhQUFhLDBCQUEwQixvQ0FBb0MsOEJBQThCLG1FQUFtRSxhQUFhLElBQUksS0FBSyx5QkFBeUIsZ0ZBQWdGLE1BQU0sdUNBQXVDLFdBQVcsU0FBUyxRQUFRLElBQUksc0JBQXNCLDhCQUE4QiwwQkFBMEIsZ0JBQWdCLFdBQVcsd0JBQXdCLFNBQVMsd0JBQXdCLGFBQWEsTUFBTSxzQkFBc0IscUJBQXFCLFdBQVcsbUJBQW1CLGNBQWMsMkNBQTJDLDhEQUE4RCxnQ0FBZ0MsNENBQTRDLHNCQUFzQiwwQkFBMEIsd0JBQXdCLDJCQUEyQix3REFBd0Qsc0JBQXNCLDBHQUEwRywrTkFBK04scUJBQXFCLG9CQUFvQixpQkFBaUIsNEJBQTRCLHNCQUFzQiw4QkFBOEIsaUJBQWlCLGdDQUFnQyxNQUFNLGNBQWMsb0ZBQW9GLHdCQUF3Qix1QkFBdUIseUJBQXlCLDBCQUEwQix3QkFBd0IscUJBQXFCLHlCQUF5QixnQkFBZ0IsMkNBQTJDLGlCQUFpQixZQUFZLFdBQVcsaUNBQWlDLHdCQUF3QixxQkFBcUIseUJBQXlCLGdCQUFnQiwyQ0FBMkMsaUJBQWlCLFlBQVksV0FBVyxpQ0FBaUMsb0JBQW9CLDRCQUE0Qiw4Q0FBOEMscUJBQXFCLHlDQUF5Qyx3QkFBd0IsZ0JBQWdCLHlCQUF5Qix5QkFBeUIseUNBQXlDLG9CQUFvQixnQkFBZ0IseUJBQXlCLHFCQUFxQix3RkFBd0Ysd0JBQXdCLGdCQUFnQiw0REFBNEQseUJBQXlCLHdEQUF3RCxzQkFBc0IsaUJBQWlCLGtCQUFrQix1QkFBdUIscUhBQXFILDRCQUE0QixnQ0FBZ0Msb0JBQW9CLG9CQUFvQixrQkFBa0IscUJBQXFCLGdHQUFnRyxtQkFBbUIsa0RBQWtELG1CQUFtQix3RkFBd0YsNlNBQTZTLGtDQUFrQyxRQUFRLGVBQWUscUJBQXFCLG9CQUFvQixzQkFBc0IsaUNBQWlDLDRpQkFBNGlCLDRCQUE0QixFQUFFLGNBQWMsOEJBQThCLDRCQUE0QixFQUFFLGNBQWMsa0lBQWtJLFVBQVUsaUJBQWlCLDZDQUE2QyxFQUFFLE9BQU8sRUFBRSwrQ0FBK0MsSUFBSSxnREFBZ0QsZUFBZSxHQUFHLEVBQUUscUJBQXFCLDBGQUEwRixJQUFJLHFCQUFxQixNQUFNLFlBQVksRUFBRSxzQkFBc0IsMGRBQTBkLGNBQWMsVUFBVSxjQUFjLDhHQUE4RyxjQUFjLDhEQUE4RCxtQkFBbUIsNlBBQTZQLEdBQUcsRUFBRSxtQkFBbUIsUUFBUSxpQ0FBaUMsdUJBQXVCLFFBQVEsd0RBQXdELHVCQUF1QixRQUFRLE9BQU8sTUFBTSxTQUFTLE1BQU0sd0NBQXdDLGlCQUFpQixRQUFRLHdDQUF3QyxRQUFRLGlrREFBaWtELEtBQUssd1VBQXdVLEtBQUssb0RBQW9ELGVBQWUsMERBQTBELFVBQVUsZUFBZSwwQ0FBMEMsVUFBVSxlQUFlLDBDQUEwQyxVQUFVLFFBQVEsMExBQTBMLGVBQWUsMENBQTBDLFVBQVUsVUFBVSxlQUFlLGdFQUFnRSxrQkFBa0IsMHJCQUEwckIsR0FBRyxpQkFBaUIsZ0dBQWdHLEdBQUcsaUJBQWlCLHlFQUF5RSxHQUFHLGlCQUFpQix5RUFBeUUsR0FBRyxpQkFBaUIsZ0dBQWdHLEdBQUcsaUJBQWlCLCtJQUErSSxHQUFHLGlCQUFpQixtTkFBbU4sR0FBRyxpQkFBaUIsK0pBQStKLEdBQUcsaUJBQWlCLHVEQUF1RCxHQUFHLGlCQUFpQixtTEFBbUwsR0FBRyxFQUFFLGFBQWEsNkNBQTZDLElBQUksRUFBRSxRQUFRLCtIQUErSCxLQUFLLG1RQUFtUSxLQUFLLHlRQUF5USxLQUFLLGdEQUFnRCxLQUFLLG1SQUFtUixnQkFBZ0IsbURBQW1ELEdBQUcsaUJBQWlCLCtHQUErRyxHQUFHLGlCQUFpQiwrREFBK0QsR0FBRyxpQkFBaUIseUxBQXlMLEdBQUcsaUJBQWlCLGlSQUFpUixHQUFHLGlCQUFpQiwrTEFBK0wsR0FBRyxNQUFNLDJLQUEySyxnQkFBZ0IsK0ZBQStGLEdBQUcsRUFBRSx1QkFBdUIsYUFBYSwwQ0FBMEMsV0FBVyxpS0FBaUssbUJBQW1CLHlLQUF5SyxrQkFBa0Isc0JBQXNCLG9CQUFvQixtQ0FBbUMsNEJBQTRCLGVBQWUseUJBQXlCLCtCQUErQixvRUFBb0UsaUJBQWlCLElBQUksaUNBQWlDLG9DQUFvQyxrREFBa0QsV0FBVyxpQkFBaUIscUJBQXFCLGlDQUFpQyxzQ0FBc0MsMkJBQTJCLHVEQUF1RCxzQkFBc0IsU0FBUyxlQUFlLFlBQVksbUJBQW1CLEtBQUsseUNBQXlDLHlDQUF5QyxhQUFhLG9JQUFvSSxpRUFBaUUsR0FBRyxTQUFTLHdCQUF3Qix5QkFBeUIsd0ZBQXdGLHdCQUF3Qiw2QkFBNkIsaUJBQWlCLDZRQUE2USxnR0FBZ0csOEJBQThCLFFBQVEsV0FBVyxnQkFBZ0IsYUFBYSxnQkFBZ0IsdUJBQXVCLGtCQUFrQixNQUFNLHdCQUF3Qix3REFBd0QsaUZBQWlGLHFFQUFxRSx3QkFBd0Isc0VBQXNFLDhCQUE4QixrREFBa0QsUUFBUSx5RkFBeUYsb0JBQW9CLHdCQUF3QixzRUFBc0UsMkJBQTJCLHNCQUFzQixzQ0FBc0MsMkJBQTJCLE1BQU0sbUNBQW1DLHdCQUF3Qix3Q0FBd0MscUJBQXFCLHNCQUFzQiw2QkFBNkIsWUFBWSxtQkFBbUIsY0FBYyxxQkFBcUIsdUJBQXVCLDhCQUE4QixpQkFBaUIsdU9BQXVPLHFCQUFxQiw4R0FBOEcsZ0JBQWdCLFFBQVEsc0dBQXNHLFFBQVEsdVVBQXVVLHlDQUF5Qyw4REFBOEQsd2hCQUF3aEIsa0VBQWtFLElBQUksMEJBQTBCLFVBQVUsZUFBZSxzRkFBc0YsZ0JBQWdCLHdTQUF3Uyw0SkFBNEosb0JBQW9CLHdFQUF3RSxvQkFBb0Isa0ZBQWtGLG1GQUFtRixjQUFjLHNOQUFzTiwrRUFBK0UsNkNBQTZDLGlNQUFpTSxHQUFHLHlCQUF5QixpRUFBaUUsOEJBQThCLHlTQUF5UyxnQ0FBZ0Msc1ZBQXNWLGNBQWMsUUFBUSxjQUFjLG9FQUFvRSwrQkFBK0IsV0FBVyw2QkFBNkIsZ0hBQWdILHdEQUF3RCxJQUFJLHVCQUF1QiwrR0FBK0csb1BBQW9QLGtCQUFrQixNQUFNLHFEQUFxRCwyTUFBMk0sNkNBQTZDLGNBQWMsZUFBZSxvR0FBb0csd0JBQXdCLHdIQUF3SCxjQUFjLGlKQUFpSixjQUFjLFVBQVUsSUFBSSxnQkFBZ0IsV0FBVyxNQUFNLFdBQVcsK0JBQStCLHNCQUFzQixrQ0FBa0Msc0JBQXNCLEtBQUssYUFBYSxPQUFPLGFBQWEsT0FBTyxjQUFjLHdCQUF3QixNQUFNLFdBQVcsSUFBSSx3SEFBd0gsTUFBTSxNQUFNLFdBQVcsWUFBWSxjQUFjLFVBQVUsSUFBSSxnQkFBZ0IsV0FBVyxLQUFLLFdBQVcsK0JBQStCLHNCQUFzQixrQ0FBa0Msc0JBQXNCLEtBQUssYUFBYSxpSEFBaUgsYUFBYSxPQUFPLFNBQVMsdUVBQXVFLGlLQUFpSyxpQ0FBaUMsT0FBTyxTQUFTLE1BQU0sbUVBQW1FLFVBQVUsVUFBVSxlQUFlLGNBQWMsdUJBQXVCLHNFQUFzRSwwQ0FBMEMsU0FBUyxJQUFJLGlCQUFpQixNQUFNLE1BQU0sNkJBQTZCLFVBQVUsK0JBQStCLG9CQUFvQixNQUFNLHdKQUF3Six3QkFBd0IsaURBQWlELDBDQUEwQyxZQUFZLGlCQUFpQixlQUFlLDBCQUEwQiw4QkFBOEIsb0RBQW9ELFNBQVMsTUFBTSw0QkFBNEIsd0NBQXdDLFdBQVcseUJBQXlCLDJCQUEyQiwrRUFBK0UsS0FBSyxZQUFZLE9BQU8sYUFBYSxjQUFjLGdPQUFnTyxnQkFBZ0Isd0JBQXdCLHVCQUF1QiwrQ0FBK0MsT0FBTyxrREFBa0QsaUJBQWlCLG9JQUFvSSxrREFBa0Qsd0ZBQXdGLE1BQU0sZ0RBQWdELDJDQUEyQyxZQUFZLFdBQVcscUJBQXFCLDRDQUE0Qyw0Q0FBNEMsa0JBQWtCLHlCQUF5QixrQkFBa0IsSUFBSSxRQUFRLHdRQUF3USxNQUFNLDZDQUE2QyxVQUFVLDRCQUE0QixxQkFBcUIsd0JBQXdCLHVCQUF1QixxQkFBcUIsTUFBTSwrQ0FBK0MsSUFBSSxNQUFNLHVFQUF1RSxPQUFPLGtHQUFrRyxvQkFBb0IsMkJBQTJCLGNBQWMsK2tCQUEra0IsdUJBQXVCLCtOQUErTix5Q0FBeUMsWUFBWSxrQ0FBa0MsTUFBTSx1Q0FBdUMsWUFBWSxXQUFXLGFBQWEscUJBQXFCLE1BQU0sR0FBRyxxQkFBcUIsK0lBQStJLG9CQUFvQiw0R0FBNEcsc05BQXNOLFFBQVEsd0NBQXdDLDRCQUE0QixxR0FBcUcsT0FBTyxxQkFBcUIsMkNBQTJDLE9BQU8sa0JBQWtCLHlCQUF5QixpREFBaUQsMkJBQTJCLCtEQUErRCxtRkFBbUYseUhBQXlILG1EQUFtRCw4SUFBOEksU0FBUyxZQUFZLFdBQVcscUJBQXFCLCtGQUErRixpQkFBaUIsa0NBQWtDLGFBQWEsaUVBQWlFLFVBQVUsOEVBQThFLGFBQWEsUUFBUSxnS0FBZ0ssVUFBVSxNQUFNLDRNQUE0TSxxQkFBcUIsZUFBZSxVQUFVLG1CQUFtQixNQUFNLG9RQUFvUSx5VUFBeVUsK0hBQStILGlCQUFpQiw4RkFBOEYsb0NBQW9DLHVIQUF1SCxpQ0FBaUMsMFFBQTBRLG1EQUFtRCxhQUFhLG9DQUFvQyx5R0FBeUcsZ0JBQWdCLCtJQUErSSxpRUFBaUUsNEZBQTRGLCtGQUErRixXQUFXLG9IQUFvSCx5SkFBeUoscUNBQXFDLG9FQUFvRSxJQUFJLGVBQWUsdUVBQXVFLDJCQUEyQixvTUFBb00sVUFBVSxNQUFNLG9OQUFvTiwrQkFBK0Isa0VBQWtFLHFCQUFxQixnQkFBZ0IsMkxBQTJMLGlFQUFpRSxzRkFBc0YsdUJBQXVCLHNIQUFzSCx5QkFBeUIsMkVBQTJFLFlBQVksV0FBVyw2QkFBNkIsUUFBUSxXQUFXLHlHQUF5Ryx5UUFBeVEsdUJBQXVCLCtCQUErQixtQkFBbUIsbUJBQW1CLDhEQUE4RCxxQkFBcUIsb0NBQW9DLHVFQUF1RSxjQUFjLG1CQUFtQiw0QkFBNEIscUJBQXFCLGtDQUFrQyxHQUFHLG9DQUFvQyxxQ0FBcUMsZUFBZSxxQkFBcUIsdUJBQXVCLEdBQUcsb0NBQW9DLG9MQUFvTCxHQUFHLG9DQUFvQyxxQ0FBcUMsYUFBYSxrQkFBa0IsNEJBQTRCLGVBQWUsaUJBQWlCLCtCQUErQixvQkFBb0IsaUJBQWlCLHVCQUF1QixHQUFHLG9DQUFvQyx1Q0FBdUMsZ0NBQWdDLGdCQUFnQixHQUFHLHVDQUF1Qyx5REFBeUQsa0JBQWtCLDZCQUE2QixtQ0FBbUMsZ0NBQWdDLHdDQUF3QyxNQUFNLHNDQUFzQyxrQ0FBa0MscUNBQXFDLDBDQUEwQyx5REFBeUQsYUFBYSxvQ0FBb0MscUZBQXFGLG9DQUFvQyx5Q0FBeUMsbUJBQW1CLFVBQVUsV0FBVyxjQUFjLGVBQWUscUJBQXFCLG9CQUFvQix5Q0FBeUMsZ0NBQWdDLDRFQUE0RSxTQUFTLG9DQUFvQyxvQ0FBb0MsZUFBZSxpQkFBaUIsbUJBQW1CLHdCQUF3QixHQUFHLGtCQUFrQixJQUFJLElBQUksUUFBUSxhQUFhLHFCQUFxQixXQUFXLElBQUksU0FBUyxnTUFBZ00sd0NBQXdDLHFCQUFxQix1QkFBdUIsMkJBQTJCLHFCQUFxQiwrQ0FBK0MsNERBQTRELG1CQUFtQix1QkFBdUIsWUFBWSxzQkFBc0IscUJBQXFCLGtCQUFrQix3QkFBd0Isc0RBQXNELDhCQUE4QixFQUFFLDJCQUEyQixnQ0FBZ0Msc0JBQXNCLEdBQUcsb0JBQW9CLEdBQUcsRUFBRSxNQUFNLHVCQUF1QixxQkFBcUIsMEJBQTBCLDZFQUE2RSxXQUFXLDJHQUEyRyxXQUFXLElBQUksTUFBTSxpRUFBaUUsUUFBUSx5REFBeUQsUUFBUSxHQUFHLE1BQU0sUUFBUSw0QkFBNEIsOEJBQThCLFFBQVEsU0FBUyxhQUFhLEdBQUcsR0FBRyxJQUFJLGVBQWUsU0FBUyx5RUFBeUUsb0NBQW9DLHVCQUF1QixlQUFlLEtBQUssSUFBSSxLQUFLLG9CQUFvQixNQUFNLFNBQVMsMkVBQTJFLHNDQUFzQyxvQ0FBb0MsaUZBQWlGLFNBQVMseURBQXlELCtFQUErRSxTQUFTLHlCQUF5QiwwSEFBMEgsb0hBQW9ILDZCQUE2Qix3S0FBd0ssc0lBQXNJLHdEQUF3RCx5R0FBeUcsa0ZBQWtGLHFEQUFxRCxJQUFJLDhCQUE4QixhQUFhLEtBQUssZ09BQWdPLGVBQWUsR0FBRyxTQUFTLCtJQUErSSxHQUFHLHlGQUF5RixPQUFPLDhCQUE4QixJQUFJLDJCQUEyQixNQUFNLCtDQUErQyxPQUFPLHdNQUF3TSxFQUFFLHNEQUFzRCxhQUFhLHVEQUF1RCxrSkFBa0oseUNBQXlDLHlEQUF5RCw4QkFBOEIsT0FBTyxNQUFNLDZKQUE2SiwrQ0FBK0MsT0FBTyxPQUFPLDRHQUE0Ryx5SEFBeUgsUUFBUSwrQkFBK0IsT0FBTyw0QkFBNEIsaUNBQWlDLFNBQVMsaURBQWlELE9BQU8sK0RBQStELGFBQWEsd0NBQXdDLElBQUksZ0RBQWdELFNBQVMsZUFBZSwwREFBMEQsaUJBQWlCLFVBQVUsOElBQThJLDRHQUE0RyxrRkFBa0YsZ0ZBQWdGLGdLQUFnSyx1R0FBdUcsaUhBQWlILGlCQUFpQixvR0FBb0csK0VBQStFLDRCQUE0QixZQUFZLG1CQUFtQixhQUFhLCtEQUErRCxjQUFjLDJSQUEyUiwySkFBMkosaUdBQWlHLHdDQUF3QyxtQ0FBbUMsNEJBQTRCLDhEQUE4RCwrSUFBK0kscUtBQXFLLGdDQUFnQyx5QkFBeUIsZUFBZSw0UkFBNFIsSUFBSSw2Q0FBNkMsa0JBQWtCLEdBQUcsU0FBUyxzQ0FBc0Msd0NBQXdDLGtEQUFrRCx1RUFBdUUsV0FBVyxJQUFJLDZDQUE2QyxRQUFRLEdBQUcsU0FBUyxzQ0FBc0Msd0NBQXdDLGtEQUFrRCxzQ0FBc0MsV0FBVyxJQUFJLDZDQUE2QyxRQUFRLEdBQUcsU0FBUyxzQ0FBc0Msd0NBQXdDLGtEQUFrRCxrQ0FBa0MsaUVBQWlFLElBQUksc0RBQXNELGdKQUFnSixTQUFTLHNNQUFzTSw0QkFBNEIsOERBQThELCtFQUErRSwwQkFBMEIsOERBQThELCtFQUErRSxvQkFBb0IsOERBQThELGdGQUFnRix3QkFBd0IsV0FBVyxzQ0FBc0MsMkNBQTJDLElBQUksdUJBQXVCLHNFQUFzRSw2REFBNkQsU0FBUyxhQUFhLHNCQUFzQixJQUFJLHNEQUFzRCxTQUFTLHdiQUF3YiwwQkFBMEIsOERBQThELG1EQUFtRCwyQkFBMkIsMkhBQTJILHdUQUF3VCx1Q0FBdUMsaUJBQWlCLHNCQUFzQix1RUFBdUUsc0NBQXNDLE9BQU8sNkNBQTZDLDhFQUE4RSxtQkFBbUIscUNBQXFDLG9FQUFvRSw2TUFBNk0sY0FBYyxzQkFBc0Isa0lBQWtJLE1BQU0sdUhBQXVILE1BQU0sbUlBQW1JLHlLQUF5Syw0QkFBNEIsaUZBQWlGLG1CQUFtQix1Q0FBdUMsV0FBVyxNQUFNLHVDQUF1QyxXQUFXLE1BQU0sVUFBVSwrQkFBK0IsY0FBYyxnR0FBZ0csY0FBYyxhQUFhLFVBQVUsMkxBQTJMOztBQUV4aTNNOztBQUVBOztBQUVBLG1MQUFtTCxxQkFBcUIsYUFBYSxrQ0FBa0MsYUFBYSxvQ0FBb0MsTUFBTSxFQUFFLDZLQUE2SyxFQUFFLFFBQVEsK0JBQStCLE1BQU0sc0lBQXNJLGNBQWMsd01BQXdNLGtEQUFrRCw2RkFBNkYsdUdBQXVHLG9DQUFvQyxrR0FBa0csR0FBRyxzREFBc0Qsa0RBQWtELDZDQUE2QyxvSUFBb0ksR0FBRywyTUFBMk0sK0ZBQStGLEdBQUcscUJBQXFCLDZCQUE2QixpQ0FBaUMsc0JBQXNCLFNBQVMsdUVBQXVFLGNBQWMsaUNBQWlDLHNDQUFzQyxpS0FBaUssNEJBQTRCLFNBQVMseUJBQXlCLDhEQUE4RCxHQUFHLFNBQVMsOERBQThELGVBQWUsdUJBQXVCLHFPQUFxTyxxREFBcUQsSUFBSSxHQUFHLGlCQUFpQiw2QkFBNkIsdUNBQXVDLGFBQWEsdUVBQXVFLGVBQWUsNkJBQTZCLG1EQUFtRCxRQUFRLDZCQUE2QixzQ0FBc0MsMkNBQTJDLDRIQUE0SCw0QkFBNEIsZUFBZSx5QkFBeUIscUVBQXFFLHdHQUF3RyxlQUFlLGtHQUFrRywrQkFBK0IsR0FBRyxHQUFHLGtCQUFrQiw2Q0FBNkMseUJBQXlCLFdBQVcsc0NBQXNDLGtCQUFrQiw4Q0FBOEMsWUFBWSxrREFBa0QsR0FBRyxpQ0FBaUMsVUFBVSwyREFBMkQsWUFBWSx3SkFBd0osS0FBSyxjQUFjLHVCQUF1QixjQUFjLGlEQUFpRCw4SEFBOEgsOENBQThDLElBQUksc0JBQXNCLHNCQUFzQixvQ0FBb0Msb0JBQW9CLElBQUksS0FBSyx3QkFBd0IsZUFBZSw0S0FBNEssV0FBVyxlQUFlLGNBQWMsVUFBVSxPQUFPLGlGQUFpRixTQUFTLG1GQUFtRixVQUFVLFdBQVcsZUFBZTtBQUNwK0o7QUFDQSxzRUFBc0UsMkhBQTJILFFBQVEsb0ZBQW9GLHFCQUFxQixlQUFlLGlCQUFpQixjQUFjLHFCQUFxQixpQkFBaUIsME1BQTBNLHVCQUF1Qiw2Q0FBNkMsbUNBQW1DLE1BQU0scU5BQXFOLGtDQUFrQyxNQUFNLGtQQUFrUCxxQkFBcUIsaUhBQWlILGtEQUFrRCxHQUFHLHFCQUFxQixrR0FBa0csd0NBQXdDLGNBQWMsU0FBUyxRQUFRLDBDQUEwQywwQkFBMEIsVUFBVSxRQUFRLDZDQUE2QyxHQUFHLFNBQVMsOENBQThDLFNBQVMsbUJBQW1CLHFHQUFxRywyQ0FBMkMsR0FBRyxtQkFBbUIsc0ZBQXNGLHdDQUF3QyxvQkFBb0IsU0FBUywyQkFBMkIsUUFBUSxLQUFLLDBCQUEwQixVQUFVLDJDQUEyQyxNQUFNLEVBQUUseUJBQXlCLElBQUksU0FBUywyQ0FBMkMsU0FBUyxlQUFlLHVCQUF1QixxQkFBcUIsZUFBZSx5TkFBeU4sV0FBVyxlQUFlLGNBQWMsVUFBVSxPQUFPLDRGQUE0RixTQUFTLG1GQUFtRixVQUFVLFdBQVcsUUFBUSwrSUFBK0ksZUFBZTtBQUN2K0YsMEhBQTBILGlSQUFpUixxQkFBcUIsZUFBZSxpQkFBaUIsY0FBYyxxQkFBcUIsbUJBQW1CLDRQQUE0UCx1QkFBdUIsdUNBQXVDLGtCQUFrQix5QkFBeUIsbUNBQW1DLE1BQU0scU5BQXFOLGtDQUFrQyxNQUFNLHdKQUF3SixxQkFBcUIsaUhBQWlILGtEQUFrRCxHQUFHLHFCQUFxQixrR0FBa0csd0NBQXdDLGNBQWMsU0FBUyxRQUFRLDBDQUEwQywwQkFBMEIsVUFBVSxRQUFRLDZDQUE2QyxHQUFHLFNBQVMsOENBQThDLFNBQVMsbUJBQW1CLHFHQUFxRywyQ0FBMkMsR0FBRyxtQkFBbUIsc0ZBQXNGLHdDQUF3QyxvQkFBb0IsU0FBUywyQkFBMkIsUUFBUSxLQUFLLDBCQUEwQixVQUFVLDJDQUEyQyxNQUFNLEVBQUUseUJBQXlCLElBQUksU0FBUywyQ0FBMkMsU0FBUyxlQUFlLHVCQUF1QixxQkFBcUIsZUFBZSxVQUFVLGVBQWUsVUFBVSxjQUFjLGlOQUFpTixhQUFhLG9CQUFvQiw2RkFBNkYsdUJBQXVCLFNBQVMseUJBQXlCLFNBQVMsc0JBQXNCLHVCQUF1QixRQUFRLFFBQVEsV0FBVyxlQUFlLHFCQUFxQixnQ0FBZ0MsVUFBVSxjQUFjLGFBQWEsZUFBZSxxQkFBcUIsMkNBQTJDLDRKQUE0SixRQUFRLFNBQVMsWUFBWSwyQ0FBMkMsK0JBQStCLDBCQUEwQixtQ0FBbUMsdURBQXVELHNFQUFzRSxrRUFBa0UsT0FBTyxFQUFFLGVBQWUsU0FBUyxtRUFBbUUsaUJBQWlCLEVBQUUsMEJBQTBCLHVNQUF1TSxnQkFBZ0IsSUFBSSxlQUFlLFNBQVMsc01BQXNNLDBCQUEwQixpRkFBaUYsb0NBQW9DLHFCQUFxQixnQ0FBZ0MsV0FBVyx1QkFBdUIsYUFBYSxJQUFJLDZCQUE2QixrQ0FBa0MsbUNBQW1DLEdBQUcscUJBQXFCLHdCQUF3QixJQUFJLFlBQVksaUJBQWlCLHNEQUFzRCxRQUFRLHVDQUF1QyxTQUFTLDBCQUEwQixPQUFPLDBJQUEwSSxJQUFJLGVBQWUsMkJBQTJCLGlEQUFpRCw2RUFBNkUsdUNBQXVDLGtCQUFrQixTQUFTLFlBQVksV0FBVyx5Q0FBeUMsMEJBQTBCLGtIQUFrSCwwREFBMEQsb0JBQW9CLE9BQU8sdUJBQXVCLHVDQUF1QywwQ0FBMEMsbUJBQW1CLGlCQUFpQixrQkFBa0IsR0FBRyx1Q0FBdUMsR0FBRyx3REFBd0QsT0FBTyxFQUFFLGNBQWMsNEJBQTRCLHlCQUF5QixtSUFBbUksbURBQW1ELFFBQVEsa0NBQWtDLHlEQUF5RCxrQ0FBa0MseURBQXlELGtDQUFrQyxnQ0FBZ0MsNEJBQTRCLGdCQUFnQiw0QkFBNEIsZ0JBQWdCLDRCQUE0QixRQUFRLHVDQUF1QyxRQUFRLDRCQUE0QiwwQkFBMEIsY0FBYywyQkFBMkIsZUFBZSxxQkFBcUIsdUJBQXVCLHFIQUFxSCwyQkFBMkIscUlBQXFJLGdCQUFnQixtRkFBbUYsb0JBQW9CLHlCQUF5QixxQkFBcUIsa21CQUFrbUIsYUFBYSwySEFBMkgsSUFBSSxvSUFBb0ksdUNBQXVDLG1HQUFtRyw0RUFBNEUsWUFBWSwrRUFBK0UsSUFBSSxRQUFRLGlCQUFpQix1SUFBdUksMkJBQTJCLDhIQUE4SCx5Q0FBeUMsd0JBQXdCLCtCQUErQix5QkFBeUIsT0FBTyw0QkFBNEIsOEJBQThCLG1FQUFtRSx3Q0FBd0MsSUFBSSw2SUFBNkksU0FBUyxnSEFBZ0gsTUFBTSw4REFBOEQsSUFBSSwwQ0FBMEMsU0FBUyxrSEFBa0gsa0JBQWtCLDRQQUE0UCxXQUFXLGVBQWUsaUlBQWlJLDhEQUE4RCxLQUFLLHlCQUF5QixrRUFBa0Usd0dBQXdHLHFJQUFxSSxPQUFPLHVQQUF1UCxPQUFPLHFJQUFxSSxRQUFRLGdWQUFnVixzQkFBc0IsaUVBQWlFLDJNQUEyTSx5Q0FBeUMsd1lBQXdZLHVDQUF1QyxxU0FBcVMseUJBQXlCLHlCQUF5QixRQUFRLHVIQUF1SCwrQkFBK0IsMkhBQTJILGlGQUFpRixxR0FBcUcsSUFBSSxTQUFTLE1BQU0sMEJBQTBCLHFCQUFxQixpSUFBaUksa0NBQWtDLDJCQUEyQix3WEFBd1gsc0JBQXNCLDhCQUE4QixHQUFHLG9DQUFvQyxvRUFBb0UsOEJBQThCLHNDQUFzQywrQ0FBK0MsR0FBRyxnQ0FBZ0MsOENBQThDLGVBQWUseUtBQXlLLGdCQUFnQix5RUFBeUUsNktBQTZLLDRDQUE0Qyw4Q0FBOEMsR0FBRyx3S0FBd0ssaUdBQWlHLFlBQVksb0dBQW9HLElBQUksNENBQTRDLDRwQ0FBNHBDLGtDQUFrQyw4REFBOEQsc0NBQXNDLGdCQUFnQiw0QkFBNEIsMEJBQTBCLG9CQUFvQiw4QkFBOEIscUJBQXFCLDhDQUE4QyxtWkFBbVosbUJBQW1CLDhGQUE4RixxQ0FBcUMsYUFBYSxzQ0FBc0MsUUFBUSxxQ0FBcUMsV0FBVyxJQUFJLGlDQUFpQyxTQUFTLDJGQUEyRix3QkFBd0IseUZBQXlGLG9KQUFvSixVQUFVLFNBQVMsZ0ZBQWdGLFNBQVMsZ0NBQWdDLGlGQUFpRixVQUFVLFNBQVMsZ0ZBQWdGLCtFQUErRSx3QkFBd0IsNkhBQTZILE9BQU8sNEJBQTRCLDhCQUE4QiwyR0FBMkcsNkJBQTZCLDJDQUEyQyxPQUFPLE1BQU0sOEpBQThKLElBQUksMENBQTBDLFNBQVMsd0ZBQXdGLE9BQU8sV0FBVyxnRUFBZ0UsK0JBQStCLElBQUksc0JBQXNCLGdCQUFnQix3QkFBd0Isb0JBQW9CLDRHQUE0RyxTQUFTLDZHQUE2Ryw4REFBOEQsUUFBUSxtRUFBbUUsZUFBZSx3RUFBd0UsZ0JBQWdCLHFPQUFxTyxrQ0FBa0MsMkZBQTJGLCtCQUErQix1RUFBdUUscUVBQXFFLG9DQUFvQyxnQkFBZ0Isd0JBQXdCLG9CQUFvQixxRUFBcUUsOEJBQThCLHNGQUFzRixJQUFJLHNCQUFzQixpQ0FBaUMseUNBQXlDLFNBQVMsT0FBTyxHQUFHLGdDQUFnQyw0RkFBNEYsd1VBQXdVLDZDQUE2QyxnQkFBZ0IsNEJBQTRCLGdCQUFnQiw0QkFBNEIsZ0JBQWdCLDRCQUE0QixnQkFBZ0IsNEJBQTRCLGdCQUFnQiw0QkFBNEIsUUFBUSw0QkFBNEIsa0NBQWtDLG9CQUFvQixnQ0FBZ0MscUJBQXFCLDJNQUEyTSx5Q0FBeUMsRUFBRSxJQUFJLHlEQUF5RCxRQUFRLG1CQUFtQix1Q0FBdUMsZUFBZSxtQ0FBbUMsb0JBQW9CLHdDQUF3QyxpQkFBaUIsc0NBQXNDLDJCQUEyQixxRkFBcUYsMEJBQTBCLDhDQUE4QyxtQkFBbUIsdUNBQXVDLDJCQUEyQiwrQ0FBK0MseUJBQXlCLDZDQUE2QyxRQUFRLDZEQUE2RCwrQkFBK0Isb0VBQW9FLCs1QkFBKzVCLG9CQUFvQiwwQkFBMEIsZUFBZSw0RUFBNEUsVUFBVSxjQUFjLDBDQUEwQyw0SUFBNEksSUFBSSx5REFBeUQsT0FBTyxtQ0FBbUMsaUJBQWlCLHNDQUFzQyxpQkFBaUIsdVBBQXVQLG9CQUFvQixtQ0FBbUMsK0RBQStELElBQUksZ0RBQWdELE9BQU8sa0RBQWtELHNCQUFzQixTQUFTLDJCQUEyQiw2VUFBNlUseUJBQXlCLHlCQUF5Qiw2RUFBNkUsNEVBQTRFLEtBQUsscUJBQXFCLG9CQUFvQiwrR0FBK0csbUJBQW1CLDBCQUEwQixlQUFlLGdFQUFnRSxrV0FBa1csd0JBQXdCLGlDQUFpQyxlQUFlLG9EQUFvRCxvQkFBb0IsaUNBQWlDLGtCQUFrQixrT0FBa08saUJBQWlCLGlKQUFpSiwwQkFBMEIsMklBQTJJLDBCQUEwQiwwT0FBME8sbUJBQW1CLGtSQUFrUiwyQkFBMkIsa0tBQWtLLHlCQUF5QixvQkFBb0IsNkJBQTZCLElBQUksd0JBQXdCLE9BQU8sZUFBZSxVQUFVLHVDQUF1QywrQkFBK0IsNE1BQTRNLGtCQUFrQixvTUFBb00sbUJBQW1CLHdDQUF3Qyw0SUFBNEksd0JBQXdCLGtMQUFrTCxjQUFjLFFBQVEsZ0xBQWdMLHFCQUFxQixvQkFBb0IsdUVBQXVFLHFIQUFxSCxrSEFBa0gsU0FBUyx5QkFBeUIsZ0NBQWdDLDBCQUEwQixpTEFBaUwsaUJBQWlCLHdCQUF3QixrQkFBa0IsTUFBTSwwSEFBMEgsZUFBZSxzdEJBQXN0QixXQUFXLDBRQUEwUSxvQkFBb0IscUNBQXFDLDRDQUE0Qyx1V0FBdVcsaUNBQWlDLGVBQWUsMkZBQTJGLE1BQU0saUpBQWlKLElBQUksdUVBQXVFLE9BQU8sK0JBQStCLE1BQU0saURBQWlELE1BQU0saURBQWlELE1BQU0saURBQWlELE1BQU0scVBBQXFQLE1BQU0saURBQWlELE1BQU0sNkNBQTZDLE1BQU0sNkNBQTZDLE1BQU0saURBQWlELE1BQU0sYUFBYSw4QkFBOEIsa01BQWtNLE1BQU0sa0JBQWtCLHdCQUF3Qiw2RkFBNkYsNERBQTRELHFIQUFxSCw0RUFBNEUsdUJBQXVCLEVBQUUsdUJBQXVCLG9DQUFvQyxvRkFBb0YsUUFBUSxzREFBc0QsOFVBQThVLDRTQUE0UyxrQkFBa0IseUJBQXlCLHNCQUFzQixNQUFNLHVFQUF1RSxnQkFBZ0IsMkpBQTJKLG9CQUFvQixrRUFBa0UsUUFBUSwrQkFBK0Isd0JBQXdCLHdPQUF3TyxFQUFFLFdBQVcsaUVBQWlFLFdBQVcsNEVBQTRFLHFCQUFxQixrQkFBa0IsdUNBQXVDLDRFQUE0RSx5QkFBeUIseUVBQXlFLG9EQUFvRCwyQ0FBMkMsb0JBQW9CLHFDQUFxQyxrR0FBa0csNEVBQTRFLHlCQUF5Qiw0RUFBNEUsbUJBQW1CLGlCQUFpQixrQkFBa0IsR0FBRyx1Q0FBdUMsR0FBRyx3REFBd0Qsb0JBQW9CLGVBQWUsVUFBVSx3U0FBd1MsbUJBQW1CLG9GQUFvRiw4REFBOEQseURBQXlELGFBQWEsb0RBQW9ELDhEQUE4RCx5Q0FBeUMsUUFBUSxhQUFhLDJLQUEySyxRQUFRLDJNQUEyTSxXQUFXLHlDQUF5Qyx3R0FBd0csaUVBQWlFLElBQUksNENBQTRDLHlrQkFBeWtCLFVBQVUsTUFBTSxFQUFFLFlBQVksR0FBRyxRQUFRLDBIQUEwSCxxRkFBcUYsaUpBQWlKLFdBQVcsMnFCQUEycUIsK0JBQStCLHdCQUF3Qix5RUFBeUUsR0FBRyxvQkFBb0IsZUFBZSxvRkFBb0YsZ0tBQWdLLHVCQUF1QixVQUFVLHNEQUFzRCw0R0FBNEcsWUFBWSxZQUFZLDJMQUEyTCw4SkFBOEosdUpBQXVKLGVBQWUsb0dBQW9HLGdCQUFnQixxQ0FBcUMsZ0JBQWdCLG1FQUFtRSxvQkFBb0IsZ0VBQWdFLFFBQVEsTUFBTSxxRkFBcUYsa0JBQWtCLE1BQU0sdUhBQXVILHFDQUFxQyxNQUFNLCtEQUErRCxxSUFBcUksVUFBVSxnSEFBZ0gsSUFBSSwrREFBK0QsT0FBTyx3QkFBd0IsaUJBQWlCLDhnQkFBOGdCLHNCQUFzQixNQUFNLDJiQUEyYix3QkFBd0IsTUFBTSx5RUFBeUUsMEJBQTBCLElBQUksK0RBQStELE9BQU8sb0RBQW9ELG9CQUFvQixNQUFNLDhMQUE4TCxzQkFBc0IsdUJBQXVCLGlIQUFpSCx3SEFBd0gsZ0JBQWdCLDRCQUE0QixpREFBaUQsa0NBQWtDLHlEQUF5RCxrQ0FBa0MsZ0JBQWdCLGtDQUFrQyx3QkFBd0Isc0NBQXNDLGdFQUFnRSx1Q0FBdUMsUUFBUSw0QkFBNEIsUUFBUSw0QkFBNEIsUUFBUSw0Q0FBNEMseUJBQXlCLGtCQUFrQixTQUFTLElBQUksU0FBUyxzQ0FBc0MsNkNBQTZDLHlCQUF5QixpQkFBaUIsU0FBUyxJQUFJLFFBQVEsc0NBQXNDLDJDQUEyQyx3QkFBd0IsZ0JBQWdCLHNFQUFzRSwyQkFBMkIsa0NBQWtDLHVCQUF1Qiw4QkFBOEIsd0JBQXdCLDBCQUEwQixvQkFBb0IseUJBQXlCLHlCQUF5QixrVkFBa1YsdUNBQXVDLDBPQUEwTyxJQUFJLGlCQUFpQixpQkFBaUIsd0NBQXdDLDZDQUE2QyxzS0FBc0ssd0JBQXdCLFdBQVcsNERBQTRELCtDQUErQyxvQkFBb0IsMEZBQTBGLHdFQUF3RSxhQUFhLDBCQUEwQiwyR0FBMkcsMkJBQTJCLGdDQUFnQyxnREFBZ0QsTUFBTSxNQUFNLDZCQUE2QixrQkFBa0IsOEdBQThHLEVBQUUscUZBQXFGLElBQUksd0ZBQXdGLHVPQUF1TyxRQUFRLGdFQUFnRSx1QkFBdUIsaUNBQWlDLCtIQUErSCw2SkFBNkosaUJBQWlCLHNDQUFzQyxFQUFFLG9DQUFvQyxFQUFFLGlXQUFpVyxJQUFJLDBDQUEwQyxrREFBa0QsUUFBUSxxQ0FBcUMsT0FBTyx5UUFBeVEsc0JBQXNCLE9BQU8sNEJBQTRCLDhCQUE4QixvRUFBb0Usd0NBQXdDLElBQUksMENBQTBDLFNBQVMsMEZBQTBGLHdHQUF3Ryx3Q0FBd0MsSUFBSSx5Q0FBeUMsU0FBUyx5RkFBeUYsNEZBQTRGLGtCQUFrQiw0UEFBNFAsbUNBQW1DLDhHQUE4RywwUUFBMFEsVUFBVSxnQkFBZ0IsRUFBRSxnS0FBZ0ssSUFBSSxnR0FBZ0csU0FBUyw2Q0FBNkMsd0ZBQXdGLGlHQUFpRyxJQUFJLGlEQUFpRCxTQUFTLG1CQUFtQixXQUFXLGVBQWUsaUlBQWlJLDhEQUE4RCxLQUFLLHlCQUF5Qiw0R0FBNEcsc0JBQXNCLHNFQUFzRSw4QkFBOEIsK0RBQStELDhFQUE4RSx5QkFBeUIsK0ZBQStGLGtVQUFrVSxJQUFJLGlEQUFpRCxTQUFTLG9CQUFvQiw2QkFBNkIsMklBQTJJLDZCQUE2QixJQUFJLGtGQUFrRixTQUFTLHNIQUFzSCx5RkFBeUYscUJBQXFCLG9LQUFvSyx1Q0FBdUMsRUFBRSxnSEFBZ0gsbUNBQW1DLDBDQUEwQyxXQUFXLHdDQUF3QyxhQUFhLHNCQUFzQixxRUFBcUUsMEJBQTBCLFFBQVEsZUFBZSxnQ0FBZ0MsOEdBQThHLDZhQUE2YSxJQUFJLGlEQUFpRCxTQUFTLG1CQUFtQiwyQkFBMkIsK0JBQStCLElBQUksNkJBQTZCLG9DQUFvQyxxQkFBcUIsSUFBSSwwQkFBMEIscUJBQXFCLHFCQUFxQixJQUFJLFlBQVkscUJBQXFCLGdDQUFnQyxpQ0FBaUMsYUFBYSxlQUFlLE1BQU0sa0VBQWtFLGlFQUFpRSxNQUFNLE1BQU0sK0NBQStDLFFBQVEsYUFBYSxZQUFZLHFQQUFxUCwrQkFBK0IsSUFBSSxRQUFRLHdGQUF3RixvSEFBb0gsRUFBRSxpQkFBaUIsR0FBRyw0RUFBNEUscURBQXFELElBQUksaURBQWlELDJDQUEyQyw4QkFBOEIsc0ZBQXNGLEVBQUUsaUdBQWlHLFNBQVMsT0FBTyxTQUFTLDBEQUEwRCxnQ0FBZ0MsUUFBUSwrQkFBK0IsMkhBQTJILGlGQUFpRixpRUFBaUUsSUFBSSxTQUFTLDBCQUEwQixxQkFBcUIsK0RBQStELFFBQVEsdUxBQXVMLFNBQVMsdUZBQXVGLGNBQWMsb0JBQW9CLHlLQUF5SywrSUFBK0ksd0JBQXdCLG9IQUFvSCw2RkFBNkYsMEZBQTBGLGVBQWUsV0FBVyx3QkFBd0IsMkRBQTJELGlCQUFpQixtUEFBbVAsOEpBQThKLGtDQUFrQyxpRkFBaUYsK0JBQStCLDhCQUE4QiwrQ0FBK0MsaUdBQWlHLGlDQUFpQyxtREFBbUQsK1NBQStTLEdBQUcsbUNBQW1DLDJEQUEyRCwrQkFBK0IsMklBQTJJLHE2REFBcTZELGtDQUFrQywwREFBMEQsa0NBQWtDLGdCQUFnQixrQ0FBa0MsZ0JBQWdCLDRCQUE0Qix5QkFBeUIsb0JBQW9CLDBCQUEwQix5QkFBeUIseU9BQXlPLDBCQUEwQixXQUFXLHlDQUF5Qyw2QkFBNkIsMENBQTBDLG9NQUFvTSw4VEFBOFQsbUJBQW1CLDJKQUEySix3QkFBd0Isd0ZBQXdGLHFDQUFxQyxhQUFhLHNDQUFzQyxRQUFRLCtEQUErRCxXQUFXLElBQUksaUNBQWlDLFNBQVMsMkZBQTJGLHdCQUF3Qix5RkFBeUYsd0xBQXdMLFVBQVUsU0FBUyxnRkFBZ0YsU0FBUyxnQ0FBZ0MsNkVBQTZFLFVBQVUsU0FBUyxnRkFBZ0YsNkRBQTZELGlDQUFpQyxvRUFBb0UsT0FBTyxjQUFjLHNCQUFzQixFQUFFLDRCQUE0QixTQUFTLEdBQUcsa0JBQWtCLG9DQUFvQyxXQUFXLElBQUksaUNBQWlDLFNBQVMsd0dBQXdHLHdCQUF3Qix5RkFBeUYsNEdBQTRHLGtHQUFrRyxvRkFBb0Ysc0JBQXNCLE9BQU8sNEJBQTRCLDhCQUE4QixtRUFBbUUsSUFBSSxnRUFBZ0UsTUFBTSxnQkFBZ0Isd0JBQXdCLG9CQUFvQixvRUFBb0UseUNBQXlDLFNBQVMsc0ZBQXNGLG9JQUFvSSxNQUFNLG1LQUFtSyxJQUFJLDBDQUEwQyxTQUFTLDBGQUEwRix3RUFBd0UsbUNBQW1DLDhHQUE4RyxpS0FBaUssdUJBQXVCLGtCQUFrQixZQUFZLGdLQUFnSyxJQUFJLGdHQUFnRyxTQUFTLDZDQUE2Qyx1RkFBdUYsZ0tBQWdLLElBQUksaURBQWlELFNBQVMsbUJBQW1CLDBCQUEwQixRQUFRLHVCQUF1QixlQUFlLHdFQUF3RSxnQkFBZ0IsaU9BQWlPLGtDQUFrQywyRkFBMkYsK0JBQStCLHVFQUF1RSxnQ0FBZ0MsUUFBUSxpQkFBaUIsZ0JBQWdCLFFBQVEsb0JBQW9CLGlJQUFpSSxRQUFRLCtKQUErSixTQUFTLHVGQUF1RixjQUFjLG9CQUFvQiw0R0FBNEcsaUJBQWlCLEVBQUUsZ0JBQWdCLDZFQUE2RSx5SUFBeUksNkJBQTZCLHNFQUFzRSxJQUFJLHNCQUFzQixpQ0FBaUMseUNBQXlDLFNBQVMsT0FBTyw0REFBNEQsK0NBQStDLElBQUksMmNBQTJjLHFCQUFxQixtRUFBbUUsTUFBTSxFQUFFLGdEQUFnRCw0VkFBNFYsNERBQTRELFlBQVksb0JBQW9CLHFCQUFxQix1U0FBdVMsaUNBQWlDLCtIQUErSCxpRUFBaUUsR0FBRyxXQUFXLHVHQUF1RyxvQkFBb0IsMkNBQTJDLG9CQUFvQiw0Q0FBNEMsV0FBVyx3SEFBd0gsUUFBUSw0QkFBNEIsUUFBUSx1Q0FBdUMsUUFBUSw0QkFBNEIsMEJBQTBCLGdCQUFnQixzRUFBc0Usb0JBQW9CLDBCQUEwQixxQkFBcUIsbWpCQUFtakIsV0FBVyxlQUFlLG1JQUFtSSwrREFBK0QsS0FBSyxRQUFRLGdFQUFnRSx1QkFBdUIsaUNBQWlDLCtIQUErSCw2SkFBNkosYUFBYSxZQUFZLE1BQU0sRUFBRSxvQ0FBb0MsRUFBRSx3TkFBd04sK0dBQStHLHNDQUFzQyx5Q0FBeUMsaU5BQWlOLElBQUksMENBQTBDLGtEQUFrRCxRQUFRLHFDQUFxQyxPQUFPLHlRQUF5USxzQkFBc0Isc0VBQXNFLG1DQUFtQywwQ0FBMEMsV0FBVyx3Q0FBd0MsYUFBYSxzQkFBc0IsMklBQTJJLCtCQUErQixJQUFJLFFBQVEsd0ZBQXdGLG9IQUFvSCxFQUFFLGlCQUFpQixHQUFHLDRFQUE0RSxxREFBcUQsSUFBSSxpREFBaUQsMkNBQTJDLDhCQUE4Qix1RkFBdUYsRUFBRSxpR0FBaUcsU0FBUyxPQUFPLFNBQVMsMERBQTBELFFBQVEsK0JBQStCLDJIQUEySCxpRkFBaUYsaUVBQWlFLElBQUksU0FBUywwQkFBMEIscUJBQXFCLCtEQUErRCxpQ0FBaUMsbURBQW1ELDZOQUE2TixHQUFHLG1DQUFtQywyREFBMkQsV0FBVywwREFBMEQsVUFBVSwrQkFBK0IsMFlBQTBZLG1EQUFtRCxRQUFRLGtDQUFrQyxRQUFRLDRCQUE0QixRQUFRLDRCQUE0QixRQUFRLHVDQUF1QyxRQUFRLDRCQUE0QiwwQkFBMEIsZ0JBQWdCLG1GQUFtRixvQkFBb0IsMEJBQTBCLHFCQUFxQixtZUFBbWUsdUNBQXVDLG9OQUFvTiw0Q0FBNEMsa0VBQWtFLEdBQUcsR0FBRyx5QkFBeUIsa0VBQWtFLHdHQUF3RyxxSUFBcUksYUFBYSxzR0FBc0csMkJBQTJCLDhIQUE4SCx5Q0FBeUMsaUJBQWlCLDZDQUE2QyxXQUFXLGVBQWUsbUlBQW1JLCtEQUErRCxLQUFLLE9BQU8sOFJBQThSLE9BQU8scUpBQXFKLFdBQVcsaUdBQWlHLFlBQVksNkJBQTZCLHNCQUFzQixpRUFBaUUsMk1BQTJNLFFBQVEscUdBQXFHLCtCQUErQiwySEFBMkgsaUZBQWlGLHFHQUFxRyxJQUFJLFNBQVMsTUFBTSx1R0FBdUcsMEJBQTBCLHFCQUFxQixpSUFBaUksaUNBQWlDLG1EQUFtRCxzU0FBc1MsOENBQThDLDZCQUE2QixTQUFTLHFIQUFxSCxHQUFHLG1DQUFtQyxxSEFBcUgsMG5CQUEwbkIsaUJBQWlCLGdDQUFnQyxxQkFBcUIsNEJBQTRCLHNCQUFzQiw2QkFBNkIsY0FBYyxtSEFBbUgsa1BBQWtQLElBQUkscUJBQXFCLGlCQUFpQixxT0FBcU8sZ0NBQWdDLGdKQUFnSixpQkFBaUIsaUNBQWlDLFNBQVMsdUJBQXVCLGNBQWMsNEJBQTRCLHFCQUFxQix1Q0FBdUMsZUFBZSw2QkFBNkIsaUJBQWlCLFFBQVEsZ0hBQWdILDJCQUEyQixRQUFRLGdHQUFnRyxlQUFlLGVBQWUsWUFBWSxvQkFBb0IsU0FBUyxrSEFBa0gsc0JBQXNCLHFCQUFxQiw0QkFBNEIsaURBQWlELHNCQUFzQixNQUFNLGlKQUFpSixNQUFNLG9DQUFvQyxtR0FBbUcsc0NBQXNDLGdFQUFnRSwyRUFBMkUsRUFBRSw0QkFBNEIsMERBQTBELG9CQUFvQixpREFBaUQscUZBQXFGLDBCQUEwQix5RUFBeUUsV0FBVyxlQUFlLDREQUE0RCxHQUFHLDRCQUE0Qiw0REFBNEQsV0FBVyw0QkFBNEIsc0NBQXNDLHFCQUFxQixlQUFlLHFFQUFxRSxxS0FBcUssNEZBQTRGLDZIQUE2SCw0REFBNEQsMEVBQTBFLDRCQUE0Qix1RUFBdUUsU0FBUyx3SEFBd0gsK0JBQStCLHFHQUFxRyxxQkFBcUIsUUFBUSw0QkFBNEIsUUFBUSw2Q0FBNkMsMkVBQTJFLGtLQUFrSyxjQUFjLDI1RUFBMjVFLHVCQUF1QixFQUFFLGlGQUFpRiwwQkFBMEIsbUJBQW1CLHFDQUFxQyxLQUFLLFdBQVcsZ0pBQWdKLHlCQUF5QixlQUFlLHVCQUF1Qiw0R0FBNEcsOEJBQThCLE9BQU8sZUFBZSxTQUFTLG1HQUFtRyxXQUFXLElBQUksNEJBQTRCLFNBQVMsdUVBQXVFLFNBQVMsdUJBQXVCLFdBQVcsRUFBRSwyQkFBMkIsZUFBZSw0T0FBNE8sZ0JBQWdCLHlCQUF5QixrQkFBa0Isd0JBQXdCLEtBQUssSUFBSSxzSUFBc0kseUJBQXlCLGtGQUFrRiw0Q0FBNEMsUUFBUSxLQUFLLElBQUksZ0JBQWdCLHlFQUF5RSwyQkFBMkIsRUFBRSw4Q0FBOEMsTUFBTSxpQkFBaUIsdUdBQXVHLGdDQUFnQywrQkFBK0Isa0NBQWtDLEVBQUUsbUNBQW1DLHVCQUF1QixZQUFZLDZDQUE2QywrQkFBK0IseUJBQXlCLHFCQUFxQixNQUFNLEdBQUcsd0JBQXdCLE1BQU0sb1FBQW9RLGNBQWMsYUFBYSxZQUFZLCtCQUErQix3Q0FBd0MsZ0JBQWdCLE1BQU0sYUFBYSxJQUFJLFFBQVEsbUdBQW1HLFNBQVMsMkJBQTJCLGlEQUFpRCxlQUFlLFlBQVksV0FBVywyTEFBMkwsNEZBQTRGLGlDQUFpQyxJQUFJLGdDQUFnQyxPQUFPLG1CQUFtQix5R0FBeUcsV0FBVyxnTUFBZ00scUlBQXFJLFdBQVcsbURBQW1ELHFSQUFxUixXQUFXLGtLQUFrSyxnREFBZ0QsV0FBVyxrRUFBa0Usc0RBQXNELCtCQUErQixvRUFBb0UsK0NBQStDLFdBQVcsMEZBQTBGLCtDQUErQyxXQUFXLGlKQUFpSixxTUFBcU0sd0NBQXdDLFdBQVcseUxBQXlMLHlFQUF5RSxHQUFHLElBQUksMEJBQTBCLGlCQUFpQixpT0FBaU8sV0FBVywrTEFBK0wsS0FBSyxzQkFBc0IsVUFBVSxnQ0FBZ0Msc0RBQXNELDhIQUE4SCxPQUFPLDJFQUEyRSw0SEFBNEgsb0NBQW9DLG1DQUFtQyxHQUFHLEVBQUUsb0JBQW9CLDZCQUE2Qiw0UEFBNFAsOENBQThDLHVEQUF1RCxRQUFRLDhLQUE4Syw0REFBNEQsY0FBYyxrTUFBa00sTUFBTSw2RUFBNkUsNEdBQTRHLElBQUksRUFBRSxJQUFJLGVBQWUsU0FBUyx3REFBd0QsU0FBUyxhQUFhLE1BQU0sSUFBSSxPQUFPLDJCQUEyQix5QkFBeUIsTUFBTSxrRUFBa0UsSUFBSSxRQUFRLEdBQUcsYUFBYSxvR0FBb0csMkRBQTJELE1BQU0sMkJBQTJCLDBCQUEwQixNQUFNLElBQUksYUFBYSwwQ0FBMEMsdURBQXVELHNFQUFzRSx1Q0FBdUMsSUFBSSxnQkFBZ0IsR0FBRyxnSEFBZ0gseUxBQXlMLFFBQVEsT0FBTyw4Q0FBOEMsaUZBQWlGLG1EQUFtRCxHQUFHLE9BQU8sT0FBTyxxQ0FBcUMsaUZBQWlGLG1EQUFtRCxHQUFHLGdCQUFnQixzQ0FBc0MscUJBQXFCLFNBQVMseUJBQXlCLFdBQVcseUJBQXlCLElBQUksbURBQW1ELEdBQUcsS0FBSyxTQUFTLEVBQUUsZUFBZSxvRUFBb0UsSUFBSSxzQkFBc0IsSUFBSSxjQUFjLDBCQUEwQiw2REFBNkQsR0FBRyw2SEFBNkgsOEZBQThGLGtCQUFrQixJQUFJLGdDQUFnQyxHQUFHLHNEQUFzRCxNQUFNLHlFQUF5RSwwREFBMEQsTUFBTSx3R0FBd0csd0JBQXdCLGFBQWEsZ0NBQWdDLEVBQUUsTUFBTSxzR0FBc0csTUFBTSxrQkFBa0IsSUFBSSxvQkFBb0IsR0FBRyxvREFBb0QsU0FBUyxnQkFBZ0IsMENBQTBDLFVBQVUsY0FBYyw0REFBNEQsS0FBSyxXQUFXLEVBQUUsSUFBSSxPQUFPLHFGQUFxRiw0RUFBNEUsbUNBQW1DLHNCQUFzQiw0T0FBNE8sd0RBQXdELDJCQUEyQix5QkFBeUIsd0VBQXdFLDBDQUEwQyxpQkFBaUIsMEJBQTBCLDZEQUE2RCxzQ0FBc0Msa0lBQWtJLFFBQVEsc09BQXNPLGlEQUFpRCx3QkFBd0Isc0JBQXNCLDZCQUE2Qix1QkFBdUIsbVBBQW1QLHNCQUFzQixzQ0FBc0MsVUFBVSxnREFBZ0QsVUFBVSw4QkFBOEIsaUJBQWlCLHFwQkFBcXBCLGlGQUFpRix5QkFBeUIsOEVBQThFLDRCQUE0QixtQ0FBbUMseURBQXlELGdCQUFnQixxRUFBcUUsd0ZBQXdGLDRCQUE0QixNQUFNLFlBQVksK0dBQStHLDZKQUE2SixrQ0FBa0MsTUFBTSxpQ0FBaUMsTUFBTSx1Q0FBdUMscUVBQXFFLDBEQUEwRCxNQUFNLDBEQUEwRCxNQUFNLDRFQUE0RSxNQUFNLHdFQUF3RSxNQUFNLG9GQUFvRixNQUFNLDBEQUEwRCxNQUFNLHdCQUF3QixnUkFBZ1IseUVBQXlFLDJFQUEyRSx1QkFBdUIsa0JBQWtCLHlCQUF5QixtREFBbUQsa0RBQWtELFdBQVcsOEJBQThCLFFBQVEsbURBQW1ELHdEQUF3RCxFQUFFLGlLQUFpSyxvQkFBb0IsbUJBQW1CLFFBQVEsc0NBQXNDLDhGQUE4RiwrQkFBK0IsV0FBVyxnSUFBZ0ksb0dBQW9HLHVKQUF1SixHQUFHLFNBQVMsSUFBSSxXQUFXLFNBQVMsMEVBQTBFLDRIQUE0SCxnQ0FBZ0MsNklBQTZJLGtDQUFrQyxFQUFFLDBzQkFBMHNCLGlCQUFpQixpQkFBaUIsVUFBVSxtQ0FBbUMsY0FBYyxFQUFFLG1CQUFtQixnSEFBZ0gsT0FBTyx1RUFBdUUsOEJBQThCLFlBQVksT0FBTyxvQkFBb0IsSUFBSSwrQkFBK0IsTUFBTSxnQ0FBZ0MseUxBQXlMLDhDQUE4QyxzQ0FBc0MsK0lBQStJLHFDQUFxQyxVQUFVLE9BQU8sb0JBQW9CLCtCQUErQixrQ0FBa0MsK0NBQStDLFFBQVEsd0pBQXdKLHlMQUF5TCxFQUFFLFNBQVMsa2RBQWtkLGFBQWEsdUJBQXVCLGtDQUFrQywwRUFBMEUseUVBQXlFLHNIQUFzSCxtTEFBbUwsZUFBZSxvSkFBb0osb0JBQW9CLElBQUksTUFBTSxrRUFBa0UsZ0pBQWdKLE1BQU0saUNBQWlDLHNCQUFzQixnRUFBZ0UsaUJBQWlCLHlCQUF5QixnTEFBZ0wsK0RBQStELGlCQUFpQiw4REFBOEQsbUZBQW1GLDJDQUEyQyw0UUFBNFEsNEJBQTRCLG1CQUFtQixrRUFBa0UsaUJBQWlCLEdBQUcsYUFBYSxHQUFHLHdCQUF3QixtREFBbUQsOENBQThDLHVEQUF1RCxnREFBZ0QsNEZBQTRGLGdDQUFnQyxtQ0FBbUMsMEVBQTBFLHdDQUF3Qyx1S0FBdUssZ0RBQWdELGtQQUFrUCxzQ0FBc0MseURBQXlELHNRQUFzUSw4TEFBOEwsR0FBRyxnREFBZ0QsaUVBQWlFLDBEQUEwRCw2Q0FBNkMsSUFBSSxLQUFLLFlBQVksaUJBQWlCLE9BQU8sWUFBWSxjQUFjLG9EQUFvRCxFQUFFO0FBQzE3dEcsc0NBQXNDLGNBQWMsc0JBQXNCLGNBQWMsc0JBQXNCLGNBQWMsa0NBQWtDLGNBQWMsK0dBQStHLGNBQWMsc0JBQXNCLGNBQWMsc0NBQXNDLGNBQWMsMENBQTBDLGNBQWMscURBQXFELGNBQWMsb0NBQW9DLGNBQWMsc0RBQXNELGNBQWMsb0NBQW9DLGdCQUFnQixxQkFBcUIsaUNBQWlDLHNDQUFzQywyQkFBMkIsdURBQXVELHNCQUFzQixTQUFTLGNBQWMsWUFBWSxtQkFBbUIsS0FBSyx5Q0FBeUMsd0NBQXdDLGFBQWEsbUlBQW1JLGlFQUFpRSxHQUFHLFNBQVMsa0JBQWtCLHlDQUF5QyxrREFBa0QsV0FBVyxhQUFhLHlOQUF5TixVQUFVLEdBQUcsUUFBUSxpQkFBaUIsUUFBUSxLQUFLLFdBQVcsRUFBRSxXQUFXLG1DQUFtQyxNQUFNLHlEQUF5RCxTQUFTLDZCQUE2QiwrQkFBK0Isd0JBQXdCLFFBQVEsS0FBSyxRQUFRLEtBQUssNERBQTRELFNBQVMsa0JBQWtCLHVCQUF1QixtREFBbUQsdUJBQXVCLFFBQVEsWUFBWSxJQUFJLDhDQUE4QyxzREFBc0QsS0FBSyxTQUFTLHlCQUF5QixRQUFRLGFBQWEsY0FBYyxVQUFVLG9EQUFvRCw2QkFBNkIseUJBQXlCLHlDQUF5Qyx1QkFBdUIsK0JBQStCLDBEQUEwRCxvQkFBb0IsUUFBUSw2QkFBNkIsS0FBSyxJQUFJLDJCQUEyQixPQUFPLFNBQVMsdURBQXVELEtBQUssSUFBSSwyQkFBMkIsT0FBTyxTQUFTLFNBQVMsbUJBQW1CLFFBQVEsS0FBSyxpREFBaUQsTUFBTSxTQUFTLGlCQUFpQixRQUFRLEtBQUssSUFBSSxtRUFBbUUsMENBQTBDLE1BQU0sTUFBTSxXQUFXLGlCQUFpQixRQUFRLEtBQUsseUNBQXlDLE1BQU0seUNBQXlDLFNBQVMscUJBQXFCLG9DQUFvQywrQkFBK0IsVUFBVSxnRUFBZ0UsZ0VBQWdFLFlBQVksNkJBQTZCLE1BQU0sbUNBQW1DLGdDQUFnQywrQkFBK0IsK0NBQStDLGdDQUFnQyx3Q0FBd0MsK0lBQStJLGFBQWEsS0FBSyxNQUFNLGdFQUFnRSxzQ0FBc0MsNEZBQTRGLG9CQUFvQixnREFBZ0QsU0FBUyxRQUFRLE1BQU0sU0FBUyxnQkFBZ0IseUJBQXlCLDRDQUE0QyxLQUFLLFlBQVksYUFBYSxTQUFTLFNBQVMsa0JBQWtCLG9DQUFvQyxpQkFBaUIsUUFBUSx5QkFBeUIsb0JBQW9CLFFBQVEsS0FBSywwQ0FBMEMsU0FBUyxvQkFBb0IsK0JBQStCLHNCQUFzQixRQUFRLG9EQUFvRCwyQkFBMkIsdURBQXVELFNBQVMsUUFBUSxNQUFNLHlCQUF5QixpQkFBaUIsb0NBQW9DLGVBQWUsWUFBWSxXQUFXLEtBQUssbUVBQW1FLCtFQUErRSxrQkFBa0IsbUJBQW1CLFFBQVEsS0FBSyw2RUFBNkUsS0FBSyxVQUFVLGtCQUFrQixjQUFjLHNEQUFzRCxTQUFTLHVCQUF1Qiw2RkFBNkYsa1VBQWtVLHVHQUF1RyxRQUFRLGlLQUFpSyxtQkFBbUIscUNBQXFDLDhDQUE4QyxTQUFTLFlBQVksWUFBWSxXQUFXLHlDQUF5Qyw4Q0FBOEMsZUFBZSw4RkFBOEYsV0FBVyxnSEFBZ0gsUUFBUSxzQ0FBc0Msd0JBQXdCLGFBQWEsS0FBSyxxQ0FBcUMsRUFBRSw4QkFBOEIsOEJBQThCLE9BQU8sMkRBQTJELHNHQUFzRyxrQkFBa0Isd0JBQXdCLGdCQUFnQixLQUFLLHFDQUFxQyxFQUFFLDhCQUE4Qiw4QkFBOEIsT0FBTyw4REFBOEQsc0dBQXNHLGtCQUFrQixXQUFXLDhCQUE4QixtQkFBbUIsZ0dBQWdHLG9EQUFvRCxZQUFZLDhCQUE4QixnQ0FBZ0MsU0FBUyxNQUFNLEtBQUssdUNBQXVDLDhCQUE4QixTQUFTLHNDQUFzQyw2Q0FBNkMsUUFBUSwyQkFBMkIsR0FBRyxNQUFNLE1BQU0sNERBQTRELDRCQUE0QixVQUFVLGNBQWMsU0FBUyxNQUFNLEVBQUUsOEJBQThCLDRCQUE0QiwwRUFBMEUsUUFBUSw4QkFBOEIsdUJBQXVCLFNBQVMsa0JBQWtCLFNBQVMsTUFBTSxLQUFLLDZFQUE2RSxNQUFNLE1BQU0sdURBQXVELFNBQVMsWUFBWSxpRUFBaUUsOEJBQThCLHVDQUF1QywyQkFBMkIsd0JBQXdCLGlCQUFpQixTQUFTLEtBQUsscUNBQXFDLEVBQUUsOEJBQThCLCtCQUErQixpQ0FBaUMsb0VBQW9FLFFBQVEsaUNBQWlDLFFBQVEscUJBQXFCLHVCQUF1QixTQUFTLGVBQWUsOEJBQThCLDBFQUEwRSwwREFBMEQsK0ZBQStGLDRCQUE0QixjQUFjLDhCQUE4QiwwRUFBMEUsaUNBQWlDLDhCQUE4QixpQ0FBaUMsOEJBQThCLGlDQUFpQyw4QkFBOEIsa0NBQWtDLDhCQUE4QixrQ0FBa0MsOEJBQThCLGtEQUFrRCwyQkFBMkIsNEVBQTRFLG1CQUFtQiw4QkFBOEIsNEJBQTRCLHVDQUF1Qyw2QkFBNkIsbUJBQW1CLDhCQUE4QixpQ0FBaUMsdUNBQXVDLDRCQUE0QixXQUFXLDhCQUE4QixvREFBb0QsYUFBYSxTQUFTLE1BQU0sRUFBRSw4QkFBOEIsMEJBQTBCLG9DQUFvQyxTQUFTLGFBQWEsU0FBUyxNQUFNLEVBQUUsOEJBQThCLDBCQUEwQixvQ0FBb0MsU0FBUyxrQkFBa0IsOEJBQThCLDBCQUEwQixpQ0FBaUMsOEJBQThCLGlDQUFpQyw4QkFBOEIsMENBQTBDLDJCQUEyQixpQ0FBaUMsYUFBYSxrRUFBa0UsOEJBQThCLHVDQUF1QyxzR0FBc0csU0FBUyw4Q0FBOEMscUJBQXFCLG9EQUFvRCxpREFBaUQsd0JBQXdCLDJCQUEyQixxQ0FBcUMsa0JBQWtCLFNBQVMsS0FBSyxzQ0FBc0MsRUFBRSwrREFBK0QsUUFBUSx5QkFBeUIsR0FBRyxTQUFTLHdCQUF3QixTQUFTLEtBQUssNkVBQTZFLEVBQUUsd0pBQXdKLFFBQVEsdUVBQXVFLEdBQUcsU0FBUyxtQkFBbUIsU0FBUyxLQUFLLGtGQUFrRixnQ0FBZ0MsU0FBUyxZQUFZLFNBQVMsTUFBTSxLQUFLLHlFQUF5RSxNQUFNLE1BQU0sZ0RBQWdELFNBQVMsYUFBYSx1REFBdUQsS0FBSywyQkFBMkIsa0VBQWtFLG1CQUFtQixzQkFBc0Isc0VBQXNFLGlCQUFpQix5QkFBeUIsNkVBQTZFLFdBQVcsa0JBQWtCLGNBQWMsdUVBQXVFLHdCQUF3Qiw2RkFBNkYsaUlBQWlJLGlJQUFpSSxtQkFBbUIseUJBQXlCLGtGQUFrRixXQUFXLGFBQWEsb0VBQW9FLHVEQUF1RCxLQUFLLDJCQUEyQiwwRUFBMEUsb0JBQW9CLFNBQVMsK0JBQStCLGlDQUFpQyxZQUFZLCtCQUErQiwwQkFBMEIsVUFBVSwrQkFBK0IsWUFBWSxXQUFXLDZDQUE2QyxVQUFVLGlCQUFpQixnSEFBZ0gsNkRBQTZELGVBQWUsMEdBQTBHLDREQUE0RCxtQkFBbUIsNEdBQTRHLFNBQVMsS0FBSyxlQUFlLEVBQUUsbUNBQW1DLElBQUksK0JBQStCLFNBQVMsdUJBQXVCLFNBQVMsOEJBQThCLG9CQUFvQix3Q0FBd0MsOEJBQThCLHVDQUF1QyxtQ0FBbUMsNkJBQTZCLEdBQUcsZUFBZSxtQ0FBbUMsNkhBQTZILGlEQUFpRCxxQkFBcUIsS0FBSyxZQUFZLElBQUksRUFBRSxnQkFBZ0IsRUFBRSxnSkFBZ0osY0FBYyxvRkFBb0YsdUNBQXVDLGlKQUFpSiwwQkFBMEIsbUJBQW1CLGNBQWMseUNBQXlDLG1FQUFtRSxHQUFHLFNBQVMscURBQXFELElBQUksbUJBQW1CLCtCQUErQixNQUFNLG1DQUFtQyxNQUFNLHNDQUFzQyxNQUFNLGtDQUFrQyxNQUFNLDBDQUEwQyxNQUFNLDJDQUEyQyxNQUFNLCtCQUErQixNQUFNLGdDQUFnQyxNQUFNLHFDQUFxQyxNQUFNLGlDQUFpQyxNQUFNLDhDQUE4QyxNQUFNLDREQUE0RCxTQUFTLG1JQUFtSSxxRkFBcUYsU0FBUyx3Q0FBd0MsY0FBYyw2Q0FBNkMsS0FBSyxxQ0FBcUMseUVBQXlFLDZCQUE2QiwrQkFBK0IsR0FBRyxlQUFlLDZHQUE2Ryw0QkFBNEIsY0FBYyx5RUFBeUUsa0RBQWtELGlCQUFpQixzQ0FBc0MsS0FBSyxxQ0FBcUMsRUFBRSw4QkFBOEIsd0NBQXdDLGlDQUFpQyxrREFBa0QsUUFBUSxnQkFBZ0IsR0FBRyxpQ0FBaUMsOEJBQThCLEdBQUcscUJBQXFCLG9EQUFvRCxPQUFPLDhEQUE4RCxNQUFNLEVBQUUsSUFBSSwrQkFBK0IsTUFBTSxNQUFNLDJCQUEyQixrREFBa0QsT0FBTyx5Q0FBeUMsMkJBQTJCLGlDQUFpQyxtQkFBbUIsZUFBZSwyR0FBMkcsNktBQTZLLFNBQVMscURBQXFELElBQUksbUJBQW1CLGlDQUFpQyxNQUFNLCtCQUErQixNQUFNLHNDQUFzQyxNQUFNLGtDQUFrQyxNQUFNLDBDQUEwQyxNQUFNLHVDQUF1QyxNQUFNLG9EQUFvRCxNQUFNLG9EQUFvRCxNQUFNLDJDQUEyQyxNQUFNLGlDQUFpQyxNQUFNLCtCQUErQixNQUFNLHFDQUFxQyxNQUFNLG1GQUFtRixNQUFNLDZCQUE2QixNQUFNLDZCQUE2QixNQUFNLGtDQUFrQyxNQUFNLG1DQUFtQyxNQUFNLDRDQUE0QyxNQUFNLHVDQUF1QyxNQUFNLDZCQUE2QixNQUFNLDJCQUEyQixNQUFNLDZCQUE2QixNQUFNLHVDQUF1QyxNQUFNLDJCQUEyQixNQUFNLHVDQUF1QyxNQUFNLHNDQUFzQyxNQUFNLG1EQUFtRCxNQUFNLHdDQUF3QyxNQUFNLDREQUE0RCxTQUFTLGlJQUFpSSxxRkFBcUYsa0JBQWtCLHdDQUF3Qyw4QkFBOEIsdUNBQXVDLDhCQUE4Qix3Q0FBd0MsOEJBQThCLHlDQUF5Qyw4QkFBOEIsMkNBQTJDLDhCQUE4Qix3Q0FBd0MsK0ZBQStGLFFBQVEscUlBQXFJLHlSQUF5UixxQkFBcUIsRUFBRSw4QkFBOEIseUNBQXlDLDJFQUEyRSxxQ0FBcUMsd0JBQXdCLFNBQVMsTUFBTSxFQUFFLHVDQUF1Qyw4QkFBOEIsMENBQTBDLDhCQUE4Qix3Q0FBd0MsUUFBUSwwQ0FBMEMsRUFBRSxJQUFJLCtCQUErQixNQUFNLE9BQU8sOENBQThDLHVCQUF1QixpR0FBaUcsb0NBQW9DLGVBQWUsd0NBQXdDLDhCQUE4QiwyQ0FBMkMsaUNBQWlDLE9BQU8scURBQXFELDZJQUE2SSwwRUFBMEUsOENBQThDLHFEQUFxRCxHQUFHLGNBQWMsMkVBQTJFLHdEQUF3RCxpQkFBaUIsOEVBQThFLDJEQUEyRCxrQkFBa0Isd0ZBQXdGLHNDQUFzQyxhQUFhLGlDQUFpQyw4QkFBOEIsNkNBQTZDLDhGQUE4RixrRUFBa0Usa0RBQWtELGtDQUFrQyxPQUFPLEdBQUcsYUFBYSx5Q0FBeUMsOEJBQThCLDRDQUE0QyxVQUFVLGdCQUFnQix5QkFBeUIsbUJBQW1CLGdEQUFnRCw4Q0FBOEMsRUFBRSwwRUFBMEUsWUFBWSxhQUFhLGdDQUFnQyxrREFBa0QsY0FBYyxHQUFHLHNCQUFzQixRQUFRLHdDQUF3QyxTQUFTLHdDQUF3QyxHQUFHLFdBQVcsdUJBQXVCLEVBQUUsRUFBRSw0Q0FBNEMsU0FBUyx5Q0FBeUMsR0FBRyxVQUFVLFNBQVMsZUFBZSxTQUFTLDJIQUEySCwyQ0FBMkMsb0JBQW9CLGtEQUFrRCxNQUFNLFFBQVEsUUFBUSxrTEFBa0wseURBQXlELE1BQU0sMEVBQTBFLDJEQUEyRCw2Q0FBNkMsSUFBSSxlQUFlLDhFQUE4RSw0QkFBNEIsbUJBQW1CLG1GQUFtRixnQ0FBZ0MsaUJBQWlCLGtGQUFrRiw4QkFBOEIsYUFBYSx1RUFBdUUsT0FBTyx1Q0FBdUMsc1FBQXNRLGFBQWEsT0FBTyxzQ0FBc0MsaUlBQWlJLGtCQUFrQiw0Q0FBNEMsWUFBWSwrREFBK0QsOEJBQThCLE9BQU8sNERBQTRELHlCQUF5QixxREFBcUQsbUNBQW1DLFNBQVMsTUFBTSxFQUFFLHlDQUF5QyxXQUFXLElBQUksa0NBQWtDLE1BQU0sT0FBTyxtRUFBbUUsTUFBTSxFQUFFLHdDQUF3QyxVQUFVLGNBQWMsUUFBUSx5REFBeUQsa0JBQWtCLE1BQU0sU0FBUyxRQUFRLFFBQVEsbUdBQW1HLHdCQUF3QixJQUFJLDhCQUE4QixJQUFJLE1BQU0sUUFBUSw4QkFBOEIsa0JBQWtCLGlGQUFpRix1RUFBdUUsaUJBQWlCLDJEQUEyRCx1QkFBdUIsc0VBQXNFLFNBQVMsd0NBQXdDLFlBQVksdURBQXVELGtCQUFrQiw2Q0FBNkMsTUFBTSxLQUFLLDhCQUE4QiwwQ0FBMEMsd0JBQXdCLE1BQU0sTUFBTSxpQ0FBaUMscUJBQXFCLElBQUksbUJBQW1CLHlDQUF5QyxrREFBa0QsV0FBVyxTQUFTLGNBQWMsa0JBQWtCLFdBQVcsU0FBUyxrZUFBa2UsZ0JBQWdCLHVDQUF1QyxlQUFlLHlLQUF5SyxvQkFBb0IsNENBQTRDLG9CQUFvQiw0Q0FBNEMsWUFBWSw0Q0FBNEMsY0FBYyxTQUFTLGtEQUFrRCxTQUFTLGNBQWMsU0FBUyxrREFBa0QsU0FBUyxtQkFBbUIsaUdBQWlHLGtCQUFrQixTQUFTLGlGQUFpRixTQUFTLG1CQUFtQixTQUFTLGdCQUFnQiwrRUFBK0UsNEdBQTRHLG1MQUFtTCxTQUFTLFlBQVksNENBQTRDLG1CQUFtQixTQUFTLHdHQUF3RyxTQUFTLHlCQUF5QixTQUFTLHdOQUF3TixTQUFTLG9CQUFvQixTQUFTLDBDQUEwQyxTQUFTLGNBQWMsZ0lBQWdJLDBCQUEwQixpQ0FBaUMsd0JBQXdCLGlDQUFpQyxTQUFTLGVBQWUsa0NBQWtDLGlCQUFpQiwrREFBK0QsZUFBZSw2REFBNkQsbUJBQW1CLHlFQUF5RSxxQkFBcUIsK0hBQStILGVBQWUsb09BQW9PLGNBQWMsMkRBQTJELHFCQUFxQixpSEFBaUgsb0JBQW9CLFNBQVMsU0FBUyxzYUFBc2EsZUFBZSxTQUFTLGdLQUFnSyxnQkFBZ0IsMkNBQTJDLGNBQWMsbURBQW1ELGlCQUFpQixnTUFBZ00scUJBQXFCLGdCQUFnQiw0Q0FBNEMscUlBQXFJLG1CQUFtQixTQUFTLHdCQUF3QixzN0JBQXM3QixtQkFBbUIsd2dCQUF3Z0IsNkJBQTZCLG9GQUFvRix3QkFBd0Isb0RBQW9ELG1CQUFtQix5QkFBeUIsc0JBQXNCLDBFQUEwRSxpTEFBaUwsU0FBUyxlQUFlLGdCQUFnQixnQ0FBZ0Msa09BQWtPLHFCQUFxQixpQkFBaUIsNktBQTZLLHVCQUF1QiwyQ0FBMkMsOE1BQThNLGNBQWMsMkRBQTJELGlCQUFpQiw4REFBOEQsa0JBQWtCLHFEQUFxRCxhQUFhLHlNQUF5TSxnQkFBZ0IsbURBQW1ELG9CQUFvQix3REFBd0Qsa0JBQWtCLHFEQUFxRCxhQUFhLHdCQUF3QiwrQkFBK0IsdUtBQXVLLGFBQWEsc0hBQXNILGtCQUFrQixvRUFBb0UsWUFBWSxpQkFBaUIsMERBQTBELG9PQUFvTyxnQkFBZ0IsV0FBVyxrQkFBa0IsK0RBQStELGlCQUFpQiwrREFBK0QsdUJBQXVCLHNFQUFzRSxZQUFZLHlEQUF5RCxtQkFBbUIsc0pBQXNKLGNBQWMsd0JBQXdCLGdCQUFnQiw2QkFBNkIsTUFBTSxjQUFjLDRCQUE0QixZQUFZLFlBQVkscUNBQXFDLG1CQUFtQiwrREFBK0QsdUJBQXVCLEdBQUcsOERBQThELG1GQUFtRixlQUFlLHdDQUF3QyxTQUFTLEdBQUcsTUFBTSxJQUFJLGtCQUFrQixjQUFjLDJFQUEyRSxzQ0FBc0MsZUFBZSxjQUFjLGlCQUFpQixxQkFBcUIsaUNBQWlDLHNDQUFzQywyQkFBMkIsdURBQXVELHNCQUFzQixTQUFTLGVBQWUsWUFBWSxtQkFBbUIsS0FBSyx5Q0FBeUMseUNBQXlDLGFBQWEsb0lBQW9JLGlFQUFpRSxHQUFHLFNBQVMsZUFBZSwrREFBK0QsNERBQTRELDJDQUEyQyxvRkFBb0YsSUFBSSxRQUFRLGlDQUFpQyw2Q0FBNkMsOE1BQThNLDhFQUE4RSwrRUFBK0UsaUJBQWlCLE1BQU0seUhBQXlILFlBQVksR0FBRyxnQkFBZ0IsTUFBTSx5SEFBeUgsWUFBWSxHQUFHLHFCQUFxQixNQUFNLHFGQUFxRixpQkFBaUIsTUFBTSxxRkFBcUYsc0JBQXNCLE1BQU0sc0dBQXNHLHNCQUFzQixNQUFNLHNHQUFzRyxtQ0FBbUMsTUFBTSw4RkFBOEYsbUJBQW1CLG1CQUFtQixNQUFNLDhGQUE4RixFQUFFLDBCQUEwQixtQ0FBbUMsc0dBQXNHLGlFQUFpRSxlQUFlLHNCQUFzQixrQ0FBa0MsT0FBTyxrREFBa0QscUVBQXFFLEdBQUcsc0JBQXNCLE9BQU8sZ0NBQWdDLGdCQUFnQixlQUFlLElBQUksK0NBQStDLHVDQUF1QyxpRkFBaUYsUUFBUSxrQ0FBa0MsaUJBQWlCLDRJQUE0SSwyQkFBMkIsTUFBTSw2RUFBNkUsUUFBUSx3QkFBd0IsR0FBRyxFQUFFLG9CQUFvQix3Q0FBd0MsUUFBUSx3QkFBd0IsR0FBRyxNQUFNLDhFQUE4RSxRQUFRLG1CQUFtQixHQUFHLFNBQVMsbUJBQW1CLElBQUksUUFBUSxLQUFLLGlEQUFpRCxtS0FBbUssOENBQThDLE9BQU8sb0RBQW9ELG1EQUFtRCxHQUFHLElBQUksZ0VBQWdFLEdBQUcsOEJBQThCLHlCQUF5QixNQUFNLHdCQUF3QixNQUFNLHdCQUF3QixpQ0FBaUMsbURBQW1ELFFBQVEsMkVBQTJFLEVBQUUsK0RBQStELEdBQUcsR0FBRyw0RkFBNEYsZUFBZSxTQUFTLDJDQUEyQyx1SkFBdUosNkZBQTZGLHdKQUF3Six1RkFBdUYsbUJBQW1CLGNBQWMscUJBQXFCLElBQUksZUFBZSx1QkFBdUIsd0JBQXdCLCtEQUErRCxLQUFLLFFBQVEsR0FBRyx5QkFBeUIsT0FBTyx3QkFBd0Isa0RBQWtELEtBQUssUUFBUSxHQUFHLGtCQUFrQiw2QkFBNkIsSUFBSSxzQkFBc0IsaUNBQWlDLElBQUksU0FBUyxHQUFHLFNBQVMsRUFBRSxHQUFHLHNCQUFzQixpQkFBaUIsbURBQW1ELE1BQU0sMEVBQTBFLDREQUE0RCxpQkFBaUIsY0FBYyxxRUFBcUUsdUJBQXVCLGtXQUFrVyxHQUFHLGVBQWUsc0dBQXNHLCtDQUErQyxpQkFBaUIsTUFBTSx1RkFBdUYsdUJBQXVCLHdFQUF3RSxRQUFRLDRJQUE0SSxjQUFjLHNFQUFzRSxnSEFBZ0gsUUFBUSw0SUFBNEksY0FBYyxpSEFBaUgsR0FBRyxlQUFlLHNDQUFzQyxXQUFXLDRDQUE0QyxvRkFBb0YsMENBQTBDLG1CQUFtQixhQUFhLFFBQVEsd0hBQXdILCtHQUErRyw0SkFBNEosd0dBQXdHLGdCQUFnQixtSEFBbUgsc0NBQXNDLHdFQUF3RSxvQkFBb0IsR0FBRyxJQUFJLHFCQUFxQix1SUFBdUksMkVBQTJFLDREQUE0RCxxQ0FBcUMsR0FBRyxnQkFBZ0IsZ0dBQWdHLDZJQUE2SSx5RkFBeUYsZ0JBQWdCLGdIQUFnSCxzQ0FBc0MscUVBQXFFLGlCQUFpQixHQUFHLElBQUkscUJBQXFCLHdIQUF3SCwyRUFBMkUseURBQXlELHFDQUFxQyxJQUFJLG1CQUFtQixtTkFBbU4sZ0tBQWdLLG1DQUFtQyxZQUFZLElBQUksNkJBQTZCLDhDQUE4QywwREFBMEQsa0RBQWtELGdDQUFnQyxtREFBbUQsR0FBRyxvQ0FBb0Msb0JBQW9CLCtEQUErRCw0REFBNEQseUJBQXlCLDBCQUEwQixxQkFBcUIsNEJBQTRCLHFCQUFxQiw0QkFBNEIscUJBQXFCLDRCQUE0QixxQkFBcUIsRUFBRSxtQ0FBbUMseUJBQXlCLFlBQVksK0RBQStELDREQUE0RCwyRkFBMkYsb0VBQW9FLElBQUksb0VBQW9FLElBQUkscUVBQXFFLDhKQUE4SixrQ0FBa0MsUUFBUSxnTEFBZ0wsRUFBRSxXQUFXLGtDQUFrQyxNQUFNLDRGQUE0RixFQUFFLFFBQVEsa0RBQWtELHVCQUF1Qix1REFBdUQsZ0RBQWdELFFBQVEsbUxBQW1MLG1GQUFtRixRQUFRLG1MQUFtTCxLQUFLLFFBQVEsMEJBQTBCLFFBQVEsSUFBSSxXQUFXLE9BQU8sUUFBUSwwQkFBMEIsY0FBYyxPQUFPLG9FQUFvRSxzR0FBc0csMERBQTBELGdCQUFnQixvRUFBb0UsSUFBSSxvRUFBb0UsSUFBSSxxRUFBcUUsOEpBQThKLHlKQUF5SixXQUFXLCtGQUErRixRQUFRLGtEQUFrRCx1QkFBdUIsdURBQXVELDZLQUE2SyxRQUFRLDBCQUEwQix5QkFBeUIsaURBQWlELFNBQVMsd0JBQXdCLGtCQUFrQiw0RUFBNEUsNkJBQTZCLDRCQUE0QixpQ0FBaUMsRUFBRSx5Q0FBeUMsU0FBUyx3QkFBd0Isa0JBQWtCLDRGQUE0Riw2QkFBNkIsNEJBQTRCLGlDQUFpQyxHQUFHLGVBQWUsSUFBSSx5QkFBeUIsR0FBRyxPQUFPLGlHQUFpRyxRQUFRLGVBQWUsUUFBUSxhQUFhLG9FQUFvRSw0T0FBNE8sb0VBQW9FLHVPQUF1TyxlQUFlLGVBQWUsOERBQThELE1BQU0sc0ZBQXNGLGNBQWMsaUJBQWlCLGNBQWMsc0VBQXNFLEdBQUcscUJBQXFCLFNBQVMsZ0JBQWdCLHVFQUF1RSxNQUFNLHVKQUF1SixvQ0FBb0Msd0JBQXdCLDZCQUE2Qix3REFBd0QsbUhBQW1ILGdCQUFnQixTQUFTLCtMQUErTCxxRkFBcUYsOE9BQThPLDBCQUEwQixnQkFBZ0IsZ0NBQWdDLE1BQU0sd0VBQXdFLCtIQUErSCxNQUFNLDZFQUE2RSxHQUFHLFNBQVMsaUJBQWlCLHlDQUF5Qyx1SUFBdUkseUJBQXlCLDBEQUEwRCw4QkFBOEIsbUJBQW1CLEVBQUUsNkJBQTZCLG1EQUFtRCxZQUFZLFlBQVksMENBQTBDLG9CQUFvQixHQUFHLG1CQUFtQixtQkFBbUIsUUFBUSxHQUFHLHVDQUF1QyxNQUFNLGdNQUFnTSwwRUFBMEUsWUFBWSxHQUFHLEtBQUssY0FBYyxxQkFBcUI7QUFDeDZwRCxzQkFBc0IsK0NBQStDLFFBQVEsaUJBQWlCLG1DQUFtQyxpQkFBaUIscUJBQXFCLGlDQUFpQyxzQ0FBc0MsMkJBQTJCLHVEQUF1RCxzQkFBc0IsU0FBUyxlQUFlLFlBQVksbUJBQW1CLEtBQUsseUNBQXlDLHlDQUF5QyxhQUFhLG9JQUFvSSxpRUFBaUUsR0FBRyxTQUFTLG1DQUFtQyxZQUFZLG1CQUFtQixhQUFhLDBCQUEwQixrQkFBa0IseUtBQXlLLDJCQUEyQixrQ0FBa0MsNEJBQTRCLGtIQUFrSCxpQkFBaUIsMEtBQTBLLHVCQUF1QixnZEFBZ2QsTUFBTSxFQUFFLG1DQUFtQyxvQkFBb0IsTUFBTSxFQUFFLG1DQUFtQywrSUFBK0ksa0JBQWtCLDZGQUE2RixtQ0FBbUMsMkVBQTJFLDRCQUE0QiwyQkFBMkIsa01BQWtNLDZCQUE2QiwyQ0FBMkMsUUFBUSw0QkFBNEIsb0JBQW9CLElBQUksK0VBQStFLDZCQUE2QixJQUFJLFVBQVUseUJBQXlCLGVBQWUsZ0RBQWdELEVBQUUsc0tBQXNLLFNBQVMsTUFBTSxzR0FBc0csbVFBQW1RLGlFQUFpRSw4TEFBOEwsb0NBQW9DLHFGQUFxRixHQUFHLDBEQUEwRCxzRkFBc0YsZ0RBQWdELG9EQUFvRCxnREFBZ0QsNEZBQTRGLG9JQUFvSSxnQ0FBZ0MsZ0RBQWdELEdBQUcsb0NBQW9DLGNBQWMsdUdBQXVHLGdDQUFnQyw4Q0FBOEMsSUFBSSxtRUFBbUUsbUNBQW1DLCtDQUErQyxTQUFTLCtFQUErRSxpRkFBaUYscUJBQXFCLHlKQUF5SixPQUFPLHlJQUF5SSxJQUFJLDZEQUE2RCxTQUFTLHdOQUF3TixTQUFTLGdDQUFnQyxNQUFNLHlKQUF5SixPQUFPLHNKQUFzSixJQUFJLHVEQUF1RCxTQUFTLDJQQUEyUCxTQUFTLHFCQUFxQixJQUFJLHlKQUF5Six3Q0FBd0MsbUJBQW1CLE1BQU0sU0FBUyx1RUFBdUUsOEJBQThCLElBQUkseUpBQXlKLGtFQUFrRSxhQUFhLFFBQVEsU0FBUyxrREFBa0QsMEJBQTBCLDhKQUE4SixPQUFPLCtPQUErTyxJQUFJLHdEQUF3RCxTQUFTLG9MQUFvTCxTQUFTLHVCQUF1QiwySkFBMkosT0FBTyxtUUFBbVEsSUFBSSwrREFBK0QsU0FBUyxxT0FBcU8sU0FBUyxrQ0FBa0MsdUtBQXVLLE9BQU8saURBQWlELElBQUksb0VBQW9FLFNBQVMsdVFBQXVRLFNBQVMsd0JBQXdCLCtKQUErSixPQUFPLDJKQUEySixJQUFJLDREQUE0RCxTQUFTLDRPQUE0TyxTQUFTLHlCQUF5QixrQkFBa0Isd0VBQXdFLDRDQUE0QyxzTkFBc04scUhBQXFILFFBQVEsSUFBSSx3REFBd0QsdUdBQXVHLHVCQUF1QixJQUFJLDBDQUEwQywyQ0FBMkMsTUFBTSxTQUFTLHlFQUF5RSxrQ0FBa0MsSUFBSSx5SkFBeUosb0VBQW9FLGtCQUFrQixRQUFRLFNBQVMsa0RBQWtELHlCQUF5QixJQUFJLHdEQUF3RCxTQUFTLGdGQUFnRixxQkFBcUIsSUFBSSxtREFBbUQsR0FBRyxRQUFRLGdFQUFnRSx1REFBdUQsb0RBQW9ELHFEQUFxRCxpQkFBaUIsNENBQTRDLG9CQUFvQiw4REFBOEQseUJBQXlCLCtDQUErQyx1REFBdUQsVUFBVSx1UEFBdVAsNENBQTRDLGVBQWUsb0NBQW9DLGtEQUFrRCwwQkFBMEIsR0FBRyx5Q0FBeUMsbURBQW1ELGNBQWMsR0FBRyxtQ0FBbUMsa0RBQWtELDRCQUE0QixHQUFHLHdCQUF3Qiw2Q0FBNkMsd0VBQXdFLEdBQUcscUJBQXFCLDRDQUE0QyxZQUFZLEdBQUcsa0NBQWtDLDRFQUE0RSxtQkFBbUIsMEdBQTBHLHFCQUFxQiwwQkFBMEIsNERBQTRELFFBQVEsNlBBQTZQLGtDQUFrQyxnQ0FBZ0MsMEpBQTBKLDZCQUE2Qix5QkFBeUIsa0JBQWtCLE1BQU0sd0dBQXdHLDhIQUE4SCxNQUFNLG9JQUFvSSwrTEFBK0wsT0FBTyxFQUFFLHFJQUFxSSxJQUFJLDJCQUEyQixtQ0FBbUMsNERBQTRELGtHQUFrRyx1SEFBdUgsNEJBQTRCLG9EQUFvRCxHQUFHLDhDQUE4QyxrQkFBa0IsMkdBQTJHLHNCQUFzQixzREFBc0QsMEJBQTBCLHFCQUFxQixNQUFNLFVBQVUsNEJBQTRCLDBJQUEwSSx1WkFBdVosMElBQTBJLFdBQVcsVUFBVSxtRUFBbUUsZ0JBQWdCLDA4Q0FBMDhDLG1DQUFtQyxJQUFJLHVrQkFBdWtCLG1CQUFtQixrR0FBa0csUUFBUSx5SUFBeUkscUJBQXFCLG1EQUFtRCxNQUFNLGtHQUFrRyx1REFBdUQsc0NBQXNDLHdDQUF3QyxrREFBa0QsMkhBQTJILDZFQUE2RSxzREFBc0QsV0FBVyxFQUFFLFVBQVUsK09BQStPLGlFQUFpRSxrQ0FBa0MsTUFBTSxVQUFVLHlCQUF5QixNQUFNLG1HQUFtRyxNQUFNLCtCQUErQixNQUFNLHNNQUFzTSxNQUFNLDRCQUE0QiwrS0FBK0ssd0hBQXdILHdGQUF3RixzQ0FBc0MsaWdCQUFpZ0IseVNBQXlTLG9HQUFvRyx1RUFBdUUsc0hBQXNILHVIQUF1SCx3Q0FBd0MsMkNBQTJDLDhDQUE4QywrRkFBK0Ysd0lBQXdJLGdEQUFnRCxNQUFNLDBGQUEwRixRQUFRLEdBQUcsSUFBSSxtREFBbUQsaURBQWlELG9FQUFvRSxFQUFFLHVCQUF1QixNQUFNLGdFQUFnRSxJQUFJLDRDQUE0Qyw0QkFBNEIsZ0RBQWdELHlCQUF5QixXQUFXLE1BQU0sMEhBQTBILDZRQUE2USw0QkFBNEIsNENBQTRDLG9DQUFvQyx3Q0FBd0MsOEJBQThCLHlDQUF5Qyx3QkFBd0IseUNBQXlDLHdCQUF3QixzQ0FBc0Msc0NBQXNDLGlDQUFpQyw2Q0FBNkMsa0JBQWtCLGtDQUFrQyxzSUFBc0ksU0FBUyxZQUFZLDZCQUE2QiwyQkFBMkIsS0FBSyxHQUFHLCtCQUErQixJQUFJLDBDQUEwQyw2Q0FBNkMsTUFBTSxTQUFTLHNGQUFzRiwwQ0FBMEMsSUFBSSwwQ0FBMEMsZUFBZSxNQUFNLFNBQVMsd0RBQXdELCtCQUErQixJQUFJLHdDQUF3QyxtQkFBbUIsTUFBTSxTQUFTLHdGQUF3RiwwQ0FBMEMsSUFBSSxtREFBbUQsd0JBQXdCLE1BQU0sU0FBUyx1REFBdUQsaUNBQWlDLE9BQU8saUJBQWlCLGdEQUFnRCxJQUFJLElBQUksd0RBQXdELFNBQVMsMEZBQTBGLHFCQUFxQixPQUFPLDZIQUE2SCxJQUFJLCtDQUErQyxTQUFTLHNGQUFzRix1QkFBdUIsT0FBTyxpSUFBaUksSUFBSSwrQ0FBK0MsU0FBUyx3RkFBd0Ysc0JBQXNCLE9BQU8sZ0dBQWdHLElBQUksK0NBQStDLFNBQVMsdUZBQXVGLHdCQUF3QixPQUFPLG9HQUFvRyxJQUFJLCtDQUErQyxTQUFTLHlGQUF5RixtQkFBbUIsZ0NBQWdDLFlBQVkseUJBQXlCLGVBQWUsdUJBQXVCLG9CQUFvQixPQUFPLHlEQUF5RCxJQUFJLHNEQUFzRCxTQUFTLDBGQUEwRixZQUFZLHVFQUF1RSwyQkFBMkIsUUFBUSx3WkFBd1osc0NBQXNDLDRDQUE0QywyQkFBMkIsSUFBSSxXQUFXLHFCQUFxQixxQkFBcUIsZ1JBQWdSLHdIQUF3SCw4SkFBOEosOEJBQThCLGFBQWEsWUFBWSx3T0FBd08sR0FBRyxFQUFFLFlBQVksTUFBTSxjQUFjLFFBQVEsa0JBQWtCLG1CQUFtQixxQkFBcUIsRUFBRSxVQUFVLHVGQUF1RixpRUFBaUUsaUJBQWlCLGtJQUFrSSxZQUFZLFdBQVcsS0FBSyxXQUFXLDRCQUE0Qix5Q0FBeUMsT0FBTyxnQkFBZ0IsUUFBUSxRQUFRLGVBQWUsWUFBWSxhQUFhLEtBQUssV0FBVyxxQkFBcUIsUUFBUSxnREFBZ0Qsb0NBQW9DLElBQUksY0FBYyxXQUFXLE9BQU8sOEJBQThCLFlBQVksR0FBRyxjQUFjLDZEQUE2RCxvQkFBb0IsV0FBVywwQkFBMEIsZ0JBQWdCLCtCQUErQixvQ0FBb0MsR0FBRyxjQUFjLGdDQUFnQyxlQUFlLHVEQUF1RCxxQkFBcUIsd0VBQXdFLG1DQUFtQyxrQ0FBa0MsY0FBYyw0QkFBNEIsZ0pBQWdKLFdBQVcsS0FBSyxjQUFjLDBFQUEwRSw2Q0FBNkMsbUJBQW1CLEdBQUcsU0FBUyxtRUFBbUUsTUFBTSxNQUFNLEdBQUcsU0FBUyxJQUFJLGFBQWEsS0FBSyxPQUFPLFFBQVEsT0FBTyxNQUFNLGtCQUFrQiw2RUFBNkUsU0FBUyxPQUFPLFFBQVEsYUFBYSwwRUFBMEUsY0FBYywyREFBMkQsUUFBUSxnQkFBZ0IsY0FBYyxTQUFTLGNBQWMsdUJBQXVCLG9CQUFvQixJQUFJLHNCQUFzQix3RkFBd0YsNkJBQTZCLGVBQWUsU0FBUyxnQ0FBZ0MscUNBQXFDLGNBQWMsS0FBSyxNQUFNLEtBQUssZUFBZSxzQkFBc0IsdUJBQXVCLFNBQVMsdUJBQXVCLG1CQUFtQixvQ0FBb0MsUUFBUSx3QkFBd0IsUUFBUSxzQkFBc0IsY0FBYyxzQkFBc0IsY0FBYyx3QkFBd0IsY0FBYyx5QkFBeUIscUJBQXFCLE9BQU8sWUFBWSwrQ0FBK0MsUUFBUSxpQkFBaUIsb0NBQW9DLE1BQU0sa0NBQWtDLGNBQWMsZ0JBQWdCLDREQUE0RCw2QkFBNkIsVUFBVSwyQkFBMkIsUUFBUSxTQUFTLHdCQUF3QixnQ0FBZ0MsUUFBUSxTQUFTLGdCQUFnQiwyQkFBMkIsaUZBQWlGLDJCQUEyQixrRkFBa0YseUNBQXlDLHFCQUFxQixxQkFBcUIsNkJBQTZCLGdCQUFnQixnQkFBZ0IsbUJBQW1CLFVBQVUsUUFBUSx5QkFBeUIsYUFBYSx3QkFBd0IscUNBQXFDLFNBQVMsR0FBRyxvQkFBb0IsYUFBYSxHQUFHLG9FQUFvRSxvQkFBb0IsWUFBWSxXQUFXLGFBQWEsZUFBZTtBQUNsODhCLEdBQUcsbUJBQW1CLDRNQUE0TSxpQkFBaUIsMEZBQTBGLHdTQUF3UyxtSEFBbUgsSUFBSSxpQkFBaUIsTUFBTSx1QkFBdUIseUJBQXlCLDZCQUE2QixNQUFNLFFBQVEsZUFBZSxzRUFBc0UsV0FBVyxpQkFBaUIseUJBQXlCLGtDQUFrQyxhQUFhLE1BQU0sbUJBQW1CLHVFQUF1RSxnQkFBZ0IsVUFBVSxXQUFXLDRCQUE0QiwwSEFBMEgsdURBQXVELGdDQUFnQyxHQUFHLGdCQUFnQixvQkFBb0IsR0FBRywrRUFBK0UsbURBQW1ELDJJQUEySSxJQUFJLDJDQUEyQyxzQ0FBc0Msc0JBQXNCLGVBQWUsU0FBUyxpQ0FBaUMscUJBQXFCLFlBQVksd0JBQXdCLGFBQWEsdUJBQXVCLDZFQUE2RSxXQUFXLEVBQUUseUJBQXlCLGVBQWUsNkJBQTZCLFFBQVEsWUFBWSxpQkFBaUIsdURBQXVELG1CQUFtQixlQUFlLGFBQWEsWUFBWSxZQUFZLFdBQVcsa0NBQWtDLFlBQVksc0JBQXNCLGVBQWUsU0FBUyx3Q0FBd0Msd0JBQXdCLElBQUksbUJBQW1CLDJCQUEyQixZQUFZLGdCQUFnQixrQ0FBa0MsVUFBVSxxQkFBcUIsbUJBQW1CLHVCQUF1Qix1R0FBdUcsa0JBQWtCLEVBQUUsdUJBQXVCLDJCQUEyQix5QkFBeUIscUJBQXFCLHNDQUFzQyx5QkFBeUIsdUJBQXVCLG1CQUFtQix1QkFBdUIsZ0hBQWdILGtCQUFrQixFQUFFLG1DQUFtQyxxQ0FBcUMsUUFBUSxZQUFZLGlCQUFpQixpREFBaUQsU0FBUywrQkFBK0I7QUFDeHdHLGdDQUFnQyxRQUFRLGtDQUFrQztBQUMxRTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLEdBQUcsa0NBQWtDLDJCQUEyQixhQUFhLEVBQUUsMENBQTBDLHNCQUFzQixrQ0FBa0MsMkJBQTJCLDBKQUEwSiw2RUFBNkUseUJBQXlCLEVBQUUsWUFBWSx1Q0FBdUMsbURBQW1ELDBEQUEwRCxpRUFBaUUsNkNBQTZDLG9IQUFvSCwwQkFBMEIsaUZBQWlGLDRDQUE0Qyw0REFBNEQsa0JBQWtCLElBQUksWUFBWSxpQkFBaUIsOERBQThELFlBQVksOENBQThDLEtBQUssbUxBQW1MLE9BQU8seU1BQXlNLGlCQUFpQiw2QkFBNkIsYUFBYSxzQ0FBc0MsR0FBRyxJQUFJLEtBQUssUUFBUSwwSEFBMEgsZ0xBQWdMLFNBQVMsMkJBQTJCLCtDQUErQyx5RkFBeUYsK0JBQStCLDhCQUE4QixpREFBaUQsZ0NBQWdDLG9CQUFvQixTQUFTLHNCQUFzQixNQUFNLHlDQUF5QyxJQUFJLEtBQUssa0JBQWtCLE1BQU0sc0JBQXNCLE1BQU0sd0NBQXdDLElBQUksaUJBQWlCLGdDQUFnQyxTQUFTLGNBQWMsU0FBUyxzQkFBc0IsMkJBQTJCLDJDQUEyQyxLQUFLLFNBQVMsUUFBUSxVQUFVLGVBQWUsUUFBUSwwR0FBMEcsaURBQWlELG9CQUFvQixPQUFPLG10QkFBbXRCLDBIQUEwSCx5SUFBeUksSUFBSSxlQUFlLHdGQUF3Rix5Q0FBeUMsRUFBRSxJQUFJLFNBQVMsZ0VBQWdFLHVFQUF1RSw4REFBOEQsSUFBSSwwQkFBMEIsR0FBRywwREFBMEQsUUFBUSwyQ0FBMkMsT0FBTyxhQUFhLHlGQUF5Rix5RkFBeUYsdURBQXVELHFGQUFxRixzRkFBc0YsZ0JBQWdCLFlBQVksdUJBQXVCLHlJQUF5SSw0Q0FBNEMsU0FBUyxxQkFBcUIsZUFBZSxpQkFBaUIscUJBQXFCLGlDQUFpQyxzQ0FBc0MsMkJBQTJCLHVEQUF1RCxzQkFBc0IsU0FBUyxlQUFlLFlBQVksbUJBQW1CLEtBQUsseUNBQXlDLHlDQUF5QyxhQUFhLG9JQUFvSSxpRUFBaUUsR0FBRyxTQUFTLFNBQVMsdUJBQXVCLE1BQU0sT0FBTyw0SUFBNEksSUFBSSwyQ0FBMkMsWUFBWSxvQkFBb0IsYUFBYSxrQkFBa0IsOEJBQThCLGlEQUFpRCxFQUFFLDhCQUE4QiwwRUFBMEUsd0JBQXdCLEVBQUUsOEJBQThCLDhCQUE4QixpQkFBaUIsMEhBQTBILDJCQUEyQixFQUFFLDhCQUE4QixxQ0FBcUMsNEVBQTRFLDJCQUEyQixFQUFFLDhCQUE4QixvQkFBb0IsUUFBUSxnTkFBZ04sTUFBTSxrS0FBa0ssTUFBTSxFQUFFLGVBQWUsRUFBRSxnQ0FBZ0Msc0lBQXNJLHFDQUFxQywyRkFBMkYsdUhBQXVILFNBQVMscUJBQXFCLElBQUksaUJBQWlCLElBQUksaUJBQWlCLHFFQUFxRSxvQkFBb0IsaUpBQWlKLElBQUksaUJBQWlCLGFBQWEsOEJBQThCLG9DQUFvQyxHQUFHLFFBQVEsa0ZBQWtGLDZCQUE2QixxQkFBcUIsOEJBQThCLGdNQUFnTSxrSEFBa0gsc0pBQXNKLGVBQWUsWUFBWSx5R0FBeUcscUJBQXFCLE9BQU8sOEJBQThCLGtDQUFrQyxvQkFBb0IsaUpBQWlKLElBQUksaUJBQWlCLGFBQWEsOEJBQThCLG9DQUFvQyxHQUFHLFFBQVEscUVBQXFFLHdMQUF3TCxjQUFjLHVDQUF1Qyw4Q0FBOEMsK05BQStOLHVDQUF1Qyx1S0FBdUssb0hBQW9ILHdKQUF3SixlQUFlLEVBQUUsb0ZBQW9GLHVCQUF1QixJQUFJLG9DQUFvQyxjQUFjLG9DQUFvQyxrSkFBa0osNEVBQTRFLHNIQUFzSCxJQUFJLCtCQUErQixvQkFBb0Isc01BQXNNLE1BQU0sT0FBTyw0RUFBNEUsNEJBQTRCLHNCQUFzQixnQkFBZ0IsVUFBVSxlQUFlLGlEQUFpRCw2Q0FBNkMsc0JBQXNCLHVFQUF1RSwwV0FBMFcsb0ZBQW9GLE1BQU0sNEZBQTRGLG1CQUFtQixFQUFFLFFBQVEsWUFBWSxvSEFBb0gsc0NBQXNDLEVBQUUsc1FBQXNRLGdDQUFnQyxHQUFHLFlBQVksV0FBVyxLQUFLLE1BQU0seUJBQXlCLG9EQUFvRCx3REFBd0QsMERBQTBELG1DQUFtQyxRQUFRLGdJQUFnSSxRQUFRLGdGQUFnRixFQUFFLGdCQUFnQixZQUFZLDRDQUE0Qyx5QkFBeUIsc0JBQXNCLHdCQUF3QixtRkFBbUYsY0FBYyxFQUFFLHVCQUF1QixnS0FBZ0ssU0FBUyxFQUFFLGNBQWMsd0NBQXdDLHFFQUFxRSxlQUFlLHlCQUF5Qix5REFBeUQsVUFBVSxVQUFVLEdBQUcsMENBQTBDLEdBQUcsNkJBQTZCLHFFQUFxRSw2REFBNkQsSUFBSSxFQUFFLG1CQUFtQixtREFBbUQsWUFBWSx3Q0FBd0MscUVBQXFFLGVBQWUsc0JBQXNCLDBCQUEwQix5RkFBeUYsb0JBQW9CLElBQUksRUFBRSxnQkFBZ0IsbURBQW1ELE1BQU0sZUFBZSxpQ0FBaUMsUUFBUSxrQkFBa0IsUUFBUSxPQUFPLGlCQUFpQixJQUFJLDJGQUEyRiw2QkFBNkIsWUFBWSxnQkFBZ0IsMkJBQTJCLElBQUksZ0JBQWdCLElBQUksZUFBZSxTQUFTLGlEQUFpRCxNQUFNLDJCQUEyQixtQkFBbUIsY0FBYyxJQUFJLDRDQUE0Qyw4QkFBOEIsbUJBQW1CLElBQUksZUFBZSxTQUFTLG1DQUFtQyxhQUFhLFlBQVksMkJBQTJCLFFBQVEsMENBQTBDLDRCQUE0Qix1RUFBdUUsMEtBQTBLLGlDQUFpQyxnRkFBZ0YsY0FBYyxnTEFBZ0wsa0NBQWtDLHlDQUF5QyxTQUFTLHFCQUFxQixFQUFFLG1DQUFtQyxrQ0FBa0MsTUFBTSxhQUFhLG1DQUFtQyw2Q0FBNkMsMEtBQTBLLGlDQUFpQyw2RkFBNkYsY0FBYyx1TEFBdUwsa0NBQWtDLHlDQUF5QyxTQUFTLHFCQUFxQixFQUFFLG1DQUFtQyxrQ0FBa0MsT0FBTyxJQUFJLHlHQUF5RyxTQUFTLFlBQVksV0FBVyw2QkFBNkIseUJBQXlCLG1CQUFtQixrREFBa0Qsd0NBQXdDLElBQUksMEJBQTBCLG1CQUFtQixvREFBb0QsZUFBZSxpQkFBaUIsK0tBQStLLEdBQUcsYUFBYSxNQUFNLG9HQUFvRyxtSUFBbUksR0FBRyxjQUFjLHFCQUFxQix3QkFBd0IsRUFBRSxlQUFlLHlCQUF5QixJQUFJLDBCQUEwQixzQkFBc0IsY0FBYyxjQUFjLDZQQUE2UCxHQUFHLGFBQWEsTUFBTSxvR0FBb0csK0xBQStMLEdBQUcsY0FBYyxxQkFBcUIsd0JBQXdCLHFHQUFxRyw2QkFBNkIsdUVBQXVFLG9JQUFvSSxtQ0FBbUMsK0RBQStELEVBQUUsSUFBSSxzQ0FBc0Msb0JBQW9CLDZDQUE2Qyx1RkFBdUYsOEJBQThCLDZDQUE2QyxVQUFVLGVBQWUsK0hBQStILHFIQUFxSCw0Q0FBNEMsK0JBQStCLHVGQUF1RixLQUFLLGlCQUFpQiw4REFBOEQseUZBQXlGLFVBQVUsK0RBQStELHdGQUF3Riw2QkFBNkIsZUFBZSxpQkFBaUIsMENBQTBDLFNBQVMsWUFBWSxvQ0FBb0Msa0NBQWtDLFVBQVUsU0FBUyxtQ0FBbUMsMkNBQTJDLE9BQU8seUJBQXlCLGlDQUFpQyxvSUFBb0ksSUFBSSxpQkFBaUIsMkRBQTJELG9CQUFvQiw4Q0FBOEMsSUFBSSw0RUFBNEUsOEJBQThCLDZDQUE2QyxFQUFFLGVBQWUsaUJBQWlCLHlFQUF5RSxtRkFBbUYsUUFBUSx5REFBeUQsU0FBUyxTQUFTLGlHQUFpRyxFQUFFLFNBQVMsU0FBUyx5QkFBeUIseU5BQXlOLGNBQWMsa0NBQWtDLHNLQUFzSyxvQkFBb0IsMENBQTBDLDZDQUE2Qyw0Q0FBNEMsOEJBQThCLElBQUksZUFBZSxTQUFTLHdDQUF3QyxLQUFLLHFEQUFxRCwyQ0FBMkMsZUFBZSxpQ0FBaUMsY0FBYywwQkFBMEIsd0NBQXdDLHFCQUFxQixNQUFNLHFEQUFxRCxRQUFRLElBQUksS0FBSyxPQUFPLFNBQVMsdUJBQXVCLHVFQUF1RSw0SEFBNEgsR0FBRyxJQUFJLGlCQUFpQix5REFBeUQsT0FBTyw4QkFBOEIsa0RBQWtELElBQUksMkhBQTJILElBQUksaUJBQWlCLGFBQWEsOEJBQThCLG9DQUFvQyxHQUFHLFFBQVEsMEJBQTBCLFNBQVMsK0JBQStCLG9CQUFvQixxR0FBcUcsTUFBTSxPQUFPLDRFQUE0RSw0QkFBNEIsc0JBQXNCLFdBQVcsVUFBVSxlQUFlLGlEQUFpRCw2Q0FBNkMsc0JBQXNCLGtFQUFrRSx5SUFBeUksb0ZBQW9GLE1BQU0sNEZBQTRGLG1CQUFtQixFQUFFLEtBQUssNkRBQTZELGNBQWMsMEZBQTBGLFNBQVMsU0FBUyxzR0FBc0csRUFBRSxTQUFTLFNBQVMsMkJBQTJCLDBDQUEwQyxXQUFXLHlGQUF5Rix5QkFBeUIsMEVBQTBFLE1BQU0sOFJBQThSLHNNQUFzTSxnQ0FBZ0MsZ0ZBQWdGLGNBQWMsZ0xBQWdMLGtDQUFrQyx5Q0FBeUMsU0FBUyxxQkFBcUIsRUFBRSxtQ0FBbUMsa0NBQWtDLE1BQU0sYUFBYSxtQ0FBbUMsZ0RBQWdELE1BQU0sOFJBQThSLHNNQUFzTSxnQ0FBZ0MsZ0ZBQWdGLGNBQWMsdUxBQXVMLGtDQUFrQyx5Q0FBeUMsU0FBUyxxQkFBcUIsRUFBRSxtQ0FBbUMsa0NBQWtDLE1BQU0sT0FBTyxJQUFJLEVBQUUsZ0NBQWdDLHVCQUF1QixTQUFTLFdBQVcsZ0tBQWdLLG1FQUFtRSw2Q0FBNkMsMkVBQTJFLFVBQVUsMENBQTBDLEdBQUcseUJBQXlCLGlPQUFpTyxPQUFPLHNKQUFzSixNQUFNLE9BQU8seURBQXlELG9CQUFvQixrQkFBa0IsOEJBQThCLDZDQUE2QyxFQUFFLGVBQWUseUVBQXlFLFNBQVMsRUFBRSw4QkFBOEIsOEJBQThCLGlCQUFpQix5SEFBeUgsOEJBQThCLHFDQUFxQywyRUFBMkUsOEJBQThCLFFBQVEsc01BQXNNLHFHQUFxRyxXQUFXLElBQUksa0JBQWtCLGtDQUFrQyxTQUFTLFlBQVkseUJBQXlCLDRCQUE0QixxTkFBcU4sK0NBQStDLHFNQUFxTSxrREFBa0Qsb0JBQW9CLGlKQUFpSixrQkFBa0IsOEJBQThCLG9DQUFvQyxHQUFHLEtBQUssZUFBZSwyS0FBMkssZ0NBQWdDLFdBQVcscUJBQXFCLEdBQUcsSUFBSSw2R0FBNkcsU0FBUyxZQUFZLGlCQUFpQixxQkFBcUIsaUNBQWlDLHNDQUFzQywyQkFBMkIsdURBQXVELHNCQUFzQixTQUFTLGVBQWUsWUFBWSxtQkFBbUIsS0FBSyx5Q0FBeUMseUNBQXlDLGFBQWEsb0lBQW9JLGlFQUFpRSxHQUFHLFNBQVMsd0JBQXdCLGdCQUFnQixzQkFBc0IsY0FBYyw4R0FBOEcsa0VBQWtFLHdHQUF3Ryw4QkFBOEIscUxBQXFMLCtCQUErQixvQ0FBb0MsMEJBQTBCLCtHQUErRyxzQ0FBc0Msa0RBQWtELCtCQUErQiw4RUFBOEUsbUVBQW1FLG9MQUFvTCxnQ0FBZ0MsSUFBSSxnUEFBZ1AsU0FBUyx3Q0FBd0Msd0RBQXdELFFBQVEsTUFBTSxrQkFBa0Isc0RBQXNELHNCQUFzQixNQUFNLDJSQUEyUiwrQkFBK0Isc0RBQXNELCtDQUErQyw4QkFBOEIsTUFBTSxvRkFBb0YsWUFBWSxXQUFXLHlCQUF5QixJQUFJLEtBQUssV0FBVyxxQ0FBcUMsK0JBQStCLHFDQUFxQyxrQ0FBa0MsUUFBUSx1QkFBdUIsTUFBTSxRQUFRLHdCQUF3QixTQUFTLGNBQWMseUJBQXlCLDJCQUEyQix3RkFBd0YsV0FBVyxLQUFLLFVBQVUsSUFBSSxHQUFHLEVBQUUsSUFBSSxhQUFhLElBQUksaUJBQWlCLDJCQUEyQixVQUFVLGlRQUFpUSxJQUFJLGtCQUFrQixNQUFNLGtCQUFrQixrRkFBa0YsR0FBRyxTQUFTLG1FQUFtRSxLQUFLLHlDQUF5Qyw2R0FBNkcsU0FBUyx5REFBeUQscUJBQXFCLGNBQWMscURBQXFELDBCQUEwQix1SkFBdUosMEJBQTBCLHVOQUF1Tix5QkFBeUIsb0JBQW9CLDJFQUEyRSx5QkFBeUIsb0JBQW9CLG9FQUFvRSxjQUFjLHlDQUF5QyxxREFBcUQsMEJBQTBCLEVBQUUsZ0NBQWdDLDZDQUE2QyxNQUFNLCtCQUErQix3SkFBd0oseUJBQXlCLGlEQUFpRCwwQkFBMEIsc0VBQXNFLHlCQUF5QixXQUFXLGlGQUFpRix5QkFBeUIsOENBQThDLHNCQUFzQix3RkFBd0YsMkJBQTJCLG9DQUFvQywyQkFBMkIsa0VBQWtFLG9CQUFvQixvREFBb0QsS0FBSyxzTkFBc04sY0FBYyx3QkFBd0Isc0VBQXNFLHNCQUFzQixvRUFBb0UsK0JBQStCLHVGQUF1RixlQUFlLG9CQUFvQixpREFBaUQsU0FBUyw2QkFBNkIscUZBQXFGLGVBQWUsb0JBQW9CLGlEQUFpRCxXQUFXLGlCQUFpQixtQkFBbUIsZUFBZSxtQkFBbUIsZ0JBQWdCLElBQUksbUNBQW1DLEVBQUUseUJBQXlCLGlCQUFpQixRQUFRLHNEQUFzRCxFQUFFLGdCQUFnQixJQUFJLG1DQUFtQyxFQUFFLGdCQUFnQix5QkFBeUIsd0RBQXdELEVBQUUsaURBQWlELGVBQWUsUUFBUSxnQkFBZ0IsSUFBSSwwQ0FBMEMscUNBQXFDLE1BQU0sbUNBQW1DLDhCQUE4QixpQkFBaUIsK0JBQStCLGFBQWEsY0FBYyxHQUFHLFNBQVMsZUFBZSxnQkFBZ0IsVUFBVSx3QkFBd0IsZ0JBQWdCLEVBQUUsTUFBTSx3QkFBd0IsTUFBTSxtQkFBbUIsZ0JBQWdCLEdBQUcsa0NBQWtDLDJCQUEyQiw0QkFBNEIsT0FBTywwQ0FBMEMsNkJBQTZCLEVBQUUsb0RBQW9ELGVBQWUsa0JBQWtCLHdDQUF3QyxzRUFBc0UsWUFBWSwrQkFBK0IsOEJBQThCLGdDQUFnQywrQkFBK0IsaUNBQWlDLGlDQUFpQyxpSEFBaUgsSUFBSSxrREFBa0QsRUFBRSxvQkFBb0IsNkNBQTZDLHdDQUF3QyxFQUFFLHlFQUF5RSxnQkFBZ0IsNkNBQTZDLFdBQVcsaUJBQWlCLHFCQUFxQix3QkFBd0IscUJBQXFCLFlBQVksU0FBUyxRQUFRLFdBQVcsMkNBQTJDLFNBQVMsTUFBTSxPQUFPLFlBQVksUUFBUSxXQUFXLDZGQUE2RixTQUFTLGVBQWUsdUNBQXVDLG1CQUFtQixTQUFTLGdCQUFnQixXQUFXLDJDQUEyQyxTQUFTLGVBQWUsbURBQW1ELGFBQWEsZUFBZSxzREFBc0QsT0FBTyx3RUFBd0UsV0FBVyxrR0FBa0csS0FBSywyR0FBMkcsS0FBSyxxQkFBcUIsMkJBQTJCLHNIQUFzSCxtREFBbUQsS0FBSywwT0FBME8sS0FBSyw2SUFBNkksS0FBSywyRUFBMkUsS0FBSyw0SkFBNEosaUJBQWlCLHFCQUFxQixpQ0FBaUMsc0NBQXNDLDJCQUEyQix1REFBdUQsc0JBQXNCLFNBQVMsZUFBZSxZQUFZLG1CQUFtQixLQUFLLHlDQUF5Qyx5Q0FBeUMsYUFBYSxvSUFBb0ksaUVBQWlFLEdBQUcsU0FBUyxhQUFhLGlCQUFpQix3VkFBd1YscUlBQXFJLGlDQUFpQyxrQ0FBa0MsaUNBQWlDLHdDQUF3Qyw0R0FBNEcsb0JBQW9CLCtCQUErQixXQUFXLGtCQUFrQiwyQkFBMkIsaUJBQWlCLEdBQUcsV0FBVyxpQkFBaUIsS0FBSyxHQUFHLEVBQUUsbUJBQW1CLHFCQUFxQixzQkFBc0IseUJBQXlCLG1CQUFtQixpQ0FBaUMsMkJBQTJCLFVBQVUseURBQXlELGdCQUFnQixxSUFBcUksMEdBQTBHLG9DQUFvQyxtRkFBbUYsNExBQTRMLG9KQUFvSixFQUFFLHVGQUF1RixpQkFBaUIscUJBQXFCLGlDQUFpQyxzQ0FBc0MsMkJBQTJCLHVEQUF1RCxzQkFBc0IsU0FBUyxlQUFlLFlBQVksbUJBQW1CLEtBQUsseUNBQXlDLHlDQUF5QyxhQUFhLG9JQUFvSSxpRUFBaUUsR0FBRyxTQUFTLHdCQUF3QixjQUFjLHdGQUF3RixvQkFBb0IsK0RBQStELG1CQUFtQixtQ0FBbUMseUJBQXlCLHFDQUFxQyx5SEFBeUgseUJBQXlCLHFCQUFxQiw0S0FBNEssaUVBQWlFLG9CQUFvQixjQUFjLE1BQU0sK0JBQStCLDJEQUEyRCxrQkFBa0IsYUFBYSw4T0FBOE8sOEtBQThLLGNBQWMsK0dBQStHLHFXQUFxVyxNQUFNLGtCQUFrQixxRUFBcUUsZ1RBQWdULDBIQUEwSCxpQkFBaUIseUhBQXlILGlFQUFpRSx3SEFBd0gsa3FCQUFrcUIsaUNBQWlDLGtlQUFrZSw4Q0FBOEMsV0FBVyxtQkFBbUIsZ0NBQWdDLE1BQU0sa0JBQWtCLGFBQWEsbTFDQUFtMUMsTUFBTSxrQkFBa0IsYUFBYSwwakJBQTBqQixRQUFRLEdBQUcsWUFBWSxxQkFBcUIsdUJBQXVCLEVBQUUsMkJBQTJCLFNBQVMsOEJBQThCLE9BQU8sZ0VBQWdFLHNCQUFzQixnQkFBZ0IsYUFBYSxNQUFNLGlCQUFpQixxQkFBcUIsaUNBQWlDLHNDQUFzQywyQkFBMkIsdURBQXVELHNCQUFzQixTQUFTLGVBQWUsWUFBWSxtQkFBbUIsS0FBSyx5Q0FBeUMseUNBQXlDLGFBQWEsb0lBQW9JLGlFQUFpRSxHQUFHLFNBQVMsd0JBQXdCLGNBQWMsbWVBQW1lLG9CQUFvQixnRkFBZ0YsZUFBZSxrQ0FBa0MsMkVBQTJFLG9QQUFvUCxNQUFNLG1CQUFtQixpREFBaUQscUNBQXFDLE1BQU0sdUVBQXVFLG1IQUFtSCxpQ0FBaUMsa0NBQWtDLFdBQVcsaUJBQWlCLE1BQU0scUJBQXFCLE1BQU0sZ0hBQWdILGNBQWMsaVFBQWlRLHVCQUF1QixnQ0FBZ0MsaUJBQWlCLHdCQUF3QixpQ0FBaUMsb0JBQW9CLElBQUksNkJBQTZCLGtLQUFrSyw4REFBOEQsb0NBQW9DLDhEQUE4RCxnRUFBZ0UsMENBQTBDLGtDQUFrQyx3QkFBd0IsMkNBQTJDLG1DQUFtQyx5QkFBeUIsTUFBTSxpbEJBQWlsQixTQUFTLCtOQUErTixTQUFTLHNEQUFzRCw0QkFBNEIscURBQXFELDZ5QkFBNnlCLDRCQUE0QixxREFBcUQsa2JBQWtiLG1KQUFtSiw2REFBNkQscUZBQXFGLG9HQUFvRyxNQUFNLHdCQUF3QixpNEJBQWk0QixvSUFBb0ksdURBQXVELHFFQUFxRSx1Q0FBdUMsaU1BQWlNLHFGQUFxRixxRUFBcUUseURBQXlELGthQUFrYSxXQUFXLHlDQUF5QyxHQUFHLDZCQUE2QixxREFBcUQsNENBQTRDLHNDQUFzQyx3QkFBd0IsTUFBTSxpQkFBaUIsc0RBQXNELHNDQUFzQyw0Q0FBNEMscUNBQXFDLE1BQU0saUJBQWlCLDBFQUEwRSw4QkFBOEIsOENBQThDLHNDQUFzQyxNQUFNLGlCQUFpQiw2RUFBNkUsMFJBQTBSLHFDQUFxQyw0RkFBNEYsTUFBTSw2RUFBNkUsd0JBQXdCLDZCQUE2QixxQ0FBcUMsdUpBQXVKLGtDQUFrQyxrR0FBa0csd09BQXdPLE1BQU0sdURBQXVELHlDQUF5Qyw2QkFBNkIscURBQXFELCtVQUErVSxNQUFNLHVEQUF1RCx5Q0FBeUMsdUJBQXVCLE1BQU0sNEVBQTRFLG1CQUFtQiw2QkFBNkIseUJBQXlCLHdEQUF3RCwwREFBMEQsR0FBRyw2QkFBNkIseUJBQXlCLGdDQUFnQyxvQ0FBb0MsWUFBWSx3RkFBd0YsNkJBQTZCLGtMQUFrTCw4REFBOEQsd0RBQXdELGdHQUFnRyxxQkFBcUIsbURBQW1ELHFCQUFxQixHQUFHLGFBQWEsMkNBQTJDLHNDQUFzQyxjQUFjLG9XQUFvVyx1QkFBdUIsd0RBQXdELHdCQUF3QixRQUFRLGdHQUFnRyxxQkFBcUIsbURBQW1ELHFCQUFxQixtQkFBbUIsc0NBQXNDLGlCQUFpQixzREFBc0QsZ0JBQWdCLDJFQUEyRSxTQUFTLDBDQUEwQyxnRUFBZ0UsbURBQW1ELDJIQUEySCwrRUFBK0UsSUFBSSxvQ0FBb0MsWUFBWSwwT0FBME8sZ0RBQWdELHNDQUFzQyxrQkFBa0Isa2lCQUFraUIsc0NBQXNDLDBDQUEwQyxnRUFBZ0UsbURBQW1ELHdHQUF3RywrRUFBK0UsR0FBRyxnQkFBZ0IsV0FBVyx3RkFBd0YsK0JBQStCLHlCQUF5Qiw0SkFBNEosMEJBQTBCLHlCQUF5QixnQkFBZ0Isa0NBQWtDLHVCQUF1QixvQkFBb0Isc0JBQXNCLGdDQUFnQyxpQkFBaUIsd0NBQXdDLHdDQUF3QywwQ0FBMEMsd0NBQXdDLEVBQUUscUJBQXFCLHFCQUFxQixtR0FBbUcsd0tBQXdLLHFCQUFxQixjQUFjLHFCQUFxQixlQUFlLG1RQUFtUSxzRUFBc0UsK0NBQStDLEdBQUcsd0JBQXdCLGlGQUFpRixZQUFZLGlGQUFpRixjQUFjLG9DQUFvQyxtQkFBbUIsc0NBQXNDLGtGQUFrRixLQUFLLGNBQWMsaUZBQWlGLFlBQVksaUZBQWlGLEVBQUUsYUFBYSx3QkFBd0IsbUNBQW1DLHNCQUFzQixpQ0FBaUMsaUJBQWlCLDRCQUE0QixvQkFBb0IsK0JBQStCLHFCQUFxQixnQ0FBZ0MsZUFBZSx3VUFBd1UsSUFBSSxvSkFBb0osS0FBSztBQUMxaGdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxSEFBcUgsb1JBQW9SLHdpQkFBd2lCLHNFQUFzRSxXQUFXLGtDQUFrQyxVQUFVLG9IQUFvSCxnQkFBZ0Isc0JBQXNCLElBQUkscUJBQXFCLDBFQUEwRSxNQUFNLHVGQUF1RixvREFBb0QsMEVBQTBFLHlDQUF5QyxRQUFRLDBDQUEwQyw0Q0FBNEMsK1ZBQStWLDBDQUEwQyxlQUFlLHVHQUF1RyxtSUFBbUksY0FBYyx1QkFBdUIsMkJBQTJCLGVBQWUsU0FBUyxxQkFBcUIsNEVBQTRFLG1MQUFtTCw2Q0FBNkMsR0FBRyxJQUFJLGlCQUFpQixxRkFBcUYsZ0lBQWdJLGNBQWMsb0RBQW9ELDJCQUEyQixzQkFBc0IsSUFBSSwwRkFBMEYsMkJBQTJCLHdLQUF3Syx1TEFBdUwseUNBQXlDLElBQUksdUJBQXVCLGtHQUFrRyxvQ0FBb0MsME1BQTBNLE9BQU8sa0dBQWtHLGVBQWUsZ0RBQWdELDRCQUE0QixrUkFBa1IsMERBQTBELHlFQUF5RSw4QkFBOEIsbUNBQW1DLE1BQU0sb0RBQW9ELHlDQUF5QyxnREFBZ0QsU0FBUyxjQUFjLHNGQUFzRixrSUFBa0ksY0FBYyxtQ0FBbUMsR0FBRyxnQkFBZ0Isc0ZBQXNGLGtJQUFrSSxjQUFjLG1DQUFtQyxHQUFHLCtCQUErQix3REFBd0QsMkpBQTJKLFNBQVMsTUFBTSw4Q0FBOEMseUZBQXlGLFVBQVUsK0JBQStCLEVBQUUsK0JBQStCLHdEQUF3RCw0SEFBNEgseURBQXlELEVBQUUsd0JBQXdCLFNBQVMsWUFBWSxJQUFJLG9EQUFvRCxTQUFTLGNBQWMsNkVBQTZFLCtEQUErRCxHQUFHLHNDQUFzQyw0SEFBNEgsNENBQTRDLE9BQU8sT0FBTyxrR0FBa0csZUFBZSxnREFBZ0QsNEJBQTRCLGlSQUFpUiwwREFBMEQsOERBQThELDhCQUE4QixtQ0FBbUMsTUFBTSxvREFBb0QseUNBQXlDLGdEQUFnRCxTQUFTLHlCQUF5QixZQUFZLHlFQUF5RSx1QkFBdUIsWUFBWSxtREFBbUQscUJBQXFCLDRFQUE0RSxXQUFXLHNFQUFzRSwwQ0FBMEMsbUJBQW1CLG1KQUFtSix3QkFBd0IsbURBQW1ELE1BQU0sOEdBQThHLEVBQUUsd0JBQXdCLHNIQUFzSCxlQUFlLGlCQUFpQixxQkFBcUIsaUNBQWlDLHNDQUFzQywyQkFBMkIsdURBQXVELHNCQUFzQixTQUFTLGVBQWUsWUFBWSxtQkFBbUIsS0FBSyx5Q0FBeUMseUNBQXlDLGFBQWEsb0lBQW9JLGlFQUFpRSxHQUFHLFNBQVMsK0JBQStCLDhCQUE4QixtREFBbUQsK0JBQStCLG9EQUFvRCwwQkFBMEIsMkNBQTJDLHlCQUF5Qiw4Q0FBOEMseUJBQXlCLFFBQVEscUpBQXFKLGtCQUFrQixVQUFVLHNCQUFzQix3QkFBd0IscUJBQXFCLDRCQUE0QixtQkFBbUIsb29CQUFvb0IsV0FBVyxZQUFZLEVBQUUsNlJBQTZSLG1CQUFtQixJQUFJLGlCQUFpQixtQ0FBbUMsSUFBSSxNQUFNLDJCQUEyQixPQUFPLG9FQUFvRSxzR0FBc0csMERBQTBELGdCQUFnQixvRUFBb0UsSUFBSSxvRUFBb0UsSUFBSSxxRUFBcUUsOEpBQThKLHlKQUF5SixXQUFXLCtGQUErRixRQUFRLGtEQUFrRCx1QkFBdUIsdURBQXVELDZNQUE2TSxRQUFRLDBCQUEwQixHQUFHLEdBQUcsSUFBSSx1QkFBdUIsK1BBQStQLG1DQUFtQywyQ0FBMkMsa0JBQWtCLCtDQUErQyw0RkFBNEYsZ0JBQWdCLGlEQUFpRCxpQkFBaUIsR0FBRyxRQUFRLDZCQUE2QiwrQ0FBK0MsNEdBQTRHLE1BQU0sRUFBRSxVQUFVLEdBQUcsNENBQTRDLHFCQUFxQiw4Q0FBOEMscUJBQXFCLEVBQUUsOENBQThDLGtHQUFrRyxnQkFBZ0IsbUNBQW1DLE1BQU0sRUFBRSxVQUFVLEdBQUcsU0FBUyxnRUFBZ0UsaUJBQWlCLElBQUksK0ZBQStGLGlFQUFpRSxJQUFJLHVDQUF1QyxnQkFBZ0IsR0FBRyxJQUFJLHVCQUF1QixpT0FBaU8sbUNBQW1DLDRDQUE0QyxFQUFFLCtDQUErQyx3RkFBd0YsU0FBUyxpRUFBaUUseUJBQXlCLDRCQUE0QixJQUFJLDJIQUEySCx3Q0FBd0MsOEJBQThCLFNBQVMsNkVBQTZFLHlCQUF5QixZQUFZLFdBQVcsc0JBQXNCLHdEQUF3RCxJQUFJLDRGQUE0RixzQ0FBc0Msa0JBQWtCLCtCQUErQiwyREFBMkQscUJBQXFCLEVBQUUsc0NBQXNDLE1BQU0sbUVBQW1FLHdHQUF3Ryx1Q0FBdUMseUVBQXlFLDJIQUEySCx3REFBd0Qsb0VBQW9FLDhCQUE4QixrQkFBa0IsV0FBVyxRQUFRLHFCQUFxQixFQUFFLCtDQUErQyxtQkFBbUIsR0FBRyxJQUFJLFNBQVMsU0FBUyw2QkFBNkIscURBQXFELG1CQUFtQixtREFBbUQsb0JBQW9CLG1DQUFtQyw2RUFBNkUsMEVBQTBFLCtDQUErQyxvQkFBb0IsaUJBQWlCLFdBQVcsUUFBUSxxQkFBcUIsRUFBRSxTQUFTLCtFQUErRSx3QkFBd0IsUUFBUSxNQUFNLElBQUksdUJBQXVCLHVFQUF1RSxJQUFJLHNHQUFzRyw2RUFBNkUsdUxBQXVMLFVBQVUsTUFBTSxpRUFBaUUsRUFBRSw2R0FBNkcsaUZBQWlGLGdDQUFnQyx3Q0FBd0Msb0JBQW9CLEdBQUcsU0FBUyxxRUFBcUUsd0JBQXdCLFFBQVEsU0FBUyx1QkFBdUIsSUFBSSxnSEFBZ0gsSUFBSSx3QkFBd0IsOEJBQThCLE1BQU0sb0ZBQW9GLGlDQUFpQyxtQkFBbUIsRUFBRSxzRkFBc0YsMERBQTBELG9CQUFvQix5R0FBeUcsaUhBQWlILCtEQUErRCx5RkFBeUYsUUFBUSxnREFBZ0QsU0FBUyxpRUFBaUUseUJBQXlCLDJCQUEyQixJQUFJLGdIQUFnSCxJQUFJLHdCQUF3Qiw4QkFBOEIsTUFBTSxvRkFBb0YsaUNBQWlDLG1CQUFtQixFQUFFLHNGQUFzRiwwREFBMEQsb0JBQW9CLHlHQUF5RyxrSEFBa0gsU0FBUyxpRUFBaUUseUJBQXlCLHVCQUF1QixJQUFJLHlHQUF5Ryw4QkFBOEIsMEZBQTBGLGlDQUFpQyxtQkFBbUIsRUFBRSwrQ0FBK0MsaUVBQWlFLFNBQVMsdUVBQXVFLHlCQUF5QixvQkFBb0IsSUFBSSxvWkFBb1osa0NBQWtDLDZDQUE2QyxjQUFjLEVBQUUseUZBQXlGLElBQUksZ0JBQWdCLFdBQVcsdUhBQXVILHlHQUF5RyxnR0FBZ0csbURBQW1ELDJDQUEyQyxFQUFFLCtDQUErQyw4RUFBOEUsSUFBSSxnQkFBZ0IsV0FBVywwREFBMEQsaUNBQWlDLDRDQUE0QyxtQkFBbUIsU0FBUyx1RUFBdUUseUJBQXlCLFFBQVEsTUFBTSxnUkFBZ1IsV0FBVyxtQ0FBbUMseUJBQXlCLDJDQUEyQywrQkFBK0IsSUFBSSwrR0FBK0cscUZBQXFGLG9DQUFvQywrRkFBK0YsK0NBQStDLG1CQUFtQix5REFBeUQsb0JBQW9CLEdBQUcsU0FBUyxpREFBaUQsZ0NBQWdDLGlFQUFpRSw2SEFBNkgsZ0NBQWdDLHdDQUF3Qyx3QkFBd0IsK0RBQStELHFEQUFxRCxpQ0FBaUMseUNBQXlDLDBLQUEwSyxtQ0FBbUMsaUJBQWlCLDhCQUE4QixRQUFRLGNBQWMsT0FBTyxFQUFFLHVFQUF1RSxpQkFBaUIsT0FBTyxFQUFFLHVFQUF1RSxHQUFHLG1EQUFtRCxlQUFlLG9EQUFvRCxRQUFRLDhNQUE4TSxrREFBa0QsTUFBTSw4S0FBOEssMkJBQTJCLG9CQUFvQix1R0FBdUcsZ0JBQWdCLE1BQU0sc0lBQXNJLG9JQUFvSSxHQUFHLGlCQUFpQiw0UUFBNFEsbUNBQW1DLGtFQUFrRSxlQUFlLE1BQU0sOGxCQUE4bEIsNkNBQTZDLDZKQUE2Six5Q0FBeUMsNkZBQTZGLG1GQUFtRiwyQkFBMkIsVUFBVSxpQ0FBaUMsTUFBTSx3RUFBd0UseUJBQXlCLFlBQVksb0pBQW9KLFVBQVUscUpBQXFKLEdBQUcsTUFBTSwwQkFBMEIsZ0pBQWdKLFVBQVUscUpBQXFKLEdBQUcsTUFBTSxvQkFBb0IsZ0pBQWdKLFVBQVUscUpBQXFKLFVBQVUsK0hBQStILElBQUksU0FBUywwQkFBMEIsTUFBTSxzQ0FBc0MsTUFBTSxrR0FBa0csZUFBZSxNQUFNLHVGQUF1RixxQkFBcUIseUJBQXlCLDRCQUE0QixNQUFNLDRFQUE0RSxtRUFBbUUsaUNBQWlDLElBQUksaUJBQWlCLDhCQUE4Qix3SUFBd0kseUNBQXlDLHNDQUFzQyx1RUFBdUUsV0FBVyxLQUFLLDJCQUEyQiwrSkFBK0osb0NBQW9DLE1BQU0sbUpBQW1KLElBQUksK0hBQStILGlJQUFpSSxRQUFRLE1BQU0sNEJBQTRCLDBEQUEwRCxNQUFNLDJEQUEyRCxNQUFNLDRDQUE0QyxxQkFBcUIsTUFBTSxJQUFJLGlEQUFpRCxrQkFBa0IsK0hBQStILHlCQUF5QixNQUFNLHFCQUFxQiwwRUFBMEUseUVBQXlFLHNNQUFzTSw4QkFBOEIsSUFBSSxtRUFBbUUsWUFBWSxXQUFXLEtBQUssa0JBQWtCLDRGQUE0RixNQUFNLDhFQUE4RSx3QkFBd0Isa0JBQWtCLHlCQUF5QiwrREFBK0QsdUNBQXVDLGNBQWMsa0JBQWtCLDBDQUEwQyxNQUFNLGtFQUFrRSwyQ0FBMkMsTUFBTSxrRUFBa0UsMENBQTBDLE1BQU0saUVBQWlFLGdEQUFnRCxNQUFNLHFFQUFxRSwwREFBMEQsTUFBTSwrRUFBK0UsMkRBQTJELE1BQU0sZ0ZBQWdGLGlEQUFpRCxNQUFNLDBFQUEwRSxvQkFBb0IsdVZBQXVWLG9DQUFvQyxtQ0FBbUMsV0FBVyxLQUFLLGNBQWMsa0JBQWtCLHNWQUFzVixRQUFRLElBQUksc0RBQXNELGNBQWMsOERBQThELEVBQUUsb0NBQW9DLEVBQUUsK0JBQStCLG9EQUFvRCxtQ0FBbUMsMENBQTBDLFdBQVcsS0FBSyxXQUFXLDRDQUE0QyxlQUFlLElBQUksc0RBQXNELGNBQWMsb0ZBQW9GLEVBQUUsNEdBQTRHLEVBQUUsK0JBQStCLG9EQUFvRCxrQkFBa0IsY0FBYyw2V0FBNlcsd0JBQXdCO0FBQy85K0Isc0JBQXNCLGdFQUFnRSxRQUFRLG1CQUFtQixJQUFJLHFHQUFxRyxvRkFBb0YsMkZBQTJGLFVBQVUsd0JBQXdCLEVBQUUsMkdBQTJHLDhFQUE4RSxnQ0FBZ0Msd0NBQXdDLG9CQUFvQixHQUFHLFNBQVMsbUVBQW1FLHlCQUF5QixxQkFBcUIsSUFBSSx1R0FBdUcsb0ZBQW9GLDJGQUEyRixnQkFBZ0Isd0JBQXdCLEVBQUUsNkdBQTZHLGdGQUFnRixnQ0FBZ0Msd0NBQXdDLG9CQUFvQixHQUFHLFNBQVMscUVBQXFFLHlCQUF5Qix5QkFBeUIsUUFBUSxtR0FBbUcsTUFBTSxtSEFBbUgsc0JBQXNCLDhCQUE4QixNQUFNLDhLQUE4Syw0QkFBNEIsc0VBQXNFLHVFQUF1RSx1eENBQXV4QyxtQkFBbUIsV0FBVyxnRkFBZ0YsZ0NBQWdDLGlFQUFpRSxJQUFJLDhDQUE4QyxJQUFJLHNCQUFzQiw2QkFBNkIsUUFBUSxNQUFNLEdBQUcsaUJBQWlCLHlFQUF5RSwyT0FBMk8sMEJBQTBCLGdEQUFnRCwwQkFBMEIsMENBQTBDLHlCQUF5QixtRUFBbUUsNEVBQTRFLDJDQUEyQyw0Q0FBNEMsdURBQXVELGlEQUFpRCw0SkFBNEosd0pBQXdKLDBEQUEwRCxhQUFhLG1CQUFtQixtTUFBbU0sR0FBRyxtQkFBbUIsNkZBQTZGLE9BQU8saUJBQWlCLDJuQkFBMm5CLE9BQU8saUJBQWlCLHFNQUFxTSxPQUFPLGlCQUFpQixtaEJBQW1oQixPQUFPLGlCQUFpQiwyUkFBMlIsT0FBTyxpQkFBaUIseUNBQXlDLE9BQU8saUJBQWlCLCtSQUErUixPQUFPLGlCQUFpQiwyWUFBMlksT0FBTyxpQkFBaUIsbUVBQW1FLE9BQU8saUJBQWlCLDREQUE0RCxPQUFPLGNBQWMsbUJBQW1CLCtEQUErRCxlQUFlLE9BQU8saUNBQWlDLDZEQUE2RCxhQUFhLDJEQUEyRCw2RkFBNkYsTUFBTSwrQkFBK0IsU0FBUyxlQUFlLFFBQVEsVUFBVSxlQUFlLE1BQU0sY0FBYyxNQUFNLG9CQUFvQixNQUFNLGlCQUFpQixTQUFTLHdCQUF3QixlQUFlLG8xQkFBbzFCLG1CQUFtQix1REFBdUQsUUFBUSw0TkFBNE4sU0FBUyxtQ0FBbUMsb0NBQW9DLGlCQUFpQixrQ0FBa0MsNkVBQTZFLHFCQUFxQixpQ0FBaUMsNEVBQTRFLGtCQUFrQiw0QkFBNEIsa0dBQWtHLHVCQUF1QixvQ0FBb0MsUUFBUSxrREFBa0QsMkhBQTJILGdEQUFnRCxNQUFNLHNCQUFzQixrVEFBa1QseUJBQXlCLDZCQUE2QixnQ0FBZ0MsVUFBVSx1Q0FBdUMsWUFBWSxzQkFBc0IsTUFBTSxZQUFZLHFDQUFxQyxzQkFBc0IsMEJBQTBCLFFBQVEsWUFBWSx3QkFBd0IsNERBQTRELCtCQUErQiwyQkFBMkIsVUFBVSxxQkFBcUIsT0FBTyxnQkFBZ0IsSUFBSSxVQUFVLDJFQUEyRSwwQkFBMEIsc0NBQXNDLGFBQWEsUUFBUSxFQUFFLHlCQUF5QixHQUFHLFNBQVMsaUNBQWlDLDZCQUE2QixVQUFVLHNEQUFzRCxZQUFZLDhDQUE4Qyx3UEFBd1AsOEJBQThCLE1BQU0sNkJBQTZCLE1BQU0sbUNBQW1DLE1BQU0sZ0NBQWdDLFFBQVEsc1VBQXNVLHlDQUF5QyxNQUFNLGlCQUFpQiw0U0FBNFMsU0FBUywrQ0FBK0Msc0NBQXNDLGtCQUFrQixRQUFRLHdHQUF3RyxrRUFBa0UsdUNBQXVDLFNBQVMsME5BQTBOLElBQUksa0JBQWtCLFNBQVMsZ0NBQWdDLHNDQUFzQyxhQUFhLFFBQVEsZUFBZSwyRkFBMkYsc0NBQXNDLE1BQU0sWUFBWSw2U0FBNlMsU0FBUyxrQkFBa0IsTUFBTSxvREFBb0Qsc0NBQXNDLGFBQWEsU0FBUyxvSUFBb0ksNERBQTRELFlBQVksd0NBQXdDLGtCQUFrQixxSUFBcUkseUNBQXlDLE1BQU0sWUFBWSxnTkFBZ04sU0FBUyxzQkFBc0IsR0FBRyxzQkFBc0IsdUJBQXVCLG1DQUFtQyx5Q0FBeUMscUJBQXFCLGNBQWMsWUFBWSxpQ0FBaUMsZ0lBQWdJLE1BQU0sd0NBQXdDLGFBQWEsUUFBUSxFQUFFLGdEQUFnRCwwQ0FBMEMscU5BQXFOLDZDQUE2Qyx3UEFBd1AsY0FBYyxxS0FBcUsseUVBQXlFLHVNQUF1TSxrRkFBa0YsaUJBQWlCLE9BQU8sSUFBSSxzRUFBc0UsSUFBSSxpSkFBaUosd0JBQXdCLHlFQUF5RSw0Q0FBNEMsc0dBQXNHLG1DQUFtQyxnT0FBZ08sb09BQW9PLG1FQUFtRSxTQUFTLGdGQUFnRixnQkFBZ0IsaUNBQWlDLHVDQUF1QyxzQ0FBc0MsYUFBYSxRQUFRLHVDQUF1QyxpQ0FBaUMsR0FBRyxRQUFRLGtHQUFrRyw0Q0FBNEMsc1BBQXNQLGNBQWMsNkRBQTZELFlBQVksd0NBQXdDLGtCQUFrQiw0UEFBNFAsNENBQTRDLG1DQUFtQyxTQUFTLHlDQUF5QyxnQkFBZ0IsK0JBQStCLHFFQUFxRSw0QkFBNEIsdUZBQXVGLDJCQUEyQixnQ0FBZ0MsMkJBQTJCLG1SQUFtUixzREFBc0QsNkRBQTZELG9DQUFvQyxxQ0FBcUMsNkNBQTZDLGdJQUFnSSxpRkFBaUYsa0NBQWtDLHdEQUF3RCxHQUFHLEdBQUcsUUFBUSwwQkFBMEIsNlRBQTZULDBCQUEwQiwrUEFBK1AsMkZBQTJGLFdBQVcsMkVBQTJFLHdEQUF3RCw2RUFBNkUsd0RBQXdELEdBQUcsR0FBRyxRQUFRLHlCQUF5QiwyS0FBMkssaUNBQWlDLDJDQUEyQyx1SEFBdUgsY0FBYywyREFBMkQsb0JBQW9CLDZFQUE2RSwyREFBMkQsOEVBQThFLDZEQUE2RCx1TEFBdUwsdUJBQXVCLHdCQUF3QixTQUFTLFFBQVEsaUNBQWlDLE1BQU0sTUFBTSwrRkFBK0YsUUFBUSxtS0FBbUssNkZBQTZGLDhCQUE4QixJQUFJLDBCQUEwQixNQUFNLFFBQVEsZ0NBQWdDLEVBQUUsTUFBTSw2QkFBNkIsaUVBQWlFLHNCQUFzQixHQUFHLHdDQUF3QyxnQ0FBZ0Msa01BQWtNLFVBQVUsZUFBZSxxRUFBcUUsZUFBZSxxRUFBcUUsaUJBQWlCLHFFQUFxRSxpQkFBaUIscUVBQXFFLG1CQUFtQiwwQkFBMEIsaUJBQWlCLHk1QkFBeTVCLGdCQUFnQiwrREFBK0QsR0FBRyxFQUFFLGlCQUFpQixNQUFNLE1BQU0sVUFBVSxrQ0FBa0MsTUFBTSxpRkFBaUYsTUFBTSxvQ0FBb0MsU0FBUyxlQUFlLFdBQVcsK0lBQStJLCtJQUErSSxpQkFBaUIsTUFBTSxhQUFhLDBDQUEwQyx3Q0FBd0MsaUJBQWlCLHFCQUFxQixpQ0FBaUMsc0NBQXNDLDJCQUEyQix1REFBdUQsc0JBQXNCLFNBQVMsZUFBZSxZQUFZLG1CQUFtQixLQUFLLHlDQUF5Qyx5Q0FBeUMsYUFBYSxvSUFBb0ksaUVBQWlFLEdBQUcsU0FBUyxxUEFBcVAsWUFBWSxtQkFBbUIsYUFBYSxrQkFBa0IsdURBQXVELGlCQUFpQiwweEJBQTB4QixpRkFBaUYsSUFBSSwrS0FBK0ssb0NBQW9DLGdDQUFnQyx3Q0FBd0MsMkZBQTJGLE1BQU0sS0FBSyxJQUFJLFNBQVMsR0FBRyxTQUFTLFFBQVEsNE1BQTRNLGdDQUFnQyxxQ0FBcUMseUVBQXlFLHNDQUFzQywrQkFBK0IsT0FBTyxTQUFTLE1BQU0sUUFBUSxNQUFNLGlEQUFpRCxtRkFBbUYsSUFBSSxpTEFBaUwsc0NBQXNDLGdDQUFnQyxnREFBZ0QsTUFBTSxLQUFLLElBQUksU0FBUyxHQUFHLDJHQUEyRyxzQ0FBc0MsbUJBQW1CLE9BQU8sU0FBUyxNQUFNLFFBQVEsTUFBTSxtREFBbUQsa0ZBQWtGLElBQUksZ0RBQWdELG9GQUFvRixJQUFJLGFBQWEsR0FBRyxvSkFBb0osU0FBUyxNQUFNLFFBQVEsTUFBTSwwREFBMEQsNEZBQTRGLElBQUksZ0RBQWdELG9GQUFvRixJQUFJLGFBQWEsR0FBRyw0REFBNEQsU0FBUyxNQUFNLFFBQVEsTUFBTSwrQ0FBK0MsTUFBTSxtTkFBbU4sSUFBSSxNQUFNLHdEQUF3RCxNQUFNLFFBQVEsSUFBSSxhQUFhLEVBQUUseUZBQXlGLGdKQUFnSixtREFBbUQsTUFBTSxrQ0FBa0MseUhBQXlILHlDQUF5QyxJQUFJLEtBQUssU0FBUyxNQUFNLFFBQVEsTUFBTSxnQ0FBZ0Msd0NBQXdDLGtEQUFrRCx3Q0FBd0Msa0RBQWtELDRYQUE0WCxzREFBc0QsaUhBQWlILEdBQUcsNkJBQTZCLDhCQUE4Qiw2RUFBNkUsaUJBQWlCLGtFQUFrRSxvQkFBb0IsTUFBTSxJQUFJLE1BQU0sNlZBQTZWLDZDQUE2QyxRQUFRLDBFQUEwRSxnWUFBZ1ksNENBQTRDLFFBQVEsMEVBQTBFLFFBQVEsU0FBUyxvQkFBb0IsZ0lBQWdJLGtNQUFrTSw4QkFBOEIsd0JBQXdCLDZIQUE2SCxpREFBaUQsTUFBTSw2SEFBNkgsa0RBQWtELGVBQWUsV0FBVyxzQkFBc0IsNERBQTRELElBQUksOENBQThDLDhCQUE4Qix3REFBd0QsaUVBQWlFLGtGQUFrRix5Q0FBeUMsNkRBQTZELGNBQWMsSUFBSSxlQUFlLGdCQUFnQix5RUFBeUUsNEJBQTRCLCtDQUErQyxJQUFJLFFBQVEsR0FBRyxTQUFTLHVHQUF1RyxJQUFJLFNBQVMsU0FBUyxxREFBcUQsSUFBSSxRQUFRLEdBQUcsb0VBQW9FLGdDQUFnQyxpQ0FBaUMsSUFBSSxPQUFPLEdBQUcsbUNBQW1DLG9GQUFvRixJQUFJLGVBQWUsZ0JBQWdCLGdGQUFnRiw4QkFBOEIsUUFBUSxNQUFNLElBQUksbUJBQW1CLHlMQUF5TCwwQ0FBMEMsdUJBQXVCLHdDQUF3QyxzQkFBc0IsNENBQTRDLG1EQUFtRCxNQUFNLEtBQUssSUFBSSxTQUFTLHFFQUFxRSxPQUFPLFFBQVEsSUFBSSxRQUFRLGdCQUFnQixpQkFBaUIsU0FBUyx5Q0FBeUMseUxBQXlMLGNBQWMseUNBQXlDLDZDQUE2QyxHQUFHLHlCQUF5QixvQ0FBb0Msa0hBQWtILFdBQVcsY0FBYyxxREFBcUQsT0FBTyxnQkFBZ0IsT0FBTyw2QkFBNkIsMkNBQTJDLDRCQUE0QixrQ0FBa0MsNEJBQTRCLG9DQUFvQyxJQUFJLDJEQUEyRCxLQUFLLE9BQU8sd0JBQXdCLGdKQUFnSixvQkFBb0Isc0JBQXNCLDJFQUEyRSxJQUFJLGtCQUFrQixtUkFBbVIsMkJBQTJCLDZFQUE2RSx5QkFBeUIsTUFBTSwwSEFBMEgscUVBQXFFLElBQUksNEJBQTRCLHVDQUF1QyxTQUFTLG1CQUFtQixtc0JBQW1zQixnQ0FBZ0MsK0tBQStLLDZDQUE2QyxJQUFJLGNBQWMsR0FBRyw0QkFBNEIsRUFBRSxzRkFBc0YsNkJBQTZCLDBIQUEwSCwwQ0FBMEMsU0FBUyxvQkFBb0IseUJBQXlCLDBDQUEwQyxJQUFJLGNBQWMsR0FBRyxxREFBcUQsRUFBRSxpQkFBaUIsMENBQTBDLHNDQUFzQyx3Q0FBd0MsSUFBSSxPQUFPLEdBQUcsTUFBTSx1RkFBdUYscUJBQXFCLE1BQU0sMEVBQTBFLDhCQUE4Qiw2Q0FBNkMsaUVBQWlFLE1BQU0sS0FBSyxJQUFJLFNBQVMsd0pBQXdKLE9BQU8sT0FBTyxJQUFJLFFBQVEsK1BBQStQLHFCQUFxQixNQUFNLDRIQUE0SCxnQkFBZ0IsTUFBTSxPQUFPLElBQUksb0NBQW9DLElBQUksMkJBQTJCLHFDQUFxQyx1SEFBdUgsK0RBQStELFVBQVUsOEJBQThCLGtGQUFrRixHQUFHLEVBQUUsNkRBQTZELEtBQUssT0FBTywwQkFBMEIsc0pBQXNKLHFCQUFxQiw4QkFBOEIsdUJBQXVCLHdFQUF3RSw2QkFBNkIsOEVBQThFLHlCQUF5QiwwRUFBMEUsK0JBQStCLGdGQUFnRixzQkFBc0IsK0JBQStCLGdDQUFnQyw4SEFBOEgsOEpBQThKLDRDQUE0QyxrRUFBa0Usd0JBQXdCLG9DQUFvQyw4QkFBOEIsK0JBQStCLGdDQUFnQyxnSUFBZ0ksa0pBQWtKLGdCQUFnQixnREFBZ0QsMkJBQTJCLGNBQWMsMkRBQTJELFNBQVMsNkJBQTZCLGFBQWEsU0FBUyxzQ0FBc0MsVUFBVSxNQUFNLFFBQVEsSUFBSSxTQUFTLHNCQUFzQiwyREFBMkQsU0FBUyxzQ0FBc0MsVUFBVSxNQUFNLFFBQVEsSUFBSSxTQUFTLEVBQUUsOEJBQThCLE1BQU0sMklBQTJJLGdDQUFnQywrU0FBK1MsR0FBRyxNQUFNLE1BQU0sVUFBVSxnSkFBZ0osZ0NBQWdDLDZSQUE2UixJQUFJLDhCQUE4Qiw0Q0FBNEMscUNBQXFDLDZNQUE2TSxHQUFHLFFBQVEsK3VCQUErdUIsZ0RBQWdELDJCQUEyQiwrQkFBK0IsY0FBYyw4QkFBOEIsdUJBQXVCLEdBQUcsaUJBQWlCLG9WQUFvVixZQUFZLFFBQVEsdUlBQXVJLHlCQUF5QixNQUFNLDBGQUEwRixzQkFBc0IsZ0RBQWdELHFDQUFxQyxvQkFBb0IsZ0RBQWdELGFBQWEsMkRBQTJELG9CQUFvQixnQ0FBZ0Msd0ZBQXdGLGlCQUFpQixpQ0FBaUMsZ0JBQWdCLGlDQUFpQyxvQkFBb0IsdUNBQXVDLGdDQUFnQywyQkFBMkIsa0NBQWtDLHVDQUF1QyxnQ0FBZ0MsMkJBQTJCLGtCQUFrQixNQUFNLHNFQUFzRSxVQUFVLDhGQUE4RixJQUFJLGlCQUFpQix1REFBdUQsU0FBUyxRQUFRLGtGQUFrRiw4Q0FBOEMsa0JBQWtCLHNFQUFzRSwyQ0FBMkMsK0JBQStCLG9SQUFvUixTQUFTLE1BQU0seU1BQXlNLHFTQUFxUyxNQUFNLE9BQU8sUUFBUSxJQUFJLFVBQVUscUdBQXFHLE1BQU0sMklBQTJJLDRCQUE0QiwrTEFBK0wsV0FBVyxzQ0FBc0MsaUNBQWlDLDJDQUEyQyxpV0FBaVcsMkJBQTJCLHVDQUF1QyxJQUFJLGNBQWMsR0FBRyxzREFBc0QsVUFBVSwyQkFBMkIsZ0VBQWdFLGNBQWMsR0FBRyxzQkFBc0IsUUFBUSxxQkFBcUIsMklBQTJJLGlGQUFpRixNQUFNLDJJQUEySSxpRkFBaUYsSUFBSSxNQUFNLDRCQUE0Qiw4QkFBOEIsMkJBQTJCLE1BQU0sNkNBQTZDLHlDQUF5QyxFQUFFLDZDQUE2QyxRQUFRLE1BQU0sMEJBQTBCLGlDQUFpQyxvSkFBb0osTUFBTSw2RUFBNkUseUJBQXlCLE1BQU0sNkVBQTZFLEVBQUUsbUJBQW1CLDRNQUE0TSxnRUFBZ0UsNERBQTRELFNBQVMsd0JBQXdCLCtDQUErQyxTQUFTLDRCQUE0QixpQ0FBaUMseUNBQXlDLDREQUE0RCwyR0FBMkcsNEJBQTRCLHNJQUFzSSwyRUFBMkUsb0VBQW9FLHdCQUF3QixxQkFBcUIsa0NBQWtDLEVBQUUsaUNBQWlDLHNDQUFzQyx1Q0FBdUMsY0FBYyxnQkFBZ0Isa0lBQWtJLCtCQUErQixZQUFZLGlDQUFpQyxRQUFRLGtDQUFrQyxHQUFHLG9CQUFvQixnREFBZ0QsTUFBTSx5TEFBeUwsb0lBQW9JLCtEQUErRCxXQUFXLGlCQUFpQixJQUFJLE9BQU8sR0FBRyw2QkFBNkIsRUFBRSx5TEFBeUwsb0lBQW9JLDBCQUEwQixNQUFNLDBFQUEwRSwrQkFBK0IsRUFBRSxNQUFNLGFBQWEsMkJBQTJCLCtCQUErQixHQUFHLFFBQVEsU0FBUywrQkFBK0IsK0JBQStCLHVDQUF1QyxnQkFBZ0Isb0JBQW9CLGdEQUFnRCxlQUFlLHFNQUFxTSxvQkFBb0IsZ0RBQWdELGVBQWUsOEJBQThCLG1EQUFtRCxzQ0FBc0MsU0FBUyx3QkFBd0IsY0FBYyxJQUFJLGVBQWUsR0FBRyxVQUFVLG9pQkFBb2lCLE1BQU0seURBQXlELDRCQUE0QixHQUFHLCtCQUErQix3Q0FBd0MsaVRBQWlULG9YQUFvWCwwQkFBMEIsdURBQXVELE9BQU8sUUFBUSxJQUFJLFFBQVEsZ0JBQWdCLGlCQUFpQixJQUFJLGVBQWUsR0FBRyxVQUFVLG9lQUFvZSxNQUFNLDJEQUEyRCw0QkFBNEIsR0FBRywrQkFBK0Isd0NBQXdDLHlRQUF5USxpVUFBaVUsMkJBQTJCLCtDQUErQyxzQ0FBc0MsaURBQWlELHNDQUFzQyxHQUFHLDJCQUEyQixzQ0FBc0MsNkJBQTZCLHFEQUFxRCxXQUFXLHlIQUF5SCxHQUFHLGlDQUFpQyxxQkFBcUIsTUFBTSxPQUFPLGVBQWUsR0FBRyxVQUFVLGtDQUFrQyxNQUFNLGlGQUFpRixNQUFNLG9DQUFvQyxRQUFRLHVIQUF1SCxFQUFFLGlDQUFpQyxpQkFBaUIsTUFBTSxVQUFVLHFCQUFxQixJQUFJLFVBQVUsaUZBQWlGLE1BQU0sa0NBQWtDLE1BQU0sb0NBQW9DLFFBQVEsNkJBQTZCLEVBQUUsdUJBQXVCLGtCQUFrQixJQUFJLGVBQWUsR0FBRywwQkFBMEIsd0NBQXdDLEdBQUcsR0FBRyx1QkFBdUIsY0FBYyxTQUFTLDhCQUE4QixHQUFHLHdCQUF3QixvQ0FBb0MsTUFBTSw4ZkFBOGYsa0NBQWtDLDBRQUEwUSx3REFBd0Qsd0RBQXdELGlDQUFpQywySUFBMkksa0NBQWtDLDRJQUE0SSw0QkFBNEIsc0lBQXNJLDJCQUEyQixNQUFNLDZFQUE2RSxNQUFNLGlPQUFpTywrSEFBK0gsSUFBSSw0QkFBNEIsTUFBTSw2RUFBNkUsNEZBQTRGLCtIQUErSCxHQUFHLGlDQUFpQywwQ0FBMEMsNEJBQTRCLE1BQU0sNkVBQTZFLDRGQUE0RiwrSEFBK0gsR0FBRywyQ0FBMkMsNERBQTRELGlSQUFpUiw0Q0FBNEMseU1BQXlNLGtDQUFrQyx1REFBdUQsd0JBQXdCLDZCQUE2QixrQ0FBa0MsS0FBSywwQkFBMEIsa2JBQWtiLDBCQUEwQiwrREFBK0Qsa05BQWtOLHVCQUF1QixJQUFJLHlCQUF5QixTQUFTLGdEQUFnRCxnREFBZ0Qsb0dBQW9HLHdEQUF3RCxNQUFNLFFBQVEsSUFBSSxhQUFhLEVBQUUsNENBQTRDLG1EQUFtRCxxQ0FBcUMsU0FBUywyQkFBMkIscURBQXFELG9HQUFvRyx3REFBd0QsTUFBTSxRQUFRLElBQUksYUFBYSxFQUFFLGtDQUFrQyxVQUFVLG1EQUFtRCxxQ0FBcUMsZUFBZSxTQUFTLHFCQUFxQixpQkFBaUIsTUFBTSxVQUFVLHFCQUFxQixJQUFJLFVBQVUsa0NBQWtDLE1BQU0saUZBQWlGLE1BQU0sb0NBQW9DLFFBQVEsNkJBQTZCLEVBQUUsdUJBQXVCLGlCQUFpQixNQUFNLFVBQVUscUJBQXFCLElBQUksVUFBVSxrQ0FBa0MsTUFBTSxpRkFBaUYsTUFBTSxvQ0FBb0MsUUFBUSw2QkFBNkIsRUFBRSxrQ0FBa0MscUNBQXFDLGVBQWUsTUFBTSxlQUFlLGVBQWUsV0FBVyxZQUFZLElBQUkseUNBQXlDLFdBQVcsV0FBVyxZQUFZLElBQUksRUFBRSxTQUFTLDRCQUE0QixTQUFTLHFCQUFxQixPQUFPLFlBQVksSUFBSSxVQUFVLCtDQUErQyx3Q0FBd0MsR0FBRywrQ0FBK0Msd0NBQXdDLElBQUksSUFBSSx3QkFBd0IsY0FBYyxPQUFPLE9BQU8sZ0NBQWdDLG1GQUFtRixHQUFHLDRCQUE0QiwrRkFBK0Ysa0dBQWtHLG1GQUFtRixHQUFHLG9CQUFvQiw2Q0FBNkMsd0ZBQXdGLHdDQUF3QyxVQUFVLDBCQUEwQixZQUFZLFdBQVcsMEJBQTBCLHlDQUF5Qyx5QkFBeUIsa0NBQWtDLG9EQUFvRCwwQkFBMEIsaUpBQWlKLE1BQU0sUUFBUSxJQUFJLFdBQVcsZ0lBQWdJLE1BQU0sa0ZBQWtGLGtOQUFrTiw0QkFBNEIsK0tBQStLLHlCQUF5Qiw4RkFBOEYsc0JBQXNCLHNCQUFzQixtR0FBbUcsNEJBQTRCLDhGQUE4Riw0UkFBNFIsZ0JBQWdCLDBIQUEwSCxrV0FBa1csc0JBQXNCLHVGQUF1RixFQUFFLDZDQUE2QyxPQUFPLHdDQUF3Qyw0Q0FBNEMsS0FBSyw4QkFBOEIsSUFBSSxFQUFFLGdFQUFnRSxtQkFBbUIsdUNBQXVDLDBDQUEwQywrREFBK0QsV0FBVyxJQUFJLG1CQUFtQiwwREFBMEQsc0NBQXNDLE1BQU0sNkVBQTZFLE1BQU0sOEVBQThFLHNGQUFzRiwyRkFBMkYsK2JBQStiLElBQUksb0NBQW9DLGtDQUFrQyxnQ0FBZ0MsZ0JBQWdCLGVBQWUsZ0JBQWdCLGlEQUFpRCx5QkFBeUIsa0JBQWtCLFVBQVUsNEJBQTRCLDZCQUE2Qiw4QkFBOEIsNkJBQTZCLGdDQUFnQyw2QkFBNkIsa0NBQWtDLDZCQUE2QixpQ0FBaUMsNkJBQTZCLGlDQUFpQyw2QkFBNkIsb0JBQW9CLDZCQUE2QixxQkFBcUIsNkJBQTZCLHFCQUFxQiw2QkFBNkIsc0NBQXNDLDZCQUE2Qix1QkFBdUIsa0ZBQWtGLE9BQU8sUUFBUSxJQUFJLHdHQUF3RyxJQUFJLG12Q0FBbXZDLGVBQWUsdUJBQXVCLFdBQVcsZ0ZBQWdGLGdDQUFnQyw4Q0FBOEMsSUFBSSxzQkFBc0IsVUFBVSxtQkFBbUIsK0RBQStELElBQUksNkJBQTZCLFFBQVEsTUFBTSxzQkFBc0IsK0RBQStELElBQUksNkJBQTZCLFFBQVEsTUFBTSxTQUFTLDBIQUEwSCxJQUFJLDZCQUE2QixRQUFRLFlBQVksSUFBSSxpQkFBaUIscUJBQXFCLGlDQUFpQyxzQ0FBc0MsMkJBQTJCLHVEQUF1RCxzQkFBc0IsU0FBUyxlQUFlLFlBQVksbUJBQW1CLEtBQUsseUNBQXlDLHlDQUF5QyxhQUFhLG9JQUFvSSxpRUFBaUUsR0FBRyxTQUFTLGVBQWUsZUFBZSx5YkFBeWIsbUdBQW1HLDJGQUEyRixxREFBcUQsR0FBRyxtQkFBbUIsK0ZBQStGLGtCQUFrQiw0R0FBNEcsUUFBUSxnSUFBZ0ksMEJBQTBCLG9EQUFvRCxLQUFLLDBCQUEwQixvREFBb0QsS0FBSyw0QkFBNEIsY0FBYywrQkFBK0IsMkRBQTJELGtGQUFrRixNQUFNLE1BQU0sTUFBTSx5RUFBeUUsa0JBQWtCLHdEQUF3RCxPQUFPLGFBQWEsSUFBSSxrQkFBa0IsRUFBRSxTQUFTLGdDQUFnQyxTQUFTLE1BQU0sTUFBTSwyRUFBMkUsYUFBYSx3REFBd0QsT0FBTyxlQUFlLElBQUksYUFBYSxFQUFFLFNBQVMsNEJBQTRCLGNBQWMsK0JBQStCLDJEQUEyRCxrRkFBa0YsTUFBTSxNQUFNLE1BQU0seUVBQXlFLGtCQUFrQix3REFBd0QsT0FBTyxhQUFhLElBQUksa0JBQWtCLEVBQUUsU0FBUyxjQUFjLDZEQUE2RCxxQ0FBcUMsNkNBQTZDLHFDQUFxQyxnREFBZ0Qsa0VBQWtFLElBQUksMEJBQTBCLEdBQUcsdUZBQXVGLEVBQUUsUUFBUSxvRUFBb0UsdU1BQXVNLGlCQUFpQiwrQkFBK0Isb0JBQW9CLHFEQUFxRCxrQkFBa0IseUJBQXlCLEdBQUcscUJBQXFCLHVEQUF1RCxpQkFBaUIsbUJBQW1CLHNCQUFzQixpS0FBaUssTUFBTSwrUEFBK1AscUxBQXFMLHVCQUF1QixxQkFBcUIsNkpBQTZKLGtDQUFrQyxnQkFBZ0IsMkdBQTJHLGFBQWEsOEJBQThCLDBCQUEwQixzQkFBc0IseUZBQXlGLG9CQUFvQixrREFBa0QsV0FBVyxVQUFVLGtEQUFrRCxlQUFlLHlDQUF5QyxNQUFNLHVEQUF1RCxNQUFNLG9FQUFvRSwrcENBQStwQyxpRkFBaUYsTUFBTSxvTUFBb00sMERBQTBELDRFQUE0RSxNQUFNLHdCQUF3QixlQUFlLHlDQUF5QyxNQUFNLHVEQUF1RCxNQUFNLGdMQUFnTCxNQUFNLDhCQUE4Qiw0Q0FBNEMsb0xBQW9MLGtNQUFrTSxRQUFRLEdBQUcscUJBQXFCLG1EQUFtRCxRQUFRLE9BQU8seUNBQXlDLHVCQUF1QixZQUFZLFlBQVksTUFBTSxrREFBa0QsdUJBQXVCLDhDQUE4QyxrTkFBa04sbXVCQUFtdUIsZzlCQUFnOUIsc0NBQXNDLDJHQUEyRyw2UkFBNlIsd0RBQXdELHVHQUF1RyxJQUFJLFVBQVUsY0FBYyw4RUFBOEUscUJBQXFCLGtDQUFrQyxzQkFBc0IsdURBQXVELHlCQUF5Qiw0Q0FBNEMseUJBQXlCLGdDQUFnQywwQkFBMEIsb0NBQW9DLGVBQWUsNkhBQTZILCtEQUErRCx1RkFBdUYsZ0dBQWdHLGVBQWUsUUFBUSxNQUFNLGdCQUFnQixhQUFhLDBDQUEwQyxZQUFZLE1BQU0sbURBQW1ELFlBQVksb0JBQW9CLDhCQUE4QixrREFBa0Qsa0JBQWtCLG9CQUFvQixxREFBcUQsZ0NBQWdDLElBQUksY0FBYyxpQkFBaUIscUJBQXFCLGlDQUFpQyxzQ0FBc0MsMkJBQTJCLHVEQUF1RCxzQkFBc0IsU0FBUyxlQUFlLFlBQVksbUJBQW1CLEtBQUsseUNBQXlDLHlDQUF5QyxhQUFhLG9JQUFvSSxpRUFBaUUsR0FBRyxTQUFTLE9BQU8saUJBQWlCLHFCQUFxQixpQ0FBaUMsc0NBQXNDLDJCQUEyQix1REFBdUQsc0JBQXNCLFNBQVMsZUFBZSxZQUFZLG1CQUFtQixLQUFLLHlDQUF5Qyx5Q0FBeUMsYUFBYSxvSUFBb0ksaUVBQWlFLEdBQUcsU0FBUywrQkFBK0IsMEJBQTBCLDJDQUEyQyx5QkFBeUIsOENBQThDLDhCQUE4QixtREFBbUQsK0JBQStCLG9EQUFvRCxrQkFBa0IsbUpBQW1KLE1BQU0sc0NBQXNDLElBQUksaUJBQWlCLHViQUF1YixXQUFXLFlBQVksRUFBRSxxTkFBcU4sa0JBQWtCLElBQUksNkNBQTZDLDhDQUE4QyxFQUFFLGtHQUFrRyw0QkFBNEIsMkhBQTJILEVBQUUsNERBQTRELE1BQU0sRUFBRSxpQkFBaUIsTUFBTSxvRUFBb0UsT0FBTyxvRUFBb0UsWUFBWSxnQkFBZ0IsRUFBRSxTQUFTLGdFQUFnRSw2QkFBNkIsaUJBQWlCLElBQUksK0ZBQStGLHlCQUF5QixlQUFlLG1SQUFtUixJQUFJLCtHQUErRztBQUM3am5GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHVJQUF1SSxZQUFZLDZCQUE2QixLQUFLLDZCQUE2QixzTEFBc0wsOERBQThELCtCQUErQixRQUFRLDBGQUEwRixFQUFFLGdHQUFnRyxzTkFBc04sc0VBQXNFLFdBQVcsa0NBQWtDLFlBQVksSUFBSSxxQkFBcUIsc0xBQXNMLGtIQUFrSCxnQkFBZ0IsYUFBYSxpQkFBaUIsSUFBSSxpQkFBaUIsR0FBRyw2QkFBNkIsRUFBRSxlQUFlLCtDQUErQyxtQkFBbUIsK0JBQStCLHlEQUF5RCxzQ0FBc0MsTUFBTSx5REFBeUQsa0RBQWtELEdBQUcsUUFBUSx1RUFBdUUsa0hBQWtILG1DQUFtQyxVQUFVLHVFQUF1RSxvSEFBb0gsbUNBQW1DLGVBQWUsa0JBQWtCLHlLQUF5Syx5Q0FBeUMsR0FBRyxrQkFBa0Isb0JBQW9CLHVDQUF1QyxpSkFBaUosTUFBTSxFQUFFLHFHQUFxRyxJQUFJLGlFQUFpRSx5RkFBeUYsY0FBYyw0RUFBNEUsK0RBQStELEdBQUcsd0JBQXdCLFNBQVMsWUFBWSxJQUFJLG9EQUFvRCxTQUFTLHVCQUF1QixZQUFZLHlCQUF5QixxQkFBcUIsNEVBQTRFLFdBQVcsc0VBQXNFLDBDQUEwQyxXQUFXLHlCQUF5Qix3QkFBd0Isb0hBQW9ILE1BQU0seURBQXlELE1BQU0scUZBQXFGLGlCQUFpQixZQUFZLHlCQUF5QixrSUFBa0ksb0dBQW9HLDREQUE0RCxxQ0FBcUMsR0FBRyxNQUFNLFdBQVcsc0hBQXNILFNBQVMsTUFBTSxFQUFFLDBHQUEwRyxHQUFHLGdDQUFnQyxpSEFBaUgsb0JBQW9CLEdBQUcsU0FBUyxpRUFBaUUseUJBQXlCLHVDQUF1QywrRUFBK0UsZ0JBQWdCLFVBQVUsV0FBVyxzQkFBc0IsK0JBQStCLElBQUksNEZBQTRGLHdJQUF3SSxtRkFBbUYsb0VBQW9FLHVCQUF1QixxRkFBcUYsd0VBQXdFLGtCQUFrQixxREFBcUQsV0FBVyw4Q0FBOEMsSUFBSSxtQkFBbUIsRUFBRSxTQUFTLG1CQUFtQixFQUFFLGtCQUFrQixJQUFJLElBQUksV0FBVyxTQUFTLG9CQUFvQiw0REFBNEQsSUFBSSxrQ0FBa0MsMkJBQTJCLDZCQUE2QixzREFBc0QsbUJBQW1CLHVGQUF1RixvQkFBb0IsaUJBQWlCLDZCQUE2QixRQUFRLHFCQUFxQixFQUFFLFNBQVMsOERBQThELHdCQUF3QixRQUFRLE1BQU0sSUFBSSxxQkFBcUIsSUFBSSxzR0FBc0csa0RBQWtELE1BQU0sd0VBQXdFLEVBQUUseUlBQXlJLFVBQVUsK0RBQStELEVBQUUsOENBQThDLGlGQUFpRixnQ0FBZ0MsZ0RBQWdELG9CQUFvQixHQUFHLFNBQVMscUVBQXFFLHlCQUF5Qix1QkFBdUIsSUFBSSxnSEFBZ0gsSUFBSSxlQUFlLDRDQUE0QyxzQkFBc0Isc0RBQXNELFlBQVksV0FBVywyRkFBMkYsTUFBTSxrQ0FBa0MsOEpBQThKLDZHQUE2RyxpREFBaUQsOEJBQThCLGdEQUFnRCxtQkFBbUIsRUFBRSwrQ0FBK0MseURBQXlELG9CQUFvQixTQUFTLGlFQUFpRSx5QkFBeUIsdUJBQXVCLElBQUkseUdBQXlHLDhCQUE4QixnQ0FBZ0MsZ0RBQWdELG1CQUFtQixFQUFFLCtDQUErQyxrREFBa0QsU0FBUyx1RUFBdUUseUJBQXlCLHFCQUFxQix1QkFBdUIsbUJBQW1CLElBQUkscUdBQXFHLGtEQUFrRCxNQUFNLHdFQUF3RSxFQUFFLHFGQUFxRixVQUFVLG9DQUFvQyxNQUFNLHdCQUF3Qix5REFBeUQsR0FBRyxTQUFTLG1FQUFtRSx5QkFBeUIscUJBQXFCLElBQUksdUdBQXVHLGtEQUFrRCxNQUFNLHdFQUF3RSxFQUFFLHNGQUFzRixnQkFBZ0Isb0NBQW9DLE1BQU0sd0JBQXdCLCtEQUErRCxFQUFFLDhDQUE4QyxpREFBaUQsZ0NBQWdDLGdEQUFnRCxvQkFBb0IsR0FBRyxTQUFTLHFFQUFxRSx5QkFBeUIsY0FBYyxXQUFXLHNCQUFzQiw4REFBOEQsSUFBSSwrRUFBK0UsbUNBQW1DLHVFQUF1RSxtT0FBbU8sNEJBQTRCLDhDQUE4Qyw2Q0FBNkMsY0FBYyxHQUFHLHlGQUF5RixpQkFBaUIsc0JBQXNCLHVCQUF1QiwwQkFBMEIsNkJBQTZCLGtHQUFrRyxvQkFBb0IsSUFBSSxTQUFTLG1GQUFtRixRQUFRLE1BQU0sSUFBSSxRQUFRLE1BQU0sNE1BQTRNLFdBQVcsbUNBQW1DLHlCQUF5QiwyQ0FBMkMsK0JBQStCLElBQUksK0dBQStHLGlGQUFpRiwyREFBMkQsZ0NBQWdDLCtDQUErQyxtQkFBbUIsa0RBQWtELG9CQUFvQixHQUFHLFNBQVMsaURBQWlELGdDQUFnQyxrREFBa0QsTUFBTSx3REFBd0QsRUFBRSxvREFBb0QsZ0NBQWdDLHdDQUF3Qyx3QkFBd0IsZ0RBQWdELE1BQU0sd0RBQXdELEVBQUUsOENBQThDLHdCQUF3QiwrRUFBK0Usb0JBQW9CLDZFQUE2RSxlQUFlLG9EQUFvRCxNQUFNLDZHQUE2RyxrREFBa0QsTUFBTSx1R0FBdUcsd0NBQXdDLCtPQUErTyxpQkFBaUIsbU5BQW1OLDBCQUEwQixpQkFBaUIsNFFBQTRRLGlDQUFpQyxPQUFPLHFDQUFxQyxrZUFBa2UsNkNBQTZDLE1BQU0sdUNBQXVDLFNBQVMscUJBQXFCLDhCQUE4QixpSkFBaUosc0JBQXNCLGdKQUFnSixxQkFBcUIsZ0pBQWdKLElBQUksSUFBSSxvQ0FBb0MsTUFBTSxtREFBbUQsTUFBTSw2RUFBNkUsb0VBQW9FLElBQUksc0dBQXNHLFFBQVEsTUFBTSwrQ0FBK0MsMERBQTBELE1BQU0sMkRBQTJELE1BQU0sNENBQTRDLHlCQUF5QixNQUFNLHFCQUFxQiwwRUFBMEUseUVBQXlFLDBLQUEwSyw4QkFBOEIsSUFBSSxtRUFBbUUsWUFBWSxXQUFXLEtBQUssa0JBQWtCLGlEQUFpRCxNQUFNLDhFQUE4RSxzQkFBc0Isa0JBQWtCLHlCQUF5QixtRkFBbUYsWUFBWSxjQUFjLGtCQUFrQiwwQ0FBMEMsTUFBTSxrRUFBa0UsMkNBQTJDLE1BQU0sa0VBQWtFLDBDQUEwQyxNQUFNLGlFQUFpRSxnREFBZ0QsTUFBTSxxRUFBcUUsMERBQTBELE1BQU0sK0VBQStFLDJEQUEyRCxNQUFNLGtGQUFrRixvQkFBb0Isb1NBQW9TLHNCQUFzQixJQUFJLHVHQUF1Ryw4Q0FBOEMsSUFBSSxlQUFlLElBQUksT0FBTyxNQUFNLHFCQUFxQixzQkFBc0Isc0RBQXNELFlBQVksV0FBVyxtRkFBbUYsTUFBTSxrQ0FBa0MsNEpBQTRKLGFBQWEsRUFBRSxvR0FBb0csbUJBQW1CLEdBQUcsaURBQWlELEVBQUUsOEJBQThCLGdEQUFnRCxtQkFBbUIsRUFBRSwrQ0FBK0MsdUVBQXVFLFNBQVMsaUVBQWlFLHlCQUF5Qix1QkFBdUIsMEJBQTBCLGdDQUFnQyxxQkFBcUIsb0JBQW9CLG1DQUFtQyxtQ0FBbUMsMkNBQTJDLDY0Q0FBNjRDLG1CQUFtQixXQUFXLGdGQUFnRixnQ0FBZ0MseUVBQXlFLElBQUksOENBQThDLElBQUksc0JBQXNCLDZCQUE2QixRQUFRLE1BQU0sR0FBRyxpQkFBaUIscUJBQXFCLGlDQUFpQyxzQ0FBc0MsMkJBQTJCLHVEQUF1RCxzQkFBc0IsU0FBUyxlQUFlLFlBQVksbUJBQW1CLEtBQUsseUNBQXlDLHlDQUF5QyxhQUFhLG9JQUFvSSxpRUFBaUUsR0FBRyxTQUFTLDJCQUEyQix3QkFBd0IsbUNBQW1DLHNCQUFzQixpQ0FBaUMsaUJBQWlCLDRCQUE0QixvQkFBb0IsK0JBQStCLHFCQUFxQixnQ0FBZ0MsZUFBZSw0VEFBNFQsSUFBSSxvR0FBb0csR0FBRyxtUUFBbVEsc0JBQXNCLDJJQUEySSxZQUFZLElBQUksS0FBSyx3QkFBd0IscUJBQXFCLE1BQU0sU0FBUyxlQUFlLHFCQUFxQixNQUFNLHlDQUF5QyxjQUFjLHlDQUF5QyxPQUFPLG1IQUFtSCxlQUFlLGdEQUFnRCw0QkFBNEIsd1BBQXdQLDBEQUEwRCxtRkFBbUYsMkNBQTJDLE9BQU8sbUhBQW1ILGVBQWUsZ0RBQWdELDRCQUE0Qix3UEFBd1AsMERBQTBELG1GQUFtRiwyQkFBMkIseUJBQXlCLFdBQVcsa0NBQWtDLGNBQWMsSUFBSSxxQkFBcUIsMEVBQTBFLE1BQU0sdUZBQXVGLG9EQUFvRCwwRUFBMEUseUNBQXlDLFFBQVEsMENBQTBDLDBDQUEwQyx3Q0FBd0MsV0FBVyxrRUFBa0Usa1hBQWtYLDBDQUEwQyxrQkFBa0IsSUFBSSw4QkFBOEIsbUNBQW1DLGdDQUFnQyx3Q0FBd0MsYUFBYSxnQkFBZ0IsSUFBSSwyQkFBMkIsR0FBRyx3QkFBd0IsWUFBWSxxQkFBcUIsSUFBSSx3QkFBd0IsR0FBRyxxQkFBcUIsR0FBRywwQkFBMEIsZUFBZSx1R0FBdUcsbUlBQW1JLGNBQWMscUlBQXFJLDJCQUEyQixRQUFRLHVFQUF1RSxrSEFBa0gsbUNBQW1DLFVBQVUsdUVBQXVFLG9IQUFvSCxtQ0FBbUMsY0FBYyxzRkFBc0Ysa0lBQWtJLGNBQWMsbUNBQW1DLEdBQUcsZ0JBQWdCLHNGQUFzRixrSUFBa0ksY0FBYyxtQ0FBbUMsR0FBRyxpQkFBaUIsa0JBQWtCLHlEQUF5RCwyQkFBMkIsaUJBQWlCLHFGQUFxRixnSUFBZ0ksY0FBYyxvREFBb0QsMkJBQTJCLCtCQUErQjtBQUN2aDFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHdCQUF3Qiw4REFBOEQsa0NBQWtDLHVVQUF1VSw2QkFBNkIsK0JBQStCLFFBQVEsOEZBQThGLHNCQUFzQixtR0FBbUcsNktBQTZLLElBQUkscUJBQXFCLE1BQU0sNENBQTRDLGNBQWMsaURBQWlELGdDQUFnQyw2QkFBNkIsK0JBQStCLFFBQVEsK0ZBQStGLHNCQUFzQixtR0FBbUcsbUxBQW1MLElBQUkscUJBQXFCLE1BQU0sV0FBVyxjQUFjLGtEQUFrRCw2RkFBNkYsb0JBQW9CLHNEQUFzRCxlQUFlLHVCQUF1Qiw0QkFBNEIsc0RBQXNELGNBQWMsK0VBQStFLE1BQU0sRUFBRSxxR0FBcUcsSUFBSSxzQkFBc0IsTUFBTSxTQUFTLGNBQWMsZUFBZSxNQUFNLEVBQUUscUdBQXFHLElBQUksaUNBQWlDLHNCQUFzQix3QkFBd0Isc0RBQXNELGNBQWMsZUFBZSxNQUFNLEVBQUUscUdBQXFHLElBQUksaUNBQWlDLCtFQUErRSxlQUFlLE1BQU0sRUFBRSxxR0FBcUcsSUFBSSx1RkFBdUYseUZBQXlGLGNBQWMsNkVBQTZFLCtEQUErRCxHQUFHLHdCQUF3QixTQUFTLFlBQVksSUFBSSxvREFBb0QsU0FBUyw2QkFBNkIsd0RBQXdELDJKQUEySixTQUFTLE1BQU0sOENBQThDLHlGQUF5RixVQUFVLFNBQVMsRUFBRSw2QkFBNkIsNkZBQTZGLGdDQUFnQyx3QkFBd0IseUNBQXlDLE9BQU8seUZBQXlGLGVBQWUsZ0RBQWdELDRCQUE0QixrU0FBa1MsMERBQTBELHFEQUFxRCxtREFBbUQsZ0NBQWdDLHNDQUFzQyxtS0FBbUssd0JBQXdCLHlDQUF5QyxPQUFPLGlHQUFpRyxlQUFlLGdEQUFnRCw0QkFBNEIsK1JBQStSLDBEQUEwRCx5RUFBeUUsZ0NBQWdDLG1DQUFtQyxNQUFNLG9EQUFvRCx5Q0FBeUMsZ0RBQWdELFNBQVMseUJBQXlCLDhIQUE4SCxNQUFNLHNDQUFzQyxpQkFBaUIsc0hBQXNILGtFQUFrRSxNQUFNLHdFQUF3RSxHQUFHLDhKQUE4SixrRkFBa0YsZ01BQWdNLGtSQUFrUix1Q0FBdUMsa0RBQWtELGNBQWMseUNBQXlDLGtGQUFrRixxQkFBcUIsMkNBQTJDLDZKQUE2SixLQUFLLG9DQUFvQyw0SEFBNEgsd0JBQXdCLHlDQUF5QyxPQUFPLGlHQUFpRyxlQUFlLGdEQUFnRCw0QkFBNEIsOFJBQThSLDBEQUEwRCx5RUFBeUUsOEJBQThCLG1DQUFtQyxNQUFNLG9EQUFvRCx5Q0FBeUMsZ0RBQWdELFNBQVMsbUJBQW1CLG1KQUFtSix5QkFBeUIsWUFBWSx5RUFBeUUsdUJBQXVCLFlBQVksbURBQW1ELHFCQUFxQiw0RUFBNEUsV0FBVyxzRUFBc0UsMENBQTBDLFdBQVcseUJBQXlCLHdCQUF3QixxSEFBcUgsd0JBQXdCLG1EQUFtRCxNQUFNLDhHQUE4RyxFQUFFLFdBQVcsTUFBTSwySEFBMkgsaUJBQWlCLHFCQUFxQixpQ0FBaUMsc0NBQXNDLDJCQUEyQix1REFBdUQsc0JBQXNCLFNBQVMsZUFBZSxZQUFZLG1CQUFtQixLQUFLLHlDQUF5Qyx5Q0FBeUMsYUFBYSxvSUFBb0ksaUVBQWlFLEdBQUcsU0FBUyxtQkFBbUIsMkVBQTJFLEdBQUcsaUJBQWlCLDJDQUEyQyxPQUFPLGFBQWEscUJBQXFCLElBQUksUUFBUSxHQUFHLHlEQUF5RCxjQUFjLE1BQU0sRUFBRSwwQkFBMEIsRUFBRSxVQUFVLG1DQUFtQyxpQkFBaUIsTUFBTSxvQ0FBb0MsaUJBQWlCLE1BQU0seUJBQXlCLG9CQUFvQixTQUFTLGlCQUFpQixNQUFNLE9BQU8sMkNBQTJDLGFBQWEsbUJBQW1CLGVBQWUsV0FBVyxLQUFLLDhEQUE4RCxJQUFJLHNZQUFzWSxrQ0FBa0MsbUJBQW1CLDRGQUE0RixXQUFXLDhEQUE4RCxTQUFTLDhEQUE4RCxTQUFTLCtEQUErRCxFQUFFLFlBQVksS0FBSyxLQUFLLE9BQU8sb0pBQW9KLElBQUksOExBQThMLEtBQUssd0pBQXdKLEtBQUssaUxBQWlMLFFBQVEsbURBQW1ELEdBQUcsU0FBUyx5QkFBeUIsa0JBQWtCLDBDQUEwQyxFQUFFLGlCQUFpQixHQUFHLFlBQVksSUFBSSxxREFBcUQsS0FBSyxRQUFRLE9BQU8sa0RBQWtELHlCQUF5QixJQUFJLFdBQVcsWUFBWSxNQUFNLCtGQUErRix3RkFBd0YseUJBQXlCLElBQUksV0FBVyxZQUFZLE1BQU0sV0FBVyw0S0FBNEssZ0JBQWdCLElBQUksV0FBVyxVQUFVLE1BQU0sNkZBQTZGLDJCQUEyQixnQkFBZ0IsSUFBSSxXQUFXLFVBQVUsTUFBTSxXQUFXLG1IQUFtSCxpQkFBaUIscUJBQXFCLGlDQUFpQyxzQ0FBc0MsMkJBQTJCLHVEQUF1RCxzQkFBc0IsU0FBUyxlQUFlLFlBQVksbUJBQW1CLEtBQUsseUNBQXlDLHlDQUF5QyxhQUFhLG9JQUFvSSxpRUFBaUUsR0FBRyxTQUFTLGVBQWUsTUFBTSxvSkFBb0osV0FBVyx5Q0FBeUMsNkJBQTZCLHVCQUF1QixtQ0FBbUMsZUFBZSxpQkFBaUIsZ0JBQWdCLE1BQU0sSUFBSSxRQUFRLEdBQUcscUNBQXFDLHlDQUF5QyxPQUFPLGlCQUFpQixxQkFBcUIsaUNBQWlDLHNDQUFzQywyQkFBMkIsdURBQXVELHNCQUFzQixTQUFTLGVBQWUsWUFBWSxtQkFBbUIsS0FBSyx5Q0FBeUMseUNBQXlDLGFBQWEsb0lBQW9JLGlFQUFpRSxHQUFHLFNBQVMsK0JBQStCLDhCQUE4QixtREFBbUQsK0JBQStCLG9EQUFvRCwwQkFBMEIsMkNBQTJDLHlCQUF5Qiw4Q0FBOEMseUJBQXlCLFFBQVEscUpBQXFKLGtCQUFrQix3SkFBd0osTUFBTSxzQ0FBc0MsSUFBSSxpQkFBaUIscVBBQXFQLGtCQUFrQiw0ZkFBNGYsV0FBVyxZQUFZLEVBQUUscU5BQXFOLGVBQWUsNkJBQTZCLGVBQWUsK0RBQStELGFBQWEsNENBQTRDLHVDQUF1QywyTUFBMk0sMkRBQTJELDJHQUEyRyxpREFBaUQsZ0NBQWdDLHVEQUF1RCxvQkFBb0IsR0FBRyxzRkFBc0Ysa0JBQWtCLElBQUksNENBQTRDLHFCQUFxQiw4Q0FBOEMscUJBQXFCLEVBQUUsOENBQThDLGtHQUFrRyw0QkFBNEIsa0tBQWtLLGlCQUFpQixnRUFBZ0UsTUFBTSxFQUFFLGlDQUFpQyxFQUFFLFNBQVMsZ0VBQWdFLGlCQUFpQixJQUFJLCtGQUErRiw4QkFBOEIsTUFBTSxFQUFFLHlDQUF5QyxvTEFBb0wsa0lBQWtJLDZFQUE2RSxtQkFBbUIseURBQXlELG9CQUFvQixFQUFFLCtDQUErQyw0RkFBNEYsNERBQTRELGdDQUFnQyxnREFBZ0QsbUJBQW1CLEVBQUUsK0NBQStDLGtEQUFrRCxJQUFJLFdBQVcsR0FBRyxpQ0FBaUMsSUFBSSxPQUFPLHFDQUFxQyxzQkFBc0IsMEJBQTBCLG9CQUFvQixJQUFJLGtCQUFrQixvQ0FBb0MsNEpBQTRKLFNBQVMsaUVBQWlFLHlCQUF5Qiw2QkFBNkIsSUFBSSw4R0FBOEcsSUFBSSxrQkFBa0IsR0FBRyxvTEFBb0wsSUFBSSxXQUFXLEdBQUcsaUNBQWlDLElBQUksT0FBTyxtREFBbUQsRUFBRSxzQkFBc0IsMEJBQTBCLG9CQUFvQixJQUFJLGtCQUFrQixvQ0FBb0MsR0FBRyx1SUFBdUksU0FBUyw2RUFBNkUseUJBQXlCLFlBQVksV0FBVyxzQkFBc0Isd0RBQXdELElBQUksNEZBQTRGLFNBQVMsY0FBYywyREFBMkQscUJBQXFCLEVBQUUsc0NBQXNDLHlFQUF5RSxzSkFBc0osd0RBQXdELG9FQUFvRSw4QkFBOEIsSUFBSSxJQUFJLFdBQVcsU0FBUyxrQ0FBa0MsNkJBQTZCLHFEQUFxRCxtQkFBbUIsbURBQW1ELG9CQUFvQixtQ0FBbUMsNkJBQTZCLDBFQUEwRSxzREFBc0QsbUJBQW1CLHVJQUF1SSxvQkFBb0IsaUJBQWlCLFdBQVcsUUFBUSxtQ0FBbUMsRUFBRSxTQUFTLCtFQUErRSx3QkFBd0IsUUFBUSxNQUFNLElBQUksOEJBQThCLElBQUksNkdBQTZHLHVDQUF1QyxrSEFBa0gsTUFBTSxzR0FBc0csNEZBQTRGLDhEQUE4RCw2RUFBNkUsaUVBQWlFLGNBQWMsK0JBQStCLEVBQUUsSUFBSSxrQkFBa0Isa0NBQWtDLE1BQU0sZ0NBQWdDLGdEQUFnRCxtQkFBbUIsRUFBRSwrQ0FBK0MsbUhBQW1ILDRFQUE0RSxPQUFPLFNBQVMsNkZBQTZGLHlCQUF5QiwwQkFBMEIsSUFBSSx1Q0FBdUMsNkdBQTZHLFNBQVMsMEZBQTBGLHlCQUF5Qix1QkFBdUIsdUVBQXVFLElBQUksc0dBQXNHLDZFQUE2RSx5SUFBeUksVUFBVSxNQUFNLHdGQUF3RixFQUFFLDZHQUE2RyxpRkFBaUYsZ0NBQWdDLHVEQUF1RCxvQkFBb0IsR0FBRyxTQUFTLHFFQUFxRSx3QkFBd0IsUUFBUSxTQUFTLHVCQUF1QixJQUFJLGdIQUFnSCxJQUFJLHdCQUF3Qiw4QkFBOEIsdUtBQXVLLCtEQUErRCwyRUFBMkUsUUFBUSwyQ0FBMkMsU0FBUyxpRUFBaUUseUJBQXlCLHNCQUFzQixJQUFJLHVHQUF1RyxJQUFJLHlCQUF5Qiw2QkFBNkIsK0tBQStLLCtEQUErRCwyRUFBMkUsUUFBUSwyQ0FBMkMsRUFBRSxTQUFTLGlFQUFpRSx5QkFBeUIsdUJBQXVCLElBQUkseUdBQXlHLGNBQWMsK0NBQStDLFdBQVcsNkNBQTZDLEdBQUcsZ0NBQWdDLDBGQUEwRixnREFBZ0QsbUJBQW1CLEVBQUUsK0NBQStDLGlFQUFpRSxTQUFTLHVFQUF1RSx5QkFBeUIsb0JBQW9CLElBQUksd0hBQXdILHVCQUF1Qix1RkFBdUYsZ0RBQWdELG1CQUFtQixFQUFFLCtDQUErQyxpRUFBaUUsU0FBUyxvRUFBb0UseUJBQXlCLHNCQUFzQixJQUFJLDBIQUEwSCx5QkFBeUIseUZBQXlGLGdEQUFnRCxtQkFBbUIsRUFBRSwrQ0FBK0MsaUVBQWlFLFNBQVMsc0VBQXNFLHlCQUF5QixtQkFBbUIsSUFBSSxxR0FBcUcsb0ZBQW9GLDJGQUEyRixVQUFVLHdCQUF3QixFQUFFLDJHQUEyRyw4RUFBOEUsZ0NBQWdDLHVEQUF1RCxvQkFBb0IsR0FBRyxTQUFTLG1FQUFtRSx5QkFBeUIscUJBQXFCLElBQUksdUdBQXVHLG9GQUFvRiwyRkFBMkYsbUJBQW1CLHdCQUF3QixFQUFFLDZHQUE2RyxnRkFBZ0YsZ0NBQWdDLHVEQUF1RCxvQkFBb0IsR0FBRyxTQUFTLHFFQUFxRSx5QkFBeUIsY0FBYyxXQUFXLHNCQUFzQiw4REFBOEQsSUFBSSwrRUFBK0UsbUNBQW1DLHVFQUF1RSxtT0FBbU8sNEJBQTRCLGdDQUFnQyw2Q0FBNkMsY0FBYyxHQUFHLHlGQUF5RixpQkFBaUIsc0JBQXNCLHVCQUF1QiwwQkFBMEIsd0ZBQXdGLG9JQUFvSSxvQkFBb0IsSUFBSSxTQUFTLG1GQUFtRixRQUFRLE1BQU0sSUFBSSxRQUFRLE1BQU0sa0RBQWtELHdCQUF3Qix1WUFBdVksV0FBVyxlQUFlLGdDQUFnQyxFQUFFLHFEQUFxRCxFQUFFLHlCQUF5QiwyQ0FBMkMsK0JBQStCLElBQUksK0dBQStHLHFGQUFxRixvQ0FBb0MsK0ZBQStGLCtDQUErQyxtQkFBbUIseURBQXlELG9CQUFvQixHQUFHLFNBQVMsaURBQWlELGdDQUFnQyxpRUFBaUUsNkhBQTZILGdDQUFnQyx3Q0FBd0Msd0JBQXdCLCtEQUErRCxxREFBcUQsaUNBQWlDLHlDQUF5QywwS0FBMEssbUNBQW1DLGlCQUFpQiw4QkFBOEIsUUFBUSxjQUFjLE9BQU8sRUFBRSx1RUFBdUUsaUJBQWlCLE9BQU8sRUFBRSx1RUFBdUUsR0FBRyxtREFBbUQsZUFBZSxvREFBb0QsTUFBTSw2R0FBNkcsa0RBQWtELE1BQU0sdUdBQXVHLHdDQUF3QywrT0FBK08saUJBQWlCLG1OQUFtTiwwQkFBMEIsaUJBQWlCLDRRQUE0USxpQ0FBaUMsT0FBTyxlQUFlLG1oQkFBbWhCLDZDQUE2Qyx5R0FBeUcsdUNBQXVDLFNBQVMscUJBQXFCLDhCQUE4QixxSkFBcUosNENBQTRDLGdKQUFnSixxQkFBcUIsZ0pBQWdKLElBQUksSUFBSSwwQkFBMEIsa0JBQWtCLE1BQU0sbURBQW1ELE1BQU0sa0dBQWtHLGVBQWUsTUFBTSx1RkFBdUYscUJBQXFCLHlCQUF5Qiw0QkFBNEIsTUFBTSw0RUFBNEUsbUVBQW1FLGlDQUFpQyxJQUFJLGlCQUFpQiw4QkFBOEIsd0lBQXdJLHlDQUF5QyxzQ0FBc0MsdUVBQXVFLFdBQVcsS0FBSywyQkFBMkIsK1NBQStTLG9DQUFvQyxRQUFRLG1KQUFtSixJQUFJLCtIQUErSCxpSUFBaUksUUFBUSxNQUFNLDRCQUE0QiwwREFBMEQsTUFBTSwyREFBMkQsTUFBTSxtREFBbUQsb0JBQW9CLDZFQUE2RSxrREFBa0QseUZBQXlGLE1BQU0sZ0lBQWdJLHVCQUF1QiwyRkFBMkYsU0FBUyxRQUFRLDhCQUE4QixnQkFBZ0IsMkRBQTJELFVBQVUsb0RBQW9ELG9DQUFvQywyQkFBMkIsa0dBQWtHO0FBQzcvcEMsK0pBQStKLGtDQUFrQyx5Q0FBeUMsSUFBSSxVQUFVLDJEQUEyRCwrSEFBK0gsNkJBQTZCLCtCQUErQixzQ0FBc0MscUJBQXFCLE1BQU0sSUFBSSxpREFBaUQsa0JBQWtCLCtKQUErSixJQUFJLGVBQWUsMkJBQTJCLDZHQUE2RyxNQUFNLHFCQUFxQiwwRUFBMEUseUVBQXlFLGlPQUFpTyxJQUFJLE1BQU0scURBQXFELGlCQUFpQiw2QkFBNkIsUUFBUSxLQUFLLHNFQUFzRSxnTkFBZ04sU0FBUyxrRkFBa0Ysb0NBQW9DLDRCQUE0QixRQUFRLDhEQUE4RCwwSEFBMEgsUUFBUSxFQUFFLGlEQUFpRCxHQUFHLG9JQUFvSSx5RUFBeUUsd0NBQXdDLEVBQUUsSUFBSSx1SEFBdUgsU0FBUyxpS0FBaUssaUlBQWlJLEtBQUssOEJBQThCLElBQUksbUVBQW1FLFlBQVksV0FBVyxLQUFLLGtCQUFrQiw0RkFBNEYsTUFBTSw4RUFBOEUsd0JBQXdCLGtCQUFrQix5QkFBeUIsK0RBQStELHVDQUF1QyxjQUFjLGtCQUFrQiwwQ0FBMEMsTUFBTSxrRUFBa0UsMkNBQTJDLE1BQU0sa0VBQWtFLDBDQUEwQyxNQUFNLGlFQUFpRSxnREFBZ0QsTUFBTSxxRUFBcUUsMERBQTBELE1BQU0sK0VBQStFLDJEQUEyRCxNQUFNLGdGQUFnRixpREFBaUQsTUFBTSwwRUFBMEUsb0JBQW9CLHVWQUF1VixvQ0FBb0MsbUNBQW1DLFdBQVcsS0FBSyxjQUFjLGtCQUFrQixzVkFBc1YsUUFBUSxJQUFJLHNEQUFzRCxjQUFjLDhEQUE4RCxFQUFFLG9DQUFvQyxFQUFFLCtCQUErQixvREFBb0QsbUNBQW1DLDBDQUEwQyxXQUFXLEtBQUssV0FBVyw0Q0FBNEMsZUFBZSxJQUFJLHNEQUFzRCxjQUFjLG9GQUFvRixFQUFFLDRHQUE0RyxFQUFFLCtCQUErQixvREFBb0Qsa0JBQWtCLGNBQWMsNldBQTZXLHdCQUF3QjtBQUNobk0sc0JBQXNCLGdFQUFnRSxRQUFRLHVCQUF1QiwwQkFBMEIsZ0NBQWdDLDBDQUEwQyxvQkFBb0IsbUNBQW1DLG1DQUFtQywyQ0FBMkMsdTREQUF1NEQsbUJBQW1CLFdBQVcsZ0ZBQWdGLGdDQUFnQyxpRUFBaUUsSUFBSSw4Q0FBOEMsSUFBSSxzQkFBc0IsNkJBQTZCLFFBQVEsTUFBTSxHQUFHLE9BQU8saUJBQWlCLHFCQUFxQixpQ0FBaUMsc0NBQXNDLDJCQUEyQix1REFBdUQsc0JBQXNCLFNBQVMsZUFBZSxZQUFZLG1CQUFtQixLQUFLLHlDQUF5Qyx5Q0FBeUMsYUFBYSxvSUFBb0ksaUVBQWlFLEdBQUcsU0FBUyxlQUFlLGNBQWMsZ0RBQWdELElBQUksRUFBRSxzQ0FBc0MsOENBQThDLG9DQUFvQyxvREFBb0QsZUFBZSxjQUFjLHdFQUF3RSxhQUFhLDJDQUEyQyxRQUFRLGdCQUFnQixFQUFFLHNCQUFzQix3QkFBd0IsZUFBZSw4QkFBOEIseUNBQXlDLG9CQUFvQixvQkFBb0IsNkJBQTZCLGdCQUFnQiwrQkFBK0IsbUJBQW1CLG9CQUFvQiw0REFBNEQsV0FBVyw0QkFBNEIsWUFBWSxtQkFBbUIsYUFBYSxrQkFBa0IsdURBQXVELGlCQUFpQiw2NEJBQTY0Qiw0RUFBNEUsSUFBSSxzS0FBc0ssb0NBQW9DLGdDQUFnQyx3Q0FBd0MsdUZBQXVGLE1BQU0sS0FBSyxJQUFJLFNBQVMsR0FBRyxnQ0FBZ0MsMENBQTBDLFNBQVMsTUFBTSxRQUFRLE1BQU0saURBQWlELDhFQUE4RSxJQUFJLHdLQUF3SyxzQ0FBc0MsZ0NBQWdDLHdDQUF3QyxNQUFNLFdBQVcsa0hBQWtILGtDQUFrQywrREFBK0QsTUFBTSxrREFBa0QsK0RBQStELG9CQUFvQix5Q0FBeUMsR0FBRyw0Q0FBNEMsTUFBTSxLQUFLLElBQUksU0FBUyxHQUFHLGtDQUFrQyw0Q0FBNEMsU0FBUyxNQUFNLFFBQVEsTUFBTSxtREFBbUQsNkVBQTZFLElBQUksZ0RBQWdELGdGQUFnRixJQUFJLGFBQWEsR0FBRyx1SUFBdUksU0FBUyxNQUFNLFFBQVEsTUFBTSwwREFBMEQsdUZBQXVGLElBQUksZ0RBQWdELGdGQUFnRixJQUFJLGFBQWEsR0FBRyxxREFBcUQsU0FBUyxNQUFNLFFBQVEsTUFBTSxxREFBcUQsK0RBQStELGdCQUFnQixxUEFBcVAsSUFBSSxrQ0FBa0MsU0FBUyxNQUFNLFFBQVEsTUFBTSxnQ0FBZ0MsK0NBQStDLE1BQU0sNk1BQTZNLElBQUksTUFBTSx3REFBd0QsTUFBTSxRQUFRLElBQUksYUFBYSxFQUFFLG1FQUFtRSxnR0FBZ0csV0FBVyw0REFBNEQscUdBQXFHLG1EQUFtRCxNQUFNLGtDQUFrQyx5SEFBeUgseUNBQXlDLElBQUksS0FBSyxTQUFTLE1BQU0sUUFBUSxNQUFNLGdDQUFnQyxpQ0FBaUMsc0NBQXNDLHdDQUF3QyxrREFBa0Qsd0NBQXdDLGtEQUFrRCxna0JBQWdrQixzQkFBc0IsMERBQTBELDRCQUE0QixNQUFNLGtCQUFrQixzSEFBc0gsZ2RBQWdkLGtQQUFrUCxpQkFBaUIsdUhBQXVILGdTQUFnUywrQkFBK0IsMERBQTBELE1BQU0sU0FBUywrREFBK0QsY0FBYyxNQUFNLEtBQUssSUFBSSxTQUFTLGNBQWMsU0FBUyxTQUFTLEVBQUUsa0NBQWtDLHVEQUF1RCxvSEFBb0gsa0NBQWtDLG1EQUFtRCxzTUFBc00sbURBQW1ELDJCQUEyQixNQUFNLHdLQUF3Syw0QkFBNEIsZ0RBQWdELHVHQUF1RyxxQkFBcUIsTUFBTSxxRkFBcUYsS0FBSyw4Q0FBOEMsc0NBQXNDLGlCQUFpQixxREFBcUQsMkVBQTJFLCtCQUErQixpQkFBaUIsb0RBQW9ELGFBQWEscUhBQXFILElBQUksZUFBZSxXQUFXLHNCQUFzQix3REFBd0QsSUFBSSwwQ0FBMEMsb0dBQW9HLDhCQUE4Qix3REFBd0QsaUVBQWlFLGtGQUFrRix5Q0FBeUMsNkRBQTZELDJDQUEyQyxRQUFRLE1BQU0sSUFBSSxlQUFlLFdBQVcsc0JBQXNCLGNBQWMsSUFBSSxlQUFlLGdCQUFnQix5RUFBeUUsNEJBQTRCLGdCQUFnQixJQUFJLFFBQVEsR0FBRyxTQUFTLDhCQUE4QixJQUFJLFFBQVEsR0FBRyxTQUFTLHlHQUF5RyxJQUFJLFdBQVcsU0FBUyxxREFBcUQsSUFBSSxRQUFRLEdBQUcsb0VBQW9FLGdDQUFnQywyRkFBMkYsb0JBQW9CLCtCQUErQiwyR0FBMkcsNEdBQTRHLDhCQUE4QixPQUFPLGVBQWUsU0FBUyxtR0FBbUcsV0FBVyxJQUFJLDRCQUE0QixTQUFTLHVFQUF1RSwyQkFBMkIsZUFBZSwyUEFBMlAsRUFBRSw4Q0FBOEMsY0FBYyx1R0FBdUcsZ0NBQWdDLCtCQUErQixrQ0FBa0MsRUFBRSxtQ0FBbUMsdUJBQXVCLFlBQVksNkNBQTZDLCtCQUErQix3QkFBd0IsTUFBTSxvUUFBb1EsYUFBYSxhQUFhLFlBQVksK0JBQStCLHdDQUF3QyxnQkFBZ0IsTUFBTSxhQUFhLElBQUksUUFBUSxtR0FBbUcsU0FBUywyQkFBMkIsaURBQWlELGFBQWEsZ0JBQWdCLElBQUksT0FBTyxHQUFHLG1DQUFtQyxvRkFBb0YsSUFBSSxlQUFlLGdCQUFnQixnRkFBZ0YsR0FBRyxJQUFJLHNDQUFzQyxnQ0FBZ0MsYUFBYSx1SEFBdUgsd0tBQXdLLElBQUksUUFBUSxtQkFBbUIsU0FBUyw0SkFBNEosTUFBTSx5Q0FBeUMsbU1BQW1NLE1BQU0sZ0NBQWdDLDhFQUE4RSxlQUFlLGVBQWUsb0lBQW9JLGtGQUFrRixvQkFBb0IsUUFBUSw0T0FBNE8sbUJBQW1CLGlLQUFpSyxvQkFBb0IsV0FBVyxzQkFBc0IsZ0RBQWdELHlFQUF5RSxJQUFJLDZDQUE2QyxtRUFBbUUsbUtBQW1LLFFBQVEsOERBQThELEVBQUUsOEVBQThFLE1BQU0sbUZBQW1GLHNEQUFzRCxRQUFRLE1BQU0sSUFBSSxrQkFBa0Isa2dCQUFrZ0IscUJBQXFCLDRDQUE0QyxLQUFLLEtBQUssSUFBSSxjQUFjLDZCQUE2QixrSUFBa0ksbUVBQW1FLGFBQWEsY0FBYyw0RkFBNEYscUNBQXFDLElBQUksT0FBTyxHQUFHLHVDQUF1QywrQkFBK0IsbUJBQW1CLHlFQUF5RSx5Q0FBeUMsNkNBQTZDLEVBQUUsMENBQTBDLHVCQUF1Qix3Q0FBd0MsaUVBQWlFLDhCQUE4Qix5RUFBeUUsK0NBQStDLG1EQUFtRCxFQUFFLGdEQUFnRCxtQ0FBbUMsd0NBQXdDLDRDQUE0QyxtSEFBbUgsMkJBQTJCLHNEQUFzRCxtREFBbUQsYUFBYSxnQkFBZ0IsaUNBQWlDLDJDQUEyQyx1QkFBdUIsNENBQTRDLHFDQUFxQyxNQUFNLEtBQUssSUFBSSxTQUFTLHFFQUFxRSxPQUFPLFFBQVEsSUFBSSxRQUFRLGdCQUFnQixpQkFBaUIsU0FBUyx5Q0FBeUMsOEVBQThFLGdDQUFnQyxpSkFBaUosbUJBQW1CLE1BQU0sK0VBQStFLEVBQUUsdUZBQXVGLE1BQU0sNkpBQTZKLG1EQUFtRCxJQUFJLFlBQVksR0FBRywrQkFBK0IsRUFBRSxvREFBb0QsaUJBQWlCLDJCQUEyQixNQUFNLGlKQUFpSixxRUFBcUUsMkNBQTJDLHdMQUF3TCxXQUFXLGlCQUFpQixJQUFJLGNBQWMsR0FBRyxhQUFhLEVBQUUsZ01BQWdNLDhFQUE4RSxtRUFBbUUsTUFBTSx3Q0FBd0MsZUFBZSw0QkFBNEIsbUVBQW1FLGt2QkFBa3ZCLGdFQUFnRSw0R0FBNEcsbUJBQW1CLGNBQWMsZ0JBQWdCLGtDQUFrQyxPQUFPLDZCQUE2QixTQUFTLG1HQUFtRyxXQUFXLElBQUksNEJBQTRCLFNBQVMsdUVBQXVFLDJCQUEyQixlQUFlLDRPQUE0TyxrQkFBa0IsK0JBQStCLEtBQUssc0JBQXNCLEVBQUUsNEdBQTRHLGtCQUFrQixLQUFLLDBCQUEwQixRQUFRLEtBQUssc0JBQXNCLDBCQUEwQixLQUFLLFlBQVksSUFBSSxzQ0FBc0MsRUFBRSw4Q0FBOEMsY0FBYyx1R0FBdUcsZ0NBQWdDLCtCQUErQixrQ0FBa0MsRUFBRSxtQ0FBbUMsdUJBQXVCLFlBQVksNkNBQTZDLCtCQUErQix3QkFBd0IsTUFBTSw0U0FBNFMsYUFBYSxhQUFhLFlBQVksK0JBQStCLHdDQUF3QyxhQUFhLGdCQUFnQixNQUFNLGFBQWEsSUFBSSxRQUFRLG1HQUFtRyxTQUFTLDJCQUEyQixNQUFNLGlEQUFpRCxhQUFhLFVBQVUsTUFBTSxvREFBb0Qsc0NBQXNDLDRHQUE0RyxvQkFBb0IsT0FBTyxlQUFlLFNBQVMsbUdBQW1HLFdBQVcsSUFBSSw0QkFBNEIsU0FBUyx1RUFBdUUsMkJBQTJCLGVBQWUsMlBBQTJQLEVBQUUsOENBQThDLGNBQWMsdUdBQXVHLGdDQUFnQywrQkFBK0Isa0NBQWtDLEVBQUUsbUNBQW1DLHVCQUF1QixZQUFZLDZDQUE2QywrQkFBK0Isd0JBQXdCLE1BQU0sb1FBQW9RLGFBQWEsYUFBYSxtREFBbUQsZ0JBQWdCLE1BQU0sYUFBYSxJQUFJLFFBQVEsbUdBQW1HLFNBQVMsMkJBQTJCLEtBQUssaURBQWlELGNBQWMsZ0NBQWdDLCtJQUErSSw2Q0FBNkMsSUFBSSxjQUFjLEdBQUcsNEJBQTRCLEVBQUUsc0ZBQXNGLHVCQUF1QixtQ0FBbUMsNkJBQTZCLHFKQUFxSixlQUFlLE1BQU0sSUFBSSxtQkFBbUIsR0FBRyxxRUFBcUUsRUFBRSxtQkFBbUIsY0FBYywyQkFBMkIsNENBQTRDLCtCQUErQixFQUFFLG1EQUFtRCxJQUFJLHdDQUF3QyxHQUFHLFFBQVEsaUJBQWlCLGVBQWUsNkJBQTZCLEdBQUcsa0JBQWtCLHNCQUFzQixnQkFBZ0IsSUFBSSw0QkFBNEIsY0FBYyxxS0FBcUssSUFBSSwyQkFBMkIsR0FBRyxvckJBQW9yQixnQ0FBZ0MsK0lBQStJLDZDQUE2QyxJQUFJLGNBQWMsR0FBRyw0QkFBNEIsRUFBRSxzRkFBc0YsR0FBRyx5QkFBeUIsMENBQTBDLElBQUksY0FBYyxHQUFHLHFEQUFxRCxFQUFFLGlCQUFpQiwwQ0FBMEMsc0NBQXNDLCtEQUErRCxJQUFJLE9BQU8sR0FBRyxNQUFNLHVGQUF1RixxQkFBcUIsTUFBTSwwRUFBMEUscURBQXFELDZDQUE2Qyx1QkFBdUIsOENBQThDLE1BQU0sS0FBSyxJQUFJLFNBQVMsR0FBRyx1Q0FBdUMsMkhBQTJILE9BQU8sT0FBTyxJQUFJLFFBQVEsMlBBQTJQLHFCQUFxQixNQUFNLDRIQUE0SCxJQUFJLGtDQUFrQyxpQkFBaUIsK0RBQStELG9EQUFvRCwwQkFBMEIsbURBQW1ELHVCQUF1QixjQUFjLFlBQVksRUFBRSx1Q0FBdUMscUJBQXFCLG1CQUFtQixvSEFBb0gseUJBQXlCLHFDQUFxQywrQkFBK0IsU0FBUyxRQUFRLG1CQUFtQixNQUFNLDBDQUEwQyxJQUFJLGNBQWMsR0FBRyxxREFBcUQsRUFBRSxjQUFjLDBDQUEwQyxzQ0FBc0MsaUJBQWlCLHlFQUF5RSxJQUFJLGNBQWMsR0FBRyxNQUFNLHVGQUF1RixxQkFBcUIsTUFBTSwwRUFBMEUsRUFBRSwyQkFBMkIsSUFBSSxtQkFBbUIsNENBQTRDLG1CQUFtQixLQUFLLHVCQUF1Qiw4Q0FBOEMsTUFBTSxLQUFLLElBQUksU0FBUyxHQUFHLDBDQUEwQywySEFBMkgsT0FBTyxPQUFPLElBQUksUUFBUSxzUEFBc1AscUJBQXFCLE1BQU0sc0hBQXNILElBQUksa0JBQWtCLHVGQUF1RixzQkFBc0IsMkJBQTJCLGdDQUFnQyw2SEFBNkgsNkpBQTZKLDRDQUE0Qyw4REFBOEQsd0JBQXdCLG9DQUFvQyw4QkFBOEIsMkJBQTJCLGdDQUFnQywrSEFBK0gsaUpBQWlKLGdCQUFnQixnREFBZ0QsMkJBQTJCLGNBQWMsMkRBQTJELFNBQVMsNkJBQTZCLGFBQWEsU0FBUyxzQ0FBc0MsVUFBVSxNQUFNLFFBQVEsSUFBSSxTQUFTLHNCQUFzQiwyREFBMkQsU0FBUyxzQ0FBc0MsVUFBVSxNQUFNLFFBQVEsSUFBSSxTQUFTLEVBQUUscUJBQXFCLDhCQUE4Qiw4QkFBOEIsTUFBTSwySUFBMkksZ0NBQWdDLCtTQUErUyxHQUFHLE1BQU0sTUFBTSxVQUFVLGdKQUFnSixnQ0FBZ0MsNlJBQTZSLElBQUksOEJBQThCLDRDQUE0QyxxQ0FBcUMsd01BQXdNLEdBQUcsUUFBUSx5UkFBeVIsc0JBQXNCLCtVQUErVSxnREFBZ0QsMkJBQTJCLCtCQUErQixjQUFjLDhCQUE4Qix1QkFBdUIsR0FBRyxpQkFBaUIsb1lBQW9ZLFdBQVcsTUFBTSxrRUFBa0UseUJBQXlCLE1BQU0sc0ZBQXNGLHNCQUFzQixnREFBZ0QscUNBQXFDLG9CQUFvQixnREFBZ0QsYUFBYSwyREFBMkQsb0JBQW9CLGdDQUFnQyx3RkFBd0YsaUJBQWlCLGlDQUFpQyxnQkFBZ0IsaUNBQWlDLG9CQUFvQix1Q0FBdUMsZ0NBQWdDLDJCQUEyQixrQ0FBa0MsdUNBQXVDLGdDQUFnQywyQkFBMkIsa0JBQWtCLE1BQU0sc0VBQXNFLFVBQVUsOEZBQThGLElBQUksaUJBQWlCLHVEQUF1RCxTQUFTLFFBQVEsa0ZBQWtGLDhDQUE4QyxrQkFBa0Isc0VBQXNFLDJDQUEyQywrQkFBK0IsMFBBQTBQLFNBQVMsTUFBTSx5TUFBeU0sb0tBQW9LLHNCQUFzQiw0SUFBNEksTUFBTSxPQUFPLFFBQVEsSUFBSSxVQUFVLHFHQUFxRyxNQUFNLDJJQUEySSw0QkFBNEIsK0xBQStMLFdBQVcsc0NBQXNDLGlDQUFpQywyQ0FBMkMsc0lBQXNJLHVDQUF1QyxvSUFBb0ksV0FBVyxzQ0FBc0MsdUNBQXVDLEdBQUcsMFFBQTBRLGlDQUFpQyw2Q0FBNkMsSUFBSSxZQUFZLEdBQUcsc0RBQXNELFVBQVUsaUNBQWlDLDRFQUE0RSxZQUFZLEdBQUcsMkJBQTJCLHVDQUF1QyxJQUFJLGNBQWMsR0FBRyxzREFBc0QsVUFBVSwyQkFBMkIsZ0VBQWdFLGNBQWMsR0FBRyxjQUFjLFdBQVcsc0JBQXNCLGdEQUFnRCw2REFBNkQsSUFBSSx1Q0FBdUMseUJBQXlCLGlCQUFpQix3QkFBd0IsNENBQTRDLGdEQUFnRCxNQUFNLG9EQUFvRCxNQUFNLDZDQUE2QyxnQ0FBZ0MsU0FBUyxNQUFNLHNDQUFzQyxRQUFRLE1BQU0sSUFBSSwwQkFBMEIsNkJBQTZCLCtOQUErTixtQkFBbUIsNE1BQTRNLGdFQUFnRSw0REFBNEQsU0FBUyx3QkFBd0IsK0NBQStDLFNBQVMsNEJBQTRCLDZCQUE2QixxQ0FBcUMsNERBQTRELDJHQUEyRyw0QkFBNEIsc0lBQXNJLDJFQUEyRSxvRUFBb0Usd0JBQXdCLHFCQUFxQixrQ0FBa0MsRUFBRSx3QkFBd0IsTUFBTSw2TEFBNkwsd0RBQXdELE1BQU0sUUFBUSxJQUFJLGFBQWEsRUFBRSxhQUFhLFdBQVcseUNBQXlDLGVBQWUsK0JBQStCLGVBQWUsOEdBQThHLFdBQVcseURBQXlELGtHQUFrRyxtREFBbUQsTUFBTSxrQ0FBa0MseUhBQXlILHlDQUF5QyxLQUFLLGlDQUFpQywrQkFBK0IsdUNBQXVDLHVEQUF1RCxnQkFBZ0Isa0lBQWtJLCtCQUErQixZQUFZLGlDQUFpQyxRQUFRLGtDQUFrQyxHQUFHLHlCQUF5QixjQUFjLG1GQUFtRixNQUFNLGdCQUFnQixnTEFBZ0wsa0pBQWtKLHVLQUF1SywrQkFBK0IsS0FBSywrQkFBK0IsK0JBQStCLHVDQUF1QyxnQkFBZ0Isb0JBQW9CLGdEQUFnRCxlQUFlLHFNQUFxTSxvQkFBb0IsZ0RBQWdELGVBQWUsOEJBQThCLG1EQUFtRCxzQ0FBc0MsU0FBUyxtQ0FBbUMsb0ZBQW9GLHFDQUFxQyx5R0FBeUcsd0JBQXdCLGNBQWMsSUFBSSxlQUFlLEdBQUcsVUFBVSwwbEJBQTBsQixNQUFNLHlEQUF5RCw0QkFBNEIsR0FBRywrQkFBK0Isd0NBQXdDLGlUQUFpVCwrYkFBK2IsMEJBQTBCLHVEQUF1RCxPQUFPLFFBQVEsSUFBSSxRQUFRLGdCQUFnQixpQkFBaUIsSUFBSSxlQUFlLEdBQUcsVUFBVSxraEJBQWtoQixNQUFNLDJEQUEyRCw0QkFBNEIsR0FBRywrQkFBK0Isd0NBQXdDLHlRQUF5USxrWUFBa1ksMkJBQTJCLCtDQUErQyxzQ0FBc0MsaURBQWlELHNDQUFzQyxHQUFHLDJCQUEyQixzQ0FBc0MsNkJBQTZCLHFEQUFxRCxXQUFXLHlIQUF5SCxHQUFHLGlDQUFpQyxxQkFBcUIsTUFBTSxTQUFTLGVBQWUsR0FBRyxVQUFVLHFDQUFxQyxvRUFBb0UsTUFBTSwyRkFBMkYsVUFBVSxFQUFFLHFDQUFxQyxFQUFFLE1BQU0sNkNBQTZDLFVBQVUsRUFBRSxxQ0FBcUMsR0FBRyxRQUFRLHVDQUF1QyxFQUFFLGlDQUFpQyxpQkFBaUIsTUFBTSxVQUFVLHFCQUFxQixJQUFJLFVBQVUsaUZBQWlGLE1BQU0sa0NBQWtDLE1BQU0sb0NBQW9DLFFBQVEsNkJBQTZCLEVBQUUsdUJBQXVCLGtCQUFrQixJQUFJLGVBQWUsR0FBRywwQkFBMEIsd0NBQXdDLEdBQUcsR0FBRyx1QkFBdUIsY0FBYyxTQUFTLDhCQUE4QixHQUFHLHdCQUF3QixvQ0FBb0MsK2pCQUErakIsTUFBTSx1Q0FBdUMsa0NBQWtDLDJCQUEyQixVQUFVLDJTQUEyUyxRQUFRLGdXQUFnVyw2QkFBNkIsc0RBQXNELG1JQUFtSSxtRUFBbUUsTUFBTSxrR0FBa0csdURBQXVELEtBQUssNENBQTRDLFFBQVEsTUFBTSxvRkFBb0YsZ0pBQWdKLDJCQUEyQixtV0FBbVcsTUFBTSxtUkFBbVIsa0NBQWtDLDBRQUEwUSx3REFBd0Qsd0RBQXdELGlDQUFpQywySUFBMkksa0NBQWtDLDRJQUE0SSw0QkFBNEIsc0lBQXNJLDJCQUEyQixNQUFNLDZFQUE2RSxNQUFNLGlPQUFpTywrSEFBK0gsSUFBSSw0QkFBNEIsTUFBTSw2RUFBNkUsNEZBQTRGLCtIQUErSCxHQUFHLGlDQUFpQywwQ0FBMEMsNEJBQTRCLE1BQU0sNkVBQTZFLDRGQUE0RiwrSEFBK0gsR0FBRywyQ0FBMkMsNERBQTRELGlSQUFpUiw0Q0FBNEMseU1BQXlNLGtDQUFrQyx1REFBdUQsMkJBQTJCLHdGQUF3RixlQUFlLFNBQVMsMEJBQTBCLG9iQUFvYix5QkFBeUIsU0FBUyxnREFBZ0QsZ0RBQWdELG9HQUFvRyx3REFBd0QsTUFBTSxRQUFRLElBQUksYUFBYSxFQUFFLDRDQUE0QyxtREFBbUQscUNBQXFDLFNBQVMsMkJBQTJCLHFEQUFxRCxvR0FBb0csd0RBQXdELE1BQU0sUUFBUSxJQUFJLGFBQWEsRUFBRSxrQ0FBa0MsVUFBVSxtREFBbUQscUNBQXFDLGVBQWUsU0FBUyxxQkFBcUIsaUJBQWlCLE1BQU0sVUFBVSxxQkFBcUIsSUFBSSxVQUFVLGtDQUFrQyxNQUFNLGlGQUFpRixNQUFNLG9DQUFvQyxRQUFRLDZCQUE2QixFQUFFLHVCQUF1QixpQkFBaUIsTUFBTSxVQUFVLHFCQUFxQixJQUFJLFVBQVUsa0NBQWtDLE1BQU0saUZBQWlGLE1BQU0sb0NBQW9DLFFBQVEsNkJBQTZCLEVBQUUsa0NBQWtDLHFDQUFxQyxlQUFlLE1BQU0sZUFBZSxlQUFlLFdBQVcsWUFBWSxJQUFJLHlDQUF5QyxXQUFXLFdBQVcsWUFBWSxJQUFJLEVBQUUsU0FBUyx3Q0FBd0MsU0FBUyxxQkFBcUIsTUFBTSxpRkFBaUYsSUFBSSw0QkFBNEIsU0FBUyxxQkFBcUIsT0FBTyxZQUFZLElBQUksVUFBVSwrQ0FBK0Msd0NBQXdDLEdBQUcsK0NBQStDLHdDQUF3QyxJQUFJLElBQUksK0JBQStCLGNBQWMscUJBQXFCLE9BQU8sT0FBTyxJQUFJLGFBQWEsZUFBZSxnREFBZ0Qsc0RBQXNELEdBQUcsc0NBQXNDLFdBQVcsUUFBUSwrQkFBK0IsR0FBRyx3QkFBd0IsY0FBYyxPQUFPLE9BQU8sZ0NBQWdDLG1GQUFtRixHQUFHLDRCQUE0QiwrRkFBK0Ysa0dBQWtHLG1GQUFtRixHQUFHLG9CQUFvQiw0RUFBNEUsNkJBQTZCLHFCQUFxQixNQUFNLElBQUksY0FBYyxHQUFHLHFCQUFxQixJQUFJLGNBQWMsR0FBRyxhQUFhLDBDQUEwQyxFQUFFLDBCQUEwQixZQUFZLFdBQVcsMEJBQTBCLE1BQU0seUNBQXlDLHlCQUF5Qiw0RUFBNEUsTUFBTSxLQUFLLElBQUksU0FBUyxJQUFJLGtDQUFrQyxvREFBb0QsMEJBQTBCLG9RQUFvUSxNQUFNLDhFQUE4RSxrTkFBa04sNEJBQTRCLCtLQUErSyx5QkFBeUIsOEZBQThGLHFCQUFxQix1RkFBdUYsd0tBQXdLLHNCQUFzQixtR0FBbUcsNEJBQTRCLDhGQUE4Riw0UkFBNFIsZ0JBQWdCLDBIQUEwSCxrV0FBa1csc0JBQXNCLHVGQUF1RixFQUFFLDZDQUE2QyxPQUFPLHdDQUF3Qyw0Q0FBNEMsS0FBSyw4QkFBOEIsSUFBSSxFQUFFLGdFQUFnRSxtQkFBbUIsdUNBQXVDLDBDQUEwQyxzREFBc0QseUJBQXlCLGtDQUFrQyxXQUFXLElBQUksbUJBQW1CLHFEQUFxRCwyQkFBMkIsa0VBQWtFLG1EQUFtRCxZQUFZLGlEQUFpRCxnRUFBZ0Usa0JBQWtCLGlCQUFpQixrREFBa0QsZ0NBQWdDLDRrQkFBNGtCLElBQUksc0NBQXNDLE1BQU0sNkVBQTZFLE1BQU0sOEVBQThFLHNGQUFzRiwyRkFBMkYsMmRBQTJkLElBQUksb0NBQW9DLDhCQUE4QixnQ0FBZ0MsZ0JBQWdCLGVBQWUsZ0JBQWdCLDZDQUE2Qyx5QkFBeUIsdUJBQXVCLGtGQUFrRixPQUFPLFFBQVEsSUFBSSx3R0FBd0csR0FBRyxnQ0FBZ0MscWVBQXFlLHl0RUFBeXRFLG1CQUFtQixXQUFXLGdGQUFnRixnQ0FBZ0MsOERBQThELElBQUksOENBQThDLElBQUksc0JBQXNCLDZCQUE2QixRQUFRLE1BQU0sR0FBRyxVQUFVLGVBQWUsdUhBQXVILGVBQWUsWUFBWSxpSUFBaUksU0FBUyxpQkFBaUIsb0NBQW9DLGlCQUFpQixxQkFBcUIsaUNBQWlDLHNDQUFzQywyQkFBMkIsdURBQXVELHNCQUFzQixTQUFTLGVBQWUsWUFBWSxtQkFBbUIsS0FBSyx5Q0FBeUMseUNBQXlDLGFBQWEsb0lBQW9JLGlFQUFpRSxHQUFHLFNBQVMsOENBQThDLHFCQUFxQiw4REFBOEQsa0NBQWtDLE9BQU8sNkJBQTZCLG1FQUFtRSw0REFBNEQsa0NBQWtDLHFCQUFxQix1RkFBdUYsaUJBQWlCLHVGQUF1RixlQUFlLHdHQUF3RyxpQ0FBaUMsNEJBQTRCLEVBQUUsdUdBQXVHLE1BQU0sRUFBRSx5Q0FBeUMsRUFBRSw2Q0FBNkMsU0FBUyxNQUFNLHdFQUF3RSx3Q0FBd0MsWUFBWSxpQkFBaUIsaUJBQWlCLHFCQUFxQixpQ0FBaUMsc0NBQXNDLDJCQUEyQix1REFBdUQsc0JBQXNCLFNBQVMsZUFBZSxZQUFZLG1CQUFtQixLQUFLLHlDQUF5Qyx5Q0FBeUMsYUFBYSxvSUFBb0ksaUVBQWlFLEdBQUcsU0FBUywwSUFBMEkseUJBQXlCLGdCQUFnQix1Q0FBdUMsd0JBQXdCLDhDQUE4QyxJQUFJLHNCQUFzQiwwQkFBMEIsaUJBQWlCLElBQUksb0JBQW9CLE1BQU0sU0FBUyxPQUFPLGtCQUFrQixHQUFHLG1DQUFtQywrQkFBK0IsSUFBSSwrQkFBK0IsOENBQThDLGtHQUFrRyxvQ0FBb0MsdUhBQXVILDREQUE0RCxXQUFXLDREQUE0RCxPQUFPLDZFQUE2RSxLQUFLLDJEQUEyRCxjQUFjLHNCQUFzQixNQUFNLEVBQUUsaUJBQWlCLDJIQUEySCxPQUFPLG9JQUFvSSx3QkFBd0IsTUFBTSxJQUFJLFdBQVcsMEVBQTBFLEVBQUUsd0NBQXdDLElBQUksdUhBQXVILG9DQUFvQyx1Q0FBdUMsNkJBQTZCLE1BQU0sUUFBUSxxQkFBcUIsYUFBYSxTQUFTLHlCQUF5QixRQUFRLE1BQU0sa0VBQWtFLFNBQVMsaUVBQWlFLFVBQVUsU0FBUyx1QkFBdUIsK0JBQStCLFNBQVMsbUJBQW1CLGlDQUFpQyxJQUFJLDBCQUEwQix5QkFBeUIsNEJBQTRCLDJDQUEyQyxNQUFNLHdCQUF3QixvQkFBb0IsT0FBTyxxQkFBcUIsSUFBSSxZQUFZLDhDQUE4QyxnQ0FBZ0MsSUFBSSx1SEFBdUgsb0NBQW9DLFVBQVUsc0RBQXNELE1BQU0sUUFBUSxxQkFBcUIsc0JBQXNCLDBKQUEwSixhQUFhLHNEQUFzRCxTQUFTLDRDQUE0QyxlQUFlLE1BQU0sSUFBSSxzQkFBc0IsNENBQTRDLHFCQUFxQixLQUFLLHdCQUF3QixVQUFVLGNBQWMsaUJBQWlCLHVCQUF1QixxQ0FBcUMsU0FBUyxzRUFBc0UsZUFBZSxNQUFNLGdCQUFnQiwrR0FBK0csMkNBQTJDLGlCQUFpQixxQ0FBcUMsSUFBSSx3REFBd0QsR0FBRyxJQUFJLHdDQUF3QyxTQUFTLGtEQUFrRCw2QkFBNkIsZUFBZSxvQkFBb0IsdUJBQXVCLGdCQUFnQixzREFBc0QsaUJBQWlCLG1CQUFtQiw4QkFBOEIsbUhBQW1ILGlFQUFpRSx5TkFBeU4sNEJBQTRCLDZSQUE2UixHQUFHLGVBQWUsdURBQXVELGlCQUFpQiwrQ0FBK0MsZUFBZSw2Q0FBNkMsK0lBQStJLGVBQWUsaUJBQWlCLGVBQWUsaUNBQWlDLDJDQUEyQyxHQUFHLHFCQUFxQixjQUFjLCtCQUErQixZQUFZLCtCQUErQixjQUFjLCtCQUErQixpQkFBaUIsK0JBQStCLGVBQWUsK0JBQStCLGlCQUFpQixtQ0FBbUMsZUFBZSxtQ0FBbUMsWUFBWSw4Q0FBOEMsb0JBQW9CLG1DQUFtQyxlQUFlLG1DQUFtQyxrQkFBa0IsK0JBQStCLG1CQUFtQiwrQkFBK0IsaUJBQWlCLG9DQUFvQyxZQUFZLGdDQUFnQyxrQkFBa0IsZ0NBQWdDLFlBQVksZ0NBQWdDLFlBQVksZ0NBQWdDLGNBQWMsb0NBQW9DLGdCQUFnQixnQ0FBZ0MscUJBQXFCLCtDQUErQyxlQUFlLGdDQUFnQyxzQkFBc0IsaUNBQWlDLGtCQUFrQix3QkFBd0Isc0NBQXNDLElBQUksZUFBZSxtQkFBbUIsU0FBUyxPQUFPLE9BQU8sRUFBRSxZQUFZLGNBQWMsZUFBZSxvQkFBb0IsTUFBTSx5QkFBeUIsTUFBTSwrQkFBK0IsTUFBTSw0QkFBNEIsTUFBTSxvQkFBb0IsU0FBUyxFQUFFLGtDQUFrQyxFQUFFLE9BQU8saUJBQWlCLFVBQVUsWUFBWSxVQUFVLEVBQUUsTUFBTSxtQkFBbUIsTUFBTSxlQUFlLE1BQU0sZUFBZSxNQUFNLG1EQUFtRCxlQUFlLFFBQVEsbUNBQW1DLFVBQVUsaUJBQWlCLHlEQUF5RCxhQUFhLGVBQWUseUJBQXlCLGlCQUFpQix5Q0FBeUMsZUFBZSwwQkFBMEIsb0JBQW9CLHFDQUFxQyxpQkFBaUIsZUFBZSxrREFBa0QscUJBQXFCLGlCQUFpQixxQkFBcUIsa0JBQWtCLGlCQUFpQiw4REFBOEQsWUFBWSxJQUFJLEtBQUsscUJBQXFCLDBlQUEwZSxTQUFTLGlCQUFpQixtQkFBbUIsWUFBWSxJQUFJLEtBQUssc0JBQXNCLG1HQUFtRyxRQUFRLHdCQUF3QixZQUFZLElBQUksS0FBSyxzQkFBc0IseU5BQXlOLGVBQWUsd0JBQXdCLGlCQUFpQixjQUFjLGNBQWMsZUFBZSxjQUFjLHNDQUFzQyxhQUFhLFNBQVMsaUJBQWlCLFdBQVcsT0FBTyx3QkFBd0IsU0FBUyxpQkFBaUIsa0JBQWtCLHVTQUF1Uyx5Q0FBeUMsaUJBQWlCLG9LQUFvSyxVQUFVLHVCQUF1QixnQ0FBZ0MsMENBQTBDLDBDQUEwQyx3Q0FBd0MsZ0NBQWdDLDBDQUEwQywwQ0FBMEMsd0NBQXdDLGdDQUFnQyxTQUFTLE1BQU0sZ0NBQWdDLFNBQVMsNkRBQTZELGlCQUFpQixVQUFVLHlKQUF5SixtQkFBbUIsUUFBUSwrQkFBK0IsaUJBQWlCLHVCQUF1QixvQkFBb0IscUJBQXFCLGtDQUFrQyxpQkFBaUIscUJBQXFCLGlDQUFpQyxzQ0FBc0MsMkJBQTJCLHVEQUF1RCxzQkFBc0IsU0FBUywwQkFBMEIsc0JBQXNCLDZCQUE2Qix1QkFBdUIsb0NBQW9DLDRCQUE0QixtRUFBbUUsY0FBYyxxQkFBcUIsZUFBZSxpTEFBaUwsK0NBQStDLFFBQVEsZUFBZSxNQUFNLDB5QkFBMHlCLHNKQUFzSiw4SUFBOEksd0tBQXdLLGtKQUFrSiw4aUJBQThpQixvR0FBb0csNkJBQTZCLGdCQUFnQiw2REFBNkQsb0NBQW9DLHlDQUF5QywyQ0FBMkMsdUJBQXVCLGlDQUFpQyx1QkFBdUIsWUFBWSxNQUFNLEdBQUcsRUFBRSxnQkFBZ0IsTUFBTSxtVEFBbVQsdUJBQXVCLHlGQUF5RixJQUFJLCtDQUErQyxHQUFHLEtBQUssNkJBQTZCLHlDQUF5Qyw4R0FBOEcsRUFBRSxZQUFZLG9CQUFvQixhQUFhLGtCQUFrQiw4QkFBOEIsZ0RBQWdELFNBQVMsdUJBQXVCLEVBQUUsOEJBQThCLDZFQUE2RSx3QkFBd0IsRUFBRSw4QkFBOEIsOEJBQThCLGlCQUFpQixxSEFBcUgsMkJBQTJCLEVBQUUsOEJBQThCLGdFQUFnRSx1RUFBdUUsMkJBQTJCLEVBQUUsOEJBQThCLGdDQUFnQyxxRUFBcUUsMkJBQTJCLEVBQUUsOEJBQThCLHdDQUF3QyxRQUFRLDhCQUE4QixJQUFJLGtCQUFrQixHQUFHLG1HQUFtRyx3RkFBd0YsNEJBQTRCLHNJQUFzSSxpQ0FBaUMsMkZBQTJGLHVIQUF1SCxVQUFVLDJDQUEyQyxJQUFJLHVCQUF1QixHQUFHLHdCQUF3Qix1QkFBdUIsdUZBQXVGLHFCQUFxQixpREFBaUQsNkdBQTZHLDJDQUEyQyxnQ0FBZ0MsMkNBQTJDLGdDQUFnQyxpREFBaUQsd0ZBQXdGLG9EQUFvRCxrQ0FBa0MsaUNBQWlDLHdaQUF3WiwrQ0FBK0MscUdBQXFHLGlGQUFpRixrREFBa0Qsc0ZBQXNGLHdEQUF3RCxrQ0FBa0Msd0RBQXdELG9HQUFvRyxHQUFHLG9CQUFvQixRQUFRLG1DQUFtQyw4QkFBOEIsOENBQThDLHFLQUFxSyxNQUFNLGdJQUFnSSxpQkFBaUIsMENBQTBDLDZDQUE2Qyw0R0FBNEcsK0JBQStCLElBQUksd0NBQXdDLGdKQUFnSixzWEFBc1gsZ0RBQWdELFlBQVksZ0RBQWdELDhDQUE4QyxrQkFBa0IsWUFBWSxtQkFBbUIsS0FBSyx5Q0FBeUMseUNBQXlDLGFBQWEsb0lBQW9JLGlFQUFpRSxHQUFHLFNBQVMsR0FBRyxJQUFJLHFJQUFxSSxVQUFVLHNDQUFzQyx3REFBd0Qsd0NBQXdDLEdBQUcsUUFBUSw4WEFBOFgsZUFBZSw4SkFBOEosbUhBQW1ILFFBQVEsMENBQTBDLElBQUksU0FBUyxHQUFHLHdCQUF3QiwySEFBMkgsaUJBQWlCLHFCQUFxQixpQ0FBaUMsc0NBQXNDLDJCQUEyQix1REFBdUQsc0JBQXNCLFNBQVMsZUFBZSxZQUFZLG1CQUFtQixLQUFLLHlDQUF5Qyx5Q0FBeUMsYUFBYSxvSUFBb0ksaUVBQWlFLEdBQUcsU0FBUyxnQkFBZ0IscUJBQXFCLGdCQUFnQixzQkFBc0IsaUNBQWlDLE9BQU8sZ0RBQWdELFFBQVEsZ0pBQWdKLFFBQVEsb0RBQW9ELFFBQVEsdUJBQXVCLFFBQVEseUJBQXlCLElBQUksbUJBQW1CLEdBQUcsa0JBQWtCLEVBQUUsUUFBUSxvREFBb0QsUUFBUSx5QkFBeUIsSUFBSSxtQkFBbUIsR0FBRyxRQUFRLHdCQUF3QixFQUFFLDBHQUEwRyxtQkFBbUIsZ0VBQWdFLCtEQUErRCxrREFBa0QsZ0JBQWdCLDRCQUE0QixzQkFBc0IsMkJBQTJCLGtCQUFrQixtQkFBbUIsa0JBQWtCLHlDQUF5QyxVQUFVLGlCQUFpQixrQkFBa0IseUJBQXlCLHdCQUF3Qiw2Q0FBNkMsV0FBVyx5QkFBeUIsV0FBVyxNQUFNLHVFQUF1RSxZQUFZLDBCQUEwQixpQkFBaUIsdUNBQXVDLGtCQUFrQixvREFBb0Qsb0JBQW9CLGdCQUFnQixlQUFlLE1BQU0sc1JBQXNSLG1rQkFBbWtCLHVCQUF1QixxakNBQXFqQyxxQ0FBcUMsOENBQThDLG9DQUFvQyxpQ0FBaUMsMkhBQTJILGtIQUFrSCx5Q0FBeUMsb0dBQW9HLE1BQU0scUNBQXFDLGdIQUFnSCxrQ0FBa0MsOERBQThELHlDQUF5QywrV0FBK1csMERBQTBELDBEQUEwRCxxQ0FBcUMsbUdBQW1HLDJKQUEySix3Q0FBd0Msa21CQUFrbUIsNEJBQTRCLG1GQUFtRiw0QkFBNEIsMERBQTBELGlRQUFpUSx3RUFBd0UsR0FBRyxnTUFBZ00sd0VBQXdFLElBQUksbUNBQW1DLDhEQUE4RCx5Q0FBeUMsd0dBQXdHLCtFQUErRSxhQUFhLDhCQUE4QixxUkFBcVIsbUJBQW1CLDJJQUEySSxxQkFBcUIsMklBQTJJLGdQQUFnUCwrQ0FBK0Msa0xBQWtMLHNCQUFzQixPQUFPLGlEQUFpRCwwREFBMEQscUNBQXFDLG1HQUFtRyxtSEFBbUgsd0NBQXdDLGdCQUFnQixpQ0FBaUMsd0JBQXdCLHFEQUFxRCxtRUFBbUUseUlBQXlJLE1BQU0saUNBQWlDLHdCQUF3QixxREFBcUQsbUVBQW1FLHdJQUF3SSx3Q0FBd0MsbVpBQW1aLHVDQUF1QywwREFBMEQsbUVBQW1FLHFDQUFxQyx5SEFBeUgsd0NBQXdDLGdCQUFnQiw4QkFBOEIsc0JBQXNCLGlEQUFpRCxrREFBa0Qsd0lBQXdJLE1BQU0sOEJBQThCLHNCQUFzQixpREFBaUQsa0RBQWtELHdJQUF3SSx3Q0FBd0MsVUFBVSwwV0FBMFcsNFFBQTRRLG9DQUFvQyxtTkFBbU4sdUNBQXVDLHNJQUFzSSxtQ0FBbUMsa0tBQWtLLDRDQUE0QyxxREFBcUQseUdBQXlHLGdEQUFnRCxFQUFFLE9BQU8saURBQWlELDZLQUE2Syx1REFBdUQscUNBQXFDLG1HQUFtRywySkFBMkosd0NBQXdDLHdtQkFBd21CLHdFQUF3RSxJQUFJLDJhQUEyYSwwQ0FBMEMsdUJBQXVCLFNBQVMsaUVBQWlFLHdGQUF3RixvSkFBb0osbUJBQW1CLEdBQUcsMERBQTBELHFDQUFxQyx3Q0FBd0MsK0VBQStFLEdBQUcsbUVBQW1FLDJTQUEyUyw0UkFBNFIsMEJBQTBCLDJIQUEySCwyRUFBMkUscUNBQXFDLHVGQUF1RixzRUFBc0UsNEJBQTRCLDhFQUE4RSxrQkFBa0IsV0FBVywyQkFBMkIsc0JBQXNCLHNEQUFzRCxJQUFJLHdCQUF3QixvQkFBb0IsNklBQTZJLHlFQUF5RSxzQkFBc0IsZ0NBQWdDLDZDQUE2QyxpSkFBaUosNmNBQTZjLElBQUksdUhBQXVILDRGQUE0RixTQUFTLDhCQUE4Qix1Q0FBdUMsNEJBQTRCLGVBQWUsZUFBZSxrUUFBa1EsNkdBQTZHLDhCQUE4Qix1Q0FBdUMsNEJBQTRCLGVBQWUsZUFBZSxpQ0FBaUMsZ0JBQWdCLG1IQUFtSCxFQUFFLGlIQUFpSCxtQkFBbUIsMktBQTJLLDJCQUEyQix1Q0FBdUMsNEJBQTRCLGVBQWUsWUFBWSxvQkFBb0IsRUFBRSwwU0FBMFMsK0NBQStDLHNEQUFzRCxFQUFFLHdPQUF3TyxnRUFBZ0Usa0JBQWtCO0FBQ2w2NUc7QUFDQTtBQUNBLHVFQUF1RSxZQUFZLFdBQVcsMEJBQTBCLFNBQVMsb0RBQW9ELCtCQUErQiwrREFBK0QsZ0JBQWdCLE1BQU0sbUJBQW1CLFNBQVMsWUFBWSxXQUFXLGtDQUFrQyxzQkFBc0Isb0JBQW9CLHdJQUF3SSx3REFBd0Qsb0xBQW9MLDZLQUE2SyxzREFBc0QsaUtBQWlLLGtEQUFrRCxTQUFTLHVDQUF1Qyx5R0FBeUcsd0hBQXdILDZDQUE2QyxrREFBa0QsSUFBSSx3QkFBd0IsMkJBQTJCLG1EQUFtRCxvUkFBb1IsNEpBQTRKLG9DQUFvQyx3Q0FBd0MsRUFBRSxzQkFBc0IsZ0JBQWdCLG1HQUFtRyxNQUFNLElBQUksTUFBTSwyQkFBMkIsZ0RBQWdELDhCQUE4QixxREFBcUQsa0dBQWtHLDJNQUEyTSw2QkFBNkIseU1BQXlNLE1BQU0sK0RBQStELCtLQUErSyxHQUFHLGNBQWMsMEJBQTBCLG1CQUFtQixNQUFNLHdCQUF3QixNQUFNLDhWQUE4VixnR0FBZ0csaUhBQWlILDBDQUEwQyx1SUFBdUksd0NBQXdDLEdBQUcsbUJBQW1CLHdDQUF3Qyx1QkFBdUIsTUFBTSxFQUFFLG1JQUFtSSxzQkFBc0IsZ0NBQWdDLGlIQUFpSCxvR0FBb0csaVNBQWlTLElBQUksc0dBQXNHLHlIQUF5SCxpQkFBaUIseUtBQXlLLFNBQVMsOEJBQThCLG1YQUFtWCxPQUFPLGVBQWUsZ0VBQWdFLHVLQUF1SyxjQUFjLHFLQUFxSyxvQkFBb0Isd0JBQXdCLDhDQUE4QyxvQ0FBb0Msa0lBQWtJLDBNQUEwTSxpQkFBaUIsaUVBQWlFLHNCQUFzQix5REFBeUQsT0FBTyxvRUFBb0UsUUFBUSxzR0FBc0csZ0JBQWdCLG1GQUFtRiwrR0FBK0csOEdBQThHLHNDQUFzQyw4RUFBOEUsK0NBQStDLGlEQUFpRCxFQUFFLElBQUksOElBQThJLFNBQVMsMkVBQTJFLFFBQVEsTUFBTSw2QkFBNkIsa0tBQWtLLHNDQUFzQyxJQUFJLGdNQUFnTSx5SEFBeUgsc0xBQXNMLHlLQUF5SyxrQkFBa0IsZ0JBQWdCLHFEQUFxRCxlQUFlLG9NQUFvTSxJQUFJLDRHQUE0RyxTQUFTLHNDQUFzQywrRkFBK0YsU0FBUyx3RkFBd0YsUUFBUSxNQUFNLG1CQUFtQixzSEFBc0gsU0FBUyw2QkFBNkIsTUFBTSw2REFBNkQsT0FBTywrRkFBK0YscUhBQXFILHNDQUFzQyxJQUFJLG1DQUFtQywwQ0FBMEMsMERBQTBELFdBQVcsTUFBTSxNQUFNLDBDQUEwQyw2SkFBNkosU0FBUyw2RUFBNkUsUUFBUSxTQUFTLCtCQUErQiwyTEFBMkwsc0NBQXNDLElBQUkscURBQXFELG9LQUFvSyxTQUFTLHlGQUF5RixRQUFRLFNBQVMsdUJBQXVCLHVCQUF1QiwwQ0FBMEMsc0VBQXNFLEtBQUssOEVBQThFLHdCQUF3QixrSUFBa0ksaUZBQWlGLHVLQUF1SyxvRUFBb0UsSUFBSSxJQUFJLDhDQUE4QywwQ0FBMEMsMkRBQTJELHFDQUFxQyw4WEFBOFgsb0NBQW9DLDBFQUEwRSxxSUFBcUksU0FBUyxrRkFBa0YsUUFBUSxNQUFNLGlDQUFpQyxNQUFNLDJIQUEySCxzTEFBc0wsNE1BQTRNLHNOQUFzTix3RUFBd0UsOExBQThMLHdDQUF3QyxnR0FBZ0csSUFBSSx5REFBeUQsNEJBQTRCLE1BQU0scU5BQXFOLE9BQU8sZ0pBQWdKLDhFQUE4RSxTQUFTLHFGQUFxRiwyR0FBMkcsaUhBQWlILFFBQVEsTUFBTSwyQkFBMkIsNkhBQTZILGlMQUFpTCxnQ0FBZ0MsZ0VBQWdFLHFIQUFxSCw2QkFBNkIsMkRBQTJELDJHQUEyRyw2REFBNkQsNENBQTRDLGdKQUFnSix3Q0FBd0MsK0ZBQStGLElBQUksK0ZBQStGLFNBQVMsa0ZBQWtGLG9IQUFvSCxTQUFTLFFBQVEsc05BQXNOLHNFQUFzRSxFQUFFLDhDQUE4QyxpRkFBaUYsU0FBUyxTQUFTLHlGQUF5RixRQUFRLE1BQU0sd0JBQXdCLGlFQUFpRSw2SEFBNkgsaUxBQWlMLGdDQUFnQyxnRUFBZ0UscUhBQXFILDZCQUE2QiwyREFBMkQsMkdBQTJHLDZHQUE2Ryw0Q0FBNEMsZ0pBQWdKLHlIQUF5SCxpREFBaUQscUNBQXFDLCtGQUErRixJQUFJLCtGQUErRixTQUFTLDRDQUE0QyxxR0FBcUcsaURBQWlELG9JQUFvSSxJQUFJLCtFQUErRSxTQUFTLHdFQUF3RSx3RkFBd0Ysb0dBQW9HLFNBQVMsOERBQThELHNOQUFzTixzRUFBc0UsRUFBRSw4Q0FBOEMsaUZBQWlGLFNBQVMsU0FBUyx5RkFBeUYsUUFBUSxNQUFNLHVCQUF1QiwrR0FBK0csaUxBQWlMLCtEQUErRCxnRkFBZ0YsSUFBSSxtQkFBbUIsR0FBRyx5REFBeUQsVUFBVSxLQUFLLHlCQUF5QixJQUFJLG1CQUFtQixHQUFHLFFBQVEsb0JBQW9CLHdDQUF3QyxJQUFJLE1BQU0scUJBQXFCLEtBQUssS0FBSyxZQUFZLG1CQUFtQixHQUFHLDJDQUEyQyxtRkFBbUYsbUdBQW1HLGdDQUFnQyxnRUFBZ0UsNElBQTRJLFNBQVMseUdBQXlHLDRDQUE0QyxrS0FBa0ssU0FBUyxzQ0FBc0MsTUFBTSwrQkFBK0IsbUlBQW1JLFNBQVMscUNBQXFDLHNDQUFzQyxxQkFBcUIsS0FBSyxLQUFLLFlBQVksbUJBQW1CLDBCQUEwQix5Q0FBeUMsK0NBQStDLGVBQWUsb0RBQW9ELG9DQUFvQyxtQ0FBbUMsTUFBTSxtREFBbUQsV0FBVyxrQkFBa0IsT0FBTywrQkFBK0IsbUdBQW1HLEtBQUssSUFBSSxpRUFBaUUsSUFBSSxtQkFBbUIsR0FBRyxRQUFRLDJHQUEyRyxHQUFHLGNBQWMsdUxBQXVMLDZDQUE2QywyQkFBMkIsSUFBSSwrREFBK0QsR0FBRyxvQkFBb0IsbURBQW1ELEdBQUcsR0FBRyxxQ0FBcUMsU0FBUyxvQ0FBb0MsaURBQWlELE1BQU0sTUFBTSxtSUFBbUksbUJBQW1CLElBQUksK0RBQStELGdCQUFnQix3QkFBd0IsTUFBTSx5R0FBeUcsTUFBTSxZQUFZLDJMQUEyTCxzRkFBc0YsK0RBQStELG1DQUFtQyxvQ0FBb0MsTUFBTSxrQ0FBa0MsNFZBQTRWLE1BQU0sZ0ZBQWdGLElBQUksbUJBQW1CLEdBQUcseURBQXlELFVBQVUsT0FBTyxTQUFTLHlEQUF5RCxRQUFRLFVBQVUseUJBQXlCLHVCQUF1QiwwQ0FBMEMsc0VBQXNFLEtBQUsseUJBQXlCLDhEQUE4RCw2Q0FBNkMsMklBQTJJLGdDQUFnQyxnRUFBZ0Usa0hBQWtILGlHQUFpRyx3Q0FBd0MsSUFBSSwwRUFBMEUsTUFBTSw4Q0FBOEMsc1JBQXNSLFNBQVMsb0dBQW9HLHNHQUFzRyxRQUFRLE1BQU0sbUNBQW1DLGtJQUFrSSxnQ0FBZ0MsZ0VBQWdFLGtIQUFrSCxNQUFNLHVCQUF1Qix3Q0FBd0MsWUFBWSx1QkFBdUIsZUFBZSw0Q0FBNEMsd0pBQXdKLGdJQUFnSSxJQUFJLHlEQUF5RCwrTEFBK0wsU0FBUyxvR0FBb0csdUdBQXVHLHlCQUF5QiwrSEFBK0gsOEVBQThFLElBQUksbUJBQW1CLEdBQUcsMERBQTBELEdBQUcsb0JBQW9CLGNBQWMscUJBQXFCLEtBQUssS0FBSyxJQUFJLG1CQUFtQixNQUFNLE9BQU8scUZBQXFGLHFHQUFxRywyRUFBMkUsMEhBQTBILFNBQVMsMkJBQTJCLGFBQWEsaUJBQWlCLFVBQVUsa0JBQWtCLE1BQU0seUJBQXlCLE1BQU0sMEJBQTBCLE1BQU0scUlBQXFJLFNBQVMsbUZBQW1GLGtGQUFrRixJQUFJLGdEQUFnRCwwSEFBMEgsSUFBSSxtQkFBbUIsR0FBRywwREFBMEQsR0FBRyxZQUFZLFNBQVMsaUlBQWlJLG9GQUFvRiwrQkFBK0IsY0FBYyxvQ0FBb0MsME5BQTBOLGtQQUFrUCw0REFBNEQsdU1BQXVNLHlCQUF5QixpRUFBaUUsaUNBQWlDLG1FQUFtRSwrRkFBK0YsOENBQThDLGdDQUFnQyxTQUFTLHNDQUFzQyxpQ0FBaUMsSUFBSSw2REFBNkQsaUNBQWlDLDZEQUE2RCwwQkFBMEIsOEJBQThCLGdHQUFnRyw0REFBNEQsa0RBQWtELGtGQUFrRixTQUFTLHNDQUFzQyxpQ0FBaUMsSUFBSSw2REFBNkQsaUNBQWlDLCtEQUErRCx5QkFBeUIsZUFBZSxrQ0FBa0Msd09BQXdPLDBHQUEwRyxrSkFBa0osZ0tBQWdLLHlCQUF5QixNQUFNLCtFQUErRSw2QkFBNkIsNkJBQTZCLHVIQUF1SCxxQkFBcUIsa0tBQWtLLG9CQUFvQiwyQkFBMkIsaUhBQWlILHdJQUF3SSxvTUFBb00sbUJBQW1CLGlDQUFpQyxnSEFBZ0gsd0lBQXdJLGtDQUFrQyxpQ0FBaUMsNEpBQTRKLHNDQUFzQyx3QkFBd0IsdUdBQXVHLGNBQWMsdUhBQXVILDJJQUEySSw4RUFBOEUsb0JBQW9CLG1IQUFtSCxvSkFBb0osZ0JBQWdCLDRCQUE0QixtR0FBbUcsa0JBQWtCLE1BQU0sa0JBQWtCLE1BQU0sa0JBQWtCLE1BQU0sdUZBQXVGLGlLQUFpSyxrQkFBa0Isa0hBQWtILG1RQUFtUSx5QkFBeUIsMEJBQTBCLDZFQUE2RSx3R0FBd0csY0FBYyxvQkFBb0IsT0FBTyw2UEFBNlAsZ0hBQWdILGFBQWEsSUFBSSw0QkFBNEIsRUFBRSxJQUFJLElBQUksd0xBQXdMLGlkQUFpZCxXQUFXLDBLQUEwSyxTQUFTLDJJQUEySSxXQUFXLDhHQUE4RyxTQUFTLHFJQUFxSSxVQUFVLG9PQUFvTywwQkFBMEIsdU1BQXVNLFlBQVksSUFBSSw4QkFBOEIsSUFBSSw4QkFBOEIsSUFBSSw4QkFBOEIsSUFBSSwyQkFBMkIsK1lBQStZLHlDQUF5QyxvRkFBb0YsNkhBQTZILFNBQVMsd0dBQXdHLGdIQUFnSCxvQ0FBb0MseUJBQXlCLElBQUksa0VBQWtFLHFDQUFxQyxrRUFBa0UsT0FBTyxTQUFTLGdHQUFnRyx5SUFBeUksbUNBQW1DLDZCQUE2QixJQUFJLGtEQUFrRCxTQUFTLHdGQUF3Riw4SUFBOEksNkJBQTZCLGNBQWMsbUpBQW1KLHFCQUFxQixzQ0FBc0MsbUJBQW1CLDBJQUEwSSxrRkFBa0YsTUFBTSwrSEFBK0gsNEJBQTRCLG9FQUFvRSxLQUFLLGFBQWEsR0FBRztBQUMxenNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRkFBMEYsb0JBQW9CLHdJQUF3SSxnQkFBZ0IscURBQXFELHlDQUF5QyxJQUFJLHVCQUF1QixrRkFBa0YsOEZBQThGLHVHQUF1RyxpQkFBaUIsR0FBRyw4R0FBOEcsUUFBUSxFQUFFLDREQUE0RCxTQUFTLGtIQUFrSCxRQUFRLE1BQU0sNkJBQTZCLDhKQUE4Six3Q0FBd0Msc0NBQXNDLDhDQUE4QyxjQUFjLDRFQUE0RSwrQ0FBK0MsOEJBQThCLE9BQU8sNkdBQTZHLDZIQUE2SCxzTUFBc00sNEJBQTRCLHNFQUFzRSxzQkFBc0IsNkVBQTZFLDJCQUEyQixrR0FBa0cscUZBQXFGLHNEQUFzRCxnQ0FBZ0MsNkVBQTZFLGlDQUFpQyw4RUFBOEUsOEJBQThCLHVKQUF1SiwyQkFBMkIsTUFBTSxpRUFBaUUsMkZBQTJGLHNEQUFzRCxVQUFVLDhCQUE4QixzQkFBc0IsK0JBQStCLFNBQVMsd05BQXdOLE1BQU0sa0RBQWtELCtDQUErQyxtRUFBbUUsaUdBQWlHLHFCQUFxQiwwQkFBMEIsMENBQTBDLGtEQUFrRCxNQUFNLCtDQUErQywwTUFBME0sb0RBQW9ELHlFQUF5RSxLQUFLLGdCQUFnQix3RkFBd0YsZ0VBQWdFLHNEQUFzRCw2Q0FBNkMsRUFBRSxpQ0FBaUMscUlBQXFJLHVEQUF1RCxxQkFBcUIsc0RBQXNELHNCQUFzQix1REFBdUQscUJBQXFCLHNEQUFzRCxzQkFBc0IsdURBQXVELDBCQUEwQiwyREFBMkQsd0JBQXdCLDBGQUEwRixJQUFJLHVDQUF1QyxTQUFTLG9GQUFvRixzQkFBc0IsSUFBSSxxQkFBcUIsR0FBRyxrWUFBa1ksU0FBUywydkJBQTJ2QixvS0FBb0ssMjlCQUEyOUIsNENBQTRDLE9BQU8sd0JBQXdCLDZCQUE2QixRQUFRLG1CQUFtQixNQUFNLGNBQWMsZ0tBQWdLLCtCQUErQix5Q0FBeUMsT0FBTyxvU0FBb1Msa0NBQWtDLDhCQUE4QixvR0FBb0csNEJBQTRCLG9IQUFvSCxpTEFBaUwseUtBQXlLLDREQUE0RCxJQUFJLDJGQUEyRixtQ0FBbUMsNkJBQTZCLE1BQU0sSUFBSSwyREFBMkQsU0FBUyxtQkFBbUIsZ0JBQWdCLDhDQUE4QyxNQUFNLDZCQUE2QixNQUFNLE1BQU0sTUFBTSxJQUFJLCtDQUErQyxTQUFTLGdEQUFnRCw0REFBNEQsNkNBQTZDLGtLQUFrSyxTQUFTLGlGQUFpRixTQUFTLDBCQUEwQixvSEFBb0gsaUxBQWlMLDJEQUEyRCw0REFBNEQsb0VBQW9FLDZDQUE2Qyx3SkFBd0osSUFBSSxpR0FBaUcsTUFBTSxNQUFNLE1BQU0sSUFBSSwrQ0FBK0MsU0FBUyxnREFBZ0QsOEdBQThHLFNBQVMseUZBQXlGLFNBQVMsOEJBQThCLFdBQVcsNklBQTZJLFVBQVUsOElBQThJLGdDQUFnQyxNQUFNLG1DQUFtQyxtQ0FBbUMseURBQXlELDBEQUEwRCwrQkFBK0IsbUNBQW1DLDJEQUEyRCw0REFBNEQsK0NBQStDLHVHQUF1Ryx5QkFBeUIsb01BQW9NLDJCQUEyQix1RUFBdUUsS0FBSyxnT0FBZ08saUNBQWlDLG9JQUFvSSxtQ0FBbUMsSUFBSSw2Q0FBNkMsaUNBQWlDLGdLQUFnSyxrQkFBa0Isb0NBQW9DLGlCQUFpQiwwRkFBMEYsbUJBQW1CLCtDQUErQyw4RUFBOEUsTUFBTSxrR0FBa0csTUFBTSxxQ0FBcUMsOEJBQThCLElBQUksa0JBQWtCLFFBQVEsTUFBTSxTQUFTLHdCQUF3Qiw0QkFBNEIsMkRBQTJELHNHQUFzRyxHQUFHLEdBQUcsNkNBQTZDLG1CQUFtQixHQUFHLDRDQUE0QyxJQUFJLDJEQUEyRCx3Q0FBd0MseUdBQXlHLDRMQUE0TCxPQUFPLDZDQUE2QyxlQUFlLGdCQUFnQixJQUFJLDBLQUEwSyw4TkFBOE4sb0ZBQW9GLElBQUksb0pBQW9KLElBQUksa0JBQWtCLHdDQUF3Qyw0R0FBNEcsa0RBQWtELDJJQUEySSwyR0FBMkcsNEtBQTRLLEdBQUcsNkJBQTZCLHlDQUF5QyxNQUFNLHVEQUF1RCxvRkFBb0YsV0FBVyx5SEFBeUgsOERBQThELElBQUksb0VBQW9FLDBEQUEwRCxRQUFRLGlHQUFpRyx1QkFBdUIsNkNBQTZDLGlEQUFpRCx3REFBd0QsTUFBTSwwQkFBMEIsV0FBVyxrREFBa0QsMEdBQTBHLDhEQUE4RCw0QkFBNEIsc0JBQXNCLGdKQUFnSiw4Q0FBOEMsK1pBQStaLHdOQUF3Tix5QkFBeUIsTUFBTSxpREFBaUQscURBQXFELG9GQUFvRixHQUFHLGlEQUFpRCxzREFBc0QsZ0ZBQWdGLEdBQUcsZ05BQWdOLGlHQUFpRyxZQUFZLDBHQUEwRyxtR0FBbUcsMkhBQTJILHdIQUF3SCxVQUFVLEdBQUcsSUFBSSx3REFBd0QsK0ZBQStGLDBuQ0FBMG5DLDRCQUE0QixJQUFJLElBQUksUUFBUSxLQUFLLDREQUE0RCx1RkFBdUYsSUFBSSx5QkFBeUIsbUJBQW1CLEVBQUUsd0NBQXdDLEdBQUcsb1ZBQW9WLFNBQVMsdUNBQXVDLElBQUksVUFBVSxzQkFBc0IsbURBQW1ELCtDQUErQyxVQUFVLGNBQWMsR0FBRyxRQUFRLFNBQVMsT0FBTywwQ0FBMEMsaUZBQWlGLGlEQUFpRCw2RUFBNkUsdURBQXVELDRCQUE0QixtQkFBbUIsSUFBSSw4Q0FBOEMsNEhBQTRILG1FQUFtRSxJQUFJLGtEQUFrRCxtRkFBbUYsU0FBUyxPQUFPLDRDQUE0Qyw0QkFBNEIsMkRBQTJELDZCQUE2QiwrQ0FBK0MsSUFBSSwyQkFBMkIsR0FBRywwREFBMEQsTUFBTSwyQ0FBMkMscUNBQXFDLEVBQUUsSUFBSSxhQUFhLDJCQUEyQixnQ0FBZ0MsZUFBZSxzRUFBc0UsaUJBQWlCLGVBQWUsK0VBQStFLEVBQUUsK0JBQStCLE1BQU0sb0VBQW9FLE9BQU8scUVBQXFFLDBEQUEwRCxJQUFJLEdBQUcsNkJBQTZCLHlkQUF5ZCxrQ0FBa0MsZ0VBQWdFLCtCQUErQixtQ0FBbUMsTUFBTSxvZ0JBQW9nQixxQkFBcUIsNENBQTRDLHNEQUFzRCxNQUFNLGFBQWEsb0JBQW9CLDRLQUE0SywrSUFBK0ksOEJBQThCLCtHQUErRyx3RUFBd0UsbUJBQW1CLHVDQUF1QywwREFBMEQsUUFBUSwrQkFBK0IsMkhBQTJILHFCQUFxQiwwQkFBMEIsTUFBTSxFQUFFLFVBQVUsS0FBSyxtSkFBbUosR0FBRyxpREFBaUQsUUFBUSx3RkFBd0YsbUJBQW1CLHVKQUF1SixpT0FBaU8sMkRBQTJELDRNQUE0TSxtREFBbUQsNkZBQTZGLGNBQWMsMEZBQTBGLG9EQUFvRCxvREFBb0QscURBQXFELG9EQUFvRCxxREFBcUQsNEJBQTRCLGlCQUFpQixhQUFhLGFBQWEsTUFBTSxRQUFRLGlCQUFpQixJQUFJLGNBQWMsR0FBRyxvQkFBb0IsZUFBZSxJQUFJLGNBQWMsR0FBRyxvQkFBb0IsZUFBZSxJQUFJLGNBQWMsR0FBRyx1Q0FBdUMsRUFBRSxpREFBaUQsMk1BQTJNLElBQUksY0FBYyxHQUFHLG9CQUFvQixxSEFBcUgsSUFBSSxjQUFjLEdBQUcsb0JBQW9CLDJGQUEyRixHQUFHLE1BQU0scURBQXFELGdSQUFnUixJQUFJLDJDQUEyQyxvQkFBb0Isd0RBQXdELDRCQUE0QixxR0FBcUcsY0FBYyxzQkFBc0IsbURBQW1ELG9QQUFvUCwrSEFBK0gsa3FCQUFrcUIseUJBQXlCLGdFQUFnRSx5QkFBeUIsR0FBRywrS0FBK0sseUNBQXlDLDZFQUE2RSw4WkFBOFosMERBQTBELElBQUksY0FBYyxHQUFHLGtIQUFrSCxNQUFNLHNDQUFzQyxJQUFJLEdBQUcsbUJBQW1CLGdEQUFnRCwyQ0FBMkMsK0NBQStDLElBQUksTUFBTSxHQUFHLGNBQWMsSUFBSSwrQkFBK0IsR0FBRyx3REFBd0QscUNBQXFDLHFHQUFxRyxLQUFLLCtDQUErQyxHQUFHLGlEQUFpRCxzQ0FBc0MsTUFBTSxtQ0FBbUMscUVBQXFFLE1BQU0sU0FBUyxPQUFPLHNEQUFzRCxzRUFBc0Usc0RBQXNELG1DQUFtQyxJQUFJLGlCQUFpQixvQ0FBb0MsNkhBQTZILElBQUksb0JBQW9CLElBQUksY0FBYyxrQ0FBa0Msd0VBQXdFLE9BQU8sU0FBUyxRQUFRLGtEQUFrRCxJQUFJLFNBQVMsR0FBRyxVQUFVLDhEQUE4RCxNQUFNLDhEQUE4RCxNQUFNLGdIQUFnSCxNQUFNLGtIQUFrSCx3REFBd0Qsc0NBQXNDLElBQUksMkJBQTJCLEdBQUcsMEdBQTBHLFNBQVMsT0FBTywyQ0FBMkMsbUNBQW1DLElBQUksd0JBQXdCLEdBQUcsMkNBQTJDLDZEQUE2RCxJQUFJLElBQUksWUFBWSxHQUFHLGdGQUFnRixTQUFTLE9BQU8sNENBQTRDLHVFQUF1RSw0REFBNEQsSUFBSSwrREFBK0QsU0FBUyxPQUFPLCtEQUErRCxzQkFBc0Isc0ZBQXNGLFNBQVMsb0NBQW9DLFVBQVUsNkRBQTZELHNCQUFzQixvRkFBb0YsU0FBUyxvQ0FBb0MsVUFBVSw2Q0FBNkMsZ0RBQWdELEdBQUcsMEJBQTBCLHVEQUF1RCxzQkFBc0IsbUZBQW1GLFNBQVMsb0NBQW9DLFVBQVUsMkRBQTJELHNCQUFzQixxRkFBcUYsU0FBUyxvQ0FBb0MsVUFBVSxvREFBb0QscUNBQXFDLCtEQUErRCxzQkFBc0IscURBQXFELElBQUksY0FBYyw2REFBNkQsR0FBRyxTQUFTLHNDQUFzQyxxQkFBcUIsMkRBQTJELElBQUksUUFBUSxjQUFjLGlGQUFpRixLQUFLLFNBQVMsT0FBTywrQ0FBK0MsMkJBQTJCLGdEQUFnRCxrQ0FBa0MsaURBQWlELDJDQUEyQywrQ0FBK0MseUNBQXlDLDJDQUEyQyxpQ0FBaUMscURBQXFELHlDQUF5Qyw0REFBNEQsaUJBQWlCLGdCQUFnQixJQUFJLGtDQUFrQyxnQkFBZ0IsR0FBRyxTQUFTLHVCQUF1QixJQUFJLGdCQUFnQixhQUFhLHNCQUFzQixRQUFRLGVBQWUsc0NBQXNDLElBQUksY0FBYyxzQkFBc0IsR0FBRyxvREFBb0QsMkJBQTJCLHNEQUFzRCxNQUFNLElBQUksbURBQW1ELDRDQUE0QyxxRUFBcUUsR0FBRywwQ0FBMEMsa0NBQWtDLG1EQUFtRCxZQUFZLDJHQUEyRyx1RUFBdUUseUZBQXlGLHNDQUFzQywyQ0FBMkMsZ0RBQWdELG1FQUFtRSxrREFBa0QsMENBQTBDLHVEQUF1RCw2QkFBNkIsNkNBQTZDLEdBQUcsd0RBQXdELHlCQUF5QixHQUFHLGdCQUFnQiw2QkFBNkIsOEJBQThCLGlMQUFpTCwrSUFBK0ksSUFBSSxVQUFVLFNBQVMsaUNBQWlDLGlEQUFpRCxJQUFJLGdEQUFnRCxnQkFBZ0IsY0FBYyx3RUFBd0UsTUFBTSxTQUFTLDhCQUE4QixPQUFPLDRCQUE0Qix3Q0FBd0MsbUZBQW1GLGlMQUFpTCxtQkFBbUIsaUNBQWlDLE1BQU0sb09BQW9PLDhDQUE4Qyx1Q0FBdUMsOERBQThELEdBQUcsOEJBQThCLGtIQUFrSCxJQUFJLDRDQUE0QyxTQUFTLCtCQUErQiw4QkFBOEIsc0JBQXNCLHlEQUF5RCx1SEFBdUgsSUFBSSxxREFBcUQsTUFBTSxVQUFVLFNBQVMsa0NBQWtDLHVEQUF1RCxJQUFJLGdEQUFnRCxnQkFBZ0IsY0FBYyx3RUFBd0UsT0FBTyxTQUFTLCtCQUErQixNQUFNLE1BQU0sa0hBQWtILElBQUksd0ZBQXdGLFNBQVMsZ0NBQWdDLCtCQUErQix3Q0FBd0Msb0ZBQW9GLGdLQUFnSyxtQkFBbUIsdUNBQXVDLDhEQUE4RCxHQUFHLG1CQUFtQixlQUFlLHVEQUF1RCw0RkFBNEYsd0dBQXdHLCtCQUErQixvRkFBb0Ysc0NBQXNDLHlIQUF5SCwyQkFBMkIsVUFBVSxxRUFBcUUsTUFBTSx3RUFBd0UscW1KQUFxbUosaUJBQWlCLHFOQUFxTixZQUFZLHlGQUF5RixzQ0FBc0MsNkVBQTZFLGtCQUFrQix5QkFBeUIsbUJBQW1CLCtEQUErRCxvR0FBb0csaUNBQWlDLDJEQUEyRCxFQUFFLCtDQUErQyxJQUFJLHdDQUF3Qyw0QkFBNEIseUNBQXlDLDZCQUE2QixTQUFTLHFEQUFxRCxtQ0FBbUMsMENBQTBDLE1BQU0sSUFBSSwyTEFBMkwsU0FBUyxvREFBb0QsMkVBQTJFLG1DQUFtQywyQkFBMkIsYUFBYSxvQkFBb0IsOEJBQThCLG1FQUFtRSw2REFBNkQsb0VBQW9FLFFBQVEseUpBQXlKLFdBQVcsd0RBQXdELE9BQU8sZ0JBQWdCLG1FQUFtRSxTQUFTLGNBQWMsY0FBYyw2Q0FBNkMsMkJBQTJCLHNHQUFzRyxvQ0FBb0MsZ0RBQWdELDZKQUE2SiwwQkFBMEIsOEJBQThCLHFJQUFxSSxpQkFBaUIscUJBQXFCLGlDQUFpQyxzQ0FBc0MsMkJBQTJCLHVEQUF1RCxzQkFBc0IsU0FBUyxlQUFlLFlBQVksbUJBQW1CLEtBQUsseUNBQXlDLHlDQUF5QyxhQUFhLG9JQUFvSSxpRUFBaUUsR0FBRyxTQUFTLHdCQUF3QixlQUFlLDhEQUE4RCxjQUFjLGlDQUFpQyx1Q0FBdUMsVUFBVSxxSEFBcUgsbUJBQW1CLGdSQUFnUiw0TkFBNE4sbURBQW1ELHNDQUFzQyxXQUFXLGVBQWUsZUFBZSxLQUFLLE9BQU8sU0FBUyx1VkFBdVYsT0FBTyxxQkFBcUIsT0FBTyxzQkFBc0IsT0FBTyxzQkFBc0IsT0FBTyxxQkFBcUIsT0FBTyxxQkFBcUIsdUJBQXVCLGtIQUFrSCxhQUFhLGlCQUFpQixrREFBa0QsT0FBTyxpREFBaUQsdUVBQXVFLGNBQWMseUpBQXlKLGNBQWMsdUJBQXVCLFlBQVksUUFBUSx1QkFBdUIsYUFBYSxhQUFhLGNBQWMsNEJBQTRCLFFBQVEsTUFBTSx5QkFBeUIsUUFBUSxLQUFLLEtBQUssZUFBZSwrQkFBK0IsUUFBUSxNQUFNLFFBQVEsS0FBSyx1QkFBdUIsUUFBUSxLQUFLLHVCQUF1QixRQUFRLEtBQUsscUJBQXFCLG9FQUFvRSxRQUFRLHlHQUF5RyxnQkFBZ0IsZ0JBQWdCLDBDQUEwQyxjQUFjLHVCQUF1QixLQUFLLG1HQUFtRywrQkFBK0IsYUFBYSxjQUFjLGdCQUFnQix1UUFBdVEsb0JBQW9CLGFBQWEsWUFBWSxrR0FBa0csb0NBQW9DLElBQUksa0VBQWtFLEtBQUssYUFBYSxnR0FBZ0csaUNBQWlDLEtBQUssY0FBYyxJQUFJLCtPQUErTyxxQkFBcUIsd0NBQXdDLDJLQUEySyxRQUFRLE1BQU0sb0JBQW9CLCtDQUErQyxNQUFNLHdLQUF3SyxVQUFVLEdBQUcsVUFBVSxrQkFBa0IsS0FBSyx5REFBeUQsV0FBVyxRQUFRLE1BQU0sd0JBQXdCLE1BQU0sc0ZBQXNGLDJCQUEyQixjQUFjLGdDQUFnQyw4Q0FBOEMsS0FBSyx3TUFBd00sY0FBYyxnQ0FBZ0MsMkJBQTJCLEtBQUssMkNBQTJDLDRCQUE0QixjQUFjLG9KQUFvSixzREFBc0Qsc0JBQXNCLGdIQUFnSCxRQUFRLFdBQVcsOEJBQThCLFlBQVksS0FBSyxvQkFBb0IsV0FBVyxjQUFjLHNCQUFzQixLQUFLLG9CQUFvQixXQUFXLGNBQWMsVUFBVSxLQUFLLHVCQUF1QixhQUFhLGtCQUFrQixRQUFRLE1BQU0sV0FBVyxRQUFRLE9BQU8sd0JBQXdCLEtBQUssT0FBTyx3QkFBd0IsS0FBSyxPQUFPLHdCQUF3QixLQUFLLE9BQU8sd0JBQXdCLHFCQUFxQixLQUFLLGdDQUFnQyx1RkFBdUYseUlBQXlJLGdCQUFnQixZQUFZLHdEQUF3RCxtQkFBbUIsUUFBUSxNQUFNLGlEQUFpRCwwRUFBMEUsU0FBUyxLQUFLLHFDQUFxQyxTQUFTLDJDQUEyQyxNQUFNLGlHQUFpRywrQkFBK0IsS0FBSyxrQ0FBa0Msc0xBQXNMLE1BQU0sOENBQThDLElBQUksaUNBQWlDLDZDQUE2QyxnR0FBZ0csd1FBQXdRLDRCQUE0Qiw4SUFBOEksTUFBTSxLQUFLLDZFQUE2RSxnQkFBZ0IscUNBQXFDLEtBQUssTUFBTSxFQUFFLG1CQUFtQix3QkFBd0IsV0FBVyxtQkFBbUIsaUJBQWlCLDBCQUEwQixXQUFXLFlBQVksTUFBTSxLQUFLLElBQUksWUFBWSxJQUFJLGlDQUFpQyxRQUFRLFNBQVMsb0JBQW9CLGVBQWUsTUFBTSxZQUFZLElBQUksNEJBQTRCLFlBQVksS0FBSywyS0FBMkssS0FBSyw2WUFBNlksRUFBRSw2RUFBNkUsS0FBSywrUUFBK1EsOEhBQThILGVBQWUsS0FBSyxPQUFPLFNBQVMsUUFBUSxxQkFBcUIsa0JBQWtCLHNDQUFzQyxXQUFXLFFBQVEsc0NBQXNDLFdBQVcsb0RBQW9ELDBCQUEwQixtT0FBbU8sWUFBWSx3R0FBd0csWUFBWSw4QkFBOEIsWUFBWSx1RUFBdUUsZ0JBQWdCLGlCQUFpQixpTkFBaU4sWUFBWSxnTUFBZ00sb0VBQW9FLGtFQUFrRSxTQUFTLEdBQUcsbUpBQW1KLDBCQUEwQixrQ0FBa0Msc0JBQXNCLDRCQUE0QixvQ0FBb0MsUUFBUSxxQkFBcUIsR0FBRyw2T0FBNk8sMktBQTJLLGdKQUFnSixHQUFHLDJDQUEyQyxZQUFZLDhGQUE4RixHQUFHLG9OQUFvTix3ZEFBd2QsYUFBYSx3M0NBQXczQyxZQUFZLFFBQVEsTUFBTSxFQUFFLG1CQUFtQix5Q0FBeUMseUJBQXlCLGlXQUFpVyxpQkFBaUIsd0lBQXdJLDJCQUEyQixjQUFjLDJIQUEySCwrREFBK0QsK0NBQStDLHFJQUFxSSxZQUFZLFVBQVUsTUFBTSxFQUFFLG1CQUFtQix5Q0FBeUMseUJBQXlCLGtkQUFrZCwySEFBMkgsNklBQTZJLDBCQUEwQixpR0FBaUcsMkJBQTJCLHlHQUF5RyxxREFBcUQsZ05BQWdOLHVCQUF1QixvRkFBb0YseU9BQXlPLGNBQWMsdXFDQUF1cUMsV0FBVyxlQUFlLGNBQWMsbUpBQW1KLFFBQVEseUJBQXlCLHdDQUF3QyxjQUFjLGtKQUFrSixRQUFRLFlBQVksb0JBQW9CLGlUQUFpVCxhQUFhLG9CQUFvQixnQkFBZ0IsUUFBUSxpSUFBaUksYUFBYSxhQUFhLDJnQkFBMmdCLFlBQVkseUNBQXlDLGNBQWMsaUdBQWlHLG1CQUFtQixpQ0FBaUMsbURBQW1ELDZEQUE2RCxpREFBaUQsMkRBQTJELGlDQUFpQyw2T0FBNk8sa0JBQWtCLHNoQkFBc2hCLG9LQUFvSyxrQkFBa0IsbUJBQW1CLDBEQUEwRCxLQUFLLCtCQUErQixFQUFFLG1DQUFtQyxxUEFBcVAsVUFBVSxxQ0FBcUMsdUtBQXVLLGFBQWEsa0JBQWtCLGtCQUFrQixrQkFBa0IsR0FBRyxtQ0FBbUMsK0hBQStILEtBQUssc0ZBQXNGLGFBQWEsMkZBQTJGLGFBQWEsa0JBQWtCLHFCQUFxQixrQkFBa0IsR0FBRyxtQ0FBbUMsK0hBQStILEtBQUssNEZBQTRGLGFBQWEsK0VBQStFLGNBQWMsbUJBQW1CLGtCQUFrQixtRkFBbUYsa0RBQWtELDZEQUE2RCwyREFBMkQsbURBQW1ELE1BQU0sTUFBTSxFQUFFLDZDQUE2QyxtQkFBbUIsTUFBTSwwSEFBMEgsNkdBQTZHLGdDQUFnQyx1QkFBdUIsTUFBTSxFQUFFLG9CQUFvQiwwQ0FBMEMseUJBQXlCLDhHQUE4RyxnQkFBZ0IsR0FBRywyR0FBMkcsa0ZBQWtGLGtPQUFrTyw2R0FBNkcsNkJBQTZCLHlGQUF5RixnTEFBZ0wsNlRBQTZULFlBQVksZUFBZSxtQkFBbUIsdUJBQXVCLHNEQUFzRCw0REFBNEQsNERBQTRELCtCQUErQixrREFBa0QsdUNBQXVDLDZDQUE2QyxlQUFlLEVBQUUsaUNBQWlDLGtHQUFrRyxXQUFXLGtDQUFrQyw2TEFBNkwsS0FBSyw2TEFBNkwsbUJBQW1CLHFCQUFxQix1Q0FBdUMsMEVBQTBFLHlEQUF5RCxtQkFBbUIsOENBQThDLEtBQUssU0FBUyxFQUFFLGdCQUFnQixNQUFNLGtFQUFrRSxzQ0FBc0MsU0FBUyxtQkFBbUIsUUFBUSx1QkFBdUIsSUFBSSxtQkFBbUIsd0JBQXdCLDJCQUEyQixJQUFJLEtBQUssV0FBVyx3QkFBd0IsVUFBVSxPQUFPLElBQUksbURBQW1ELE1BQU0sT0FBTywyQkFBMkIsWUFBWSxNQUFNLHlEQUF5RCxrQkFBa0IsUUFBUSxlQUFlLG1HQUFtRyw2QkFBNkIsUUFBUSxJQUFJLDZKQUE2SixnQ0FBZ0MsSUFBSSxtVUFBbVUsU0FBUyxvQkFBb0Isa0JBQWtCLGlIQUFpSCx5QkFBeUIsWUFBWSxJQUFJLEVBQUUsYUFBYSxVQUFVLFNBQVMsU0FBUyxZQUFZLDJCQUEyQixNQUFNLDJCQUEyQixTQUFTLHNCQUFzQiwyRkFBMkYsZ0JBQWdCLGlHQUFpRyxTQUFTLFlBQVksSUFBSSxpQ0FBaUMsU0FBUyxPQUFPLG9CQUFvQix1Q0FBdUMsVUFBVSxLQUFLLHNCQUFzQixLQUFLLHNDQUFzQyxlQUFlLDZMQUE2TCwrQkFBK0IsK0lBQStJLElBQUksZUFBZSx3QkFBd0Isd0VBQXdFLE1BQU0sRUFBRSxtQkFBbUIsd01BQXdNLHFGQUFxRixpQ0FBaUMsbUVBQW1FLE1BQU0sNk5BQTZOLG9CQUFvQixpQkFBaUIsZ0JBQWdCLDZDQUE2QyxnQkFBZ0IsZ0NBQWdDLDZDQUE2Qyx3QkFBd0Isd0xBQXdMLHlLQUF5SyxNQUFNLDRKQUE0SixvQkFBb0IsZ0ZBQWdGLDZCQUE2Qiw0QkFBNEIsVUFBVSxpQ0FBaUMscUJBQXFCLGdDQUFnQyx1R0FBdUcsUUFBUSwrQ0FBK0MsZUFBZSxpQkFBaUIsb0JBQW9CLGVBQWUsa0JBQWtCLGNBQWMsMkJBQTJCLDhEQUE4RCwrT0FBK08sS0FBSyxxREFBcUQsUUFBUSxFQUFFLDBEQUEwRCxNQUFNLFlBQVksWUFBWSw0QkFBNEIsV0FBVyxTQUFTLGFBQWEsUUFBUSw4Q0FBOEMsUUFBUSw2SEFBNkgsUUFBUSxFQUFFLDhDQUE4QyxZQUFZLDRCQUE0QixXQUFXLHdDQUF3QyxRQUFRLHdGQUF3RixnREFBZ0QsUUFBUSwwQkFBMEIsc0JBQXNCLGdEQUFnRCxRQUFRLGtCQUFrQixlQUFlLEtBQUssaUJBQWlCLFdBQVcsWUFBWSxhQUFhLHNCQUFzQixLQUFLLGlCQUFpQixXQUFXLFlBQVksU0FBUyxpQkFBaUIsV0FBVyxhQUFhLG9CQUFvQixLQUFLLGlCQUFpQixXQUFXLFdBQVcsS0FBSyxJQUFJLGdEQUFnRCx5Q0FBeUMsTUFBTSxNQUFNLGtEQUFrRCxXQUFXLHlDQUF5QyxPQUFPLE9BQU8sZ0JBQWdCLDJJQUEySSwrZkFBK2Ysc0lBQXNJLFFBQVEsTUFBTSxXQUFXLFFBQVEsSUFBSSxnQkFBZ0IsYUFBYSxlQUFlLEtBQUssc0VBQXNFLFFBQVEsY0FBYyxLQUFLLHVCQUF1QixNQUFNLG1DQUFtQyxpQ0FBaUMsZ0JBQWdCLEtBQUssdUJBQXVCLFFBQVEsSUFBSSxvQ0FBb0MsK0lBQStJLE1BQU0sRUFBRSxxR0FBcUcseUNBQXlDLGFBQWEsYUFBYSxJQUFJLE9BQU8sMENBQTBDLGVBQWUsYUFBYSxtQkFBbUIsbUNBQW1DLDJCQUEyQixXQUFXLCtDQUErQywrQkFBK0IsbURBQW1ELEVBQUUsdUpBQXVKLG1KQUFtSixjQUFjLHVoQkFBdWhCLFdBQVcsZUFBZSxjQUFjLG1EQUFtRCxRQUFRLG1CQUFtQixjQUFjLHdRQUF3USxRQUFRLG1CQUFtQixjQUFjLDJDQUEyQyxZQUFZLE1BQU0sbUJBQW1CLGNBQWMsNElBQTRJLFlBQVksZ0JBQWdCLGFBQWEsMkNBQTJDLGNBQWMsZ0NBQWdDLG9CQUFvQixPQUFPLDZDQUE2QyxRQUFRLEtBQUssTUFBTSxlQUFlLEtBQUssTUFBTSxlQUFlLEtBQUssTUFBTSxlQUFlLEtBQUssTUFBTSxlQUFlLG1DQUFtQyxPQUFPLE1BQU0sS0FBSyxlQUFlLDhCQUE4QixPQUFPLFNBQVMscURBQXFELGdCQUFnQixnQkFBZ0IsNllBQTZZLFlBQVksaUpBQWlKLHdEQUF3RCwySUFBMkksUUFBUSxnQkFBZ0IsdUJBQXVCLFVBQVUsTUFBTSxLQUFLLEtBQUssRUFBRSxpQkFBaUIsdUJBQXVCLHdCQUF3Qiw2R0FBNkcsTUFBTSxtRUFBbUUseUNBQXlDLE1BQU0sZ0JBQWdCLDZDQUE2QyxNQUFNLG9FQUFvRSxzQ0FBc0MsTUFBTSw0RUFBNEUsTUFBTSxnQkFBZ0IsS0FBSyxFQUFFLGlCQUFpQix1QkFBdUIsK0JBQStCLDZDQUE2QyxNQUFNLGdCQUFnQiwyQ0FBMkMsTUFBTSw2SEFBNkgsZ0JBQWdCLEtBQUssRUFBRSxpQkFBaUIsdUJBQXVCLHdKQUF3SixnQkFBZ0IsS0FBSyxFQUFFLGlCQUFpQix1QkFBdUIsNklBQTZJLDBCQUEwQixLQUFLLEtBQUssRUFBRSxpQkFBaUIsdUJBQXVCLDRIQUE0SCxpQ0FBaUMsYUFBYSx5UkFBeVIsd0JBQXdCLDBCQUEwQixpQkFBaUIsSUFBSSwrRUFBK0UsY0FBYyx3RUFBd0UsZ0NBQWdDLHdCQUF3QiwwQkFBMEIsaUJBQWlCLElBQUksa0ZBQWtGLGNBQWMsd0VBQXdFLG1DQUFtQyxhQUFhLHlCQUF5QixLQUFLLEtBQUssRUFBRSxpQkFBaUIsdUJBQXVCLGtDQUFrQyxzQ0FBc0MsTUFBTSxTQUFTLDRFQUE0RSxNQUFNLGdCQUFnQixLQUFLLEVBQUUsaUJBQWlCLHVCQUF1Qix3Q0FBd0MsMEdBQTBHLDRCQUE0QixrQ0FBa0MsbUJBQW1CLDBCQUEwQixNQUFNLEtBQUssSUFBSSxFQUFFLGlCQUFpQix1QkFBdUIsbUNBQW1DLG9CQUFvQixNQUFNLGtDQUFrQyxZQUFZLFFBQVEsTUFBTSxvQkFBb0IsTUFBTSw2Q0FBNkMsWUFBWSxNQUFNLCtCQUErQixLQUFLLEVBQUUsaUJBQWlCLHVCQUF1Qiw4QkFBOEIsK0NBQStDLE1BQU0scURBQXFELHFCQUFxQiw0QkFBNEIsdUNBQXVDLDJEQUEyRCxNQUFNLFVBQVUsTUFBTSxnQkFBZ0IsS0FBSyxFQUFFLGlCQUFpQix1QkFBdUIsbUhBQW1ILHNEQUFzRCxNQUFNLHNCQUFzQixnQkFBZ0IsZUFBZSxFQUFFLEtBQUssSUFBSSxFQUFFLGlCQUFpQix1QkFBdUIsc0NBQXNDLEtBQUssVUFBVSx3QkFBd0IscUNBQXFDLGVBQWUsOERBQThELDJDQUEyQyxNQUFNLHNCQUFzQixnQkFBZ0Isc0JBQXNCLEVBQUUsS0FBSyx3RUFBd0UsRUFBRSxpQkFBaUIsdUJBQXVCLHVDQUF1QyxNQUFNLFdBQVcsV0FBVyxLQUFLLEVBQUUsaUJBQWlCLHVCQUF1QiwyQkFBMkIsNENBQTRDLE1BQU0sMENBQTBDLGdCQUFnQixXQUFXLEtBQUssRUFBRSxpQkFBaUIsdUJBQXVCLHVDQUF1QyxNQUFNLFdBQVcsS0FBSyxFQUFFLGlCQUFpQix1QkFBdUIsMENBQTBDLDRCQUE0Qiw0Q0FBNEMsTUFBTSxLQUFLLElBQUksc0JBQXNCLHFCQUFxQixvQkFBb0IsdURBQXVELE1BQU0sa0JBQWtCLGVBQWUsa0VBQWtFLDhDQUE4QyxNQUFNLHdDQUF3QyxnQkFBZ0IsMEVBQTBFLHdDQUF3QyxNQUFNLDRCQUE0QixrQkFBa0IseUJBQXlCLGtNQUFrTSxNQUFNLGFBQWEsd0VBQXdFLEVBQUUsaUJBQWlCLHVCQUF1QixnQkFBZ0IsZ0JBQWdCLDZFQUE2RSxFQUFFLGlCQUFpQix1QkFBdUIsdUJBQXVCLDJDQUEyQyxhQUFhLE1BQU0sU0FBUyxvQkFBb0IsTUFBTSxTQUFTLDhDQUE4QyxNQUFNLDBCQUEwQix1QkFBdUIsZUFBZSxLQUFLLEVBQUUsaUJBQWlCLHVCQUF1QixvRUFBb0UsNEJBQTRCLGdCQUFnQiwwRUFBMEUsRUFBRSxpQkFBaUIsdUJBQXVCLGFBQWEsZ0JBQWdCLDhFQUE4RSxFQUFFLGlCQUFpQix1QkFBdUIsdUJBQXVCLCtCQUErQix3Q0FBd0MsTUFBTSxxQ0FBcUMsdUJBQXVCLGVBQWUsS0FBSyxFQUFFLGlCQUFpQix1QkFBdUIsb0VBQW9FLG9CQUFvQixnREFBZ0QsTUFBTSxhQUFhLDRCQUE0QixxQkFBcUIsbUNBQW1DLGdEQUFnRCxNQUFNLG9GQUFvRixpQ0FBaUMsNEJBQTRCLGlCQUFpQixXQUFXLDBCQUEwQixNQUFNLDRCQUE0Qiw4QkFBOEIsTUFBTSxtQkFBbUIsS0FBSyxLQUFLLEVBQUUsaUJBQWlCLHVCQUF1Qix3SkFBd0osdUNBQXVDLE1BQU0sU0FBUyxhQUFhLDZCQUE2QixLQUFLLEtBQUssRUFBRSxpQkFBaUIsdUJBQXVCLHVDQUF1Qyx5Q0FBeUMsTUFBTSxTQUFTLGFBQWEsZ0JBQWdCLFFBQVEsYUFBYSxRQUFRLHFCQUFxQixrQkFBa0Isb2RBQW9kLEtBQUssdUhBQXVILG1CQUFtQixjQUFjLGlEQUFpRCwwQkFBMEIsbUJBQW1CLGNBQWMsMkNBQTJDLDhCQUE4QixxQkFBcUIsNkpBQTZKLGtEQUFrRCxlQUFlLHdJQUF3SSwrQkFBK0Isa0hBQWtILElBQUksZUFBZSx3QkFBd0Isb0NBQW9DLE1BQU0sRUFBRSxtQkFBbUIsd1ZBQXdWLDhDQUE4QyxpQ0FBaUMsNlVBQTZVLGlCQUFpQixnQkFBZ0IsMENBQTBDLGdCQUFnQixnQ0FBZ0MseUVBQXlFLHdCQUF3Qiw0SUFBNEksRUFBRSxtTEFBbUwsdURBQXVELHNDQUFzQyxVQUFVLHNFQUFzRSxzRkFBc0Ysb0ZBQW9GLHlGQUF5Rix3RkFBd0Ysa0JBQWtCLDJFQUEyRSx5QkFBeUIsVUFBVSxpQ0FBaUMscUJBQXFCLGdDQUFnQyxtS0FBbUssUUFBUSwrQ0FBK0MsZUFBZSxpQkFBaUIsd0JBQXdCLEVBQUUsNENBQTRDLEtBQUssOENBQThDLCtCQUErQiwrREFBK0QsT0FBTyxXQUFXLGNBQWMsaUZBQWlGLGdCQUFnQixpQ0FBaUMsMkVBQTJFLGVBQWUscUdBQXFHLGFBQWEsT0FBTyxvQkFBb0IsdURBQXVELCtEQUErRCxxQkFBcUIsd0JBQXdCLGlCQUFpQixPQUFPLDRCQUE0QixJQUFJLHNFQUFzRSxxSkFBcUosd0RBQXdELHNHQUFzRyw2RkFBNkYseU9BQXlPLDJDQUEyQyw0Q0FBNEMsOEhBQThILFNBQVMsZUFBZSw0Q0FBNEMsOENBQThDLEtBQUssT0FBTyxpSEFBaUgsS0FBSyxrSUFBa0ksbUVBQW1FLFNBQVMscUJBQXFCLGdDQUFnQyxvREFBb0QsMEJBQTBCLGtCQUFrQixTQUFTLHNCQUFzQixJQUFJLDJCQUEyQixvRUFBb0UscURBQXFELGdNQUFnTSxvRkFBb0YsU0FBUyx3QkFBd0IsMENBQTBDLElBQUksb0JBQW9CLElBQUksbURBQW1ELEtBQUssSUFBSSxFQUFFLGlDQUFpQyxtSkFBbUoscUJBQXFCLEdBQUcsb0NBQW9DLFFBQVEsNEJBQTRCLGNBQWMsNkJBQTZCLFlBQVksOEJBQThCLEtBQUssaUNBQWlDLDRCQUE0QixrQ0FBa0MscUJBQXFCLG1CQUFtQiwySkFBMkosOENBQThDLHVCQUF1QixtQ0FBbUMseUJBQXlCLHlCQUF5QixpT0FBaU8seUNBQXlDLDJIQUEySCx5REFBeUQsb0hBQW9ILFlBQVksbUNBQW1DLGVBQWUsdUJBQXVCLHNEQUFzRCxjQUFjLHFCQUFxQiw2QkFBNkIsK0RBQStELE1BQU0sZ0JBQWdCLDJJQUEySSwyQkFBMkIsNkNBQTZDLEdBQUcsRUFBRSxpQkFBaUIseURBQXlELHdCQUF3QiwrRUFBK0UsRUFBRSx1Q0FBdUMsMENBQTBDLFdBQVcsdUJBQXVCLDBHQUEwRywwSkFBMEosR0FBRyxZQUFZLDhHQUE4RyxTQUFTLGlCQUFpQixtRkFBbUYsTUFBTSx5QkFBeUIsVUFBVSwyRkFBMkYsWUFBWSx1QkFBdUIsOENBQThDLHNCQUFzQiwyR0FBMkcsZUFBZSxtSkFBbUosR0FBRyxPQUFPLHNCQUFzQix1RUFBdUUscUJBQXFCLGFBQWEsK0hBQStILFlBQVksbUJBQW1CLHVCQUF1QiwyWUFBMlkscWdCQUFxZ0IsaUNBQWlDLDRQQUE0UCxnTEFBZ0wsR0FBRyw2SUFBNkksZ0NBQWdDLHFFQUFxRSx5SUFBeUksSUFBSSxxQ0FBcUMsU0FBUyw0WEFBNFgsK0JBQStCLGlDQUFpQyx3RUFBd0UsK0RBQStELHlCQUF5QiwyRkFBMkYsMENBQTBDLHFIQUFxSCw4QkFBOEIseUtBQXlLLFVBQVUsaVBBQWlQLGdCQUFnQiwwRUFBMEUsd01BQXdNLCtCQUErQiw2Q0FBNkMsbUtBQW1LLDBDQUEwQyxrSEFBa0gsNkNBQTZDLDROQUE0Tiw0Q0FBNEMsb0hBQW9ILDJDQUEyQyx5TkFBeU4sZ0RBQWdELG9QQUFvUCwyQkFBMkIsOENBQThDLG1LQUFtSyw2QkFBNkIsNkNBQTZDLHNIQUFzSCxnQkFBZ0IsbUJBQW1CLGtCQUFrQixPQUFPLHdNQUF3TSxnREFBZ0Qsa0JBQWtCLFVBQVUsOENBQThDLDZDQUE2QyxHQUFHLDRIQUE0SCx3QkFBd0IsZ0dBQWdHLEdBQUcsMkhBQTJILHdCQUF3Qix1Q0FBdUMsR0FBRyx5SEFBeUgscUJBQXFCLDZFQUE2RSxtQkFBbUIscURBQXFELEdBQUcsb0RBQW9ELDhCQUE4QixHQUFHLDBDQUEwQyxvQkFBb0IsR0FBRyxtREFBbUQsNkJBQTZCLEdBQUcsNEhBQTRILHFCQUFxQiw2RUFBNkUsbUJBQW1CLHdEQUF3RCxHQUFHLHlDQUF5Qyx3RkFBd0YsVUFBVSxLQUFLLDRDQUE0QyxxR0FBcUcsaUJBQWlCLHFCQUFxQixpQ0FBaUMsc0NBQXNDLDJCQUEyQix1REFBdUQsc0JBQXNCLFNBQVMsZUFBZSxZQUFZLG1CQUFtQixLQUFLLHlDQUF5Qyx5Q0FBeUMsYUFBYSxvSUFBb0ksaUVBQWlFLEdBQUcsU0FBUyx3QkFBd0IscUJBQXFCLHlQQUF5UCxpREFBaUQsc0NBQXNDLGtCQUFrQix5QkFBeUIsaUdBQWlHLHFGQUFxRiwwQ0FBMEMsNFBBQTRQLGtEQUFrRCx5Q0FBeUMsaURBQWlELEdBQUcsUUFBUSw4QkFBOEIsdUJBQXVCLG9EQUFvRCxxQ0FBcUMsdURBQXVELFVBQVUsb01BQW9NLElBQUksZ0VBQWdFLHdCQUF3Qiw2RkFBNkYsRUFBRSx3R0FBd0csb0JBQW9CLFdBQVcsdUJBQXVCLDhIQUE4SCxNQUFNLEdBQUcsRUFBRSx1Q0FBdUMsTUFBTSxFQUFFLDZGQUE2RixHQUFHLGlCQUFpQiw4QkFBOEIsV0FBVyxJQUFJLFdBQVcsU0FBUywyQ0FBMkMsMkNBQTJDLDhDQUE4QyxNQUFNLEVBQUUsNElBQTRJLCtDQUErQyxpQkFBaUIsa0VBQWtFLFFBQVEsK0JBQStCLDhFQUE4RSwyTUFBMk0seUJBQXlCLGtKQUFrSix1QkFBdUIsZUFBZSx1SEFBdUgsb01BQW9NLFlBQVksVUFBVSx3R0FBd0csK0ZBQStGLFNBQVMsRUFBRSw0R0FBNEcsWUFBWSxVQUFVLGdEQUFnRCxxREFBcUQsb0RBQW9ELGdEQUFnRCxvREFBb0Qsb0RBQW9ELDhJQUE4SSxTQUFTLEVBQUUsdUdBQXVHLFlBQVksVUFBVSw2Q0FBNkMsMERBQTBELG9EQUFvRCwyR0FBMkcsWUFBWSxVQUFVLDZIQUE2SCwwQkFBMEIsRUFBRSx5SUFBeUksOEVBQThFLDBCQUEwQixFQUFFLHVGQUF1Riw2S0FBNkssWUFBWSxVQUFVLDhFQUE4RSwwQkFBMEIsRUFBRSxvUEFBb1AsWUFBWSxXQUFXLGdCQUFnQix3R0FBd0csMERBQTBELGFBQWEsU0FBUyxpQkFBaUIscUJBQXFCLGlDQUFpQyxzQ0FBc0MsMkJBQTJCLHVEQUF1RCxzQkFBc0IsU0FBUyxlQUFlLFlBQVksbUJBQW1CLEtBQUsseUNBQXlDLHlDQUF5QyxhQUFhLG9JQUFvSSxpRUFBaUUsR0FBRyxTQUFTLHdCQUF3QixlQUFlLDRIQUE0SCw0aUJBQTRpQiw4QkFBOEIsY0FBYyxRQUFRLGlYQUFpWCxVQUFVLEVBQUUsNkJBQTZCLGdCQUFnQixvL0JBQW8vQixnYUFBZ2EsK0xBQStMLCtCQUErQixJQUFJLElBQUksU0FBUywrQ0FBK0MsVUFBVSxFQUFFLFdBQVcsMENBQTBDLDBCQUEwQixFQUFFLFNBQVMsNkRBQTZELG9CQUFvQixFQUFFLFdBQVcsb0dBQW9HLHNFQUFzRSwwSUFBMEksb0NBQW9DLDJEQUEyRCwrQ0FBK0MsTUFBTSwrQ0FBK0MsZUFBZSxzRUFBc0UsS0FBSyx1SUFBdUksRUFBRSw4SkFBOEosU0FBUyxrQ0FBa0MsdUZBQXVGLHVLQUF1SyxnR0FBZ0csWUFBWSx3SkFBd0osR0FBRyxJQUFJLG9DQUFvQyxzS0FBc0ssT0FBTyxvSEFBb0gsaUdBQWlHLGtDQUFrQyx1Q0FBdUMsMkZBQTJGLElBQUksMERBQTBELFNBQVMsWUFBWSxVQUFVLDJDQUEyQywwQkFBMEIscUdBQXFHLHdCQUF3QixJQUFJLG9CQUFvQixnQ0FBZ0MsaUJBQWlCLDhCQUE4QixrREFBa0QsR0FBRyxxREFBcUQsZ0JBQWdCLEtBQUssZ0dBQWdHLE1BQU0scUpBQXFKLHNDQUFzQyxPQUFPLFNBQVMseUVBQXlFLGtKQUFrSix5QkFBeUIscUJBQXFCLGlDQUFpQyx1R0FBdUcsYUFBYSxpQkFBaUIsNkhBQTZILG9DQUFvQyxlQUFlLHFDQUFxQyxLQUFLLG9IQUFvSCxXQUFXLGtPQUFrTyxZQUFZLEVBQUUsZUFBZSxNQUFNLG9EQUFvRCxpQkFBaUIsbUVBQW1FLHlEQUF5RCxHQUFHLFlBQVksbVFBQW1RLGlCQUFpQixxR0FBcUcsc0RBQXNELGlVQUFpVSxzR0FBc0csbURBQW1ELHFDQUFxQyxZQUFZLDREQUE0RCw2QkFBNkIsOEZBQThGLGVBQWUseU1BQXlNLDJDQUEyQyxZQUFZLEVBQUUsc0ZBQXNGLHdDQUF3QywyQkFBMkIsZ0RBQWdELHVEQUF1RCwrREFBK0QsbUZBQW1GLE1BQU0sMkJBQTJCLGlDQUFpQyxvREFBb0QsNk9BQTZPLFlBQVksYUFBYSxpRkFBaUYsWUFBWSwrRUFBK0UsR0FBRyxTQUFTLFVBQVUsbUNBQW1DLEtBQUssd0NBQXdDLDZFQUE2RSxlQUFlLFdBQVcscUJBQXFCLGNBQWMsK0JBQStCLFlBQVksK0JBQStCLGNBQWMsK0JBQStCLGlCQUFpQiwrQkFBK0IsZUFBZSwrQkFBK0IsaUJBQWlCLG1DQUFtQyxlQUFlLG1DQUFtQyxZQUFZLG9EQUFvRCxzQkFBc0IsbUJBQW1CLE9BQU8sb0JBQW9CLG1DQUFtQyxlQUFlLG1DQUFtQyxrQkFBa0IsK0JBQStCLG1CQUFtQiwrQkFBK0IsaUJBQWlCLG9DQUFvQyxZQUFZLGdDQUFnQyxrQkFBa0IsZ0NBQWdDLFlBQVksZ0NBQWdDLFlBQVksZ0NBQWdDLGNBQWMsb0NBQW9DLGdCQUFnQixnQ0FBZ0MscUJBQXFCLGdDQUFnQyxzQkFBc0IsZ0NBQWdDLG9CQUFvQixnQ0FBZ0Msa0JBQWtCLGdDQUFnQyxtQkFBbUIsa0NBQWtDLHNCQUFzQixrQ0FBa0MsZUFBZSxrQ0FBa0MsdUJBQXVCLGtDQUFrQyx1QkFBdUIsaUNBQWlDLFVBQVUsV0FBVyx1Q0FBdUMsa0JBQWtCLHdCQUF3QixzQ0FBc0MsSUFBSSxlQUFlLG1CQUFtQixTQUFTLE9BQU8sT0FBTyxFQUFFLFlBQVksY0FBYyxlQUFlLG9CQUFvQixNQUFNLHlCQUF5QixNQUFNLFFBQVEsWUFBWSx1QkFBdUIsTUFBTSxvQkFBb0IsU0FBUyxFQUFFLGtDQUFrQyxFQUFFLE9BQU8sZUFBZSxTQUFTLE9BQU8sT0FBTyxFQUFFLFlBQVksY0FBYyxlQUFlLCtCQUErQixNQUFNLCtCQUErQixNQUFNLHlCQUF5QixNQUFNLHlCQUF5QixNQUFNLDRCQUE0QixNQUFNLGdDQUFnQyxNQUFNLHlCQUF5QixNQUFNLG9CQUFvQixTQUFTLGlCQUFpQixnQkFBZ0IsOEJBQThCLGVBQWUsK0JBQStCLGNBQWMsK0JBQStCLG9CQUFvQixnQ0FBZ0MsZUFBZSxzQkFBc0IsNEJBQTRCLGlCQUFpQixVQUFVLFlBQVksVUFBVSxFQUFFLE1BQU0sbUJBQW1CLE1BQU0sZUFBZSxNQUFNLGVBQWUsTUFBTSxtREFBbUQsMkJBQTJCLDBCQUEwQix3REFBd0QsZUFBZSxRQUFRLG1DQUFtQyxVQUFVLGNBQWMsZUFBZSxpQ0FBaUMsMkNBQTJDLGVBQWUsWUFBWSxpQkFBaUIseURBQXlELGFBQWEsZUFBZSx5QkFBeUIsaUJBQWlCLHlDQUF5QyxlQUFlLDBCQUEwQixvQkFBb0IscUNBQXFDLGlCQUFpQixlQUFlLGtEQUFrRCxxQkFBcUIsaUJBQWlCLDhEQUE4RCxZQUFZLElBQUksS0FBSyxxQkFBcUIsMGVBQTBlLFNBQVMsaUJBQWlCLG1CQUFtQixZQUFZLElBQUksS0FBSyxzQkFBc0IsbUdBQW1HLFFBQVEsd0JBQXdCLFlBQVksSUFBSSxLQUFLLHNCQUFzQix5TkFBeU4saUJBQWlCLHdDQUF3QyxzQkFBc0IsSUFBSSxpQkFBaUIsZUFBZSx3QkFBd0IsaUJBQWlCLGNBQWMsY0FBYyxlQUFlLHdCQUF3QixxSEFBcUgsaUJBQWlCLHdCQUF3QixpSEFBaUgsZUFBZSxjQUFjLHNDQUFzQyxhQUFhLFNBQVMsaUJBQWlCLFdBQVcsT0FBTyx3QkFBd0IsU0FBUyxpQkFBaUIsb0tBQW9LLFVBQVUsdUJBQXVCLGdDQUFnQywwQ0FBMEMsMENBQTBDLHdDQUF3QyxnQ0FBZ0MsMENBQTBDLDBDQUEwQyx3Q0FBd0MsZ0NBQWdDLGlCQUFpQixxQkFBcUIsaUNBQWlDLHNDQUFzQywyQkFBMkIsdURBQXVELHNCQUFzQixTQUFTLG1EQUFtRCxlQUFlLFFBQVEsbUNBQW1DLHdCQUF3QixzQkFBc0IsNkJBQTZCLHVCQUF1QixvQ0FBb0MsNEJBQTRCLG1FQUFtRSxrQkFBa0IseUJBQXlCLG1CQUFtQixNQUFNLHVGQUF1RixjQUFjLHFCQUFxQixlQUFlLDZLQUE2Syw4Q0FBOEMsUUFBUSxlQUFlLHd6QkFBd3pCLHFKQUFxSiw4SEFBOEgsa0tBQWtLLGtJQUFrSSxtZkFBbWYsMkhBQTJILHlIQUF5SCxnQkFBZ0IsNkRBQTZELG9DQUFvQyx5Q0FBeUMsMkNBQTJDLHVCQUF1QixpQ0FBaUMsOEJBQThCLFlBQVksTUFBTSxHQUFHLEVBQUUsdUJBQXVCLHlGQUF5RixJQUFJLCtDQUErQyxHQUFHLEtBQUssZ0NBQWdDLHlDQUF5QywyR0FBMkcsRUFBRSxZQUFZLG9CQUFvQixhQUFhLGtCQUFrQiw4QkFBOEIsZ0RBQWdELFNBQVMsdUJBQXVCLEVBQUUsOEJBQThCLHlFQUF5RSx3QkFBd0IsRUFBRSw4QkFBOEIsOEJBQThCLGlCQUFpQixpSEFBaUgsMkJBQTJCLEVBQUUsOEJBQThCLGdFQUFnRSxtRUFBbUUsMkJBQTJCLEVBQUUsOEJBQThCLHNGQUFzRixRQUFRLDhCQUE4QixJQUFJLGtCQUFrQixHQUFHLHdGQUF3RixxRUFBcUUsNEJBQTRCLHNJQUFzSSxpQ0FBaUMsMkZBQTJGLHVIQUF1SCxVQUFVLDJDQUEyQyxJQUFJLGNBQWMsR0FBRywyQkFBMkIsOEJBQThCLDhEQUE4RCw2SEFBNkgsdUJBQXVCLHVDQUF1Qyw0QkFBNEIsdURBQXVELGtJQUFrSSxxUEFBcVAsZ0JBQWdCLE1BQU0saURBQWlELCtKQUErSixpREFBaUQsMEtBQTBLLHVEQUF1RCxxS0FBcUssMERBQTBELDBEQUEwRCx1Q0FBdUMscUNBQXFDLHlCQUF5Qiw2TEFBNkwsa1BBQWtQLHFHQUFxRywwSUFBMEksOERBQThELE1BQU0sOERBQThELG9HQUFvRyxHQUFHLHFCQUFxQixnREFBZ0QsNEdBQTRHLG1EQUFtRCxrQ0FBa0MsaUNBQWlDLG9LQUFvSywwSkFBMEosb0VBQW9FLE1BQU0sT0FBTyx3RUFBd0UsNEZBQTRGLGdDQUFnQywwSEFBMEgsdUZBQXVGLGtMQUFrTCwwQ0FBMEMsZ0NBQWdDLDBDQUEwQyxnQ0FBZ0MsZ0RBQWdELHdGQUF3Rix1REFBdUQsa0NBQWtDLHVEQUF1RCw2RUFBNkUsUUFBUSw2RkFBNkYsaUNBQWlDLFlBQVksTUFBTSxHQUFHLEdBQUcsOEJBQThCLGdCQUFnQiw4Q0FBOEMscUtBQXFLLE1BQU0sMElBQTBJLDBDQUEwQyw0Q0FBNEMsdUhBQXVILCtCQUErQixJQUFJLHdDQUF3QywrSUFBK0ksK1ZBQStWLG1HQUFtRyxZQUFZLCtDQUErQywyQ0FBMkMsa0JBQWtCLFlBQVksbUJBQW1CLEtBQUsseUNBQXlDLHlDQUF5QyxhQUFhLG9JQUFvSSxpRUFBaUUsR0FBRyxTQUFTLEdBQUcsSUFBSSx3SEFBd0gsVUFBVSxxQ0FBcUMsd0RBQXdELHdDQUF3QyxHQUFHLFFBQVEsaVdBQWlXLEtBQUsseUNBQXlDLElBQUksU0FBUyxHQUFHLG1CQUFtQixrRUFBa0Usc0pBQXNKLGtDQUFrQyxjQUFjLE1BQU0seUhBQXlILG1CQUFtQixtSUFBbUksZ0JBQWdCLDZJQUE2SSxNQUFNLElBQUksNkRBQTZELFNBQVMsMERBQTBELFNBQVMsOENBQThDLDZFQUE2RSwrQ0FBK0MsSUFBSSxrQkFBa0IsTUFBTSxrQkFBa0Isa0JBQWtCLEdBQUcsU0FBUyxvRUFBb0UsK0RBQStELGlCQUFpQix3RkFBd0Ysa0RBQWtELG1CQUFtQixvQkFBb0IsNkRBQTZELDRDQUE0QyxrTUFBa00sZUFBZSxPQUFPLEVBQUUsNElBQTRJLE9BQU8sbUJBQW1CLElBQUksc0RBQXNELE1BQU0sMERBQTBELHFCQUFxQiw0QkFBNEIscUJBQXFCLHlEQUF5RCw4Q0FBOEMsU0FBUyxJQUFJLGVBQWUsK0JBQStCLE9BQU8sbUJBQW1CLDJXQUEyVyxLQUFLLFNBQVMsb0VBQW9FLFNBQVMsb0NBQW9DLDhCQUE4QiwyREFBMkQsT0FBTyxJQUFJLGdIQUFnSCxnREFBZ0QsU0FBUyx5REFBeUQsZ0JBQWdCLGtGQUFrRixXQUFXLFNBQVMsOEJBQThCLGtCQUFrQiw4Q0FBOEMsOEVBQThFLFVBQVUsMlRBQTJULFdBQVcsd0JBQXdCLHdCQUF3QixvQ0FBb0MsNEJBQTRCLGlDQUFpQyx3QkFBd0IsK0JBQStCLDREQUE0RCx5QkFBeUIseUJBQXlCLE1BQU0sOERBQThELHlDQUF5QywyQkFBMkIsZ0RBQWdELEVBQUUsSUFBSSxhQUFhLGlhQUFpYSxNQUFNLFNBQVMscUJBQXFCLGlPQUFpTyw0QkFBNEIsTUFBTSxFQUFFLGlFQUFpRSxHQUFHLHlDQUF5QywrREFBK0Qsd0RBQXdELDJEQUEyRCxPQUFPLEVBQUUsdUJBQXVCLHdDQUF3QyxvRkFBb0YsSUFBSSxhQUFhLFFBQVEsZ0NBQWdDLFNBQVMscUJBQXFCLE9BQU8scUVBQXFFLCtCQUErQixrREFBa0QsMERBQTBELHVDQUF1Qyx1QkFBdUIsdUZBQXVGLG9DQUFvQyw4QkFBOEIsNERBQTRELCtCQUErQixvR0FBb0csd0NBQXdDLHVDQUF1QywwREFBMEQsd0hBQXdILHlDQUF5QywrREFBK0QsOEZBQThGLDhEQUE4RCxPQUFPLEVBQUUseUhBQXlILFNBQVMseUJBQXlCLFNBQVMsNEJBQTRCLGtCQUFrQixTQUFTLDBHQUEwRyxJQUFJLHVFQUF1RSxHQUFHLDJiQUEyYiwrQ0FBK0Msb0JBQW9CLGtGQUFrRixpWUFBaVksZ0RBQWdELHVDQUF1QywrRkFBK0YsK0JBQStCLGtGQUFrRixJQUFJLGdCQUFnQixpRUFBaUUsSUFBSSw2REFBNkQsU0FBUyxxQkFBcUIsT0FBTyxxRUFBcUUsK0JBQStCLHFCQUFxQixZQUFZLHVDQUF1QywrQkFBK0IsME9BQTBPLHFEQUFxRCx3Q0FBd0MsdUNBQXVDLHlDQUF5QywrR0FBK0csK0NBQStDLHNKQUFzSixrREFBa0QsK0RBQStELDREQUE0RCx3REFBd0QsZ0VBQWdFLEVBQUUsdUJBQXVCLDRFQUE0RSx3TEFBd0wsSUFBSSxnQkFBZ0IsZ0JBQWdCLDZCQUE2QixpREFBaUQsU0FBUyxxQkFBcUIsV0FBVyxzRUFBc0UsK0JBQStCLGtEQUFrRCw0RUFBNEUsdUNBQXVDLHVCQUF1QiwrSkFBK0osNkNBQTZDLCtEQUErRCwyQkFBMkIseURBQXlELHNDQUFzQyx3RkFBd0YsSUFBSSxhQUFhLFFBQVEsZ0NBQWdDLFNBQVMscUJBQXFCLE9BQU8scUVBQXFFLCtCQUErQixzQkFBc0IsaUdBQWlHLG9DQUFvQyw4QkFBOEIsNERBQTRELG9FQUFvRSx3QkFBd0Isd0hBQXdILGdEQUFnRCxNQUFNLElBQUksa0NBQWtDLElBQUksU0FBUyxNQUFNLDhJQUE4SSwyQkFBMkIsNERBQTRELEVBQUUscUhBQXFILHlCQUF5QiwyRkFBMkYsUUFBUSxtQ0FBbUMsNEJBQTRCLFdBQVcsdUJBQXVCLGdCQUFnQix1REFBdUQsSUFBSSwwQkFBMEIsMkJBQTJCLGlCQUFpQixnQkFBZ0IsU0FBUyxTQUFTLHFEQUFxRCwyQkFBMkIscUJBQXFCLGFBQWEscUVBQXFFLGdCQUFnQix5Q0FBeUMseUJBQXlCLEVBQUUsd0JBQXdCLFdBQVcscUJBQXFCLHdCQUF3QixNQUFNLEtBQUssbURBQW1ELEdBQUcsRUFBRSxJQUFJLDRDQUE0QyxPQUFPLFNBQVMsK0JBQStCLHVDQUF1QyxJQUFJLG9HQUFvRyx3QkFBd0IsZ0pBQWdKLDhCQUE4Qix5QkFBeUIsa0JBQWtCLDRCQUE0QiwwREFBMEQsNkJBQTZCLDJEQUEyRCxpREFBaUQsY0FBYywyQ0FBMkMsMkZBQTJGLDhEQUE4RCxFQUFFLHdDQUF3QyxrRUFBa0UsOEJBQThCLGtCQUFrQixpR0FBaUcsaUJBQWlCLHVCQUF1Qix5QkFBeUIsb0JBQW9CLDhCQUE4QixXQUFXLGlCQUFpQixXQUFXLG9EQUFvRCxrSUFBa0ksT0FBTyxFQUFFLDJDQUEyQywyRkFBMkYsOERBQThELEVBQUUsd0NBQXdDLGtFQUFrRSw4QkFBOEIsa0JBQWtCLHFIQUFxSCxzU0FBc1MsdUNBQXVDLHlCQUF5QixZQUFZLElBQUksaUJBQWlCLDBCQUEwQixpQkFBaUIscUJBQXFCLGFBQWEsbUJBQW1CLHlCQUF5QixPQUFPLGlFQUFpRSx1Q0FBdUMsMkJBQTJCLHlFQUF5RSxNQUFNLFlBQVksSUFBSSxvREFBb0QsVUFBVSxlQUFlLGdCQUFnQixlQUFlLGNBQWMsS0FBSyxNQUFNLEVBQUUsMEJBQTBCLFNBQVMscUJBQXFCLHdEQUF3RCxhQUFhLG1EQUFtRCxvSUFBb0ksb0VBQW9FLG9DQUFvQyxxQ0FBcUMsK0JBQStCLGdDQUFnQywyQkFBMkIsY0FBYyxpREFBaUQsUUFBUSwwSUFBMEksc0JBQXNCLEdBQUcsdUJBQXVCLG9PQUFvTyxvQkFBb0IsRUFBRSw0QkFBNEIsdUJBQXVCLHlDQUF5Qyw2QkFBNkIsbUJBQW1CLG9DQUFvQyx3QkFBd0IsNkJBQTZCLHlCQUF5QiwwQkFBMEIseUJBQXlCLDRCQUE0Qiw2Q0FBNkMsd0NBQXdDLGtCQUFrQiw0Q0FBNEMscUNBQXFDLDhIQUE4SCx3Q0FBd0MsOElBQThJLHNDQUFzQyx5SkFBeUosMkJBQTJCLHFHQUFxRyw4QkFBOEIsZ0lBQWdJLGdDQUFnQyxzTEFBc0wsd0NBQXdDLGtGQUFrRiwrQkFBK0IsbUJBQW1CLGdDQUFnQyxlQUFlLElBQUksV0FBVyxTQUFTLG1CQUFtQixlQUFlLHlCQUF5QixpQkFBaUIsdUJBQXVCLDRCQUE0QixpQkFBaUIsc0JBQXNCLDJCQUEyQixjQUFjLFVBQVUsYUFBYSxNQUFNLFFBQVEsZUFBZSxtQkFBbUIsTUFBTSxRQUFRLFNBQVMsSUFBSSxXQUFXLFNBQVMsb0JBQW9CLG9CQUFvQixlQUFlLElBQUksYUFBYSxTQUFTLGtCQUFrQixVQUFVLG1CQUFtQix5QkFBeUIsY0FBYyxtQkFBbUIsYUFBYSxXQUFXLFFBQVEsaUJBQWlCLDJCQUEyQixrREFBZSxDQUFDLDRDQUFTLENBQUMsZUFBZSwwQ0FBMEMsY0FBYyxNQUFNLDZDQUFNLEtBQUssT0FBTyxnREFBUyx3QkFBd0IsY0FBYyxRQUFRLGNBQWMsV0FBVyxnQkFBZ0IsZ0NBQWdDLElBQUksY0FBYyxpQkFBaUIsU0FBUyxpQkFBaUIsS0FBb0MsMEZBQTBGLEVBQUUsT0FBTyxrREFBVyxRQUFRLGVBQWUsaUJBQWlCLCtDQUFRLEdBQUcsZUFBZSx5QkFBeUIsVUFBVSxpQkFBaUIsTUFBTSw2Q0FBTSxHQUFHLGdEQUFTLE1BQU0sSUFBSSxnQkFBZ0Isa0JBQWtCLGNBQWMsS0FBSyxpQkFBaUIsZ0VBQWdFLFlBQVksSUFBSSxLQUFLLGdEQUFnRCxnQkFBZ0IsaUJBQWlCLFNBQVMsbUJBQW1CLE1BQU0sNkNBQU0sSUFBSSxRQUFRLGFBQWEsTUFBTSxnREFBUyxNQUFNLDRCQUE0Qiw0QkFBNEIsRUFBRSxTQUFTLG1CQUFtQixNQUFNLDZDQUFNLElBQUksUUFBUSxhQUFhLE1BQU0sZ0RBQVMsTUFBTSw0QkFBNEIsNEJBQTRCLEVBQUUsU0FBUyxPQUFPLG9EQUFhLE9BQU8sYUFBYSxvQkFBb0IsRUFBRSxPQUFPLHNEQUFHLGNBQWMsbUJBQW1CLEVBQUUsZUFBZSxNQUFNLGlEQUFVLEtBQUssWUFBWSxlQUFlLFlBQVksaUdBQWlHLFFBQVEsS0FBSyxTQUFTLE9BQU8sb0RBQWEsT0FBTyxhQUFhLG9CQUFvQixFQUFFLE9BQU8sc0RBQUcsY0FBYyxtQkFBbUIsRUFBRSxlQUFlLE1BQU0saURBQVUsS0FBSyxZQUFZLGVBQWUsa0JBQWtCLCtDQUFRLHFDQUFxQyxPQUFPLGdEQUFTLE1BQU0sTUFBTSxxQkFBcUIsTUFBTSw4Q0FBOEMsNkNBQTZDLGNBQWMsd0JBQXdCLFFBQVEsZUFBZSxrQkFBa0IsK0NBQVEsdUNBQXVDLE9BQU8sZ0RBQVMsTUFBTSxNQUFNLG1DQUFtQyxNQUFNLDhDQUE4QyxzQ0FBc0MsY0FBYyxZQUFZLFFBQVEsZUFBZSxrQkFBa0IsK0NBQVEsU0FBUyxPQUFPLGdEQUFTLE1BQU0sK0NBQStDLDZDQUE2QywrQkFBK0IsRUFBRSxRQUFRLDJCQUEyQixVQUFVLFNBQVMsOEJBQThCLGlCQUFpQiwrRUFBK0UsT0FBTyxvQkFBb0Isc0JBQXNCLHNCQUFzQiw2Q0FBTSxTQUFTLCtDQUFRLFdBQVcsK0NBQVEsVUFBVSwrQ0FBUSxjQUFjLG9CQUFvQix5Q0FBeUMsSUFBSSxpQkFBaUIsSUFBSSxnQ0FBZ0MsMERBQTBELGlCQUFpQixTQUFTLGlFQUFpRSxpQkFBaUIsdUJBQXVCLGdCQUFnQixhQUFhLE1BQU0sdUNBQXVDLE1BQU0sMkRBQTJELHNCQUFzQixJQUFJLFNBQVMsMENBQTBDLGFBQWEsd0RBQXdELEVBQUUsZUFBZSxrQkFBa0IsK0NBQVEsS0FBSyxPQUFPLGdEQUFTLE1BQU0seUNBQXlDLHlIQUF5SCxHQUFHLFNBQVMsUUFBUSxzQkFBc0Isc0JBQXNCLDZDQUFNLFdBQVcsK0NBQVEsV0FBVywrQ0FBUSxjQUFjLG9CQUFvQixnREFBZ0QsOEJBQThCLGlDQUFpQyx1TEFBdUwsMEZBQTBGLFlBQVksV0FBVyxLQUFLLFdBQVcsWUFBWSw2RUFBNkUsSUFBSSxxQ0FBcUMsU0FBUyxvRUFBb0UsbUJBQW1CLGFBQWEsYUFBYSxxQkFBcUIsZUFBZSxTQUFTLCtDQUFRLElBQUksT0FBTyxnREFBUyxNQUFNLG9CQUFvQix1QkFBdUIsTUFBTSxRQUFRLG9CQUFvQixjQUFjLElBQUksa0JBQWtCLCtDQUFRLGFBQWEsK0NBQVEsV0FBVywrQ0FBUSxjQUFjLG9CQUFvQix3Q0FBd0MsSUFBSSxpQkFBaUIsNkNBQTZDLGlCQUFpQixTQUFTLGlGQUFpRixrQkFBa0IseUJBQXlCLFNBQVMsNENBQTRDLHNCQUFzQixrQkFBa0IsK0NBQVEsYUFBYSwrQ0FBUSxXQUFXLCtDQUFRLGNBQWMsb0JBQW9CLHdDQUF3QyxJQUFJLGlCQUFpQix5Q0FBeUMsaUJBQWlCLFNBQVMsNkVBQTZFLGtCQUFrQix5QkFBeUIsU0FBUyx3Q0FBd0MsaUJBQWlCLGtCQUFrQiwrQ0FBUSxjQUFjLDZDQUFNLFdBQVcsK0NBQVEsV0FBVywrQ0FBUSxjQUFjLG9CQUFvQixtREFBbUQsZ0JBQWdCLDJCQUEyQixNQUFNLGVBQWUsSUFBSSwrQ0FBK0MsU0FBUyxzRUFBc0Usd1BBQXdQLGFBQWEsWUFBWSxNQUFNLGVBQWUsb0ZBQW9GLElBQUksaURBQWlELFNBQVMsd0VBQXdFLG9CQUFvQixVQUFVLGlDQUFpQyxFQUFFLFNBQVMsWUFBWSxtQkFBbUIsS0FBSyxtQkFBbUIsc0NBQXNDLG1EQUFtRCxXQUFXLHlCQUF5Qiw4QkFBOEIsZUFBZSxJQUFJLDZDQUE2QyxTQUFTLDRFQUE0RSx5Q0FBeUMseUNBQXlDLDZDQUE2QyxrQ0FBa0MsNkNBQTZDLElBQUksV0FBVyxtQ0FBbUMsaUJBQWlCLGtCQUFrQiwrQ0FBUSxjQUFjLDZDQUFNLFdBQVcsK0NBQVEsV0FBVywrQ0FBUSxjQUFjLG9CQUFvQixtREFBbUQsZ0JBQWdCLDJCQUEyQixNQUFNLGVBQWUsSUFBSSwrQ0FBK0MsU0FBUyxzRUFBc0Usd1BBQXdQLGFBQWEsWUFBWSxNQUFNLGVBQWUsb0ZBQW9GLElBQUksaURBQWlELFNBQVMsd0VBQXdFLG9CQUFvQixVQUFVLGlDQUFpQyxFQUFFLFNBQVMsWUFBWSxtQkFBbUIsS0FBSyxtQkFBbUIsc0NBQXNDLG1EQUFtRCxXQUFXLHlCQUF5Qiw4QkFBOEIsZUFBZSxJQUFJLDZDQUE2QyxTQUFTLDRFQUE0RSx5Q0FBeUMseUNBQXlDLDZDQUE2QyxrQ0FBa0MsNkNBQTZDLElBQUksV0FBVyxtQ0FBbUMsbUJBQW1CLDBEQUEwRCwrQ0FBUSxtQkFBbUIsNkNBQU0sU0FBUywrQ0FBUSxXQUFXLCtDQUFRLE9BQU8sT0FBTyxnREFBUyxNQUFNLGlCQUFpQixTQUFTLFdBQVcsK0RBQStELDhCQUE4QixNQUFNLGtCQUFrQixtQ0FBbUMsU0FBUyxnRUFBZ0Usc0JBQXNCLGdCQUFnQixJQUFJLDRCQUE0QixNQUFNLDZEQUE2RCxTQUFTLDhEQUE4RCxVQUFVLG9CQUFvQixzREFBc0Qsa0JBQWtCLCtCQUErQixxQ0FBcUMsa0NBQWtDLHFDQUFxQyxJQUFJLGVBQWUsNkJBQTZCLGVBQWUsa0JBQWtCLCtDQUFRLHFCQUFxQixPQUFPLGdEQUFTLE1BQU0sTUFBTSxtQ0FBbUMsNEdBQTRHLFFBQVEsd0JBQXdCLGtCQUFrQiwrQ0FBUSxhQUFhLCtDQUFRLFdBQVcsK0NBQVEsY0FBYyxvQkFBb0Isd0NBQXdDLElBQUksaUJBQWlCLDJDQUEyQyxpQkFBaUIsU0FBUyw2RUFBNkUsa0JBQWtCLCtCQUErQixTQUFTLG1DQUFtQyxjQUFjLHFCQUFxQixRQUFRLFlBQVksZUFBZSxzQkFBc0IsZUFBZSxlQUFlLHVCQUF1QixtQ0FBbUMsTUFBTSxjQUFjLDhDQUE4QyxhQUFhLE9BQU8sb0RBQWEsU0FBUyxhQUFhLFdBQVcsRUFBRSxPQUFPLCtDQUFRLEtBQUssT0FBTyxnREFBUyxvQkFBb0Isc0RBQUcsY0FBYyxtQkFBbUIsRUFBRSxxQkFBcUIsTUFBTSxpREFBVSxLQUFLLGdEQUFTLE1BQU0sdUZBQXVGLHdCQUF3QixlQUFlLGlCQUFpQixNQUFNLGlEQUFVLEtBQUssUUFBUSx5RUFBeUUsd0JBQXdCLFdBQVcsYUFBYSx5REFBeUQsRUFBRSxZQUFZLGVBQWUsZ0RBQVMsTUFBTSw0QkFBNEIsUUFBUSxnREFBUyxNQUFNLGtEQUFrRCxRQUFRLGdEQUFTLE1BQU0sK0NBQStDLFVBQVUsc0RBQUcsQ0FBQyx1REFBUSxFQUFFLFdBQVcsT0FBTyxRQUFRLG1GQUFtRixLQUFLLDJCQUEyQixLQUFLLHVGQUF1RixXQUFXLDhDQUFPLE9BQU8sVUFBVSxTQUFTLGFBQWEsbUVBQW1FLEVBQUUscUJBQXFCLCtDQUFRLGVBQWUsbUJBQW1CLGdEQUFTLE1BQU0sa0RBQWtELFFBQVEsZ0RBQVMsTUFBTSwrQ0FBK0MsUUFBUSxzREFBRyxRQUFRLG1CQUFtQixFQUFFLFFBQVEsMkdBQTJHLEtBQUssa0xBQWtMLGFBQWEsUUFBUSxFQUFFLE9BQU8sc0RBQUcsUUFBUSxxQ0FBcUMsdURBQUksQ0FBQyx1REFBUSxFQUFFLFVBQVUsc0RBQUcsUUFBUSxPQUFPLDZCQUE2QixFQUFFLElBQUksRUFBRSxzREFBRyxRQUFRLGVBQWUsR0FBRyxNQUFNLEVBQUUsYUFBYSw4R0FBOEcsRUFBRSxlQUFlLHlCQUF5Qix1REFBSSxRQUFRLHVCQUF1QixzREFBRyxLQUFLLDJCQUEyQixFQUFFLHNEQUFHLEtBQUssb0NBQW9DLFNBQVMsc0RBQUcsS0FBSyxRQUFRLEVBQUUsc0RBQUcsUUFBUSxvQkFBb0IsR0FBRyxFQUFFLGFBQWEseURBQXlELEVBQUUsZUFBZSxnREFBUyxNQUFNLHdEQUF3RCxRQUFRLGdEQUFTLE1BQU0sNEJBQTRCLFVBQVUsc0RBQUcsQ0FBQyx1REFBUSxFQUFFLFdBQVcsT0FBTyxhQUFhLGdEQUFnRCxFQUFFLHFCQUFxQiwrQ0FBUSxPQUFPLG1CQUFtQixzREFBRyxRQUFRLG1CQUFtQixFQUFFLGFBQWEsK0dBQStHLEVBQUUsZ0JBQWdCLFFBQVEsZ0JBQWdCLFFBQVEsZUFBZSx5Q0FBeUMsdURBQUksUUFBUSx1QkFBdUIsc0RBQUcsS0FBSyxtQ0FBbUMsRUFBRSxzREFBRyxLQUFLLDJDQUEyQyxTQUFTLHNEQUFHLEtBQUssUUFBUSxFQUFFLHNEQUFHLFFBQVEsb0JBQW9CLEdBQUcsRUFBRSxhQUFhLGFBQWEsY0FBYywrQkFBK0IsT0FBTyxlQUFlLFVBQVU7O0FBRXh5M0s7QUFDQTtBQUNBOztBQUU2dkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9hZ29yYS1ydGMtcmVhY3QvZGlzdC9hZ29yYS1ydGMtcmVhY3QubWpzPzEzZTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VMYXlvdXRFZmZlY3QsIHVzZU1lbW8sIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsganN4LCBGcmFnbWVudCwganN4cyB9IGZyb20gJ3JlYWN0L2pzeC1ydW50aW1lJztcblxuLyoqXG4gKiBAbGljZW5zZSBhZ29yYS1ydGMtcmVhY3RcbiAqIEB2ZXJzaW9uIDIuMy4wXG4gKlxuICogQ29weXJpZ2h0IChjKSBBZ29yYSwgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICovXG5cbmZ1bmN0aW9uIHlOKHQsZSl7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihuKXtuJiZ0eXBlb2YgbiE9XCJzdHJpbmdcIiYmIUFycmF5LmlzQXJyYXkobikmJk9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oaSl7aWYoaSE9PVwiZGVmYXVsdFwiJiYhKGkgaW4gdCkpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixpKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLHIuZ2V0P3I6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5baV19fSk7fX0pO30pLE9iamVjdC5mcmVlemUodCl9dmFyIFZzPXR5cGVvZiBnbG9iYWxUaGlzPFwidVwiP2dsb2JhbFRoaXM6dHlwZW9mIHdpbmRvdzxcInVcIj93aW5kb3c6dHlwZW9mIGdsb2JhbDxcInVcIj9nbG9iYWw6dHlwZW9mIHNlbGY8XCJ1XCI/c2VsZjp7fTtmdW5jdGlvbiBhZSh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxcImRlZmF1bHRcIik/dC5kZWZhdWx0OnR9dmFyIFNlPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gISF0KCl9Y2F0Y2h7cmV0dXJuICEwfX0sdnU9IVNlKGZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oKXt9LmJpbmQoKTtyZXR1cm4gdHlwZW9mIHQhPVwiZnVuY3Rpb25cInx8dC5oYXNPd25Qcm9wZXJ0eShcInByb3RvdHlwZVwiKX0pLElBPXZ1LHZBPUZ1bmN0aW9uLnByb3RvdHlwZSxHXz12QS5jYWxsLEFOPUlBJiZ2QS5iaW5kLmJpbmQoR18sR18pLG1lPUlBP0FOOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBHXy5hcHBseSh0LGFyZ3VtZW50cyl9fSxobj1tZSh7fS5pc1Byb3RvdHlwZU9mKSxjZD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5NYXRoPT1NYXRoJiZ0fSxXZT1jZCh0eXBlb2YgZ2xvYmFsVGhpcz09XCJvYmplY3RcIiYmZ2xvYmFsVGhpcyl8fGNkKHR5cGVvZiB3aW5kb3c9PVwib2JqZWN0XCImJndpbmRvdyl8fGNkKHR5cGVvZiBzZWxmPT1cIm9iamVjdFwiJiZzZWxmKXx8Y2QodHlwZW9mIFZzPT1cIm9iamVjdFwiJiZWcyl8fGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCl8fFZzfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCksYk49dnUseUE9RnVuY3Rpb24ucHJvdG90eXBlLFhmPXlBLmFwcGx5LFFmPXlBLmNhbGwsdm09dHlwZW9mIFJlZmxlY3Q9PVwib2JqZWN0XCImJlJlZmxlY3QuYXBwbHl8fChiTj9RZi5iaW5kKFhmKTpmdW5jdGlvbigpe3JldHVybiBRZi5hcHBseShYZixhcmd1bWVudHMpfSksQUE9bWUsd049QUEoe30udG9TdHJpbmcpLE9OPUFBKFwiXCIuc2xpY2UpLHByPWZ1bmN0aW9uKHQpe3JldHVybiBPTih3Tih0KSw4LC0xKX0sTk49cHIsRE49bWUsZ2M9ZnVuY3Rpb24odCl7aWYoTk4odCk9PT1cIkZ1bmN0aW9uXCIpcmV0dXJuIEROKHQpfSx1aD10eXBlb2YgZG9jdW1lbnQ9PVwib2JqZWN0XCImJmRvY3VtZW50LmFsbCx5dT17YWxsOnVoLElTX0hUTUxEREE6dWg9PT12b2lkIDAmJnVoIT09dm9pZCAwfSxQTj15dS5hbGwsSGU9eXUuSVNfSFRNTEREQT9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHQ9PVwiZnVuY3Rpb25cInx8dD09PVBOfTpmdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHQ9PVwiZnVuY3Rpb25cIn0sWWM9e30scmk9IVNlKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KVsxXSE9N30pLGtOPXZ1LGRkPUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLEtlPWtOP2RkLmJpbmQoZGQpOmZ1bmN0aW9uKCl7cmV0dXJuIGRkLmFwcGx5KGRkLGFyZ3VtZW50cyl9LEF1PXt9LGJBPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLHdBPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsTE49d0EmJiFiQS5jYWxsKHsxOjJ9LDEpO0F1LmY9TE4/ZnVuY3Rpb24odCl7dmFyIGU9d0EodGhpcyx0KTtyZXR1cm4gISFlJiZlLmVudW1lcmFibGV9OmJBO3ZhciB4cixybCxfbz1mdW5jdGlvbih0LGUpe3JldHVybiB7ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19LE1OPVNlLFVOPXByLGhoPU9iamVjdCx4Tj1tZShcIlwiLnNwbGl0KSxidT1NTihmdW5jdGlvbigpe3JldHVybiAhaGgoXCJ6XCIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApfSk/ZnVuY3Rpb24odCl7cmV0dXJuIFVOKHQpPT1cIlN0cmluZ1wiP3hOKHQsXCJcIik6aGgodCl9OmhoLGRhPWZ1bmN0aW9uKHQpe3JldHVybiB0PT1udWxsfSxWTj1kYSxGTj1UeXBlRXJyb3IsbGE9ZnVuY3Rpb24odCl7aWYoVk4odCkpdGhyb3cgRk4oXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiBcIit0KTtyZXR1cm4gdH0sQk49YnUsak49bGEsRW89ZnVuY3Rpb24odCl7cmV0dXJuIEJOKGpOKHQpKX0sWmY9SGUsR049eXUuYWxsLEhuPXl1LklTX0hUTUxEREE/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0PT1cIm9iamVjdFwiP3QhPT1udWxsOlpmKHQpfHx0PT09R059OmZ1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdD09XCJvYmplY3RcIj90IT09bnVsbDpaZih0KX0sR2k9e30scGg9R2ksX2g9V2UsV049SGUsJGY9ZnVuY3Rpb24odCl7cmV0dXJuIFdOKHQpP3Q6dm9pZCAwfSxEbj1mdW5jdGlvbih0LGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/JGYocGhbdF0pfHwkZihfaFt0XSk6cGhbdF0mJnBoW3RdW2VdfHxfaFt0XSYmX2hbdF1bZV19LCRvPXR5cGVvZiBuYXZpZ2F0b3I8XCJ1XCImJlN0cmluZyhuYXZpZ2F0b3IudXNlckFnZW50KXx8XCJcIixPQT1XZSxFaD0kbyx0Zz1PQS5wcm9jZXNzLGVnPU9BLkRlbm8sbmc9dGcmJnRnLnZlcnNpb25zfHxlZyYmZWcudmVyc2lvbixpZz1uZyYmbmcudjg7aWcmJihybD0oeHI9aWcuc3BsaXQoXCIuXCIpKVswXT4wJiZ4clswXTw0PzE6Kyh4clswXSt4clsxXSkpLCFybCYmRWgmJighKHhyPUVoLm1hdGNoKC9FZGdlXFwvKFxcZCspLykpfHx4clsxXT49NzQpJiYoeHI9RWgubWF0Y2goL0Nocm9tZVxcLyhcXGQrKS8pKSYmKHJsPSt4clsxXSk7dmFyIHpvPXJsLHJnPXpvLEhOPVNlLEtOPVdlLlN0cmluZyx1YT0hIU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMmJiFITihmdW5jdGlvbigpe3ZhciB0PVN5bWJvbCgpO3JldHVybiAhS04odCl8fCEoT2JqZWN0KHQpaW5zdGFuY2VvZiBTeW1ib2wpfHwhU3ltYm9sLnNoYW0mJnJnJiZyZzw0MX0pLE5BPXVhJiYhU3ltYm9sLnNoYW0mJnR5cGVvZiBTeW1ib2wuaXRlcmF0b3I9PVwic3ltYm9sXCIsWU49RG4scU49SGUsek49aG4sSk49T2JqZWN0LHFjPU5BP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdD09XCJzeW1ib2xcIn06ZnVuY3Rpb24odCl7dmFyIGU9WU4oXCJTeW1ib2xcIik7cmV0dXJuIHFOKGUpJiZ6TihlLnByb3RvdHlwZSxKTih0KSl9LFhOPVN0cmluZyxoYT1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIFhOKHQpfWNhdGNoe3JldHVybiBcIk9iamVjdFwifX0sUU49SGUsWk49aGEsJE49VHlwZUVycm9yLHlpPWZ1bmN0aW9uKHQpe2lmKFFOKHQpKXJldHVybiB0O3Rocm93ICROKFpOKHQpK1wiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpfSx0RD15aSxlRD1kYSx3dT1mdW5jdGlvbih0LGUpe3ZhciBuPXRbZV07cmV0dXJuIGVEKG4pP3ZvaWQgMDp0RChuKX0sbWg9S2UsZmg9SGUsZ2g9SG4sbkQ9VHlwZUVycm9yLERBPXtleHBvcnRzOnt9fSxvZz1XZSxpRD1PYmplY3QuZGVmaW5lUHJvcGVydHksckQ9ZnVuY3Rpb24odCxlKXt0cnl7aUQob2csdCx7dmFsdWU6ZSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTt9Y2F0Y2h7b2dbdF09ZTt9cmV0dXJuIGV9LHNnPVwiX19jb3JlLWpzX3NoYXJlZF9fXCIseW09V2Vbc2ddfHxyRChzZyx7fSksYWc9eW07KERBLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYWdbdF18fChhZ1t0XT1lIT09dm9pZCAwP2U6e30pfSkoXCJ2ZXJzaW9uc1wiLFtdKS5wdXNoKHt2ZXJzaW9uOlwiMy4zMS4xXCIsbW9kZTpcInB1cmVcIixjb3B5cmlnaHQ6XCJcXHhBOSAyMDE0LTIwMjMgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSlcIixsaWNlbnNlOlwiaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvYmxvYi92My4zMS4xL0xJQ0VOU0VcIixzb3VyY2U6XCJodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qc1wifSk7dmFyIHBhPURBLmV4cG9ydHMsb0Q9bGEsc0Q9T2JqZWN0LF9yPWZ1bmN0aW9uKHQpe3JldHVybiBzRChvRCh0KSl9LGFEPV9yLGNEPW1lKHt9Lmhhc093blByb3BlcnR5KSxKZT1PYmplY3QuaGFzT3dufHxmdW5jdGlvbih0LGUpe3JldHVybiBjRChhRCh0KSxlKX0sZEQ9bWUsbEQ9MCx1RD1NYXRoLnJhbmRvbSgpLGhEPWREKDEgLnRvU3RyaW5nKSxBbT1mdW5jdGlvbih0KXtyZXR1cm4gXCJTeW1ib2woXCIrKHQ9PT12b2lkIDA/XCJcIjp0KStcIilfXCIraEQoKytsRCt1RCwzNil9LHBEPXBhLGNnPUplLF9EPUFtLEVEPXVhLG1EPU5BLHdzPVdlLlN5bWJvbCxUaD1wRChcIndrc1wiKSxmRD1tRD93cy5mb3J8fHdzOndzJiZ3cy53aXRob3V0U2V0dGVyfHxfRCxwZT1mdW5jdGlvbih0KXtyZXR1cm4gY2coVGgsdCl8fChUaFt0XT1FRCYmY2cod3MsdCk/d3NbdF06ZkQoXCJTeW1ib2wuXCIrdCkpLFRoW3RdfSxnRD1LZSxkZz1IbixsZz1xYyxURD13dSxTRD1mdW5jdGlvbih0LGUpe3ZhciBuLGk7aWYoZmgobj10LnRvU3RyaW5nKSYmIWdoKGk9bWgobix0KSl8fGZoKG49dC52YWx1ZU9mKSYmIWdoKGk9bWgobix0KSl8fGUhPT1cInN0cmluZ1wiKXJldHVybiBpO3Rocm93IG5EKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfSxSRD1UeXBlRXJyb3IsQ0Q9cGUoXCJ0b1ByaW1pdGl2ZVwiKSxJRD1mdW5jdGlvbih0LGUpe2lmKCFkZyh0KXx8bGcodCkpcmV0dXJuIHQ7dmFyIG4saT1URCh0LENEKTtpZihpKXtpZihuPWdEKGksdCxlKSwhZGcobil8fGxnKG4pKXJldHVybiBuO3Rocm93IFJEKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfXJldHVybiBTRCh0LGUpfSx2RD1xYyxPdT1mdW5jdGlvbih0KXt2YXIgZT1JRCh0LFwic3RyaW5nXCIpO3JldHVybiB2RChlKT9lOmUrXCJcIn0sdWc9SG4sV189V2UuZG9jdW1lbnQseUQ9dWcoV18pJiZ1ZyhXXy5jcmVhdGVFbGVtZW50KSxibT1mdW5jdGlvbih0KXtyZXR1cm4geUQ/V18uY3JlYXRlRWxlbWVudCh0KTp7fX0sQUQ9Ym0sUEE9IXJpJiYhU2UoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KEFEKFwiZGl2XCIpLFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hIT03fSksYkQ9cmksd0Q9S2UsT0Q9QXUsTkQ9X28sREQ9RW8sUEQ9T3Usa0Q9SmUsTEQ9UEEsaGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtZYy5mPWJEP2hnOmZ1bmN0aW9uKHQsZSl7aWYodD1ERCh0KSxlPVBEKGUpLExEKXRyeXtyZXR1cm4gaGcodCxlKX1jYXRjaHt9aWYoa0QodCxlKSlyZXR1cm4gTkQoIXdEKE9ELmYsdCxlKSx0W2VdKX07dmFyIE1EPVNlLFVEPUhlLHhEPS8jfFxcLnByb3RvdHlwZVxcLi8semM9ZnVuY3Rpb24odCxlKXt2YXIgbj1GRFtWRCh0KV07cmV0dXJuIG49PWpEfHxuIT1CRCYmKFVEKGUpP01EKGUpOiEhZSl9LFZEPXpjLm5vcm1hbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gU3RyaW5nKHQpLnJlcGxhY2UoeEQsXCIuXCIpLnRvTG93ZXJDYXNlKCl9LEZEPXpjLmRhdGE9e30sQkQ9emMuTkFUSVZFPVwiTlwiLGpEPXpjLlBPTFlGSUxMPVwiUFwiLGtBPXpjLEdEPXlpLFdEPXZ1LEhEPWdjKGdjLmJpbmQpLG1vPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEdEKHQpLGU9PT12b2lkIDA/dDpXRD9IRCh0LGUpOmZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX0sQWk9e30sTEE9cmkmJlNlKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmdW5jdGlvbigpe30sXCJwcm90b3R5cGVcIix7dmFsdWU6NDIsd3JpdGFibGU6ITF9KS5wcm90b3R5cGUhPTQyfSksS0Q9SG4sWUQ9U3RyaW5nLHFEPVR5cGVFcnJvcixDbj1mdW5jdGlvbih0KXtpZihLRCh0KSlyZXR1cm4gdDt0aHJvdyBxRChZRCh0KStcIiBpcyBub3QgYW4gb2JqZWN0XCIpfSx6RD1yaSxKRD1QQSxYRD1MQSxsZD1DbixwZz1PdSxRRD1UeXBlRXJyb3IsU2g9T2JqZWN0LmRlZmluZVByb3BlcnR5LFpEPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsUmg9XCJlbnVtZXJhYmxlXCIsQ2g9XCJjb25maWd1cmFibGVcIixJaD1cIndyaXRhYmxlXCI7QWkuZj16RD9YRD9mdW5jdGlvbih0LGUsbil7aWYobGQodCksZT1wZyhlKSxsZChuKSx0eXBlb2YgdD09XCJmdW5jdGlvblwiJiZlPT09XCJwcm90b3R5cGVcIiYmXCJ2YWx1ZVwiaW4gbiYmSWggaW4gbiYmIW5bSWhdKXt2YXIgaT1aRCh0LGUpO2kmJmlbSWhdJiYodFtlXT1uLnZhbHVlLG49e2NvbmZpZ3VyYWJsZTpDaCBpbiBuP25bQ2hdOmlbQ2hdLGVudW1lcmFibGU6UmggaW4gbj9uW1JoXTppW1JoXSx3cml0YWJsZTohMX0pO31yZXR1cm4gU2godCxlLG4pfTpTaDpmdW5jdGlvbih0LGUsbil7aWYobGQodCksZT1wZyhlKSxsZChuKSxKRCl0cnl7cmV0dXJuIFNoKHQsZSxuKX1jYXRjaHt9aWYoXCJnZXRcImluIG58fFwic2V0XCJpbiBuKXRocm93IFFEKFwiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWRcIik7cmV0dXJuIFwidmFsdWVcImluIG4mJih0W2VdPW4udmFsdWUpLHR9O3ZhciAkRD1BaSx0UD1fbyxmbz1yaT9mdW5jdGlvbih0LGUsbil7cmV0dXJuICRELmYodCxlLHRQKDEsbikpfTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bix0fSx1ZD1XZSxlUD12bSxuUD1nYyxpUD1IZSxyUD1ZYy5mLG9QPWtBLG9zPUdpLHNQPW1vLHNzPWZvLF9nPUplLGFQPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKG4saSxyKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IHQ7Y2FzZSAxOnJldHVybiBuZXcgdChuKTtjYXNlIDI6cmV0dXJuIG5ldyB0KG4saSl9cmV0dXJuIG5ldyB0KG4saSxyKX1yZXR1cm4gZVAodCx0aGlzLGFyZ3VtZW50cyl9O3JldHVybiBlLnByb3RvdHlwZT10LnByb3RvdHlwZSxlfSx4dD1mdW5jdGlvbih0LGUpe3ZhciBuLGkscixvLHMsYSxjLGQsbCx1PXQudGFyZ2V0LGg9dC5nbG9iYWwscD10LnN0YXQsZz10LnByb3RvLEU9aD91ZDpwP3VkW3VdOih1ZFt1XXx8e30pLnByb3RvdHlwZSxmPWg/b3M6b3NbdV18fHNzKG9zLHUse30pW3VdLFM9Zi5wcm90b3R5cGU7Zm9yKG8gaW4gZSlpPSEobj1vUChoP286dSsocD9cIi5cIjpcIiNcIikrbyx0LmZvcmNlZCkpJiZFJiZfZyhFLG8pLGE9ZltvXSxpJiYoYz10LmRvbnRDYWxsR2V0U2V0PyhsPXJQKEUsbykpJiZsLnZhbHVlOkVbb10pLHM9aSYmYz9jOmVbb10saSYmdHlwZW9mIGE9PXR5cGVvZiBzfHwoZD10LmJpbmQmJmk/c1Aocyx1ZCk6dC53cmFwJiZpP2FQKHMpOmcmJmlQKHMpP25QKHMpOnMsKHQuc2hhbXx8cyYmcy5zaGFtfHxhJiZhLnNoYW0pJiZzcyhkLFwic2hhbVwiLCEwKSxzcyhmLG8sZCksZyYmKF9nKG9zLHI9dStcIlByb3RvdHlwZVwiKXx8c3Mob3Mscix7fSksc3Mob3Nbcl0sbyxzKSx0LnJlYWwmJlMmJihufHwhU1tvXSkmJnNzKFMsbyxzKSkpO30sY1A9TWF0aC5jZWlsLGRQPU1hdGguZmxvb3IsbFA9TWF0aC50cnVuY3x8ZnVuY3Rpb24odCl7dmFyIGU9K3Q7cmV0dXJuIChlPjA/ZFA6Y1ApKGUpfSx1UD1sUCx3bT1mdW5jdGlvbih0KXt2YXIgZT0rdDtyZXR1cm4gZSE9ZXx8ZT09PTA/MDp1UChlKX0saFA9d20scFA9TWF0aC5tYXgsX1A9TWF0aC5taW4sT209ZnVuY3Rpb24odCxlKXt2YXIgbj1oUCh0KTtyZXR1cm4gbjwwP3BQKG4rZSwwKTpfUChuLGUpfSxFUD13bSxtUD1NYXRoLm1pbixNQT1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP21QKEVQKHQpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9LGZQPU1BLExyPWZ1bmN0aW9uKHQpe3JldHVybiBmUCh0Lmxlbmd0aCl9LGdQPUVvLFRQPU9tLFNQPUxyLEVnPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4saSl7dmFyIHIsbz1nUChlKSxzPVNQKG8pLGE9VFAoaSxzKTtpZih0JiZuIT1uKXtmb3IoO3M+YTspaWYoKHI9b1thKytdKSE9cilyZXR1cm4gITB9ZWxzZSBmb3IoO3M+YTthKyspaWYoKHR8fGEgaW4gbykmJm9bYV09PT1uKXJldHVybiB0fHxhfHwwO3JldHVybiAhdCYmLTF9fSxObT17aW5jbHVkZXM6RWcoITApLGluZGV4T2Y6RWcoITEpfSxSUD1ObS5pbmNsdWRlczt4dCh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6U2UoZnVuY3Rpb24oKXtyZXR1cm4gIUFycmF5KDEpLmluY2x1ZGVzKCl9KX0se2luY2x1ZGVzOmZ1bmN0aW9uKHQpe3JldHVybiBSUCh0aGlzLHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pO3ZhciBDUD1HaSxiaT1mdW5jdGlvbih0KXtyZXR1cm4gQ1BbdCtcIlByb3RvdHlwZVwiXX0sSVA9YmkoXCJBcnJheVwiKS5pbmNsdWRlcyx2UD1Ibix5UD1wcixBUD1wZShcIm1hdGNoXCIpLFVBPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB2UCh0KSYmKChlPXRbQVBdKSE9PXZvaWQgMD8hIWU6eVAodCk9PVwiUmVnRXhwXCIpfSxiUD1VQSx3UD1UeXBlRXJyb3IseEE9e307eEFbcGUoXCJ0b1N0cmluZ1RhZ1wiKV09XCJ6XCI7dmFyIERtPVN0cmluZyh4QSk9PT1cIltvYmplY3Qgel1cIixPUD1EbSxOUD1IZSxvbD1wcixEUD1wZShcInRvU3RyaW5nVGFnXCIpLFBQPU9iamVjdCxrUD1vbChmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpPT1cIkFyZ3VtZW50c1wiLEVyPU9QP29sOmZ1bmN0aW9uKHQpe3ZhciBlLG4saTtyZXR1cm4gdD09PXZvaWQgMD9cIlVuZGVmaW5lZFwiOnQ9PT1udWxsP1wiTnVsbFwiOnR5cGVvZihuPWZ1bmN0aW9uKHIsbyl7dHJ5e3JldHVybiByW29dfWNhdGNoe319KGU9UFAodCksRFApKT09XCJzdHJpbmdcIj9uOmtQP29sKGUpOihpPW9sKGUpKT09XCJPYmplY3RcIiYmTlAoZS5jYWxsZWUpP1wiQXJndW1lbnRzXCI6aX0sTFA9RXIsTVA9U3RyaW5nLG9pPWZ1bmN0aW9uKHQpe2lmKExQKHQpPT09XCJTeW1ib2xcIil0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgY29udmVydCBhIFN5bWJvbCB2YWx1ZSB0byBhIHN0cmluZ1wiKTtyZXR1cm4gTVAodCl9LFVQPXBlKFwibWF0Y2hcIikseFA9eHQsVlA9ZnVuY3Rpb24odCl7aWYoYlAodCkpdGhyb3cgd1AoXCJUaGUgbWV0aG9kIGRvZXNuJ3QgYWNjZXB0IHJlZ3VsYXIgZXhwcmVzc2lvbnNcIik7cmV0dXJuIHR9LEZQPWxhLG1nPW9pLEJQPWZ1bmN0aW9uKHQpe3ZhciBlPS8uLzt0cnl7XCIvLi9cIlt0XShlKTt9Y2F0Y2h7dHJ5e3JldHVybiBlW1VQXT0hMSxcIi8uL1wiW3RdKGUpfWNhdGNoe319cmV0dXJuICExfSxqUD1tZShcIlwiLmluZGV4T2YpO3hQKHt0YXJnZXQ6XCJTdHJpbmdcIixwcm90bzohMCxmb3JjZWQ6IUJQKFwiaW5jbHVkZXNcIil9LHtpbmNsdWRlczpmdW5jdGlvbih0KXtyZXR1cm4gISF+alAobWcoRlAodGhpcykpLG1nKFZQKHQpKSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSk7dmFyIEdQPWJpKFwiU3RyaW5nXCIpLmluY2x1ZGVzLGZnPWhuLFdQPUlQLEhQPUdQLHZoPUFycmF5LnByb3RvdHlwZSx5aD1TdHJpbmcucHJvdG90eXBlLEtQPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5jbHVkZXM7cmV0dXJuIHQ9PT12aHx8ZmcodmgsdCkmJmU9PT12aC5pbmNsdWRlcz9XUDp0eXBlb2YgdD09XCJzdHJpbmdcInx8dD09PXlofHxmZyh5aCx0KSYmZT09PXloLmluY2x1ZGVzP0hQOmV9LFc9YWUoS1ApLFlQPXlpLHFQPV9yLHpQPWJ1LEpQPUxyLFhQPVR5cGVFcnJvcixnZz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLGkscil7WVAobik7dmFyIG89cVAoZSkscz16UChvKSxhPUpQKG8pLGM9dD9hLTE6MCxkPXQ/LTE6MTtpZihpPDIpZm9yKDs7KXtpZihjIGluIHMpe3I9c1tjXSxjKz1kO2JyZWFrfWlmKGMrPWQsdD9jPDA6YTw9Yyl0aHJvdyBYUChcIlJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcIil9Zm9yKDt0P2M+PTA6YT5jO2MrPWQpYyBpbiBzJiYocj1uKHIsc1tjXSxjLG8pKTtyZXR1cm4gcn19LFFQPXtsZWZ0OmdnKCExKSxyaWdodDpnZyghMCl9LFpQPVNlLE51PWZ1bmN0aW9uKHQsZSl7dmFyIG49W11bdF07cmV0dXJuICEhbiYmWlAoZnVuY3Rpb24oKXtuLmNhbGwobnVsbCxlfHxmdW5jdGlvbigpe3JldHVybiAxfSwxKTt9KX0sSmM9dHlwZW9mIHByb2Nlc3M8XCJ1XCImJnByKHByb2Nlc3MpPT1cInByb2Nlc3NcIiwkUD1RUC5sZWZ0O3h0KHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohSmMmJnpvPjc5JiZ6bzw4M3x8IU51KFwicmVkdWNlXCIpfSx7cmVkdWNlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg7cmV0dXJuICRQKHRoaXMsdCxlLGU+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgdGs9YmkoXCJBcnJheVwiKS5yZWR1Y2UsZWs9aG4sbms9dGssQWg9QXJyYXkucHJvdG90eXBlLGlrPWZ1bmN0aW9uKHQpe3ZhciBlPXQucmVkdWNlO3JldHVybiB0PT09QWh8fGVrKEFoLHQpJiZlPT09QWgucmVkdWNlP25rOmV9LFZBPWlrLGppPWFlKFZBKSxGQT0hMCxCQT0hMDtmdW5jdGlvbiBoZCh0LGUsbil7bGV0IGk9dC5tYXRjaChlKTtyZXR1cm4gaSYmaS5sZW5ndGg+PW4mJnBhcnNlSW50KGlbbl0sMTApfWZ1bmN0aW9uIHRzKHQsZSxuKXtpZighdC5SVENQZWVyQ29ubmVjdGlvbilyZXR1cm47bGV0IGk9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUscj1pLmFkZEV2ZW50TGlzdGVuZXI7aS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHMsYSl7aWYocyE9PWUpcmV0dXJuIHIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2xldCBjPWQ9PntsZXQgbD1uKGQpO2wmJihhLmhhbmRsZUV2ZW50P2EuaGFuZGxlRXZlbnQobCk6YShsKSk7fTtyZXR1cm4gdGhpcy5fZXZlbnRNYXA9dGhpcy5fZXZlbnRNYXB8fHt9LHRoaXMuX2V2ZW50TWFwW2VdfHwodGhpcy5fZXZlbnRNYXBbZV09bmV3IE1hcCksdGhpcy5fZXZlbnRNYXBbZV0uc2V0KGEsYyksci5hcHBseSh0aGlzLFtzLGNdKX07bGV0IG89aS5yZW1vdmVFdmVudExpc3RlbmVyO2kucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihzLGEpe2lmKHMhPT1lfHwhdGhpcy5fZXZlbnRNYXB8fCF0aGlzLl9ldmVudE1hcFtlXSlyZXR1cm4gby5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoIXRoaXMuX2V2ZW50TWFwW2VdLmhhcyhhKSlyZXR1cm4gby5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bGV0IGM9dGhpcy5fZXZlbnRNYXBbZV0uZ2V0KGEpO3JldHVybiB0aGlzLl9ldmVudE1hcFtlXS5kZWxldGUoYSksdGhpcy5fZXZlbnRNYXBbZV0uc2l6ZT09PTAmJmRlbGV0ZSB0aGlzLl9ldmVudE1hcFtlXSxPYmplY3Qua2V5cyh0aGlzLl9ldmVudE1hcCkubGVuZ3RoPT09MCYmZGVsZXRlIHRoaXMuX2V2ZW50TWFwLG8uYXBwbHkodGhpcyxbcyxjXSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwib25cIitlLHtnZXQoKXtyZXR1cm4gdGhpc1tcIl9vblwiK2VdfSxzZXQocyl7dGhpc1tcIl9vblwiK2VdJiYodGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGUsdGhpc1tcIl9vblwiK2VdKSxkZWxldGUgdGhpc1tcIl9vblwiK2VdKSxzJiZ0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZSx0aGlzW1wiX29uXCIrZV09cyk7fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pO31mdW5jdGlvbiByayh0KXtyZXR1cm4gdHlwZW9mIHQhPVwiYm9vbGVhblwiP25ldyBFcnJvcihcIkFyZ3VtZW50IHR5cGU6IFwiK3R5cGVvZiB0K1wiLiBQbGVhc2UgdXNlIGEgYm9vbGVhbi5cIik6KEZBPXQsdD9cImFkYXB0ZXIuanMgbG9nZ2luZyBkaXNhYmxlZFwiOlwiYWRhcHRlci5qcyBsb2dnaW5nIGVuYWJsZWRcIil9ZnVuY3Rpb24gb2sodCl7cmV0dXJuIHR5cGVvZiB0IT1cImJvb2xlYW5cIj9uZXcgRXJyb3IoXCJBcmd1bWVudCB0eXBlOiBcIit0eXBlb2YgdCtcIi4gUGxlYXNlIHVzZSBhIGJvb2xlYW4uXCIpOihCQT0hdCxcImFkYXB0ZXIuanMgZGVwcmVjYXRpb24gd2FybmluZ3MgXCIrKHQ/XCJkaXNhYmxlZFwiOlwiZW5hYmxlZFwiKSl9ZnVuY3Rpb24gakEoKXtpZih0eXBlb2Ygd2luZG93PT1cIm9iamVjdFwiKXtpZihGQSlyZXR1cm47dHlwZW9mIGNvbnNvbGU8XCJ1XCImJnR5cGVvZiBjb25zb2xlLmxvZz09XCJmdW5jdGlvblwiJiZjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGFyZ3VtZW50cyk7fX1mdW5jdGlvbiBQbSh0LGUpe0JBJiZjb25zb2xlLndhcm4odCtcIiBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFwiK2UrXCIgaW5zdGVhZC5cIik7fWZ1bmN0aW9uIFRnKHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCk9PT1cIltvYmplY3QgT2JqZWN0XVwifWZ1bmN0aW9uIEdBKHQpe3ZhciBlO3JldHVybiBUZyh0KT9qaShlPU9iamVjdC5rZXlzKHQpKS5jYWxsKGUsZnVuY3Rpb24obixpKXtsZXQgcj1UZyh0W2ldKSxvPXI/R0EodFtpXSk6dFtpXSxzPXImJiFPYmplY3Qua2V5cyhvKS5sZW5ndGg7cmV0dXJuIG89PT12b2lkIDB8fHM/bjpPYmplY3QuYXNzaWduKG4se1tpXTpvfSl9LHt9KTp0fWZ1bmN0aW9uIEhfKHQsZSxuKXtlJiYhbi5oYXMoZS5pZCkmJihuLnNldChlLmlkLGUpLE9iamVjdC5rZXlzKGUpLmZvckVhY2goaT0+e2kuZW5kc1dpdGgoXCJJZFwiKT9IXyh0LHQuZ2V0KGVbaV0pLG4pOmkuZW5kc1dpdGgoXCJJZHNcIikmJmVbaV0uZm9yRWFjaChyPT57SF8odCx0LmdldChyKSxuKTt9KTt9KSk7fWZ1bmN0aW9uIFNnKHQsZSxuKXtsZXQgaT1uP1wib3V0Ym91bmQtcnRwXCI6XCJpbmJvdW5kLXJ0cFwiLHI9bmV3IE1hcDtpZihlPT09bnVsbClyZXR1cm4gcjtsZXQgbz1bXTtyZXR1cm4gdC5mb3JFYWNoKHM9PntzLnR5cGU9PT1cInRyYWNrXCImJnMudHJhY2tJZGVudGlmaWVyPT09ZS5pZCYmby5wdXNoKHMpO30pLG8uZm9yRWFjaChzPT57dC5mb3JFYWNoKGE9PnthLnR5cGU9PT1pJiZhLnRyYWNrSWQ9PT1zLmlkJiZIXyh0LGEscik7fSk7fSkscn12YXIgc2s9QW0sUmc9cGEoXCJrZXlzXCIpLER1PWZ1bmN0aW9uKHQpe3JldHVybiBSZ1t0XXx8KFJnW3RdPXNrKHQpKX0sYWs9IVNlKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuY29uc3RydWN0b3I9bnVsbCxPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IHQpIT09dC5wcm90b3R5cGV9KSxjaz1KZSxkaz1IZSxsaz1fcix1az1hayxDZz1EdShcIklFX1BST1RPXCIpLEtfPU9iamVjdCxoaz1LXy5wcm90b3R5cGUsa209dWs/S18uZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24odCl7dmFyIGU9bGsodCk7aWYoY2soZSxDZykpcmV0dXJuIGVbQ2ddO3ZhciBuPWUuY29uc3RydWN0b3I7cmV0dXJuIGRrKG4pJiZlIGluc3RhbmNlb2Ygbj9uLnByb3RvdHlwZTplIGluc3RhbmNlb2YgS18/aGs6bnVsbH0scGs9bWUsX2s9eWksRWs9SGUsbWs9U3RyaW5nLGZrPVR5cGVFcnJvcixnaz1mdW5jdGlvbih0LGUsbil7dHJ5e3JldHVybiBwayhfayhPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSlbbl0pKX1jYXRjaHt9fSxUaz1DbixTaz1mdW5jdGlvbih0KXtpZih0eXBlb2YgdD09XCJvYmplY3RcInx8RWsodCkpcmV0dXJuIHQ7dGhyb3cgZmsoXCJDYW4ndCBzZXQgXCIrbWsodCkrXCIgYXMgYSBwcm90b3R5cGVcIil9LFJrPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8KFwiX19wcm90b19fXCJpbnt9P2Z1bmN0aW9uKCl7dmFyIHQsZT0hMSxuPXt9O3RyeXsodD1nayhPYmplY3QucHJvdG90eXBlLFwiX19wcm90b19fXCIsXCJzZXRcIikpKG4sW10pLGU9biBpbnN0YW5jZW9mIEFycmF5O31jYXRjaHt9cmV0dXJuIGZ1bmN0aW9uKGkscil7cmV0dXJuIFRrKGkpLFNrKHIpLGU/dChpLHIpOmkuX19wcm90b19fPXIsaX19KCk6dm9pZCAwKSxQdT17fSxrdT17fSxiaD1KZSxDaz1FbyxJaz1ObS5pbmRleE9mLHZrPWt1LElnPW1lKFtdLnB1c2gpLFdBPWZ1bmN0aW9uKHQsZSl7dmFyIG4saT1Dayh0KSxyPTAsbz1bXTtmb3IobiBpbiBpKSFiaCh2ayxuKSYmYmgoaSxuKSYmSWcobyxuKTtmb3IoO2UubGVuZ3RoPnI7KWJoKGksbj1lW3IrK10pJiYofklrKG8sbil8fElnKG8sbikpO3JldHVybiBvfSxMbT1bXCJjb25zdHJ1Y3RvclwiLFwiaGFzT3duUHJvcGVydHlcIixcImlzUHJvdG90eXBlT2ZcIixcInByb3BlcnR5SXNFbnVtZXJhYmxlXCIsXCJ0b0xvY2FsZVN0cmluZ1wiLFwidG9TdHJpbmdcIixcInZhbHVlT2ZcIl0seWs9V0EsQWs9TG0uY29uY2F0KFwibGVuZ3RoXCIsXCJwcm90b3R5cGVcIik7UHUuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24odCl7cmV0dXJuIHlrKHQsQWspfTt2YXIgWGM9e307WGMuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO3ZhciBiaz1Ebix3az1QdSxPaz1YYyxOaz1DbixEaz1tZShbXS5jb25jYXQpLFBrPWJrKFwiUmVmbGVjdFwiLFwib3duS2V5c1wiKXx8ZnVuY3Rpb24odCl7dmFyIGU9d2suZihOayh0KSksbj1Pay5mO3JldHVybiBuP0RrKGUsbih0KSk6ZX0sdmc9SmUsa2s9UGssTGs9WWMsTWs9QWksTW09e30sVWs9V0EseGs9TG0sTHU9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKHQpe3JldHVybiBVayh0LHhrKX0sVms9cmksRms9TEEsQms9QWksams9Q24sR2s9RW8sV2s9THU7TW0uZj1WayYmIUZrP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKHQsZSl7amsodCk7Zm9yKHZhciBuLGk9R2soZSkscj1XayhlKSxvPXIubGVuZ3RoLHM9MDtvPnM7KUJrLmYodCxuPXJbcysrXSxpW25dKTtyZXR1cm4gdH07dmFyIHBkLEhBPURuKFwiZG9jdW1lbnRcIixcImRvY3VtZW50RWxlbWVudFwiKSxIaz1DbixLaz1NbSx5Zz1MbSxZaz1rdSxxaz1IQSx6az1ibSxZXz1cInByb3RvdHlwZVwiLHFfPVwic2NyaXB0XCIsS0E9RHUoXCJJRV9QUk9UT1wiKSx3aD1mdW5jdGlvbigpe30sWUE9ZnVuY3Rpb24odCl7cmV0dXJuIFwiPFwiK3FfK1wiPlwiK3QrXCI8L1wiK3FfK1wiPlwifSxBZz1mdW5jdGlvbih0KXt0LndyaXRlKFlBKFwiXCIpKSx0LmNsb3NlKCk7dmFyIGU9dC5wYXJlbnRXaW5kb3cuT2JqZWN0O3JldHVybiB0PW51bGwsZX0sc2w9ZnVuY3Rpb24oKXt0cnl7cGQ9bmV3IEFjdGl2ZVhPYmplY3QoXCJodG1sZmlsZVwiKTt9Y2F0Y2h7fXZhciB0LGUsbjtzbD10eXBlb2YgZG9jdW1lbnQ8XCJ1XCI/ZG9jdW1lbnQuZG9tYWluJiZwZD9BZyhwZCk6KGU9emsoXCJpZnJhbWVcIiksbj1cImphdmFcIitxXytcIjpcIixlLnN0eWxlLmRpc3BsYXk9XCJub25lXCIscWsuYXBwZW5kQ2hpbGQoZSksZS5zcmM9U3RyaW5nKG4pLCh0PWUuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLHQud3JpdGUoWUEoXCJkb2N1bWVudC5GPU9iamVjdFwiKSksdC5jbG9zZSgpLHQuRik6QWcocGQpO2Zvcih2YXIgaT15Zy5sZW5ndGg7aS0tOylkZWxldGUgc2xbWV9dW3lnW2ldXTtyZXR1cm4gc2woKX07WWtbS0FdPSEwO3ZhciBRYz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiB0IT09bnVsbD8od2hbWV9dPUhrKHQpLG49bmV3IHdoLHdoW1lfXT1udWxsLG5bS0FdPXQpOm49c2woKSxlPT09dm9pZCAwP246S2suZihuLGUpfSxKaz1IbixYaz1mbyxxQT1FcnJvcixRaz1tZShcIlwiLnJlcGxhY2UpLFprPVN0cmluZyhxQShcInp4Y2FzZFwiKS5zdGFjayksekE9L1xcblxccyphdCBbXjpdKjpbXlxcbl0qLywkaz16QS50ZXN0KFprKSx0TD1fbyxlTD0hU2UoZnVuY3Rpb24oKXt2YXIgdD1FcnJvcihcImFcIik7cmV0dXJuICEoXCJzdGFja1wiaW4gdCl8fChPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInN0YWNrXCIsdEwoMSw3KSksdC5zdGFjayE9PTcpfSksbkw9Zm8saUw9ZnVuY3Rpb24odCxlKXtpZigkayYmdHlwZW9mIHQ9PVwic3RyaW5nXCImJiFxQS5wcmVwYXJlU3RhY2tUcmFjZSlmb3IoO2UtLTspdD1Rayh0LHpBLFwiXCIpO3JldHVybiB0fSxyTD1lTCxiZz1FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSxlcz17fSxvTD1lcyxzTD1wZShcIml0ZXJhdG9yXCIpLGFMPUFycmF5LnByb3RvdHlwZSxKQT1mdW5jdGlvbih0KXtyZXR1cm4gdCE9PXZvaWQgMCYmKG9MLkFycmF5PT09dHx8YUxbc0xdPT09dCl9LGNMPUVyLHdnPXd1LGRMPWRhLGxMPWVzLHVMPXBlKFwiaXRlcmF0b3JcIiksTXU9ZnVuY3Rpb24odCl7aWYoIWRMKHQpKXJldHVybiB3Zyh0LHVMKXx8d2codCxcIkBAaXRlcmF0b3JcIil8fGxMW2NMKHQpXX0saEw9S2UscEw9eWksX0w9Q24sRUw9aGEsbUw9TXUsZkw9VHlwZUVycm9yLFVtPWZ1bmN0aW9uKHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aDwyP21MKHQpOmU7aWYocEwobikpcmV0dXJuIF9MKGhMKG4sdCkpO3Rocm93IGZMKEVMKHQpK1wiIGlzIG5vdCBpdGVyYWJsZVwiKX0sZ0w9S2UsT2c9Q24sVEw9d3UsWEE9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHI7T2codCk7dHJ5e2lmKCEoaT1UTCh0LFwicmV0dXJuXCIpKSl7aWYoZT09PVwidGhyb3dcIil0aHJvdyBuO3JldHVybiBufWk9Z0woaSx0KTt9Y2F0Y2gobyl7cj0hMCxpPW87fWlmKGU9PT1cInRocm93XCIpdGhyb3cgbjtpZihyKXRocm93IGk7cmV0dXJuIE9nKGkpLG59LFNMPW1vLFJMPUtlLENMPUNuLElMPWhhLHZMPUpBLHlMPUxyLE5nPWhuLEFMPVVtLGJMPU11LERnPVhBLHdMPVR5cGVFcnJvcixhbD1mdW5jdGlvbih0LGUpe3RoaXMuc3RvcHBlZD10LHRoaXMucmVzdWx0PWU7fSxQZz1hbC5wcm90b3R5cGUsWmM9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHIsbyxzLGEsYyxkLGw9biYmbi50aGF0LHU9ISghbnx8IW4uQVNfRU5UUklFUyksaD0hKCFufHwhbi5JU19SRUNPUkQpLHA9ISghbnx8IW4uSVNfSVRFUkFUT1IpLGc9ISghbnx8IW4uSU5URVJSVVBURUQpLEU9U0woZSxsKSxmPWZ1bmN0aW9uKEMpe3JldHVybiBpJiZEZyhpLFwibm9ybWFsXCIsQyksbmV3IGFsKCEwLEMpfSxTPWZ1bmN0aW9uKEMpe3JldHVybiB1PyhDTChDKSxnP0UoQ1swXSxDWzFdLGYpOkUoQ1swXSxDWzFdKSk6Zz9FKEMsZik6RShDKX07aWYoaClpPXQuaXRlcmF0b3I7ZWxzZSBpZihwKWk9dDtlbHNlIHtpZighKHI9YkwodCkpKXRocm93IHdMKElMKHQpK1wiIGlzIG5vdCBpdGVyYWJsZVwiKTtpZih2TChyKSl7Zm9yKG89MCxzPXlMKHQpO3M+bztvKyspaWYoKGE9Uyh0W29dKSkmJk5nKFBnLGEpKXJldHVybiBhO3JldHVybiBuZXcgYWwoITEpfWk9QUwodCxyKTt9Zm9yKGM9aD90Lm5leHQ6aS5uZXh0OyEoZD1STChjLGkpKS5kb25lOyl7dHJ5e2E9UyhkLnZhbHVlKTt9Y2F0Y2goQyl7RGcoaSxcInRocm93XCIsQyk7fWlmKHR5cGVvZiBhPT1cIm9iamVjdFwiJiZhJiZOZyhQZyxhKSlyZXR1cm4gYX1yZXR1cm4gbmV3IGFsKCExKX0sT0w9b2ksTkw9eHQsREw9aG4sUEw9a20sTmw9Umssa0w9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT1rayhlKSxyPU1rLmYsbz1May5mLHM9MDtzPGkubGVuZ3RoO3MrKyl7dmFyIGE9aVtzXTt2Zyh0LGEpfHxuJiZ2ZyhuLGEpfHxyKHQsYSxvKGUsYSkpO319LFFBPVFjLE9oPWZvLE5oPV9vLExMPWZ1bmN0aW9uKHQsZSl7SmsoZSkmJlwiY2F1c2VcImluIGUmJlhrKHQsXCJjYXVzZVwiLGUuY2F1c2UpO30sTUw9ZnVuY3Rpb24odCxlLG4saSl7ckwmJihiZz9iZyh0LGUpOm5MKHQsXCJzdGFja1wiLGlMKG4saSkpKTt9LFVMPVpjLHhMPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PT12b2lkIDA/YXJndW1lbnRzLmxlbmd0aDwyP1wiXCI6ZTpPTCh0KX0sVkw9cGUoXCJ0b1N0cmluZ1RhZ1wiKSxEbD1FcnJvcixGTD1bXS5wdXNoLEpzPWZ1bmN0aW9uKHQsZSl7dmFyIG4saT1ETChEaCx0aGlzKTtObD9uPU5sKERsKCksaT9QTCh0aGlzKTpEaCk6KG49aT90aGlzOlFBKERoKSxPaChuLFZMLFwiRXJyb3JcIikpLGUhPT12b2lkIDAmJk9oKG4sXCJtZXNzYWdlXCIseEwoZSkpLE1MKG4sSnMsbi5zdGFjaywxKSxhcmd1bWVudHMubGVuZ3RoPjImJkxMKG4sYXJndW1lbnRzWzJdKTt2YXIgcj1bXTtyZXR1cm4gVUwodCxGTCx7dGhhdDpyfSksT2gobixcImVycm9yc1wiLHIpLG59O05sP05sKEpzLERsKTprTChKcyxEbCx7bmFtZTohMH0pO3ZhciBEaD1Kcy5wcm90b3R5cGU9UUEoRGwucHJvdG90eXBlLHtjb25zdHJ1Y3RvcjpOaCgxLEpzKSxtZXNzYWdlOk5oKDEsXCJcIiksbmFtZTpOaCgxLFwiQWdncmVnYXRlRXJyb3JcIil9KTtOTCh7Z2xvYmFsOiEwLGNvbnN0cnVjdG9yOiEwLGFyaXR5OjJ9LHtBZ2dyZWdhdGVFcnJvcjpKc30pO3ZhciBQbCxuYyxrbCxCTD1IZSxrZz1XZS5XZWFrTWFwLGpMPUJMKGtnKSYmL25hdGl2ZSBjb2RlLy50ZXN0KFN0cmluZyhrZykpLFpBPVdlLEdMPUhuLFdMPWZvLFBoPUplLGtoPXltLEhMPUR1LEtMPWt1LExnPVwiT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWRcIix6Xz1aQS5UeXBlRXJyb3IsWUw9WkEuV2Vha01hcDtqTHx8a2guc3RhdGU/KE5pPWtoLnN0YXRlfHwoa2guc3RhdGU9bmV3IFlMKSxOaS5nZXQ9TmkuZ2V0LE5pLmhhcz1OaS5oYXMsTmkuc2V0PU5pLnNldCxQbD1mdW5jdGlvbih0LGUpe2lmKE5pLmhhcyh0KSl0aHJvdyB6XyhMZyk7cmV0dXJuIGUuZmFjYWRlPXQsTmkuc2V0KHQsZSksZX0sbmM9ZnVuY3Rpb24odCl7cmV0dXJuIE5pLmdldCh0KXx8e319LGtsPWZ1bmN0aW9uKHQpe3JldHVybiBOaS5oYXModCl9KTooQ289SEwoXCJzdGF0ZVwiKSxLTFtDb109ITAsUGw9ZnVuY3Rpb24odCxlKXtpZihQaCh0LENvKSl0aHJvdyB6XyhMZyk7cmV0dXJuIGUuZmFjYWRlPXQsV0wodCxDbyxlKSxlfSxuYz1mdW5jdGlvbih0KXtyZXR1cm4gUGgodCxDbyk/dFtDb106e319LGtsPWZ1bmN0aW9uKHQpe3JldHVybiBQaCh0LENvKX0pO3ZhciBOaSxDbyxIbyxNZyxVZyxucz17c2V0OlBsLGdldDpuYyxoYXM6a2wsZW5mb3JjZTpmdW5jdGlvbih0KXtyZXR1cm4ga2wodCk/bmModCk6UGwodCx7fSl9LGdldHRlckZvcjpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG47aWYoIUdMKGUpfHwobj1uYyhlKSkudHlwZSE9PXQpdGhyb3cgel8oXCJJbmNvbXBhdGlibGUgcmVjZWl2ZXIsIFwiK3QrXCIgcmVxdWlyZWRcIik7cmV0dXJuIG59fX0sSl89cmkscUw9SmUsJEE9RnVuY3Rpb24ucHJvdG90eXBlLHpMPUpfJiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLExoPXFMKCRBLFwibmFtZVwiKSx0Yj17RVhJU1RTOkxoLFBST1BFUjpMaCYmZnVuY3Rpb24oKXt9Lm5hbWU9PT1cInNvbWV0aGluZ1wiLENPTkZJR1VSQUJMRTpMaCYmKCFKX3x8Sl8mJnpMKCRBLFwibmFtZVwiKS5jb25maWd1cmFibGUpfSxKTD1mbyxnbz1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gaSYmaS5lbnVtZXJhYmxlP3RbZV09bjpKTCh0LGUsbiksdH0sWEw9U2UsUUw9SGUsWkw9SG4sJEw9UWMseGc9a20sdDE9Z28sWF89cGUoXCJpdGVyYXRvclwiKSxlYj0hMTtbXS5rZXlzJiYoXCJuZXh0XCJpbihVZz1bXS5rZXlzKCkpPyhNZz14Zyh4ZyhVZykpKSE9PU9iamVjdC5wcm90b3R5cGUmJihIbz1NZyk6ZWI9ITApO3ZhciBlMT0hWkwoSG8pfHxYTChmdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiBIb1tYX10uY2FsbCh0KSE9PXR9KTtRTCgoSG89ZTE/e306JEwoSG8pKVtYX10pfHx0MShIbyxYXyxmdW5jdGlvbigpe3JldHVybiB0aGlzfSk7dmFyIG5iPXtJdGVyYXRvclByb3RvdHlwZTpIbyxCVUdHWV9TQUZBUklfSVRFUkFUT1JTOmVifSxuMT1FcixpMT1EbT97fS50b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiBcIltvYmplY3QgXCIrbjEodGhpcykrXCJdXCJ9LHIxPURtLG8xPUFpLmYsczE9Zm8sYTE9SmUsYzE9aTEsVmc9cGUoXCJ0b1N0cmluZ1RhZ1wiKSxUbz1mdW5jdGlvbih0LGUsbixpKXtpZih0KXt2YXIgcj1uP3Q6dC5wcm90b3R5cGU7YTEocixWZyl8fG8xKHIsVmcse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTplfSksaSYmIXIxJiZzMShyLFwidG9TdHJpbmdcIixjMSk7fX0sZDE9bmIuSXRlcmF0b3JQcm90b3R5cGUsbDE9UWMsdTE9X28saDE9VG8scDE9ZXMsXzE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30seG09ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9ZStcIiBJdGVyYXRvclwiO3JldHVybiB0LnByb3RvdHlwZT1sMShkMSx7bmV4dDp1MSgrIWksbil9KSxoMSh0LHIsITEsITApLHAxW3JdPV8xLHR9LEUxPXh0LG0xPUtlLGYxPXRiLGcxPXhtLFQxPWttLFMxPVRvLEZnPWdvLEJnPWVzLFIxPW5iLEMxPWYxLlBST1BFUixfZD1SMS5CVUdHWV9TQUZBUklfSVRFUkFUT1JTLE1oPXBlKFwiaXRlcmF0b3JcIiksamc9XCJrZXlzXCIsRWQ9XCJ2YWx1ZXNcIixHZz1cImVudHJpZXNcIixJMT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxpYj1mdW5jdGlvbih0LGUsbixpLHIsbyxzKXtnMShuLGUsaSk7dmFyIGEsYyxkLGw9ZnVuY3Rpb24oUyl7aWYoUz09PXImJkUpcmV0dXJuIEU7aWYoIV9kJiZTIGluIHApcmV0dXJuIHBbU107c3dpdGNoKFMpe2Nhc2Ugamc6Y2FzZSBFZDpjYXNlIEdnOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLFMpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyl9fSx1PWUrXCIgSXRlcmF0b3JcIixoPSExLHA9dC5wcm90b3R5cGUsZz1wW01oXXx8cFtcIkBAaXRlcmF0b3JcIl18fHImJnBbcl0sRT0hX2QmJmd8fGwociksZj1lPT1cIkFycmF5XCImJnAuZW50cmllc3x8ZztpZihmJiYoYT1UMShmLmNhbGwobmV3IHQpKSkhPT1PYmplY3QucHJvdG90eXBlJiZhLm5leHQmJihTMShhLHUsITAsITApLEJnW3VdPUkxKSxDMSYmcj09RWQmJmcmJmcubmFtZSE9PUVkJiYoaD0hMCxFPWZ1bmN0aW9uKCl7cmV0dXJuIG0xKGcsdGhpcyl9KSxyKWlmKGM9e3ZhbHVlczpsKEVkKSxrZXlzOm8/RTpsKGpnKSxlbnRyaWVzOmwoR2cpfSxzKWZvcihkIGluIGMpKF9kfHxofHwhKGQgaW4gcCkpJiZGZyhwLGQsY1tkXSk7ZWxzZSBFMSh7dGFyZ2V0OmUscHJvdG86ITAsZm9yY2VkOl9kfHxofSxjKTtyZXR1cm4gcyYmcFtNaF0hPT1FJiZGZyhwLE1oLEUse25hbWU6cn0pLEJnW2VdPUUsY30sVm09ZnVuY3Rpb24odCxlKXtyZXR1cm4ge3ZhbHVlOnQsZG9uZTplfX0sdjE9RW8sV2c9ZXMscmI9bnM7QWkuZjt2YXIgeTE9aWIsSGc9Vm0sb2I9XCJBcnJheSBJdGVyYXRvclwiLEExPXJiLnNldCxiMT1yYi5nZXR0ZXJGb3Iob2IpO3kxKEFycmF5LFwiQXJyYXlcIixmdW5jdGlvbih0LGUpe0ExKHRoaXMse3R5cGU6b2IsdGFyZ2V0OnYxKHQpLGluZGV4OjAsa2luZDplfSk7fSxmdW5jdGlvbigpe3ZhciB0PWIxKHRoaXMpLGU9dC50YXJnZXQsbj10LmtpbmQsaT10LmluZGV4Kys7cmV0dXJuICFlfHxpPj1lLmxlbmd0aD8odC50YXJnZXQ9dm9pZCAwLEhnKHZvaWQgMCwhMCkpOkhnKG49PVwia2V5c1wiP2k6bj09XCJ2YWx1ZXNcIj9lW2ldOltpLGVbaV1dLCExKX0sXCJ2YWx1ZXNcIiksV2cuQXJndW1lbnRzPVdnLkFycmF5O3ZhciB3MT1BaSxVdT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHcxLmYodCxlLG4pfSxPMT1EbixOMT1VdSxEMT1yaSxLZz1wZShcInNwZWNpZXNcIiksUDE9aG4sazE9VHlwZUVycm9yLEZtPWZ1bmN0aW9uKHQsZSl7aWYoUDEoZSx0KSlyZXR1cm4gdDt0aHJvdyBrMShcIkluY29ycmVjdCBpbnZvY2F0aW9uXCIpfSxMMT1IZSxRXz15bSxNMT1tZShGdW5jdGlvbi50b1N0cmluZyk7TDEoUV8uaW5zcGVjdFNvdXJjZSl8fChRXy5pbnNwZWN0U291cmNlPWZ1bmN0aW9uKHQpe3JldHVybiBNMSh0KX0pO3ZhciBzYj1RXy5pbnNwZWN0U291cmNlLFUxPW1lLHgxPVNlLGFiPUhlLFYxPUVyLEYxPXNiLGNiPWZ1bmN0aW9uKCl7fSxCMT1bXSxkYj1EbihcIlJlZmxlY3RcIixcImNvbnN0cnVjdFwiKSxCbT0vXlxccyooPzpjbGFzc3xmdW5jdGlvbilcXGIvLGoxPVUxKEJtLmV4ZWMpLEcxPSFCbS5leGVjKGNiKSxBYT1mdW5jdGlvbih0KXtpZighYWIodCkpcmV0dXJuICExO3RyeXtyZXR1cm4gZGIoY2IsQjEsdCksITB9Y2F0Y2h7cmV0dXJuICExfX0sbGI9ZnVuY3Rpb24odCl7aWYoIWFiKHQpKXJldHVybiAhMTtzd2l0Y2goVjEodCkpe2Nhc2VcIkFzeW5jRnVuY3Rpb25cIjpjYXNlXCJHZW5lcmF0b3JGdW5jdGlvblwiOmNhc2VcIkFzeW5jR2VuZXJhdG9yRnVuY3Rpb25cIjpyZXR1cm4gITF9dHJ5e3JldHVybiBHMXx8ISFqMShCbSxGMSh0KSl9Y2F0Y2h7cmV0dXJuICEwfX07bGIuc2hhbT0hMDt2YXIgVGMsYXMsWWcsVWgseHU9IWRifHx4MShmdW5jdGlvbigpe3ZhciB0O3JldHVybiBBYShBYS5jYWxsKXx8IUFhKE9iamVjdCl8fCFBYShmdW5jdGlvbigpe3Q9ITA7fSl8fHR9KT9sYjpBYSxXMT14dSxIMT1oYSxLMT1UeXBlRXJyb3IscWc9Q24sWTE9ZnVuY3Rpb24odCl7aWYoVzEodCkpcmV0dXJuIHQ7dGhyb3cgSzEoSDEodCkrXCIgaXMgbm90IGEgY29uc3RydWN0b3JcIil9LHExPWRhLHoxPXBlKFwic3BlY2llc1wiKSxqbT1mdW5jdGlvbih0LGUpe3ZhciBuLGk9cWcodCkuY29uc3RydWN0b3I7cmV0dXJuIGk9PT12b2lkIDB8fHExKG49cWcoaSlbejFdKT9lOlkxKG4pfSxHbT1tZShbXS5zbGljZSksSjE9VHlwZUVycm9yLFZ1PWZ1bmN0aW9uKHQsZSl7aWYodDxlKXRocm93IEoxKFwiTm90IGVub3VnaCBhcmd1bWVudHNcIik7cmV0dXJuIHR9LHViPS8oPzppcGFkfGlwaG9uZXxpcG9kKS4qYXBwbGV3ZWJraXQvaS50ZXN0KCRvKSxlaT1XZSxYMT12bSxRMT1tbyx6Zz1IZSxaMT1KZSxoYj1TZSxKZz1IQSwkMT1HbSxYZz1ibSx0TT1WdSxlTT11YixuTT1KYyxaXz1laS5zZXRJbW1lZGlhdGUsJF89ZWkuY2xlYXJJbW1lZGlhdGUsaU09ZWkucHJvY2Vzcyx4aD1laS5EaXNwYXRjaCxyTT1laS5GdW5jdGlvbixRZz1laS5NZXNzYWdlQ2hhbm5lbCxvTT1laS5TdHJpbmcsVmg9MCxpYz17fSxaZz1cIm9ucmVhZHlzdGF0ZWNoYW5nZVwiO2hiKGZ1bmN0aW9uKCl7VGM9ZWkubG9jYXRpb247fSk7dmFyIFdtPWZ1bmN0aW9uKHQpe2lmKFoxKGljLHQpKXt2YXIgZT1pY1t0XTtkZWxldGUgaWNbdF0sZSgpO319LEZoPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe1dtKHQpO319LCRnPWZ1bmN0aW9uKHQpe1dtKHQuZGF0YSk7fSx0VD1mdW5jdGlvbih0KXtlaS5wb3N0TWVzc2FnZShvTSh0KSxUYy5wcm90b2NvbCtcIi8vXCIrVGMuaG9zdCk7fTtaXyYmJF98fChaXz1mdW5jdGlvbih0KXt0TShhcmd1bWVudHMubGVuZ3RoLDEpO3ZhciBlPXpnKHQpP3Q6ck0odCksbj0kMShhcmd1bWVudHMsMSk7cmV0dXJuIGljWysrVmhdPWZ1bmN0aW9uKCl7WDEoZSx2b2lkIDAsbik7fSxhcyhWaCksVmh9LCRfPWZ1bmN0aW9uKHQpe2RlbGV0ZSBpY1t0XTt9LG5NP2FzPWZ1bmN0aW9uKHQpe2lNLm5leHRUaWNrKEZoKHQpKTt9OnhoJiZ4aC5ub3c/YXM9ZnVuY3Rpb24odCl7eGgubm93KEZoKHQpKTt9OlFnJiYhZU0/KFVoPShZZz1uZXcgUWcpLnBvcnQyLFlnLnBvcnQxLm9ubWVzc2FnZT0kZyxhcz1RMShVaC5wb3N0TWVzc2FnZSxVaCkpOmVpLmFkZEV2ZW50TGlzdGVuZXImJnpnKGVpLnBvc3RNZXNzYWdlKSYmIWVpLmltcG9ydFNjcmlwdHMmJlRjJiZUYy5wcm90b2NvbCE9PVwiZmlsZTpcIiYmIWhiKHRUKT8oYXM9dFQsZWkuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwkZywhMSkpOmFzPVpnIGluIFhnKFwic2NyaXB0XCIpP2Z1bmN0aW9uKHQpe0pnLmFwcGVuZENoaWxkKFhnKFwic2NyaXB0XCIpKVtaZ109ZnVuY3Rpb24oKXtKZy5yZW1vdmVDaGlsZCh0aGlzKSxXbSh0KTt9O306ZnVuY3Rpb24odCl7c2V0VGltZW91dChGaCh0KSwwKTt9KTt2YXIgcGI9e3NldDpaXyxjbGVhcjokX30sX2I9ZnVuY3Rpb24oKXt0aGlzLmhlYWQ9bnVsbCx0aGlzLnRhaWw9bnVsbDt9O19iLnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKHQpe3ZhciBlPXtpdGVtOnQsbmV4dDpudWxsfSxuPXRoaXMudGFpbDtuP24ubmV4dD1lOnRoaXMuaGVhZD1lLHRoaXMudGFpbD1lO30sZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5oZWFkO2lmKHQpcmV0dXJuICh0aGlzLmhlYWQ9dC5uZXh0KT09PW51bGwmJih0aGlzLnRhaWw9bnVsbCksdC5pdGVtfX07dmFyIGNzLEJoLGpoLEdoLGVULEViPV9iLHNNPS9pcGFkfGlwaG9uZXxpcG9kL2kudGVzdCgkbykmJnR5cGVvZiBQZWJibGU8XCJ1XCIsYU09L3dlYjBzKD8hLipjaHJvbWUpL2kudGVzdCgkbyksSm89V2UsblQ9bW8sY009WWMuZixXaD1wYi5zZXQsZE09RWIsbE09dWIsdU09c00saE09YU0sSGg9SmMsaVQ9Sm8uTXV0YXRpb25PYnNlcnZlcnx8Sm8uV2ViS2l0TXV0YXRpb25PYnNlcnZlcixyVD1Kby5kb2N1bWVudCxvVD1Kby5wcm9jZXNzLG1kPUpvLlByb21pc2Usc1Q9Y00oSm8sXCJxdWV1ZU1pY3JvdGFza1wiKSx0RT1zVCYmc1QudmFsdWU7dEV8fChiYT1uZXcgZE0sd2E9ZnVuY3Rpb24oKXt2YXIgdCxlO2ZvcihIaCYmKHQ9b1QuZG9tYWluKSYmdC5leGl0KCk7ZT1iYS5nZXQoKTspdHJ5e2UoKTt9Y2F0Y2gobil7dGhyb3cgYmEuaGVhZCYmY3MoKSxufXQmJnQuZW50ZXIoKTt9LGxNfHxIaHx8aE18fCFpVHx8IXJUPyF1TSYmbWQmJm1kLnJlc29sdmU/KChHaD1tZC5yZXNvbHZlKHZvaWQgMCkpLmNvbnN0cnVjdG9yPW1kLGVUPW5UKEdoLnRoZW4sR2gpLGNzPWZ1bmN0aW9uKCl7ZVQod2EpO30pOkhoP2NzPWZ1bmN0aW9uKCl7b1QubmV4dFRpY2sod2EpO306KFdoPW5UKFdoLEpvKSxjcz1mdW5jdGlvbigpe1doKHdhKTt9KTooQmg9ITAsamg9clQuY3JlYXRlVGV4dE5vZGUoXCJcIiksbmV3IGlUKHdhKS5vYnNlcnZlKGpoLHtjaGFyYWN0ZXJEYXRhOiEwfSksY3M9ZnVuY3Rpb24oKXtqaC5kYXRhPUJoPSFCaDt9KSx0RT1mdW5jdGlvbih0KXtiYS5oZWFkfHxjcygpLGJhLmFkZCh0KTt9KTt2YXIgYmEsd2EscE09dEUsX2E9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiB7ZXJyb3I6ITEsdmFsdWU6dCgpfX1jYXRjaChlKXtyZXR1cm4ge2Vycm9yOiEwLHZhbHVlOmV9fX0sWG89V2UuUHJvbWlzZSxtYj10eXBlb2YgRGVubz09XCJvYmplY3RcIiYmRGVubyYmdHlwZW9mIERlbm8udmVyc2lvbj09XCJvYmplY3RcIixfTT0hbWImJiFKYyYmdHlwZW9mIHdpbmRvdz09XCJvYmplY3RcIiYmdHlwZW9mIGRvY3VtZW50PT1cIm9iamVjdFwiLEVNPVdlLHJjPVhvLG1NPUhlLGZNPWtBLGdNPXNiLFRNPXBlLFNNPV9NLFJNPW1iLEtoPXpvLGFUPXJjJiZyYy5wcm90b3R5cGUsQ009VE0oXCJzcGVjaWVzXCIpLGZiPSExLGdiPW1NKEVNLlByb21pc2VSZWplY3Rpb25FdmVudCksSU09Zk0oXCJQcm9taXNlXCIsZnVuY3Rpb24oKXt2YXIgdD1nTShyYyksZT10IT09U3RyaW5nKHJjKTtpZighZSYmS2g9PT02Nnx8IWFULmNhdGNofHwhYVQuZmluYWxseSlyZXR1cm4gITA7aWYoIUtofHxLaDw1MXx8IS9uYXRpdmUgY29kZS8udGVzdCh0KSl7dmFyIG49bmV3IHJjKGZ1bmN0aW9uKHIpe3IoMSk7fSksaT1mdW5jdGlvbihyKXtyKGZ1bmN0aW9uKCl7fSxmdW5jdGlvbigpe30pO307aWYoKG4uY29uc3RydWN0b3I9e30pW0NNXT1pLCEoZmI9bi50aGVuKGZ1bmN0aW9uKCl7fSlpbnN0YW5jZW9mIGkpKXJldHVybiAhMH1yZXR1cm4gIWUmJihTTXx8Uk0pJiYhZ2J9KSwkYz17Q09OU1RSVUNUT1I6SU0sUkVKRUNUSU9OX0VWRU5UOmdiLFNVQkNMQVNTSU5HOmZifSxtcj17fSxjVD15aSx2TT1UeXBlRXJyb3IseU09ZnVuY3Rpb24odCl7dmFyIGUsbjt0aGlzLnByb21pc2U9bmV3IHQoZnVuY3Rpb24oaSxyKXtpZihlIT09dm9pZCAwfHxuIT09dm9pZCAwKXRocm93IHZNKFwiQmFkIFByb21pc2UgY29uc3RydWN0b3JcIik7ZT1pLG49cjt9KSx0aGlzLnJlc29sdmU9Y1QoZSksdGhpcy5yZWplY3Q9Y1Qobik7fTttci5mPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgeU0odCl9O3ZhciBZaCxkVCxBTT14dCxMbD1KYyx1bz1XZSx0ZD1LZSxiTT1nbyx3TT1UbyxPTT1mdW5jdGlvbih0KXt2YXIgZT1PMSh0KTtEMSYmZSYmIWVbS2ddJiZOMShlLEtnLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSk7fSxOTT15aSxlRT1IZSxETT1IbixQTT1GbSxrTT1qbSxUYj1wYi5zZXQsSG09cE0sTE09ZnVuY3Rpb24odCxlKXt0cnl7YXJndW1lbnRzLmxlbmd0aD09MT9jb25zb2xlLmVycm9yKHQpOmNvbnNvbGUuZXJyb3IodCxlKTt9Y2F0Y2h7fX0sTU09X2EsVU09RWIsU2I9bnMsbkU9WG8sUmI9JGMsQ2I9bXIsY2w9XCJQcm9taXNlXCIsbFQ9UmIuQ09OU1RSVUNUT1IseE09UmIuUkVKRUNUSU9OX0VWRU5ULHFoPVNiLmdldHRlckZvcihjbCksVk09U2Iuc2V0LEZNPW5FJiZuRS5wcm90b3R5cGUsT2E9bkUsemg9Rk0sSWI9dW8uVHlwZUVycm9yLGlFPXVvLmRvY3VtZW50LEttPXVvLnByb2Nlc3MsckU9Q2IuZixCTT1yRSxqTT0hIShpRSYmaUUuY3JlYXRlRXZlbnQmJnVvLmRpc3BhdGNoRXZlbnQpLHZiPVwidW5oYW5kbGVkcmVqZWN0aW9uXCIseWI9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuICEoIURNKHQpfHwhZUUoZT10LnRoZW4pKSYmZX0sQWI9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHIsbz1lLnZhbHVlLHM9ZS5zdGF0ZT09MSxhPXM/dC5vazp0LmZhaWwsYz10LnJlc29sdmUsZD10LnJlamVjdCxsPXQuZG9tYWluO3RyeXthPyhzfHwoZS5yZWplY3Rpb249PT0yJiZXTShlKSxlLnJlamVjdGlvbj0xKSxhPT09ITA/bj1vOihsJiZsLmVudGVyKCksbj1hKG8pLGwmJihsLmV4aXQoKSxyPSEwKSksbj09PXQucHJvbWlzZT9kKEliKFwiUHJvbWlzZS1jaGFpbiBjeWNsZVwiKSk6KGk9eWIobikpP3RkKGksbixjLGQpOmMobikpOmQobyk7fWNhdGNoKHUpe2wmJiFyJiZsLmV4aXQoKSxkKHUpO319LGJiPWZ1bmN0aW9uKHQsZSl7dC5ub3RpZmllZHx8KHQubm90aWZpZWQ9ITAsSG0oZnVuY3Rpb24oKXtmb3IodmFyIG4saT10LnJlYWN0aW9ucztuPWkuZ2V0KCk7KUFiKG4sdCk7dC5ub3RpZmllZD0hMSxlJiYhdC5yZWplY3Rpb24mJkdNKHQpO30pKTt9LHdiPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaSxyO2pNPygoaT1pRS5jcmVhdGVFdmVudChcIkV2ZW50XCIpKS5wcm9taXNlPWUsaS5yZWFzb249bixpLmluaXRFdmVudCh0LCExLCEwKSx1by5kaXNwYXRjaEV2ZW50KGkpKTppPXtwcm9taXNlOmUscmVhc29uOm59LCF4TSYmKHI9dW9bXCJvblwiK3RdKT9yKGkpOnQ9PT12YiYmTE0oXCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb25cIixuKTt9LEdNPWZ1bmN0aW9uKHQpe3RkKFRiLHVvLGZ1bmN0aW9uKCl7dmFyIGUsbj10LmZhY2FkZSxpPXQudmFsdWU7aWYodVQodCkmJihlPU1NKGZ1bmN0aW9uKCl7TGw/S20uZW1pdChcInVuaGFuZGxlZFJlamVjdGlvblwiLGksbik6d2IodmIsbixpKTt9KSx0LnJlamVjdGlvbj1MbHx8dVQodCk/MjoxLGUuZXJyb3IpKXRocm93IGUudmFsdWV9KTt9LHVUPWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlamVjdGlvbiE9PTEmJiF0LnBhcmVudH0sV009ZnVuY3Rpb24odCl7dGQoVGIsdW8sZnVuY3Rpb24oKXt2YXIgZT10LmZhY2FkZTtMbD9LbS5lbWl0KFwicmVqZWN0aW9uSGFuZGxlZFwiLGUpOndiKFwicmVqZWN0aW9uaGFuZGxlZFwiLGUsdC52YWx1ZSk7fSk7fSxPcz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKGkpe3QoZSxpLG4pO319LEZzPWZ1bmN0aW9uKHQsZSxuKXt0LmRvbmV8fCh0LmRvbmU9ITAsbiYmKHQ9biksdC52YWx1ZT1lLHQuc3RhdGU9MixiYih0LCEwKSk7fSxvRT1mdW5jdGlvbih0LGUsbil7aWYoIXQuZG9uZSl7dC5kb25lPSEwLG4mJih0PW4pO3RyeXtpZih0LmZhY2FkZT09PWUpdGhyb3cgSWIoXCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZlwiKTt2YXIgaT15YihlKTtpP0htKGZ1bmN0aW9uKCl7dmFyIHI9e2RvbmU6ITF9O3RyeXt0ZChpLGUsT3Mob0Uscix0KSxPcyhGcyxyLHQpKTt9Y2F0Y2gobyl7RnMocixvLHQpO319KToodC52YWx1ZT1lLHQuc3RhdGU9MSxiYih0LCExKSk7fWNhdGNoKHIpe0ZzKHtkb25lOiExfSxyLHQpO319fTtsVCYmKHpoPShPYT1mdW5jdGlvbih0KXtQTSh0aGlzLHpoKSxOTSh0KSx0ZChZaCx0aGlzKTt2YXIgZT1xaCh0aGlzKTt0cnl7dChPcyhvRSxlKSxPcyhGcyxlKSk7fWNhdGNoKG4pe0ZzKGUsbik7fX0pLnByb3RvdHlwZSwoWWg9ZnVuY3Rpb24odCl7Vk0odGhpcyx7dHlwZTpjbCxkb25lOiExLG5vdGlmaWVkOiExLHBhcmVudDohMSxyZWFjdGlvbnM6bmV3IFVNLHJlamVjdGlvbjohMSxzdGF0ZTowLHZhbHVlOnZvaWQgMH0pO30pLnByb3RvdHlwZT1iTSh6aCxcInRoZW5cIixmdW5jdGlvbih0LGUpe3ZhciBuPXFoKHRoaXMpLGk9ckUoa00odGhpcyxPYSkpO3JldHVybiBuLnBhcmVudD0hMCxpLm9rPSFlRSh0KXx8dCxpLmZhaWw9ZUUoZSkmJmUsaS5kb21haW49TGw/S20uZG9tYWluOnZvaWQgMCxuLnN0YXRlPT0wP24ucmVhY3Rpb25zLmFkZChpKTpIbShmdW5jdGlvbigpe0FiKGksbik7fSksaS5wcm9taXNlfSksZFQ9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgWWgsZT1xaCh0KTt0aGlzLnByb21pc2U9dCx0aGlzLnJlc29sdmU9T3Mob0UsZSksdGhpcy5yZWplY3Q9T3MoRnMsZSk7fSxDYi5mPXJFPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09T2F8fHQ9PT12b2lkIDA/bmV3IGRUKHQpOkJNKHQpfSksQU0oe2dsb2JhbDohMCxjb25zdHJ1Y3RvcjohMCx3cmFwOiEwLGZvcmNlZDpsVH0se1Byb21pc2U6T2F9KSx3TShPYSxjbCwhMSwhMCksT00oY2wpO3ZhciBPYj1wZShcIml0ZXJhdG9yXCIpLE5iPSExO3RyeXtoVD0wLEpoPXtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHtkb25lOiEhaFQrK319LHJldHVybjpmdW5jdGlvbigpe05iPSEwO319LEpoW09iXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxBcnJheS5mcm9tKEpoLGZ1bmN0aW9uKCl7dGhyb3cgMn0pO31jYXRjaHt9dmFyIGhULEpoLEhNPVhvLEtNPWZ1bmN0aW9uKHQsZSl7aWYoIU5iKXJldHVybiAhMTt2YXIgbj0hMTt0cnl7dmFyIGk9e307aVtPYl09ZnVuY3Rpb24oKXtyZXR1cm4ge25leHQ6ZnVuY3Rpb24oKXtyZXR1cm4ge2RvbmU6bj0hMH19fX0sdChpKTt9Y2F0Y2h7fXJldHVybiBufSxGdT0kYy5DT05TVFJVQ1RPUnx8IUtNKGZ1bmN0aW9uKHQpe0hNLmFsbCh0KS50aGVuKHZvaWQgMCxmdW5jdGlvbigpe30pO30pLFlNPUtlLHFNPXlpLHpNPW1yLEpNPV9hLFhNPVpjO3h0KHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6RnV9LHthbGw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXpNLmYoZSksaT1uLnJlc29sdmUscj1uLnJlamVjdCxvPUpNKGZ1bmN0aW9uKCl7dmFyIHM9cU0oZS5yZXNvbHZlKSxhPVtdLGM9MCxkPTE7WE0odCxmdW5jdGlvbihsKXt2YXIgdT1jKyssaD0hMTtkKyssWU0ocyxlLGwpLnRoZW4oZnVuY3Rpb24ocCl7aHx8KGg9ITAsYVt1XT1wLC0tZHx8aShhKSk7fSxyKTt9KSwtLWR8fGkoYSk7fSk7cmV0dXJuIG8uZXJyb3ImJnIoby52YWx1ZSksbi5wcm9taXNlfX0pO3ZhciBRTT14dCxaTT0kYy5DT05TVFJVQ1RPUjtYbyYmWG8ucHJvdG90eXBlLFFNKHt0YXJnZXQ6XCJQcm9taXNlXCIscHJvdG86ITAsZm9yY2VkOlpNLHJlYWw6ITB9LHtjYXRjaDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCx0KX19KTt2YXIgJE09S2UsdFU9eWksZVU9bXIsblU9X2EsaVU9WmM7eHQoe3RhcmdldDpcIlByb21pc2VcIixzdGF0OiEwLGZvcmNlZDpGdX0se3JhY2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPWVVLmYoZSksaT1uLnJlamVjdCxyPW5VKGZ1bmN0aW9uKCl7dmFyIG89dFUoZS5yZXNvbHZlKTtpVSh0LGZ1bmN0aW9uKHMpeyRNKG8sZSxzKS50aGVuKG4ucmVzb2x2ZSxpKTt9KTt9KTtyZXR1cm4gci5lcnJvciYmaShyLnZhbHVlKSxuLnByb21pc2V9fSk7dmFyIHJVPUtlLG9VPW1yO3h0KHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6JGMuQ09OU1RSVUNUT1J9LHtyZWplY3Q6ZnVuY3Rpb24odCl7dmFyIGU9b1UuZih0aGlzKTtyZXR1cm4gclUoZS5yZWplY3Qsdm9pZCAwLHQpLGUucHJvbWlzZX19KTt2YXIgc1U9Q24sYVU9SG4sY1U9bXIsRGI9ZnVuY3Rpb24odCxlKXtpZihzVSh0KSxhVShlKSYmZS5jb25zdHJ1Y3Rvcj09PXQpcmV0dXJuIGU7dmFyIG49Y1UuZih0KTtyZXR1cm4gKDAsIG4ucmVzb2x2ZSkoZSksbi5wcm9taXNlfSxkVT14dCxsVT1Ybyx1VT0kYy5DT05TVFJVQ1RPUixoVT1EYixwVT1EbihcIlByb21pc2VcIiksX1U9IXVVO2RVKHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6ITB9LHtyZXNvbHZlOmZ1bmN0aW9uKHQpe3JldHVybiBoVShfVSYmdGhpcz09PXBVP2xVOnRoaXMsdCl9fSk7dmFyIEVVPUtlLG1VPXlpLGZVPW1yLGdVPV9hLFRVPVpjO3h0KHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6RnV9LHthbGxTZXR0bGVkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1mVS5mKGUpLGk9bi5yZXNvbHZlLHI9bi5yZWplY3Qsbz1nVShmdW5jdGlvbigpe3ZhciBzPW1VKGUucmVzb2x2ZSksYT1bXSxjPTAsZD0xO1RVKHQsZnVuY3Rpb24obCl7dmFyIHU9YysrLGg9ITE7ZCsrLEVVKHMsZSxsKS50aGVuKGZ1bmN0aW9uKHApe2h8fChoPSEwLGFbdV09e3N0YXR1czpcImZ1bGZpbGxlZFwiLHZhbHVlOnB9LC0tZHx8aShhKSk7fSxmdW5jdGlvbihwKXtofHwoaD0hMCxhW3VdPXtzdGF0dXM6XCJyZWplY3RlZFwiLHJlYXNvbjpwfSwtLWR8fGkoYSkpO30pO30pLC0tZHx8aShhKTt9KTtyZXR1cm4gby5lcnJvciYmcihvLnZhbHVlKSxuLnByb21pc2V9fSk7dmFyIFNVPUtlLFJVPXlpLENVPURuLElVPW1yLHZVPV9hLHlVPVpjLHBUPVwiTm8gb25lIHByb21pc2UgcmVzb2x2ZWRcIjt4dCh7dGFyZ2V0OlwiUHJvbWlzZVwiLHN0YXQ6ITAsZm9yY2VkOkZ1fSx7YW55OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1DVShcIkFnZ3JlZ2F0ZUVycm9yXCIpLGk9SVUuZihlKSxyPWkucmVzb2x2ZSxvPWkucmVqZWN0LHM9dlUoZnVuY3Rpb24oKXt2YXIgYT1SVShlLnJlc29sdmUpLGM9W10sZD0wLGw9MSx1PSExO3lVKHQsZnVuY3Rpb24oaCl7dmFyIHA9ZCsrLGc9ITE7bCsrLFNVKGEsZSxoKS50aGVuKGZ1bmN0aW9uKEUpe2d8fHV8fCh1PSEwLHIoRSkpO30sZnVuY3Rpb24oRSl7Z3x8dXx8KGc9ITAsY1twXT1FLC0tbHx8byhuZXcgbihjLHBUKSkpO30pO30pLC0tbHx8byhuZXcgbihjLHBUKSk7fSk7cmV0dXJuIHMuZXJyb3ImJm8ocy52YWx1ZSksaS5wcm9taXNlfX0pO3ZhciBBVT14dCxzRT1YbyxiVT1TZSx3VT1EbixPVT1IZSxOVT1qbSxfVD1EYixEVT1zRSYmc0UucHJvdG90eXBlO0FVKHt0YXJnZXQ6XCJQcm9taXNlXCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6ISFzRSYmYlUoZnVuY3Rpb24oKXtEVS5maW5hbGx5LmNhbGwoe3RoZW46ZnVuY3Rpb24oKXt9fSxmdW5jdGlvbigpe30pO30pfSx7ZmluYWxseTpmdW5jdGlvbih0KXt2YXIgZT1OVSh0aGlzLHdVKFwiUHJvbWlzZVwiKSksbj1PVSh0KTtyZXR1cm4gdGhpcy50aGVuKG4/ZnVuY3Rpb24oaSl7cmV0dXJuIF9UKGUsdCgpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KX06dCxuP2Z1bmN0aW9uKGkpe3JldHVybiBfVChlLHQoKSkudGhlbihmdW5jdGlvbigpe3Rocm93IGl9KX06dCl9fSk7dmFyIFltPW1lLFBVPXdtLGtVPW9pLExVPWxhLE1VPVltKFwiXCIuY2hhckF0KSxFVD1ZbShcIlwiLmNoYXJDb2RlQXQpLFVVPVltKFwiXCIuc2xpY2UpLG1UPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciBpLHIsbz1rVShMVShlKSkscz1QVShuKSxhPW8ubGVuZ3RoO3JldHVybiBzPDB8fHM+PWE/dD9cIlwiOnZvaWQgMDooaT1FVChvLHMpKTw1NTI5Nnx8aT41NjMxOXx8cysxPT09YXx8KHI9RVQobyxzKzEpKTw1NjMyMHx8cj41NzM0Mz90P01VKG8scyk6aTp0P1VVKG8scyxzKzIpOnItNTYzMjArKGktNTUyOTY8PDEwKSs2NTUzNn19LHFtPXtjb2RlQXQ6bVQoITEpLGNoYXJBdDptVCghMCl9LHhVPXFtLmNoYXJBdCxWVT1vaSxQYj1ucyxGVT1pYixmVD1WbSxrYj1cIlN0cmluZyBJdGVyYXRvclwiLEJVPVBiLnNldCxqVT1QYi5nZXR0ZXJGb3Ioa2IpO0ZVKFN0cmluZyxcIlN0cmluZ1wiLGZ1bmN0aW9uKHQpe0JVKHRoaXMse3R5cGU6a2Isc3RyaW5nOlZVKHQpLGluZGV4OjB9KTt9LGZ1bmN0aW9uKCl7dmFyIHQsZT1qVSh0aGlzKSxuPWUuc3RyaW5nLGk9ZS5pbmRleDtyZXR1cm4gaT49bi5sZW5ndGg/ZlQodm9pZCAwLCEwKToodD14VShuLGkpLGUuaW5kZXgrPXQubGVuZ3RoLGZUKHQsITEpKX0pO3ZhciBHVT1HaS5Qcm9taXNlLFdVPXtDU1NSdWxlTGlzdDowLENTU1N0eWxlRGVjbGFyYXRpb246MCxDU1NWYWx1ZUxpc3Q6MCxDbGllbnRSZWN0TGlzdDowLERPTVJlY3RMaXN0OjAsRE9NU3RyaW5nTGlzdDowLERPTVRva2VuTGlzdDoxLERhdGFUcmFuc2Zlckl0ZW1MaXN0OjAsRmlsZUxpc3Q6MCxIVE1MQWxsQ29sbGVjdGlvbjowLEhUTUxDb2xsZWN0aW9uOjAsSFRNTEZvcm1FbGVtZW50OjAsSFRNTFNlbGVjdEVsZW1lbnQ6MCxNZWRpYUxpc3Q6MCxNaW1lVHlwZUFycmF5OjAsTmFtZWROb2RlTWFwOjAsTm9kZUxpc3Q6MSxQYWludFJlcXVlc3RMaXN0OjAsUGx1Z2luOjAsUGx1Z2luQXJyYXk6MCxTVkdMZW5ndGhMaXN0OjAsU1ZHTnVtYmVyTGlzdDowLFNWR1BhdGhTZWdMaXN0OjAsU1ZHUG9pbnRMaXN0OjAsU1ZHU3RyaW5nTGlzdDowLFNWR1RyYW5zZm9ybUxpc3Q6MCxTb3VyY2VCdWZmZXJMaXN0OjAsU3R5bGVTaGVldExpc3Q6MCxUZXh0VHJhY2tDdWVMaXN0OjAsVGV4dFRyYWNrTGlzdDowLFRvdWNoTGlzdDowfSxIVT1XZSxLVT1FcixZVT1mbyxnVD1lcyxUVD1wZShcInRvU3RyaW5nVGFnXCIpO2ZvcihmZCBpbiBXVSlYaD1IVVtmZF0sZ2Q9WGgmJlhoLnByb3RvdHlwZSxnZCYmS1UoZ2QpIT09VFQmJllVKGdkLFRULGZkKSxnVFtmZF09Z1QuQXJyYXk7dmFyIFhoLGdkLGZkLExiPUdVLGo9YWUoTGIpLFNUPWpBO2Z1bmN0aW9uIE1iKHQsZSl7bGV0IG49dCYmdC5uYXZpZ2F0b3I7aWYoIW4ubWVkaWFEZXZpY2VzKXJldHVybjtsZXQgaT1mdW5jdGlvbihzKXtpZih0eXBlb2YgcyE9XCJvYmplY3RcInx8cy5tYW5kYXRvcnl8fHMub3B0aW9uYWwpcmV0dXJuIHM7bGV0IGE9e307cmV0dXJuIE9iamVjdC5rZXlzKHMpLmZvckVhY2goYz0+e2lmKGM9PT1cInJlcXVpcmVcInx8Yz09PVwiYWR2YW5jZWRcInx8Yz09PVwibWVkaWFTb3VyY2VcIilyZXR1cm47bGV0IGQ9dHlwZW9mIHNbY109PVwib2JqZWN0XCI/c1tjXTp7aWRlYWw6c1tjXX07ZC5leGFjdCE9PXZvaWQgMCYmdHlwZW9mIGQuZXhhY3Q9PVwibnVtYmVyXCImJihkLm1pbj1kLm1heD1kLmV4YWN0KTtsZXQgbD1mdW5jdGlvbih1LGgpe3JldHVybiB1P3UraC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStoLnNsaWNlKDEpOmg9PT1cImRldmljZUlkXCI/XCJzb3VyY2VJZFwiOmh9O2lmKGQuaWRlYWwhPT12b2lkIDApe2Eub3B0aW9uYWw9YS5vcHRpb25hbHx8W107bGV0IHU9e307dHlwZW9mIGQuaWRlYWw9PVwibnVtYmVyXCI/KHVbbChcIm1pblwiLGMpXT1kLmlkZWFsLGEub3B0aW9uYWwucHVzaCh1KSx1PXt9LHVbbChcIm1heFwiLGMpXT1kLmlkZWFsLGEub3B0aW9uYWwucHVzaCh1KSk6KHVbbChcIlwiLGMpXT1kLmlkZWFsLGEub3B0aW9uYWwucHVzaCh1KSk7fWQuZXhhY3QhPT12b2lkIDAmJnR5cGVvZiBkLmV4YWN0IT1cIm51bWJlclwiPyhhLm1hbmRhdG9yeT1hLm1hbmRhdG9yeXx8e30sYS5tYW5kYXRvcnlbbChcIlwiLGMpXT1kLmV4YWN0KTpbXCJtaW5cIixcIm1heFwiXS5mb3JFYWNoKHU9PntkW3VdIT09dm9pZCAwJiYoYS5tYW5kYXRvcnk9YS5tYW5kYXRvcnl8fHt9LGEubWFuZGF0b3J5W2wodSxjKV09ZFt1XSk7fSk7fSkscy5hZHZhbmNlZCYmKGEub3B0aW9uYWw9KGEub3B0aW9uYWx8fFtdKS5jb25jYXQocy5hZHZhbmNlZCkpLGF9LHI9ZnVuY3Rpb24ocyxhKXtpZihlLnZlcnNpb24+PTYxKXJldHVybiBhKHMpO2lmKChzPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocykpKSYmdHlwZW9mIHMuYXVkaW89PVwib2JqZWN0XCIpe2xldCBjPWZ1bmN0aW9uKGQsbCx1KXtsIGluIGQmJiEodSBpbiBkKSYmKGRbdV09ZFtsXSxkZWxldGUgZFtsXSk7fTtjKChzPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocykpKS5hdWRpbyxcImF1dG9HYWluQ29udHJvbFwiLFwiZ29vZ0F1dG9HYWluQ29udHJvbFwiKSxjKHMuYXVkaW8sXCJub2lzZVN1cHByZXNzaW9uXCIsXCJnb29nTm9pc2VTdXBwcmVzc2lvblwiKSxzLmF1ZGlvPWkocy5hdWRpbyk7fWlmKHMmJnR5cGVvZiBzLnZpZGVvPT1cIm9iamVjdFwiKXtsZXQgYz1zLnZpZGVvLmZhY2luZ01vZGU7Yz1jJiYodHlwZW9mIGM9PVwib2JqZWN0XCI/Yzp7aWRlYWw6Y30pO2xldCBkPWUudmVyc2lvbjw2NjtpZihjJiYoYy5leGFjdD09PVwidXNlclwifHxjLmV4YWN0PT09XCJlbnZpcm9ubWVudFwifHxjLmlkZWFsPT09XCJ1c2VyXCJ8fGMuaWRlYWw9PT1cImVudmlyb25tZW50XCIpJiYoIW4ubWVkaWFEZXZpY2VzLmdldFN1cHBvcnRlZENvbnN0cmFpbnRzfHwhbi5tZWRpYURldmljZXMuZ2V0U3VwcG9ydGVkQ29uc3RyYWludHMoKS5mYWNpbmdNb2RlfHxkKSl7bGV0IGw7aWYoZGVsZXRlIHMudmlkZW8uZmFjaW5nTW9kZSxjLmV4YWN0PT09XCJlbnZpcm9ubWVudFwifHxjLmlkZWFsPT09XCJlbnZpcm9ubWVudFwiP2w9W1wiYmFja1wiLFwicmVhclwiXTpjLmV4YWN0IT09XCJ1c2VyXCImJmMuaWRlYWwhPT1cInVzZXJcInx8KGw9W1wiZnJvbnRcIl0pLGwpcmV0dXJuIG4ubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKS50aGVuKHU9PntsZXQgaD0odT11LmZpbHRlcihwPT5wLmtpbmQ9PT1cInZpZGVvaW5wdXRcIikpLmZpbmQocD0+bC5zb21lKGc9Pnt2YXIgRTtyZXR1cm4gVyhFPXAubGFiZWwudG9Mb3dlckNhc2UoKSkuY2FsbChFLGcpfSkpO3JldHVybiAhaCYmdS5sZW5ndGgmJlcobCkuY2FsbChsLFwiYmFja1wiKSYmKGg9dVt1Lmxlbmd0aC0xXSksaCYmKHMudmlkZW8uZGV2aWNlSWQ9Yy5leGFjdD97ZXhhY3Q6aC5kZXZpY2VJZH06e2lkZWFsOmguZGV2aWNlSWR9KSxzLnZpZGVvPWkocy52aWRlbyksU1QoXCJjaHJvbWU6IFwiK0pTT04uc3RyaW5naWZ5KHMpKSxhKHMpfSl9cy52aWRlbz1pKHMudmlkZW8pO31yZXR1cm4gU1QoXCJjaHJvbWU6IFwiK0pTT04uc3RyaW5naWZ5KHMpKSxhKHMpfSxvPWZ1bmN0aW9uKHMpe3JldHVybiBlLnZlcnNpb24+PTY0P3M6e25hbWU6e1Blcm1pc3Npb25EZW5pZWRFcnJvcjpcIk5vdEFsbG93ZWRFcnJvclwiLFBlcm1pc3Npb25EaXNtaXNzZWRFcnJvcjpcIk5vdEFsbG93ZWRFcnJvclwiLEludmFsaWRTdGF0ZUVycm9yOlwiTm90QWxsb3dlZEVycm9yXCIsRGV2aWNlc05vdEZvdW5kRXJyb3I6XCJOb3RGb3VuZEVycm9yXCIsQ29uc3RyYWludE5vdFNhdGlzZmllZEVycm9yOlwiT3ZlcmNvbnN0cmFpbmVkRXJyb3JcIixUcmFja1N0YXJ0RXJyb3I6XCJOb3RSZWFkYWJsZUVycm9yXCIsTWVkaWFEZXZpY2VGYWlsZWREdWVUb1NodXRkb3duOlwiTm90QWxsb3dlZEVycm9yXCIsTWVkaWFEZXZpY2VLaWxsU3dpdGNoT246XCJOb3RBbGxvd2VkRXJyb3JcIixUYWJDYXB0dXJlRXJyb3I6XCJBYm9ydEVycm9yXCIsU2NyZWVuQ2FwdHVyZUVycm9yOlwiQWJvcnRFcnJvclwiLERldmljZUNhcHR1cmVFcnJvcjpcIkFib3J0RXJyb3JcIn1bcy5uYW1lXXx8cy5uYW1lLG1lc3NhZ2U6cy5tZXNzYWdlLGNvbnN0cmFpbnQ6cy5jb25zdHJhaW50fHxzLmNvbnN0cmFpbnROYW1lLHRvU3RyaW5nKCl7cmV0dXJuIHRoaXMubmFtZSsodGhpcy5tZXNzYWdlJiZcIjogXCIpK3RoaXMubWVzc2FnZX19fTtpZihuLmdldFVzZXJNZWRpYT1mdW5jdGlvbihzLGEsYyl7cihzLGQ9PntuLndlYmtpdEdldFVzZXJNZWRpYShkLGEsbD0+e2MmJmMobyhsKSk7fSk7fSk7fS5iaW5kKG4pLG4ubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSl7bGV0IHM9bi5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLmJpbmQobi5tZWRpYURldmljZXMpO24ubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYT1mdW5jdGlvbihhKXtyZXR1cm4gcihhLGM9PnMoYykudGhlbihkPT57aWYoYy5hdWRpbyYmIWQuZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGh8fGMudmlkZW8mJiFkLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoKXRocm93IGQuZ2V0VHJhY2tzKCkuZm9yRWFjaChsPT57bC5zdG9wKCk7fSksbmV3IERPTUV4Y2VwdGlvbihcIlwiLFwiTm90Rm91bmRFcnJvclwiKTtyZXR1cm4gZH0sZD0+ai5yZWplY3QobyhkKSkpKX07fX1mdW5jdGlvbiBVYih0KXt0Lk1lZGlhU3RyZWFtPXQuTWVkaWFTdHJlYW18fHQud2Via2l0TWVkaWFTdHJlYW07fWZ1bmN0aW9uIHhiKHQpe2lmKHR5cGVvZiB0PT1cIm9iamVjdFwiJiZ0LlJUQ1BlZXJDb25uZWN0aW9uJiYhKFwib250cmFja1wiaW4gdC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsXCJvbnRyYWNrXCIse2dldCgpe3JldHVybiB0aGlzLl9vbnRyYWNrfSxzZXQobil7dGhpcy5fb250cmFjayYmdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLl9vbnRyYWNrKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMuX29udHJhY2s9bik7fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pO2xldCBlPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uO3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29udHJhY2twb2x5fHwodGhpcy5fb250cmFja3BvbHk9bj0+e24uc3RyZWFtLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGR0cmFja1wiLGk9PntsZXQgcjtyPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycz90aGlzLmdldFJlY2VpdmVycygpLmZpbmQocz0+cy50cmFjayYmcy50cmFjay5pZD09PWkudHJhY2suaWQpOnt0cmFjazppLnRyYWNrfTtsZXQgbz1uZXcgRXZlbnQoXCJ0cmFja1wiKTtvLnRyYWNrPWkudHJhY2ssby5yZWNlaXZlcj1yLG8udHJhbnNjZWl2ZXI9e3JlY2VpdmVyOnJ9LG8uc3RyZWFtcz1bbi5zdHJlYW1dLHRoaXMuZGlzcGF0Y2hFdmVudChvKTt9KSxuLnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGk9PntsZXQgcjtyPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycz90aGlzLmdldFJlY2VpdmVycygpLmZpbmQocz0+cy50cmFjayYmcy50cmFjay5pZD09PWkuaWQpOnt0cmFjazppfTtsZXQgbz1uZXcgRXZlbnQoXCJ0cmFja1wiKTtvLnRyYWNrPWksby5yZWNlaXZlcj1yLG8udHJhbnNjZWl2ZXI9e3JlY2VpdmVyOnJ9LG8uc3RyZWFtcz1bbi5zdHJlYW1dLHRoaXMuZGlzcGF0Y2hFdmVudChvKTt9KTt9LHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImFkZHN0cmVhbVwiLHRoaXMuX29udHJhY2twb2x5KSksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O31lbHNlIHRzKHQsXCJ0cmFja1wiLGU9PihlLnRyYW5zY2VpdmVyfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInRyYW5zY2VpdmVyXCIse3ZhbHVlOntyZWNlaXZlcjplLnJlY2VpdmVyfX0pLGUpKTt9ZnVuY3Rpb24gVmIodCl7aWYodHlwZW9mIHQ9PVwib2JqZWN0XCImJnQuUlRDUGVlckNvbm5lY3Rpb24mJiEoXCJnZXRTZW5kZXJzXCJpbiB0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkmJlwiY3JlYXRlRFRNRlNlbmRlclwiaW4gdC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpe2xldCBlPWZ1bmN0aW9uKHIsbyl7cmV0dXJuIHt0cmFjazpvLGdldCBkdG1mKCl7cmV0dXJuIHRoaXMuX2R0bWY9PT12b2lkIDAmJihvLmtpbmQ9PT1cImF1ZGlvXCI/dGhpcy5fZHRtZj1yLmNyZWF0ZURUTUZTZW5kZXIobyk6dGhpcy5fZHRtZj1udWxsKSx0aGlzLl9kdG1mfSxfcGM6cn19O2lmKCF0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzKXt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbmRlcnM9dGhpcy5fc2VuZGVyc3x8W10sdGhpcy5fc2VuZGVycy5zbGljZSgpfTtsZXQgcj10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjazt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaz1mdW5jdGlvbihzLGEpe2xldCBjPXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBjfHwoYz1lKHRoaXMscyksdGhpcy5fc2VuZGVycy5wdXNoKGMpKSxjfTtsZXQgbz10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVUcmFjazt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVUcmFjaz1mdW5jdGlvbihzKXtvLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtsZXQgYT10aGlzLl9zZW5kZXJzLmluZGV4T2Yocyk7YSE9PS0xJiZ0aGlzLl9zZW5kZXJzLnNwbGljZShhLDEpO307fWxldCBuPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbTt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24ocil7dGhpcy5fc2VuZGVycz10aGlzLl9zZW5kZXJzfHxbXSxuLmFwcGx5KHRoaXMsW3JdKSxyLmdldFRyYWNrcygpLmZvckVhY2gobz0+e3RoaXMuX3NlbmRlcnMucHVzaChlKHRoaXMsbykpO30pO307bGV0IGk9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtO3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihyKXt0aGlzLl9zZW5kZXJzPXRoaXMuX3NlbmRlcnN8fFtdLGkuYXBwbHkodGhpcyxbcl0pLHIuZ2V0VHJhY2tzKCkuZm9yRWFjaChvPT57bGV0IHM9dGhpcy5fc2VuZGVycy5maW5kKGE9PmEudHJhY2s9PT1vKTtzJiZ0aGlzLl9zZW5kZXJzLnNwbGljZSh0aGlzLl9zZW5kZXJzLmluZGV4T2YocyksMSk7fSk7fTt9ZWxzZSBpZih0eXBlb2YgdD09XCJvYmplY3RcIiYmdC5SVENQZWVyQ29ubmVjdGlvbiYmXCJnZXRTZW5kZXJzXCJpbiB0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSYmXCJjcmVhdGVEVE1GU2VuZGVyXCJpbiB0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSYmdC5SVENSdHBTZW5kZXImJiEoXCJkdG1mXCJpbiB0LlJUQ1J0cFNlbmRlci5wcm90b3R5cGUpKXtsZXQgZT10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzO3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM9ZnVuY3Rpb24oKXtsZXQgbj1lLmFwcGx5KHRoaXMsW10pO3JldHVybiBuLmZvckVhY2goaT0+aS5fcGM9dGhpcyksbn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSxcImR0bWZcIix7Z2V0KCl7cmV0dXJuIHRoaXMuX2R0bWY9PT12b2lkIDAmJih0aGlzLnRyYWNrLmtpbmQ9PT1cImF1ZGlvXCI/dGhpcy5fZHRtZj10aGlzLl9wYy5jcmVhdGVEVE1GU2VuZGVyKHRoaXMudHJhY2spOnRoaXMuX2R0bWY9bnVsbCksdGhpcy5fZHRtZn19KTt9fWZ1bmN0aW9uIEZiKHQpe2lmKCF0LlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtsZXQgZT10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0czt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe2xldFtuLGkscl09YXJndW1lbnRzO2lmKGFyZ3VtZW50cy5sZW5ndGg+MCYmdHlwZW9mIG49PVwiZnVuY3Rpb25cIilyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoZS5sZW5ndGg9PT0wJiYoYXJndW1lbnRzLmxlbmd0aD09PTB8fHR5cGVvZiBuIT1cImZ1bmN0aW9uXCIpKXJldHVybiBlLmFwcGx5KHRoaXMsW10pO2xldCBvPWZ1bmN0aW9uKGEpe2xldCBjPXt9O3JldHVybiBhLnJlc3VsdCgpLmZvckVhY2goZD0+e2xldCBsPXtpZDpkLmlkLHRpbWVzdGFtcDpkLnRpbWVzdGFtcCx0eXBlOntsb2NhbGNhbmRpZGF0ZTpcImxvY2FsLWNhbmRpZGF0ZVwiLHJlbW90ZWNhbmRpZGF0ZTpcInJlbW90ZS1jYW5kaWRhdGVcIn1bZC50eXBlXXx8ZC50eXBlfTtkLm5hbWVzKCkuZm9yRWFjaCh1PT57bFt1XT1kLnN0YXQodSk7fSksY1tsLmlkXT1sO30pLGN9LHM9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBNYXAoT2JqZWN0LmtleXMoYSkubWFwKGM9PltjLGFbY11dKSl9O2lmKGFyZ3VtZW50cy5sZW5ndGg+PTIpe2xldCBhPWZ1bmN0aW9uKGMpe2kocyhvKGMpKSk7fTtyZXR1cm4gZS5hcHBseSh0aGlzLFthLG5dKX1yZXR1cm4gbmV3IGooKGEsYyk9PntlLmFwcGx5KHRoaXMsW2Z1bmN0aW9uKGQpe2EocyhvKGQpKSk7fSxjXSk7fSkudGhlbihpLHIpfTt9ZnVuY3Rpb24gQmIodCl7aWYoISh0eXBlb2YgdD09XCJvYmplY3RcIiYmdC5SVENQZWVyQ29ubmVjdGlvbiYmdC5SVENSdHBTZW5kZXImJnQuUlRDUnRwUmVjZWl2ZXIpKXJldHVybjtpZighKFwiZ2V0U3RhdHNcImluIHQuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSkpe2xldCBuPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM7biYmKHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM9ZnVuY3Rpb24oKXtsZXQgcj1uLmFwcGx5KHRoaXMsW10pO3JldHVybiByLmZvckVhY2gobz0+by5fcGM9dGhpcykscn0pO2xldCBpPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrO2kmJih0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaz1mdW5jdGlvbigpe2xldCByPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiByLl9wYz10aGlzLHJ9KSx0LlJUQ1J0cFNlbmRlci5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtsZXQgcj10aGlzO3JldHVybiB0aGlzLl9wYy5nZXRTdGF0cygpLnRoZW4obz0+U2cobyxyLnRyYWNrLCEwKSl9O31pZighKFwiZ2V0U3RhdHNcImluIHQuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlKSl7bGV0IG49dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzO24mJih0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM9ZnVuY3Rpb24oKXtsZXQgaT1uLmFwcGx5KHRoaXMsW10pO3JldHVybiBpLmZvckVhY2gocj0+ci5fcGM9dGhpcyksaX0pLHRzKHQsXCJ0cmFja1wiLGk9PihpLnJlY2VpdmVyLl9wYz1pLnNyY0VsZW1lbnQsaSkpLHQuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7bGV0IGk9dGhpcztyZXR1cm4gdGhpcy5fcGMuZ2V0U3RhdHMoKS50aGVuKHI9PlNnKHIsaS50cmFjaywhMSkpfTt9aWYoIShcImdldFN0YXRzXCJpbiB0LlJUQ1J0cFNlbmRlci5wcm90b3R5cGUpfHwhKFwiZ2V0U3RhdHNcImluIHQuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlKSlyZXR1cm47bGV0IGU9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM7dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXWluc3RhbmNlb2YgdC5NZWRpYVN0cmVhbVRyYWNrKXtsZXQgbj1hcmd1bWVudHNbMF0saSxyLG87cmV0dXJuIHRoaXMuZ2V0U2VuZGVycygpLmZvckVhY2gocz0+e3MudHJhY2s9PT1uJiYoaT9vPSEwOmk9cyk7fSksdGhpcy5nZXRSZWNlaXZlcnMoKS5mb3JFYWNoKHM9PihzLnRyYWNrPT09biYmKHI/bz0hMDpyPXMpLHMudHJhY2s9PT1uKSksb3x8aSYmcj9qLnJlamVjdChuZXcgRE9NRXhjZXB0aW9uKFwiVGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgc2VuZGVyIG9yIHJlY2VpdmVyIGZvciB0aGUgdHJhY2suXCIsXCJJbnZhbGlkQWNjZXNzRXJyb3JcIikpOmk/aS5nZXRTdGF0cygpOnI/ci5nZXRTdGF0cygpOmoucmVqZWN0KG5ldyBET01FeGNlcHRpb24oXCJUaGVyZSBpcyBubyBzZW5kZXIgb3IgcmVjZWl2ZXIgZm9yIHRoZSB0cmFjay5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKSl9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt9ZnVuY3Rpb24gamIodCl7dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0TG9jYWxTdHJlYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXM9dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc3x8e30sT2JqZWN0LmtleXModGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcykubWFwKG89PnRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbb11bMF0pfTtsZXQgZT10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjazt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaz1mdW5jdGlvbihvLHMpe2lmKCFzKXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXN8fHt9O2xldCBhPWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW3MuaWRdP3RoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbcy5pZF0uaW5kZXhPZihhKT09PS0xJiZ0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW3MuaWRdLnB1c2goYSk6dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tzLmlkXT1bcyxhXSxhfTtsZXQgbj10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW07dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKG8pe3RoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXM9dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc3x8e30sby5nZXRUcmFja3MoKS5mb3JFYWNoKGM9PntpZih0aGlzLmdldFNlbmRlcnMoKS5maW5kKGw9PmwudHJhY2s9PT1jKSl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiVHJhY2sgYWxyZWFkeSBleGlzdHMuXCIsXCJJbnZhbGlkQWNjZXNzRXJyb3JcIil9KTtsZXQgcz10aGlzLmdldFNlbmRlcnMoKTtuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtsZXQgYT10aGlzLmdldFNlbmRlcnMoKS5maWx0ZXIoYz0+cy5pbmRleE9mKGMpPT09LTEpO3RoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbby5pZF09W29dLmNvbmNhdChhKTt9O2xldCBpPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbTt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24obyl7cmV0dXJuIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXM9dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc3x8e30sZGVsZXRlIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbby5pZF0saS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2xldCByPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrO3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrPWZ1bmN0aW9uKG8pe3JldHVybiB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXN8fHt9LG8mJk9iamVjdC5rZXlzKHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXMpLmZvckVhY2gocz0+e2xldCBhPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbc10uaW5kZXhPZihvKTthIT09LTEmJnRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbc10uc3BsaWNlKGEsMSksdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tzXS5sZW5ndGg9PT0xJiZkZWxldGUgdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tzXTt9KSxyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07fWZ1bmN0aW9uIEdiKHQsZSl7aWYoIXQuUlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuO2lmKHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrJiZlLnZlcnNpb24+PTY1KXJldHVybiBqYih0KTtsZXQgbj10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRMb2NhbFN0cmVhbXM7dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0TG9jYWxTdHJlYW1zPWZ1bmN0aW9uKCl7bGV0IGM9bi5hcHBseSh0aGlzKTtyZXR1cm4gdGhpcy5fcmV2ZXJzZVN0cmVhbXM9dGhpcy5fcmV2ZXJzZVN0cmVhbXN8fHt9LGMubWFwKGQ9PnRoaXMuX3JldmVyc2VTdHJlYW1zW2QuaWRdKX07bGV0IGk9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtO3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbT1mdW5jdGlvbihjKXtpZih0aGlzLl9zdHJlYW1zPXRoaXMuX3N0cmVhbXN8fHt9LHRoaXMuX3JldmVyc2VTdHJlYW1zPXRoaXMuX3JldmVyc2VTdHJlYW1zfHx7fSxjLmdldFRyYWNrcygpLmZvckVhY2goZD0+e2lmKHRoaXMuZ2V0U2VuZGVycygpLmZpbmQodT0+dS50cmFjaz09PWQpKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUcmFjayBhbHJlYWR5IGV4aXN0cy5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKX0pLCF0aGlzLl9yZXZlcnNlU3RyZWFtc1tjLmlkXSl7bGV0IGQ9bmV3IHQuTWVkaWFTdHJlYW0oYy5nZXRUcmFja3MoKSk7dGhpcy5fc3RyZWFtc1tjLmlkXT1kLHRoaXMuX3JldmVyc2VTdHJlYW1zW2QuaWRdPWMsYz1kO31pLmFwcGx5KHRoaXMsW2NdKTt9O2xldCByPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbTtmdW5jdGlvbiBvKGMsZCl7bGV0IGw9ZC5zZHA7cmV0dXJuIE9iamVjdC5rZXlzKGMuX3JldmVyc2VTdHJlYW1zfHxbXSkuZm9yRWFjaCh1PT57bGV0IGg9Yy5fcmV2ZXJzZVN0cmVhbXNbdV0scD1jLl9zdHJlYW1zW2guaWRdO2w9bC5yZXBsYWNlKG5ldyBSZWdFeHAocC5pZCxcImdcIiksaC5pZCk7fSksbmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7dHlwZTpkLnR5cGUsc2RwOmx9KX10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24oYyl7dGhpcy5fc3RyZWFtcz10aGlzLl9zdHJlYW1zfHx7fSx0aGlzLl9yZXZlcnNlU3RyZWFtcz10aGlzLl9yZXZlcnNlU3RyZWFtc3x8e30sci5hcHBseSh0aGlzLFt0aGlzLl9zdHJlYW1zW2MuaWRdfHxjXSksZGVsZXRlIHRoaXMuX3JldmVyc2VTdHJlYW1zW3RoaXMuX3N0cmVhbXNbYy5pZF0/dGhpcy5fc3RyZWFtc1tjLmlkXS5pZDpjLmlkXSxkZWxldGUgdGhpcy5fc3RyZWFtc1tjLmlkXTt9LHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrPWZ1bmN0aW9uKGMsZCl7aWYodGhpcy5zaWduYWxpbmdTdGF0ZT09PVwiY2xvc2VkXCIpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIlRoZSBSVENQZWVyQ29ubmVjdGlvbidzIHNpZ25hbGluZ1N0YXRlIGlzICdjbG9zZWQnLlwiLFwiSW52YWxpZFN0YXRlRXJyb3JcIik7bGV0IGw9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7aWYobC5sZW5ndGghPT0xfHwhbFswXS5nZXRUcmFja3MoKS5maW5kKHA9PnA9PT1jKSl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiVGhlIGFkYXB0ZXIuanMgYWRkVHJhY2sgcG9seWZpbGwgb25seSBzdXBwb3J0cyBhIHNpbmdsZSAgc3RyZWFtIHdoaWNoIGlzIGFzc29jaWF0ZWQgd2l0aCB0aGUgc3BlY2lmaWVkIHRyYWNrLlwiLFwiTm90U3VwcG9ydGVkRXJyb3JcIik7aWYodGhpcy5nZXRTZW5kZXJzKCkuZmluZChwPT5wLnRyYWNrPT09YykpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIlRyYWNrIGFscmVhZHkgZXhpc3RzLlwiLFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIpO3RoaXMuX3N0cmVhbXM9dGhpcy5fc3RyZWFtc3x8e30sdGhpcy5fcmV2ZXJzZVN0cmVhbXM9dGhpcy5fcmV2ZXJzZVN0cmVhbXN8fHt9O2xldCBoPXRoaXMuX3N0cmVhbXNbZC5pZF07aWYoaCloLmFkZFRyYWNrKGMpLGoucmVzb2x2ZSgpLnRoZW4oKCk9Pnt0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwibmVnb3RpYXRpb25uZWVkZWRcIikpO30pO2Vsc2Uge2xldCBwPW5ldyB0Lk1lZGlhU3RyZWFtKFtjXSk7dGhpcy5fc3RyZWFtc1tkLmlkXT1wLHRoaXMuX3JldmVyc2VTdHJlYW1zW3AuaWRdPWQsdGhpcy5hZGRTdHJlYW0ocCk7fXJldHVybiB0aGlzLmdldFNlbmRlcnMoKS5maW5kKHA9PnAudHJhY2s9PT1jKX0sW1wiY3JlYXRlT2ZmZXJcIixcImNyZWF0ZUFuc3dlclwiXS5mb3JFYWNoKGZ1bmN0aW9uKGMpe2xldCBkPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW2NdLGw9e1tjXSgpe2xldCB1PWFyZ3VtZW50cztyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmdHlwZW9mIGFyZ3VtZW50c1swXT09XCJmdW5jdGlvblwiP2QuYXBwbHkodGhpcyxbaD0+e2xldCBwPW8odGhpcyxoKTt1WzBdLmFwcGx5KG51bGwsW3BdKTt9LGg9Pnt1WzFdJiZ1WzFdLmFwcGx5KG51bGwsaCk7fSxhcmd1bWVudHNbMl1dKTpkLmFwcGx5KHRoaXMsYXJndW1lbnRzKS50aGVuKGg9Pm8odGhpcyxoKSl9fTt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtjXT1sW2NdO30pO2xldCBzPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb247dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiZhcmd1bWVudHNbMF0udHlwZT8oYXJndW1lbnRzWzBdPWZ1bmN0aW9uKGMsZCl7bGV0IGw9ZC5zZHA7cmV0dXJuIE9iamVjdC5rZXlzKGMuX3JldmVyc2VTdHJlYW1zfHxbXSkuZm9yRWFjaCh1PT57bGV0IGg9Yy5fcmV2ZXJzZVN0cmVhbXNbdV0scD1jLl9zdHJlYW1zW2guaWRdO2w9bC5yZXBsYWNlKG5ldyBSZWdFeHAoaC5pZCxcImdcIikscC5pZCk7fSksbmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7dHlwZTpkLnR5cGUsc2RwOmx9KX0odGhpcyxhcmd1bWVudHNbMF0pLHMuYXBwbHkodGhpcyxhcmd1bWVudHMpKTpzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bGV0IGE9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcImxvY2FsRGVzY3JpcHRpb25cIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwibG9jYWxEZXNjcmlwdGlvblwiLHtnZXQoKXtsZXQgYz1hLmdldC5hcHBseSh0aGlzKTtyZXR1cm4gYy50eXBlPT09XCJcIj9jOm8odGhpcyxjKX19KSx0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVUcmFjaz1mdW5jdGlvbihjKXtpZih0aGlzLnNpZ25hbGluZ1N0YXRlPT09XCJjbG9zZWRcIil0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiVGhlIFJUQ1BlZXJDb25uZWN0aW9uJ3Mgc2lnbmFsaW5nU3RhdGUgaXMgJ2Nsb3NlZCcuXCIsXCJJbnZhbGlkU3RhdGVFcnJvclwiKTtpZighYy5fcGMpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIkFyZ3VtZW50IDEgb2YgUlRDUGVlckNvbm5lY3Rpb24ucmVtb3ZlVHJhY2sgZG9lcyBub3QgaW1wbGVtZW50IGludGVyZmFjZSBSVENSdHBTZW5kZXIuXCIsXCJUeXBlRXJyb3JcIik7aWYoYy5fcGMhPT10aGlzKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJTZW5kZXIgd2FzIG5vdCBjcmVhdGVkIGJ5IHRoaXMgY29ubmVjdGlvbi5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKTtsZXQgZDt0aGlzLl9zdHJlYW1zPXRoaXMuX3N0cmVhbXN8fHt9LE9iamVjdC5rZXlzKHRoaXMuX3N0cmVhbXMpLmZvckVhY2gobD0+e3RoaXMuX3N0cmVhbXNbbF0uZ2V0VHJhY2tzKCkuZmluZCh1PT5jLnRyYWNrPT09dSkmJihkPXRoaXMuX3N0cmVhbXNbbF0pO30pLGQmJihkLmdldFRyYWNrcygpLmxlbmd0aD09PTE/dGhpcy5yZW1vdmVTdHJlYW0odGhpcy5fcmV2ZXJzZVN0cmVhbXNbZC5pZF0pOmQucmVtb3ZlVHJhY2soYy50cmFjayksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcIm5lZ290aWF0aW9ubmVlZGVkXCIpKSk7fTt9ZnVuY3Rpb24gYUUodCxlKXshdC5SVENQZWVyQ29ubmVjdGlvbiYmdC53ZWJraXRSVENQZWVyQ29ubmVjdGlvbiYmKHQuUlRDUGVlckNvbm5lY3Rpb249dC53ZWJraXRSVENQZWVyQ29ubmVjdGlvbiksdC5SVENQZWVyQ29ubmVjdGlvbiYmZS52ZXJzaW9uPDUzJiZbXCJzZXRMb2NhbERlc2NyaXB0aW9uXCIsXCJzZXRSZW1vdGVEZXNjcmlwdGlvblwiLFwiYWRkSWNlQ2FuZGlkYXRlXCJdLmZvckVhY2goZnVuY3Rpb24obil7bGV0IGk9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbbl0scj17W25dKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1uZXcobj09PVwiYWRkSWNlQ2FuZGlkYXRlXCI/dC5SVENJY2VDYW5kaWRhdGU6dC5SVENTZXNzaW9uRGVzY3JpcHRpb24pKGFyZ3VtZW50c1swXSksaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fTt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtuXT1yW25dO30pO31mdW5jdGlvbiBXYih0LGUpe3RzKHQsXCJuZWdvdGlhdGlvbm5lZWRlZFwiLG49PntsZXQgaT1uLnRhcmdldDtpZighKGUudmVyc2lvbjw3Mnx8aS5nZXRDb25maWd1cmF0aW9uJiZpLmdldENvbmZpZ3VyYXRpb24oKS5zZHBTZW1hbnRpY3M9PT1cInBsYW4tYlwiKXx8aS5zaWduYWxpbmdTdGF0ZT09PVwic3RhYmxlXCIpcmV0dXJuIG59KTt9dmFyIFJUPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGZpeE5lZ290aWF0aW9uTmVlZGVkOldiLHNoaW1BZGRUcmFja1JlbW92ZVRyYWNrOkdiLHNoaW1BZGRUcmFja1JlbW92ZVRyYWNrV2l0aE5hdGl2ZTpqYixzaGltR2V0RGlzcGxheU1lZGlhOmZ1bmN0aW9uKHQsZSl7dC5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZcImdldERpc3BsYXlNZWRpYVwiaW4gdC5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHx0Lm5hdmlnYXRvci5tZWRpYURldmljZXMmJih0eXBlb2YgZT09XCJmdW5jdGlvblwiP3QubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWE9ZnVuY3Rpb24obil7cmV0dXJuIGUobikudGhlbihpPT57bGV0IHI9bi52aWRlbyYmbi52aWRlby53aWR0aCxvPW4udmlkZW8mJm4udmlkZW8uaGVpZ2h0LHM9bi52aWRlbyYmbi52aWRlby5mcmFtZVJhdGU7cmV0dXJuIG4udmlkZW89e21hbmRhdG9yeTp7Y2hyb21lTWVkaWFTb3VyY2U6XCJkZXNrdG9wXCIsY2hyb21lTWVkaWFTb3VyY2VJZDppLG1heEZyYW1lUmF0ZTpzfHwzfX0sciYmKG4udmlkZW8ubWFuZGF0b3J5Lm1heFdpZHRoPXIpLG8mJihuLnZpZGVvLm1hbmRhdG9yeS5tYXhIZWlnaHQ9byksdC5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShuKX0pfTpjb25zb2xlLmVycm9yKFwic2hpbUdldERpc3BsYXlNZWRpYTogZ2V0U291cmNlSWQgYXJndW1lbnQgaXMgbm90IGEgZnVuY3Rpb25cIikpO30sc2hpbUdldFNlbmRlcnNXaXRoRHRtZjpWYixzaGltR2V0U3RhdHM6RmIsc2hpbUdldFVzZXJNZWRpYTpNYixzaGltTWVkaWFTdHJlYW06VWIsc2hpbU9uVHJhY2s6eGIsc2hpbVBlZXJDb25uZWN0aW9uOmFFLHNoaW1TZW5kZXJSZWNlaXZlckdldFN0YXRzOkJifSk7ZnVuY3Rpb24gSGIodCxlKXtsZXQgbj10JiZ0Lm5hdmlnYXRvcixpPXQmJnQuTWVkaWFTdHJlYW1UcmFjaztpZihuLmdldFVzZXJNZWRpYT1mdW5jdGlvbihyLG8scyl7UG0oXCJuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhXCIsXCJuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYVwiKSxuLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEocikudGhlbihvLHMpO30sIShlLnZlcnNpb24+NTUmJlwiYXV0b0dhaW5Db250cm9sXCJpbiBuLm1lZGlhRGV2aWNlcy5nZXRTdXBwb3J0ZWRDb25zdHJhaW50cygpKSl7bGV0IHI9ZnVuY3Rpb24ocyxhLGMpe2EgaW4gcyYmIShjIGluIHMpJiYoc1tjXT1zW2FdLGRlbGV0ZSBzW2FdKTt9LG89bi5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLmJpbmQobi5tZWRpYURldmljZXMpO2lmKG4ubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYT1mdW5jdGlvbihzKXtyZXR1cm4gdHlwZW9mIHM9PVwib2JqZWN0XCImJnR5cGVvZiBzLmF1ZGlvPT1cIm9iamVjdFwiJiYocz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHMpKSxyKHMuYXVkaW8sXCJhdXRvR2FpbkNvbnRyb2xcIixcIm1vekF1dG9HYWluQ29udHJvbFwiKSxyKHMuYXVkaW8sXCJub2lzZVN1cHByZXNzaW9uXCIsXCJtb3pOb2lzZVN1cHByZXNzaW9uXCIpKSxvKHMpfSxpJiZpLnByb3RvdHlwZS5nZXRTZXR0aW5ncyl7bGV0IHM9aS5wcm90b3R5cGUuZ2V0U2V0dGluZ3M7aS5wcm90b3R5cGUuZ2V0U2V0dGluZ3M9ZnVuY3Rpb24oKXtsZXQgYT1zLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gcihhLFwibW96QXV0b0dhaW5Db250cm9sXCIsXCJhdXRvR2FpbkNvbnRyb2xcIikscihhLFwibW96Tm9pc2VTdXBwcmVzc2lvblwiLFwibm9pc2VTdXBwcmVzc2lvblwiKSxhfTt9aWYoaSYmaS5wcm90b3R5cGUuYXBwbHlDb25zdHJhaW50cyl7bGV0IHM9aS5wcm90b3R5cGUuYXBwbHlDb25zdHJhaW50cztpLnByb3RvdHlwZS5hcHBseUNvbnN0cmFpbnRzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmtpbmQ9PT1cImF1ZGlvXCImJnR5cGVvZiBhPT1cIm9iamVjdFwiJiYoYT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGEpKSxyKGEsXCJhdXRvR2FpbkNvbnRyb2xcIixcIm1vekF1dG9HYWluQ29udHJvbFwiKSxyKGEsXCJub2lzZVN1cHByZXNzaW9uXCIsXCJtb3pOb2lzZVN1cHByZXNzaW9uXCIpKSxzLmFwcGx5KHRoaXMsW2FdKX07fX19ZnVuY3Rpb24gS2IodCl7dHlwZW9mIHQ9PVwib2JqZWN0XCImJnQuUlRDVHJhY2tFdmVudCYmXCJyZWNlaXZlclwiaW4gdC5SVENUcmFja0V2ZW50LnByb3RvdHlwZSYmIShcInRyYW5zY2VpdmVyXCJpbiB0LlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUsXCJ0cmFuc2NlaXZlclwiLHtnZXQoKXtyZXR1cm4ge3JlY2VpdmVyOnRoaXMucmVjZWl2ZXJ9fX0pO31mdW5jdGlvbiBjRSh0LGUpe2lmKHR5cGVvZiB0IT1cIm9iamVjdFwifHwhdC5SVENQZWVyQ29ubmVjdGlvbiYmIXQubW96UlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuOyF0LlJUQ1BlZXJDb25uZWN0aW9uJiZ0Lm1velJUQ1BlZXJDb25uZWN0aW9uJiYodC5SVENQZWVyQ29ubmVjdGlvbj10Lm1velJUQ1BlZXJDb25uZWN0aW9uKSxlLnZlcnNpb248NTMmJltcInNldExvY2FsRGVzY3JpcHRpb25cIixcInNldFJlbW90ZURlc2NyaXB0aW9uXCIsXCJhZGRJY2VDYW5kaWRhdGVcIl0uZm9yRWFjaChmdW5jdGlvbihyKXtsZXQgbz10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtyXSxzPXtbcl0oKXtyZXR1cm4gYXJndW1lbnRzWzBdPW5ldyhyPT09XCJhZGRJY2VDYW5kaWRhdGVcIj90LlJUQ0ljZUNhbmRpZGF0ZTp0LlJUQ1Nlc3Npb25EZXNjcmlwdGlvbikoYXJndW1lbnRzWzBdKSxvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19O3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW3JdPXNbcl07fSk7bGV0IG49e2luYm91bmRydHA6XCJpbmJvdW5kLXJ0cFwiLG91dGJvdW5kcnRwOlwib3V0Ym91bmQtcnRwXCIsY2FuZGlkYXRlcGFpcjpcImNhbmRpZGF0ZS1wYWlyXCIsbG9jYWxjYW5kaWRhdGU6XCJsb2NhbC1jYW5kaWRhdGVcIixyZW1vdGVjYW5kaWRhdGU6XCJyZW1vdGUtY2FuZGlkYXRlXCJ9LGk9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM7dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtsZXRbcixvLHNdPWFyZ3VtZW50cztyZXR1cm4gaS5hcHBseSh0aGlzLFtyfHxudWxsXSkudGhlbihhPT57aWYoZS52ZXJzaW9uPDUzJiYhbyl0cnl7YS5mb3JFYWNoKGM9PntjLnR5cGU9bltjLnR5cGVdfHxjLnR5cGU7fSk7fWNhdGNoKGMpe2lmKGMubmFtZSE9PVwiVHlwZUVycm9yXCIpdGhyb3cgYzthLmZvckVhY2goKGQsbCk9PnthLnNldChsLE9iamVjdC5hc3NpZ24oe30sZCx7dHlwZTpuW2QudHlwZV18fGQudHlwZX0pKTt9KTt9cmV0dXJuIGF9KS50aGVuKG8scyl9O31mdW5jdGlvbiBZYih0KXtpZih0eXBlb2YgdCE9XCJvYmplY3RcInx8IXQuUlRDUGVlckNvbm5lY3Rpb258fCF0LlJUQ1J0cFNlbmRlcnx8dC5SVENSdHBTZW5kZXImJlwiZ2V0U3RhdHNcImluIHQuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSlyZXR1cm47bGV0IGU9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycztlJiYodC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycz1mdW5jdGlvbigpe2xldCBpPWUuYXBwbHkodGhpcyxbXSk7cmV0dXJuIGkuZm9yRWFjaChyPT5yLl9wYz10aGlzKSxpfSk7bGV0IG49dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s7biYmKHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrPWZ1bmN0aW9uKCl7bGV0IGk9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGkuX3BjPXRoaXMsaX0pLHQuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYWNrP3RoaXMuX3BjLmdldFN0YXRzKHRoaXMudHJhY2spOmoucmVzb2x2ZShuZXcgTWFwKX07fWZ1bmN0aW9uIHFiKHQpe2lmKHR5cGVvZiB0IT1cIm9iamVjdFwifHwhdC5SVENQZWVyQ29ubmVjdGlvbnx8IXQuUlRDUnRwU2VuZGVyfHx0LlJUQ1J0cFNlbmRlciYmXCJnZXRTdGF0c1wiaW4gdC5SVENSdHBSZWNlaXZlci5wcm90b3R5cGUpcmV0dXJuO2xldCBlPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycztlJiYodC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzPWZ1bmN0aW9uKCl7bGV0IG49ZS5hcHBseSh0aGlzLFtdKTtyZXR1cm4gbi5mb3JFYWNoKGk9PmkuX3BjPXRoaXMpLG59KSx0cyh0LFwidHJhY2tcIixuPT4obi5yZWNlaXZlci5fcGM9bi5zcmNFbGVtZW50LG4pKSx0LlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYy5nZXRTdGF0cyh0aGlzLnRyYWNrKX07fWZ1bmN0aW9uIHpiKHQpe3QuUlRDUGVlckNvbm5lY3Rpb24mJiEoXCJyZW1vdmVTdHJlYW1cImluIHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSYmKHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihlKXtQbShcInJlbW92ZVN0cmVhbVwiLFwicmVtb3ZlVHJhY2tcIiksdGhpcy5nZXRTZW5kZXJzKCkuZm9yRWFjaChuPT57dmFyIGk7bi50cmFjayYmVyhpPWUuZ2V0VHJhY2tzKCkpLmNhbGwoaSxuLnRyYWNrKSYmdGhpcy5yZW1vdmVUcmFjayhuKTt9KTt9KTt9ZnVuY3Rpb24gSmIodCl7dC5EYXRhQ2hhbm5lbCYmIXQuUlRDRGF0YUNoYW5uZWwmJih0LlJUQ0RhdGFDaGFubmVsPXQuRGF0YUNoYW5uZWwpO31mdW5jdGlvbiBYYih0KXtpZih0eXBlb2YgdCE9XCJvYmplY3RcInx8IXQuUlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuO2xldCBlPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYW5zY2VpdmVyO2UmJih0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFuc2NlaXZlcj1mdW5jdGlvbigpe3RoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzPVtdO2xldCBuPWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLnNlbmRFbmNvZGluZ3M7bj09PXZvaWQgMCYmKG49W10pLG49Wy4uLm5dO2xldCBpPW4ubGVuZ3RoPjA7aSYmbi5mb3JFYWNoKG89PntpZihcInJpZFwiaW4gbyYmIS9eW2EtejAtOV17MCwxNn0kL2kudGVzdChvLnJpZCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgUklEIHZhbHVlIHByb3ZpZGVkLlwiKTtpZihcInNjYWxlUmVzb2x1dGlvbkRvd25CeVwiaW4gbyYmIShwYXJzZUZsb2F0KG8uc2NhbGVSZXNvbHV0aW9uRG93bkJ5KT49MSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJzY2FsZV9yZXNvbHV0aW9uX2Rvd25fYnkgbXVzdCBiZSA+PSAxLjBcIik7aWYoXCJtYXhGcmFtZXJhdGVcImluIG8mJiEocGFyc2VGbG9hdChvLm1heEZyYW1lcmF0ZSk+PTApKXRocm93IG5ldyBSYW5nZUVycm9yKFwibWF4X2ZyYW1lcmF0ZSBtdXN0IGJlID49IDAuMFwiKX0pO2xldCByPWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKGkpe2xldHtzZW5kZXI6b309cixzPW8uZ2V0UGFyYW1ldGVycygpOyghKFwiZW5jb2RpbmdzXCJpbiBzKXx8cy5lbmNvZGluZ3MubGVuZ3RoPT09MSYmT2JqZWN0LmtleXMocy5lbmNvZGluZ3NbMF0pLmxlbmd0aD09PTApJiYocy5lbmNvZGluZ3M9bixvLnNlbmRFbmNvZGluZ3M9bix0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcy5wdXNoKG8uc2V0UGFyYW1ldGVycyhzKS50aGVuKCgpPT57ZGVsZXRlIG8uc2VuZEVuY29kaW5nczt9KS5jYXRjaCgoKT0+e2RlbGV0ZSBvLnNlbmRFbmNvZGluZ3M7fSkpKTt9cmV0dXJuIHJ9KTt9ZnVuY3Rpb24gUWIodCl7aWYodHlwZW9mIHQhPVwib2JqZWN0XCJ8fCF0LlJUQ1J0cFNlbmRlcilyZXR1cm47bGV0IGU9dC5SVENSdHBTZW5kZXIucHJvdG90eXBlLmdldFBhcmFtZXRlcnM7ZSYmKHQuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7bGV0IG49ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIFwiZW5jb2RpbmdzXCJpbiBufHwobi5lbmNvZGluZ3M9W10uY29uY2F0KHRoaXMuc2VuZEVuY29kaW5nc3x8W3t9XSkpLG59KTt9ZnVuY3Rpb24gWmIodCl7aWYodHlwZW9mIHQhPVwib2JqZWN0XCJ8fCF0LlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtsZXQgZT10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlcjt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcyYmdGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMubGVuZ3RoP2ouYWxsKHRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzKS50aGVuKCgpPT5lLmFwcGx5KHRoaXMsYXJndW1lbnRzKSkuZmluYWxseSgoKT0+e3RoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzPVtdO30pOmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt9ZnVuY3Rpb24gJGIodCl7aWYodHlwZW9mIHQhPVwib2JqZWN0XCJ8fCF0LlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtsZXQgZT10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVBbnN3ZXI7dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlQW5zd2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzJiZ0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcy5sZW5ndGg/ai5hbGwodGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMpLnRoZW4oKCk9PmUuYXBwbHkodGhpcyxhcmd1bWVudHMpKS5maW5hbGx5KCgpPT57dGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXM9W107fSk6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O312YXIgQ1Q9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsc2hpbUFkZFRyYW5zY2VpdmVyOlhiLHNoaW1DcmVhdGVBbnN3ZXI6JGIsc2hpbUNyZWF0ZU9mZmVyOlpiLHNoaW1HZXREaXNwbGF5TWVkaWE6ZnVuY3Rpb24odCxlKXt0Lm5hdmlnYXRvci5tZWRpYURldmljZXMmJlwiZ2V0RGlzcGxheU1lZGlhXCJpbiB0Lm5hdmlnYXRvci5tZWRpYURldmljZXN8fHQubmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmKHQubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWE9ZnVuY3Rpb24obil7aWYoIW58fCFuLnZpZGVvKXtsZXQgaT1uZXcgRE9NRXhjZXB0aW9uKFwiZ2V0RGlzcGxheU1lZGlhIHdpdGhvdXQgdmlkZW8gY29uc3RyYWludHMgaXMgdW5kZWZpbmVkXCIpO3JldHVybiBpLm5hbWU9XCJOb3RGb3VuZEVycm9yXCIsaS5jb2RlPTgsai5yZWplY3QoaSl9cmV0dXJuIG4udmlkZW89PT0hMD9uLnZpZGVvPXttZWRpYVNvdXJjZTplfTpuLnZpZGVvLm1lZGlhU291cmNlPWUsdC5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShuKX0pO30sc2hpbUdldFBhcmFtZXRlcnM6UWIsc2hpbUdldFVzZXJNZWRpYTpIYixzaGltT25UcmFjazpLYixzaGltUGVlckNvbm5lY3Rpb246Y0Usc2hpbVJUQ0RhdGFDaGFubmVsOkpiLHNoaW1SZWNlaXZlckdldFN0YXRzOnFiLHNoaW1SZW1vdmVTdHJlYW06emIsc2hpbVNlbmRlckdldFN0YXRzOllifSk7ZnVuY3Rpb24gdHcodCl7aWYodHlwZW9mIHQ9PVwib2JqZWN0XCImJnQuUlRDUGVlckNvbm5lY3Rpb24pe2lmKFwiZ2V0TG9jYWxTdHJlYW1zXCJpbiB0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZXx8KHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldExvY2FsU3RyZWFtcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2NhbFN0cmVhbXN8fCh0aGlzLl9sb2NhbFN0cmVhbXM9W10pLHRoaXMuX2xvY2FsU3RyZWFtc30pLCEoXCJhZGRTdHJlYW1cImluIHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSl7bGV0IGU9dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s7dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKG4pe3ZhciBpO3RoaXMuX2xvY2FsU3RyZWFtc3x8KHRoaXMuX2xvY2FsU3RyZWFtcz1bXSksVyhpPXRoaXMuX2xvY2FsU3RyZWFtcykuY2FsbChpLG4pfHx0aGlzLl9sb2NhbFN0cmVhbXMucHVzaChuKSxuLmdldEF1ZGlvVHJhY2tzKCkuZm9yRWFjaChyPT5lLmNhbGwodGhpcyxyLG4pKSxuLmdldFZpZGVvVHJhY2tzKCkuZm9yRWFjaChyPT5lLmNhbGwodGhpcyxyLG4pKTt9LHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrPWZ1bmN0aW9uKG4pe2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KGk+MT9pLTE6MCksbz0xO288aTtvKyspcltvLTFdPWFyZ3VtZW50c1tvXTtyZXR1cm4gciYmci5mb3JFYWNoKHM9Pnt2YXIgYTt0aGlzLl9sb2NhbFN0cmVhbXM/VyhhPXRoaXMuX2xvY2FsU3RyZWFtcykuY2FsbChhLHMpfHx0aGlzLl9sb2NhbFN0cmVhbXMucHVzaChzKTp0aGlzLl9sb2NhbFN0cmVhbXM9W3NdO30pLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt9XCJyZW1vdmVTdHJlYW1cImluIHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlfHwodC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe3RoaXMuX2xvY2FsU3RyZWFtc3x8KHRoaXMuX2xvY2FsU3RyZWFtcz1bXSk7bGV0IG49dGhpcy5fbG9jYWxTdHJlYW1zLmluZGV4T2YoZSk7aWYobj09PS0xKXJldHVybjt0aGlzLl9sb2NhbFN0cmVhbXMuc3BsaWNlKG4sMSk7bGV0IGk9ZS5nZXRUcmFja3MoKTt0aGlzLmdldFNlbmRlcnMoKS5mb3JFYWNoKHI9PntXKGkpLmNhbGwoaSxyLnRyYWNrKSYmdGhpcy5yZW1vdmVUcmFjayhyKTt9KTt9KTt9fWZ1bmN0aW9uIGV3KHQpe2lmKHR5cGVvZiB0PT1cIm9iamVjdFwiJiZ0LlJUQ1BlZXJDb25uZWN0aW9uJiYoXCJnZXRSZW1vdGVTdHJlYW1zXCJpbiB0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZXx8KHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlbW90ZVN0cmVhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVtb3RlU3RyZWFtcz90aGlzLl9yZW1vdGVTdHJlYW1zOltdfSksIShcIm9uYWRkc3RyZWFtXCJpbiB0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsXCJvbmFkZHN0cmVhbVwiLHtnZXQoKXtyZXR1cm4gdGhpcy5fb25hZGRzdHJlYW19LHNldChuKXt0aGlzLl9vbmFkZHN0cmVhbSYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFkZHN0cmVhbVwiLHRoaXMuX29uYWRkc3RyZWFtKSx0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMuX29uYWRkc3RyZWFtcG9seSkpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImFkZHN0cmVhbVwiLHRoaXMuX29uYWRkc3RyZWFtPW4pLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsdGhpcy5fb25hZGRzdHJlYW1wb2x5PWk9PntpLnN0cmVhbXMuZm9yRWFjaChyPT57dmFyIG87aWYodGhpcy5fcmVtb3RlU3RyZWFtc3x8KHRoaXMuX3JlbW90ZVN0cmVhbXM9W10pLFcobz10aGlzLl9yZW1vdGVTdHJlYW1zKS5jYWxsKG8scikpcmV0dXJuO3RoaXMuX3JlbW90ZVN0cmVhbXMucHVzaChyKTtsZXQgcz1uZXcgRXZlbnQoXCJhZGRzdHJlYW1cIik7cy5zdHJlYW09cix0aGlzLmRpc3BhdGNoRXZlbnQocyk7fSk7fSk7fX0pO2xldCBlPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uO3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7bGV0IG49dGhpcztyZXR1cm4gdGhpcy5fb25hZGRzdHJlYW1wb2x5fHx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMuX29uYWRkc3RyZWFtcG9seT1mdW5jdGlvbihpKXtpLnN0cmVhbXMuZm9yRWFjaChyPT57aWYobi5fcmVtb3RlU3RyZWFtc3x8KG4uX3JlbW90ZVN0cmVhbXM9W10pLG4uX3JlbW90ZVN0cmVhbXMuaW5kZXhPZihyKT49MClyZXR1cm47bi5fcmVtb3RlU3RyZWFtcy5wdXNoKHIpO2xldCBvPW5ldyBFdmVudChcImFkZHN0cmVhbVwiKTtvLnN0cmVhbT1yLG4uZGlzcGF0Y2hFdmVudChvKTt9KTt9KSxlLmFwcGx5KG4sYXJndW1lbnRzKX07fX1mdW5jdGlvbiBudyh0KXtpZih0eXBlb2YgdCE9XCJvYmplY3RcInx8IXQuUlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuO2xldCBlPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLG49ZS5jcmVhdGVPZmZlcixpPWUuY3JlYXRlQW5zd2VyLHI9ZS5zZXRMb2NhbERlc2NyaXB0aW9uLG89ZS5zZXRSZW1vdGVEZXNjcmlwdGlvbixzPWUuYWRkSWNlQ2FuZGlkYXRlO2UuY3JlYXRlT2ZmZXI9ZnVuY3Rpb24oYyxkKXtsZXQgbD1hcmd1bWVudHMubGVuZ3RoPj0yP2FyZ3VtZW50c1syXTphcmd1bWVudHNbMF0sdT1uLmFwcGx5KHRoaXMsW2xdKTtyZXR1cm4gZD8odS50aGVuKGMsZCksai5yZXNvbHZlKCkpOnV9LGUuY3JlYXRlQW5zd2VyPWZ1bmN0aW9uKGMsZCl7bGV0IGw9YXJndW1lbnRzLmxlbmd0aD49Mj9hcmd1bWVudHNbMl06YXJndW1lbnRzWzBdLHU9aS5hcHBseSh0aGlzLFtsXSk7cmV0dXJuIGQ/KHUudGhlbihjLGQpLGoucmVzb2x2ZSgpKTp1fTtsZXQgYT1mdW5jdGlvbihjLGQsbCl7bGV0IHU9ci5hcHBseSh0aGlzLFtjXSk7cmV0dXJuIGw/KHUudGhlbihkLGwpLGoucmVzb2x2ZSgpKTp1fTtlLnNldExvY2FsRGVzY3JpcHRpb249YSxhPWZ1bmN0aW9uKGMsZCxsKXtsZXQgdT1vLmFwcGx5KHRoaXMsW2NdKTtyZXR1cm4gbD8odS50aGVuKGQsbCksai5yZXNvbHZlKCkpOnV9LGUuc2V0UmVtb3RlRGVzY3JpcHRpb249YSxhPWZ1bmN0aW9uKGMsZCxsKXtsZXQgdT1zLmFwcGx5KHRoaXMsW2NdKTtyZXR1cm4gbD8odS50aGVuKGQsbCksai5yZXNvbHZlKCkpOnV9LGUuYWRkSWNlQ2FuZGlkYXRlPWE7fWZ1bmN0aW9uIGl3KHQpe2xldCBlPXQmJnQubmF2aWdhdG9yO2lmKGUubWVkaWFEZXZpY2VzJiZlLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpe2xldCBuPWUubWVkaWFEZXZpY2VzLGk9bi5nZXRVc2VyTWVkaWEuYmluZChuKTtlLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9cj0+aShydyhyKSk7fSFlLmdldFVzZXJNZWRpYSYmZS5tZWRpYURldmljZXMmJmUubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSYmKGUuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKG4saSxyKXtlLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEobikudGhlbihpLHIpO30uYmluZChlKSk7fWZ1bmN0aW9uIHJ3KHQpe3JldHVybiB0JiZ0LnZpZGVvIT09dm9pZCAwP09iamVjdC5hc3NpZ24oe30sdCx7dmlkZW86R0EodC52aWRlbyl9KTp0fWZ1bmN0aW9uIG93KHQpe2lmKCF0LlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtsZXQgZT10LlJUQ1BlZXJDb25uZWN0aW9uO3QuUlRDUGVlckNvbm5lY3Rpb249ZnVuY3Rpb24obixpKXtpZihuJiZuLmljZVNlcnZlcnMpe2xldCByPVtdO2ZvcihsZXQgbz0wO288bi5pY2VTZXJ2ZXJzLmxlbmd0aDtvKyspe2xldCBzPW4uaWNlU2VydmVyc1tvXTshcy5oYXNPd25Qcm9wZXJ0eShcInVybHNcIikmJnMuaGFzT3duUHJvcGVydHkoXCJ1cmxcIik/KFBtKFwiUlRDSWNlU2VydmVyLnVybFwiLFwiUlRDSWNlU2VydmVyLnVybHNcIikscz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHMpKSxzLnVybHM9cy51cmwsZGVsZXRlIHMudXJsLHIucHVzaChzKSk6ci5wdXNoKG4uaWNlU2VydmVyc1tvXSk7fW4uaWNlU2VydmVycz1yO31yZXR1cm4gbmV3IGUobixpKX0sdC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsXCJnZW5lcmF0ZUNlcnRpZmljYXRlXCJpbiBlJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodC5SVENQZWVyQ29ubmVjdGlvbixcImdlbmVyYXRlQ2VydGlmaWNhdGVcIix7Z2V0OigpPT5lLmdlbmVyYXRlQ2VydGlmaWNhdGV9KTt9ZnVuY3Rpb24gc3codCl7dHlwZW9mIHQ9PVwib2JqZWN0XCImJnQuUlRDVHJhY2tFdmVudCYmXCJyZWNlaXZlclwiaW4gdC5SVENUcmFja0V2ZW50LnByb3RvdHlwZSYmIShcInRyYW5zY2VpdmVyXCJpbiB0LlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUsXCJ0cmFuc2NlaXZlclwiLHtnZXQoKXtyZXR1cm4ge3JlY2VpdmVyOnRoaXMucmVjZWl2ZXJ9fX0pO31mdW5jdGlvbiBhdyh0KXtsZXQgZT10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlcjt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlcj1mdW5jdGlvbihuKXtpZihuKXtuLm9mZmVyVG9SZWNlaXZlQXVkaW8hPT12b2lkIDAmJihuLm9mZmVyVG9SZWNlaXZlQXVkaW89ISFuLm9mZmVyVG9SZWNlaXZlQXVkaW8pO2xldCBpPXRoaXMuZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZChvPT5vLnJlY2VpdmVyLnRyYWNrLmtpbmQ9PT1cImF1ZGlvXCIpO24ub2ZmZXJUb1JlY2VpdmVBdWRpbz09PSExJiZpP2kuZGlyZWN0aW9uPT09XCJzZW5kcmVjdlwiP2kuc2V0RGlyZWN0aW9uP2kuc2V0RGlyZWN0aW9uKFwic2VuZG9ubHlcIik6aS5kaXJlY3Rpb249XCJzZW5kb25seVwiOmkuZGlyZWN0aW9uPT09XCJyZWN2b25seVwiJiYoaS5zZXREaXJlY3Rpb24/aS5zZXREaXJlY3Rpb24oXCJpbmFjdGl2ZVwiKTppLmRpcmVjdGlvbj1cImluYWN0aXZlXCIpOm4ub2ZmZXJUb1JlY2VpdmVBdWRpbyE9PSEwfHxpfHx0aGlzLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pLG4ub2ZmZXJUb1JlY2VpdmVWaWRlbyE9PXZvaWQgMCYmKG4ub2ZmZXJUb1JlY2VpdmVWaWRlbz0hIW4ub2ZmZXJUb1JlY2VpdmVWaWRlbyk7bGV0IHI9dGhpcy5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKG89Pm8ucmVjZWl2ZXIudHJhY2sua2luZD09PVwidmlkZW9cIik7bi5vZmZlclRvUmVjZWl2ZVZpZGVvPT09ITEmJnI/ci5kaXJlY3Rpb249PT1cInNlbmRyZWN2XCI/ci5zZXREaXJlY3Rpb24/ci5zZXREaXJlY3Rpb24oXCJzZW5kb25seVwiKTpyLmRpcmVjdGlvbj1cInNlbmRvbmx5XCI6ci5kaXJlY3Rpb249PT1cInJlY3Zvbmx5XCImJihyLnNldERpcmVjdGlvbj9yLnNldERpcmVjdGlvbihcImluYWN0aXZlXCIpOnIuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIik6bi5vZmZlclRvUmVjZWl2ZVZpZGVvIT09ITB8fHJ8fHRoaXMuYWRkVHJhbnNjZWl2ZXIoXCJ2aWRlb1wiLHtkaXJlY3Rpb246XCJyZWN2b25seVwifSk7fXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07fWZ1bmN0aW9uIGN3KHQpe3R5cGVvZiB0IT1cIm9iamVjdFwifHx0LkF1ZGlvQ29udGV4dHx8KHQuQXVkaW9Db250ZXh0PXQud2Via2l0QXVkaW9Db250ZXh0KTt9dmFyIElUPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHNoaW1BdWRpb0NvbnRleHQ6Y3csc2hpbUNhbGxiYWNrc0FQSTpudyxzaGltQ29uc3RyYWludHM6cncsc2hpbUNyZWF0ZU9mZmVyTGVnYWN5OmF3LHNoaW1HZXRVc2VyTWVkaWE6aXcsc2hpbUxvY2FsU3RyZWFtc0FQSTp0dyxzaGltUlRDSWNlU2VydmVyVXJsczpvdyxzaGltUmVtb3RlU3RyZWFtc0FQSTpldyxzaGltVHJhY2tFdmVudFRyYW5zY2VpdmVyOnN3fSksZHc9YFx0XG5cXHZcXGZcXHIgXFx4QTBcXHUxNjgwXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMEFcXHUyMDJGXFx1MjA1RlxcdTMwMDBcXHUyMDI4XFx1MjAyOVxcdUZFRkZgLHFVPWxhLHpVPW9pLGRFPWR3LHZUPW1lKFwiXCIucmVwbGFjZSksSlU9UmVnRXhwKFwiXltcIitkRStcIl0rXCIpLFhVPVJlZ0V4cChcIihefFteXCIrZEUrXCJdKVtcIitkRStcIl0rJFwiKSxRaD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49elUocVUoZSkpO3JldHVybiAxJnQmJihuPXZUKG4sSlUsXCJcIikpLDImdCYmKG49dlQobixYVSxcIiQxXCIpKSxufX0sUVU9e3N0YXJ0OlFoKDEpLGVuZDpRaCgyKSx0cmltOlFoKDMpfSxaVT10Yi5QUk9QRVIsJFU9U2UseVQ9ZHcsdDI9UVUudHJpbTt4dCh7dGFyZ2V0OlwiU3RyaW5nXCIscHJvdG86ITAsZm9yY2VkOmZ1bmN0aW9uKHQpe3JldHVybiAkVShmdW5jdGlvbigpe3JldHVybiAhIXlUW3RdKCl8fFwiXFx1MjAwQlxceDg1XFx1MTgwRVwiW3RdKCkhPT1cIlxcdTIwMEJcXHg4NVxcdTE4MEVcInx8WlUmJnlUW3RdLm5hbWUhPT10fSl9KFwidHJpbVwiKX0se3RyaW06ZnVuY3Rpb24oKXtyZXR1cm4gdDIodGhpcyl9fSk7dmFyIGUyPWJpKFwiU3RyaW5nXCIpLnRyaW0sbjI9aG4saTI9ZTIsWmg9U3RyaW5nLnByb3RvdHlwZSxyMj1mdW5jdGlvbih0KXt2YXIgZT10LnRyaW07cmV0dXJuIHR5cGVvZiB0PT1cInN0cmluZ1wifHx0PT09Wmh8fG4yKFpoLHQpJiZlPT09WmgudHJpbT9pMjplfSxybj1hZShyMiksbHc9e2V4cG9ydHM6e319OyhmdW5jdGlvbih0KXtsZXQgZT17Z2VuZXJhdGVJZGVudGlmaWVyOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLDEyKX19O2UubG9jYWxDTmFtZT1lLmdlbmVyYXRlSWRlbnRpZmllcigpLGUuc3BsaXRMaW5lcz1mdW5jdGlvbihuKXtyZXR1cm4gbi50cmltKCkuc3BsaXQoYFxuYCkubWFwKGk9PmkudHJpbSgpKX0sZS5zcGxpdFNlY3Rpb25zPWZ1bmN0aW9uKG4pe3JldHVybiBuLnNwbGl0KGBcbm09YCkubWFwKChpLHIpPT4ocj4wP1wibT1cIitpOmkpLnRyaW0oKStgXFxyXG5gKX0sZS5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbihuKXtsZXQgaT1lLnNwbGl0U2VjdGlvbnMobik7cmV0dXJuIGkmJmlbMF19LGUuZ2V0TWVkaWFTZWN0aW9ucz1mdW5jdGlvbihuKXtsZXQgaT1lLnNwbGl0U2VjdGlvbnMobik7cmV0dXJuIGkuc2hpZnQoKSxpfSxlLm1hdGNoUHJlZml4PWZ1bmN0aW9uKG4saSl7cmV0dXJuIGUuc3BsaXRMaW5lcyhuKS5maWx0ZXIocj0+ci5pbmRleE9mKGkpPT09MCl9LGUucGFyc2VDYW5kaWRhdGU9ZnVuY3Rpb24obil7bGV0IGk7aT1uLmluZGV4T2YoXCJhPWNhbmRpZGF0ZTpcIik9PT0wP24uc3Vic3RyaW5nKDEyKS5zcGxpdChcIiBcIik6bi5zdWJzdHJpbmcoMTApLnNwbGl0KFwiIFwiKTtsZXQgcj17Zm91bmRhdGlvbjppWzBdLGNvbXBvbmVudDp7MTpcInJ0cFwiLDI6XCJydGNwXCJ9W2lbMV1dfHxpWzFdLHByb3RvY29sOmlbMl0udG9Mb3dlckNhc2UoKSxwcmlvcml0eTpwYXJzZUludChpWzNdLDEwKSxpcDppWzRdLGFkZHJlc3M6aVs0XSxwb3J0OnBhcnNlSW50KGlbNV0sMTApLHR5cGU6aVs3XX07Zm9yKGxldCBvPTg7bzxpLmxlbmd0aDtvKz0yKXN3aXRjaChpW29dKXtjYXNlXCJyYWRkclwiOnIucmVsYXRlZEFkZHJlc3M9aVtvKzFdO2JyZWFrO2Nhc2VcInJwb3J0XCI6ci5yZWxhdGVkUG9ydD1wYXJzZUludChpW28rMV0sMTApO2JyZWFrO2Nhc2VcInRjcHR5cGVcIjpyLnRjcFR5cGU9aVtvKzFdO2JyZWFrO2Nhc2VcInVmcmFnXCI6ci51ZnJhZz1pW28rMV0sci51c2VybmFtZUZyYWdtZW50PWlbbysxXTticmVhaztkZWZhdWx0OnJbaVtvXV09PT12b2lkIDAmJihyW2lbb11dPWlbbysxXSk7fXJldHVybiByfSxlLndyaXRlQ2FuZGlkYXRlPWZ1bmN0aW9uKG4pe2xldCBpPVtdO2kucHVzaChuLmZvdW5kYXRpb24pO2xldCByPW4uY29tcG9uZW50O3I9PT1cInJ0cFwiP2kucHVzaCgxKTpyPT09XCJydGNwXCI/aS5wdXNoKDIpOmkucHVzaChyKSxpLnB1c2gobi5wcm90b2NvbC50b1VwcGVyQ2FzZSgpKSxpLnB1c2gobi5wcmlvcml0eSksaS5wdXNoKG4uYWRkcmVzc3x8bi5pcCksaS5wdXNoKG4ucG9ydCk7bGV0IG89bi50eXBlO3JldHVybiBpLnB1c2goXCJ0eXBcIiksaS5wdXNoKG8pLG8hPT1cImhvc3RcIiYmbi5yZWxhdGVkQWRkcmVzcyYmbi5yZWxhdGVkUG9ydCYmKGkucHVzaChcInJhZGRyXCIpLGkucHVzaChuLnJlbGF0ZWRBZGRyZXNzKSxpLnB1c2goXCJycG9ydFwiKSxpLnB1c2gobi5yZWxhdGVkUG9ydCkpLG4udGNwVHlwZSYmbi5wcm90b2NvbC50b0xvd2VyQ2FzZSgpPT09XCJ0Y3BcIiYmKGkucHVzaChcInRjcHR5cGVcIiksaS5wdXNoKG4udGNwVHlwZSkpLChuLnVzZXJuYW1lRnJhZ21lbnR8fG4udWZyYWcpJiYoaS5wdXNoKFwidWZyYWdcIiksaS5wdXNoKG4udXNlcm5hbWVGcmFnbWVudHx8bi51ZnJhZykpLFwiY2FuZGlkYXRlOlwiK2kuam9pbihcIiBcIil9LGUucGFyc2VJY2VPcHRpb25zPWZ1bmN0aW9uKG4pe3JldHVybiBuLnN1YnN0cmluZygxNCkuc3BsaXQoXCIgXCIpfSxlLnBhcnNlUnRwTWFwPWZ1bmN0aW9uKG4pe2xldCBpPW4uc3Vic3RyaW5nKDkpLnNwbGl0KFwiIFwiKSxyPXtwYXlsb2FkVHlwZTpwYXJzZUludChpLnNoaWZ0KCksMTApfTtyZXR1cm4gaT1pWzBdLnNwbGl0KFwiL1wiKSxyLm5hbWU9aVswXSxyLmNsb2NrUmF0ZT1wYXJzZUludChpWzFdLDEwKSxyLmNoYW5uZWxzPWkubGVuZ3RoPT09Mz9wYXJzZUludChpWzJdLDEwKToxLHIubnVtQ2hhbm5lbHM9ci5jaGFubmVscyxyfSxlLndyaXRlUnRwTWFwPWZ1bmN0aW9uKG4pe2xldCBpPW4ucGF5bG9hZFR5cGU7bi5wcmVmZXJyZWRQYXlsb2FkVHlwZSE9PXZvaWQgMCYmKGk9bi5wcmVmZXJyZWRQYXlsb2FkVHlwZSk7bGV0IHI9bi5jaGFubmVsc3x8bi5udW1DaGFubmVsc3x8MTtyZXR1cm4gXCJhPXJ0cG1hcDpcIitpK1wiIFwiK24ubmFtZStcIi9cIituLmNsb2NrUmF0ZSsociE9PTE/XCIvXCIrcjpcIlwiKStgXFxyXG5gfSxlLnBhcnNlRXh0bWFwPWZ1bmN0aW9uKG4pe2xldCBpPW4uc3Vic3RyaW5nKDkpLnNwbGl0KFwiIFwiKTtyZXR1cm4ge2lkOnBhcnNlSW50KGlbMF0sMTApLGRpcmVjdGlvbjppWzBdLmluZGV4T2YoXCIvXCIpPjA/aVswXS5zcGxpdChcIi9cIilbMV06XCJzZW5kcmVjdlwiLHVyaTppWzFdLGF0dHJpYnV0ZXM6aS5zbGljZSgyKS5qb2luKFwiIFwiKX19LGUud3JpdGVFeHRtYXA9ZnVuY3Rpb24obil7cmV0dXJuIFwiYT1leHRtYXA6XCIrKG4uaWR8fG4ucHJlZmVycmVkSWQpKyhuLmRpcmVjdGlvbiYmbi5kaXJlY3Rpb24hPT1cInNlbmRyZWN2XCI/XCIvXCIrbi5kaXJlY3Rpb246XCJcIikrXCIgXCIrbi51cmkrKG4uYXR0cmlidXRlcz9cIiBcIituLmF0dHJpYnV0ZXM6XCJcIikrYFxcclxuYH0sZS5wYXJzZUZtdHA9ZnVuY3Rpb24obil7bGV0IGk9e30scixvPW4uc3Vic3RyaW5nKG4uaW5kZXhPZihcIiBcIikrMSkuc3BsaXQoXCI7XCIpO2ZvcihsZXQgcz0wO3M8by5sZW5ndGg7cysrKXI9b1tzXS50cmltKCkuc3BsaXQoXCI9XCIpLGlbclswXS50cmltKCldPXJbMV07cmV0dXJuIGl9LGUud3JpdGVGbXRwPWZ1bmN0aW9uKG4pe2xldCBpPVwiXCIscj1uLnBheWxvYWRUeXBlO2lmKG4ucHJlZmVycmVkUGF5bG9hZFR5cGUhPT12b2lkIDAmJihyPW4ucHJlZmVycmVkUGF5bG9hZFR5cGUpLG4ucGFyYW1ldGVycyYmT2JqZWN0LmtleXMobi5wYXJhbWV0ZXJzKS5sZW5ndGgpe2xldCBvPVtdO09iamVjdC5rZXlzKG4ucGFyYW1ldGVycykuZm9yRWFjaChzPT57bi5wYXJhbWV0ZXJzW3NdIT09dm9pZCAwP28ucHVzaChzK1wiPVwiK24ucGFyYW1ldGVyc1tzXSk6by5wdXNoKHMpO30pLGkrPVwiYT1mbXRwOlwiK3IrXCIgXCIrby5qb2luKFwiO1wiKStgXFxyXG5gO31yZXR1cm4gaX0sZS5wYXJzZVJ0Y3BGYj1mdW5jdGlvbihuKXtsZXQgaT1uLnN1YnN0cmluZyhuLmluZGV4T2YoXCIgXCIpKzEpLnNwbGl0KFwiIFwiKTtyZXR1cm4ge3R5cGU6aS5zaGlmdCgpLHBhcmFtZXRlcjppLmpvaW4oXCIgXCIpfX0sZS53cml0ZVJ0Y3BGYj1mdW5jdGlvbihuKXtsZXQgaT1cIlwiLHI9bi5wYXlsb2FkVHlwZTtyZXR1cm4gbi5wcmVmZXJyZWRQYXlsb2FkVHlwZSE9PXZvaWQgMCYmKHI9bi5wcmVmZXJyZWRQYXlsb2FkVHlwZSksbi5ydGNwRmVlZGJhY2smJm4ucnRjcEZlZWRiYWNrLmxlbmd0aCYmbi5ydGNwRmVlZGJhY2suZm9yRWFjaChvPT57aSs9XCJhPXJ0Y3AtZmI6XCIrcitcIiBcIitvLnR5cGUrKG8ucGFyYW1ldGVyJiZvLnBhcmFtZXRlci5sZW5ndGg/XCIgXCIrby5wYXJhbWV0ZXI6XCJcIikrYFxcclxuYDt9KSxpfSxlLnBhcnNlU3NyY01lZGlhPWZ1bmN0aW9uKG4pe2xldCBpPW4uaW5kZXhPZihcIiBcIikscj17c3NyYzpwYXJzZUludChuLnN1YnN0cmluZyg3LGkpLDEwKX0sbz1uLmluZGV4T2YoXCI6XCIsaSk7cmV0dXJuIG8+LTE/KHIuYXR0cmlidXRlPW4uc3Vic3RyaW5nKGkrMSxvKSxyLnZhbHVlPW4uc3Vic3RyaW5nKG8rMSkpOnIuYXR0cmlidXRlPW4uc3Vic3RyaW5nKGkrMSkscn0sZS5wYXJzZVNzcmNHcm91cD1mdW5jdGlvbihuKXtsZXQgaT1uLnN1YnN0cmluZygxMykuc3BsaXQoXCIgXCIpO3JldHVybiB7c2VtYW50aWNzOmkuc2hpZnQoKSxzc3JjczppLm1hcChyPT5wYXJzZUludChyLDEwKSl9fSxlLmdldE1pZD1mdW5jdGlvbihuKXtsZXQgaT1lLm1hdGNoUHJlZml4KG4sXCJhPW1pZDpcIilbMF07aWYoaSlyZXR1cm4gaS5zdWJzdHJpbmcoNil9LGUucGFyc2VGaW5nZXJwcmludD1mdW5jdGlvbihuKXtsZXQgaT1uLnN1YnN0cmluZygxNCkuc3BsaXQoXCIgXCIpO3JldHVybiB7YWxnb3JpdGhtOmlbMF0udG9Mb3dlckNhc2UoKSx2YWx1ZTppWzFdLnRvVXBwZXJDYXNlKCl9fSxlLmdldER0bHNQYXJhbWV0ZXJzPWZ1bmN0aW9uKG4saSl7cmV0dXJuIHtyb2xlOlwiYXV0b1wiLGZpbmdlcnByaW50czplLm1hdGNoUHJlZml4KG4raSxcImE9ZmluZ2VycHJpbnQ6XCIpLm1hcChlLnBhcnNlRmluZ2VycHJpbnQpfX0sZS53cml0ZUR0bHNQYXJhbWV0ZXJzPWZ1bmN0aW9uKG4saSl7bGV0IHI9XCJhPXNldHVwOlwiK2krYFxcclxuYDtyZXR1cm4gbi5maW5nZXJwcmludHMuZm9yRWFjaChvPT57cis9XCJhPWZpbmdlcnByaW50OlwiK28uYWxnb3JpdGhtK1wiIFwiK28udmFsdWUrYFxcclxuYDt9KSxyfSxlLnBhcnNlQ3J5cHRvTGluZT1mdW5jdGlvbihuKXtsZXQgaT1uLnN1YnN0cmluZyg5KS5zcGxpdChcIiBcIik7cmV0dXJuIHt0YWc6cGFyc2VJbnQoaVswXSwxMCksY3J5cHRvU3VpdGU6aVsxXSxrZXlQYXJhbXM6aVsyXSxzZXNzaW9uUGFyYW1zOmkuc2xpY2UoMyl9fSxlLndyaXRlQ3J5cHRvTGluZT1mdW5jdGlvbihuKXtyZXR1cm4gXCJhPWNyeXB0bzpcIituLnRhZytcIiBcIituLmNyeXB0b1N1aXRlK1wiIFwiKyh0eXBlb2Ygbi5rZXlQYXJhbXM9PVwib2JqZWN0XCI/ZS53cml0ZUNyeXB0b0tleVBhcmFtcyhuLmtleVBhcmFtcyk6bi5rZXlQYXJhbXMpKyhuLnNlc3Npb25QYXJhbXM/XCIgXCIrbi5zZXNzaW9uUGFyYW1zLmpvaW4oXCIgXCIpOlwiXCIpK2BcXHJcbmB9LGUucGFyc2VDcnlwdG9LZXlQYXJhbXM9ZnVuY3Rpb24obil7aWYobi5pbmRleE9mKFwiaW5saW5lOlwiKSE9PTApcmV0dXJuIG51bGw7bGV0IGk9bi5zdWJzdHJpbmcoNykuc3BsaXQoXCJ8XCIpO3JldHVybiB7a2V5TWV0aG9kOlwiaW5saW5lXCIsa2V5U2FsdDppWzBdLGxpZmVUaW1lOmlbMV0sbWtpVmFsdWU6aVsyXT9pWzJdLnNwbGl0KFwiOlwiKVswXTp2b2lkIDAsbWtpTGVuZ3RoOmlbMl0/aVsyXS5zcGxpdChcIjpcIilbMV06dm9pZCAwfX0sZS53cml0ZUNyeXB0b0tleVBhcmFtcz1mdW5jdGlvbihuKXtyZXR1cm4gbi5rZXlNZXRob2QrXCI6XCIrbi5rZXlTYWx0KyhuLmxpZmVUaW1lP1wifFwiK24ubGlmZVRpbWU6XCJcIikrKG4ubWtpVmFsdWUmJm4ubWtpTGVuZ3RoP1wifFwiK24ubWtpVmFsdWUrXCI6XCIrbi5ta2lMZW5ndGg6XCJcIil9LGUuZ2V0Q3J5cHRvUGFyYW1ldGVycz1mdW5jdGlvbihuLGkpe3JldHVybiBlLm1hdGNoUHJlZml4KG4raSxcImE9Y3J5cHRvOlwiKS5tYXAoZS5wYXJzZUNyeXB0b0xpbmUpfSxlLmdldEljZVBhcmFtZXRlcnM9ZnVuY3Rpb24obixpKXtsZXQgcj1lLm1hdGNoUHJlZml4KG4raSxcImE9aWNlLXVmcmFnOlwiKVswXSxvPWUubWF0Y2hQcmVmaXgobitpLFwiYT1pY2UtcHdkOlwiKVswXTtyZXR1cm4gciYmbz97dXNlcm5hbWVGcmFnbWVudDpyLnN1YnN0cmluZygxMikscGFzc3dvcmQ6by5zdWJzdHJpbmcoMTApfTpudWxsfSxlLndyaXRlSWNlUGFyYW1ldGVycz1mdW5jdGlvbihuKXtsZXQgaT1cImE9aWNlLXVmcmFnOlwiK24udXNlcm5hbWVGcmFnbWVudCtgXFxyXG5hPWljZS1wd2Q6YCtuLnBhc3N3b3JkK2BcXHJcbmA7cmV0dXJuIG4uaWNlTGl0ZSYmKGkrPWBhPWljZS1saXRlXFxyXG5gKSxpfSxlLnBhcnNlUnRwUGFyYW1ldGVycz1mdW5jdGlvbihuKXtsZXQgaT17Y29kZWNzOltdLGhlYWRlckV4dGVuc2lvbnM6W10sZmVjTWVjaGFuaXNtczpbXSxydGNwOltdfSxyPWUuc3BsaXRMaW5lcyhuKVswXS5zcGxpdChcIiBcIik7aS5wcm9maWxlPXJbMl07Zm9yKGxldCBzPTM7czxyLmxlbmd0aDtzKyspe2xldCBhPXJbc10sYz1lLm1hdGNoUHJlZml4KG4sXCJhPXJ0cG1hcDpcIithK1wiIFwiKVswXTtpZihjKXtsZXQgZD1lLnBhcnNlUnRwTWFwKGMpLGw9ZS5tYXRjaFByZWZpeChuLFwiYT1mbXRwOlwiK2ErXCIgXCIpO3N3aXRjaChkLnBhcmFtZXRlcnM9bC5sZW5ndGg/ZS5wYXJzZUZtdHAobFswXSk6e30sZC5ydGNwRmVlZGJhY2s9ZS5tYXRjaFByZWZpeChuLFwiYT1ydGNwLWZiOlwiK2ErXCIgXCIpLm1hcChlLnBhcnNlUnRjcEZiKSxpLmNvZGVjcy5wdXNoKGQpLGQubmFtZS50b1VwcGVyQ2FzZSgpKXtjYXNlXCJSRURcIjpjYXNlXCJVTFBGRUNcIjppLmZlY01lY2hhbmlzbXMucHVzaChkLm5hbWUudG9VcHBlckNhc2UoKSk7fX19ZS5tYXRjaFByZWZpeChuLFwiYT1leHRtYXA6XCIpLmZvckVhY2gocz0+e2kuaGVhZGVyRXh0ZW5zaW9ucy5wdXNoKGUucGFyc2VFeHRtYXAocykpO30pO2xldCBvPWUubWF0Y2hQcmVmaXgobixcImE9cnRjcC1mYjoqIFwiKS5tYXAoZS5wYXJzZVJ0Y3BGYik7cmV0dXJuIGkuY29kZWNzLmZvckVhY2gocz0+e28uZm9yRWFjaChhPT57cy5ydGNwRmVlZGJhY2suZmluZChjPT5jLnR5cGU9PT1hLnR5cGUmJmMucGFyYW1ldGVyPT09YS5wYXJhbWV0ZXIpfHxzLnJ0Y3BGZWVkYmFjay5wdXNoKGEpO30pO30pLGl9LGUud3JpdGVSdHBEZXNjcmlwdGlvbj1mdW5jdGlvbihuLGkpe2xldCByPVwiXCI7cis9XCJtPVwiK24rXCIgXCIscis9aS5jb2RlY3MubGVuZ3RoPjA/XCI5XCI6XCIwXCIscis9XCIgXCIrKGkucHJvZmlsZXx8XCJVRFAvVExTL1JUUC9TQVZQRlwiKStcIiBcIixyKz1pLmNvZGVjcy5tYXAocz0+cy5wcmVmZXJyZWRQYXlsb2FkVHlwZSE9PXZvaWQgMD9zLnByZWZlcnJlZFBheWxvYWRUeXBlOnMucGF5bG9hZFR5cGUpLmpvaW4oXCIgXCIpK2BcXHJcbmAscis9YGM9SU4gSVA0IDAuMC4wLjBcXHJcbmAscis9YGE9cnRjcDo5IElOIElQNCAwLjAuMC4wXFxyXG5gLGkuY29kZWNzLmZvckVhY2gocz0+e3IrPWUud3JpdGVSdHBNYXAocykscis9ZS53cml0ZUZtdHAocykscis9ZS53cml0ZVJ0Y3BGYihzKTt9KTtsZXQgbz0wO3JldHVybiBpLmNvZGVjcy5mb3JFYWNoKHM9PntzLm1heHB0aW1lPm8mJihvPXMubWF4cHRpbWUpO30pLG8+MCYmKHIrPVwiYT1tYXhwdGltZTpcIitvK2BcXHJcbmApLGkuaGVhZGVyRXh0ZW5zaW9ucyYmaS5oZWFkZXJFeHRlbnNpb25zLmZvckVhY2gocz0+e3IrPWUud3JpdGVFeHRtYXAocyk7fSkscn0sZS5wYXJzZVJ0cEVuY29kaW5nUGFyYW1ldGVycz1mdW5jdGlvbihuKXtsZXQgaT1bXSxyPWUucGFyc2VSdHBQYXJhbWV0ZXJzKG4pLG89ci5mZWNNZWNoYW5pc21zLmluZGV4T2YoXCJSRURcIikhPT0tMSxzPXIuZmVjTWVjaGFuaXNtcy5pbmRleE9mKFwiVUxQRkVDXCIpIT09LTEsYT1lLm1hdGNoUHJlZml4KG4sXCJhPXNzcmM6XCIpLm1hcChoPT5lLnBhcnNlU3NyY01lZGlhKGgpKS5maWx0ZXIoaD0+aC5hdHRyaWJ1dGU9PT1cImNuYW1lXCIpLGM9YS5sZW5ndGg+MCYmYVswXS5zc3JjLGQsbD1lLm1hdGNoUHJlZml4KG4sXCJhPXNzcmMtZ3JvdXA6RklEXCIpLm1hcChoPT5oLnN1YnN0cmluZygxNykuc3BsaXQoXCIgXCIpLm1hcChwPT5wYXJzZUludChwLDEwKSkpO2wubGVuZ3RoPjAmJmxbMF0ubGVuZ3RoPjEmJmxbMF1bMF09PT1jJiYoZD1sWzBdWzFdKSxyLmNvZGVjcy5mb3JFYWNoKGg9PntpZihoLm5hbWUudG9VcHBlckNhc2UoKT09PVwiUlRYXCImJmgucGFyYW1ldGVycy5hcHQpe2xldCBwPXtzc3JjOmMsY29kZWNQYXlsb2FkVHlwZTpwYXJzZUludChoLnBhcmFtZXRlcnMuYXB0LDEwKX07YyYmZCYmKHAucnR4PXtzc3JjOmR9KSxpLnB1c2gocCksbyYmKHA9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwKSkscC5mZWM9e3NzcmM6YyxtZWNoYW5pc206cz9cInJlZCt1bHBmZWNcIjpcInJlZFwifSxpLnB1c2gocCkpO319KSxpLmxlbmd0aD09PTAmJmMmJmkucHVzaCh7c3NyYzpjfSk7bGV0IHU9ZS5tYXRjaFByZWZpeChuLFwiYj1cIik7cmV0dXJuIHUubGVuZ3RoJiYodT11WzBdLmluZGV4T2YoXCJiPVRJQVM6XCIpPT09MD9wYXJzZUludCh1WzBdLnN1YnN0cmluZyg3KSwxMCk6dVswXS5pbmRleE9mKFwiYj1BUzpcIik9PT0wPzFlMypwYXJzZUludCh1WzBdLnN1YnN0cmluZyg1KSwxMCkqLjk1LTE2ZTM6dm9pZCAwLGkuZm9yRWFjaChoPT57aC5tYXhCaXRyYXRlPXU7fSkpLGl9LGUucGFyc2VSdGNwUGFyYW1ldGVycz1mdW5jdGlvbihuKXtsZXQgaT17fSxyPWUubWF0Y2hQcmVmaXgobixcImE9c3NyYzpcIikubWFwKGE9PmUucGFyc2VTc3JjTWVkaWEoYSkpLmZpbHRlcihhPT5hLmF0dHJpYnV0ZT09PVwiY25hbWVcIilbMF07ciYmKGkuY25hbWU9ci52YWx1ZSxpLnNzcmM9ci5zc3JjKTtsZXQgbz1lLm1hdGNoUHJlZml4KG4sXCJhPXJ0Y3AtcnNpemVcIik7aS5yZWR1Y2VkU2l6ZT1vLmxlbmd0aD4wLGkuY29tcG91bmQ9by5sZW5ndGg9PT0wO2xldCBzPWUubWF0Y2hQcmVmaXgobixcImE9cnRjcC1tdXhcIik7cmV0dXJuIGkubXV4PXMubGVuZ3RoPjAsaX0sZS53cml0ZVJ0Y3BQYXJhbWV0ZXJzPWZ1bmN0aW9uKG4pe2xldCBpPVwiXCI7cmV0dXJuIG4ucmVkdWNlZFNpemUmJihpKz1gYT1ydGNwLXJzaXplXFxyXG5gKSxuLm11eCYmKGkrPWBhPXJ0Y3AtbXV4XFxyXG5gKSxuLnNzcmMhPT12b2lkIDAmJm4uY25hbWUmJihpKz1cImE9c3NyYzpcIituLnNzcmMrXCIgY25hbWU6XCIrbi5jbmFtZStgXFxyXG5gKSxpfSxlLnBhcnNlTXNpZD1mdW5jdGlvbihuKXtsZXQgaSxyPWUubWF0Y2hQcmVmaXgobixcImE9bXNpZDpcIik7aWYoci5sZW5ndGg9PT0xKXJldHVybiBpPXJbMF0uc3Vic3RyaW5nKDcpLnNwbGl0KFwiIFwiKSx7c3RyZWFtOmlbMF0sdHJhY2s6aVsxXX07bGV0IG89ZS5tYXRjaFByZWZpeChuLFwiYT1zc3JjOlwiKS5tYXAocz0+ZS5wYXJzZVNzcmNNZWRpYShzKSkuZmlsdGVyKHM9PnMuYXR0cmlidXRlPT09XCJtc2lkXCIpO3JldHVybiBvLmxlbmd0aD4wPyhpPW9bMF0udmFsdWUuc3BsaXQoXCIgXCIpLHtzdHJlYW06aVswXSx0cmFjazppWzFdfSk6dm9pZCAwfSxlLnBhcnNlU2N0cERlc2NyaXB0aW9uPWZ1bmN0aW9uKG4pe2xldCBpPWUucGFyc2VNTGluZShuKSxyPWUubWF0Y2hQcmVmaXgobixcImE9bWF4LW1lc3NhZ2Utc2l6ZTpcIiksbztyLmxlbmd0aD4wJiYobz1wYXJzZUludChyWzBdLnN1YnN0cmluZygxOSksMTApKSxpc05hTihvKSYmKG89NjU1MzYpO2xldCBzPWUubWF0Y2hQcmVmaXgobixcImE9c2N0cC1wb3J0OlwiKTtpZihzLmxlbmd0aD4wKXJldHVybiB7cG9ydDpwYXJzZUludChzWzBdLnN1YnN0cmluZygxMiksMTApLHByb3RvY29sOmkuZm10LG1heE1lc3NhZ2VTaXplOm99O2xldCBhPWUubWF0Y2hQcmVmaXgobixcImE9c2N0cG1hcDpcIik7aWYoYS5sZW5ndGg+MCl7bGV0IGM9YVswXS5zdWJzdHJpbmcoMTApLnNwbGl0KFwiIFwiKTtyZXR1cm4ge3BvcnQ6cGFyc2VJbnQoY1swXSwxMCkscHJvdG9jb2w6Y1sxXSxtYXhNZXNzYWdlU2l6ZTpvfX19LGUud3JpdGVTY3RwRGVzY3JpcHRpb249ZnVuY3Rpb24obixpKXtsZXQgcj1bXTtyZXR1cm4gcj1uLnByb3RvY29sIT09XCJEVExTL1NDVFBcIj9bXCJtPVwiK24ua2luZCtcIiA5IFwiK24ucHJvdG9jb2wrXCIgXCIraS5wcm90b2NvbCtgXFxyXG5gLGBjPUlOIElQNCAwLjAuMC4wXFxyXG5gLFwiYT1zY3RwLXBvcnQ6XCIraS5wb3J0K2BcXHJcbmBdOltcIm09XCIrbi5raW5kK1wiIDkgXCIrbi5wcm90b2NvbCtcIiBcIitpLnBvcnQrYFxcclxuYCxgYz1JTiBJUDQgMC4wLjAuMFxcclxuYCxcImE9c2N0cG1hcDpcIitpLnBvcnQrXCIgXCIraS5wcm90b2NvbCtgIDY1NTM1XFxyXG5gXSxpLm1heE1lc3NhZ2VTaXplIT09dm9pZCAwJiZyLnB1c2goXCJhPW1heC1tZXNzYWdlLXNpemU6XCIraS5tYXhNZXNzYWdlU2l6ZStgXFxyXG5gKSxyLmpvaW4oXCJcIil9LGUuZ2VuZXJhdGVTZXNzaW9uSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygpLnN1YnN0cigyLDIyKX0sZS53cml0ZVNlc3Npb25Cb2lsZXJwbGF0ZT1mdW5jdGlvbihuLGkscil7bGV0IG8scz1pIT09dm9pZCAwP2k6MjtyZXR1cm4gbz1ufHxlLmdlbmVyYXRlU2Vzc2lvbklkKCksYHY9MFxcclxubz1gKyhyfHxcInRoaXNpc2FkYXB0ZXJvcnRjXCIpK1wiIFwiK28rXCIgXCIrcytgIElOIElQNCAxMjcuMC4wLjFcXHJcbnM9LVxcclxudD0wIDBcXHJcbmB9LGUuZ2V0RGlyZWN0aW9uPWZ1bmN0aW9uKG4saSl7bGV0IHI9ZS5zcGxpdExpbmVzKG4pO2ZvcihsZXQgbz0wO288ci5sZW5ndGg7bysrKXN3aXRjaChyW29dKXtjYXNlXCJhPXNlbmRyZWN2XCI6Y2FzZVwiYT1zZW5kb25seVwiOmNhc2VcImE9cmVjdm9ubHlcIjpjYXNlXCJhPWluYWN0aXZlXCI6cmV0dXJuIHJbb10uc3Vic3RyaW5nKDIpfXJldHVybiBpP2UuZ2V0RGlyZWN0aW9uKGkpOlwic2VuZHJlY3ZcIn0sZS5nZXRLaW5kPWZ1bmN0aW9uKG4pe3JldHVybiBlLnNwbGl0TGluZXMobilbMF0uc3BsaXQoXCIgXCIpWzBdLnN1YnN0cmluZygyKX0sZS5pc1JlamVjdGVkPWZ1bmN0aW9uKG4pe3JldHVybiBuLnNwbGl0KFwiIFwiLDIpWzFdPT09XCIwXCJ9LGUucGFyc2VNTGluZT1mdW5jdGlvbihuKXtsZXQgaT1lLnNwbGl0TGluZXMobilbMF0uc3Vic3RyaW5nKDIpLnNwbGl0KFwiIFwiKTtyZXR1cm4ge2tpbmQ6aVswXSxwb3J0OnBhcnNlSW50KGlbMV0sMTApLHByb3RvY29sOmlbMl0sZm10Omkuc2xpY2UoMykuam9pbihcIiBcIil9fSxlLnBhcnNlT0xpbmU9ZnVuY3Rpb24obil7bGV0IGk9ZS5tYXRjaFByZWZpeChuLFwibz1cIilbMF0uc3Vic3RyaW5nKDIpLnNwbGl0KFwiIFwiKTtyZXR1cm4ge3VzZXJuYW1lOmlbMF0sc2Vzc2lvbklkOmlbMV0sc2Vzc2lvblZlcnNpb246cGFyc2VJbnQoaVsyXSwxMCksbmV0VHlwZTppWzNdLGFkZHJlc3NUeXBlOmlbNF0sYWRkcmVzczppWzVdfX0sZS5pc1ZhbGlkU0RQPWZ1bmN0aW9uKG4pe2lmKHR5cGVvZiBuIT1cInN0cmluZ1wifHxuLmxlbmd0aD09PTApcmV0dXJuICExO2xldCBpPWUuc3BsaXRMaW5lcyhuKTtmb3IobGV0IHI9MDtyPGkubGVuZ3RoO3IrKylpZihpW3JdLmxlbmd0aDwyfHxpW3JdLmNoYXJBdCgxKSE9PVwiPVwiKXJldHVybiAhMTtyZXR1cm4gITB9LHQuZXhwb3J0cz1lO30pKGx3KTt2YXIgdXc9bHcuZXhwb3J0cyxCcz1hZSh1dyksbzI9eU4oe19fcHJvdG9fXzpudWxsLGRlZmF1bHQ6QnN9LFt1d10pO2Z1bmN0aW9uIGRsKHQpe2lmKCF0LlJUQ0ljZUNhbmRpZGF0ZXx8dC5SVENJY2VDYW5kaWRhdGUmJlwiZm91bmRhdGlvblwiaW4gdC5SVENJY2VDYW5kaWRhdGUucHJvdG90eXBlKXJldHVybjtsZXQgZT10LlJUQ0ljZUNhbmRpZGF0ZTt0LlJUQ0ljZUNhbmRpZGF0ZT1mdW5jdGlvbihuKXtpZih0eXBlb2Ygbj09XCJvYmplY3RcIiYmbi5jYW5kaWRhdGUmJm4uY2FuZGlkYXRlLmluZGV4T2YoXCJhPVwiKT09PTAmJigobj1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG4pKSkuY2FuZGlkYXRlPW4uY2FuZGlkYXRlLnN1YnN0cigyKSksbi5jYW5kaWRhdGUmJm4uY2FuZGlkYXRlLmxlbmd0aCl7bGV0IGk9bmV3IGUobikscj1Ccy5wYXJzZUNhbmRpZGF0ZShuLmNhbmRpZGF0ZSksbz1PYmplY3QuYXNzaWduKGkscik7cmV0dXJuIG8udG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHtjYW5kaWRhdGU6by5jYW5kaWRhdGUsc2RwTWlkOm8uc2RwTWlkLHNkcE1MaW5lSW5kZXg6by5zZHBNTGluZUluZGV4LHVzZXJuYW1lRnJhZ21lbnQ6by51c2VybmFtZUZyYWdtZW50fX0sb31yZXR1cm4gbmV3IGUobil9LHQuUlRDSWNlQ2FuZGlkYXRlLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0cyh0LFwiaWNlY2FuZGlkYXRlXCIsbj0+KG4uY2FuZGlkYXRlJiZPYmplY3QuZGVmaW5lUHJvcGVydHkobixcImNhbmRpZGF0ZVwiLHt2YWx1ZTpuZXcgdC5SVENJY2VDYW5kaWRhdGUobi5jYW5kaWRhdGUpLHdyaXRhYmxlOlwiZmFsc2VcIn0pLG4pKTt9ZnVuY3Rpb24gbEUodCl7IXQuUlRDSWNlQ2FuZGlkYXRlfHx0LlJUQ0ljZUNhbmRpZGF0ZSYmXCJyZWxheVByb3RvY29sXCJpbiB0LlJUQ0ljZUNhbmRpZGF0ZS5wcm90b3R5cGV8fHRzKHQsXCJpY2VjYW5kaWRhdGVcIixlPT57aWYoZS5jYW5kaWRhdGUpe2xldCBuPUJzLnBhcnNlQ2FuZGlkYXRlKGUuY2FuZGlkYXRlLmNhbmRpZGF0ZSk7bi50eXBlPT09XCJyZWxheVwiJiYoZS5jYW5kaWRhdGUucmVsYXlQcm90b2NvbD17MDpcInRsc1wiLDE6XCJ0Y3BcIiwyOlwidWRwXCJ9W24ucHJpb3JpdHk+PjI0XSk7fXJldHVybiBlfSk7fWZ1bmN0aW9uIGxsKHQsZSl7aWYoIXQuUlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuO1wic2N0cFwiaW4gdC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGV8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcInNjdHBcIix7Z2V0KCl7cmV0dXJuIHRoaXMuX3NjdHA9PT12b2lkIDA/bnVsbDp0aGlzLl9zY3RwfX0pO2xldCBuPWZ1bmN0aW9uKGEpe2lmKCFhfHwhYS5zZHApcmV0dXJuICExO2xldCBjPUJzLnNwbGl0U2VjdGlvbnMoYS5zZHApO3JldHVybiBjLnNoaWZ0KCksYy5zb21lKGQ9PntsZXQgbD1Ccy5wYXJzZU1MaW5lKGQpO3JldHVybiBsJiZsLmtpbmQ9PT1cImFwcGxpY2F0aW9uXCImJmwucHJvdG9jb2wuaW5kZXhPZihcIlNDVFBcIikhPT0tMX0pfSxpPWZ1bmN0aW9uKGEpe2xldCBjPWEuc2RwLm1hdGNoKC9tb3ppbGxhLi4uVEhJU19JU19TRFBBUlRBLShcXGQrKS8pO2lmKGM9PT1udWxsfHxjLmxlbmd0aDwyKXJldHVybiAtMTtsZXQgZD1wYXJzZUludChjWzFdLDEwKTtyZXR1cm4gZCE9ZD8tMTpkfSxyPWZ1bmN0aW9uKGEpe2xldCBjPTY1NTM2O3JldHVybiBlLmJyb3dzZXI9PT1cImZpcmVmb3hcIiYmKGM9ZS52ZXJzaW9uPDU3P2E9PT0tMT8xNjM4NDoyMTQ3NDgzNjM3OmUudmVyc2lvbjw2MD9lLnZlcnNpb249PT01Nz82NTUzNTo2NTUzNjoyMTQ3NDgzNjM3KSxjfSxvPWZ1bmN0aW9uKGEsYyl7bGV0IGQ9NjU1MzY7ZS5icm93c2VyPT09XCJmaXJlZm94XCImJmUudmVyc2lvbj09PTU3JiYoZD02NTUzNSk7bGV0IGw9QnMubWF0Y2hQcmVmaXgoYS5zZHAsXCJhPW1heC1tZXNzYWdlLXNpemU6XCIpO3JldHVybiBsLmxlbmd0aD4wP2Q9cGFyc2VJbnQobFswXS5zdWJzdHIoMTkpLDEwKTplLmJyb3dzZXI9PT1cImZpcmVmb3hcIiYmYyE9PS0xJiYoZD0yMTQ3NDgzNjM3KSxkfSxzPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uO3QuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy5fc2N0cD1udWxsLGUuYnJvd3Nlcj09PVwiY2hyb21lXCImJmUudmVyc2lvbj49NzYpe2xldHtzZHBTZW1hbnRpY3M6YX09dGhpcy5nZXRDb25maWd1cmF0aW9uKCk7YT09PVwicGxhbi1iXCImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic2N0cFwiLHtnZXQoKXtyZXR1cm4gdGhpcy5fc2N0cD09PXZvaWQgMD9udWxsOnRoaXMuX3NjdHB9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSk7fWlmKG4oYXJndW1lbnRzWzBdKSl7bGV0IGE9aShhcmd1bWVudHNbMF0pLGM9cihhKSxkPW8oYXJndW1lbnRzWzBdLGEpLGw7bD1jPT09MCYmZD09PTA/TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZOmM9PT0wfHxkPT09MD9NYXRoLm1heChjLGQpOk1hdGgubWluKGMsZCk7bGV0IHU9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KHUsXCJtYXhNZXNzYWdlU2l6ZVwiLHtnZXQ6KCk9Pmx9KSx0aGlzLl9zY3RwPXU7fXJldHVybiBzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07fWZ1bmN0aW9uIHVsKHQpe2lmKCF0LlJUQ1BlZXJDb25uZWN0aW9ufHwhKFwiY3JlYXRlRGF0YUNoYW5uZWxcImluIHQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSlyZXR1cm47ZnVuY3Rpb24gZShpLHIpe2xldCBvPWkuc2VuZDtpLnNlbmQ9ZnVuY3Rpb24oKXtsZXQgcz1hcmd1bWVudHNbMF0sYT1zLmxlbmd0aHx8cy5zaXplfHxzLmJ5dGVMZW5ndGg7aWYoaS5yZWFkeVN0YXRlPT09XCJvcGVuXCImJnIuc2N0cCYmYT5yLnNjdHAubWF4TWVzc2FnZVNpemUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIk1lc3NhZ2UgdG9vIGxhcmdlIChjYW4gc2VuZCBhIG1heGltdW0gb2YgXCIrci5zY3RwLm1heE1lc3NhZ2VTaXplK1wiIGJ5dGVzKVwiKTtyZXR1cm4gby5hcHBseShpLGFyZ3VtZW50cyl9O31sZXQgbj10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVEYXRhQ2hhbm5lbDt0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVEYXRhQ2hhbm5lbD1mdW5jdGlvbigpe2xldCBpPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBlKGksdGhpcyksaX0sdHModCxcImRhdGFjaGFubmVsXCIsaT0+KGUoaS5jaGFubmVsLGkudGFyZ2V0KSxpKSk7fWZ1bmN0aW9uIHVFKHQpe2lmKCF0LlJUQ1BlZXJDb25uZWN0aW9ufHxcImNvbm5lY3Rpb25TdGF0ZVwiaW4gdC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpcmV0dXJuO2xldCBlPXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiY29ubmVjdGlvblN0YXRlXCIse2dldCgpe3JldHVybiB7Y29tcGxldGVkOlwiY29ubmVjdGVkXCIsY2hlY2tpbmc6XCJjb25uZWN0aW5nXCJ9W3RoaXMuaWNlQ29ubmVjdGlvblN0YXRlXXx8dGhpcy5pY2VDb25uZWN0aW9uU3RhdGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJvbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHtnZXQoKXtyZXR1cm4gdGhpcy5fb25jb25uZWN0aW9uc3RhdGVjaGFuZ2V8fG51bGx9LHNldChuKXt0aGlzLl9vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlKSxkZWxldGUgdGhpcy5fb25jb25uZWN0aW9uc3RhdGVjaGFuZ2UpLG4mJnRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlPW4pO30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxbXCJzZXRMb2NhbERlc2NyaXB0aW9uXCIsXCJzZXRSZW1vdGVEZXNjcmlwdGlvblwiXS5mb3JFYWNoKG49PntsZXQgaT1lW25dO2Vbbl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29ubmVjdGlvbnN0YXRlY2hhbmdlcG9seXx8KHRoaXMuX2Nvbm5lY3Rpb25zdGF0ZWNoYW5nZXBvbHk9cj0+e2xldCBvPXIudGFyZ2V0O2lmKG8uX2xhc3RDb25uZWN0aW9uU3RhdGUhPT1vLmNvbm5lY3Rpb25TdGF0ZSl7by5fbGFzdENvbm5lY3Rpb25TdGF0ZT1vLmNvbm5lY3Rpb25TdGF0ZTtsZXQgcz1uZXcgRXZlbnQoXCJjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixyKTtvLmRpc3BhdGNoRXZlbnQocyk7fXJldHVybiByfSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIix0aGlzLl9jb25uZWN0aW9uc3RhdGVjaGFuZ2Vwb2x5KSksaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O30pO31mdW5jdGlvbiBoRSh0LGUpe2lmKCF0LlJUQ1BlZXJDb25uZWN0aW9ufHxlLmJyb3dzZXI9PT1cImNocm9tZVwiJiZlLnZlcnNpb24+PTcxfHxlLmJyb3dzZXI9PT1cInNhZmFyaVwiJiZlLnZlcnNpb24+PTYwNSlyZXR1cm47bGV0IG49dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb247dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb249ZnVuY3Rpb24oaSl7aWYoaSYmaS5zZHAmJmkuc2RwLmluZGV4T2YoYFxuYT1leHRtYXAtYWxsb3ctbWl4ZWRgKSE9PS0xKXtsZXQgcj1pLnNkcC5zcGxpdChgXG5gKS5maWx0ZXIobz0+cm4obykuY2FsbChvKSE9PVwiYT1leHRtYXAtYWxsb3ctbWl4ZWRcIikuam9pbihgXG5gKTt0LlJUQ1Nlc3Npb25EZXNjcmlwdGlvbiYmaSBpbnN0YW5jZW9mIHQuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uP2FyZ3VtZW50c1swXT1uZXcgdC5SVENTZXNzaW9uRGVzY3JpcHRpb24oe3R5cGU6aS50eXBlLHNkcDpyfSk6aS5zZHA9cjt9cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfTt9ZnVuY3Rpb24gaGwodCxlKXtpZighdC5SVENQZWVyQ29ubmVjdGlvbnx8IXQuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKXJldHVybjtsZXQgbj10LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGU7biYmbi5sZW5ndGghPT0wJiYodC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT8oZS5icm93c2VyPT09XCJjaHJvbWVcIiYmZS52ZXJzaW9uPDc4fHxlLmJyb3dzZXI9PT1cImZpcmVmb3hcIiYmZS52ZXJzaW9uPDY4fHxlLmJyb3dzZXI9PT1cInNhZmFyaVwiKSYmYXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF0uY2FuZGlkYXRlPT09XCJcIj9qLnJlc29sdmUoKTpuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTooYXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0uYXBwbHkobnVsbCksai5yZXNvbHZlKCkpfSk7fWZ1bmN0aW9uIHBsKHQsZSl7aWYoIXQuUlRDUGVlckNvbm5lY3Rpb258fCF0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSlyZXR1cm47bGV0IG49dC5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbjtuJiZuLmxlbmd0aCE9PTAmJih0LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7bGV0IGk9YXJndW1lbnRzWzBdfHx7fTtpZih0eXBlb2YgaSE9XCJvYmplY3RcInx8aS50eXBlJiZpLnNkcClyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoaT17dHlwZTppLnR5cGUsc2RwOmkuc2RwfSwhaS50eXBlKXN3aXRjaCh0aGlzLnNpZ25hbGluZ1N0YXRlKXtjYXNlXCJzdGFibGVcIjpjYXNlXCJoYXZlLWxvY2FsLW9mZmVyXCI6Y2FzZVwiaGF2ZS1yZW1vdGUtcHJhbnN3ZXJcIjppLnR5cGU9XCJvZmZlclwiO2JyZWFrO2RlZmF1bHQ6aS50eXBlPVwiYW5zd2VyXCI7fXJldHVybiBpLnNkcHx8aS50eXBlIT09XCJvZmZlclwiJiZpLnR5cGUhPT1cImFuc3dlclwiP24uYXBwbHkodGhpcyxbaV0pOihpLnR5cGU9PT1cIm9mZmVyXCI/dGhpcy5jcmVhdGVPZmZlcjp0aGlzLmNyZWF0ZUFuc3dlcikuYXBwbHkodGhpcykudGhlbihyPT5uLmFwcGx5KHRoaXMsW3JdKSl9KTt9dmFyIHMyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHJlbW92ZUV4dG1hcEFsbG93TWl4ZWQ6aEUsc2hpbUFkZEljZUNhbmRpZGF0ZU51bGxPckVtcHR5OmhsLHNoaW1Db25uZWN0aW9uU3RhdGU6dUUsc2hpbU1heE1lc3NhZ2VTaXplOmxsLHNoaW1QYXJhbWV0ZXJsZXNzU2V0TG9jYWxEZXNjcmlwdGlvbjpwbCxzaGltUlRDSWNlQ2FuZGlkYXRlOmRsLHNoaW1SVENJY2VDYW5kaWRhdGVSZWxheVByb3RvY29sOmxFLHNoaW1TZW5kVGhyb3dUeXBlRXJyb3I6dWx9KTsoZnVuY3Rpb24oKXtsZXR7d2luZG93OnR9PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTp7fSxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7c2hpbUNocm9tZTohMCxzaGltRmlyZWZveDohMCxzaGltU2FmYXJpOiEwfSxuPWpBLGk9ZnVuY3Rpb24obyl7bGV0IHM9e2Jyb3dzZXI6bnVsbCx2ZXJzaW9uOm51bGx9O2lmKG89PT12b2lkIDB8fCFvLm5hdmlnYXRvcilyZXR1cm4gcy5icm93c2VyPVwiTm90IGEgYnJvd3Nlci5cIixzO2xldHtuYXZpZ2F0b3I6YX09bztpZihhLm1vekdldFVzZXJNZWRpYSlzLmJyb3dzZXI9XCJmaXJlZm94XCIscy52ZXJzaW9uPWhkKGEudXNlckFnZW50LC9GaXJlZm94XFwvKFxcZCspXFwuLywxKTtlbHNlIGlmKGEud2Via2l0R2V0VXNlck1lZGlhfHxvLmlzU2VjdXJlQ29udGV4dD09PSExJiZvLndlYmtpdFJUQ1BlZXJDb25uZWN0aW9uKXMuYnJvd3Nlcj1cImNocm9tZVwiLHMudmVyc2lvbj1oZChhLnVzZXJBZ2VudCwvQ2hyb20oZXxpdW0pXFwvKFxcZCspXFwuLywyKTtlbHNlIHtpZighby5SVENQZWVyQ29ubmVjdGlvbnx8IWEudXNlckFnZW50Lm1hdGNoKC9BcHBsZVdlYktpdFxcLyhcXGQrKVxcLi8pKXJldHVybiBzLmJyb3dzZXI9XCJOb3QgYSBzdXBwb3J0ZWQgYnJvd3Nlci5cIixzO3MuYnJvd3Nlcj1cInNhZmFyaVwiLHMudmVyc2lvbj1oZChhLnVzZXJBZ2VudCwvQXBwbGVXZWJLaXRcXC8oXFxkKylcXC4vLDEpLHMuc3VwcG9ydHNVbmlmaWVkUGxhbj1vLlJUQ1J0cFRyYW5zY2VpdmVyJiZcImN1cnJlbnREaXJlY3Rpb25cImluIG8uUlRDUnRwVHJhbnNjZWl2ZXIucHJvdG90eXBlO31yZXR1cm4gc30odCkscj17YnJvd3NlckRldGFpbHM6aSxjb21tb25TaGltOnMyLGV4dHJhY3RWZXJzaW9uOmhkLGRpc2FibGVMb2c6cmssZGlzYWJsZVdhcm5pbmdzOm9rLHNkcDpvMn07c3dpdGNoKGkuYnJvd3Nlcil7Y2FzZVwiY2hyb21lXCI6aWYoIVJUfHwhYUV8fCFlLnNoaW1DaHJvbWUpcmV0dXJuIG4oXCJDaHJvbWUgc2hpbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBhZGFwdGVyIHJlbGVhc2UuXCIpLHI7aWYoaS52ZXJzaW9uPT09bnVsbClyZXR1cm4gbihcIkNocm9tZSBzaGltIGNhbiBub3QgZGV0ZXJtaW5lIHZlcnNpb24sIG5vdCBzaGltbWluZy5cIikscjtuKFwiYWRhcHRlci5qcyBzaGltbWluZyBjaHJvbWUuXCIpLHIuYnJvd3NlclNoaW09UlQsaGwodCxpKSxwbCh0KSxNYih0LGkpLFViKHQpLGFFKHQsaSkseGIodCksR2IodCxpKSxWYih0KSxGYih0KSxCYih0KSxXYih0LGkpLGRsKHQpLGxFKHQpLHVFKHQpLGxsKHQsaSksdWwodCksaEUodCxpKTticmVhaztjYXNlXCJmaXJlZm94XCI6aWYoIUNUfHwhY0V8fCFlLnNoaW1GaXJlZm94KXJldHVybiBuKFwiRmlyZWZveCBzaGltIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGFkYXB0ZXIgcmVsZWFzZS5cIikscjtuKFwiYWRhcHRlci5qcyBzaGltbWluZyBmaXJlZm94LlwiKSxyLmJyb3dzZXJTaGltPUNULGhsKHQsaSkscGwodCksSGIodCxpKSxjRSh0LGkpLEtiKHQpLHpiKHQpLFliKHQpLHFiKHQpLEpiKHQpLFhiKHQpLFFiKHQpLFpiKHQpLCRiKHQpLGRsKHQpLHVFKHQpLGxsKHQsaSksdWwodCk7YnJlYWs7Y2FzZVwic2FmYXJpXCI6aWYoIUlUfHwhZS5zaGltU2FmYXJpKXJldHVybiBuKFwiU2FmYXJpIHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLlwiKSxyO24oXCJhZGFwdGVyLmpzIHNoaW1taW5nIHNhZmFyaS5cIiksci5icm93c2VyU2hpbT1JVCxobCh0LGkpLHBsKHQpLG93KHQpLGF3KHQpLG53KHQpLHR3KHQpLGV3KHQpLHN3KHQpLGl3KHQpLGN3KHQpLGRsKHQpLGxFKHQpLGxsKHQsaSksdWwodCksaEUodCxpKTticmVhaztkZWZhdWx0Om4oXCJVbnN1cHBvcnRlZCBicm93c2VyIVwiKTt9fSkoe3dpbmRvdzp0eXBlb2Ygd2luZG93PlwidVwiP3ZvaWQgMDp3aW5kb3d9KTt2YXIgYTI9YmkoXCJBcnJheVwiKS5rZXlzLGMyPUVyLGQyPUplLGwyPWhuLHUyPWEyLCRoPUFycmF5LnByb3RvdHlwZSxoMj17RE9NVG9rZW5MaXN0OiEwLE5vZGVMaXN0OiEwfSxwMj1mdW5jdGlvbih0KXt2YXIgZT10LmtleXM7cmV0dXJuIHQ9PT0kaHx8bDIoJGgsdCkmJmU9PT0kaC5rZXlzfHxkMihoMixjMih0KSk/dTI6ZX0seG49YWUocDIpLEFUPWhhLF8yPVR5cGVFcnJvcixFMj1PdSxtMj1BaSxmMj1fbyxCdT1mdW5jdGlvbih0LGUsbil7dmFyIGk9RTIoZSk7aSBpbiB0P20yLmYodCxpLGYyKDAsbikpOnRbaV09bjt9LGJUPU9tLGcyPUxyLFQyPUJ1LFMyPUFycmF5LFIyPU1hdGgubWF4LHptPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9ZzIodCkscj1iVChlLGkpLG89YlQobj09PXZvaWQgMD9pOm4saSkscz1TMihSMihvLXIsMCkpLGE9MDtyPG87cisrLGErKylUMihzLGEsdFtyXSk7cmV0dXJuIHMubGVuZ3RoPWEsc30sd1Q9em0sQzI9TWF0aC5mbG9vcixwRT1mdW5jdGlvbih0LGUpe3ZhciBuPXQubGVuZ3RoLGk9QzIobi8yKTtyZXR1cm4gbjw4P0kyKHQsZSk6djIodCxwRSh3VCh0LDAsaSksZSkscEUod1QodCxpKSxlKSxlKX0sSTI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4saSxyPXQubGVuZ3RoLG89MTtvPHI7KXtmb3IoaT1vLG49dFtvXTtpJiZlKHRbaS0xXSxuKT4wOyl0W2ldPXRbLS1pXTtpIT09bysrJiYodFtpXT1uKTt9cmV0dXJuIHR9LHYyPWZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcj1lLmxlbmd0aCxvPW4ubGVuZ3RoLHM9MCxhPTA7czxyfHxhPG87KXRbcythXT1zPHImJmE8bz9pKGVbc10sblthXSk8PTA/ZVtzKytdOm5bYSsrXTpzPHI/ZVtzKytdOm5bYSsrXTtyZXR1cm4gdH0saHc9cEUsT1Q9JG8ubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvaSkseTI9ISFPVCYmK09UWzFdLEEyPS9NU0lFfFRyaWRlbnQvLnRlc3QoJG8pLE5UPSRvLm1hdGNoKC9BcHBsZVdlYktpdFxcLyhcXGQrKVxcLi8pLGIyPSEhTlQmJitOVFsxXSx3Mj14dCxwdz1tZSxPMj15aSxOMj1fcixEVD1McixEMj1mdW5jdGlvbih0LGUpe2lmKCFkZWxldGUgdFtlXSl0aHJvdyBfMihcIkNhbm5vdCBkZWxldGUgcHJvcGVydHkgXCIrQVQoZSkrXCIgb2YgXCIrQVQodCkpfSxQVD1vaSxKbT1TZSxQMj1odyxrMj1OdSxrVD15MixMMj1BMixMVD16byxNVD1iMixacj1bXSxVVD1wdyhaci5zb3J0KSxNMj1wdyhaci5wdXNoKSxVMj1KbShmdW5jdGlvbigpe1pyLnNvcnQodm9pZCAwKTt9KSx4Mj1KbShmdW5jdGlvbigpe1pyLnNvcnQobnVsbCk7fSksVjI9azIoXCJzb3J0XCIpLHhUPSFKbShmdW5jdGlvbigpe2lmKExUKXJldHVybiBMVDw3MDtpZighKGtUJiZrVD4zKSl7aWYoTDIpcmV0dXJuICEwO2lmKE1UKXJldHVybiBNVDw2MDM7dmFyIHQsZSxuLGkscj1cIlwiO2Zvcih0PTY1O3Q8NzY7dCsrKXtzd2l0Y2goZT1TdHJpbmcuZnJvbUNoYXJDb2RlKHQpLHQpe2Nhc2UgNjY6Y2FzZSA2OTpjYXNlIDcwOmNhc2UgNzI6bj0zO2JyZWFrO2Nhc2UgNjg6Y2FzZSA3MTpuPTQ7YnJlYWs7ZGVmYXVsdDpuPTI7fWZvcihpPTA7aTw0NztpKyspWnIucHVzaCh7azplK2ksdjpufSk7fWZvcihaci5zb3J0KGZ1bmN0aW9uKG8scyl7cmV0dXJuIHMudi1vLnZ9KSxpPTA7aTxaci5sZW5ndGg7aSsrKWU9WnJbaV0uay5jaGFyQXQoMCksci5jaGFyQXQoci5sZW5ndGgtMSkhPT1lJiYocis9ZSk7cmV0dXJuIHIhPT1cIkRHQkVGSEFDSUpLXCJ9fSk7dzIoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOlUyfHwheDJ8fCFWMnx8IXhUfSx7c29ydDpmdW5jdGlvbih0KXt0IT09dm9pZCAwJiZPMih0KTt2YXIgZT1OMih0aGlzKTtpZih4VClyZXR1cm4gdD09PXZvaWQgMD9VVChlKTpVVChlLHQpO3ZhciBuLGkscj1bXSxvPURUKGUpO2ZvcihpPTA7aTxvO2krKylpIGluIGUmJk0yKHIsZVtpXSk7Zm9yKFAyKHIsZnVuY3Rpb24ocyl7cmV0dXJuIGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGM9PT12b2lkIDA/LTE6YT09PXZvaWQgMD8xOnMhPT12b2lkIDA/K3MoYSxjKXx8MDpQVChhKT5QVChjKT8xOi0xfX0odCkpLG49RFQociksaT0wO2k8bjspZVtpXT1yW2krK107Zm9yKDtpPG87KUQyKGUsaSsrKTtyZXR1cm4gZX19KTt2YXIgdHAsZXAsRjI9YmkoXCJBcnJheVwiKS5zb3J0LEIyPWhuLGoyPUYyLG5wPUFycmF5LnByb3RvdHlwZSxHMj1mdW5jdGlvbih0KXt2YXIgZT10LnNvcnQ7cmV0dXJuIHQ9PT1ucHx8QjIobnAsdCkmJmU9PT1ucC5zb3J0P2oyOmV9LGVkPWFlKEcyKSxfRT17ZXhwb3J0czp7fX07dHA9X0UsZXA9X0UuZXhwb3J0cyxmdW5jdGlvbih0LGUpe3ZhciBuPVwiZnVuY3Rpb25cIixpPVwidW5kZWZpbmVkXCIscj1cIm9iamVjdFwiLG89XCJzdHJpbmdcIixzPVwibWFqb3JcIixhPVwibW9kZWxcIixjPVwibmFtZVwiLGQ9XCJ0eXBlXCIsbD1cInZlbmRvclwiLHU9XCJ2ZXJzaW9uXCIsaD1cImFyY2hpdGVjdHVyZVwiLHA9XCJjb25zb2xlXCIsZz1cIm1vYmlsZVwiLEU9XCJ0YWJsZXRcIixmPVwic21hcnR0dlwiLFM9XCJ3ZWFyYWJsZVwiLEM9XCJlbWJlZGRlZFwiLEE9XCJBbWF6b25cIixiPVwiQXBwbGVcIix3PVwiQVNVU1wiLEQ9XCJCbGFja0JlcnJ5XCIsaz1cIkJyb3dzZXJcIixCPVwiQ2hyb21lXCIsVj1cIkZpcmVmb3hcIix6PVwiR29vZ2xlXCIsbHQ9XCJIdWF3ZWlcIix2dD1cIkxHXCIsRHQ9XCJNaWNyb3NvZnRcIixjZT1cIk1vdG9yb2xhXCIsV3Q9XCJPcGVyYVwiLHNpPVwiU2Ftc3VuZ1wiLEw9XCJTaGFycFwiLEY9XCJTb255XCIsWT1cIlhpYW9taVwiLE09XCJaZWJyYVwiLG09XCJGYWNlYm9va1wiLEk9XCJDaHJvbWl1bSBPU1wiLHk9XCJNYWMgT1NcIix4PWZ1bmN0aW9uKGVlKXtmb3IodmFyIF9lPXt9LEJ0PTA7QnQ8ZWUubGVuZ3RoO0J0KyspX2VbZWVbQnRdLnRvVXBwZXJDYXNlKCldPWVlW0J0XTtyZXR1cm4gX2V9LHJ0PWZ1bmN0aW9uKGVlLF9lKXtyZXR1cm4gdHlwZW9mIGVlPT09byYmYnQoX2UpLmluZGV4T2YoYnQoZWUpKSE9PS0xfSxidD1mdW5jdGlvbihlZSl7cmV0dXJuIGVlLnRvTG93ZXJDYXNlKCl9LFJlPWZ1bmN0aW9uKGVlLF9lKXtpZih0eXBlb2YgZWU9PT1vKXJldHVybiBlZT1lZS5yZXBsYWNlKC9eXFxzXFxzKi8sXCJcIiksdHlwZW9mIF9lPT09aT9lZTplZS5zdWJzdHJpbmcoMCwzNTApfSxmbj1mdW5jdGlvbihlZSxfZSl7Zm9yKHZhciBCdCx2bixLaSxuZSxndCxnbixVcj0wO1VyPF9lLmxlbmd0aCYmIWd0Oyl7dmFyIE9pPV9lW1VyXSxKZj1fZVtVcisxXTtmb3IoQnQ9dm49MDtCdDxPaS5sZW5ndGgmJiFndCYmT2lbQnRdOylpZihndD1PaVtCdCsrXS5leGVjKGVlKSlmb3IoS2k9MDtLaTxKZi5sZW5ndGg7S2krKylnbj1ndFsrK3ZuXSx0eXBlb2YobmU9SmZbS2ldKT09PXImJm5lLmxlbmd0aD4wP25lLmxlbmd0aD09PTI/dHlwZW9mIG5lWzFdPT1uP3RoaXNbbmVbMF1dPW5lWzFdLmNhbGwodGhpcyxnbik6dGhpc1tuZVswXV09bmVbMV06bmUubGVuZ3RoPT09Mz90eXBlb2YgbmVbMV0hPT1ufHxuZVsxXS5leGVjJiZuZVsxXS50ZXN0P3RoaXNbbmVbMF1dPWduP2duLnJlcGxhY2UobmVbMV0sbmVbMl0pOmU6dGhpc1tuZVswXV09Z24/bmVbMV0uY2FsbCh0aGlzLGduLG5lWzJdKTplOm5lLmxlbmd0aD09PTQmJih0aGlzW25lWzBdXT1nbj9uZVszXS5jYWxsKHRoaXMsZ24ucmVwbGFjZShuZVsxXSxuZVsyXSkpOmUpOnRoaXNbbmVdPWdufHxlO1VyKz0yO319LGdyPWZ1bmN0aW9uKGVlLF9lKXtmb3IodmFyIEJ0IGluIF9lKWlmKHR5cGVvZiBfZVtCdF09PT1yJiZfZVtCdF0ubGVuZ3RoPjApe2Zvcih2YXIgdm49MDt2bjxfZVtCdF0ubGVuZ3RoO3ZuKyspaWYocnQoX2VbQnRdW3ZuXSxlZSkpcmV0dXJuIEJ0PT09XCI/XCI/ZTpCdH1lbHNlIGlmKHJ0KF9lW0J0XSxlZSkpcmV0dXJuIEJ0PT09XCI/XCI/ZTpCdDtyZXR1cm4gZWV9LHNkPXtNRTpcIjQuOTBcIixcIk5UIDMuMTFcIjpcIk5UMy41MVwiLFwiTlQgNC4wXCI6XCJOVDQuMFwiLDJlMzpcIk5UIDUuMFwiLFhQOltcIk5UIDUuMVwiLFwiTlQgNS4yXCJdLFZpc3RhOlwiTlQgNi4wXCIsNzpcIk5UIDYuMVwiLDg6XCJOVCA2LjJcIiw4LjE6XCJOVCA2LjNcIiwxMDpbXCJOVCA2LjRcIixcIk5UIDEwLjBcIl0sUlQ6XCJBUk1cIn0sYWQ9e2Jyb3dzZXI6W1svXFxiKD86Y3Jtb3xjcmlvcylcXC8oW1xcd1xcLl0rKS9pXSxbdSxbYyxcIkNocm9tZVwiXV0sWy9lZGcoPzplfGlvc3xhKT9cXC8oW1xcd1xcLl0rKS9pXSxbdSxbYyxcIkVkZ2VcIl1dLFsvKG9wZXJhIG1pbmkpXFwvKFstXFx3XFwuXSspL2ksLyhvcGVyYSBbbW9iaWxldGFiXXszLDZ9KVxcYi4rdmVyc2lvblxcLyhbLVxcd1xcLl0rKS9pLC8ob3BlcmEpKD86Lit2ZXJzaW9uXFwvfFtcXC8gXSspKFtcXHdcXC5dKykvaV0sW2MsdV0sWy9vcGlvc1tcXC8gXSsoW1xcd1xcLl0rKS9pXSxbdSxbYyxXdCtcIiBNaW5pXCJdXSxbL1xcYm9wclxcLyhbXFx3XFwuXSspL2ldLFt1LFtjLFd0XV0sWy8oa2luZGxlKVxcLyhbXFx3XFwuXSspL2ksLyhsdW5hc2NhcGV8bWF4dGhvbnxuZXRmcm9udHxqYXNtaW5lfGJsYXplcilbXFwvIF0/KFtcXHdcXC5dKikvaSwvKGF2YW50IHxpZW1vYmlsZXxzbGltKSg/OmJyb3dzZXIpP1tcXC8gXT8oW1xcd1xcLl0qKS9pLC8oYmE/aWR1YnJvd3NlcilbXFwvIF0/KFtcXHdcXC5dKykvaSwvKD86bXN8XFwoKShpZSkgKFtcXHdcXC5dKykvaSwvKGZsb2NrfHJvY2ttZWx0fG1pZG9yaXxlcGlwaGFueXxzaWxrfHNreWZpcmV8b3ZpYnJvd3Nlcnxib2x0fGlyb258dml2YWxkaXxpcmlkaXVtfHBoYW50b21qc3xib3dzZXJ8cXVhcmt8cXVwemlsbGF8ZmFsa29ufHJla29ucXxwdWZmaW58YnJhdmV8d2hhbGUoPyEuK25hdmVyKXxxcWJyb3dzZXJsaXRlfHFxfGR1Y2tkdWNrZ28pXFwvKFstXFx3XFwuXSspL2ksLyh3ZWlibylfXyhbXFxkXFwuXSspL2ldLFtjLHVdLFsvKD86XFxidWM/ID9icm93c2VyfCg/Omp1Yy4rKXVjd2ViKVtcXC8gXT8oW1xcd1xcLl0rKS9pXSxbdSxbYyxcIlVDXCIra11dLFsvbWljcm9tLitcXGJxYmNvcmVcXC8oW1xcd1xcLl0rKS9pLC9cXGJxYmNvcmVcXC8oW1xcd1xcLl0rKS4rbWljcm9tL2ldLFt1LFtjLFwiV2VDaGF0KFdpbikgRGVza3RvcFwiXV0sWy9taWNyb21lc3NlbmdlclxcLyhbXFx3XFwuXSspL2ldLFt1LFtjLFwiV2VDaGF0XCJdXSxbL2tvbnF1ZXJvclxcLyhbXFx3XFwuXSspL2ldLFt1LFtjLFwiS29ucXVlcm9yXCJdXSxbL3RyaWRlbnQuK3J2WzogXShbXFx3XFwuXXsxLDl9KVxcYi4rbGlrZSBnZWNrby9pXSxbdSxbYyxcIklFXCJdXSxbL3lhYnJvd3NlclxcLyhbXFx3XFwuXSspL2ldLFt1LFtjLFwiWWFuZGV4XCJdXSxbLyhhdmFzdHxhdmcpXFwvKFtcXHdcXC5dKykvaV0sW1tjLC8oLispLyxcIiQxIFNlY3VyZSBcIitrXSx1XSxbL1xcYmZvY3VzXFwvKFtcXHdcXC5dKykvaV0sW3UsW2MsVitcIiBGb2N1c1wiXV0sWy9cXGJvcHRcXC8oW1xcd1xcLl0rKS9pXSxbdSxbYyxXdCtcIiBUb3VjaFwiXV0sWy9jb2NfY29jXFx3K1xcLyhbXFx3XFwuXSspL2ldLFt1LFtjLFwiQ29jIENvY1wiXV0sWy9kb2xmaW5cXC8oW1xcd1xcLl0rKS9pXSxbdSxbYyxcIkRvbHBoaW5cIl1dLFsvY29hc3RcXC8oW1xcd1xcLl0rKS9pXSxbdSxbYyxXdCtcIiBDb2FzdFwiXV0sWy9taXVpYnJvd3NlclxcLyhbXFx3XFwuXSspL2ldLFt1LFtjLFwiTUlVSSBcIitrXV0sWy9meGlvc1xcLyhbLVxcd1xcLl0rKS9pXSxbdSxbYyxWXV0sWy9cXGJxaWh1fChxaT9obz9vP3wzNjApYnJvd3Nlci9pXSxbW2MsXCIzNjAgXCIra11dLFsvKG9jdWx1c3xzYW1zdW5nfHNhaWxmaXNofGh1YXdlaSlicm93c2VyXFwvKFtcXHdcXC5dKykvaV0sW1tjLC8oLispLyxcIiQxIFwiK2tdLHVdLFsvKGNvbW9kb19kcmFnb24pXFwvKFtcXHdcXC5dKykvaV0sW1tjLC9fL2csXCIgXCJdLHVdLFsvKGVsZWN0cm9uKVxcLyhbXFx3XFwuXSspIHNhZmFyaS9pLC8odGVzbGEpKD86IHF0Y2FyYnJvd3NlcnxcXC8oMjBcXGRcXGRcXC5bLVxcd1xcLl0rKSkvaSwvbT8ocXFicm93c2VyfGJhaWR1Ym94YXBwfDIzNDVFeHBsb3JlcilbXFwvIF0/KFtcXHdcXC5dKykvaV0sW2MsdV0sWy8obWV0YXNyKVtcXC8gXT8oW1xcd1xcLl0rKS9pLC8obGJicm93c2VyKS9pLC9cXFsobGlua2VkaW4pYXBwXFxdL2ldLFtjXSxbLygoPzpmYmFuXFwvZmJpb3N8ZmJfaWFiXFwvZmI0YSkoPyEuK2ZiYXYpfDtmYmF2XFwvKFtcXHdcXC5dKyk7KS9pXSxbW2MsbV0sdV0sWy8oa2FrYW8oPzp0YWxrfHN0b3J5KSlbXFwvIF0oW1xcd1xcLl0rKS9pLC8obmF2ZXIpXFwoLio/KFxcZCtcXC5bXFx3XFwuXSspLipcXCkvaSwvc2FmYXJpIChsaW5lKVxcLyhbXFx3XFwuXSspL2ksL1xcYihsaW5lKVxcLyhbXFx3XFwuXSspXFwvaWFiL2ksLyhjaHJvbWl1bXxpbnN0YWdyYW0pW1xcLyBdKFstXFx3XFwuXSspL2ldLFtjLHVdLFsvXFxiZ3NhXFwvKFtcXHdcXC5dKykgLipzYWZhcmlcXC8vaV0sW3UsW2MsXCJHU0FcIl1dLFsvaGVhZGxlc3NjaHJvbWUoPzpcXC8oW1xcd1xcLl0rKXwgKS9pXSxbdSxbYyxCK1wiIEhlYWRsZXNzXCJdXSxbLyB3dlxcKS4rKGNocm9tZSlcXC8oW1xcd1xcLl0rKS9pXSxbW2MsQitcIiBXZWJWaWV3XCJdLHVdLFsvZHJvaWQuKyB2ZXJzaW9uXFwvKFtcXHdcXC5dKylcXGIuKyg/Om1vYmlsZSBzYWZhcml8c2FmYXJpKS9pXSxbdSxbYyxcIkFuZHJvaWQgXCIra11dLFsvKGNocm9tZXxvbW5pd2VifGFyb3JhfFt0aXplbm9rYV17NX0gP2Jyb3dzZXIpXFwvdj8oW1xcd1xcLl0rKS9pXSxbYyx1XSxbL3ZlcnNpb25cXC8oW1xcd1xcLlxcLF0rKSAuKm1vYmlsZVxcL1xcdysgKHNhZmFyaSkvaV0sW3UsW2MsXCJNb2JpbGUgU2FmYXJpXCJdXSxbL3ZlcnNpb25cXC8oW1xcdyhcXC58XFwsKV0rKSAuKihtb2JpbGUgP3NhZmFyaXxzYWZhcmkpL2ldLFt1LGNdLFsvd2Via2l0Lis/KG1vYmlsZSA/c2FmYXJpfHNhZmFyaSkoXFwvW1xcd1xcLl0rKS9pXSxbYyxbdSxncix7XCIxLjBcIjpcIi84XCIsMS4yOlwiLzFcIiwxLjM6XCIvM1wiLFwiMi4wXCI6XCIvNDEyXCIsXCIyLjAuMlwiOlwiLzQxNlwiLFwiMi4wLjNcIjpcIi80MTdcIixcIjIuMC40XCI6XCIvNDE5XCIsXCI/XCI6XCIvXCJ9XV0sWy8od2Via2l0fGtodG1sKVxcLyhbXFx3XFwuXSspL2ldLFtjLHVdLFsvKG5hdmlnYXRvcnxuZXRzY2FwZVxcZD8pXFwvKFstXFx3XFwuXSspL2ldLFtbYyxcIk5ldHNjYXBlXCJdLHVdLFsvbW9iaWxlIHZyOyBydjooW1xcd1xcLl0rKVxcKS4rZmlyZWZveC9pXSxbdSxbYyxWK1wiIFJlYWxpdHlcIl1dLFsvZWtpb2hmLisoZmxvdylcXC8oW1xcd1xcLl0rKS9pLC8oc3dpZnRmb3gpL2ksLyhpY2VkcmFnb258aWNld2Vhc2VsfGNhbWlub3xjaGltZXJhfGZlbm5lY3xtYWVtbyBicm93c2VyfG1pbmltb3xjb25rZXJvcnxrbGFyKVtcXC8gXT8oW1xcd1xcLlxcK10rKS9pLC8oc2VhbW9ua2V5fGstbWVsZW9ufGljZWNhdHxpY2VhcGV8ZmlyZWJpcmR8cGhvZW5peHxwYWxlbW9vbnxiYXNpbGlza3x3YXRlcmZveClcXC8oWy1cXHdcXC5dKykkL2ksLyhmaXJlZm94KVxcLyhbXFx3XFwuXSspL2ksLyhtb3ppbGxhKVxcLyhbXFx3XFwuXSspIC4rcnZcXDouK2dlY2tvXFwvXFxkKy9pLC8ocG9sYXJpc3xseW54fGRpbGxvfGljYWJ8ZG9yaXN8YW1heWF8dzNtfG5ldHN1cmZ8c2xlaXBuaXJ8b2JpZ298bW9zYWljfCg/OmdvfGljZXx1cClbXFwuIF0/YnJvd3NlcilbLVxcLyBdP3Y/KFtcXHdcXC5dKykvaSwvKGxpbmtzKSBcXCgoW1xcd1xcLl0rKS9pLC9wYW5hc29uaWM7KHZpZXJhKS9pXSxbYyx1XSxbLyhjb2JhbHQpXFwvKFtcXHdcXC5dKykvaV0sW2MsW3UsL21hc3Rlci58bHRzLi8sXCJcIl1dXSxjcHU6W1svKD86KGFtZHx4KD86KD86ODZ8NjQpWy1fXSk/fHdvd3x3aW4pNjQpWztcXCldL2ldLFtbaCxcImFtZDY0XCJdXSxbLyhpYTMyKD89OykpL2ldLFtbaCxidF1dLFsvKCg/OmlbMzQ2XXx4KTg2KVs7XFwpXS9pXSxbW2gsXCJpYTMyXCJdXSxbL1xcYihhYXJjaDY0fGFybSh2PzhlP2w/fF8/NjQpKVxcYi9pXSxbW2gsXCJhcm02NFwiXV0sWy9cXGIoYXJtKD86dls2N10pP2h0P24/W2ZsXXA/KVxcYi9pXSxbW2gsXCJhcm1oZlwiXV0sWy93aW5kb3dzIChjZXxtb2JpbGUpOyBwcGM7L2ldLFtbaCxcImFybVwiXV0sWy8oKD86cHBjfHBvd2VycGMpKD86NjQpPykoPzogbWFjfDt8XFwpKS9pXSxbW2gsL293ZXIvLFwiXCIsYnRdXSxbLyhzdW40XFx3KVs7XFwpXS9pXSxbW2gsXCJzcGFyY1wiXV0sWy8oKD86YXZyMzJ8aWE2NCg/PTspKXw2OGsoPz1cXCkpfFxcYmFybSg/PXYoPzpbMS03XXxbNS03XTEpbD98O3xlYWJpKXwoPz1hdG1lbCApYXZyfCg/OmlyaXh8bWlwc3xzcGFyYykoPzo2NCk/XFxifHBhLXJpc2MpL2ldLFtbaCxidF1dXSxkZXZpY2U6W1svXFxiKHNjaC1pWzg5XTBcXGR8c2h3LW0zODBzfHNtLVtwdHhdXFx3ezIsNH18Z3QtW3BuXVxcZHsyLDR9fHNnaC10OFs1Nl05fG5leHVzIDEwKS9pXSxbYSxbbCxzaV0sW2QsRV1dLFsvXFxiKCg/OnNbY2dwXWh8Z3R8c20pLVxcdyt8c2NbZy1dP1tcXGRdK2E/fGdhbGF4eSBuZXh1cykvaSwvc2Ftc3VuZ1stIF0oWy1cXHddKykvaSwvc2VjLShzZ2hcXHcrKS9pXSxbYSxbbCxzaV0sW2QsZ11dLFsvXFwoKGlwKD86aG9uZXxvZClbXFx3IF0qKTsvaV0sW2EsW2wsYl0sW2QsZ11dLFsvXFwoKGlwYWQpO1stXFx3XFwpLDsgXSthcHBsZS9pLC9hcHBsZWNvcmVtZWRpYVxcL1tcXHdcXC5dKyBcXCgoaXBhZCkvaSwvXFxiKGlwYWQpXFxkXFxkPyxcXGRcXGQ/WztcXF1dLitpb3MvaV0sW2EsW2wsYl0sW2QsRV1dLFsvKG1hY2ludG9zaCk7L2ldLFthLFtsLGJdXSxbL1xcYihzaC0/W2FsdHZ6XT9cXGRcXGRbYS1la21dPykvaV0sW2EsW2wsTF0sW2QsZ11dLFsvXFxiKCg/OmFnW3JzXVsyM10/fGJhaDI/fHNodD98YnR2KS1hP1tsd11cXGR7Mn0pXFxiKD8hLitkXFwvcykvaV0sW2EsW2wsbHRdLFtkLEVdXSxbLyg/Omh1YXdlaXxob25vcikoWy1cXHcgXSspWztcXCldL2ksL1xcYihuZXh1cyA2cHxcXHd7Miw0fWU/LVthdHVdP1tsbl1bXFxkeF1bMDEyMzU5Y11bYWRuXT8pXFxiKD8hLitkXFwvcykvaV0sW2EsW2wsbHRdLFtkLGddXSxbL1xcYihwb2NvW1xcdyBdKykoPzogYnVpfFxcKSkvaSwvXFxiOyAoXFx3KykgYnVpbGRcXC9obVxcMS9pLC9cXGIoaG1bLV8gXT9ub3RlP1tfIF0/KD86XFxkXFx3KT8pIGJ1aS9pLC9cXGIocmVkbWlbXFwtXyBdPyg/Om5vdGV8ayk/W1xcd18gXSspKD86IGJ1aXxcXCkpL2ksL1xcYihtaVstXyBdPyg/OmFcXGR8b25lfG9uZVtfIF1wbHVzfG5vdGUgbHRlfG1heHxjYyk/W18gXT8oPzpcXGQ/XFx3PylbXyBdPyg/OnBsdXN8c2V8bGl0ZSk/KSg/OiBidWl8XFwpKS9pXSxbW2EsL18vZyxcIiBcIl0sW2wsWV0sW2QsZ11dLFsvXFxiKG1pWy1fIF0/KD86cGFkKSg/OltcXHdfIF0rKSkoPzogYnVpfFxcKSkvaV0sW1thLC9fL2csXCIgXCJdLFtsLFldLFtkLEVdXSxbLzsgKFxcdyspIGJ1aS4rIG9wcG8vaSwvXFxiKGNwaFsxMl1cXGR7M318cCg/OmFmfGNbYWxdfGRcXHd8ZVthcl0pW210XVxcZDB8eDkwMDd8YTEwMW9wKVxcYi9pXSxbYSxbbCxcIk9QUE9cIl0sW2QsZ11dLFsvdml2byAoXFx3KykoPzogYnVpfFxcKSkvaSwvXFxiKHZbMTJdXFxkezN9XFx3P1thdF0pKD86IGJ1aXw7KS9pXSxbYSxbbCxcIlZpdm9cIl0sW2QsZ11dLFsvXFxiKHJteFsxMl1cXGR7M30pKD86IGJ1aXw7fFxcKSkvaV0sW2EsW2wsXCJSZWFsbWVcIl0sW2QsZ11dLFsvXFxiKG1pbGVzdG9uZXxkcm9pZCg/OlsyLTR4XXwgKD86YmlvbmljfHgyfHByb3xyYXpyKSk/Oj8oIDRnKT8pXFxiW1xcdyBdK2J1aWxkXFwvL2ksL1xcYm1vdCg/Om9yb2xhKT9bLSBdKFxcdyopL2ksLygoPzptb3RvW1xcd1xcKFxcKSBdK3x4dFxcZHszLDR9fG5leHVzIDYpKD89IGJ1aXxcXCkpKS9pXSxbYSxbbCxjZV0sW2QsZ11dLFsvXFxiKG16NjBcXGR8eG9vbVsyIF17MCwyfSkgYnVpbGRcXC8vaV0sW2EsW2wsY2VdLFtkLEVdXSxbLygoPz1sZyk/W3ZsXWtcXC0/XFxkezN9KSBidWl8IDNcXC5bLVxcdzsgXXsxMH1sZz8tKFswNmN2OV17Myw0fSkvaV0sW2EsW2wsdnRdLFtkLEVdXSxbLyhsbSg/Oi0/ZjEwMFtudl0/fC1bXFx3XFwuXSspKD89IGJ1aXxcXCkpfG5leHVzIFs0NV0pL2ksL1xcYmxnWy1lO1xcLyBdKygoPyFicm93c2VyfG5ldGNhc3R8YW5kcm9pZCB0dilcXHcrKS9pLC9cXGJsZy0/KFtcXGRcXHddKykgYnVpL2ldLFthLFtsLHZ0XSxbZCxnXV0sWy8oaWRlYXRhYlstXFx3IF0rKS9pLC9sZW5vdm8gPyhzWzU2XTAwMFstXFx3XSt8dGFiKD86W1xcdyBdKyl8eXRbLVxcZFxcd117Nn18dGJbLVxcZFxcd117Nn0pL2ldLFthLFtsLFwiTGVub3ZvXCJdLFtkLEVdXSxbLyg/Om1hZW1vfG5va2lhKS4qKG45MDB8bHVtaWEgXFxkKykvaSwvbm9raWFbLV8gXT8oWy1cXHdcXC5dKikvaV0sW1thLC9fL2csXCIgXCJdLFtsLFwiTm9raWFcIl0sW2QsZ11dLFsvKHBpeGVsIGMpXFxiL2ldLFthLFtsLHpdLFtkLEVdXSxbL2Ryb2lkLis7IChwaXhlbFtcXGRheGwgXXswLDZ9KSg/OiBidWl8XFwpKS9pXSxbYSxbbCx6XSxbZCxnXV0sWy9kcm9pZC4rIChhP1xcZFswLTJdezJ9c298W2MtZ11cXGR7NH18c29bLWdsXVxcdyt8eHEtYVxcd1s0LTddWzEyXSkoPz0gYnVpfFxcKS4rY2hyb21lXFwvKD8hWzEtNl17MCwxfVxcZFxcLikpL2ldLFthLFtsLEZdLFtkLGddXSxbL3NvbnkgdGFibGV0IFtwc10vaSwvXFxiKD86c29ueSk/c2dwXFx3Kyg/OiBidWl8XFwpKS9pXSxbW2EsXCJYcGVyaWEgVGFibGV0XCJdLFtsLEZdLFtkLEVdXSxbLyAoa2IyMDA1fGluMjBbMTJdNXxiZTIwWzEyXVs1OV0pXFxiL2ksLyg/Om9uZSk/KD86cGx1cyk/IChhXFxkMFxcZFxcZCkoPzogYnxcXCkpL2ldLFthLFtsLFwiT25lUGx1c1wiXSxbZCxnXV0sWy8oYWxleGEpd2VibS9pLC8oa2ZbYS16XXsyfXdpKSggYnVpfFxcKSkvaSwvKGtmW2Etel0rKSggYnVpfFxcKSkuK3NpbGtcXC8vaV0sW2EsW2wsQV0sW2QsRV1dLFsvKCg/OnNkfGtmKVswMzQ5aGlqb3JzdHV3XSspKCBidWl8XFwpKS4rc2lsa1xcLy9pXSxbW2EsLyguKykvZyxcIkZpcmUgUGhvbmUgJDFcIl0sW2wsQV0sW2QsZ11dLFsvKHBsYXlib29rKTtbLVxcd1xcKSw7IF0rKHJpbSkvaV0sW2EsbCxbZCxFXV0sWy9cXGIoKD86YmJbYS1mXXxzdFtodl0pMTAwLVxcZCkvaSwvXFwoYmIxMDsgKFxcdyspL2ldLFthLFtsLERdLFtkLGddXSxbLyg/OlxcYnxhc3VzXykodHJhbnNmb1twcmltZSBdezQsMTB9IFxcdyt8ZWVlcGN8c2xpZGVyIFxcdyt8bmV4dXMgN3xwYWRmb25lfHAwMFtjal0pL2ldLFthLFtsLHddLFtkLEVdXSxbLyAoeltiZXNdNlswMjddWzAxMl1ba21dW2xzXXx6ZW5mb25lIFxcZFxcdz8pXFxiL2ldLFthLFtsLHddLFtkLGddXSxbLyhuZXh1cyA5KS9pXSxbYSxbbCxcIkhUQ1wiXSxbZCxFXV0sWy8oaHRjKVstO18gXXsxLDJ9KFtcXHcgXSsoPz1cXCl8IGJ1aSl8XFx3KykvaSwvKHp0ZSlbLSBdKFtcXHcgXSs/KSg/OiBidWl8XFwvfFxcKSkvaSwvKGFsY2F0ZWx8Z2Vla3NwaG9uZXxuZXhpYW58cGFuYXNvbmljKD8hKD86O3xcXC4pKXxzb255KD8hLWJyYSkpWy1fIF0/KFstXFx3XSopL2ldLFtsLFthLC9fL2csXCIgXCJdLFtkLGddXSxbL2Ryb2lkLis7IChbYWJdWzEtN10tP1swMTc4YV1cXGRcXGQ/KS9pXSxbYSxbbCxcIkFjZXJcIl0sW2QsRV1dLFsvZHJvaWQuKzsgKG1bMS01XSBub3RlKSBidWkvaSwvXFxibXotKFstXFx3XXsyLH0pL2ldLFthLFtsLFwiTWVpenVcIl0sW2QsZ11dLFsvKGJsYWNrYmVycnl8YmVucXxwYWxtKD89XFwtKXxzb255ZXJpY3Nzb258YWNlcnxhc3VzfGRlbGx8bWVpenV8bW90b3JvbGF8cG9seXRyb24pWy1fIF0/KFstXFx3XSopL2ksLyhocCkgKFtcXHcgXStcXHcpL2ksLyhhc3VzKS0/KFxcdyspL2ksLyhtaWNyb3NvZnQpOyAobHVtaWFbXFx3IF0rKS9pLC8obGVub3ZvKVstXyBdPyhbLVxcd10rKS9pLC8oam9sbGEpL2ksLyhvcHBvKSA/KFtcXHcgXSspIGJ1aS9pXSxbbCxhLFtkLGddXSxbLyhrb2JvKVxccyhlcmVhZGVyfHRvdWNoKS9pLC8oYXJjaG9zKSAoZ2FtZXBhZDI/KS9pLC8oaHApLisodG91Y2hwYWQoPyEuK3RhYmxldCl8dGFibGV0KS9pLC8oa2luZGxlKVxcLyhbXFx3XFwuXSspL2ksLyhub29rKVtcXHcgXStidWlsZFxcLyhcXHcrKS9pLC8oZGVsbCkgKHN0cmVhW2twclxcZCBdKltcXGRrb10pL2ksLyhsZVstIF0rcGFuKVstIF0rKFxcd3sxLDl9KSBidWkvaSwvKHRyaW5pdHkpWy0gXSoodFxcZHszfSkgYnVpL2ksLyhnaWdhc2V0KVstIF0rKHFcXHd7MSw5fSkgYnVpL2ksLyh2b2RhZm9uZSkgKFtcXHcgXSspKD86XFwpfCBidWkpL2ldLFtsLGEsW2QsRV1dLFsvKHN1cmZhY2UgZHVvKS9pXSxbYSxbbCxEdF0sW2QsRV1dLFsvZHJvaWQgW1xcZFxcLl0rOyAoZnBcXGR1PykoPzogYnxcXCkpL2ldLFthLFtsLFwiRmFpcnBob25lXCJdLFtkLGddXSxbLyh1MzA0YWEpL2ldLFthLFtsLFwiQVQmVFwiXSxbZCxnXV0sWy9cXGJzaWUtKFxcdyopL2ldLFthLFtsLFwiU2llbWVuc1wiXSxbZCxnXV0sWy9cXGIocmN0XFx3KykgYi9pXSxbYSxbbCxcIlJDQVwiXSxbZCxFXV0sWy9cXGIodmVudWVbXFxkIF17Miw3fSkgYi9pXSxbYSxbbCxcIkRlbGxcIl0sW2QsRV1dLFsvXFxiKHEoPzptdnx0YSlcXHcrKSBiL2ldLFthLFtsLFwiVmVyaXpvblwiXSxbZCxFXV0sWy9cXGIoPzpiYXJuZXNbJiBdK25vYmxlIHxibltydF0pKFtcXHdcXCsgXSopIGIvaV0sW2EsW2wsXCJCYXJuZXMgJiBOb2JsZVwiXSxbZCxFXV0sWy9cXGIodG1cXGR7M31cXHcrKSBiL2ldLFthLFtsLFwiTnVWaXNpb25cIl0sW2QsRV1dLFsvXFxiKGs4OCkgYi9pXSxbYSxbbCxcIlpURVwiXSxbZCxFXV0sWy9cXGIobnhcXGR7M31qKSBiL2ldLFthLFtsLFwiWlRFXCJdLFtkLGddXSxbL1xcYihnZW5cXGR7M30pIGIuKzQ5aC9pXSxbYSxbbCxcIlN3aXNzXCJdLFtkLGddXSxbL1xcYih6dXJcXGR7M30pIGIvaV0sW2EsW2wsXCJTd2lzc1wiXSxbZCxFXV0sWy9cXGIoKHpla2kpP3RiLipcXGIpIGIvaV0sW2EsW2wsXCJaZWtpXCJdLFtkLEVdXSxbL1xcYihbeXJdXFxkezJ9KSBiL2ksL1xcYihkcmFnb25bLSBdK3RvdWNoIHxkdCkoXFx3ezV9KSBiL2ldLFtbbCxcIkRyYWdvbiBUb3VjaFwiXSxhLFtkLEVdXSxbL1xcYihucy0/XFx3ezAsOX0pIGIvaV0sW2EsW2wsXCJJbnNpZ25pYVwiXSxbZCxFXV0sWy9cXGIoKG54YXxuZXh0KS0/XFx3ezAsOX0pIGIvaV0sW2EsW2wsXCJOZXh0Qm9va1wiXSxbZCxFXV0sWy9cXGIoeHRyZW1lXFxfKT8odigxWzA0NV18MlswMTVdfFszNDY5XTB8N1swNV0pKSBiL2ldLFtbbCxcIlZvaWNlXCJdLGEsW2QsZ11dLFsvXFxiKGx2dGVsXFwtKT8odjFbMTJdKSBiL2ldLFtbbCxcIkx2VGVsXCJdLGEsW2QsZ11dLFsvXFxiKHBoLTEpIC9pXSxbYSxbbCxcIkVzc2VudGlhbFwiXSxbZCxnXV0sWy9cXGIodigxMDBtZHw3MDBuYXw3MDExfDkxN2cpLipcXGIpIGIvaV0sW2EsW2wsXCJFbnZpemVuXCJdLFtkLEVdXSxbL1xcYih0cmlvWy1cXHdcXC4gXSspIGIvaV0sW2EsW2wsXCJNYWNoU3BlZWRcIl0sW2QsRV1dLFsvXFxidHVfKDE0OTEpIGIvaV0sW2EsW2wsXCJSb3RvclwiXSxbZCxFXV0sWy8oc2hpZWxkW1xcdyBdKykgYi9pXSxbYSxbbCxcIk52aWRpYVwiXSxbZCxFXV0sWy8oc3ByaW50KSAoXFx3KykvaV0sW2wsYSxbZCxnXV0sWy8oa2luXFwuW29uZXR3XXszfSkvaV0sW1thLC9cXC4vZyxcIiBcIl0sW2wsRHRdLFtkLGddXSxbL2Ryb2lkLis7IChjYzY2NjY/fGV0NVsxNl18bWNbMjM5XVsyM114P3x2YzhbMDNdeD8pXFwpL2ldLFthLFtsLE1dLFtkLEVdXSxbL2Ryb2lkLis7IChlYzMwfHBzMjB8dGNbMi04XVxcZFtreF0pXFwpL2ldLFthLFtsLE1dLFtkLGddXSxbL3NtYXJ0LXR2Lisoc2Ftc3VuZykvaV0sW2wsW2QsZl1dLFsvaGJidHYuK21hcGxlOyhcXGQrKS9pXSxbW2EsL14vLFwiU21hcnRUVlwiXSxbbCxzaV0sW2QsZl1dLFsvKG51eDsgbmV0Y2FzdC4rc21hcnR0dnxsZyAobmV0Y2FzdFxcLnR2LTIwMVxcZHxhbmRyb2lkIHR2KSkvaV0sW1tsLHZ0XSxbZCxmXV0sWy8oYXBwbGUpID90di9pXSxbbCxbYSxiK1wiIFRWXCJdLFtkLGZdXSxbL2Nya2V5L2ldLFtbYSxCK1wiY2FzdFwiXSxbbCx6XSxbZCxmXV0sWy9kcm9pZC4rYWZ0KFxcdykoIGJ1aXxcXCkpL2ldLFthLFtsLEFdLFtkLGZdXSxbL1xcKGR0dltcXCk7XS4rKGFxdW9zKS9pLC8oYXF1b3MtdHZbXFx3IF0rKVxcKS9pXSxbYSxbbCxMXSxbZCxmXV0sWy8oYnJhdmlhW1xcdyBdKykoIGJ1aXxcXCkpL2ldLFthLFtsLEZdLFtkLGZdXSxbLyhtaXR2LVxcd3s1fSkgYnVpL2ldLFthLFtsLFldLFtkLGZdXSxbL0hiYnR2LioodGVjaG5pc2F0KSAoLiopOy9pXSxbbCxhLFtkLGZdXSxbL1xcYihyb2t1KVtcXGR4XSpbXFwpXFwvXSgoPzpkdnAtKT9bXFxkXFwuXSopL2ksL2hiYnR2XFwvXFxkK1xcLlxcZCtcXC5cXGQrICtcXChbXFx3XFwrIF0qOyAqKFtcXHdcXGRdW147XSopOyhbXjtdKikvaV0sW1tsLFJlXSxbYSxSZV0sW2QsZl1dLFsvXFxiKGFuZHJvaWQgdHZ8c21hcnRbLSBdP3R2fG9wZXJhIHR2fHR2OyBydjopXFxiL2ldLFtbZCxmXV0sWy8ob3V5YSkvaSwvKG5pbnRlbmRvKSAoW3dpZHMzdXRjaF0rKS9pXSxbbCxhLFtkLHBdXSxbL2Ryb2lkLis7IChzaGllbGQpIGJ1aS9pXSxbYSxbbCxcIk52aWRpYVwiXSxbZCxwXV0sWy8ocGxheXN0YXRpb24gWzM0NXBvcnRhYmxldmldKykvaV0sW2EsW2wsRl0sW2QscF1dLFsvXFxiKHhib3goPzogb25lKT8oPyE7IHhib3gpKVtcXCk7IF0vaV0sW2EsW2wsRHRdLFtkLHBdXSxbLygocGViYmxlKSlhcHAvaV0sW2wsYSxbZCxTXV0sWy8od2F0Y2gpKD86ID9vc1ssXFwvXXxcXGQsXFxkXFwvKVtcXGRcXC5dKy9pXSxbYSxbbCxiXSxbZCxTXV0sWy9kcm9pZC4rOyAoZ2xhc3MpIFxcZC9pXSxbYSxbbCx6XSxbZCxTXV0sWy9kcm9pZC4rOyAod3Q2Mz8wezIsM30pXFwpL2ldLFthLFtsLE1dLFtkLFNdXSxbLyhxdWVzdCggMnwgcHJvKT8pL2ldLFthLFtsLG1dLFtkLFNdXSxbLyh0ZXNsYSkoPzogcXRjYXJicm93c2VyfFxcL1stXFx3XFwuXSspL2ldLFtsLFtkLENdXSxbL2Ryb2lkIC4rPzsgKFteO10rPykoPzogYnVpfFxcKSBhcHBsZXcpLis/IG1vYmlsZSBzYWZhcmkvaV0sW2EsW2QsZ11dLFsvZHJvaWQgLis/OyAoW147XSs/KSg/OiBidWl8XFwpIGFwcGxldykuKz8oPyEgbW9iaWxlKSBzYWZhcmkvaV0sW2EsW2QsRV1dLFsvXFxiKCh0YWJsZXR8dGFiKVs7XFwvXXxmb2N1c1xcL1xcZCg/IS4rbW9iaWxlKSkvaV0sW1tkLEVdXSxbLyhwaG9uZXxtb2JpbGUoPzpbO1xcL118IFsgXFx3XFwvXFwuXSpzYWZhcmkpfHBkYSg/PS4rd2luZG93cyBjZSkpL2ldLFtbZCxnXV0sWy8oYW5kcm9pZFstXFx3XFwuIF17MCw5fSk7LitidWlsL2ldLFthLFtsLFwiR2VuZXJpY1wiXV1dLGVuZ2luZTpbWy93aW5kb3dzLisgZWRnZVxcLyhbXFx3XFwuXSspL2ldLFt1LFtjLFwiRWRnZUhUTUxcIl1dLFsvd2Via2l0XFwvNTM3XFwuMzYuK2Nocm9tZVxcLyg/ITI3KShbXFx3XFwuXSspL2ldLFt1LFtjLFwiQmxpbmtcIl1dLFsvKHByZXN0bylcXC8oW1xcd1xcLl0rKS9pLC8od2Via2l0fHRyaWRlbnR8bmV0ZnJvbnR8bmV0c3VyZnxhbWF5YXxseW54fHczbXxnb2FubmEpXFwvKFtcXHdcXC5dKykvaSwvZWtpb2goZmxvdylcXC8oW1xcd1xcLl0rKS9pLC8oa2h0bWx8dGFzbWFufGxpbmtzKVtcXC8gXVxcKD8oW1xcd1xcLl0rKS9pLC8oaWNhYilbXFwvIF0oWzIzXVxcLltcXGRcXC5dKykvaV0sW2MsdV0sWy9ydlxcOihbXFx3XFwuXXsxLDl9KVxcYi4rKGdlY2tvKS9pXSxbdSxjXV0sb3M6W1svbWljcm9zb2Z0ICh3aW5kb3dzKSAodmlzdGF8eHApL2ldLFtjLHVdLFsvKHdpbmRvd3MpIG50IDZcXC4yOyAoYXJtKS9pLC8od2luZG93cyAoPzpwaG9uZSg/OiBvcyk/fG1vYmlsZSkpW1xcLyBdPyhbXFxkXFwuXFx3IF0qKS9pLC8od2luZG93cylbXFwvIF0/KFtudGNlXFxkXFwuIF0rXFx3KSg/IS4reGJveCkvaV0sW2MsW3UsZ3Isc2RdXSxbLyh3aW4oPz0zfDl8bil8d2luIDl4ICkoW250XFxkXFwuXSspL2ldLFtbYyxcIldpbmRvd3NcIl0sW3UsZ3Isc2RdXSxbL2lwW2hvbmVhZF17Miw0fVxcYig/Oi4qb3MgKFtcXHddKykgbGlrZSBtYWN8OyBvcGVyYSkvaSwvY2ZuZXR3b3JrXFwvLitkYXJ3aW4vaV0sW1t1LC9fL2csXCIuXCJdLFtjLFwiaU9TXCJdXSxbLyhtYWMgb3MgeCkgPyhbXFx3XFwuIF0qKS9pLC8obWFjaW50b3NofG1hY19wb3dlcnBjXFxiKSg/IS4raGFpa3UpL2ldLFtbYyx5XSxbdSwvXy9nLFwiLlwiXV0sWy9kcm9pZCAoW1xcd1xcLl0rKVxcYi4rKGFuZHJvaWRbLSBdeDg2fGhhcm1vbnlvcykvaV0sW3UsY10sWy8oYW5kcm9pZHx3ZWJvc3xxbnh8YmFkYXxyaW0gdGFibGV0IG9zfG1hZW1vfG1lZWdvfHNhaWxmaXNoKVstXFwvIF0/KFtcXHdcXC5dKikvaSwvKGJsYWNrYmVycnkpXFx3KlxcLyhbXFx3XFwuXSopL2ksLyh0aXplbnxrYWlvcylbXFwvIF0oW1xcd1xcLl0rKS9pLC9cXCgoc2VyaWVzNDApOy9pXSxbYyx1XSxbL1xcKGJiKDEwKTsvaV0sW3UsW2MsRF1dLFsvKD86c3ltYmlhbiA/b3N8c3ltYm9zfHM2MCg/PTspfHNlcmllczYwKVstXFwvIF0/KFtcXHdcXC5dKikvaV0sW3UsW2MsXCJTeW1iaWFuXCJdXSxbL21vemlsbGFcXC9bXFxkXFwuXSsgXFwoKD86bW9iaWxlfHRhYmxldHx0dnxtb2JpbGU7IFtcXHcgXSspOyBydjouKyBnZWNrb1xcLyhbXFx3XFwuXSspL2ldLFt1LFtjLFYrXCIgT1NcIl1dLFsvd2ViMHM7LitydCh0dikvaSwvXFxiKD86aHApP3dvcyg/OmJyb3dzZXIpP1xcLyhbXFx3XFwuXSspL2ldLFt1LFtjLFwid2ViT1NcIl1dLFsvd2F0Y2goPzogP29zWyxcXC9dfFxcZCxcXGRcXC8pKFtcXGRcXC5dKykvaV0sW3UsW2MsXCJ3YXRjaE9TXCJdXSxbL2Nya2V5XFwvKFtcXGRcXC5dKykvaV0sW3UsW2MsQitcImNhc3RcIl1dLFsvKGNyb3MpIFtcXHddKyg/OlxcKXwgKFtcXHdcXC5dKylcXGIpL2ldLFtbYyxJXSx1XSxbL3BhbmFzb25pYzsodmllcmEpL2ksLyhuZXRyYW5nZSltbWgvaSwvKG5ldHR2KVxcLyhcXGQrXFwuW1xcd1xcLl0rKS9pLC8obmludGVuZG98cGxheXN0YXRpb24pIChbd2lkczM0NXBvcnRhYmxldnVjaF0rKS9pLC8oeGJveCk7ICt4Ym94IChbXlxcKTtdKykvaSwvXFxiKGpvbGl8cGFsbSlcXGIgPyg/Om9zKT9cXC8/KFtcXHdcXC5dKikvaSwvKG1pbnQpW1xcL1xcKFxcKSBdPyhcXHcqKS9pLC8obWFnZWlhfHZlY3RvcmxpbnV4KVs7IF0vaSwvKFtreGxuXT91YnVudHV8ZGViaWFufHN1c2V8b3BlbnN1c2V8Z2VudG9vfGFyY2goPz0gbGludXgpfHNsYWNrd2FyZXxmZWRvcmF8bWFuZHJpdmF8Y2VudG9zfHBjbGludXhvc3xyZWQgP2hhdHx6ZW53YWxrfGxpbnB1c3xyYXNwYmlhbnxwbGFuIDl8bWluaXh8cmlzYyBvc3xjb250aWtpfGRlZXBpbnxtYW5qYXJvfGVsZW1lbnRhcnkgb3N8c2FiYXlvbnxsaW5zcGlyZSkoPzogZ251XFwvbGludXgpPyg/OiBlbnRlcnByaXNlKT8oPzpbLSBdbGludXgpPyg/Oi1nbnUpP1stXFwvIF0/KD8hY2hyb218cGFja2FnZSkoWy1cXHdcXC5dKikvaSwvKGh1cmR8bGludXgpID8oW1xcd1xcLl0qKS9pLC8oZ251KSA/KFtcXHdcXC5dKikvaSwvXFxiKFstZnJlbnRvcGNnaHNdezAsNX1ic2R8ZHJhZ29uZmx5KVtcXC8gXT8oPyFhbWR8W2l4MzQ2XXsxLDJ9ODYpKFtcXHdcXC5dKikvaSwvKGhhaWt1KSAoXFx3KykvaV0sW2MsdV0sWy8oc3Vub3MpID8oW1xcd1xcLlxcZF0qKS9pXSxbW2MsXCJTb2xhcmlzXCJdLHVdLFsvKCg/Om9wZW4pP3NvbGFyaXMpWy1cXC8gXT8oW1xcd1xcLl0qKS9pLC8oYWl4KSAoKFxcZCkoPz1cXC58XFwpfCApW1xcd1xcLl0pKi9pLC9cXGIoYmVvc3xvc1xcLzJ8YW1pZ2Fvc3xtb3JwaG9zfG9wZW52bXN8ZnVjaHNpYXxocC11eCkvaSwvKHVuaXgpID8oW1xcd1xcLl0qKS9pXSxbYyx1XV19LHFuPWZ1bmN0aW9uKGVlLF9lKXtpZih0eXBlb2YgZWU9PT1yJiYoX2U9ZWUsZWU9ZSksISh0aGlzIGluc3RhbmNlb2YgcW4pKXJldHVybiBuZXcgcW4oZWUsX2UpLmdldFJlc3VsdCgpO3ZhciBCdD10eXBlb2YgdCE9PWkmJnQubmF2aWdhdG9yP3QubmF2aWdhdG9yOmUsdm49ZWV8fChCdCYmQnQudXNlckFnZW50P0J0LnVzZXJBZ2VudDpcIlwiKSxLaT1CdCYmQnQudXNlckFnZW50RGF0YT9CdC51c2VyQWdlbnREYXRhOmUsbmU9X2U/ZnVuY3Rpb24oZ3QsZ24pe3ZhciBVcj17fTtmb3IodmFyIE9pIGluIGd0KWduW09pXSYmZ25bT2ldLmxlbmd0aCUyPT0wP1VyW09pXT1nbltPaV0uY29uY2F0KGd0W09pXSk6VXJbT2ldPWd0W09pXTtyZXR1cm4gVXJ9KGFkLF9lKTphZDtyZXR1cm4gdGhpcy5nZXRCcm93c2VyPWZ1bmN0aW9uKCl7dmFyIGd0PXt9O3JldHVybiBndFtjXT1lLGd0W3VdPWUsZm4uY2FsbChndCx2bixuZS5icm93c2VyKSxndFtzXT1mdW5jdGlvbihnbil7cmV0dXJuIHR5cGVvZiBnbj09PW8/Z24ucmVwbGFjZSgvW15cXGRcXC5dL2csXCJcIikuc3BsaXQoXCIuXCIpWzBdOmV9KGd0W3VdKSxCdCYmQnQuYnJhdmUmJnR5cGVvZiBCdC5icmF2ZS5pc0JyYXZlPT1uJiYoZ3RbY109XCJCcmF2ZVwiKSxndH0sdGhpcy5nZXRDUFU9ZnVuY3Rpb24oKXt2YXIgZ3Q9e307cmV0dXJuIGd0W2hdPWUsZm4uY2FsbChndCx2bixuZS5jcHUpLGd0fSx0aGlzLmdldERldmljZT1mdW5jdGlvbigpe3ZhciBndD17fTtyZXR1cm4gZ3RbbF09ZSxndFthXT1lLGd0W2RdPWUsZm4uY2FsbChndCx2bixuZS5kZXZpY2UpLCFndFtkXSYmS2kmJktpLm1vYmlsZSYmKGd0W2RdPWcpLGd0W2FdPT1cIk1hY2ludG9zaFwiJiZCdCYmdHlwZW9mIEJ0LnN0YW5kYWxvbmUhPT1pJiZCdC5tYXhUb3VjaFBvaW50cyYmQnQubWF4VG91Y2hQb2ludHM+MiYmKGd0W2FdPVwiaVBhZFwiLGd0W2RdPUUpLGd0fSx0aGlzLmdldEVuZ2luZT1mdW5jdGlvbigpe3ZhciBndD17fTtyZXR1cm4gZ3RbY109ZSxndFt1XT1lLGZuLmNhbGwoZ3Qsdm4sbmUuZW5naW5lKSxndH0sdGhpcy5nZXRPUz1mdW5jdGlvbigpe3ZhciBndD17fTtyZXR1cm4gZ3RbY109ZSxndFt1XT1lLGZuLmNhbGwoZ3Qsdm4sbmUub3MpLCFndFtjXSYmS2kmJktpLnBsYXRmb3JtIT1cIlVua25vd25cIiYmKGd0W2NdPUtpLnBsYXRmb3JtLnJlcGxhY2UoL2Nocm9tZSBvcy9pLEkpLnJlcGxhY2UoL21hY29zL2kseSkpLGd0fSx0aGlzLmdldFJlc3VsdD1mdW5jdGlvbigpe3JldHVybiB7dWE6dGhpcy5nZXRVQSgpLGJyb3dzZXI6dGhpcy5nZXRCcm93c2VyKCksZW5naW5lOnRoaXMuZ2V0RW5naW5lKCksb3M6dGhpcy5nZXRPUygpLGRldmljZTp0aGlzLmdldERldmljZSgpLGNwdTp0aGlzLmdldENQVSgpfX0sdGhpcy5nZXRVQT1mdW5jdGlvbigpe3JldHVybiB2bn0sdGhpcy5zZXRVQT1mdW5jdGlvbihndCl7cmV0dXJuIHZuPXR5cGVvZiBndD09PW8mJmd0Lmxlbmd0aD4zNTA/UmUoZ3QsMzUwKTpndCx0aGlzfSx0aGlzLnNldFVBKHZuKSx0aGlzfTtxbi5WRVJTSU9OPVwiMC43LjM0XCIscW4uQlJPV1NFUj14KFtjLHUsc10pLHFuLkNQVT14KFtoXSkscW4uREVWSUNFPXgoW2EsbCxkLHAsZyxmLEUsUyxDXSkscW4uRU5HSU5FPXFuLk9TPXgoW2MsdV0pLHRwLmV4cG9ydHMmJihlcD10cC5leHBvcnRzPXFuKSxlcC5VQVBhcnNlcj1xbjt2YXIgTXI9dHlwZW9mIHQhPT1pJiYodC5qUXVlcnl8fHQuWmVwdG8pO2lmKE1yJiYhTXIudWEpe3ZhciBycz1uZXcgcW47TXIudWE9cnMuZ2V0UmVzdWx0KCksTXIudWEuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHJzLmdldFVBKCl9LE1yLnVhLnNldD1mdW5jdGlvbihlZSl7cnMuc2V0VUEoZWUpO3ZhciBfZT1ycy5nZXRSZXN1bHQoKTtmb3IodmFyIEJ0IGluIF9lKU1yLnVhW0J0XT1fZVtCdF07fTt9fSh0eXBlb2Ygd2luZG93PT1cIm9iamVjdFwiP3dpbmRvdzpWcyk7dmFyIFcyPWFlKF9FLmV4cG9ydHMpLEgyPUVyLEsyPUplLFkyPWRhLHEyPWVzLHoyPXBlKFwiaXRlcmF0b3JcIiksSjI9T2JqZWN0LFgyPWZ1bmN0aW9uKHQpe2lmKFkyKHQpKXJldHVybiAhMTt2YXIgZT1KMih0KTtyZXR1cm4gZVt6Ml0hPT12b2lkIDB8fFwiQEBpdGVyYXRvclwiaW4gZXx8SzIocTIsSDIoZSkpfSxRMj1hZShYMiksaXA9V2U7eHQoe2dsb2JhbDohMCxmb3JjZWQ6aXAuZ2xvYmFsVGhpcyE9PWlwfSx7Z2xvYmFsVGhpczppcH0pO3ZhciBWVD1hZShXZSk7ZnVuY3Rpb24gX3codCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9fXZhcnt0b1N0cmluZzpaMn09T2JqZWN0LnByb3RvdHlwZSx7Z2V0UHJvdG90eXBlT2Y6WG19PU9iamVjdCxNbD0ocnA9T2JqZWN0LmNyZWF0ZShudWxsKSx0PT57bGV0IGU9WjIuY2FsbCh0KTtyZXR1cm4gcnBbZV18fChycFtlXT1lLnNsaWNlKDgsLTEpLnRvTG93ZXJDYXNlKCkpfSkscnAsZnI9dD0+KHQ9dC50b0xvd2VyQ2FzZSgpLGU9Pk1sKGUpPT09dCksanU9dD0+ZT0+dHlwZW9mIGU9PT10LHtpc0FycmF5OklzfT1BcnJheSxXYT1qdShcInVuZGVmaW5lZFwiKSxGVD1mcihcIkFycmF5QnVmZmVyXCIpLCQyPWp1KFwic3RyaW5nXCIpLGFpPWp1KFwiZnVuY3Rpb25cIiksQlQ9anUoXCJudW1iZXJcIiksVGQ9dD0+dCE9PW51bGwmJnR5cGVvZiB0PT1cIm9iamVjdFwiLFNkPXQ9PntpZihNbCh0KSE9PVwib2JqZWN0XCIpcmV0dXJuICExO2xldCBlPVhtKHQpO3JldHVybiAhKGUhPT1udWxsJiZlIT09T2JqZWN0LnByb3RvdHlwZSYmT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpIT09bnVsbHx8U3ltYm9sLnRvU3RyaW5nVGFnIGluIHR8fFEyKHQpKX0sdHg9ZnIoXCJEYXRlXCIpLGV4PWZyKFwiRmlsZVwiKSxueD1mcihcIkJsb2JcIiksaXg9ZnIoXCJGaWxlTGlzdFwiKSxyeD1mcihcIlVSTFNlYXJjaFBhcmFtc1wiKTtmdW5jdGlvbiBIYSh0LGUpe2xldCBuLGkse2FsbE93bktleXM6cj0hMX09YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT12b2lkIDA/YXJndW1lbnRzWzJdOnt9O2lmKHQhPW51bGwpaWYodHlwZW9mIHQhPVwib2JqZWN0XCImJih0PVt0XSksSXModCkpZm9yKG49MCxpPXQubGVuZ3RoO248aTtuKyspZS5jYWxsKG51bGwsdFtuXSxuLHQpO2Vsc2Uge2xldCBvPXI/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCk6T2JqZWN0LmtleXModCkscz1vLmxlbmd0aCxhO2ZvcihuPTA7bjxzO24rKylhPW9bbl0sZS5jYWxsKG51bGwsdFthXSxhLHQpO319ZnVuY3Rpb24galQodCxlKXtlPWUudG9Mb3dlckNhc2UoKTtsZXQgbj1PYmplY3Qua2V5cyh0KSxpLHI9bi5sZW5ndGg7Zm9yKDtyLS0gPjA7KWlmKGk9bltyXSxlPT09aS50b0xvd2VyQ2FzZSgpKXJldHVybiBpO3JldHVybiBudWxsfXZhciBFdz1WVCE9PXZvaWQgMD9WVDp0eXBlb2Ygc2VsZjxcInVcIj9zZWxmOnR5cGVvZiB3aW5kb3c8XCJ1XCI/d2luZG93Omdsb2JhbCxHVD10PT4hV2EodCkmJnQhPT1FdyxveD0ob3A9dHlwZW9mIFVpbnQ4QXJyYXk8XCJ1XCImJlhtKFVpbnQ4QXJyYXkpLHQ9Pm9wJiZ0IGluc3RhbmNlb2Ygb3ApLG9wLHN4PWZyKFwiSFRNTEZvcm1FbGVtZW50XCIpLFdUPSh0PT57bGV0e2hhc093blByb3BlcnR5OmV9PXQ7cmV0dXJuIChuLGkpPT5lLmNhbGwobixpKX0pKE9iamVjdC5wcm90b3R5cGUpLGF4PWZyKFwiUmVnRXhwXCIpLEhUPSh0LGUpPT57bGV0IG49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCksaT17fTtIYShuLChyLG8pPT57bGV0IHM7KHM9ZShyLG8sdCkpIT09ITEmJihpW29dPXN8fHIpO30pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsaSk7fSxzcD1cImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIsS1Q9XCIwMTIzNDU2Nzg5XCIsWVQ9e0RJR0lUOktULEFMUEhBOnNwLEFMUEhBX0RJR0lUOnNwK3NwLnRvVXBwZXJDYXNlKCkrS1R9LGN4PWZyKFwiQXN5bmNGdW5jdGlvblwiKSxLPXtpc0FycmF5OklzLGlzQXJyYXlCdWZmZXI6RlQsaXNCdWZmZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1udWxsJiYhV2EodCkmJnQuY29uc3RydWN0b3IhPT1udWxsJiYhV2EodC5jb25zdHJ1Y3RvcikmJmFpKHQuY29uc3RydWN0b3IuaXNCdWZmZXIpJiZ0LmNvbnN0cnVjdG9yLmlzQnVmZmVyKHQpfSxpc0Zvcm1EYXRhOnQ9PntsZXQgZTtyZXR1cm4gdCYmKHR5cGVvZiBGb3JtRGF0YT09XCJmdW5jdGlvblwiJiZ0IGluc3RhbmNlb2YgRm9ybURhdGF8fGFpKHQuYXBwZW5kKSYmKChlPU1sKHQpKT09PVwiZm9ybWRhdGFcInx8ZT09PVwib2JqZWN0XCImJmFpKHQudG9TdHJpbmcpJiZ0LnRvU3RyaW5nKCk9PT1cIltvYmplY3QgRm9ybURhdGFdXCIpKX0saXNBcnJheUJ1ZmZlclZpZXc6ZnVuY3Rpb24odCl7bGV0IGU7cmV0dXJuIGU9dHlwZW9mIEFycmF5QnVmZmVyPFwidVwiJiZBcnJheUJ1ZmZlci5pc1ZpZXc/QXJyYXlCdWZmZXIuaXNWaWV3KHQpOnQmJnQuYnVmZmVyJiZGVCh0LmJ1ZmZlciksZX0saXNTdHJpbmc6JDIsaXNOdW1iZXI6QlQsaXNCb29sZWFuOnQ9PnQ9PT0hMHx8dD09PSExLGlzT2JqZWN0OlRkLGlzUGxhaW5PYmplY3Q6U2QsaXNVbmRlZmluZWQ6V2EsaXNEYXRlOnR4LGlzRmlsZTpleCxpc0Jsb2I6bngsaXNSZWdFeHA6YXgsaXNGdW5jdGlvbjphaSxpc1N0cmVhbTp0PT5UZCh0KSYmYWkodC5waXBlKSxpc1VSTFNlYXJjaFBhcmFtczpyeCxpc1R5cGVkQXJyYXk6b3gsaXNGaWxlTGlzdDppeCxmb3JFYWNoOkhhLG1lcmdlOmZ1bmN0aW9uIHQoKXtsZXR7Y2FzZWxlc3M6ZX09R1QodGhpcykmJnRoaXN8fHt9LG49e30saT0ocixvKT0+e2xldCBzPWUmJmpUKG4sbyl8fG87U2QobltzXSkmJlNkKHIpP25bc109dChuW3NdLHIpOlNkKHIpP25bc109dCh7fSxyKTpJcyhyKT9uW3NdPXIuc2xpY2UoKTpuW3NdPXI7fTtmb3IobGV0IHI9MCxvPWFyZ3VtZW50cy5sZW5ndGg7cjxvO3IrKylhcmd1bWVudHNbcl0mJkhhKGFyZ3VtZW50c1tyXSxpKTtyZXR1cm4gbn0sZXh0ZW5kOmZ1bmN0aW9uKHQsZSxuKXtsZXR7YWxsT3duS2V5czppfT1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXZvaWQgMD9hcmd1bWVudHNbM106e307cmV0dXJuIEhhKGUsKHIsbyk9PntuJiZhaShyKT90W29dPV93KHIsbik6dFtvXT1yO30se2FsbE93bktleXM6aX0pLHR9LHRyaW06dD0+cm4odCk/cm4odCkuY2FsbCh0KTp0LnJlcGxhY2UoL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLFwiXCIpLHN0cmlwQk9NOnQ9Pih0LmNoYXJDb2RlQXQoMCk9PT02NTI3OSYmKHQ9dC5zbGljZSgxKSksdCksaW5oZXJpdHM6KHQsZSxuLGkpPT57dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSxpKSx0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwic3VwZXJcIix7dmFsdWU6ZS5wcm90b3R5cGV9KSxuJiZPYmplY3QuYXNzaWduKHQucHJvdG90eXBlLG4pO30sdG9GbGF0T2JqZWN0Oih0LGUsbixpKT0+e2xldCByLG8scyxhPXt9O2lmKGU9ZXx8e30sdD09bnVsbClyZXR1cm4gZTtkb3tmb3Iocj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KSxvPXIubGVuZ3RoO28tLSA+MDspcz1yW29dLGkmJiFpKHMsdCxlKXx8YVtzXXx8KGVbc109dFtzXSxhW3NdPSEwKTt0PW4hPT0hMSYmWG0odCk7fXdoaWxlKHQmJighbnx8bih0LGUpKSYmdCE9PU9iamVjdC5wcm90b3R5cGUpO3JldHVybiBlfSxraW5kT2Y6TWwsa2luZE9mVGVzdDpmcixlbmRzV2l0aDoodCxlLG4pPT57dD1TdHJpbmcodCksKG49PT12b2lkIDB8fG4+dC5sZW5ndGgpJiYobj10Lmxlbmd0aCksbi09ZS5sZW5ndGg7bGV0IGk9dC5pbmRleE9mKGUsbik7cmV0dXJuIGkhPT0tMSYmaT09PW59LHRvQXJyYXk6dD0+e2lmKCF0KXJldHVybiBudWxsO2lmKElzKHQpKXJldHVybiB0O2xldCBlPXQubGVuZ3RoO2lmKCFCVChlKSlyZXR1cm4gbnVsbDtsZXQgbj1uZXcgQXJyYXkoZSk7Zm9yKDtlLS0gPjA7KW5bZV09dFtlXTtyZXR1cm4gbn0sZm9yRWFjaEVudHJ5Oih0LGUpPT57bGV0IG49KHQmJnRbU3ltYm9sLml0ZXJhdG9yXSkuY2FsbCh0KSxpO2Zvcig7KGk9bi5uZXh0KCkpJiYhaS5kb25lOyl7bGV0IHI9aS52YWx1ZTtlLmNhbGwodCxyWzBdLHJbMV0pO319LG1hdGNoQWxsOih0LGUpPT57bGV0IG4saT1bXTtmb3IoOyhuPXQuZXhlYyhlKSkhPT1udWxsOylpLnB1c2gobik7cmV0dXJuIGl9LGlzSFRNTEZvcm06c3gsaGFzT3duUHJvcGVydHk6V1QsaGFzT3duUHJvcDpXVCxyZWR1Y2VEZXNjcmlwdG9yczpIVCxmcmVlemVNZXRob2RzOnQ9PntIVCh0LChlLG4pPT57aWYoYWkodCkmJltcImFyZ3VtZW50c1wiLFwiY2FsbGVyXCIsXCJjYWxsZWVcIl0uaW5kZXhPZihuKSE9PS0xKXJldHVybiAhMTtsZXQgaT10W25dO2FpKGkpJiYoZS5lbnVtZXJhYmxlPSExLFwid3JpdGFibGVcImluIGU/ZS53cml0YWJsZT0hMTplLnNldHx8KGUuc2V0PSgpPT57dGhyb3cgRXJyb3IoXCJDYW4gbm90IHJld3JpdGUgcmVhZC1vbmx5IG1ldGhvZCAnXCIrbitcIidcIil9KSk7fSk7fSx0b09iamVjdFNldDoodCxlKT0+e2xldCBuPXt9LGk9cj0+e3IuZm9yRWFjaChvPT57bltvXT0hMDt9KTt9O3JldHVybiBJcyh0KT9pKHQpOmkoU3RyaW5nKHQpLnNwbGl0KGUpKSxufSx0b0NhbWVsQ2FzZTp0PT50LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvWy1fXFxzXShbYS16XFxkXSkoXFx3KikvZyxmdW5jdGlvbihlLG4saSl7cmV0dXJuIG4udG9VcHBlckNhc2UoKStpfSksbm9vcDooKT0+e30sdG9GaW5pdGVOdW1iZXI6KHQsZSk9Pih0PSt0LE51bWJlci5pc0Zpbml0ZSh0KT90OmUpLGZpbmRLZXk6alQsZ2xvYmFsOkV3LGlzQ29udGV4dERlZmluZWQ6R1QsQUxQSEFCRVQ6WVQsZ2VuZXJhdGVTdHJpbmc6ZnVuY3Rpb24oKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06MTYsZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06WVQuQUxQSEFfRElHSVQsbj1cIlwiLHtsZW5ndGg6aX09ZTtmb3IoO3QtLTspbis9ZVtNYXRoLnJhbmRvbSgpKml8MF07cmV0dXJuIG59LGlzU3BlY0NvbXBsaWFudEZvcm06ZnVuY3Rpb24odCl7cmV0dXJuICEhKHQmJmFpKHQuYXBwZW5kKSYmdFtTeW1ib2wudG9TdHJpbmdUYWddPT09XCJGb3JtRGF0YVwiJiZ0W1N5bWJvbC5pdGVyYXRvcl0pfSx0b0pTT05PYmplY3Q6dD0+e2xldCBlPW5ldyBBcnJheSgxMCksbj0oaSxyKT0+e2lmKFRkKGkpKXtpZihlLmluZGV4T2YoaSk+PTApcmV0dXJuO2lmKCEoXCJ0b0pTT05cImluIGkpKXtlW3JdPWk7bGV0IG89SXMoaSk/W106e307cmV0dXJuIEhhKGksKHMsYSk9PntsZXQgYz1uKHMscisxKTshV2EoYykmJihvW2FdPWMpO30pLGVbcl09dm9pZCAwLG99fXJldHVybiBpfTtyZXR1cm4gbih0LDApfSxpc0FzeW5jRm46Y3gsaXNUaGVuYWJsZTp0PT50JiYoVGQodCl8fGFpKHQpKSYmYWkodC50aGVuKSYmYWkodC5jYXRjaCl9O2Z1bmN0aW9uIHF0KHQsZSxuLGkscil7RXJyb3IuY2FsbCh0aGlzKSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHRoaXMuY29uc3RydWN0b3IpOnRoaXMuc3RhY2s9bmV3IEVycm9yKCkuc3RhY2ssdGhpcy5tZXNzYWdlPXQsdGhpcy5uYW1lPVwiQXhpb3NFcnJvclwiLGUmJih0aGlzLmNvZGU9ZSksbiYmKHRoaXMuY29uZmlnPW4pLGkmJih0aGlzLnJlcXVlc3Q9aSksciYmKHRoaXMucmVzcG9uc2U9cik7fUsuaW5oZXJpdHMocXQsRXJyb3Ise3RvSlNPTjpmdW5jdGlvbigpe3JldHVybiB7bWVzc2FnZTp0aGlzLm1lc3NhZ2UsbmFtZTp0aGlzLm5hbWUsZGVzY3JpcHRpb246dGhpcy5kZXNjcmlwdGlvbixudW1iZXI6dGhpcy5udW1iZXIsZmlsZU5hbWU6dGhpcy5maWxlTmFtZSxsaW5lTnVtYmVyOnRoaXMubGluZU51bWJlcixjb2x1bW5OdW1iZXI6dGhpcy5jb2x1bW5OdW1iZXIsc3RhY2s6dGhpcy5zdGFjayxjb25maWc6Sy50b0pTT05PYmplY3QodGhpcy5jb25maWcpLGNvZGU6dGhpcy5jb2RlLHN0YXR1czp0aGlzLnJlc3BvbnNlJiZ0aGlzLnJlc3BvbnNlLnN0YXR1cz90aGlzLnJlc3BvbnNlLnN0YXR1czpudWxsfX19KTt2YXIgcVQ9cXQucHJvdG90eXBlLHpUPXt9O1tcIkVSUl9CQURfT1BUSU9OX1ZBTFVFXCIsXCJFUlJfQkFEX09QVElPTlwiLFwiRUNPTk5BQk9SVEVEXCIsXCJFVElNRURPVVRcIixcIkVSUl9ORVRXT1JLXCIsXCJFUlJfRlJfVE9PX01BTllfUkVESVJFQ1RTXCIsXCJFUlJfREVQUkVDQVRFRFwiLFwiRVJSX0JBRF9SRVNQT05TRVwiLFwiRVJSX0JBRF9SRVFVRVNUXCIsXCJFUlJfQ0FOQ0VMRURcIixcIkVSUl9OT1RfU1VQUE9SVFwiLFwiRVJSX0lOVkFMSURfVVJMXCJdLmZvckVhY2godD0+e3pUW3RdPXt2YWx1ZTp0fTt9KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhxdCx6VCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHFULFwiaXNBeGlvc0Vycm9yXCIse3ZhbHVlOiEwfSkscXQuZnJvbT0odCxlLG4saSxyLG8pPT57bGV0IHM9T2JqZWN0LmNyZWF0ZShxVCk7cmV0dXJuIEsudG9GbGF0T2JqZWN0KHQscyxmdW5jdGlvbihhKXtyZXR1cm4gYSE9PUVycm9yLnByb3RvdHlwZX0sYT0+YSE9PVwiaXNBeGlvc0Vycm9yXCIpLHF0LmNhbGwocyx0Lm1lc3NhZ2UsZSxuLGkscikscy5jYXVzZT10LHMubmFtZT10Lm5hbWUsbyYmT2JqZWN0LmFzc2lnbihzLG8pLHN9O2Z1bmN0aW9uIGFwKHQpe3JldHVybiBLLmlzUGxhaW5PYmplY3QodCl8fEsuaXNBcnJheSh0KX1mdW5jdGlvbiBtdyh0KXtyZXR1cm4gSy5lbmRzV2l0aCh0LFwiW11cIik/dC5zbGljZSgwLC0yKTp0fWZ1bmN0aW9uIEpUKHQsZSxuKXtyZXR1cm4gdD90LmNvbmNhdChlKS5tYXAoZnVuY3Rpb24oaSxyKXtyZXR1cm4gaT1tdyhpKSwhbiYmcj9cIltcIitpK1wiXVwiOml9KS5qb2luKG4/XCIuXCI6XCJcIik6ZX12YXIgZHg9Sy50b0ZsYXRPYmplY3QoSyx7fSxudWxsLGZ1bmN0aW9uKHQpe3JldHVybiAvXmlzW0EtWl0vLnRlc3QodCl9KTtmdW5jdGlvbiBVbCh0LGUsbil7aWYoIUsuaXNPYmplY3QodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcInRhcmdldCBtdXN0IGJlIGFuIG9iamVjdFwiKTtlPWV8fG5ldyBGb3JtRGF0YTtsZXQgaT0obj1LLnRvRmxhdE9iamVjdChuLHttZXRhVG9rZW5zOiEwLGRvdHM6ITEsaW5kZXhlczohMX0sITEsZnVuY3Rpb24oaCxwKXtyZXR1cm4gIUsuaXNVbmRlZmluZWQocFtoXSl9KSkubWV0YVRva2VucyxyPW4udmlzaXRvcnx8ZCxvPW4uZG90cyxzPW4uaW5kZXhlcyxhPShuLkJsb2J8fHR5cGVvZiBCbG9iPFwidVwiJiZCbG9iKSYmSy5pc1NwZWNDb21wbGlhbnRGb3JtKGUpO2lmKCFLLmlzRnVuY3Rpb24ocikpdGhyb3cgbmV3IFR5cGVFcnJvcihcInZpc2l0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO2Z1bmN0aW9uIGMoaCl7aWYoaD09PW51bGwpcmV0dXJuIFwiXCI7aWYoSy5pc0RhdGUoaCkpcmV0dXJuIGgudG9JU09TdHJpbmcoKTtpZighYSYmSy5pc0Jsb2IoaCkpdGhyb3cgbmV3IHF0KFwiQmxvYiBpcyBub3Qgc3VwcG9ydGVkLiBVc2UgYSBCdWZmZXIgaW5zdGVhZC5cIik7cmV0dXJuIEsuaXNBcnJheUJ1ZmZlcihoKXx8Sy5pc1R5cGVkQXJyYXkoaCk/YSYmdHlwZW9mIEJsb2I9PVwiZnVuY3Rpb25cIj9uZXcgQmxvYihbaF0pOkJ1ZmZlci5mcm9tKGgpOmh9ZnVuY3Rpb24gZChoLHAsZyl7bGV0IEU9aDtpZihoJiYhZyYmdHlwZW9mIGg9PVwib2JqZWN0XCIpe2lmKEsuZW5kc1dpdGgocCxcInt9XCIpKXA9aT9wOnAuc2xpY2UoMCwtMiksaD1KU09OLnN0cmluZ2lmeShoKTtlbHNlIGlmKEsuaXNBcnJheShoKSYmZnVuY3Rpb24oZil7cmV0dXJuIEsuaXNBcnJheShmKSYmIWYuc29tZShhcCl9KGgpfHwoSy5pc0ZpbGVMaXN0KGgpfHxLLmVuZHNXaXRoKHAsXCJbXVwiKSkmJihFPUsudG9BcnJheShoKSkpcmV0dXJuIHA9bXcocCksRS5mb3JFYWNoKGZ1bmN0aW9uKGYsUyl7IUsuaXNVbmRlZmluZWQoZikmJmYhPT1udWxsJiZlLmFwcGVuZChzPT09ITA/SlQoW3BdLFMsbyk6cz09PW51bGw/cDpwK1wiW11cIixjKGYpKTt9KSwhMX1yZXR1cm4gISFhcChoKXx8KGUuYXBwZW5kKEpUKGcscCxvKSxjKGgpKSwhMSl9bGV0IGw9W10sdT1PYmplY3QuYXNzaWduKGR4LHtkZWZhdWx0VmlzaXRvcjpkLGNvbnZlcnRWYWx1ZTpjLGlzVmlzaXRhYmxlOmFwfSk7aWYoIUsuaXNPYmplY3QodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImRhdGEgbXVzdCBiZSBhbiBvYmplY3RcIik7cmV0dXJuIGZ1bmN0aW9uIGgocCxnKXtpZighSy5pc1VuZGVmaW5lZChwKSl7aWYobC5pbmRleE9mKHApIT09LTEpdGhyb3cgRXJyb3IoXCJDaXJjdWxhciByZWZlcmVuY2UgZGV0ZWN0ZWQgaW4gXCIrZy5qb2luKFwiLlwiKSk7bC5wdXNoKHApLEsuZm9yRWFjaChwLGZ1bmN0aW9uKEUsZil7KCEoSy5pc1VuZGVmaW5lZChFKXx8RT09PW51bGwpJiZyLmNhbGwoZSxFLEsuaXNTdHJpbmcoZik/cm4oZikuY2FsbChmKTpmLGcsdSkpPT09ITAmJmgoRSxnP2cuY29uY2F0KGYpOltmXSk7fSksbC5wb3AoKTt9fSh0KSxlfWZ1bmN0aW9uIFhUKHQpe2xldCBlPXtcIiFcIjpcIiUyMVwiLFwiJ1wiOlwiJTI3XCIsXCIoXCI6XCIlMjhcIixcIilcIjpcIiUyOVwiLFwiflwiOlwiJTdFXCIsXCIlMjBcIjpcIitcIixcIiUwMFwiOlwiXFwwXCJ9O3JldHVybiBlbmNvZGVVUklDb21wb25lbnQodCkucmVwbGFjZSgvWyEnKCl+XXwlMjB8JTAwL2csZnVuY3Rpb24obil7cmV0dXJuIGVbbl19KX1mdW5jdGlvbiBRbSh0LGUpe3RoaXMuX3BhaXJzPVtdLHQmJlVsKHQsdGhpcyxlKTt9dmFyIFFUPVFtLnByb3RvdHlwZTtmdW5jdGlvbiBseCh0KXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHQpLnJlcGxhY2UoLyUzQS9naSxcIjpcIikucmVwbGFjZSgvJTI0L2csXCIkXCIpLnJlcGxhY2UoLyUyQy9naSxcIixcIikucmVwbGFjZSgvJTIwL2csXCIrXCIpLnJlcGxhY2UoLyU1Qi9naSxcIltcIikucmVwbGFjZSgvJTVEL2dpLFwiXVwiKX1mdW5jdGlvbiBmdyh0LGUsbil7aWYoIWUpcmV0dXJuIHQ7bGV0IGk9biYmbi5lbmNvZGV8fGx4LHI9biYmbi5zZXJpYWxpemUsbztpZihvPXI/cihlLG4pOksuaXNVUkxTZWFyY2hQYXJhbXMoZSk/ZS50b1N0cmluZygpOm5ldyBRbShlLG4pLnRvU3RyaW5nKGkpLG8pe2xldCBzPXQuaW5kZXhPZihcIiNcIik7cyE9PS0xJiYodD10LnNsaWNlKDAscykpLHQrPSh0LmluZGV4T2YoXCI/XCIpPT09LTE/XCI/XCI6XCImXCIpK287fXJldHVybiB0fVFULmFwcGVuZD1mdW5jdGlvbih0LGUpe3RoaXMuX3BhaXJzLnB1c2goW3QsZV0pO30sUVQudG9TdHJpbmc9ZnVuY3Rpb24odCl7bGV0IGU9dD9mdW5jdGlvbihuKXtyZXR1cm4gdC5jYWxsKHRoaXMsbixYVCl9OlhUO3JldHVybiB0aGlzLl9wYWlycy5tYXAoZnVuY3Rpb24obil7cmV0dXJuIGUoblswXSkrXCI9XCIrZShuWzFdKX0sXCJcIikuam9pbihcIiZcIil9O3ZhciBaVD1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuaGFuZGxlcnM9W107fXVzZSh0LGUsbil7cmV0dXJuIHRoaXMuaGFuZGxlcnMucHVzaCh7ZnVsZmlsbGVkOnQscmVqZWN0ZWQ6ZSxzeW5jaHJvbm91czohIW4mJm4uc3luY2hyb25vdXMscnVuV2hlbjpuP24ucnVuV2hlbjpudWxsfSksdGhpcy5oYW5kbGVycy5sZW5ndGgtMX1lamVjdCh0KXt0aGlzLmhhbmRsZXJzW3RdJiYodGhpcy5oYW5kbGVyc1t0XT1udWxsKTt9Y2xlYXIoKXt0aGlzLmhhbmRsZXJzJiYodGhpcy5oYW5kbGVycz1bXSk7fWZvckVhY2godCl7Sy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsZnVuY3Rpb24oZSl7ZSE9PW51bGwmJnQoZSk7fSk7fX0sZ3c9e3NpbGVudEpTT05QYXJzaW5nOiEwLGZvcmNlZEpTT05QYXJzaW5nOiEwLGNsYXJpZnlUaW1lb3V0RXJyb3I6ITF9LFR3PXtleHBvcnRzOnt9fSx1eD14dCxoeD1yaSwkVD1BaS5mO3V4KHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDpPYmplY3QuZGVmaW5lUHJvcGVydHkhPT0kVCxzaGFtOiFoeH0se2RlZmluZVByb3BlcnR5OiRUfSk7dmFyIFN3PUdpLk9iamVjdCxweD1Udy5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gU3cuZGVmaW5lUHJvcGVydHkodCxlLG4pfTtTdy5kZWZpbmVQcm9wZXJ0eS5zaGFtJiYocHguc2hhbT0hMCk7dmFyIFJ3PWFlKFR3LmV4cG9ydHMpLF94PXByLG5kPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVybiBfeCh0KT09XCJBcnJheVwifSxFeD1UeXBlRXJyb3IsdFM9bmQsbXg9eHUsZng9SG4sZ3g9cGUoXCJzcGVjaWVzXCIpLGVTPUFycmF5LFR4PWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0Uyh0KSYmKGU9dC5jb25zdHJ1Y3RvciwobXgoZSkmJihlPT09ZVN8fHRTKGUucHJvdG90eXBlKSl8fGZ4KGUpJiYoZT1lW2d4XSk9PT1udWxsKSYmKGU9dm9pZCAwKSksZT09PXZvaWQgMD9lUzplfSxDdz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcoVHgodCkpKGU9PT0wPzA6ZSl9LFN4PVNlLFJ4PXpvLEN4PXBlKFwic3BlY2llc1wiKSxJdz1mdW5jdGlvbih0KXtyZXR1cm4gUng+PTUxfHwhU3goZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gKGUuY29uc3RydWN0b3I9e30pW0N4XT1mdW5jdGlvbigpe3JldHVybiB7Zm9vOjF9fSxlW3RdKEJvb2xlYW4pLmZvbyE9PTF9KX0sSXg9eHQsdng9U2UseXg9bmQsQXg9SG4sYng9X3Isd3g9THIsblM9ZnVuY3Rpb24odCl7aWYodD45MDA3MTk5MjU0NzQwOTkxKXRocm93IEV4KFwiTWF4aW11bSBhbGxvd2VkIGluZGV4IGV4Y2VlZGVkXCIpO3JldHVybiB0fSxpUz1CdSxPeD1DdyxOeD1JdyxEeD16byx2dz1wZShcImlzQ29uY2F0U3ByZWFkYWJsZVwiKSxQeD1EeD49NTF8fCF2eChmdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0W3Z3XT0hMSx0LmNvbmNhdCgpWzBdIT09dH0pLGt4PWZ1bmN0aW9uKHQpe2lmKCFBeCh0KSlyZXR1cm4gITE7dmFyIGU9dFt2d107cmV0dXJuIGUhPT12b2lkIDA/ISFlOnl4KHQpfTtJeCh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxhcml0eToxLGZvcmNlZDohUHh8fCFOeChcImNvbmNhdFwiKX0se2NvbmNhdDpmdW5jdGlvbih0KXt2YXIgZSxuLGkscixvLHM9YngodGhpcyksYT1PeChzLDApLGM9MDtmb3IoZT0tMSxpPWFyZ3VtZW50cy5sZW5ndGg7ZTxpO2UrKylpZihreChvPWU9PT0tMT9zOmFyZ3VtZW50c1tlXSkpZm9yKHI9d3gobyksblMoYytyKSxuPTA7bjxyO24rKyxjKyspbiBpbiBvJiZpUyhhLGMsb1tuXSk7ZWxzZSBuUyhjKzEpLGlTKGEsYysrLG8pO3JldHVybiBhLmxlbmd0aD1jLGF9fSk7dmFyIHl3PXt9LEx4PXByLE14PUVvLHJTPVB1LmYsVXg9em0sb1M9dHlwZW9mIHdpbmRvdz09XCJvYmplY3RcIiYmd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdO3l3LmY9ZnVuY3Rpb24odCl7cmV0dXJuIG9TJiZMeCh0KT09XCJXaW5kb3dcIj9mdW5jdGlvbihlKXt0cnl7cmV0dXJuIHJTKGUpfWNhdGNoe3JldHVybiBVeChvUyl9fSh0KTpyUyhNeCh0KSl9O3ZhciBFYT17fSx4eD1wZTtFYS5mPXh4O3ZhciBzUz1HaSxWeD1KZSxGeD1FYSxCeD1BaS5mLEZlPWZ1bmN0aW9uKHQpe3ZhciBlPXNTLlN5bWJvbHx8KHNTLlN5bWJvbD17fSk7VngoZSx0KXx8QngoZSx0LHt2YWx1ZTpGeC5mKHQpfSk7fSxqeD1LZSxHeD1EbixXeD1wZSxIeD1nbyxBdz1mdW5jdGlvbigpe3ZhciB0PUd4KFwiU3ltYm9sXCIpLGU9dCYmdC5wcm90b3R5cGUsbj1lJiZlLnZhbHVlT2YsaT1XeChcInRvUHJpbWl0aXZlXCIpO2UmJiFlW2ldJiZIeChlLGksZnVuY3Rpb24ocil7cmV0dXJuIGp4KG4sdGhpcyl9LHthcml0eToxfSk7fSxLeD1tbyxZeD1idSxxeD1fcix6eD1McixKeD1DdyxhUz1tZShbXS5wdXNoKSxWcj1mdW5jdGlvbih0KXt2YXIgZT10PT0xLG49dD09MixpPXQ9PTMscj10PT00LG89dD09NixzPXQ9PTcsYT10PT01fHxvO3JldHVybiBmdW5jdGlvbihjLGQsbCx1KXtmb3IodmFyIGgscCxnPXF4KGMpLEU9WXgoZyksZj1LeChkLGwpLFM9engoRSksQz0wLEE9dXx8SngsYj1lP0EoYyxTKTpufHxzP0EoYywwKTp2b2lkIDA7Uz5DO0MrKylpZigoYXx8QyBpbiBFKSYmKHA9ZihoPUVbQ10sQyxnKSx0KSlpZihlKWJbQ109cDtlbHNlIGlmKHApc3dpdGNoKHQpe2Nhc2UgMzpyZXR1cm4gITA7Y2FzZSA1OnJldHVybiBoO2Nhc2UgNjpyZXR1cm4gQztjYXNlIDI6YVMoYixoKTt9ZWxzZSBzd2l0Y2godCl7Y2FzZSA0OnJldHVybiAhMTtjYXNlIDc6YVMoYixoKTt9cmV0dXJuIG8/LTE6aXx8cj9yOmJ9fSxidz17Zm9yRWFjaDpWcigwKSxtYXA6VnIoMSksZmlsdGVyOlZyKDIpLHNvbWU6VnIoMyksZXZlcnk6VnIoNCksZmluZDpWcig1KSxmaW5kSW5kZXg6VnIoNiksZmlsdGVyUmVqZWN0OlZyKDcpfSxSZD14dCxabT1XZSwkbT1LZSxYeD1tZSxqcz1yaSxkcz11YSxReD1TZSxkbj1KZSxaeD1obixFRT1DbixHdT1Fbyx0Zj1PdSwkeD1vaSxtRT1fbyxTYz1RYyx3dz1MdSx0Vj1QdSxPdz15dyxlVj1YYyxOdz1ZYyxEdz1BaSxuVj1NbSxQdz1BdSxjUz1nbyxpVj1VdSxlZj1wYSxrdz1rdSxkUz1BbSxyVj1wZSxvVj1FYSxzVj1GZSxhVj1BdyxjVj1UbyxMdz1ucyxXdT1idy5mb3JFYWNoLFZuPUR1KFwiaGlkZGVuXCIpLHhsPVwiU3ltYm9sXCIsUmM9XCJwcm90b3R5cGVcIixkVj1Mdy5zZXQsbFM9THcuZ2V0dGVyRm9yKHhsKSxGaT1PYmplY3RbUmNdLE5zPVptLlN5bWJvbCxfbD1OcyYmTnNbUmNdLGxWPVptLlR5cGVFcnJvcixjcD1abS5RT2JqZWN0LE13PU53LmYsa289RHcuZixVdz1Pdy5mLHVWPVB3LmYseHc9WHgoW10ucHVzaCksa3I9ZWYoXCJzeW1ib2xzXCIpLGlkPWVmKFwib3Atc3ltYm9sc1wiKSxoVj1lZihcIndrc1wiKSxkcD0hY3B8fCFjcFtSY118fCFjcFtSY10uZmluZENoaWxkLGZFPWpzJiZReChmdW5jdGlvbigpe3JldHVybiBTYyhrbyh7fSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGtvKHRoaXMsXCJhXCIse3ZhbHVlOjd9KS5hfX0pKS5hIT03fSk/ZnVuY3Rpb24odCxlLG4pe3ZhciBpPU13KEZpLGUpO2kmJmRlbGV0ZSBGaVtlXSxrbyh0LGUsbiksaSYmdCE9PUZpJiZrbyhGaSxlLGkpO306a28sbHA9ZnVuY3Rpb24odCxlKXt2YXIgbj1rclt0XT1TYyhfbCk7cmV0dXJuIGRWKG4se3R5cGU6eGwsdGFnOnQsZGVzY3JpcHRpb246ZX0pLGpzfHwobi5kZXNjcmlwdGlvbj1lKSxufSxWbD1mdW5jdGlvbih0LGUsbil7dD09PUZpJiZWbChpZCxlLG4pLEVFKHQpO3ZhciBpPXRmKGUpO3JldHVybiBFRShuKSxkbihrcixpKT8obi5lbnVtZXJhYmxlPyhkbih0LFZuKSYmdFtWbl1baV0mJih0W1ZuXVtpXT0hMSksbj1TYyhuLHtlbnVtZXJhYmxlOm1FKDAsITEpfSkpOihkbih0LFZuKXx8a28odCxWbixtRSgxLHt9KSksdFtWbl1baV09ITApLGZFKHQsaSxuKSk6a28odCxpLG4pfSx1cD1mdW5jdGlvbih0LGUpe0VFKHQpO3ZhciBuPUd1KGUpLGk9d3cobikuY29uY2F0KEZ3KG4pKTtyZXR1cm4gV3UoaSxmdW5jdGlvbihyKXtqcyYmISRtKFZ3LG4scil8fFZsKHQscixuW3JdKTt9KSx0fSxWdz1mdW5jdGlvbih0KXt2YXIgZT10Zih0KSxuPSRtKHVWLHRoaXMsZSk7cmV0dXJuICEodGhpcz09PUZpJiZkbihrcixlKSYmIWRuKGlkLGUpKSYmKCEobnx8IWRuKHRoaXMsZSl8fCFkbihrcixlKXx8ZG4odGhpcyxWbikmJnRoaXNbVm5dW2VdKXx8bil9LHVTPWZ1bmN0aW9uKHQsZSl7dmFyIG49R3UodCksaT10ZihlKTtpZihuIT09Rml8fCFkbihrcixpKXx8ZG4oaWQsaSkpe3ZhciByPU13KG4saSk7cmV0dXJuICFyfHwhZG4oa3IsaSl8fGRuKG4sVm4pJiZuW1ZuXVtpXXx8KHIuZW51bWVyYWJsZT0hMCkscn19LGhTPWZ1bmN0aW9uKHQpe3ZhciBlPVV3KEd1KHQpKSxuPVtdO3JldHVybiBXdShlLGZ1bmN0aW9uKGkpe2RuKGtyLGkpfHxkbihrdyxpKXx8eHcobixpKTt9KSxufSxGdz1mdW5jdGlvbih0KXt2YXIgZT10PT09Rmksbj1VdyhlP2lkOkd1KHQpKSxpPVtdO3JldHVybiBXdShuLGZ1bmN0aW9uKHIpeyFkbihrcixyKXx8ZSYmIWRuKEZpLHIpfHx4dyhpLGtyW3JdKTt9KSxpfTtkc3x8KGNTKF9sPShOcz1mdW5jdGlvbigpe2lmKFp4KF9sLHRoaXMpKXRocm93IGxWKFwiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yXCIpO3ZhciB0PWFyZ3VtZW50cy5sZW5ndGgmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD8keChhcmd1bWVudHNbMF0pOnZvaWQgMCxlPWRTKHQpLG49ZnVuY3Rpb24oaSl7dGhpcz09PUZpJiYkbShuLGlkLGkpLGRuKHRoaXMsVm4pJiZkbih0aGlzW1ZuXSxlKSYmKHRoaXNbVm5dW2VdPSExKSxmRSh0aGlzLGUsbUUoMSxpKSk7fTtyZXR1cm4ganMmJmRwJiZmRShGaSxlLHtjb25maWd1cmFibGU6ITAsc2V0Om59KSxscChlLHQpfSlbUmNdLFwidG9TdHJpbmdcIixmdW5jdGlvbigpe3JldHVybiBsUyh0aGlzKS50YWd9KSxjUyhOcyxcIndpdGhvdXRTZXR0ZXJcIixmdW5jdGlvbih0KXtyZXR1cm4gbHAoZFModCksdCl9KSxQdy5mPVZ3LER3LmY9VmwsblYuZj11cCxOdy5mPXVTLHRWLmY9T3cuZj1oUyxlVi5mPUZ3LG9WLmY9ZnVuY3Rpb24odCl7cmV0dXJuIGxwKHJWKHQpLHQpfSxqcyYmaVYoX2wsXCJkZXNjcmlwdGlvblwiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxTKHRoaXMpLmRlc2NyaXB0aW9ufX0pKSxSZCh7Z2xvYmFsOiEwLGNvbnN0cnVjdG9yOiEwLHdyYXA6ITAsZm9yY2VkOiFkcyxzaGFtOiFkc30se1N5bWJvbDpOc30pLFd1KHd3KGhWKSxmdW5jdGlvbih0KXtzVih0KTt9KSxSZCh7dGFyZ2V0OnhsLHN0YXQ6ITAsZm9yY2VkOiFkc30se3VzZVNldHRlcjpmdW5jdGlvbigpe2RwPSEwO30sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7ZHA9ITE7fX0pLFJkKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDohZHMsc2hhbTohanN9LHtjcmVhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT09PXZvaWQgMD9TYyh0KTp1cChTYyh0KSxlKX0sZGVmaW5lUHJvcGVydHk6VmwsZGVmaW5lUHJvcGVydGllczp1cCxnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6dVN9KSxSZCh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6IWRzfSx7Z2V0T3duUHJvcGVydHlOYW1lczpoU30pLGFWKCksY1YoTnMseGwpLGt3W1ZuXT0hMDt2YXIgQnc9dWEmJiEhU3ltYm9sLmZvciYmISFTeW1ib2wua2V5Rm9yLHBWPXh0LF9WPURuLEVWPUplLG1WPW9pLGp3PXBhLGZWPUJ3LGhwPWp3KFwic3RyaW5nLXRvLXN5bWJvbC1yZWdpc3RyeVwiKSxnVj1qdyhcInN5bWJvbC10by1zdHJpbmctcmVnaXN0cnlcIik7cFYoe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITAsZm9yY2VkOiFmVn0se2ZvcjpmdW5jdGlvbih0KXt2YXIgZT1tVih0KTtpZihFVihocCxlKSlyZXR1cm4gaHBbZV07dmFyIG49X1YoXCJTeW1ib2xcIikoZSk7cmV0dXJuIGhwW2VdPW4sZ1Zbbl09ZSxufX0pO3ZhciBUVj14dCxTVj1KZSxSVj1xYyxDVj1oYSxJVj1CdyxwUz1wYShcInN5bWJvbC10by1zdHJpbmctcmVnaXN0cnlcIik7VFYoe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITAsZm9yY2VkOiFJVn0se2tleUZvcjpmdW5jdGlvbih0KXtpZighUlYodCkpdGhyb3cgVHlwZUVycm9yKENWKHQpK1wiIGlzIG5vdCBhIHN5bWJvbFwiKTtpZihTVihwUyx0KSlyZXR1cm4gcFNbdF19fSk7dmFyIF9TPW5kLHZWPUhlLEVTPXByLHlWPW9pLG1TPW1lKFtdLnB1c2gpLEFWPXh0LEd3PURuLFd3PXZtLGJWPUtlLHJkPW1lLEh3PVNlLGZTPUhlLGdTPXFjLEt3PUdtLHdWPWZ1bmN0aW9uKHQpe2lmKHZWKHQpKXJldHVybiB0O2lmKF9TKHQpKXtmb3IodmFyIGU9dC5sZW5ndGgsbj1bXSxpPTA7aTxlO2krKyl7dmFyIHI9dFtpXTt0eXBlb2Ygcj09XCJzdHJpbmdcIj9tUyhuLHIpOnR5cGVvZiByIT1cIm51bWJlclwiJiZFUyhyKSE9XCJOdW1iZXJcIiYmRVMocikhPVwiU3RyaW5nXCJ8fG1TKG4seVYocikpO312YXIgbz1uLmxlbmd0aCxzPSEwO3JldHVybiBmdW5jdGlvbihhLGMpe2lmKHMpcmV0dXJuIHM9ITEsYztpZihfUyh0aGlzKSlyZXR1cm4gYztmb3IodmFyIGQ9MDtkPG87ZCsrKWlmKG5bZF09PT1hKXJldHVybiBjfX19LE9WPXVhLE5WPVN0cmluZyxybz1HdyhcIkpTT05cIixcInN0cmluZ2lmeVwiKSxDZD1yZCgvLi8uZXhlYyksVFM9cmQoXCJcIi5jaGFyQXQpLERWPXJkKFwiXCIuY2hhckNvZGVBdCksUFY9cmQoXCJcIi5yZXBsYWNlKSxrVj1yZCgxIC50b1N0cmluZyksTFY9L1tcXHVEODAwLVxcdURGRkZdL2csU1M9L15bXFx1RDgwMC1cXHVEQkZGXSQvLFJTPS9eW1xcdURDMDAtXFx1REZGRl0kLyxDUz0hT1Z8fEh3KGZ1bmN0aW9uKCl7dmFyIHQ9R3coXCJTeW1ib2xcIikoKTtyZXR1cm4gcm8oW3RdKSE9XCJbbnVsbF1cInx8cm8oe2E6dH0pIT1cInt9XCJ8fHJvKE9iamVjdCh0KSkhPVwie31cIn0pLElTPUh3KGZ1bmN0aW9uKCl7cmV0dXJuIHJvKFwiXFx1REYwNlxcdUQ4MzRcIikhPT0nXCJcXFxcdWRmMDZcXFxcdWQ4MzRcIid8fHJvKFwiXFx1REVBRFwiKSE9PSdcIlxcXFx1ZGVhZFwiJ30pLE1WPWZ1bmN0aW9uKHQsZSl7dmFyIG49S3coYXJndW1lbnRzKSxpPXdWKGUpO2lmKGZTKGkpfHx0IT09dm9pZCAwJiYhZ1ModCkpcmV0dXJuIG5bMV09ZnVuY3Rpb24ocixvKXtpZihmUyhpKSYmKG89YlYoaSx0aGlzLE5WKHIpLG8pKSwhZ1MobykpcmV0dXJuIG99LFd3KHJvLG51bGwsbil9LFVWPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1UUyhuLGUtMSkscj1UUyhuLGUrMSk7cmV0dXJuIENkKFNTLHQpJiYhQ2QoUlMscil8fENkKFJTLHQpJiYhQ2QoU1MsaSk/XCJcXFxcdVwiK2tWKERWKHQsMCksMTYpOnR9O3JvJiZBVih7dGFyZ2V0OlwiSlNPTlwiLHN0YXQ6ITAsYXJpdHk6Myxmb3JjZWQ6Q1N8fElTfSx7c3RyaW5naWZ5OmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1Ldyhhcmd1bWVudHMpLHI9V3coQ1M/TVY6cm8sbnVsbCxpKTtyZXR1cm4gSVMmJnR5cGVvZiByPT1cInN0cmluZ1wiP1BWKHIsTFYsVVYpOnJ9fSk7dmFyIHZTPVhjLHhWPV9yO3h0KHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDohdWF8fFNlKGZ1bmN0aW9uKCl7dlMuZigxKTt9KX0se2dldE93blByb3BlcnR5U3ltYm9sczpmdW5jdGlvbih0KXt2YXIgZT12Uy5mO3JldHVybiBlP2UoeFYodCkpOltdfX0pLEZlKFwiYXN5bmNJdGVyYXRvclwiKSxGZShcImhhc0luc3RhbmNlXCIpLEZlKFwiaXNDb25jYXRTcHJlYWRhYmxlXCIpLEZlKFwiaXRlcmF0b3JcIiksRmUoXCJtYXRjaFwiKSxGZShcIm1hdGNoQWxsXCIpLEZlKFwicmVwbGFjZVwiKSxGZShcInNlYXJjaFwiKSxGZShcInNwZWNpZXNcIiksRmUoXCJzcGxpdFwiKTt2YXIgVlY9QXc7RmUoXCJ0b1ByaW1pdGl2ZVwiKSxWVigpO3ZhciBGVj1EbixCVj1UbztGZShcInRvU3RyaW5nVGFnXCIpLEJWKEZWKFwiU3ltYm9sXCIpLFwiU3ltYm9sXCIpLEZlKFwidW5zY29wYWJsZXNcIiksVG8oV2UuSlNPTixcIkpTT05cIiwhMCk7dmFyIGpWPUdpLlN5bWJvbCxHVj1wZSxXVj1BaS5mLHlTPUdWKFwibWV0YWRhdGFcIiksQVM9RnVuY3Rpb24ucHJvdG90eXBlO0FTW3lTXT09PXZvaWQgMCYmV1YoQVMseVMse3ZhbHVlOm51bGx9KSxGZShcImRpc3Bvc2VcIiksRmUoXCJtZXRhZGF0YVwiKTt2YXIgSFY9alY7RmUoXCJhc3luY0Rpc3Bvc2VcIik7dmFyIEtWPW1lLG5mPURuKFwiU3ltYm9sXCIpLFlWPW5mLmtleUZvcixxVj1LVihuZi5wcm90b3R5cGUudmFsdWVPZiksWXc9bmYuaXNSZWdpc3RlcmVkU3ltYm9sfHxmdW5jdGlvbih0KXt0cnl7cmV0dXJuIFlWKHFWKHQpKSE9PXZvaWQgMH1jYXRjaHtyZXR1cm4gITF9fTt4dCh7dGFyZ2V0OlwiU3ltYm9sXCIsc3RhdDohMH0se2lzUmVnaXN0ZXJlZFN5bWJvbDpZd30pO2ZvcihiUz1wYSxwcD1Ebix3Uz1tZSxPUz1xYyxOUz1wZSxOYT1wcChcIlN5bWJvbFwiKSxnRT1OYS5pc1dlbGxLbm93blN5bWJvbCxURT1wcChcIk9iamVjdFwiLFwiZ2V0T3duUHJvcGVydHlOYW1lc1wiKSxxdz13UyhOYS5wcm90b3R5cGUudmFsdWVPZiksU0U9YlMoXCJ3a3NcIiksSWQ9MCxfcD1URShOYSksRFM9X3AubGVuZ3RoO0lkPERTO0lkKyspdHJ5e0VwPV9wW0lkXSxPUyhOYVtFcF0pJiZOUyhFcCk7fWNhdGNoe312YXIgRXAsYlMscHAsd1MsT1MsTlMsTmEsZ0UsVEUscXcsU0UsSWQsX3AsRFMsUFM9ZnVuY3Rpb24odCl7aWYoZ0UmJmdFKHQpKXJldHVybiAhMDt0cnl7Zm9yKHZhciBlPXF3KHQpLG49MCxpPVRFKFNFKSxyPWkubGVuZ3RoO248cjtuKyspaWYoU0VbaVtuXV09PWUpcmV0dXJuICEwfWNhdGNoe31yZXR1cm4gITF9O3h0KHt0YXJnZXQ6XCJTeW1ib2xcIixzdGF0OiEwLGZvcmNlZDohMH0se2lzV2VsbEtub3duU3ltYm9sOlBTfSksRmUoXCJtYXRjaGVyXCIpLEZlKFwib2JzZXJ2YWJsZVwiKSx4dCh7dGFyZ2V0OlwiU3ltYm9sXCIsc3RhdDohMCxuYW1lOlwiaXNSZWdpc3RlcmVkU3ltYm9sXCJ9LHtpc1JlZ2lzdGVyZWQ6WXd9KSx4dCh7dGFyZ2V0OlwiU3ltYm9sXCIsc3RhdDohMCxuYW1lOlwiaXNXZWxsS25vd25TeW1ib2xcIixmb3JjZWQ6ITB9LHtpc1dlbGxLbm93bjpQU30pLEZlKFwibWV0YWRhdGFLZXlcIiksRmUoXCJwYXR0ZXJuTWF0Y2hcIiksRmUoXCJyZXBsYWNlQWxsXCIpO3ZhciBEcz1hZShIViksenc9YWUoRWEuZihcIml0ZXJhdG9yXCIpKTtmdW5jdGlvbiBvYyh0KXtyZXR1cm4gb2M9dHlwZW9mIERzPT1cImZ1bmN0aW9uXCImJnR5cGVvZiB6dz09XCJzeW1ib2xcIj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZ0eXBlb2YgRHM9PVwiZnVuY3Rpb25cIiYmZS5jb25zdHJ1Y3Rvcj09PURzJiZlIT09RHMucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LG9jKHQpfXZhciB6Vj1hZShFYS5mKFwidG9QcmltaXRpdmVcIikpO2Z1bmN0aW9uIEpWKHQpe3ZhciBlPWZ1bmN0aW9uKG4saSl7aWYob2MobikhPT1cIm9iamVjdFwifHxuPT09bnVsbClyZXR1cm4gbjt2YXIgcj1uW3pWXTtpZihyIT09dm9pZCAwKXt2YXIgbz1yLmNhbGwobixpfHxcImRlZmF1bHRcIik7aWYob2MobykhPT1cIm9iamVjdFwiKXJldHVybiBvO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gKGk9PT1cInN0cmluZ1wiP1N0cmluZzpOdW1iZXIpKG4pfSh0LFwic3RyaW5nXCIpO3JldHVybiBvYyhlKT09PVwic3ltYm9sXCI/ZTpTdHJpbmcoZSl9ZnVuY3Rpb24gVCh0LGUsbil7cmV0dXJuIChlPUpWKGUpKWluIHQ/UncodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9dmFyIFhWPVNlLFFWPXBlKFwiaXRlcmF0b3JcIikscmY9IVhWKGZ1bmN0aW9uKCl7dmFyIHQ9bmV3IFVSTChcImI/YT0xJmI9MiZjPTNcIixcImh0dHA6Ly9hXCIpLGU9dC5zZWFyY2hQYXJhbXMsbj1uZXcgVVJMU2VhcmNoUGFyYW1zKFwiYT0xJmE9MlwiKSxpPVwiXCI7cmV0dXJuIHQucGF0aG5hbWU9XCJjJTIwZFwiLGUuZm9yRWFjaChmdW5jdGlvbihyLG8pe2UuZGVsZXRlKFwiYlwiKSxpKz1vK3I7fSksbi5kZWxldGUoXCJhXCIsMiksIXQudG9KU09OfHwhbi5oYXMoXCJhXCIsMSl8fG4uaGFzKFwiYVwiLDIpfHwhZS5zaXplJiYhMHx8IWUuc29ydHx8dC5ocmVmIT09XCJodHRwOi8vYS9jJTIwZD9hPTEmYz0zXCJ8fGUuZ2V0KFwiY1wiKSE9PVwiM1wifHxTdHJpbmcobmV3IFVSTFNlYXJjaFBhcmFtcyhcIj9hPTFcIikpIT09XCJhPTFcInx8IWVbUVZdfHxuZXcgVVJMKFwiaHR0cHM6Ly9hQGJcIikudXNlcm5hbWUhPT1cImFcInx8bmV3IFVSTFNlYXJjaFBhcmFtcyhuZXcgVVJMU2VhcmNoUGFyYW1zKFwiYT1iXCIpKS5nZXQoXCJhXCIpIT09XCJiXCJ8fG5ldyBVUkwoXCJodHRwOi8vXFx1MDQ0MlxcdTA0MzVcXHUwNDQxXFx1MDQ0MlwiKS5ob3N0IT09XCJ4bi0tZTFheWJjXCJ8fG5ldyBVUkwoXCJodHRwOi8vYSNcXHUwNDMxXCIpLmhhc2ghPT1cIiMlRDAlQjFcInx8aSE9PVwiYTFjM1wifHxuZXcgVVJMKFwiaHR0cDovL3hcIix2b2lkIDApLmhvc3QhPT1cInhcIn0pLFpWPWdvLG1wPXh0LFhzPVdlLHZkPUtlLHVyPW1lLFBzPXJpLGtTPXJmLExTPWdvLCRWPVV1LHRGPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGkgaW4gZSluJiZuLnVuc2FmZSYmdFtpXT90W2ldPWVbaV06WlYodCxpLGVbaV0sbik7cmV0dXJuIHR9LGVGPVRvLG5GPXhtLG9mPW5zLEp3PUZtLGZwPUhlLGlGPUplLHJGPW1vLG9GPUVyLHNGPUNuLFh3PUhuLGJuPW9pLGFGPVFjLE1TPV9vLFJFPVVtLGNGPU11LGxzPVZ1LGRGPWh3LGxGPXBlKFwiaXRlcmF0b3JcIiksQ2M9XCJVUkxTZWFyY2hQYXJhbXNcIixRdz1DYytcIkl0ZXJhdG9yXCIsWnc9b2Yuc2V0LGZpPW9mLmdldHRlckZvcihDYyksdUY9b2YuZ2V0dGVyRm9yKFF3KSxoRj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHNmPWZ1bmN0aW9uKHQpe2lmKCFQcylyZXR1cm4gWHNbdF07dmFyIGU9aEYoWHMsdCk7cmV0dXJuIGUmJmUudmFsdWV9LFVTPXNmKFwiZmV0Y2hcIiksRmw9c2YoXCJSZXF1ZXN0XCIpLHNjPXNmKFwiSGVhZGVyc1wiKSxncD1GbCYmRmwucHJvdG90eXBlLHhTPXNjJiZzYy5wcm90b3R5cGUscEY9WHMuUmVnRXhwLF9GPVhzLlR5cGVFcnJvciwkdz1Ycy5kZWNvZGVVUklDb21wb25lbnQsRUY9WHMuZW5jb2RlVVJJQ29tcG9uZW50LG1GPXVyKFwiXCIuY2hhckF0KSxWUz11cihbXS5qb2luKSx4bz11cihbXS5wdXNoKSxDRT11cihcIlwiLnJlcGxhY2UpLGZGPXVyKFtdLnNoaWZ0KSxGUz11cihbXS5zcGxpY2UpLEJTPXVyKFwiXCIuc3BsaXQpLGdGPXVyKFwiXCIuc2xpY2UpLFRGPS9cXCsvZyxqUz1BcnJheSg0KSxTRj1mdW5jdGlvbih0KXtyZXR1cm4galNbdC0xXXx8KGpTW3QtMV09cEYoXCIoKD86JVtcXFxcZGEtZl17Mn0pe1wiK3QrXCJ9KVwiLFwiZ2lcIikpfSxSRj1mdW5jdGlvbih0KXt0cnl7cmV0dXJuICR3KHQpfWNhdGNoe3JldHVybiB0fX0sR1M9ZnVuY3Rpb24odCl7dmFyIGU9Q0UodCxURixcIiBcIiksbj00O3RyeXtyZXR1cm4gJHcoZSl9Y2F0Y2h7Zm9yKDtuOyllPUNFKGUsU0Yobi0tKSxSRik7cmV0dXJuIGV9fSxDRj0vWyEnKCl+XXwlMjAvZyxJRj17XCIhXCI6XCIlMjFcIixcIidcIjpcIiUyN1wiLFwiKFwiOlwiJTI4XCIsXCIpXCI6XCIlMjlcIixcIn5cIjpcIiU3RVwiLFwiJTIwXCI6XCIrXCJ9LHZGPWZ1bmN0aW9uKHQpe3JldHVybiBJRlt0XX0sV1M9ZnVuY3Rpb24odCl7cmV0dXJuIENFKEVGKHQpLENGLHZGKX0sVHA9bkYoZnVuY3Rpb24odCxlKXtadyh0aGlzLHt0eXBlOlF3LGl0ZXJhdG9yOlJFKGZpKHQpLmVudHJpZXMpLGtpbmQ6ZX0pO30sXCJJdGVyYXRvclwiLGZ1bmN0aW9uKCl7dmFyIHQ9dUYodGhpcyksZT10LmtpbmQsbj10Lml0ZXJhdG9yLm5leHQoKSxpPW4udmFsdWU7cmV0dXJuIG4uZG9uZXx8KG4udmFsdWU9ZT09PVwia2V5c1wiP2kua2V5OmU9PT1cInZhbHVlc1wiP2kudmFsdWU6W2kua2V5LGkudmFsdWVdKSxufSwhMCksdE89ZnVuY3Rpb24odCl7dGhpcy5lbnRyaWVzPVtdLHRoaXMudXJsPW51bGwsdCE9PXZvaWQgMCYmKFh3KHQpP3RoaXMucGFyc2VPYmplY3QodCk6dGhpcy5wYXJzZVF1ZXJ5KHR5cGVvZiB0PT1cInN0cmluZ1wiP21GKHQsMCk9PT1cIj9cIj9nRih0LDEpOnQ6Ym4odCkpKTt9O3RPLnByb3RvdHlwZT17dHlwZTpDYyxiaW5kVVJMOmZ1bmN0aW9uKHQpe3RoaXMudXJsPXQsdGhpcy51cGRhdGUoKTt9LHBhcnNlT2JqZWN0OmZ1bmN0aW9uKHQpe3ZhciBlLG4saSxyLG8scyxhLGM9Y0YodCk7aWYoYylmb3Iobj0oZT1SRSh0LGMpKS5uZXh0OyEoaT12ZChuLGUpKS5kb25lOyl7aWYobz0ocj1SRShzRihpLnZhbHVlKSkpLm5leHQsKHM9dmQobyxyKSkuZG9uZXx8KGE9dmQobyxyKSkuZG9uZXx8IXZkKG8scikuZG9uZSl0aHJvdyBfRihcIkV4cGVjdGVkIHNlcXVlbmNlIHdpdGggbGVuZ3RoIDJcIik7eG8odGhpcy5lbnRyaWVzLHtrZXk6Ym4ocy52YWx1ZSksdmFsdWU6Ym4oYS52YWx1ZSl9KTt9ZWxzZSBmb3IodmFyIGQgaW4gdClpRih0LGQpJiZ4byh0aGlzLmVudHJpZXMse2tleTpkLHZhbHVlOmJuKHRbZF0pfSk7fSxwYXJzZVF1ZXJ5OmZ1bmN0aW9uKHQpe2lmKHQpZm9yKHZhciBlLG4saT1CUyh0LFwiJlwiKSxyPTA7cjxpLmxlbmd0aDspKGU9aVtyKytdKS5sZW5ndGgmJihuPUJTKGUsXCI9XCIpLHhvKHRoaXMuZW50cmllcyx7a2V5OkdTKGZGKG4pKSx2YWx1ZTpHUyhWUyhuLFwiPVwiKSl9KSk7fSxzZXJpYWxpemU6ZnVuY3Rpb24oKXtmb3IodmFyIHQsZT10aGlzLmVudHJpZXMsbj1bXSxpPTA7aTxlLmxlbmd0aDspdD1lW2krK10seG8obixXUyh0LmtleSkrXCI9XCIrV1ModC52YWx1ZSkpO3JldHVybiBWUyhuLFwiJlwiKX0sdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5lbnRyaWVzLmxlbmd0aD0wLHRoaXMucGFyc2VRdWVyeSh0aGlzLnVybC5xdWVyeSk7fSx1cGRhdGVVUkw6ZnVuY3Rpb24oKXt0aGlzLnVybCYmdGhpcy51cmwudXBkYXRlKCk7fX07dmFyIEJsPWZ1bmN0aW9uKCl7SncodGhpcyx2cyk7dmFyIHQ9WncodGhpcyxuZXcgdE8oYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApKTtQc3x8KHRoaXMuc2l6ZT10LmVudHJpZXMubGVuZ3RoKTt9LHZzPUJsLnByb3RvdHlwZTt0Rih2cyx7YXBwZW5kOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZmkodGhpcyk7bHMoYXJndW1lbnRzLmxlbmd0aCwyKSx4byhuLmVudHJpZXMse2tleTpibih0KSx2YWx1ZTpibihlKX0pLFBzfHx0aGlzLmxlbmd0aCsrLG4udXBkYXRlVVJMKCk7fSxkZWxldGU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWZpKHRoaXMpLG49bHMoYXJndW1lbnRzLmxlbmd0aCwxKSxpPWUuZW50cmllcyxyPWJuKHQpLG89bjwyP3ZvaWQgMDphcmd1bWVudHNbMV0scz1vPT09dm9pZCAwP286Ym4obyksYT0wO2E8aS5sZW5ndGg7KXt2YXIgYz1pW2FdO2lmKGMua2V5IT09cnx8cyE9PXZvaWQgMCYmYy52YWx1ZSE9PXMpYSsrO2Vsc2UgaWYoRlMoaSxhLDEpLHMhPT12b2lkIDApYnJlYWt9UHN8fCh0aGlzLnNpemU9aS5sZW5ndGgpLGUudXBkYXRlVVJMKCk7fSxnZXQ6ZnVuY3Rpb24odCl7dmFyIGU9ZmkodGhpcykuZW50cmllcztscyhhcmd1bWVudHMubGVuZ3RoLDEpO2Zvcih2YXIgbj1ibih0KSxpPTA7aTxlLmxlbmd0aDtpKyspaWYoZVtpXS5rZXk9PT1uKXJldHVybiBlW2ldLnZhbHVlO3JldHVybiBudWxsfSxnZXRBbGw6ZnVuY3Rpb24odCl7dmFyIGU9ZmkodGhpcykuZW50cmllcztscyhhcmd1bWVudHMubGVuZ3RoLDEpO2Zvcih2YXIgbj1ibih0KSxpPVtdLHI9MDtyPGUubGVuZ3RoO3IrKyllW3JdLmtleT09PW4mJnhvKGksZVtyXS52YWx1ZSk7cmV0dXJuIGl9LGhhczpmdW5jdGlvbih0KXtmb3IodmFyIGU9ZmkodGhpcykuZW50cmllcyxuPWxzKGFyZ3VtZW50cy5sZW5ndGgsMSksaT1ibih0KSxyPW48Mj92b2lkIDA6YXJndW1lbnRzWzFdLG89cj09PXZvaWQgMD9yOmJuKHIpLHM9MDtzPGUubGVuZ3RoOyl7dmFyIGE9ZVtzKytdO2lmKGEua2V5PT09aSYmKG89PT12b2lkIDB8fGEudmFsdWU9PT1vKSlyZXR1cm4gITB9cmV0dXJuICExfSxzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj1maSh0aGlzKTtscyhhcmd1bWVudHMubGVuZ3RoLDEpO2Zvcih2YXIgaSxyPW4uZW50cmllcyxvPSExLHM9Ym4odCksYT1ibihlKSxjPTA7YzxyLmxlbmd0aDtjKyspKGk9cltjXSkua2V5PT09cyYmKG8/RlMocixjLS0sMSk6KG89ITAsaS52YWx1ZT1hKSk7b3x8eG8ocix7a2V5OnMsdmFsdWU6YX0pLFBzfHwodGhpcy5zaXplPXIubGVuZ3RoKSxuLnVwZGF0ZVVSTCgpO30sc29ydDpmdW5jdGlvbigpe3ZhciB0PWZpKHRoaXMpO2RGKHQuZW50cmllcyxmdW5jdGlvbihlLG4pe3JldHVybiBlLmtleT5uLmtleT8xOi0xfSksdC51cGRhdGVVUkwoKTt9LGZvckVhY2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49ZmkodGhpcykuZW50cmllcyxpPXJGKHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApLHI9MDtyPG4ubGVuZ3RoOylpKChlPW5bcisrXSkudmFsdWUsZS5rZXksdGhpcyk7fSxrZXlzOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBUcCh0aGlzLFwia2V5c1wiKX0sdmFsdWVzOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBUcCh0aGlzLFwidmFsdWVzXCIpfSxlbnRyaWVzOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBUcCh0aGlzLFwiZW50cmllc1wiKX19LHtlbnVtZXJhYmxlOiEwfSksTFModnMsbEYsdnMuZW50cmllcyx7bmFtZTpcImVudHJpZXNcIn0pLExTKHZzLFwidG9TdHJpbmdcIixmdW5jdGlvbigpe3JldHVybiBmaSh0aGlzKS5zZXJpYWxpemUoKX0se2VudW1lcmFibGU6ITB9KSxQcyYmJFYodnMsXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBmaSh0aGlzKS5lbnRyaWVzLmxlbmd0aH0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KSxlRihCbCxDYyksbXAoe2dsb2JhbDohMCxjb25zdHJ1Y3RvcjohMCxmb3JjZWQ6IWtTfSx7VVJMU2VhcmNoUGFyYW1zOkJsfSksIWtTJiZmcChzYykmJihIUz11cih4Uy5oYXMpLEtTPXVyKHhTLnNldCksU3A9ZnVuY3Rpb24odCl7aWYoWHcodCkpe3ZhciBlLG49dC5ib2R5O2lmKG9GKG4pPT09Q2MpcmV0dXJuIGU9dC5oZWFkZXJzP25ldyBzYyh0LmhlYWRlcnMpOm5ldyBzYyxIUyhlLFwiY29udGVudC10eXBlXCIpfHxLUyhlLFwiY29udGVudC10eXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOFwiKSxhRih0LHtib2R5Ok1TKDAsYm4obikpLGhlYWRlcnM6TVMoMCxlKX0pfXJldHVybiB0fSxmcChVUykmJm1wKHtnbG9iYWw6ITAsZW51bWVyYWJsZTohMCxkb250Q2FsbEdldFNldDohMCxmb3JjZWQ6ITB9LHtmZXRjaDpmdW5jdGlvbih0KXtyZXR1cm4gVVModCxhcmd1bWVudHMubGVuZ3RoPjE/U3AoYXJndW1lbnRzWzFdKTp7fSl9fSksZnAoRmwpJiYoeWQ9ZnVuY3Rpb24odCl7cmV0dXJuIEp3KHRoaXMsZ3ApLG5ldyBGbCh0LGFyZ3VtZW50cy5sZW5ndGg+MT9TcChhcmd1bWVudHNbMV0pOnt9KX0sZ3AuY29uc3RydWN0b3I9eWQseWQucHJvdG90eXBlPWdwLG1wKHtnbG9iYWw6ITAsY29uc3RydWN0b3I6ITAsZG9udENhbGxHZXRTZXQ6ITAsZm9yY2VkOiEwfSx7UmVxdWVzdDp5ZH0pKSk7dmFyIEhTLEtTLFNwLHlkLHlGPXtVUkxTZWFyY2hQYXJhbXM6QmwsZ2V0U3RhdGU6Zml9LFlTPWFlKEdpLlVSTFNlYXJjaFBhcmFtcyksQUY9e2lzQnJvd3NlcjohMCxjbGFzc2VzOntVUkxTZWFyY2hQYXJhbXM6WVMhPT12b2lkIDA/WVM6UW0sRm9ybURhdGE6dHlwZW9mIEZvcm1EYXRhPFwidVwiP0Zvcm1EYXRhOm51bGwsQmxvYjp0eXBlb2YgQmxvYjxcInVcIj9CbG9iOm51bGx9LHByb3RvY29sczpbXCJodHRwXCIsXCJodHRwc1wiLFwiZmlsZVwiLFwiYmxvYlwiLFwidXJsXCIsXCJkYXRhXCJdfSxlTz10eXBlb2Ygd2luZG93PFwidVwiJiZ0eXBlb2YgZG9jdW1lbnQ8XCJ1XCIsYkY9KHFTPXR5cGVvZiBuYXZpZ2F0b3I8XCJ1XCImJm5hdmlnYXRvci5wcm9kdWN0LGVPJiZbXCJSZWFjdE5hdGl2ZVwiLFwiTmF0aXZlU2NyaXB0XCIsXCJOU1wiXS5pbmRleE9mKHFTKTwwKSxxUyx3Rj10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGU8XCJ1XCImJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSYmdHlwZW9mIHNlbGYuaW1wb3J0U2NyaXB0cz09XCJmdW5jdGlvblwiO2Z1bmN0aW9uIHpTKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4saSk7fXJldHVybiBufWZ1bmN0aW9uIEpTKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXSE9bnVsbD9hcmd1bWVudHNbZV06e307ZSUyP3pTKE9iamVjdChuKSwhMCkuZm9yRWFjaChmdW5jdGlvbihpKXtUKHQsaSxuW2ldKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTp6UyhPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24oaSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSkpO30pO31yZXR1cm4gdH12YXIgc3I9SlMoSlMoe30sT2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsaGFzQnJvd3NlckVudjplTyxoYXNTdGFuZGFyZEJyb3dzZXJFbnY6YkYsaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52OndGfSkpLEFGKSxPRj1DbixORj1LZSxERj1KZSxQRj1obixrRj1mdW5jdGlvbigpe3ZhciB0PU9GKHRoaXMpLGU9XCJcIjtyZXR1cm4gdC5oYXNJbmRpY2VzJiYoZSs9XCJkXCIpLHQuZ2xvYmFsJiYoZSs9XCJnXCIpLHQuaWdub3JlQ2FzZSYmKGUrPVwiaVwiKSx0Lm11bHRpbGluZSYmKGUrPVwibVwiKSx0LmRvdEFsbCYmKGUrPVwic1wiKSx0LnVuaWNvZGUmJihlKz1cInVcIiksdC51bmljb2RlU2V0cyYmKGUrPVwidlwiKSx0LnN0aWNreSYmKGUrPVwieVwiKSxlfSxYUz1SZWdFeHAucHJvdG90eXBlLG5PPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZmxhZ3M7cmV0dXJuIGUhPT12b2lkIDB8fFwiZmxhZ3NcImluIFhTfHxERih0LFwiZmxhZ3NcIil8fCFQRihYUyx0KT9lOk5GKGtGLHQpfSxMRj1xbS5jaGFyQXQsUVM9S2UsTUY9Q24sVUY9SGUseEY9cHIsVkY9Ly4vLmV4ZWMsRkY9VHlwZUVycm9yLEJGPXh0LFpTPUtlLGlPPWdjLGpGPXhtLEFkPVZtLCRTPWxhLHJPPU1BLEljPW9pLEdGPUNuLFdGPWRhLEhGPXByLEtGPVVBLG9PPW5PLFlGPXd1LHFGPVNlLHpGPWptLEpGPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSsobj9MRih0LGUpLmxlbmd0aDoxKX0sWEY9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4ZWM7aWYoVUYobikpe3ZhciBpPVFTKG4sdCxlKTtyZXR1cm4gaSE9PW51bGwmJk1GKGkpLGl9aWYoeEYodCk9PT1cIlJlZ0V4cFwiKXJldHVybiBRUyhWRix0LGUpO3Rocm93IEZGKFwiUmVnRXhwI2V4ZWMgY2FsbGVkIG9uIGluY29tcGF0aWJsZSByZWNlaXZlclwiKX0sc089bnMsUUY9cGUoXCJtYXRjaEFsbFwiKSxhTz1cIlJlZ0V4cCBTdHJpbmdcIixjTz1hTytcIiBJdGVyYXRvclwiLFpGPXNPLnNldCwkRj1zTy5nZXR0ZXJGb3IoY08pLHRCPVR5cGVFcnJvcixJRT1pTyhcIlwiLmluZGV4T2YpLGpsPWlPKFwiXCIubWF0Y2hBbGwpLFJwPSEhamwmJiFxRihmdW5jdGlvbigpe2psKFwiYVwiLC8uLyk7fSksZUI9akYoZnVuY3Rpb24odCxlLG4saSl7WkYodGhpcyx7dHlwZTpjTyxyZWdleHA6dCxzdHJpbmc6ZSxnbG9iYWw6bix1bmljb2RlOmksZG9uZTohMX0pO30sYU8sZnVuY3Rpb24oKXt2YXIgdD0kRih0aGlzKTtpZih0LmRvbmUpcmV0dXJuIEFkKHZvaWQgMCwhMCk7dmFyIGU9dC5yZWdleHAsbj10LnN0cmluZyxpPVhGKGUsbik7cmV0dXJuIGk9PT1udWxsPyh0LmRvbmU9ITAsQWQodm9pZCAwLCEwKSk6dC5nbG9iYWw/KEljKGlbMF0pPT09XCJcIiYmKGUubGFzdEluZGV4PUpGKG4sck8oZS5sYXN0SW5kZXgpLHQudW5pY29kZSkpLEFkKGksITEpKToodC5kb25lPSEwLEFkKGksITEpKX0pLHRSPWZ1bmN0aW9uKHQpe3ZhciBlLG4saSxyPUdGKHRoaXMpLG89SWModCkscz16RihyLFJlZ0V4cCksYT1JYyhvTyhyKSk7cmV0dXJuIGU9bmV3IHMocz09PVJlZ0V4cD9yLnNvdXJjZTpyLGEpLG49ISF+SUUoYSxcImdcIiksaT0hIX5JRShhLFwidVwiKSxlLmxhc3RJbmRleD1yTyhyLmxhc3RJbmRleCksbmV3IGVCKGUsbyxuLGkpfTtCRih7dGFyZ2V0OlwiU3RyaW5nXCIscHJvdG86ITAsZm9yY2VkOlJwfSx7bWF0Y2hBbGw6ZnVuY3Rpb24odCl7dmFyIGUsbixpLHIsbz0kUyh0aGlzKTtpZihXRih0KSl7aWYoUnApcmV0dXJuIGpsKG8sdCl9ZWxzZSB7aWYoS0YodCkmJihlPUljKCRTKG9PKHQpKSksIX5JRShlLFwiZ1wiKSkpdGhyb3cgdEIoXCJgLm1hdGNoQWxsYCBkb2VzIG5vdCBhbGxvdyBub24tZ2xvYmFsIHJlZ2V4ZXNcIik7aWYoUnApcmV0dXJuIGpsKG8sdCk7aWYoKGk9WUYodCxRRikpPT09dm9pZCAwJiZIRih0KT09XCJSZWdFeHBcIiYmKGk9dFIpLGkpcmV0dXJuIFpTKGksdCxvKX1yZXR1cm4gbj1JYyhvKSxyPW5ldyBSZWdFeHAodCxcImdcIiksWlModFIscixuKX19KTt2YXIgbkI9YmkoXCJTdHJpbmdcIikubWF0Y2hBbGwsaUI9aG4sckI9bkIsQ3A9U3RyaW5nLnByb3RvdHlwZSxvQj1mdW5jdGlvbih0KXt2YXIgZT10Lm1hdGNoQWxsO3JldHVybiB0eXBlb2YgdD09XCJzdHJpbmdcInx8dD09PUNwfHxpQihDcCx0KSYmZT09PUNwLm1hdGNoQWxsP3JCOmV9LHNCPWFlKG9CKTtmdW5jdGlvbiBkTyh0KXtmdW5jdGlvbiBlKG4saSxyLG8pe2xldCBzPW5bbysrXTtpZihzPT09XCJfX3Byb3RvX19cIilyZXR1cm4gITA7bGV0IGE9TnVtYmVyLmlzRmluaXRlKCtzKSxjPW8+PW4ubGVuZ3RoO3JldHVybiBzPSFzJiZLLmlzQXJyYXkocik/ci5sZW5ndGg6cyxjPyhLLmhhc093blByb3AocixzKT9yW3NdPVtyW3NdLGldOnJbc109aSwhYSk6KHJbc10mJksuaXNPYmplY3QocltzXSl8fChyW3NdPVtdKSxlKG4saSxyW3NdLG8pJiZLLmlzQXJyYXkocltzXSkmJihyW3NdPWZ1bmN0aW9uKGQpe2xldCBsPXt9LHU9T2JqZWN0LmtleXMoZCksaCxwPXUubGVuZ3RoLGc7Zm9yKGg9MDtoPHA7aCsrKWc9dVtoXSxsW2ddPWRbZ107cmV0dXJuIGx9KHJbc10pKSwhYSl9aWYoSy5pc0Zvcm1EYXRhKHQpJiZLLmlzRnVuY3Rpb24odC5lbnRyaWVzKSl7bGV0IG49e307cmV0dXJuIEsuZm9yRWFjaEVudHJ5KHQsKGkscik9PntlKGZ1bmN0aW9uKG8pe3JldHVybiBzQihLKS5jYWxsKEssL1xcdyt8XFxbKFxcdyopXS9nLG8pLm1hcChzPT5zWzBdPT09XCJbXVwiP1wiXCI6c1sxXXx8c1swXSl9KGkpLHIsbiwwKTt9KSxufXJldHVybiBudWxsfXZhciBhZj17dHJhbnNpdGlvbmFsOmd3LGFkYXB0ZXI6W1wieGhyXCIsXCJodHRwXCJdLHRyYW5zZm9ybVJlcXVlc3Q6W2Z1bmN0aW9uKHQsZSl7bGV0IG49ZS5nZXRDb250ZW50VHlwZSgpfHxcIlwiLGk9bi5pbmRleE9mKFwiYXBwbGljYXRpb24vanNvblwiKT4tMSxyPUsuaXNPYmplY3QodCk7aWYociYmSy5pc0hUTUxGb3JtKHQpJiYodD1uZXcgRm9ybURhdGEodCkpLEsuaXNGb3JtRGF0YSh0KSlyZXR1cm4gaT9KU09OLnN0cmluZ2lmeShkTyh0KSk6dDtpZihLLmlzQXJyYXlCdWZmZXIodCl8fEsuaXNCdWZmZXIodCl8fEsuaXNTdHJlYW0odCl8fEsuaXNGaWxlKHQpfHxLLmlzQmxvYih0KSlyZXR1cm4gdDtpZihLLmlzQXJyYXlCdWZmZXJWaWV3KHQpKXJldHVybiB0LmJ1ZmZlcjtpZihLLmlzVVJMU2VhcmNoUGFyYW1zKHQpKXJldHVybiBlLnNldENvbnRlbnRUeXBlKFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLThcIiwhMSksdC50b1N0cmluZygpO2xldCBvO2lmKHIpe2lmKG4uaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKT4tMSlyZXR1cm4gZnVuY3Rpb24ocyxhKXtyZXR1cm4gVWwocyxuZXcgc3IuY2xhc3Nlcy5VUkxTZWFyY2hQYXJhbXMsT2JqZWN0LmFzc2lnbih7dmlzaXRvcjpmdW5jdGlvbihjLGQsbCx1KXtyZXR1cm4gc3IuaXNOb2RlJiZLLmlzQnVmZmVyKGMpPyh0aGlzLmFwcGVuZChkLGMudG9TdHJpbmcoXCJiYXNlNjRcIikpLCExKTp1LmRlZmF1bHRWaXNpdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LGEpKX0odCx0aGlzLmZvcm1TZXJpYWxpemVyKS50b1N0cmluZygpO2lmKChvPUsuaXNGaWxlTGlzdCh0KSl8fG4uaW5kZXhPZihcIm11bHRpcGFydC9mb3JtLWRhdGFcIik+LTEpe2xldCBzPXRoaXMuZW52JiZ0aGlzLmVudi5Gb3JtRGF0YTtyZXR1cm4gVWwobz97XCJmaWxlc1tdXCI6dH06dCxzJiZuZXcgcyx0aGlzLmZvcm1TZXJpYWxpemVyKX19cmV0dXJuIHJ8fGk/KGUuc2V0Q29udGVudFR5cGUoXCJhcHBsaWNhdGlvbi9qc29uXCIsITEpLGZ1bmN0aW9uKHMsYSxjKXtpZihLLmlzU3RyaW5nKHMpKXRyeXtyZXR1cm4gKGF8fEpTT04ucGFyc2UpKHMpLHJuKEspLmNhbGwoSyxzKX1jYXRjaChkKXtpZihkLm5hbWUhPT1cIlN5bnRheEVycm9yXCIpdGhyb3cgZH1yZXR1cm4gKDAsIEpTT04uc3RyaW5naWZ5KShzKX0odCkpOnR9XSx0cmFuc2Zvcm1SZXNwb25zZTpbZnVuY3Rpb24odCl7bGV0IGU9dGhpcy50cmFuc2l0aW9uYWx8fGFmLnRyYW5zaXRpb25hbCxuPWUmJmUuZm9yY2VkSlNPTlBhcnNpbmcsaT10aGlzLnJlc3BvbnNlVHlwZT09PVwianNvblwiO2lmKHQmJksuaXNTdHJpbmcodCkmJihuJiYhdGhpcy5yZXNwb25zZVR5cGV8fGkpKXtsZXQgcj0hKGUmJmUuc2lsZW50SlNPTlBhcnNpbmcpJiZpO3RyeXtyZXR1cm4gSlNPTi5wYXJzZSh0KX1jYXRjaChvKXtpZihyKXRocm93IG8ubmFtZT09PVwiU3ludGF4RXJyb3JcIj9xdC5mcm9tKG8scXQuRVJSX0JBRF9SRVNQT05TRSx0aGlzLG51bGwsdGhpcy5yZXNwb25zZSk6b319cmV0dXJuIHR9XSx0aW1lb3V0OjAseHNyZkNvb2tpZU5hbWU6XCJYU1JGLVRPS0VOXCIseHNyZkhlYWRlck5hbWU6XCJYLVhTUkYtVE9LRU5cIixtYXhDb250ZW50TGVuZ3RoOi0xLG1heEJvZHlMZW5ndGg6LTEsZW52OntGb3JtRGF0YTpzci5jbGFzc2VzLkZvcm1EYXRhLEJsb2I6c3IuY2xhc3Nlcy5CbG9ifSx2YWxpZGF0ZVN0YXR1czpmdW5jdGlvbih0KXtyZXR1cm4gdD49MjAwJiZ0PDMwMH0saGVhZGVyczp7Y29tbW9uOntBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLypcIixcIkNvbnRlbnQtVHlwZVwiOnZvaWQgMH19fTtLLmZvckVhY2goW1wiZGVsZXRlXCIsXCJnZXRcIixcImhlYWRcIixcInBvc3RcIixcInB1dFwiLFwicGF0Y2hcIl0sdD0+e2FmLmhlYWRlcnNbdF09e307fSk7dmFyIGNmPWFmLGFCPUsudG9PYmplY3RTZXQoW1wiYWdlXCIsXCJhdXRob3JpemF0aW9uXCIsXCJjb250ZW50LWxlbmd0aFwiLFwiY29udGVudC10eXBlXCIsXCJldGFnXCIsXCJleHBpcmVzXCIsXCJmcm9tXCIsXCJob3N0XCIsXCJpZi1tb2RpZmllZC1zaW5jZVwiLFwiaWYtdW5tb2RpZmllZC1zaW5jZVwiLFwibGFzdC1tb2RpZmllZFwiLFwibG9jYXRpb25cIixcIm1heC1mb3J3YXJkc1wiLFwicHJveHktYXV0aG9yaXphdGlvblwiLFwicmVmZXJlclwiLFwicmV0cnktYWZ0ZXJcIixcInVzZXItYWdlbnRcIl0pLGVSPVN5bWJvbChcImludGVybmFsc1wiKTtmdW5jdGlvbiBEYSh0KXt2YXIgZTtyZXR1cm4gdCYmcm4oZT1TdHJpbmcodCkpLmNhbGwoZSkudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBFbCh0KXtyZXR1cm4gdD09PSExfHx0PT1udWxsP3Q6Sy5pc0FycmF5KHQpP3QubWFwKEVsKTpTdHJpbmcodCl9ZnVuY3Rpb24gSXAodCxlLG4saSxyKXtyZXR1cm4gSy5pc0Z1bmN0aW9uKGkpP2kuY2FsbCh0aGlzLGUsbik6KHImJihlPW4pLEsuaXNTdHJpbmcoZSk/Sy5pc1N0cmluZyhpKT9lLmluZGV4T2YoaSkhPT0tMTpLLmlzUmVnRXhwKGkpP2kudGVzdChlKTp2b2lkIDA6dm9pZCAwKX12YXIgR3M9Y2xhc3N7Y29uc3RydWN0b3IoZSl7ZSYmdGhpcy5zZXQoZSk7fXNldChlLG4saSl7bGV0IHI9dGhpcztmdW5jdGlvbiBvKGMsZCxsKXtsZXQgdT1EYShkKTtpZighdSl0aHJvdyBuZXcgRXJyb3IoXCJoZWFkZXIgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZ1wiKTtsZXQgaD1LLmZpbmRLZXkocix1KTsoIWh8fHJbaF09PT12b2lkIDB8fGw9PT0hMHx8bD09PXZvaWQgMCYmcltoXSE9PSExKSYmKHJbaHx8ZF09RWwoYykpO31sZXQgcz0oYyxkKT0+Sy5mb3JFYWNoKGMsKGwsdSk9Pm8obCx1LGQpKTt2YXIgYTtyZXR1cm4gSy5pc1BsYWluT2JqZWN0KGUpfHxlIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3Rvcj9zKGUsbik6Sy5pc1N0cmluZyhlKSYmKGU9cm4oZSkuY2FsbChlKSkmJiEvXlstX2EtekEtWjAtOV5gfH4sISMkJSYnKisuXSskLy50ZXN0KHJuKGE9ZSkuY2FsbChhKSk/cygoYz0+e2xldCBkPXt9LGwsdSxoO3JldHVybiBjJiZjLnNwbGl0KGBcbmApLmZvckVhY2goZnVuY3Rpb24ocCl7dmFyIGcsRTtoPXAuaW5kZXhPZihcIjpcIiksbD1ybihnPXAuc3Vic3RyaW5nKDAsaCkpLmNhbGwoZykudG9Mb3dlckNhc2UoKSx1PXJuKEU9cC5zdWJzdHJpbmcoaCsxKSkuY2FsbChFKSwhbHx8ZFtsXSYmYUJbbF18fChsPT09XCJzZXQtY29va2llXCI/ZFtsXT9kW2xdLnB1c2godSk6ZFtsXT1bdV06ZFtsXT1kW2xdP2RbbF0rXCIsIFwiK3U6dSk7fSksZH0pKGUpLG4pOmUhPW51bGwmJm8obixlLGkpLHRoaXN9Z2V0KGUsbil7aWYoZT1EYShlKSl7bGV0IGk9Sy5maW5kS2V5KHRoaXMsZSk7aWYoaSl7bGV0IHI9dGhpc1tpXTtpZighbilyZXR1cm4gcjtpZihuPT09ITApcmV0dXJuIGZ1bmN0aW9uKG8pe2xldCBzPU9iamVjdC5jcmVhdGUobnVsbCksYT0vKFteXFxzLDs9XSspXFxzKig/Oj1cXHMqKFteLDtdKykpPy9nLGM7Zm9yKDtjPWEuZXhlYyhvKTspc1tjWzFdXT1jWzJdO3JldHVybiBzfShyKTtpZihLLmlzRnVuY3Rpb24obikpcmV0dXJuIG4uY2FsbCh0aGlzLHIsaSk7aWYoSy5pc1JlZ0V4cChuKSlyZXR1cm4gbi5leGVjKHIpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJwYXJzZXIgbXVzdCBiZSBib29sZWFufHJlZ2V4cHxmdW5jdGlvblwiKX19fWhhcyhlLG4pe2lmKGU9RGEoZSkpe2xldCBpPUsuZmluZEtleSh0aGlzLGUpO3JldHVybiAhKCFpfHx0aGlzW2ldPT09dm9pZCAwfHxuJiYhSXAoMCx0aGlzW2ldLGksbikpfXJldHVybiAhMX1kZWxldGUoZSxuKXtsZXQgaT10aGlzLHI9ITE7ZnVuY3Rpb24gbyhzKXtpZihzPURhKHMpKXtsZXQgYT1LLmZpbmRLZXkoaSxzKTshYXx8biYmIUlwKDAsaVthXSxhLG4pfHwoZGVsZXRlIGlbYV0scj0hMCk7fX1yZXR1cm4gSy5pc0FycmF5KGUpP2UuZm9yRWFjaChvKTpvKGUpLHJ9Y2xlYXIoZSl7bGV0IG49T2JqZWN0LmtleXModGhpcyksaT1uLmxlbmd0aCxyPSExO2Zvcig7aS0tOyl7bGV0IG89bltpXTtlJiYhSXAoMCx0aGlzW29dLG8sZSwhMCl8fChkZWxldGUgdGhpc1tvXSxyPSEwKTt9cmV0dXJuIHJ9bm9ybWFsaXplKGUpe2xldCBuPXRoaXMsaT17fTtyZXR1cm4gSy5mb3JFYWNoKHRoaXMsKHIsbyk9Pnt2YXIgcztsZXQgYT1LLmZpbmRLZXkoaSxvKTtpZihhKXJldHVybiBuW2FdPUVsKHIpLHZvaWQgZGVsZXRlIG5bb107bGV0IGM9ZT9mdW5jdGlvbihkKXtyZXR1cm4gcm4oZCkuY2FsbChkKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyhbYS16XFxkXSkoXFx3KikvZywobCx1LGgpPT51LnRvVXBwZXJDYXNlKCkraCl9KG8pOnJuKHM9U3RyaW5nKG8pKS5jYWxsKHMpO2MhPT1vJiZkZWxldGUgbltvXSxuW2NdPUVsKHIpLGlbY109ITA7fSksdGhpc31jb25jYXQoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyluW2ldPWFyZ3VtZW50c1tpXTtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5jb25jYXQodGhpcywuLi5uKX10b0pTT04oZSl7bGV0IG49T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gSy5mb3JFYWNoKHRoaXMsKGkscik9PntpIT1udWxsJiZpIT09ITEmJihuW3JdPWUmJksuaXNBcnJheShpKT9pLmpvaW4oXCIsIFwiKTppKTt9KSxufVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMudG9KU09OKCkpW1N5bWJvbC5pdGVyYXRvcl0oKX10b1N0cmluZygpe3JldHVybiBPYmplY3QuZW50cmllcyh0aGlzLnRvSlNPTigpKS5tYXAoZT0+e2xldFtuLGldPWU7cmV0dXJuIG4rXCI6IFwiK2l9KS5qb2luKGBcbmApfWdldFtTeW1ib2wudG9TdHJpbmdUYWddKCl7cmV0dXJuIFwiQXhpb3NIZWFkZXJzXCJ9c3RhdGljIGZyb20oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0aGlzP2U6bmV3IHRoaXMoZSl9c3RhdGljIGNvbmNhdChlKXtsZXQgbj1uZXcgdGhpcyhlKTtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShpPjE/aS0xOjApLG89MTtvPGk7bysrKXJbby0xXT1hcmd1bWVudHNbb107cmV0dXJuIHIuZm9yRWFjaChzPT5uLnNldChzKSksbn1zdGF0aWMgYWNjZXNzb3IoZSl7bGV0IG49KHRoaXNbZVJdPXRoaXNbZVJdPXthY2Nlc3NvcnM6e319KS5hY2Nlc3NvcnMsaT10aGlzLnByb3RvdHlwZTtmdW5jdGlvbiByKG8pe2xldCBzPURhKG8pO25bc118fChmdW5jdGlvbihhLGMpe2xldCBkPUsudG9DYW1lbENhc2UoXCIgXCIrYyk7W1wiZ2V0XCIsXCJzZXRcIixcImhhc1wiXS5mb3JFYWNoKGw9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxsK2Qse3ZhbHVlOmZ1bmN0aW9uKHUsaCxwKXtyZXR1cm4gdGhpc1tsXS5jYWxsKHRoaXMsYyx1LGgscCl9LGNvbmZpZ3VyYWJsZTohMH0pO30pO30oaSxvKSxuW3NdPSEwKTt9cmV0dXJuIEsuaXNBcnJheShlKT9lLmZvckVhY2gocik6cihlKSx0aGlzfX07R3MuYWNjZXNzb3IoW1wiQ29udGVudC1UeXBlXCIsXCJDb250ZW50LUxlbmd0aFwiLFwiQWNjZXB0XCIsXCJBY2NlcHQtRW5jb2RpbmdcIixcIlVzZXItQWdlbnRcIixcIkF1dGhvcml6YXRpb25cIl0pLEsucmVkdWNlRGVzY3JpcHRvcnMoR3MucHJvdG90eXBlLCh0LGUpPT57bGV0e3ZhbHVlOm59PXQsaT1lWzBdLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKTtyZXR1cm4ge2dldDooKT0+bixzZXQocil7dGhpc1tpXT1yO319fSksSy5mcmVlemVNZXRob2RzKEdzKTt2YXIgRHI9R3M7ZnVuY3Rpb24gdnAodCxlKXtsZXQgbj10aGlzfHxjZixpPWV8fG4scj1Eci5mcm9tKGkuaGVhZGVycyksbz1pLmRhdGE7cmV0dXJuIEsuZm9yRWFjaCh0LGZ1bmN0aW9uKHMpe289cy5jYWxsKG4sbyxyLm5vcm1hbGl6ZSgpLGU/ZS5zdGF0dXM6dm9pZCAwKTt9KSxyLm5vcm1hbGl6ZSgpLG99ZnVuY3Rpb24gbE8odCl7cmV0dXJuICEoIXR8fCF0Ll9fQ0FOQ0VMX18pfWZ1bmN0aW9uIG9kKHQsZSxuKXtxdC5jYWxsKHRoaXMsdD8/XCJjYW5jZWxlZFwiLHF0LkVSUl9DQU5DRUxFRCxlLG4pLHRoaXMubmFtZT1cIkNhbmNlbGVkRXJyb3JcIjt9Sy5pbmhlcml0cyhvZCxxdCx7X19DQU5DRUxfXzohMH0pO3ZhciBjQj1zci5oYXNTdGFuZGFyZEJyb3dzZXJFbnY/e3dyaXRlKHQsZSxuLGkscixvKXtsZXQgcz1bdCtcIj1cIitlbmNvZGVVUklDb21wb25lbnQoZSldO0suaXNOdW1iZXIobikmJnMucHVzaChcImV4cGlyZXM9XCIrbmV3IERhdGUobikudG9HTVRTdHJpbmcoKSksSy5pc1N0cmluZyhpKSYmcy5wdXNoKFwicGF0aD1cIitpKSxLLmlzU3RyaW5nKHIpJiZzLnB1c2goXCJkb21haW49XCIrciksbz09PSEwJiZzLnB1c2goXCJzZWN1cmVcIiksZG9jdW1lbnQuY29va2llPXMuam9pbihcIjsgXCIpO30scmVhZCh0KXtsZXQgZT1kb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cChcIihefDtcXFxccyopKFwiK3QrXCIpPShbXjtdKilcIikpO3JldHVybiBlP2RlY29kZVVSSUNvbXBvbmVudChlWzNdKTpudWxsfSxyZW1vdmUodCl7dGhpcy53cml0ZSh0LFwiXCIsRGF0ZS5ub3coKS04NjRlNSk7fX06e3dyaXRlKCl7fSxyZWFkOigpPT5udWxsLHJlbW92ZSgpe319O2Z1bmN0aW9uIHVPKHQsZSl7cmV0dXJuIHQmJiFmdW5jdGlvbihuKXtyZXR1cm4gL14oW2Etel1bYS16XFxkK1xcLS5dKjopP1xcL1xcLy9pLnRlc3Qobil9KGUpP2Z1bmN0aW9uKG4saSl7cmV0dXJuIGk/bi5yZXBsYWNlKC9cXC8/XFwvJC8sXCJcIikrXCIvXCIraS5yZXBsYWNlKC9eXFwvKy8sXCJcIik6bn0odCxlKTplfXZhciBkQj1zci5oYXNTdGFuZGFyZEJyb3dzZXJFbnY/ZnVuY3Rpb24oKXtsZXQgdD0vKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIiksbjtmdW5jdGlvbiBpKHIpe2xldCBvPXI7cmV0dXJuIHQmJihlLnNldEF0dHJpYnV0ZShcImhyZWZcIixvKSxvPWUuaHJlZiksZS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsbykse2hyZWY6ZS5ocmVmLHByb3RvY29sOmUucHJvdG9jb2w/ZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sXCJcIik6XCJcIixob3N0OmUuaG9zdCxzZWFyY2g6ZS5zZWFyY2g/ZS5zZWFyY2gucmVwbGFjZSgvXlxcPy8sXCJcIik6XCJcIixoYXNoOmUuaGFzaD9lLmhhc2gucmVwbGFjZSgvXiMvLFwiXCIpOlwiXCIsaG9zdG5hbWU6ZS5ob3N0bmFtZSxwb3J0OmUucG9ydCxwYXRobmFtZTplLnBhdGhuYW1lLmNoYXJBdCgwKT09PVwiL1wiP2UucGF0aG5hbWU6XCIvXCIrZS5wYXRobmFtZX19cmV0dXJuIG49aSh3aW5kb3cubG9jYXRpb24uaHJlZiksZnVuY3Rpb24ocil7bGV0IG89Sy5pc1N0cmluZyhyKT9pKHIpOnI7cmV0dXJuIG8ucHJvdG9jb2w9PT1uLnByb3RvY29sJiZvLmhvc3Q9PT1uLmhvc3R9fSgpOmZ1bmN0aW9uKCl7cmV0dXJuICEwfTtmdW5jdGlvbiBuUih0LGUpe2xldCBuPTAsaT1mdW5jdGlvbihyLG8pe3I9cnx8MTA7bGV0IHM9bmV3IEFycmF5KHIpLGE9bmV3IEFycmF5KHIpLGMsZD0wLGw9MDtyZXR1cm4gbz1vIT09dm9pZCAwP286MWUzLGZ1bmN0aW9uKHUpe2xldCBoPURhdGUubm93KCkscD1hW2xdO2N8fChjPWgpLHNbZF09dSxhW2RdPWg7bGV0IGc9bCxFPTA7Zm9yKDtnIT09ZDspRSs9c1tnKytdLGclPXI7aWYoZD0oZCsxKSVyLGQ9PT1sJiYobD0obCsxKSVyKSxoLWM8bylyZXR1cm47bGV0IGY9cCYmaC1wO3JldHVybiBmP01hdGgucm91bmQoMWUzKkUvZik6dm9pZCAwfX0oNTAsMjUwKTtyZXR1cm4gcj0+e2xldCBvPXIubG9hZGVkLHM9ci5sZW5ndGhDb21wdXRhYmxlP3IudG90YWw6dm9pZCAwLGE9by1uLGM9aShhKTtuPW87bGV0IGQ9e2xvYWRlZDpvLHRvdGFsOnMscHJvZ3Jlc3M6cz9vL3M6dm9pZCAwLGJ5dGVzOmEscmF0ZTpjfHx2b2lkIDAsZXN0aW1hdGVkOmMmJnMmJm88PXM/KHMtbykvYzp2b2lkIDAsZXZlbnQ6cn07ZFtlP1wiZG93bmxvYWRcIjpcInVwbG9hZFwiXT0hMCx0KGQpO319dmFyIGxCPXR5cGVvZiBYTUxIdHRwUmVxdWVzdDxcInVcIiYmZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBqKGZ1bmN0aW9uKGUsbil7bGV0IGk9dC5kYXRhLHI9RHIuZnJvbSh0LmhlYWRlcnMpLm5vcm1hbGl6ZSgpLG8scyx7cmVzcG9uc2VUeXBlOmEsd2l0aFhTUkZUb2tlbjpjfT10O2Z1bmN0aW9uIGQoKXt0LmNhbmNlbFRva2VuJiZ0LmNhbmNlbFRva2VuLnVuc3Vic2NyaWJlKG8pLHQuc2lnbmFsJiZ0LnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixvKTt9aWYoSy5pc0Zvcm1EYXRhKGkpKXtpZihzci5oYXNTdGFuZGFyZEJyb3dzZXJFbnZ8fHNyLmhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudilyLnNldENvbnRlbnRUeXBlKCExKTtlbHNlIGlmKChzPXIuZ2V0Q29udGVudFR5cGUoKSkhPT0hMSl7bGV0W2csLi4uRV09cz9zLnNwbGl0KFwiO1wiKS5tYXAoZj0+cm4oZikuY2FsbChmKSkuZmlsdGVyKEJvb2xlYW4pOltdO3Iuc2V0Q29udGVudFR5cGUoW2d8fFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiLC4uLkVdLmpvaW4oXCI7IFwiKSk7fX1sZXQgbD1uZXcgWE1MSHR0cFJlcXVlc3Q7aWYodC5hdXRoKXtsZXQgZz10LmF1dGgudXNlcm5hbWV8fFwiXCIsRT10LmF1dGgucGFzc3dvcmQ/dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHQuYXV0aC5wYXNzd29yZCkpOlwiXCI7ci5zZXQoXCJBdXRob3JpemF0aW9uXCIsXCJCYXNpYyBcIitidG9hKGcrXCI6XCIrRSkpO31sZXQgdT11Tyh0LmJhc2VVUkwsdC51cmwpO2Z1bmN0aW9uIGgoKXtpZighbClyZXR1cm47bGV0IGc9RHIuZnJvbShcImdldEFsbFJlc3BvbnNlSGVhZGVyc1wiaW4gbCYmbC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSk7KChmdW5jdGlvbihFLGYsUyl7bGV0IEM9Uy5jb25maWcudmFsaWRhdGVTdGF0dXM7Uy5zdGF0dXMmJkMmJiFDKFMuc3RhdHVzKT9mKG5ldyBxdChcIlJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgXCIrUy5zdGF0dXMsW3F0LkVSUl9CQURfUkVRVUVTVCxxdC5FUlJfQkFEX1JFU1BPTlNFXVtNYXRoLmZsb29yKFMuc3RhdHVzLzEwMCktNF0sUy5jb25maWcsUy5yZXF1ZXN0LFMpKTpFKFMpO30pKShmdW5jdGlvbihFKXtlKEUpLGQoKTt9LGZ1bmN0aW9uKEUpe24oRSksZCgpO30se2RhdGE6YSYmYSE9PVwidGV4dFwiJiZhIT09XCJqc29uXCI/bC5yZXNwb25zZTpsLnJlc3BvbnNlVGV4dCxzdGF0dXM6bC5zdGF0dXMsc3RhdHVzVGV4dDpsLnN0YXR1c1RleHQsaGVhZGVyczpnLGNvbmZpZzp0LHJlcXVlc3Q6bH0pLGw9bnVsbDt9aWYobC5vcGVuKHQubWV0aG9kLnRvVXBwZXJDYXNlKCksZncodSx0LnBhcmFtcyx0LnBhcmFtc1NlcmlhbGl6ZXIpLCEwKSxsLnRpbWVvdXQ9dC50aW1lb3V0LFwib25sb2FkZW5kXCJpbiBsP2wub25sb2FkZW5kPWg6bC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtsJiZsLnJlYWR5U3RhdGU9PT00JiYobC5zdGF0dXMhPT0wfHxsLnJlc3BvbnNlVVJMJiZsLnJlc3BvbnNlVVJMLmluZGV4T2YoXCJmaWxlOlwiKT09PTApJiZzZXRUaW1lb3V0KGgpO30sbC5vbmFib3J0PWZ1bmN0aW9uKCl7bCYmKG4obmV3IHF0KFwiUmVxdWVzdCBhYm9ydGVkXCIscXQuRUNPTk5BQk9SVEVELHQsbCkpLGw9bnVsbCk7fSxsLm9uZXJyb3I9ZnVuY3Rpb24oKXtuKG5ldyBxdChcIk5ldHdvcmsgRXJyb3JcIixxdC5FUlJfTkVUV09SSyx0LGwpKSxsPW51bGw7fSxsLm9udGltZW91dD1mdW5jdGlvbigpe2xldCBnPXQudGltZW91dD9cInRpbWVvdXQgb2YgXCIrdC50aW1lb3V0K1wibXMgZXhjZWVkZWRcIjpcInRpbWVvdXQgZXhjZWVkZWRcIixFPXQudHJhbnNpdGlvbmFsfHxndzt0LnRpbWVvdXRFcnJvck1lc3NhZ2UmJihnPXQudGltZW91dEVycm9yTWVzc2FnZSksbihuZXcgcXQoZyxFLmNsYXJpZnlUaW1lb3V0RXJyb3I/cXQuRVRJTUVET1VUOnF0LkVDT05OQUJPUlRFRCx0LGwpKSxsPW51bGw7fSxzci5oYXNTdGFuZGFyZEJyb3dzZXJFbnYmJihjJiZLLmlzRnVuY3Rpb24oYykmJihjPWModCkpLGN8fGMhPT0hMSYmZEIodSkpKXtsZXQgZz10LnhzcmZIZWFkZXJOYW1lJiZ0LnhzcmZDb29raWVOYW1lJiZjQi5yZWFkKHQueHNyZkNvb2tpZU5hbWUpO2cmJnIuc2V0KHQueHNyZkhlYWRlck5hbWUsZyk7fWk9PT12b2lkIDAmJnIuc2V0Q29udGVudFR5cGUobnVsbCksXCJzZXRSZXF1ZXN0SGVhZGVyXCJpbiBsJiZLLmZvckVhY2goci50b0pTT04oKSxmdW5jdGlvbihnLEUpe2wuc2V0UmVxdWVzdEhlYWRlcihFLGcpO30pLEsuaXNVbmRlZmluZWQodC53aXRoQ3JlZGVudGlhbHMpfHwobC53aXRoQ3JlZGVudGlhbHM9ISF0LndpdGhDcmVkZW50aWFscyksYSYmYSE9PVwianNvblwiJiYobC5yZXNwb25zZVR5cGU9dC5yZXNwb25zZVR5cGUpLHR5cGVvZiB0Lm9uRG93bmxvYWRQcm9ncmVzcz09XCJmdW5jdGlvblwiJiZsLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLG5SKHQub25Eb3dubG9hZFByb2dyZXNzLCEwKSksdHlwZW9mIHQub25VcGxvYWRQcm9ncmVzcz09XCJmdW5jdGlvblwiJiZsLnVwbG9hZCYmbC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsblIodC5vblVwbG9hZFByb2dyZXNzKSksKHQuY2FuY2VsVG9rZW58fHQuc2lnbmFsKSYmKG89Zz0+e2wmJihuKCFnfHxnLnR5cGU/bmV3IG9kKG51bGwsdCxsKTpnKSxsLmFib3J0KCksbD1udWxsKTt9LHQuY2FuY2VsVG9rZW4mJnQuY2FuY2VsVG9rZW4uc3Vic2NyaWJlKG8pLHQuc2lnbmFsJiYodC5zaWduYWwuYWJvcnRlZD9vKCk6dC5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsbykpKTtsZXQgcD1mdW5jdGlvbihnKXtsZXQgRT0vXihbLStcXHddezEsMjV9KSg6P1xcL1xcL3w6KS8uZXhlYyhnKTtyZXR1cm4gRSYmRVsxXXx8XCJcIn0odSk7cCYmc3IucHJvdG9jb2xzLmluZGV4T2YocCk9PT0tMT9uKG5ldyBxdChcIlVuc3VwcG9ydGVkIHByb3RvY29sIFwiK3ArXCI6XCIscXQuRVJSX0JBRF9SRVFVRVNULHQpKTpsLnNlbmQoaXx8bnVsbCk7fSl9LHZFPXtodHRwOm51bGwseGhyOmxCfTtLLmZvckVhY2godkUsKHQsZSk9PntpZih0KXt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJuYW1lXCIse3ZhbHVlOmV9KTt9Y2F0Y2h7fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiYWRhcHRlck5hbWVcIix7dmFsdWU6ZX0pO319KTt2YXIgaVI9dD0+XCItIFwiLmNvbmNhdCh0KSx1Qj10PT5LLmlzRnVuY3Rpb24odCl8fHQ9PT1udWxsfHx0PT09ITEsaE89e2dldEFkYXB0ZXI6dD0+e3Q9Sy5pc0FycmF5KHQpP3Q6W3RdO2xldHtsZW5ndGg6ZX09dCxuLGkscj17fTtmb3IobGV0IG89MDtvPGU7bysrKXtsZXQgcztpZihuPXRbb10saT1uLCF1QihuKSYmKGk9dkVbKHM9U3RyaW5nKG4pKS50b0xvd2VyQ2FzZSgpXSxpPT09dm9pZCAwKSl0aHJvdyBuZXcgcXQoXCJVbmtub3duIGFkYXB0ZXIgJ1wiLmNvbmNhdChzLFwiJ1wiKSk7aWYoaSlicmVhaztyW3N8fFwiI1wiK29dPWk7fWlmKCFpKXtsZXQgbz1PYmplY3QuZW50cmllcyhyKS5tYXAocz0+e2xldFthLGNdPXM7cmV0dXJuIFwiYWRhcHRlciBcIi5jb25jYXQoYSxcIiBcIikrKGM9PT0hMT9cImlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGVudmlyb25tZW50XCI6XCJpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBidWlsZFwiKX0pO3Rocm93IG5ldyBxdChcIlRoZXJlIGlzIG5vIHN1aXRhYmxlIGFkYXB0ZXIgdG8gZGlzcGF0Y2ggdGhlIHJlcXVlc3QgXCIrKGU/by5sZW5ndGg+MT9gc2luY2UgOlxuYCtvLm1hcChpUikuam9pbihgXG5gKTpcIiBcIitpUihvWzBdKTpcImFzIG5vIGFkYXB0ZXIgc3BlY2lmaWVkXCIpLFwiRVJSX05PVF9TVVBQT1JUXCIpfXJldHVybiBpfSxhZGFwdGVyczp2RX07ZnVuY3Rpb24geXAodCl7aWYodC5jYW5jZWxUb2tlbiYmdC5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCksdC5zaWduYWwmJnQuc2lnbmFsLmFib3J0ZWQpdGhyb3cgbmV3IG9kKG51bGwsdCl9ZnVuY3Rpb24gclIodCl7cmV0dXJuIHlwKHQpLHQuaGVhZGVycz1Eci5mcm9tKHQuaGVhZGVycyksdC5kYXRhPXZwLmNhbGwodCx0LnRyYW5zZm9ybVJlcXVlc3QpLFtcInBvc3RcIixcInB1dFwiLFwicGF0Y2hcIl0uaW5kZXhPZih0Lm1ldGhvZCkhPT0tMSYmdC5oZWFkZXJzLnNldENvbnRlbnRUeXBlKFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsITEpLGhPLmdldEFkYXB0ZXIodC5hZGFwdGVyfHxjZi5hZGFwdGVyKSh0KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB5cCh0KSxlLmRhdGE9dnAuY2FsbCh0LHQudHJhbnNmb3JtUmVzcG9uc2UsZSksZS5oZWFkZXJzPURyLmZyb20oZS5oZWFkZXJzKSxlfSxmdW5jdGlvbihlKXtyZXR1cm4gbE8oZSl8fCh5cCh0KSxlJiZlLnJlc3BvbnNlJiYoZS5yZXNwb25zZS5kYXRhPXZwLmNhbGwodCx0LnRyYW5zZm9ybVJlc3BvbnNlLGUucmVzcG9uc2UpLGUucmVzcG9uc2UuaGVhZGVycz1Eci5mcm9tKGUucmVzcG9uc2UuaGVhZGVycykpKSxqLnJlamVjdChlKX0pfWZ1bmN0aW9uIG9SKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4saSk7fXJldHVybiBufXZhciBzUj10PT50IGluc3RhbmNlb2YgRHI/ZnVuY3Rpb24oZSl7Zm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl7dmFyIGk9YXJndW1lbnRzW25dIT1udWxsP2FyZ3VtZW50c1tuXTp7fTtuJTI/b1IoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe1QoZSxyLGlbcl0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOm9SKE9iamVjdChpKSkuZm9yRWFjaChmdW5jdGlvbihyKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSxyKSk7fSk7fXJldHVybiBlfSh7fSx0KTp0O2Z1bmN0aW9uIFFzKHQsZSl7ZT1lfHx7fTtsZXQgbj17fTtmdW5jdGlvbiBpKGQsbCx1KXtyZXR1cm4gSy5pc1BsYWluT2JqZWN0KGQpJiZLLmlzUGxhaW5PYmplY3QobCk/Sy5tZXJnZS5jYWxsKHtjYXNlbGVzczp1fSxkLGwpOksuaXNQbGFpbk9iamVjdChsKT9LLm1lcmdlKHt9LGwpOksuaXNBcnJheShsKT9sLnNsaWNlKCk6bH1mdW5jdGlvbiByKGQsbCx1KXtyZXR1cm4gSy5pc1VuZGVmaW5lZChsKT9LLmlzVW5kZWZpbmVkKGQpP3ZvaWQgMDppKHZvaWQgMCxkLHUpOmkoZCxsLHUpfWZ1bmN0aW9uIG8oZCxsKXtpZighSy5pc1VuZGVmaW5lZChsKSlyZXR1cm4gaSh2b2lkIDAsbCl9ZnVuY3Rpb24gcyhkLGwpe3JldHVybiBLLmlzVW5kZWZpbmVkKGwpP0suaXNVbmRlZmluZWQoZCk/dm9pZCAwOmkodm9pZCAwLGQpOmkodm9pZCAwLGwpfWZ1bmN0aW9uIGEoZCxsLHUpe3JldHVybiB1IGluIGU/aShkLGwpOnUgaW4gdD9pKHZvaWQgMCxkKTp2b2lkIDB9bGV0IGM9e3VybDpvLG1ldGhvZDpvLGRhdGE6byxiYXNlVVJMOnMsdHJhbnNmb3JtUmVxdWVzdDpzLHRyYW5zZm9ybVJlc3BvbnNlOnMscGFyYW1zU2VyaWFsaXplcjpzLHRpbWVvdXQ6cyx0aW1lb3V0TWVzc2FnZTpzLHdpdGhDcmVkZW50aWFsczpzLHdpdGhYU1JGVG9rZW46cyxhZGFwdGVyOnMscmVzcG9uc2VUeXBlOnMseHNyZkNvb2tpZU5hbWU6cyx4c3JmSGVhZGVyTmFtZTpzLG9uVXBsb2FkUHJvZ3Jlc3M6cyxvbkRvd25sb2FkUHJvZ3Jlc3M6cyxkZWNvbXByZXNzOnMsbWF4Q29udGVudExlbmd0aDpzLG1heEJvZHlMZW5ndGg6cyxiZWZvcmVSZWRpcmVjdDpzLHRyYW5zcG9ydDpzLGh0dHBBZ2VudDpzLGh0dHBzQWdlbnQ6cyxjYW5jZWxUb2tlbjpzLHNvY2tldFBhdGg6cyxyZXNwb25zZUVuY29kaW5nOnMsdmFsaWRhdGVTdGF0dXM6YSxoZWFkZXJzOihkLGwpPT5yKHNSKGQpLHNSKGwpLCEwKX07cmV0dXJuIEsuZm9yRWFjaChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LHQsZSkpLGZ1bmN0aW9uKGQpe2xldCBsPWNbZF18fHIsdT1sKHRbZF0sZVtkXSxkKTtLLmlzVW5kZWZpbmVkKHUpJiZsIT09YXx8KG5bZF09dSk7fSksbn12YXIgcE89XCIxLjYuOFwiLGRmPXt9O1tcIm9iamVjdFwiLFwiYm9vbGVhblwiLFwibnVtYmVyXCIsXCJmdW5jdGlvblwiLFwic3RyaW5nXCIsXCJzeW1ib2xcIl0uZm9yRWFjaCgodCxlKT0+e2RmW3RdPWZ1bmN0aW9uKG4pe3JldHVybiB0eXBlb2Ygbj09PXR8fFwiYVwiKyhlPDE/XCJuIFwiOlwiIFwiKSt0fTt9KTt2YXIgYVI9e307ZGYudHJhbnNpdGlvbmFsPWZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBpKHIsbyl7cmV0dXJuIFwiW0F4aW9zIHZcIitwTytcIl0gVHJhbnNpdGlvbmFsIG9wdGlvbiAnXCIrcitcIidcIitvKyhuP1wiLiBcIituOlwiXCIpfXJldHVybiAocixvLHMpPT57aWYodD09PSExKXRocm93IG5ldyBxdChpKG8sXCIgaGFzIGJlZW4gcmVtb3ZlZFwiKyhlP1wiIGluIFwiK2U6XCJcIikpLHF0LkVSUl9ERVBSRUNBVEVEKTtyZXR1cm4gZSYmIWFSW29dJiYoYVJbb109ITAsY29uc29sZS53YXJuKGkobyxcIiBoYXMgYmVlbiBkZXByZWNhdGVkIHNpbmNlIHZcIitlK1wiIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5lYXIgZnV0dXJlXCIpKSksIXR8fHQocixvLHMpfX07dmFyIHlFPXthc3NlcnRPcHRpb25zOmZ1bmN0aW9uKHQsZSxuKXtpZih0eXBlb2YgdCE9XCJvYmplY3RcIil0aHJvdyBuZXcgcXQoXCJvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0XCIscXQuRVJSX0JBRF9PUFRJT05fVkFMVUUpO2xldCBpPU9iamVjdC5rZXlzKHQpLHI9aS5sZW5ndGg7Zm9yKDtyLS0gPjA7KXtsZXQgbz1pW3JdLHM9ZVtvXTtpZihzKXtsZXQgYT10W29dLGM9YT09PXZvaWQgMHx8cyhhLG8sdCk7aWYoYyE9PSEwKXRocm93IG5ldyBxdChcIm9wdGlvbiBcIitvK1wiIG11c3QgYmUgXCIrYyxxdC5FUlJfQkFEX09QVElPTl9WQUxVRSl9ZWxzZSBpZihuIT09ITApdGhyb3cgbmV3IHF0KFwiVW5rbm93biBvcHRpb24gXCIrbyxxdC5FUlJfQkFEX09QVElPTil9fSx2YWxpZGF0b3JzOmRmfSxGcj15RS52YWxpZGF0b3JzLG1sPWNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMuZGVmYXVsdHM9dCx0aGlzLmludGVyY2VwdG9ycz17cmVxdWVzdDpuZXcgWlQscmVzcG9uc2U6bmV3IFpUfTt9YXN5bmMgcmVxdWVzdCh0LGUpe3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5fcmVxdWVzdCh0LGUpfWNhdGNoKG4pe2lmKG4gaW5zdGFuY2VvZiBFcnJvcil7bGV0IGk7RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U/RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoaT17fSk6aT1uZXcgRXJyb3I7bGV0IHI9aS5zdGFjaz9pLnN0YWNrLnJlcGxhY2UoL14uK1xcbi8sXCJcIik6XCJcIjtuLnN0YWNrP3ImJiFTdHJpbmcobi5zdGFjaykuZW5kc1dpdGgoci5yZXBsYWNlKC9eLitcXG4uK1xcbi8sXCJcIikpJiYobi5zdGFjays9YFxuYCtyKTpuLnN0YWNrPXI7fXRocm93IG59fV9yZXF1ZXN0KHQsZSl7dHlwZW9mIHQ9PVwic3RyaW5nXCI/KGU9ZXx8e30pLnVybD10OmU9dHx8e30sZT1Rcyh0aGlzLmRlZmF1bHRzLGUpO2xldHt0cmFuc2l0aW9uYWw6bixwYXJhbXNTZXJpYWxpemVyOmksaGVhZGVyczpyfT1lO24hPT12b2lkIDAmJnlFLmFzc2VydE9wdGlvbnMobix7c2lsZW50SlNPTlBhcnNpbmc6RnIudHJhbnNpdGlvbmFsKEZyLmJvb2xlYW4pLGZvcmNlZEpTT05QYXJzaW5nOkZyLnRyYW5zaXRpb25hbChGci5ib29sZWFuKSxjbGFyaWZ5VGltZW91dEVycm9yOkZyLnRyYW5zaXRpb25hbChGci5ib29sZWFuKX0sITEpLGkhPW51bGwmJihLLmlzRnVuY3Rpb24oaSk/ZS5wYXJhbXNTZXJpYWxpemVyPXtzZXJpYWxpemU6aX06eUUuYXNzZXJ0T3B0aW9ucyhpLHtlbmNvZGU6RnIuZnVuY3Rpb24sc2VyaWFsaXplOkZyLmZ1bmN0aW9ufSwhMCkpLGUubWV0aG9kPShlLm1ldGhvZHx8dGhpcy5kZWZhdWx0cy5tZXRob2R8fFwiZ2V0XCIpLnRvTG93ZXJDYXNlKCk7bGV0IG89ciYmSy5tZXJnZShyLmNvbW1vbixyW2UubWV0aG9kXSk7ciYmSy5mb3JFYWNoKFtcImRlbGV0ZVwiLFwiZ2V0XCIsXCJoZWFkXCIsXCJwb3N0XCIsXCJwdXRcIixcInBhdGNoXCIsXCJjb21tb25cIl0scD0+e2RlbGV0ZSByW3BdO30pLGUuaGVhZGVycz1Eci5jb25jYXQobyxyKTtsZXQgcz1bXSxhPSEwO3RoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbihwKXt0eXBlb2YgcC5ydW5XaGVuPT1cImZ1bmN0aW9uXCImJnAucnVuV2hlbihlKT09PSExfHwoYT1hJiZwLnN5bmNocm9ub3VzLHMudW5zaGlmdChwLmZ1bGZpbGxlZCxwLnJlamVjdGVkKSk7fSk7bGV0IGM9W10sZDt0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uKHApe2MucHVzaChwLmZ1bGZpbGxlZCxwLnJlamVjdGVkKTt9KTtsZXQgbCx1PTA7aWYoIWEpe2xldCBwPVtyUi5iaW5kKHRoaXMpLHZvaWQgMF07Zm9yKHAudW5zaGlmdC5hcHBseShwLHMpLHAucHVzaC5hcHBseShwLGMpLGw9cC5sZW5ndGgsZD1qLnJlc29sdmUoZSk7dTxsOylkPWQudGhlbihwW3UrK10scFt1KytdKTtyZXR1cm4gZH1sPXMubGVuZ3RoO2xldCBoPWU7Zm9yKHU9MDt1PGw7KXtsZXQgcD1zW3UrK10sZz1zW3UrK107dHJ5e2g9cChoKTt9Y2F0Y2goRSl7Zy5jYWxsKHRoaXMsRSk7YnJlYWt9fXRyeXtkPXJSLmNhbGwodGhpcyxoKTt9Y2F0Y2gocCl7cmV0dXJuIGoucmVqZWN0KHApfWZvcih1PTAsbD1jLmxlbmd0aDt1PGw7KWQ9ZC50aGVuKGNbdSsrXSxjW3UrK10pO3JldHVybiBkfWdldFVyaSh0KXtyZXR1cm4gZncodU8oKHQ9UXModGhpcy5kZWZhdWx0cyx0KSkuYmFzZVVSTCx0LnVybCksdC5wYXJhbXMsdC5wYXJhbXNTZXJpYWxpemVyKX19O0suZm9yRWFjaChbXCJkZWxldGVcIixcImdldFwiLFwiaGVhZFwiLFwib3B0aW9uc1wiXSxmdW5jdGlvbih0KXttbC5wcm90b3R5cGVbdF09ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdGhpcy5yZXF1ZXN0KFFzKG58fHt9LHttZXRob2Q6dCx1cmw6ZSxkYXRhOihufHx7fSkuZGF0YX0pKX07fSksSy5mb3JFYWNoKFtcInBvc3RcIixcInB1dFwiLFwicGF0Y2hcIl0sZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShuKXtyZXR1cm4gZnVuY3Rpb24oaSxyLG8pe3JldHVybiB0aGlzLnJlcXVlc3QoUXMob3x8e30se21ldGhvZDp0LGhlYWRlcnM6bj97XCJDb250ZW50LVR5cGVcIjpcIm11bHRpcGFydC9mb3JtLWRhdGFcIn06e30sdXJsOmksZGF0YTpyfSkpfX1tbC5wcm90b3R5cGVbdF09ZSgpLG1sLnByb3RvdHlwZVt0K1wiRm9ybVwiXT1lKCEwKTt9KTt2YXIgZmw9bWwsQUU9Y2xhc3MgdHtjb25zdHJ1Y3RvcihlKXtpZih0eXBlb2YgZSE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uXCIpO2xldCBuO3RoaXMucHJvbWlzZT1uZXcgaihmdW5jdGlvbihyKXtuPXI7fSk7bGV0IGk9dGhpczt0aGlzLnByb21pc2UudGhlbihyPT57aWYoIWkuX2xpc3RlbmVycylyZXR1cm47bGV0IG89aS5fbGlzdGVuZXJzLmxlbmd0aDtmb3IoO28tLSA+MDspaS5fbGlzdGVuZXJzW29dKHIpO2kuX2xpc3RlbmVycz1udWxsO30pLHRoaXMucHJvbWlzZS50aGVuPXI9PntsZXQgbyxzPW5ldyBqKGE9PntpLnN1YnNjcmliZShhKSxvPWE7fSkudGhlbihyKTtyZXR1cm4gcy5jYW5jZWw9ZnVuY3Rpb24oKXtpLnVuc3Vic2NyaWJlKG8pO30sc30sZShmdW5jdGlvbihyLG8scyl7aS5yZWFzb258fChpLnJlYXNvbj1uZXcgb2QocixvLHMpLG4oaS5yZWFzb24pKTt9KTt9dGhyb3dJZlJlcXVlc3RlZCgpe2lmKHRoaXMucmVhc29uKXRocm93IHRoaXMucmVhc29ufXN1YnNjcmliZShlKXt0aGlzLnJlYXNvbj9lKHRoaXMucmVhc29uKTp0aGlzLl9saXN0ZW5lcnM/dGhpcy5fbGlzdGVuZXJzLnB1c2goZSk6dGhpcy5fbGlzdGVuZXJzPVtlXTt9dW5zdWJzY3JpYmUoZSl7aWYoIXRoaXMuX2xpc3RlbmVycylyZXR1cm47bGV0IG49dGhpcy5fbGlzdGVuZXJzLmluZGV4T2YoZSk7biE9PS0xJiZ0aGlzLl9saXN0ZW5lcnMuc3BsaWNlKG4sMSk7fXN0YXRpYyBzb3VyY2UoKXtsZXQgZTtyZXR1cm4ge3Rva2VuOm5ldyB0KGZ1bmN0aW9uKG4pe2U9bjt9KSxjYW5jZWw6ZX19fSxoQj1BRSxiRT17Q29udGludWU6MTAwLFN3aXRjaGluZ1Byb3RvY29sczoxMDEsUHJvY2Vzc2luZzoxMDIsRWFybHlIaW50czoxMDMsT2s6MjAwLENyZWF0ZWQ6MjAxLEFjY2VwdGVkOjIwMixOb25BdXRob3JpdGF0aXZlSW5mb3JtYXRpb246MjAzLE5vQ29udGVudDoyMDQsUmVzZXRDb250ZW50OjIwNSxQYXJ0aWFsQ29udGVudDoyMDYsTXVsdGlTdGF0dXM6MjA3LEFscmVhZHlSZXBvcnRlZDoyMDgsSW1Vc2VkOjIyNixNdWx0aXBsZUNob2ljZXM6MzAwLE1vdmVkUGVybWFuZW50bHk6MzAxLEZvdW5kOjMwMixTZWVPdGhlcjozMDMsTm90TW9kaWZpZWQ6MzA0LFVzZVByb3h5OjMwNSxVbnVzZWQ6MzA2LFRlbXBvcmFyeVJlZGlyZWN0OjMwNyxQZXJtYW5lbnRSZWRpcmVjdDozMDgsQmFkUmVxdWVzdDo0MDAsVW5hdXRob3JpemVkOjQwMSxQYXltZW50UmVxdWlyZWQ6NDAyLEZvcmJpZGRlbjo0MDMsTm90Rm91bmQ6NDA0LE1ldGhvZE5vdEFsbG93ZWQ6NDA1LE5vdEFjY2VwdGFibGU6NDA2LFByb3h5QXV0aGVudGljYXRpb25SZXF1aXJlZDo0MDcsUmVxdWVzdFRpbWVvdXQ6NDA4LENvbmZsaWN0OjQwOSxHb25lOjQxMCxMZW5ndGhSZXF1aXJlZDo0MTEsUHJlY29uZGl0aW9uRmFpbGVkOjQxMixQYXlsb2FkVG9vTGFyZ2U6NDEzLFVyaVRvb0xvbmc6NDE0LFVuc3VwcG9ydGVkTWVkaWFUeXBlOjQxNSxSYW5nZU5vdFNhdGlzZmlhYmxlOjQxNixFeHBlY3RhdGlvbkZhaWxlZDo0MTcsSW1BVGVhcG90OjQxOCxNaXNkaXJlY3RlZFJlcXVlc3Q6NDIxLFVucHJvY2Vzc2FibGVFbnRpdHk6NDIyLExvY2tlZDo0MjMsRmFpbGVkRGVwZW5kZW5jeTo0MjQsVG9vRWFybHk6NDI1LFVwZ3JhZGVSZXF1aXJlZDo0MjYsUHJlY29uZGl0aW9uUmVxdWlyZWQ6NDI4LFRvb01hbnlSZXF1ZXN0czo0MjksUmVxdWVzdEhlYWRlckZpZWxkc1Rvb0xhcmdlOjQzMSxVbmF2YWlsYWJsZUZvckxlZ2FsUmVhc29uczo0NTEsSW50ZXJuYWxTZXJ2ZXJFcnJvcjo1MDAsTm90SW1wbGVtZW50ZWQ6NTAxLEJhZEdhdGV3YXk6NTAyLFNlcnZpY2VVbmF2YWlsYWJsZTo1MDMsR2F0ZXdheVRpbWVvdXQ6NTA0LEh0dHBWZXJzaW9uTm90U3VwcG9ydGVkOjUwNSxWYXJpYW50QWxzb05lZ290aWF0ZXM6NTA2LEluc3VmZmljaWVudFN0b3JhZ2U6NTA3LExvb3BEZXRlY3RlZDo1MDgsTm90RXh0ZW5kZWQ6NTEwLE5ldHdvcmtBdXRoZW50aWNhdGlvblJlcXVpcmVkOjUxMX07T2JqZWN0LmVudHJpZXMoYkUpLmZvckVhY2godD0+e2xldFtlLG5dPXQ7YkVbbl09ZTt9KTt2YXIgcEI9YkUsWGU9ZnVuY3Rpb24gdChlKXtsZXQgbj1uZXcgZmwoZSksaT1fdyhmbC5wcm90b3R5cGUucmVxdWVzdCxuKTtyZXR1cm4gSy5leHRlbmQoaSxmbC5wcm90b3R5cGUsbix7YWxsT3duS2V5czohMH0pLEsuZXh0ZW5kKGksbixudWxsLHthbGxPd25LZXlzOiEwfSksaS5jcmVhdGU9ZnVuY3Rpb24ocil7cmV0dXJuIHQoUXMoZSxyKSl9LGl9KGNmKTtYZS5BeGlvcz1mbCxYZS5DYW5jZWxlZEVycm9yPW9kLFhlLkNhbmNlbFRva2VuPWhCLFhlLmlzQ2FuY2VsPWxPLFhlLlZFUlNJT049cE8sWGUudG9Gb3JtRGF0YT1VbCxYZS5BeGlvc0Vycm9yPXF0LFhlLkNhbmNlbD1YZS5DYW5jZWxlZEVycm9yLFhlLmFsbD1mdW5jdGlvbih0KXtyZXR1cm4gai5hbGwodCl9LFhlLnNwcmVhZD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXBwbHkobnVsbCxlKX19LFhlLmlzQXhpb3NFcnJvcj1mdW5jdGlvbih0KXtyZXR1cm4gSy5pc09iamVjdCh0KSYmdC5pc0F4aW9zRXJyb3I9PT0hMH0sWGUubWVyZ2VDb25maWc9UXMsWGUuQXhpb3NIZWFkZXJzPURyLFhlLmZvcm1Ub0pTT049dD0+ZE8oSy5pc0hUTUxGb3JtKHQpP25ldyBGb3JtRGF0YSh0KTp0KSxYZS5nZXRBZGFwdGVyPWhPLmdldEFkYXB0ZXIsWGUuSHR0cFN0YXR1c0NvZGU9cEIsWGUuZGVmYXVsdD1YZTt2YXIgbW49WGUsX0I9KCk9Pnt9O2Z1bmN0aW9uIHZjKCl7bGV0IHQ9e3Byb21pc2U6dm9pZCAwLGlzUmVzb2x2ZWQ6ITEsaXNSZWplY3RlZDohMSxpc0ZpbmlzaGVkOiExLHJlc29sdmU6dm9pZCAwLHJlamVjdDp2b2lkIDAsY2FuY2VsOl9CfTtyZXR1cm4gdC5wcm9taXNlPW5ldyBqKChlLG4pPT57dC5yZXNvbHZlPWk9Pnt0LmlzRmluaXNoZWR8fCh0LmlzUmVzb2x2ZWQ9ITAsdC5pc0ZpbmlzaGVkPSEwLGUoaSksdC52YWx1ZT1pKTt9LHQucmVqZWN0PWk9Pnt0LmlzRmluaXNoZWR8fCh0LmlzUmVqZWN0ZWQ9ITAsdC5pc0ZpbmlzaGVkPSEwLG4oaSkpO307fSksdH12YXIgYmQ9bmV3IE1hcCx3ZD1uZXcgTWFwLFlpPW5ldyBNYXAseWU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuV0lOXzEwPVwiV2luZG93cyAxMFwiLHQuV0lOXzgxPVwiV2luZG93cyA4LjFcIix0LldJTl84PVwiV2luZG93cyA4XCIsdC5XSU5fNz1cIldpbmRvd3MgN1wiLHQuV0lOX1ZJU1RBPVwiV2luZG93cyBWaXN0YVwiLHQuV0lOX1NFUlZFUl8yMDAzPVwiV2luZG93cyBTZXJ2ZXIgMjAwM1wiLHQuV0lOX1hQPVwiV2luZG93cyBYUFwiLHQuV0lOXzIwMDA9XCJXaW5kb3dzIDIwMDBcIix0LkFORFJPSUQ9XCJBbmRyb2lkXCIsdC5IQVJNT05ZX09TPVwiSGFybW9ueU9TXCIsdC5PUEVOX0JTRD1cIk9wZW4gQlNEXCIsdC5TVU5fT1M9XCJTdW4gT1NcIix0LkxJTlVYPVwiTGludXhcIix0LklPUz1cImlPU1wiLHQuTUFDX09TPVwiTWFjIE9TXCIsdC5DSFJPTUlVTV9PUz1cIkNocm9taXVtIE9TXCIsdC5RTlg9XCJRTlhcIix0LlVOSVg9XCJVTklYXCIsdC5CRU9TPVwiQmVPU1wiLHQuT1NfMj1cIk9TLzJcIix0LlNFQVJDSF9CT1Q9XCJTZWFyY2ggQm90XCIsdH0oe30pLEl0PWZ1bmN0aW9uKHQpe3JldHVybiB0LkNIUk9NRT1cIkNocm9tZVwiLHQuU0FGQVJJPVwiU2FmYXJpXCIsdC5FREdFPVwiRWRnZVwiLHQuRklSRUZPWD1cIkZpcmVmb3hcIix0Lk9QRVJBPVwiT1BSXCIsdC5RUT1cIlFRQnJvd3NlclwiLHQuV0VDSEFUPVwiTWljcm9NZXNzZW5nZXJcIix0fSh7fSksd0U9bmV3IFcyLFZpPXdFLmdldFJlc3VsdCgpLEFwPW51bGw7ZnVuY3Rpb24gbXQodCl7aWYoIUFwKXtWaT13RS5nZXRSZXN1bHQoKTtsZXQgZT1mdW5jdGlvbihhKXtpZihhLmVuZ2luZS5uYW1lPT09XCJCbGlua1wiJiZhLmJyb3dzZXIubmFtZSE9PVwiV2VDaGF0XCIpcmV0dXJuIEl0LkNIUk9NRTtzd2l0Y2goYS5icm93c2VyLm5hbWUpe2Nhc2VcIkNocm9tZSBIZWFkbGVzc1wiOmNhc2VcIkNocm9tZVwiOmNhc2VcIkNocm9taXVtXCI6cmV0dXJuIEl0LkNIUk9NRTtjYXNlXCJTYWZhcmlcIjpjYXNlXCJNb2JpbGUgU2FmYXJpXCI6cmV0dXJuIEl0LlNBRkFSSTtjYXNlXCJFZGdlXCI6cmV0dXJuIEl0LkVER0U7Y2FzZVwiRmlyZWZveFwiOnJldHVybiBJdC5GSVJFRk9YO2Nhc2VcIlFRXCI6Y2FzZVwiUVFCcm93c2VyXCI6cmV0dXJuIEl0LlFRO2Nhc2VcIk9wZXJhXCI6cmV0dXJuIEl0Lk9QRVJBO2Nhc2VcIldlQ2hhdFwiOnJldHVybiBJdC5XRUNIQVQ7ZGVmYXVsdDpyZXR1cm4gYS5icm93c2VyLm5hbWV8fFwiXCJ9fShWaSksbj1jUihWaSksaT1mdW5jdGlvbihhKXtyZXR1cm4gYS5vcy5uYW1lPT09XCJXaW5kb3dzXCI/YS5vcy52ZXJzaW9uP2Eub3MubmFtZStcIiBcIithLm9zLnZlcnNpb246YS5vcy5uYW1lOmEub3MubmFtZXx8XCJcIn0oVmkpLHI9Vmkub3MudmVyc2lvbixvPWNSKFZpLCExKSxzPVZpLmRldmljZS50eXBlO2lmKCEoZSYmbiYmaSYmcikpcmV0dXJuIHtuYW1lOmUsdmVyc2lvbjpuLG9zOmksb3NWZXJzaW9uOnIsYnJvd3NlclZlcnNpb246byxkZXZpY2VUeXBlOnN9O0FwPXtuYW1lOmUsdmVyc2lvbjpuLG9zOmksb3NWZXJzaW9uOnIsYnJvd3NlclZlcnNpb246byxkZXZpY2VUeXBlOnN9O31yZXR1cm4gQXB9ZnVuY3Rpb24gY1IodCl7bGV0IGUsbj0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwKXx8YXJndW1lbnRzWzFdO3JldHVybiBlPXQuZW5naW5lLm5hbWU9PT1cIkJsaW5rXCI/dC5lbmdpbmUudmVyc2lvbnx8XCJcIjp0LmJyb3dzZXIudmVyc2lvbnx8XCJcIixuP2Uuc3BsaXQoXCIuXCIpWzBdOmV9ZnVuY3Rpb24gSHUoKXtyZXR1cm4gbXQoKS5vc31mdW5jdGlvbiBkUigpe2xldCB0PW10KCk7cmV0dXJuIFwiXCIuY29uY2F0KHQub3MsXCIgXCIpLmNvbmNhdCh0Lm9zVmVyc2lvbil9ZnVuY3Rpb24gR2woKXtsZXQgdD1tdCgpO3JldHVybiAhIShWaS5lbmdpbmUubmFtZT09PVwiV2ViS2l0XCImJnQub3M9PT15ZS5NQUNfT1MmJm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyYmbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzPjAmJnQubmFtZSE9PUl0LlNBRkFSSXx8bG4oKSYmdC5uYW1lIT09SXQuU0FGQVJJKX1mdW5jdGlvbiBvbygpe3JldHVybiBtdCgpLm5hbWU9PT1JdC5DSFJPTUV9ZnVuY3Rpb24gamUoKXtyZXR1cm4gbXQoKS5uYW1lPT09SXQuU0FGQVJJfWZ1bmN0aW9uIF9PKCl7cmV0dXJuIG10KCkubmFtZT09PUl0LkVER0V9ZnVuY3Rpb24gJHQoKXtyZXR1cm4gbXQoKS5uYW1lPT09SXQuRklSRUZPWH1mdW5jdGlvbiBsbigpe3JldHVybiBtdCgpLm9zPT09eWUuSU9TfWZ1bmN0aW9uIE9FKHQpe2xldCBlPW10KCk7cmV0dXJuICEoZS5uYW1lIT09SXQuQ0hST01FfHwhZS5vc1ZlcnNpb24pJiZOdW1iZXIoZS52ZXJzaW9uKT49dH1mdW5jdGlvbiBFTyh0KXtsZXQgZT1tdCgpO3JldHVybiAhKGUubmFtZSE9PUl0LkNIUk9NRXx8IWUub3NWZXJzaW9uKSYmTnVtYmVyKGUudmVyc2lvbik8dH1mdW5jdGlvbiBsUih0KXtsZXQgZT1tdCgpO3JldHVybiAhKGUubmFtZSE9PUl0LkVER0V8fCFlLm9zVmVyc2lvbikmJk51bWJlcihlLnZlcnNpb24pPj10fWZ1bmN0aW9uIG1PKHQpe2xldCBlPW10KCk7cmV0dXJuICEoZS5uYW1lIT09SXQuU0FGQVJJfHwhZS5vc1ZlcnNpb24pJiZOdW1iZXIoZS52ZXJzaW9uKT49dH1mdW5jdGlvbiBmTyh0LGUsbil7bGV0IGk9bXQoKTtpZihpLm9zIT09eWUuSU9TfHwhaS5vc1ZlcnNpb24pcmV0dXJuICExO2xldCByPWkub3NWZXJzaW9uLnNwbGl0KFwiLlwiKTtyZXR1cm4gZSYmTnVtYmVyKHJbMF0pPT09dCYmTnVtYmVyKHJbMV0pPGV8fE51bWJlcihyWzBdKTx0fWZ1bmN0aW9uIGdPKHQsZSxuKXtsZXQgaT1tdCgpO2lmKGkubmFtZSE9PUl0LlNBRkFSSXx8IWkub3NWZXJzaW9ufHwhaS5icm93c2VyVmVyc2lvbilyZXR1cm4gITE7bGV0IHI9aS5icm93c2VyVmVyc2lvbi5zcGxpdChcIi5cIik7cmV0dXJuIGUmJk51bWJlcihyWzBdKT09PXQmJk51bWJlcihyWzFdKTxlfHxOdW1iZXIoclswXSk8dH1mdW5jdGlvbiB1Uih0KXtsZXQgZT1tdCgpO3JldHVybiAhKGUubmFtZSE9PUl0Lk9QRVJBfHwhZS5vc1ZlcnNpb24pJiZOdW1iZXIoZS52ZXJzaW9uKT49dH1mdW5jdGlvbiBoUigpe2xldCB0PW10KCk7aWYodC5vcyE9PXllLklPU3x8IXQub3NWZXJzaW9uKXJldHVybiAhMTtsZXQgZT10Lm9zVmVyc2lvbi5zcGxpdChcIi5cIik7cmV0dXJuIE51bWJlcihlWzBdKTwxNHx8TnVtYmVyKGVbMF0pPT09MTQmJk51bWJlcihlWzFdKTw9Nn1mdW5jdGlvbiBacygpe2xldCB0PW10KCk7aWYodC5vcyE9PXllLklPU3x8IXQub3NWZXJzaW9uKXJldHVybiAhMTtsZXQgZT10Lm9zVmVyc2lvbi5zcGxpdChcIi5cIik7cmV0dXJuIE51bWJlcihlWzBdKT09PTE1fWZ1bmN0aW9uIE5FKCl7bGV0IHQ9bXQoKTtpZih0Lm9zIT09eWUuSU9TfHwhdC5vc1ZlcnNpb24pcmV0dXJuICExO2xldCBlPXQub3NWZXJzaW9uLnNwbGl0KFwiLlwiKTtyZXR1cm4gTnVtYmVyKGVbMF0pPT09MTZ9ZnVuY3Rpb24gcFIoKXtsZXQgdD1tdCgpO2lmKHQub3MhPT15ZS5JT1N8fCF0Lm9zVmVyc2lvbilyZXR1cm4gITE7bGV0IGU9dC5vc1ZlcnNpb24uc3BsaXQoXCIuXCIpO3JldHVybiBOdW1iZXIoZVswXSk9PT0xNSYmTnVtYmVyKGVbMV0pPj0xfWZ1bmN0aW9uIHZpKCl7cmV0dXJuIGplKCkmJm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cz4wfWZ1bmN0aW9uIFRPKCl7cmV0dXJuIG10KCkubmFtZT09PUl0LldFQ0hBVH1mdW5jdGlvbiBTTygpe3JldHVybiB3aW5kb3cubmF2aWdhdG9yLmFwcFZlcnNpb24mJndpbmRvdy5uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvQ2hyb21lXFwvKFtcXHdcXFddKj8pXFwuLykhPT1udWxsJiZ3aW5kb3cubmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL0Nocm9tZVxcLyhbXFx3XFxXXSo/KVxcLi8pWzFdPD0zNX1mdW5jdGlvbiBsZigpe2xldCB0PUh1KCk7cmV0dXJuIGZ1bmN0aW9uKCl7bGV0e2RldmljZVR5cGU6ZX09bXQoKTtyZXR1cm4gZT09PVwibW9iaWxlXCJ8fGU9PT1cInRhYmxldFwifSgpfHx0PT09eWUuQU5EUk9JRHx8dD09PXllLklPU3x8dD09PXllLkhBUk1PTllfT1N9ZnVuY3Rpb24gaG8oKXtsZXQgdD1tdCgpO3JldHVybiB0Lm5hbWUhPT1JdC5FREdFJiZ0Lm5hbWUhPT1JdC5TQUZBUkkmJiEhbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvY2FsZUxvd2VyQ2FzZSgpLm1hdGNoKC9jaHJvbWVcXC9bXFxkXS4vaSl9ZnVuY3Rpb24gS3UoKXtyZXR1cm4gSHUoKT09PXllLkFORFJPSUR9ZnVuY3Rpb24geWMoKXtsZXQgdD1tdCgpO3JldHVybiBLdSgpJiYodC5uYW1lPT09SXQuQ0hST01FfHx0Lm5hbWU9PT1JdC5XRUNIQVR8fC9jaHJvbWV8Y2hyb21pdW0vaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKX1mdW5jdGlvbiBqdCh0LGUsbil7cmV0dXJuIChlPWZ1bmN0aW9uKGkpe3ZhciByPWZ1bmN0aW9uKG8scyl7aWYodHlwZW9mIG8hPVwib2JqZWN0XCJ8fCFvKXJldHVybiBvO3ZhciBhPW9bU3ltYm9sLnRvUHJpbWl0aXZlXTtpZihhIT09dm9pZCAwKXt2YXIgYz1hLmNhbGwobyxcInN0cmluZ1wiKTtpZih0eXBlb2YgYyE9XCJvYmplY3RcIilyZXR1cm4gYzt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyhvKX0oaSk7cmV0dXJuIHR5cGVvZiByPT1cInN5bWJvbFwiP3I6citcIlwifShlKSlpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPW4sdH1mdW5jdGlvbiBfUih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiBKKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXSE9bnVsbD9hcmd1bWVudHNbZV06e307ZSUyP19SKE9iamVjdChuKSwhMCkuZm9yRWFjaChmdW5jdGlvbihpKXtqdCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6X1IoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9dmFyIFI9ZnVuY3Rpb24odCl7cmV0dXJuIHQuVU5FWFBFQ1RFRF9FUlJPUj1cIlVORVhQRUNURURfRVJST1JcIix0LlVORVhQRUNURURfUkVTUE9OU0U9XCJVTkVYUEVDVEVEX1JFU1BPTlNFXCIsdC5USU1FT1VUPVwiVElNRU9VVFwiLHQuSU5WQUxJRF9QQVJBTVM9XCJJTlZBTElEX1BBUkFNU1wiLHQuTk9UX1JFQURBQkxFPVwiTk9UX1JFQURBQkxFXCIsdC5OT1RfU1VQUE9SVEVEPVwiTk9UX1NVUFBPUlRFRFwiLHQuSU5WQUxJRF9PUEVSQVRJT049XCJJTlZBTElEX09QRVJBVElPTlwiLHQuT1BFUkFUSU9OX0FCT1JURUQ9XCJPUEVSQVRJT05fQUJPUlRFRFwiLHQuV0VCX1NFQ1VSSVRZX1JFU1RSSUNUPVwiV0VCX1NFQ1VSSVRZX1JFU1RSSUNUXCIsdC5FWENIQU5HRV9TRFBfRkFJTEVEPVwiRVhDSEFOR0VfU0RQX0ZBSUxFRFwiLHQuQUREX0NBTkRJREFURV9GQUlMRUQ9XCJBRERfQ0FORElEQVRFX0ZBSUxFRFwiLHQuREFUQUNIQU5ORUxfRkFJTEVEPVwiREFUQUNIQU5ORUxfRkFJTEVEXCIsdC5ORVRXT1JLX0VSUk9SPVwiTkVUV09SS19FUlJPUlwiLHQuTkVUV09SS19USU1FT1VUPVwiTkVUV09SS19USU1FT1VUXCIsdC5ORVRXT1JLX1JFU1BPTlNFX0VSUk9SPVwiTkVUV09SS19SRVNQT05TRV9FUlJPUlwiLHQuQVBJX0lOVk9LRV9USU1FT1VUPVwiQVBJX0lOVk9LRV9USU1FT1VUXCIsdC5FTlVNRVJBVEVfREVWSUNFU19GQUlMRUQ9XCJFTlVNRVJBVEVfREVWSUNFU19GQUlMRURcIix0LkRFVklDRV9OT1RfRk9VTkQ9XCJERVZJQ0VfTk9UX0ZPVU5EXCIsdC5FTEVDVFJPTl9JU19OVUxMPVwiRUxFQ1RST05fSVNfTlVMTFwiLHQuRUxFQ1RST05fREVTS1RPUF9DQVBUVVJFUl9HRVRfU09VUkNFU19FUlJPUj1cIkVMRUNUUk9OX0RFU0tUT1BfQ0FQVFVSRVJfR0VUX1NPVVJDRVNfRVJST1JcIix0LkNIUk9NRV9QTFVHSU5fTk9fUkVTUE9OU0U9XCJDSFJPTUVfUExVR0lOX05PX1JFU1BPTlNFXCIsdC5DSFJPTUVfUExVR0lOX05PVF9JTlNUQUxMPVwiQ0hST01FX1BMVUdJTl9OT1RfSU5TVEFMTFwiLHQuTUVESUFfT1BUSU9OX0lOVkFMSUQ9XCJNRURJQV9PUFRJT05fSU5WQUxJRFwiLHQuUEVSTUlTU0lPTl9ERU5JRUQ9XCJQRVJNSVNTSU9OX0RFTklFRFwiLHQuQ09OU1RSQUlOVF9OT1RfU0FUSVNGSUVEPVwiQ09OU1RSQUlOVF9OT1RfU0FUSVNGSUVEXCIsdC5UUkFDS19JU19ESVNBQkxFRD1cIlRSQUNLX0lTX0RJU0FCTEVEXCIsdC5HRVRfVklERU9fRUxFTUVOVF9WSVNJQkxFX0VSUk9SPVwiR0VUX1ZJREVPX0VMRU1FTlRfVklTSUJMRV9FUlJPUlwiLHQuU0hBUkVfQVVESU9fTk9UX0FMTE9XRUQ9XCJTSEFSRV9BVURJT19OT1RfQUxMT1dFRFwiLHQuTE9XX1NUUkVBTV9FTkNPRElOR19FUlJPUj1cIkxPV19TVFJFQU1fRU5DT0RJTkdfRVJST1JcIix0LlNFVF9FTkNPRElOR19QQVJBTUVURVJfRVJST1I9XCJTRVRfRU5DT0RJTkdfUEFSQU1FVEVSX0VSUk9SXCIsdC5UUkFDS19TVEFURV9VTlJFQUNIQUJMRT1cIlRSQUNLX1NUQVRFX1VOUkVBQ0hBQkxFXCIsdC5JTlZBTElEX1VJTlRfVUlEX0ZST01fU1RSSU5HX1VJRD1cIklOVkFMSURfVUlOVF9VSURfRlJPTV9TVFJJTkdfVUlEXCIsdC5DQU5fTk9UX0dFVF9QUk9YWV9TRVJWRVI9XCJDQU5fTk9UX0dFVF9QUk9YWV9TRVJWRVJcIix0LkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSPVwiQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVJcIix0LlZPSURfR0FURVdBWV9BRERSRVNTPVwiVk9JRF9HQVRFV0FZX0FERFJFU1NcIix0LlVJRF9DT05GTElDVD1cIlVJRF9DT05GTElDVFwiLHQuTVVMVElfVU5JTEJTX1JFU1BPTlNFX0VSUk9SPVwiTVVMVElfVU5JTEJTX1JFU1BPTlNFX0VSUk9SXCIsdC5VUERBVEVfVElDS0VUX0ZBSUxFRD1cIlVQREFURV9USUNLRVRfRkFJTEVEXCIsdC5JTlZBTElEX0xPQ0FMX1RSQUNLPVwiSU5WQUxJRF9MT0NBTF9UUkFDS1wiLHQuSU5WQUxJRF9UUkFDSz1cIklOVkFMSURfVFJBQ0tcIix0LlNFTkRFUl9OT1RfRk9VTkQ9XCJTRU5ERVJfTk9UX0ZPVU5EXCIsdC5DUkVBVEVfT0ZGRVJfRkFJTEVEPVwiQ1JFQVRFX09GRkVSX0ZBSUxFRFwiLHQuU0VUX0FOU1dFUl9GQUlMRUQ9XCJTRVRfQU5TV0VSX0ZBSUxFRFwiLHQuSUNFX0ZBSUxFRD1cIklDRV9GQUlMRURcIix0LlBDX0NMT1NFRD1cIlBDX0NMT1NFRFwiLHQuU0VOREVSX1JFUExBQ0VfRkFJTEVEPVwiU0VOREVSX1JFUExBQ0VfRkFJTEVEXCIsdC5HRVRfTE9DQUxfQ0FQQUJJTElUSUVTX0ZBSUxFRD1cIkdFVF9MT0NBTF9DQVBBQklMSVRJRVNfRkFJTEVEXCIsdC5HRVRfTE9DQUxfQ09OTkVDVElPTl9QQVJBTVNfRkFJTEVEPVwiR0VUX0xPQ0FMX0NPTk5FQ1RJT05fUEFSQU1TX0ZBSUxFRFwiLHQuU1VCU0NSSUJFX0ZBSUxFRD1cIlNVQlNDUklCRV9GQUlMRURcIix0LlVOU1VCU0NSSUJFX0ZBSUxFRD1cIlVOU1VCU0NSSUJFX0ZBSUxFRFwiLHQuR0FURVdBWV9QMlBfTE9TVD1cIkdBVEVXQVlfUDJQX0xPU1RcIix0Lk5PX0lDRV9DQU5ESURBVEU9XCJOT19JQ0VfQ0FORElEQVRFXCIsdC5DQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTPVwiQ0FOX05PVF9QVUJMSVNIX01VTFRJUExFX1ZJREVPX1RSQUNLU1wiLHQuRVhJU1RfRElTQUJMRURfVklERU9fVFJBQ0s9XCJFWElTVF9ESVNBQkxFRF9WSURFT19UUkFDS1wiLHQuSU5WQUxJRF9SRU1PVEVfVVNFUj1cIklOVkFMSURfUkVNT1RFX1VTRVJcIix0LlJFTU9URV9VU0VSX0lTX05PVF9QVUJMSVNIRUQ9XCJSRU1PVEVfVVNFUl9JU19OT1RfUFVCTElTSEVEXCIsdC5DVVNUT01fUkVQT1JUX1NFTkRfRkFJTEVEPVwiQ1VTVE9NX1JFUE9SVF9TRU5EX0ZBSUxFRFwiLHQuQ1VTVE9NX1JFUE9SVF9GUkVRVUVOQ1lfVE9PX0hJR0g9XCJDVVNUT01fUkVQT1JUX0ZSRVFVRU5DWV9UT09fSElHSFwiLHQuRkVUQ0hfQVVESU9fRklMRV9GQUlMRUQ9XCJGRVRDSF9BVURJT19GSUxFX0ZBSUxFRFwiLHQuUkVBRF9MT0NBTF9BVURJT19GSUxFX0VSUk9SPVwiUkVBRF9MT0NBTF9BVURJT19GSUxFX0VSUk9SXCIsdC5ERUNPREVfQVVESU9fRklMRV9GQUlMRUQ9XCJERUNPREVfQVVESU9fRklMRV9GQUlMRURcIix0LldTX0FCT1JUPVwiV1NfQUJPUlRcIix0LldTX0RJU0NPTk5FQ1Q9XCJXU19ESVNDT05ORUNUXCIsdC5XU19FUlI9XCJXU19FUlJcIix0LkVYVEVSTkFMX1NJR05BTF9BQk9SVD1cIkVYVEVSTkFMX1NJR05BTF9BQk9SVFwiLHQuTElWRV9TVFJFQU1JTkdfVEFTS19DT05GTElDVD1cIkxJVkVfU1RSRUFNSU5HX1RBU0tfQ09ORkxJQ1RcIix0LkxJVkVfU1RSRUFNSU5HX0lOVkFMSURfQVJHVU1FTlQ9XCJMSVZFX1NUUkVBTUlOR19JTlZBTElEX0FSR1VNRU5UXCIsdC5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1I9XCJMSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1JcIix0LkxJVkVfU1RSRUFNSU5HX1BVQkxJU0hfU1RSRUFNX05PVF9BVVRIT1JJWkVEPVwiTElWRV9TVFJFQU1JTkdfUFVCTElTSF9TVFJFQU1fTk9UX0FVVEhPUklaRURcIix0LkxJVkVfU1RSRUFNSU5HX1RSQU5TQ09ESU5HX05PVF9TVVBQT1JURUQ9XCJMSVZFX1NUUkVBTUlOR19UUkFOU0NPRElOR19OT1RfU1VQUE9SVEVEXCIsdC5MSVZFX1NUUkVBTUlOR19DRE5fRVJST1I9XCJMSVZFX1NUUkVBTUlOR19DRE5fRVJST1JcIix0LkxJVkVfU1RSRUFNSU5HX0lOVkFMSURfUkFXX1NUUkVBTT1cIkxJVkVfU1RSRUFNSU5HX0lOVkFMSURfUkFXX1NUUkVBTVwiLHQuTElWRV9TVFJFQU1JTkdfV0FSTl9TVFJFQU1fTlVNX1JFQUNIX0xJTUlUPVwiTElWRV9TVFJFQU1JTkdfV0FSTl9TVFJFQU1fTlVNX1JFQUNIX0xJTUlUXCIsdC5MSVZFX1NUUkVBTUlOR19XQVJOX0ZBSUxFRF9MT0FEX0lNQUdFPVwiTElWRV9TVFJFQU1JTkdfV0FSTl9GQUlMRURfTE9BRF9JTUFHRVwiLHQuTElWRV9TVFJFQU1JTkdfV0FSTl9GUkVRVUVOVF9SRVFVRVNUPVwiTElWRV9TVFJFQU1JTkdfV0FSTl9GUkVRVUVOVF9SRVFVRVNUXCIsdC5XRUJHTF9JTlRFUk5BTF9FUlJPUj1cIldFQkdMX0lOVEVSTkFMX0VSUk9SXCIsdC5CRUFVVFlfUFJPQ0VTU09SX0lOVEVSTkFMX0VSUk9SPVwiQkVBVVRZX1BST0NFU1NPUl9JTlRFUk5BTF9FUlJPUlwiLHQuQ1JPU1NfQ0hBTk5FTF9XQUlUX1NUQVRVU19FUlJPUj1cIkNST1NTX0NIQU5ORUxfV0FJVF9TVEFUVVNfRVJST1JcIix0LkNST1NTX0NIQU5ORUxfRkFJTEVEX0pPSU5fU1JDPVwiQ1JPU1NfQ0hBTk5FTF9GQUlMRURfSk9JTl9TRUNcIix0LkNST1NTX0NIQU5ORUxfRkFJTEVEX0pPSU5fREVTVD1cIkNST1NTX0NIQU5ORUxfRkFJTEVEX0pPSU5fREVTVFwiLHQuQ1JPU1NfQ0hBTk5FTF9GQUlMRURfUEFDS0VUX1NFTlRfVE9fREVTVD1cIkNST1NTX0NIQU5ORUxfRkFJTEVEX1BBQ0tFVF9TRU5UX1RPX0RFU1RcIix0LkNST1NTX0NIQU5ORUxfU0VSVkVSX0VSUk9SX1JFU1BPTlNFPVwiQ1JPU1NfQ0hBTk5FTF9TRVJWRVJfRVJST1JfUkVTUE9OU0VcIix0Lk1FVEFEQVRBX09VVF9PRl9SQU5HRT1cIk1FVEFEQVRBX09VVF9PRl9SQU5HRVwiLHQuTE9DQUxfQUVDX0VSUk9SPVwiTE9DQUxfQUVDX0VSUk9SXCIsdC5JTlZBTElEX1BMVUdJTj1cIklOVkFMSURfUExVR0lOXCIsdC5ESVNDT05ORUNUX1AyUD1cIkRJU0NPTk5FQ1RfUDJQXCIsdC5DT05WRVJUSU5HX0lNQUdFREFUQV9UT19CTE9CX0ZBSUxFRD1cIkNPTlZFUlRJTkdfSU1BR0VEQVRBX1RPX0JMT0JfRkFJTEVEXCIsdC5DT05WRVJUSU5HX1ZJREVPX0ZSQU1FX1RPX0JMT0JfRkFJTEVEPVwiQ09OVkVSVElOR19WSURFT19GUkFNRV9UT19CTE9CX0ZBSUxFRFwiLHQuSU5JVF9EQVRBQ0hBTk5FTF9USU1FT1VUPVwiSU5JVF9EQVRBQ0hBTk5FTF9USU1FT1VUXCIsdC5DUkVBVEVfREFUQUNIQU5ORUxfRVJST1I9XCJDUkVBVEVfREFUQUNIQU5ORUxfRVJST1JcIix0LkRBVEFDSEFOTkVMX0NPTk5FQ1RJT05fVElNRU9VVD1cIkRBVEFDSEFOTkVMX0NPTk5FQ1RJT05fVElNRU9VVFwiLHQuUFJPSElCSVRFRF9PUEVSQVRJT049XCJQUk9ISUJJVEVEX09QRVJBVElPTlwiLHQuSU1BR0VfTU9ERVJBVElPTl9VUExPQURfRkFJTEVEPVwiSU1BR0VfTU9ERVJBVElPTl9VUExPQURfRkFJTEVEXCIsdC5QMlBfTUVTU0FHRV9GQUlMRUQ9XCJQMlBfTUVTU0FHRV9GQUlMRURcIix0fSh7fSksTj1jbGFzcyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTpcIlwiLG49YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7c3VwZXIoZSksanQodGhpcyxcImNvZGVcIix2b2lkIDApLGp0KHRoaXMsXCJtZXNzYWdlXCIsdm9pZCAwKSxqdCh0aGlzLFwiZGF0YVwiLHZvaWQgMCksanQodGhpcyxcIm5hbWVcIixcIkFnb3JhUlRDRXhjZXB0aW9uXCIpLHRoaXMuY29kZT10LHRoaXMubWVzc2FnZT1cIkFnb3JhUlRDRXJyb3IgXCIuY29uY2F0KHRoaXMuY29kZSxcIjogXCIpLmNvbmNhdChlKSx0aGlzLmRhdGE9bjt9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5kYXRhP1wiZGF0YTogXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YSksYFxuYCkuY29uY2F0KHRoaXMuc3RhY2spOlwiXCIuY29uY2F0KHRoaXMuc3RhY2spfXByaW50KCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOlwiZXJyb3JcIixlPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO3JldHVybiB0PT09XCJlcnJvclwiJiYoZXx8Y29uc29sZSkuZXJyb3IodGhpcy50b1N0cmluZygpKSx0PT09XCJ3YXJuaW5nXCImJihlfHxjb25zb2xlKS53YXJuKHRoaXMudG9TdHJpbmcoKSksdGhpc310aHJvdyh0KXt0aHJvdyB0aGlzLnByaW50KFwiZXJyb3JcIix0KSx0aGlzfX07ZnVuY3Rpb24gTnIodCxlKXtpZih0eXBlb2YgdCE9XCJib29sZWFuXCIpdGhyb3cgbmV3IE4oUi5JTlZBTElEX1BBUkFNUyxcIkludmFsaWQgXCIuY29uY2F0KGUsXCI6IFRoZSB2YWx1ZSBpcyBvZiB0aGUgYm9vbGVhbiB0eXBlLlwiKSl9ZnVuY3Rpb24gQ2UodCxlLG4pe2lmKCFXKG4pLmNhbGwobix0KSl0aHJvdyBuZXcgTihSLklOVkFMSURfUEFSQU1TLFwiXCIuY29uY2F0KGUsXCIgY2FuIG9ubHkgYmUgc2V0IGFzIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkobikpKX1mdW5jdGlvbiBOdCh0LGUpe2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dm9pZCAwP2FyZ3VtZW50c1syXToxLGk9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT12b2lkIDA/YXJndW1lbnRzWzNdOjFlNDtpZih0PG58fHQ+aXx8KCEoYXJndW1lbnRzLmxlbmd0aD40JiZhcmd1bWVudHNbNF0hPT12b2lkIDApfHxhcmd1bWVudHNbNF0pJiYhZnVuY3Rpb24ocil7cmV0dXJuIHR5cGVvZiByPT1cIm51bWJlclwiJiZyJTE9PTB9KHQpKXRocm93IG5ldyBOKFIuSU5WQUxJRF9QQVJBTVMsXCJpbnZhbGlkIFwiLmNvbmNhdChlLFwiOiB0aGUgdmFsdWUgcmFuZ2UgaXMgW1wiKS5jb25jYXQobixcIiwgXCIpLmNvbmNhdChpLFwiXS4gaW50ZWdlciBvbmx5XCIpKX1mdW5jdGlvbiBicCh0LGUpe2lmKHR5cGVvZiB0IT1cIm51bWJlclwiKXtpZighKHQubWlufHx0Lm1heHx8dC5pZGVhbHx8dC5leGFjdCkpdGhyb3cgbmV3IE4oUi5JTlZBTElEX1BBUkFNUyxcIlwiLmNvbmNhdChlLFwiIGlzIG5vdCBhIHZhbGlkIENvbnN0cmFpbkxvbmdcIikpO3QubWluIT09dm9pZCAwJiZOdCh0Lm1pbixcIlwiLmNvbmNhdChlLFwiLm1pblwiKSwwLDEvMCksdC5tYXghPT12b2lkIDAmJk50KHQubWF4LFwiXCIuY29uY2F0KGUsXCIubWF4XCIpLDEsMS8wKSx0LmV4YWN0IT09dm9pZCAwJiZOdCh0LmV4YWN0LFwiXCIuY29uY2F0KGUsXCIuZXhhY3RcIiksMSwxLzApLHQuaWRlYWwhPT12b2lkIDAmJk50KHQuaWRlYWwsXCJcIi5jb25jYXQoZSxcIi5pZGVhbFwiKSwxLDEvMCk7fWVsc2UgTnQodCxlLDEsMS8wKTt9ZnVuY3Rpb24gUGUodCxlKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMD9hcmd1bWVudHNbMl06MSxpPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dm9pZCAwP2FyZ3VtZW50c1szXToyNTUscj0hKGFyZ3VtZW50cy5sZW5ndGg+NCYmYXJndW1lbnRzWzRdIT09dm9pZCAwKXx8YXJndW1lbnRzWzRdO2lmKHQ9PW51bGwpdGhyb3cgbmV3IE4oUi5JTlZBTElEX1BBUkFNUyxcIlwiLmNvbmNhdChlfHxcInBhcmFtXCIsXCIgY2Fubm90IGJlIGVtcHR5XCIpKTtpZighUk8odCxuLGkscikpdGhyb3cgbmV3IE4oUi5JTlZBTElEX1BBUkFNUyxcIkludmFsaWQgXCIuY29uY2F0KGV8fFwic3RyaW5nIHBhcmFtXCIsXCI6IExlbmd0aCBvZiB0aGUgc3RyaW5nOiBbXCIpLmNvbmNhdChuLFwiLFwiKS5jb25jYXQoaSxcIl0uXCIpLmNvbmNhdChyP1wiIEFTQ0lJIGNoYXJhY3RlcnMgb25seS5cIjpcIlwiKSl9ZnVuY3Rpb24gYnIodCxlKXtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgTihSLklOVkFMSURfUEFSQU1TLFwiXCIuY29uY2F0KGUsXCIgc2hvdWxkIGJlIGFuIGFycmF5XCIpKX1mdW5jdGlvbiB6dCh0KXtyZXR1cm4gdD09bnVsbH1mdW5jdGlvbiBSTyh0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06MSxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dm9pZCAwP2FyZ3VtZW50c1syXToyNTUsaT0hKGFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dm9pZCAwKXx8YXJndW1lbnRzWzNdO3JldHVybiB0eXBlb2YgdD09XCJzdHJpbmdcIiYmdC5sZW5ndGg8PW4mJnQubGVuZ3RoPj1lJiYoIWl8fGZ1bmN0aW9uKHIpe2lmKHR5cGVvZiByIT1cInN0cmluZ1wiKXJldHVybiAhMTtmb3IobGV0IG89MDtvPHIubGVuZ3RoO28rPTEpe2xldCBzPXIuY2hhckNvZGVBdChvKTtpZihzPDB8fHM+MjU1KXJldHVybiAhMX1yZXR1cm4gITB9KHQpKX12YXIgS2E9ZnVuY3Rpb24odCl7cmV0dXJuIHQuQ09WRVJFRD1cIkNPVkVSRURcIix0LlBPU0lUSU9OPVwiUE9TSVRJT05cIix0LlNJWkU9XCJTSVpFXCIsdC5TVFlMRT1cIlNUWUxFXCIsdH0oS2F8fHt9KSxERT1mdW5jdGlvbih0KXtyZXR1cm4gdC5VTk1PVU5URUQ9XCJVTk1PVU5URURcIix0LklOVkFMSURfSFRNTF9FTEVNRU5UPVwiSU5WQUxJRF9IVE1MX0VMRU1FTlRcIix0fShERXx8e30pLENPPW5ldyBjbGFzc3tjb25zdHJ1Y3Rvcigpe2p0KHRoaXMsXCJfY2xpZW50U2l6ZVwiLG51bGwpLGp0KHRoaXMsXCJnZXRDbGllbnRXaWR0aFwiLCgpPT5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ/ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoOmRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpLGp0KHRoaXMsXCJnZXRDbGllbnRIZWlnaHRcIiwoKT0+ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50P2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ6ZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQpLGp0KHRoaXMsXCJnZXRTdHlsZVwiLHQ9PndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHQsbnVsbCkpLGp0KHRoaXMsXCJjaGVja0Nzc1Zpc2libGVQcm9wZXJ0eVwiLHQ9Pnt2YXIgZTtsZXQgbj0hMCxpPXRoaXMuZ2V0U3R5bGUodCkse2Rpc3BsYXk6cix2aXNpYmlsaXR5Om8sb3BhY2l0eTpzLGZpbHRlcjphfT1pO3JldHVybiAocj09PVwibm9uZVwifHxXKGU9W1wiaGlkZGVuXCIsXCJjb2xsYXBzZVwiXSkuY2FsbChlLG8pfHxOdW1iZXIocyk8LjEpJiYobj0hMSksISFuJiYoYSYmYS5zcGxpdChcIiBcIikuZmlsdGVyKGM9Pnt2YXIgZDtsZXQgbD1jLnNwbGl0KFwiKFwiKVswXTtyZXR1cm4gVyhkPVtcImJyaWdodG5lc3NcIixcImJsdXJcIixcIm9wYWNpdHlcIl0pLmNhbGwoZCxsKX0pLm1hcChjPT57bGV0W2QsbF09Yy5zcGxpdCgvXFwofFxcKS8pO3JldHVybiBbZCxOdW1iZXIobC5tYXRjaCgvXlswLTlcXC5dKy8pKV19KS5mb3JFYWNoKGM9PntsZXRbZCxsXT1jO3N3aXRjaChkKXtjYXNlXCJicmlnaHRuZXNzXCI6KGw8LjF8fGw+MykmJihuPSExKTticmVhaztjYXNlXCJibHVyXCI6bD4zJiYobj0hMSk7YnJlYWs7Y2FzZVwib3BhY2l0eVwiOmw8LjEmJihuPSExKTt9fSksbil9KSxqdCh0aGlzLFwiY2hlY2tQcm9wZXJ0eVVwVG9BbGxQYXJlbnROb2Rlc1wiLCh0LGUpPT57bGV0IG49ITAsaT0hMCxyPXM9PmUocyksbz10O2Zvcig7byYmaTspcihvKXx8KG49ITEsaT0hMSksbz1vLnBhcmVudEVsZW1lbnQsb3x8KGk9ITEpO3JldHVybiBufSksanQodGhpcyxcImNoZWNrQWN0dWFsQ3NzVmlzaWJsZUluY2x1ZGVJbmhlcml0XCIsdD0+dGhpcy5jaGVja1Byb3BlcnR5VXBUb0FsbFBhcmVudE5vZGVzKHQsdGhpcy5jaGVja0Nzc1Zpc2libGVQcm9wZXJ0eSkpLGp0KHRoaXMsXCJnZXRTaXplQWJvdXRDbGllbnRcIix0PT57bGV0e3dpZHRoOmUsaGVpZ2h0Om4sbGVmdDppLHJpZ2h0OnIsdG9wOm8sYm90dG9tOnN9PXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYT10aGlzLmdldENsaWVudFdpZHRoKCksYz10aGlzLmdldENsaWVudEhlaWdodCgpO3JldHVybiB7d2lkdGg6ZSxoZWlnaHQ6bixsZWZ0OmkscmlnaHQ6cix0b3A6byxib3R0b206cyxjbGllbnRXaWR0aDphLGNsaWVudEhlaWdodDpjLGNsaWVudE1pbjpNYXRoLm1pbihhLGMpfX0pLGp0KHRoaXMsXCJjaGVja0FjdHVhbFNpemVcIiwoKT0+e2xldHt3aWR0aDp0LGhlaWdodDplLGNsaWVudE1pbjpufT10aGlzLl9jbGllbnRTaXplO3JldHVybiB0aGlzLmNoZWNrU2l6ZUlzVmlzaWJsZSh0LGUsbil9KSxqdCh0aGlzLFwiZWxlbWVudEZyb21Qb2ludFwiLCh0LGUpPT5kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50P2RvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQodCxlKTpudWxsKSxqdCh0aGlzLFwiY2hlY2tDb3ZlckZvckFQb2ludFwiLCh0LGUsbik9PntsZXQgaT10aGlzLmVsZW1lbnRGcm9tUG9pbnQodCxlKTtyZXR1cm4gaSE9PW51bGwmJmkhPT1ufSksanQodGhpcyxcImdldFBvaW50UG9zaXRpb25MaXN0XCIsKCk9PntsZXR7d2lkdGg6dCxoZWlnaHQ6ZSxsZWZ0Om4sdG9wOml9PXRoaXMuX2NsaWVudFNpemUscj10LzYsbz1lLzYscz1bXSxhPTEwKio2O2ZvcihsZXQgYz0wO2M8NTtjKyspZm9yKGxldCBkPTA7ZDw1O2QrKyl7bGV0IGw9KG4qYSsoYz09PTA/LjE6Yz09PTQ/KHIqYyphLTFlNSkvYTpyKmMpKmEpL2EsdT0oaSphKyhkPT09MD8uMTpkPT09ND8obypkKmEtMWU1KS9hOm8qZCkqYSkvYTtzLnB1c2goe3g6bCx5OnV9KTt9cmV0dXJuIFsuLi5zXX0pLGp0KHRoaXMsXCJjaGVja0VsZW1lbnRDb3ZlclwiLHQ9PnRoaXMuZ2V0UG9pbnRQb3NpdGlvbkxpc3QoKS5tYXAoZT0+dGhpcy5jaGVja0NvdmVyRm9yQVBvaW50KGUueCxlLnksdCkpLmZpbHRlcihlPT4hIWUpLmxlbmd0aD42KSxqdCh0aGlzLFwiY2hlY2tTaXplSXNWaXNpYmxlXCIsKHQsZSxuKT0+KHQ+NTB8fG4vdDw9MTApJiYoZT41MHx8bi9lPD0xMCkpLGp0KHRoaXMsXCJjaGVja1NpemVPZlBhcnRJbkNsaWVudFwiLCgpPT57bGV0e2xlZnQ6dCxyaWdodDplLHRvcDpuLGJvdHRvbTppLGNsaWVudEhlaWdodDpyLGNsaWVudFdpZHRoOm8sY2xpZW50TWluOnN9PXRoaXMuX2NsaWVudFNpemUsYSxjLGQsbDtpZih0PDApYT0wO2Vsc2Uge2lmKCEodDxvKSlyZXR1cm4gITE7YT10O31pZihlPDApcmV0dXJuICExO2lmKGM9ZTxvP2U6byxuPDApZD0wO2Vsc2Uge2lmKCEobjxyKSlyZXR1cm4gITE7ZD1uO31pZihpPDApcmV0dXJuICExO2w9aTxyP2k6cjtsZXQgdT1jLWEsaD1sLWQ7cmV0dXJuIHRoaXMuY2hlY2tTaXplSXNWaXNpYmxlKHUsaCxzKX0pLGp0KHRoaXMsXCJyZXR1cm5IaWRkZW5SZXN1bHRcIix0PT4odGhpcy5fY2xpZW50U2l6ZT1udWxsLHt2aXNpYmxlOiExLHJlYXNvbjp0fSkpLGp0KHRoaXMsXCJjaGVja09uZUVsZW1lbnRWaXNpYmxlXCIsdD0+e2lmKHQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7aWYodGhpcy5jaGVja0VsZW1lbnRJc01vdW50ZWRPbkRvbSh0KSl7aWYodGhpcy5jaGVja0FjdHVhbENzc1Zpc2libGVJbmNsdWRlSW5oZXJpdCh0KSl7aWYodGhpcy5fY2xpZW50U2l6ZT10aGlzLmdldFNpemVBYm91dENsaWVudCh0KSx0aGlzLmNoZWNrRWxlbWVudENvdmVyKHQpKXJldHVybiB0aGlzLnJldHVybkhpZGRlblJlc3VsdChLYS5DT1ZFUkVEKTt7bGV0IGU9dGhpcy5jaGVja0FjdHVhbFNpemUoKSxuPXRoaXMuY2hlY2tTaXplT2ZQYXJ0SW5DbGllbnQoKTtyZXR1cm4gZSYmIW4/dGhpcy5yZXR1cm5IaWRkZW5SZXN1bHQoS2EuUE9TSVRJT04pOmU/KHRoaXMuX2NsaWVudFNpemU9bnVsbCx7dmlzaWJsZTohMH0pOnRoaXMucmV0dXJuSGlkZGVuUmVzdWx0KEthLlNJWkUpfX1yZXR1cm4gdGhpcy5yZXR1cm5IaWRkZW5SZXN1bHQoS2EuU1RZTEUpfXJldHVybiB0aGlzLnJldHVybkhpZGRlblJlc3VsdChERS5VTk1PVU5URUQpfXJldHVybiB0aGlzLnJldHVybkhpZGRlblJlc3VsdChERS5JTlZBTElEX0hUTUxfRUxFTUVOVCl9KSxqdCh0aGlzLFwiY2hlY2tFbGVtZW50SXNNb3VudGVkT25Eb21cIix0PT50aGlzLmNoZWNrUHJvcGVydHlVcFRvQWxsUGFyZW50Tm9kZXModCxlPT5lLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkhPT1cIkhUTUxcIj9lLnBhcmVudEVsZW1lbnQhPT1udWxsOiEhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSk7fX07ZnVuY3Rpb24gdWYodCl7cmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0KX12YXIgRVI9ZnVuY3Rpb24odCxlKXtsZXQgbj1uZXcgVWludDhBcnJheSh0LmJ5dGVMZW5ndGgrZS5ieXRlTGVuZ3RoKTtyZXR1cm4gbi5zZXQobmV3IFVpbnQ4QXJyYXkodCksMCksbi5zZXQobmV3IFVpbnQ4QXJyYXkoZSksdC5ieXRlTGVuZ3RoKSxufSxQRT1hc3luYyB0PT5mdW5jdGlvbihlLG4pe2xldCBpPVwiXCI7cmV0dXJuIG5ldyBVaW50OEFycmF5KGUpLmZvckVhY2gocj0+e2krPXIudG9TdHJpbmcobikucGFkU3RhcnQoMixcIjBcIik7fSksaX0oYXdhaXQgY3J5cHRvLnN1YnRsZS5kaWdlc3QoXCJTSEEtMjU2XCIsdWYodCkpLDE2KSxYdD1jbGFzc3tjb25zdHJ1Y3Rvcigpe2p0KHRoaXMsXCJfZXZlbnRzXCIse30pLGp0KHRoaXMsXCJhZGRMaXN0ZW5lclwiLHRoaXMub24pO31nZXRMaXN0ZW5lcnModCl7cmV0dXJuIHRoaXMuX2V2ZW50c1t0XT90aGlzLl9ldmVudHNbdF0ubWFwKGU9PmUubGlzdGVuZXIpOltdfW9uKHQsZSl7dGhpcy5fZXZlbnRzW3RdfHwodGhpcy5fZXZlbnRzW3RdPVtdKTtsZXQgbj10aGlzLl9ldmVudHNbdF07dGhpcy5faW5kZXhPZkxpc3RlbmVyKG4sZSk9PT0tMSYmbi5wdXNoKHtsaXN0ZW5lcjplLG9uY2U6ITF9KTt9b25jZSh0LGUpe3RoaXMuX2V2ZW50c1t0XXx8KHRoaXMuX2V2ZW50c1t0XT1bXSk7bGV0IG49dGhpcy5fZXZlbnRzW3RdO3RoaXMuX2luZGV4T2ZMaXN0ZW5lcihuLGUpPT09LTEmJm4ucHVzaCh7bGlzdGVuZXI6ZSxvbmNlOiEwfSk7fW9mZih0LGUpe2lmKCF0aGlzLl9ldmVudHNbdF0pcmV0dXJuO2xldCBuPXRoaXMuX2V2ZW50c1t0XSxpPXRoaXMuX2luZGV4T2ZMaXN0ZW5lcihuLGUpO2khPT0tMSYmbi5zcGxpY2UoaSwxKSx0aGlzLl9ldmVudHNbdF0ubGVuZ3RoPT09MCYmZGVsZXRlIHRoaXMuX2V2ZW50c1t0XTt9cmVtb3ZlQWxsTGlzdGVuZXJzKHQpe3Q/ZGVsZXRlIHRoaXMuX2V2ZW50c1t0XTp0aGlzLl9ldmVudHM9e307fWVtaXQodCl7dGhpcy5fZXZlbnRzW3RdfHwodGhpcy5fZXZlbnRzW3RdPVtdKTtsZXQgZT10aGlzLl9ldmVudHNbdF0ubWFwKG89Pm8pO2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KG4+MT9uLTE6MCkscj0xO3I8bjtyKyspaVtyLTFdPWFyZ3VtZW50c1tyXTtmb3IobGV0IG89MDtvPGUubGVuZ3RoO28rPTEpe2xldCBzPWVbb107cy5vbmNlJiZ0aGlzLm9mZih0LHMubGlzdGVuZXIpLHMubGlzdGVuZXIuYXBwbHkodGhpcyxpfHxbXSk7fX1zYWZlRW1pdCh0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlPjE/ZS0xOjApLGk9MTtpPGU7aSsrKW5baS0xXT1hcmd1bWVudHNbaV07Wy4uLnRoaXMuX2V2ZW50c1t0XXx8W11dLmZvckVhY2gocj0+e3Iub25jZSYmdGhpcy5vZmYodCxyLmxpc3RlbmVyKTt0cnl7ci5saXN0ZW5lci5hcHBseSh0aGlzLG4pO31jYXRjaChvKXtjb25zb2xlLmVycm9yKFwic2FmZUVtaXQgZXZlbnQ6XCIuY29uY2F0KHQsXCIgZXJyb3IgXCIpLmNvbmNhdChvPy50b1N0cmluZygpKSk7fX0pO31faW5kZXhPZkxpc3RlbmVyKHQsZSl7bGV0IG49dC5sZW5ndGg7Zm9yKDtuLS07KWlmKHRbbl0ubGlzdGVuZXI9PT1lKXJldHVybiBuO3JldHVybiAtMX19LFBhPW51bGw7ZnVuY3Rpb24gSU8oKXtpZihQYSlyZXR1cm4gUGE7aWYod2luZG93LmVsZWN0cm9uKXJldHVybiBQYT13aW5kb3cuZWxlY3Ryb247aWYoIXdpbmRvdy5yZXF1aXJlKXJldHVybiBudWxsO3RyeXtyZXR1cm4gUGE9d2luZG93LnJlcXVpcmUoXCJlbGVjdHJvblwiKSxQYX1jYXRjaHtyZXR1cm4gbnVsbH19dmFyIFRlPWZ1bmN0aW9uKHQpe3JldHVybiB0LkNSRUFURV9DTElFTlQ9XCJjcmVhdGVDbGllbnRcIix0LkNIRUNLX1NZU1RFTV9SRVFVSVJFTUVOVFM9XCJjaGVja1N5c3RlbVJlcXVpcmVtZW50c1wiLHQuU0VUX0FSRUE9XCJzZXRBcmVhXCIsdC5QUkVMT0FEPVwiUFJFTE9BRFwiLHQuQ0hFQ0tfVklERU9fVFJBQ0tfSVNfQUNUSVZFPVwiY2hlY2tWaWRlb1RyYWNrSXNBY3RpdmVcIix0LkNIRUNLX0FVRElPX1RSQUNLX0lTX0FDVElWRT1cImNoZWNrQXVkaW9UcmFja0lzQWN0aXZlXCIsdC5DUkVBVEVfTUlDX0FVRElPX1RSQUNLPVwiY3JlYXRlTWljcm9waG9uZUF1ZGlvVHJhY2tcIix0LkNSRUFURV9DVVNUT01fQVVESU9fVFJBQ0s9XCJjcmVhdGVDdXN0b21BdWRpb1RyYWNrXCIsdC5DUkVBVEVfQlVGRkVSX0FVRElPX1RSQUNLPVwiY3JlYXRlQnVmZmVyU291cmNlQXVkaW9UcmFja1wiLHQuQ1JFQVRFX0NBTV9WSURFT19UUkFDSz1cImNyZWF0ZUNhbWVyYVZpZGVvVHJhY2tcIix0LkNSRUFURV9DVVNUT01fVklERU9fVFJBQ0s9XCJjcmVhdGVDdXN0b21WaWRlb1RyYWNrXCIsdC5DUkVBVEVfTUlDX0FORF9DQU1fVFJBQ0tTPVwiY3JlYXRlTWljcm9waG9uZUFuZENhbWVyYVRyYWNrc1wiLHQuQ1JFQVRFX1NDUkVFTl9WSURFT19UUkFDSz1cImNyZWF0ZVNjcmVlblZpZGVvVHJhY2tcIix0LlNFVF9FTkNSWVBUSU9OX0NPTkZJRz1cIkNsaWVudC5zZXRFbmNyeXB0aW9uQ29uZmlnXCIsdC5TVEFSVF9QUk9YWV9TRVJWRVI9XCJDbGllbnQuc3RhcnRQcm94eVNlcnZlclwiLHQuU1RPUF9QUk9YWV9TRVJWRVI9XCJDbGllbnQuc3RvcFByb3h5U2VydmVyXCIsdC5TRVRfUFJPWFlfU0VSVkVSPVwiQ2xpZW50LnNldFByb3h5U2VydmVyXCIsdC5TRVRfVFVSTl9TRVJWRVI9XCJDbGllbnQuc2V0VHVyblNlcnZlclwiLHQuU0VUX0NMSUVOVF9ST0xFPVwiQ2xpZW50LnNldENsaWVudFJvbGVcIix0LlNFVF9MT1dfU1RSRUFNX1BBUkFNRVRFUj1cIkNsaWVudC5zZXRMb3dTdHJlYW1QYXJhbWV0ZXJcIix0LkVOQUJMRV9EVUFMX1NUUkVBTT1cIkNsaWVudC5lbmFibGVEdWFsU3RyZWFtXCIsdC5ESVNBQkxFX0RVQUxfU1RSRUFNPVwiQ2xpZW50LmRpc2FibGVEdWFsU3RyZWFtXCIsdC5KT0lOPVwiQ2xpZW50LmpvaW5cIix0LkxFQVZFPVwiQ2xpZW50LmxlYXZlXCIsdC5QVUJMSVNIPVwiQ2xpZW50LnB1Ymxpc2hcIix0LlVOUFVCTElTSD1cIkNsaWVudC51bnB1Ymxpc2hcIix0LlNVQlNDUklCRT1cIkNsaWVudC5zdWJzY3JpYmVcIix0Lk1BU1NfU1VCU0NSSUJFPVwiQ2xpZW50Lm1hc3NTdWJzY3JpYmVcIix0Lk1BU1NfVU5TVUJTQ1JJQkU9XCJDbGllbnQubWFzc1Vuc3Vic2NyaWJlXCIsdC5VTlNVQlNDUklCRT1cIkNsaWVudC51bnN1YnNjcmliZVwiLHQuUkVORVdfVE9LRU49XCJDbGllbnQucmVuZXdUb2tlblwiLHQuU0VUX1JFTU9URV9WSURFT19TVFJFQU1fVFlQRT1cIkNsaWVudC5zZXRSZW1vdGVWaWRlb1N0cmVhbVR5cGVcIix0LlNFVF9TVFJFQU1fRkFMTEJBQ0tfT1BUSU9OPVwiQ2xpZW50LnNldFN0cmVhbUZhbGxiYWNrT3B0aW9uXCIsdC5FTkFCTEVfQVVESU9fVk9MVU1FX0lORElDQVRPUj1cIkNsaWVudC5lbmFibGVBdWRpb1ZvbHVtZUluZGljYXRvclwiLHQuU0VORF9DVVNUT01fUkVQT1JUX01FU1NBR0U9XCJDbGllbnQuc2VuZEN1c3RvbVJlcG9ydE1lc3NhZ2VcIix0LklOU1BFQ1RfVklERU9fQ09OVEVOVD1cIkNsaWVudC5pbnNwZWN0VmlkZW9Db250ZW50XCIsdC5TVE9QX0lOU1BFQ1RfVklERU9fQ09OVEVOVD1cIkNsaWVudC5zdG9wSW5zcGVjdFZpZGVvQ29udGVudFwiLHQuSk9JTl9GQUxMQkFDS19UT19QUk9YWT1cIkNsaWVudC5fam9pbkZhbGxiYWNrVG9Qcm94eVwiLHQuT05fTElWRV9TVFJFQU1fV0FSTklORz1cIkNsaWVudC5vbkxpdmVTdHJlYW1XYXJuaW5nXCIsdC5PTl9MSVZFX1NUUkVBTV9FUlJPUj1cIkNsaWVudC5vbkxpdmVTdHJlYW1pbmdFcnJvclwiLHQuU1RBUlRfTElWRV9TVFJFQU1JTkc9XCJDbGllbnQuc3RhcnRMaXZlU3RyZWFtaW5nXCIsdC5TRVRfTElWRV9UUkFOU0NPRElORz1cIkNsaWVudC5zZXRMaXZlVHJhbnNjb2RpbmdcIix0LlNUT1BfTElWRV9TVFJFQU1JTkc9XCJDbGllbnQuc3RvcExpdmVTdHJlYW1pbmdcIix0LlNUQVJUX0NIQU5ORUxfTUVESUFfUkVMQVk9XCJDbGllbnQuc3RhcnRDaGFubmVsTWVkaWFSZWxheVwiLHQuVVBEQVRFX0NIQU5ORUxfTUVESUFfUkVMQVk9XCJDbGllbnQudXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXlcIix0LlNUT1BfQ0hBTk5FTF9NRURJQV9SRUxBWT1cIkNsaWVudC5zdG9wQ2hhbm5lbE1lZGlhUmVsYXlcIix0LlJFUVVFU1RfQ09ORklHX0RJU1RSSUJVVEU9XCJfY29uZmlnLWRpc3RyaWJ1dGUtcmVxdWVzdFwiLHQuU0VUX0NPTkZJR19ESVNUUklCVVRFPVwiX2NvbmZpZ0Rpc3RyaWJ1dGVcIix0LkxPQ0FMX1RSQUNLX1NFVF9NVVRFRD1cIkxvY2FsVHJhY2suc2V0TXV0ZVwiLHQuTE9DQUxfQVVESU9fVFJBQ0tfUExBWT1cIkxvY2FsQXVkaW9UcmFjay5wbGF5XCIsdC5MT0NBTF9BVURJT19UUkFDS19QTEFZX0lOX0VMRU1FTlQ9XCJMb2NhbEF1ZGlvVHJhY2sucGxheUluRWxlbWVudFwiLHQuTE9DQUxfQVVESU9fVFJBQ0tfU1RPUD1cIkxvY2FsQXVkaW9UcmFjay5zdG9wXCIsdC5MT0NBTF9BVURJT19UUkFDS19TRVRfVk9MVU1FPVwiTG9jYWxBdWRpb1RyYWNrLnNldFZvbHVtZVwiLHQuTUlDX0FVRElPX1RSQUNLX1NFVF9ERVZJQ0U9XCJNaWNyb3Bob25lQXVkaW9UcmFjay5zZXREZXZpY2VcIix0LkJVRkZFUl9BVURJT19UUkFDS19TVEFSVD1cIkJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2suc3RhcnRQcm9jZXNzQXVkaW9CdWZmZXJcIix0LkJVRkZFUl9BVURJT19UUkFDS19TVE9QPVwiQnVmZmVyU291cmNlQXVkaW9UcmFjay5zdG9wUHJvY2Vzc0F1ZGlvQnVmZmVyXCIsdC5CVUZGRVJfQVVESU9fVFJBQ0tfUEFVU0U9XCJCdWZmZXJTb3VyY2VBdWRpb1RyYWNrLnBhdXNlUHJvY2Vzc0F1ZGlvQnVmZmVyXCIsdC5CVUZGRVJfQVVESU9fVFJBQ0tfUkVTVU1FPVwiQnVmZmVyU291cmNlQXVkaW9UcmFjay5yZXN1bWVQcm9jZXNzQXVkaW9CdWZmZXJcIix0LkJVRkZFUl9BVURJT19UUkFDS19TRUVLPVwiQnVmZmVyU291cmNlQXVkaW9UcmFjay5zZWVrQXVkaW9CdWZmZXJcIix0LkxPQ0FMX1ZJREVPX1RSQUNLX1BMQVk9XCJMb2NhbFZpZGVvVHJhY2sucGxheVwiLHQuTE9DQUxfVklERU9fVFJBQ0tfU1RPUD1cIkxvY2FsVmlkZW9UcmFjay5zdG9wXCIsdC5MT0NBTF9WSURFT19UUkFDS19HRVRfVklERU9fVklTSUJMRT1cIkxvY2FsVmlkZW9UcmFjay5nZXRWaWRlb0VsZW1lbnRWaXNpYmxlU3RhdHVzXCIsdC5MT0NBTF9WSURFT19UUkFDS19CRUFVVFk9XCJMb2NhbFZpZGVvVHJhY2suc2V0QmVhdXR5RWZmZWN0XCIsdC5MT0NBTF9WSURFT19TRU5EX1NFSV9EQVRBPVwiTG9jYWxWaWRlb1RyYWNrLnNlbmRTZWlEYXRhXCIsdC5DQU1fVklERU9fVFJBQ0tfU0VUX0RFVklDRT1cIkNhbWVyYVZpZGVvVHJhY2suc2V0RGV2aWNlXCIsdC5DQU1fVklERU9fVFJBQ0tfU0VUX0VOQ09ERVJfQ09ORklHPVwiQ2FtZXJhVmlkZW9UcmFjay5zZXRFbmNvZGVyQ29uZmlndXJhdGlvblwiLHQuUkVNT1RFX1ZJREVPX1RSQUNLX1BMQVk9XCJSZW1vdGVWaWRlb1RyYWNrLnBsYXlcIix0LlJFTU9URV9WSURFT19UUkFDS19TVE9QPVwiUmVtb3RlVmlkZW9UcmFjay5zdG9wXCIsdC5SRU1PVEVfVklERU9fVFJBQ0tfR0VUX1ZJREVPX1ZJU0lCTEU9XCJSZW1vdGVWaWRlb1RyYWNrLmdldFZpZGVvRWxlbWVudFZpc2libGVTdGF0dXNcIix0LlJFTU9URV9BVURJT19UUkFDS19QTEFZPVwiUmVtb3RlQXVkaW9UcmFjay5wbGF5XCIsdC5SRU1PVEVfQVVESU9fVFJBQ0tfU1RPUD1cIlJlbW90ZUF1ZGlvVHJhY2suc3RvcFwiLHQuUkVNT1RFX0FVRElPX1NFVF9WT0xVTUU9XCJSZW1vdGVBdWRpb1RyYWNrLnNldFZvbHVtZVwiLHQuUkVNT1RFX0FVRElPX1NFVF9PVVRQVVRfREVWSUNFPVwiUmVtb3RlQXVkaW9UcmFjay5zZXRPdXRwdXREZXZpY2VcIix0LkdFVF9NRURJQV9TVFJFQU1fVFJBQ0s9XCJUcmFjay5nZXRNZWRpYVN0cmVhbVRyYWNrXCIsdC5TVFJFQU1fVFlQRV9DSEFOR0U9XCJzdHJlYW1UeXBlQ2hhbmdlXCIsdC5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRT1cImNvbm5lY3Rpb25TdGF0ZUNoYW5nZVwiLHQuTE9BRF9DT05GSUdfRlJPTV9MT0NBTFNUT1JBR0U9XCJsb2FkQ29uZmlnRnJvbUxvY2FsU3RvcmFnZVwiLHQuSU1BR0VfTU9ERVJBVElPTl9VUExPQUQ9XCJpbWFnZU1vZGVyYXRpb25VcGxvYWRcIix0fSh7fSksWnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuVFJBQ0VSPVwidHJhY2VyXCIsdH0oe30pO2Z1bmN0aW9uIG1SKHQpe3JldHVybiBOdCh0LnRpbWVvdXQsXCJjb25maWcudGltZW91dFwiLDAsMWU1KSxOdCh0LnRpbWVvdXRGYWN0b3IsXCJjb25maWcudGltZW91dEZhY3RvclwiLDAsMTAwLCExKSxOdCh0Lm1heFJldHJ5Q291bnQsXCJjb25maWcubWF4UmV0cnlDb25maWdcIiwwLDEvMCksTnQodC5tYXhSZXRyeVRpbWVvdXQsXCJjb25maWcubWF4UmV0cnlUaW1lb3V0XCIsMCwxLzApLCEwfXZhciBFQj1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkFVRElFTkNFX0xFVkVMX0xPV19MQVRFTkNZPTFdPVwiQVVESUVOQ0VfTEVWRUxfTE9XX0xBVEVOQ1lcIix0W3QuQVVESUVOQ0VfTEVWRUxfVUxUUkFfTE9XX0xBVEVOQ1k9Ml09XCJBVURJRU5DRV9MRVZFTF9VTFRSQV9MT1dfTEFURU5DWVwiLHRbdC5BVURJRU5DRV9MRVZFTF9TWU5DX0xBVEVOQ1k9M109XCJBVURJRU5DRV9MRVZFTF9TWU5DX0xBVEVOQ1lcIix0fSh7fSksQXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuTEVBVkU9XCJMRUFWRVwiLHQuTkVUV09SS19FUlJPUj1cIk5FVFdPUktfRVJST1JcIix0LlNFUlZFUl9FUlJPUj1cIlNFUlZFUl9FUlJPUlwiLHQuVUlEX0JBTk5FRD1cIlVJRF9CQU5ORURcIix0LkZBTExCQUNLPVwiRkFMTEJBQ0tcIix0LklQX0JBTk5FRD1cIklQX0JBTk5FRFwiLHQuQ0hBTk5FTF9CQU5ORUQ9XCJDSEFOTkVMX0JBTk5FRFwiLHQuTElDRU5TRV9NSVNTSU5HPVwiTElDRU5TRV9NSVNTSU5HXCIsdC5MSUNFTlNFX0VYUElSRUQ9XCJMSUNFTlNFX0VYUElSRURcIix0LkxJQ0VOU0VfTUlOVVRFU19FWENFRURFRD1cIkxJQ0VOU0VfTUlOVVRFU19FWENFRURFRFwiLHQuTElDRU5TRV9QRVJJT0RfSU5WQUxJRD1cIkxJQ0VOU0VfUEVSSU9EX0lOVkFMSURcIix0LkxJQ0VOU0VfTVVMVElQTEVfU0RLX1NFUlZJQ0U9XCJMSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFXCIsdC5MSUNFTlNFX0lMTEVHQUw9XCJMSUNFTlNFX0lMTEVHQUxcIix0LlRPS0VOX0VYUElSRT1cIlRPS0VOX0VYUElSRVwiLHR9KHt9KTtmdW5jdGlvbiBZdSh0KXtpZighQXJyYXkuaXNBcnJheSh0KXx8dC5sZW5ndGg8MSlyZXR1cm4gITE7dHJ5e3QuZm9yRWFjaChlPT57aWYoIWUudXJscyl0aHJvdyBFcnJvcigpfSk7fWNhdGNoe3JldHVybiAhMX1yZXR1cm4gITB9ZnVuY3Rpb24gdk8odCl7cmV0dXJuIFBlKHQudHVyblNlcnZlclVSTCxcInR1cm5TZXJ2ZXJVUkxcIiksUGUodC51c2VybmFtZSxcInVzZXJuYW1lXCIpLFBlKHQucGFzc3dvcmQsXCJwYXNzd29yZFwiKSx0LnVkcHBvcnQmJk50KHQudWRwcG9ydCxcInVkcHBvcnRcIiwxLDk5OTk5LCEwKSx0LmZvcmNldHVybiYmTnIodC5mb3JjZXR1cm4sXCJmb3JjZXR1cm5cIiksdC5zZWN1cml0eSYmTnIodC5zZWN1cml0eSxcInNlY3VyaXR5XCIpLHQudGNwcG9ydCYmTnQodC50Y3Bwb3J0LFwidGNwcG9ydFwiLDEsOTk5OTksITApLCEwfWZ1bmN0aW9uIGZSKHQpe3JldHVybiB0LmxldmVsIT09dm9pZCAwJiZDZSh0LmxldmVsLFwibGV2ZWxcIixbMSwyLDNdKSx0LmRlbGF5IT09dm9pZCAwJiZOdCh0LmRlbGF5LFwiZGVsYXlcIiwwLDNlMywhMCksITB9dmFyIHV0PWZ1bmN0aW9uKHQpe3JldHVybiB0LkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFPVwiY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIix0Lk1FRElBX1JFQ09OTkVDVF9TVEFSVD1cIm1lZGlhLXJlY29ubmVjdC1zdGFydFwiLHQuTUVESUFfUkVDT05ORUNUX0VORD1cIm1lZGlhLXJlY29ubmVjdC1lbmRcIix0LklTX1VTSU5HX0NMT1VEX1BST1hZPVwiaXMtdXNpbmctY2xvdWQtcHJveHlcIix0LlVTRVJfSk9JTkVEPVwidXNlci1qb2luZWRcIix0LlVTRVJfTEVBVkVEPVwidXNlci1sZWZ0XCIsdC5VU0VSX1BVQkxJU0hFRD1cInVzZXItcHVibGlzaGVkXCIsdC5VU0VSX1VOUFVCTElTSEVEPVwidXNlci11bnB1Ymxpc2hlZFwiLHQuVVNFUl9JTkZPX1VQREFURUQ9XCJ1c2VyLWluZm8tdXBkYXRlZFwiLHQuQ0xJRU5UX0JBTk5FRD1cImNsaWVudC1iYW5uZWRcIix0LkNIQU5ORUxfTUVESUFfUkVMQVlfU1RBVEU9XCJjaGFubmVsLW1lZGlhLXJlbGF5LXN0YXRlXCIsdC5DSEFOTkVMX01FRElBX1JFTEFZX0VWRU5UPVwiY2hhbm5lbC1tZWRpYS1yZWxheS1ldmVudFwiLHQuVk9MVU1FX0lORElDQVRPUj1cInZvbHVtZS1pbmRpY2F0b3JcIix0LkNSWVBUX0VSUk9SPVwiY3J5cHQtZXJyb3JcIix0Lk9OX1RPS0VOX1BSSVZJTEVHRV9XSUxMX0VYUElSRT1cInRva2VuLXByaXZpbGVnZS13aWxsLWV4cGlyZVwiLHQuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkU9XCJ0b2tlbi1wcml2aWxlZ2UtZGlkLWV4cGlyZVwiLHQuTkVUV09SS19RVUFMSVRZPVwibmV0d29yay1xdWFsaXR5XCIsdC5TVFJFQU1fVFlQRV9DSEFOR0VEPVwic3RyZWFtLXR5cGUtY2hhbmdlZFwiLHQuU1RSRUFNX0ZBTExCQUNLPVwic3RyZWFtLWZhbGxiYWNrXCIsdC5SRUNFSVZFX01FVEFEQVRBPVwicmVjZWl2ZS1tZXRhZGF0YVwiLHQuU1RSRUFNX01FU1NBR0U9XCJzdHJlYW0tbWVzc2FnZVwiLHQuTElWRV9TVFJFQU1JTkdfRVJST1I9XCJsaXZlLXN0cmVhbWluZy1lcnJvclwiLHQuTElWRV9TVFJFQU1JTkdfV0FSTklORz1cImxpdmUtc3RyZWFtaW5nLXdhcm5pbmdcIix0LkVYQ0VQVElPTj1cImV4Y2VwdGlvblwiLHQuRVJST1I9XCJlcnJvclwiLHQuUDJQX0xPU1Q9XCJwMnBfbG9zdFwiLHQuSk9JTl9GQUxMQkFDS19UT19QUk9YWT1cImpvaW4tZmFsbGJhY2stdG8tcHJveHlcIix0LkNIQU5ORUxfRkFMTEJBQ0tfVE9fV0VCU09DS0VUPVwiY2hhbm5lbC1mYWxsYmFjay10by13ZWJzb2NrZXRcIix0Lk1FRElBX0NPTk5FQ1RJT05fVFlQRV9DSEFOR0U9XCJtZWRpYS1jb25uZWN0aW9uLXR5cGUtY2hhbmdlXCIsdC5QVUJMSVNIRURfVVNFUl9MSVNUPVwicHVibGlzaGVkLXVzZXItbGlzdFwiLHQuQ09OVEVOVF9JTlNQRUNUX0NPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFPVwiY29udGVudC1pbnNwZWN0LWNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlXCIsdC5DT05URU5UX0lOU1BFQ1RfRVJST1I9XCJjb250ZW50LWluc3BlY3QtZXJyb3JcIix0LkNPTlRFTlRfSU5TUEVDVF9SRVNVTFQ9XCJjb250ZW50LWluc3BlY3QtcmVzdWx0XCIsdC5JTUFHRV9NT0RFUkFUSU9OX0NPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFPVwiaW1hZ2UtbW9kZXJhdGlvbi1jb25uZWN0aW9uLXN0YXRlLWNoYW5nZVwiLHR9KHt9KSxCZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5ORVRXT1JLX0VSUk9SPVwiTkVUV09SS19FUlJPUlwiLHQuU0VSVkVSX0VSUk9SPVwiU0VSVkVSX0VSUk9SXCIsdC5NVUxUSV9JUD1cIk1VTFRJX0lQXCIsdC5USU1FT1VUPVwiVElNRU9VVFwiLHQuT0ZGTElORT1cIk9GRkxJTkVcIix0LkxFQVZFPVwiTEVBVkVcIix0LlAyUF9GQUlMRUQ9XCJQMlBfRkFJTEVEXCIsdC5GQUxMQkFDSz1cIkZBTExCQUNLXCIsdH0oe30pLHduPWZ1bmN0aW9uKHQpe3JldHVybiB0Lk9OTElORT1cIk9OTElORVwiLHQuT0ZGTElORT1cIk9GRkxJTkVcIix0fSh7fSksa3M9ZnVuY3Rpb24odCl7cmV0dXJuIHQuTkVUV09SS19TVEFURV9DSEFOR0U9XCJORVRXT1JLX1NUQVRFX0NIQU5HRVwiLHQuT05MSU5FPVwiT05MSU5FXCIsdC5PRkZMSU5FPVwiT0ZGTElORVwiLHR9KHt9KTtmdW5jdGlvbiBHZSh0LGUpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KG4+Mj9uLTI6MCkscj0yO3I8bjtyKyspaVtyLTJdPWFyZ3VtZW50c1tyXTtyZXR1cm4gdC5nZXRMaXN0ZW5lcnMoZSkubGVuZ3RoPT09MD9qLnJlamVjdChuZXcgTihSLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGVtaXQgcHJvbWlzZVwiKSk6bmV3IGooKG8scyk9Pnt0LmVtaXQoZSwuLi5pLG8scyk7fSl9ZnVuY3Rpb24ga3QodCxlKXtpZih0LmdldExpc3RlbmVycyhlKS5sZW5ndGg9PT0wKXJldHVybiBqLnJlc29sdmUoKTtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShuPjI/bi0yOjApLHI9MjtyPG47cisrKWlbci0yXT1hcmd1bWVudHNbcl07cmV0dXJuIEdlKHQsZSwuLi5pKX1mdW5jdGlvbiBuaSh0LGUpe2lmKHQuZ2V0TGlzdGVuZXJzKGUpLmxlbmd0aD09PTApcmV0dXJuIG51bGw7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkobj4yP24tMjowKSxyPTI7cjxuO3IrKylpW3ItMl09YXJndW1lbnRzW3JdO3JldHVybiBBYyh0LGUsLi4uaSl9ZnVuY3Rpb24gQWModCxlKXtsZXQgbj1udWxsLGk9bnVsbDtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxvPW5ldyBBcnJheShyPjI/ci0yOjApLHM9MjtzPHI7cysrKW9bcy0yXT1hcmd1bWVudHNbc107aWYodC5lbWl0KGUsLi4ubyxhPT57bj1hO30sYT0+e2k9YTt9KSxpIT09bnVsbCl0aHJvdyBpO2lmKG49PT1udWxsKXRocm93IG5ldyBOKFIuVU5FWFBFQ1RFRF9FUlJPUixcImhhbmRsZXIgaXMgbm90IHN5bmNcIik7cmV0dXJuIG59dmFyIGhlPW5ldyBjbGFzcyBleHRlbmRzIFh0e3NldCBuZXR3b3JrU3RhdGUodCl7dGhpcy5lbWl0KGtzLk5FVFdPUktfU1RBVEVfQ0hBTkdFLHQsdGhpcy5fbmV0d29ya1N0YXRlKSx0PT09d24uT05MSU5FP3RoaXMuZW1pdChrcy5PTkxJTkUpOnQ9PT13bi5PRkZMSU5FJiYodGhpcy5vbmxpbmVXYWl0ZXI9bmV3IGooZT0+e3RoaXMub25jZShrcy5PTkxJTkUsKCk9Pnt0aGlzLm9ubGluZVdhaXRlcj12b2lkIDAsZSh3bi5PTkxJTkUpO30pO30pLHRoaXMuZW1pdChrcy5PRkZMSU5FKSksdGhpcy5fbmV0d29ya1N0YXRlPXQ7fWdldCBuZXR3b3JrU3RhdGUoKXtyZXR1cm4gdGhpcy5fbmV0d29ya1N0YXRlfWdldCBpc09ubGluZSgpe3JldHVybiB0aGlzLl9uZXR3b3JrU3RhdGU9PT13bi5PTkxJTkV9Y29uc3RydWN0b3IoKXtzdXBlcigpLGp0KHRoaXMsXCJfbW9kdWxlTmFtZVwiLFwibmV0d29yay1pbmRpY2F0b3JcIiksanQodGhpcyxcIl9uZXR3b3JrU3RhdGVcIix3bi5PTkxJTkUpLGp0KHRoaXMsXCJvbmxpbmVXYWl0ZXJcIix2b2lkIDApLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib25saW5lXCIsKCk9Pnt0aGlzLm5ldHdvcmtTdGF0ZT13bi5PTkxJTkU7fSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsKCk9Pnt0aGlzLm5ldHdvcmtTdGF0ZT13bi5PRkZMSU5FO30pO319O2Z1bmN0aW9uIFdsKHQsZSl7bGV0IG49dC5pbmRleE9mKGUpO24hPT0tMSYmdC5zcGxpY2UobiwxKTt9ZnVuY3Rpb24gTHModCl7bGV0IGU9W107cmV0dXJuIHQuZm9yRWFjaChuPT57ZS5pbmRleE9mKG4pPT09LTEmJmUucHVzaChuKTt9KSxlfWZ1bmN0aW9uIHF1KHQpe2ohPT12b2lkIDA/ai5yZXNvbHZlKCkudGhlbih0KTpzZXRUaW1lb3V0KHQsMCk7fWZ1bmN0aW9uIGxlKHQpe3JldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHQpKX1mdW5jdGlvbiBWbyh0KXt0cnl7cmV0dXJuIGxlKHQpfWNhdGNoe3JldHVybiB0fX12YXIgZ1I9e307ZnVuY3Rpb24gcG8odCxlKXtnUltlXXx8KGdSW2VdPSEwLHQoKSk7fWZ1bmN0aW9uIEZvKHQpe2xldCBlPXdpbmRvdy5hdG9iKHQpLG49bmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKGUubGVuZ3RoKSk7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKz0xKW5baV09ZS5jaGFyQ29kZUF0KGkpO3JldHVybiBufWZ1bmN0aW9uIHNvKHQpe2xldCBlPVwiXCI7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKz0xKWUrPVN0cmluZy5mcm9tQ2hhckNvZGUodFtuXSk7cmV0dXJuIHdpbmRvdy5idG9hKGUpfWZ1bmN0aW9uIHlPKHQpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXToxNixuPW5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0KTtpZihuLmxlbmd0aD5lKW49bi5zbGljZSgwLGUpO2Vsc2UgaWYobi5sZW5ndGg8ZSl7bGV0IGk9bmV3IFVpbnQ4QXJyYXkoZSk7aS5zZXQobiksbj1pO31yZXR1cm4gbn1mdW5jdGlvbiBUUigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLG49MDtuPHQ7bisrKWVbbl09YXJndW1lbnRzW25dO2xldCBpPWppKGUpLmNhbGwoZSwocyxhKT0+cythLmxlbmd0aCwwKSxyPW5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcihpKSksbz0wO3JldHVybiBlLmZvckVhY2gocz0+e3Iuc2V0KHMsbyksbys9cy5sZW5ndGg7fSkscn1mdW5jdGlvbiBhcih0KXtyZXR1cm4gd2luZG93LlRleHRFbmNvZGVyP25ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0KS5sZW5ndGg6dC5sZW5ndGh9ZnVuY3Rpb24gQU8odCl7bGV0IGU9MDtyZXR1cm4gKC9EaW5nVGFsay9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl8fC9BbGlBcHAvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSYmdC5yZWFsRm9ybURhdGEmJih0PXQucmVhbEZvcm1EYXRhKSx0LmZvckVhY2gobj0+e2UrPXR5cGVvZiBuPT1cInN0cmluZ1wiP2FyKG4pOm4uc2l6ZTt9KSxlKzEzOH1mdW5jdGlvbiBtQih0KXtsZXQgZT1uZXcgTihSLlRJTUVPVVQsXCJ0aW1lb3V0XCIpO3JldHVybiBuZXcgaigobixpKT0+e3dpbmRvdy5zZXRUaW1lb3V0KCgpPT5pKGUpLHQpO30pfWZ1bmN0aW9uIE1lKHQpe3JldHVybiBuZXcgaihlPT57d2luZG93LnNldFRpbWVvdXQoZSx0KTt9KX1mdW5jdGlvbiBVdCgpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTo3LGU9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbj1NYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMix0KS50b0xvd2VyQ2FzZSgpO3JldHVybiBuLmxlbmd0aD09PXQ/XCJcIi5jb25jYXQoZSkuY29uY2F0KG4pOlwiXCIuY29uY2F0KGUpLmNvbmNhdChuKStVdCh0LW4ubGVuZ3RoLFwiXCIpfWZ1bmN0aW9uIE1zKCl7cmV0dXJuIFV0KDMyLFwiXCIpLnRvVXBwZXJDYXNlKCl9dmFyIHp1PSgpPT57fSxTUj1uZXcgY2xhc3N7Y29uc3RydWN0b3IoKXtqdCh0aGlzLFwiZm5NYXBcIixuZXcgTWFwKTt9dGhyb3R0bGVCeUtleSh0LGUsbixpKXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxvPW5ldyBBcnJheShyPjQ/ci00OjApLHM9NDtzPHI7cysrKW9bcy00XT1hcmd1bWVudHNbc107aWYodGhpcy5mbk1hcC5oYXMoZSkpe2xldCBhPXRoaXMuZm5NYXAuZ2V0KGUpO2lmKGEudGhyZXNob2xkIT09bil7YS5mbiguLi5hLmFyZ3MpLGNsZWFyVGltZW91dChhLnRpbWVyKTtsZXQgYz13aW5kb3cuc2V0VGltZW91dCgoKT0+e2xldCBkPXRoaXMuZm5NYXAuZ2V0KGUpO2QmJmQuZm4oLi4uZC5hcmdzKSx0aGlzLmZuTWFwLmRlbGV0ZShlKTt9LG4pO3RoaXMuZm5NYXAuc2V0KGUse2ZuOnQsdGhyZXNob2xkOm4sdGltZXI6YyxhcmdzOm8sc2tpcEZuOml9KTt9ZWxzZSBhLnNraXBGbiYmYS5za2lwRm4oLi4uYS5hcmdzKSx0aGlzLmZuTWFwLnNldChlLEooSih7fSxhKSx7fSx7Zm46dCxhcmdzOm8sc2tpcEZuOml9KSk7fWVsc2Uge2xldCBhPXdpbmRvdy5zZXRUaW1lb3V0KCgpPT57bGV0IGM9dGhpcy5mbk1hcC5nZXQoZSk7YyYmYy5mbiguLi5jLmFyZ3MpLHRoaXMuZm5NYXAuZGVsZXRlKGUpO30sbik7dGhpcy5mbk1hcC5zZXQoZSx7Zm46dCx0aHJlc2hvbGQ6bix0aW1lcjphLGFyZ3M6byxza2lwRm46aX0pO319fSxSUj1TUi50aHJvdHRsZUJ5S2V5LmJpbmQoU1IpO2Z1bmN0aW9uIENSKHQpe3JldHVybiB0eXBlb2YgdD09XCJvYmplY3RcIiYmdCE9PW51bGwmJiEodCBpbnN0YW5jZW9mIFJlZ0V4cCl9ZnVuY3Rpb24ga0UodCxlKXtpZighQ1IodCl8fCFDUihlKXx8QXJyYXkuaXNBcnJheSh0KSYmIUFycmF5LmlzQXJyYXkoZSl8fCFBcnJheS5pc0FycmF5KHQpJiZBcnJheS5pc0FycmF5KGUpKXJldHVybiBlO2lmKEFycmF5LmlzQXJyYXkoZSkmJkFycmF5LmlzQXJyYXkodCkpe2xldCBuPVsuLi50XTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyluW2ldPWtFKHRbaV0sZVtpXSk7cmV0dXJuIG59e2xldCBuPUooe30sdCk7Zm9yKGxldCBpIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkmJihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxpKT9uW2ldPWtFKHRbaV0sZVtpXSk6bltpXT1lW2ldKTtyZXR1cm4gbn19ZnVuY3Rpb24gSVIodCxlKXtsZXQgbj1bMF07aWYoKG49bmV3IEFycmF5KGUpLmZpbGwoMCkpLHQ9PT0wKXJldHVybiBuO2xldCBpPTA7Zm9yKDt0PjAmJihuW2ldPTI1NSZ0LHQ+Pj04LGkrKyxpIT09ZSk7KTtyZXR1cm4gbn1mdW5jdGlvbiB3cCh0KXtyZXR1cm4gdHlwZW9mIHQ9PVwibnVtYmVyXCI/dDp0LmV4YWN0fHx0LmlkZWFsfHx0Lm1heHx8dC5taW58fDB9ZnVuY3Rpb24gYk8odCl7bGV0IGU9XCIwMTIzNDU2Nzg5YWJjZGVmXCI7ZnVuY3Rpb24gbihBKXtsZXQgYix3PVwiXCI7Zm9yKGI9MDtiPD0zO2IrKyl3Kz1lLmNoYXJBdChBPj44KmIrNCYxNSkrZS5jaGFyQXQoQT4+OCpiJjE1KTtyZXR1cm4gd31mdW5jdGlvbiBpKEEsYil7bGV0IHc9KDY1NTM1JkEpKyg2NTUzNSZiKTtyZXR1cm4gKEE+PjE2KSsoYj4+MTYpKyh3Pj4xNik8PDE2fDY1NTM1Jnd9ZnVuY3Rpb24gcihBLGIsdyxELGssQil7cmV0dXJuIGkoZnVuY3Rpb24oVix6KXtyZXR1cm4gVjw8enxWPj4+MzIten0oaShpKGIsQSksaShELEIpKSxrKSx3KX1mdW5jdGlvbiBvKEEsYix3LEQsayxCLFYpe3JldHVybiByKGImd3x+YiZELEEsYixrLEIsVil9ZnVuY3Rpb24gcyhBLGIsdyxELGssQixWKXtyZXR1cm4gcihiJkR8dyZ+RCxBLGIsayxCLFYpfWZ1bmN0aW9uIGEoQSxiLHcsRCxrLEIsVil7cmV0dXJuIHIoYl53XkQsQSxiLGssQixWKX1mdW5jdGlvbiBjKEEsYix3LEQsayxCLFYpe3JldHVybiByKHdeKGJ8fkQpLEEsYixrLEIsVil9bGV0IGQ9ZnVuY3Rpb24oQSl7bGV0IGIsdz0xKyhBLmxlbmd0aCs4Pj42KSxEPW5ldyBBcnJheSgxNip3KTtmb3IoYj0wO2I8MTYqdztiKyspRFtiXT0wO2ZvcihiPTA7YjxBLmxlbmd0aDtiKyspRFtiPj4yXXw9QS5jaGFyQ29kZUF0KGIpPDxiJTQqODtyZXR1cm4gRFtiPj4yXXw9MTI4PDxiJTQqOCxEWzE2KnctMl09OCpBLmxlbmd0aCxEfSh0KSxsLHUsaCxwLGcsRT0xNzMyNTg0MTkzLGY9LTI3MTczMzg3OSxTPS0xNzMyNTg0MTk0LEM9MjcxNzMzODc4O2ZvcihsPTA7bDxkLmxlbmd0aDtsKz0xNil1PUUsaD1mLHA9UyxnPUMsRT1vKEUsZixTLEMsZFtsKzBdLDcsLTY4MDg3NjkzNiksQz1vKEMsRSxmLFMsZFtsKzFdLDEyLC0zODk1NjQ1ODYpLFM9byhTLEMsRSxmLGRbbCsyXSwxNyw2MDYxMDU4MTkpLGY9byhmLFMsQyxFLGRbbCszXSwyMiwtMTA0NDUyNTMzMCksRT1vKEUsZixTLEMsZFtsKzRdLDcsLTE3NjQxODg5NyksQz1vKEMsRSxmLFMsZFtsKzVdLDEyLDEyMDAwODA0MjYpLFM9byhTLEMsRSxmLGRbbCs2XSwxNywtMTQ3MzIzMTM0MSksZj1vKGYsUyxDLEUsZFtsKzddLDIyLC00NTcwNTk4MyksRT1vKEUsZixTLEMsZFtsKzhdLDcsMTc3MDAzNTQxNiksQz1vKEMsRSxmLFMsZFtsKzldLDEyLC0xOTU4NDE0NDE3KSxTPW8oUyxDLEUsZixkW2wrMTBdLDE3LC00MjA2MyksZj1vKGYsUyxDLEUsZFtsKzExXSwyMiwtMTk5MDQwNDE2MiksRT1vKEUsZixTLEMsZFtsKzEyXSw3LDE4MDQ2MDM2ODIpLEM9byhDLEUsZixTLGRbbCsxM10sMTIsLTQwMzQxMTAxKSxTPW8oUyxDLEUsZixkW2wrMTRdLDE3LC0xNTAyMDAyMjkwKSxmPW8oZixTLEMsRSxkW2wrMTVdLDIyLDEyMzY1MzUzMjkpLEU9cyhFLGYsUyxDLGRbbCsxXSw1LC0xNjU3OTY1MTApLEM9cyhDLEUsZixTLGRbbCs2XSw5LC0xMDY5NTAxNjMyKSxTPXMoUyxDLEUsZixkW2wrMTFdLDE0LDY0MzcxNzcxMyksZj1zKGYsUyxDLEUsZFtsKzBdLDIwLC0zNzM4OTczMDIpLEU9cyhFLGYsUyxDLGRbbCs1XSw1LC03MDE1NTg2OTEpLEM9cyhDLEUsZixTLGRbbCsxMF0sOSwzODAxNjA4MyksUz1zKFMsQyxFLGYsZFtsKzE1XSwxNCwtNjYwNDc4MzM1KSxmPXMoZixTLEMsRSxkW2wrNF0sMjAsLTQwNTUzNzg0OCksRT1zKEUsZixTLEMsZFtsKzldLDUsNTY4NDQ2NDM4KSxDPXMoQyxFLGYsUyxkW2wrMTRdLDksLTEwMTk4MDM2OTApLFM9cyhTLEMsRSxmLGRbbCszXSwxNCwtMTg3MzYzOTYxKSxmPXMoZixTLEMsRSxkW2wrOF0sMjAsMTE2MzUzMTUwMSksRT1zKEUsZixTLEMsZFtsKzEzXSw1LC0xNDQ0NjgxNDY3KSxDPXMoQyxFLGYsUyxkW2wrMl0sOSwtNTE0MDM3ODQpLFM9cyhTLEMsRSxmLGRbbCs3XSwxNCwxNzM1MzI4NDczKSxmPXMoZixTLEMsRSxkW2wrMTJdLDIwLC0xOTI2NjA3NzM0KSxFPWEoRSxmLFMsQyxkW2wrNV0sNCwtMzc4NTU4KSxDPWEoQyxFLGYsUyxkW2wrOF0sMTEsLTIwMjI1NzQ0NjMpLFM9YShTLEMsRSxmLGRbbCsxMV0sMTYsMTgzOTAzMDU2MiksZj1hKGYsUyxDLEUsZFtsKzE0XSwyMywtMzUzMDk1NTYpLEU9YShFLGYsUyxDLGRbbCsxXSw0LC0xNTMwOTkyMDYwKSxDPWEoQyxFLGYsUyxkW2wrNF0sMTEsMTI3Mjg5MzM1MyksUz1hKFMsQyxFLGYsZFtsKzddLDE2LC0xNTU0OTc2MzIpLGY9YShmLFMsQyxFLGRbbCsxMF0sMjMsLTEwOTQ3MzA2NDApLEU9YShFLGYsUyxDLGRbbCsxM10sNCw2ODEyNzkxNzQpLEM9YShDLEUsZixTLGRbbCswXSwxMSwtMzU4NTM3MjIyKSxTPWEoUyxDLEUsZixkW2wrM10sMTYsLTcyMjUyMTk3OSksZj1hKGYsUyxDLEUsZFtsKzZdLDIzLDc2MDI5MTg5KSxFPWEoRSxmLFMsQyxkW2wrOV0sNCwtNjQwMzY0NDg3KSxDPWEoQyxFLGYsUyxkW2wrMTJdLDExLC00MjE4MTU4MzUpLFM9YShTLEMsRSxmLGRbbCsxNV0sMTYsNTMwNzQyNTIwKSxmPWEoZixTLEMsRSxkW2wrMl0sMjMsLTk5NTMzODY1MSksRT1jKEUsZixTLEMsZFtsKzBdLDYsLTE5ODYzMDg0NCksQz1jKEMsRSxmLFMsZFtsKzddLDEwLDExMjY4OTE0MTUpLFM9YyhTLEMsRSxmLGRbbCsxNF0sMTUsLTE0MTYzNTQ5MDUpLGY9YyhmLFMsQyxFLGRbbCs1XSwyMSwtNTc0MzQwNTUpLEU9YyhFLGYsUyxDLGRbbCsxMl0sNiwxNzAwNDg1NTcxKSxDPWMoQyxFLGYsUyxkW2wrM10sMTAsLTE4OTQ5ODY2MDYpLFM9YyhTLEMsRSxmLGRbbCsxMF0sMTUsLTEwNTE1MjMpLGY9YyhmLFMsQyxFLGRbbCsxXSwyMSwtMjA1NDkyMjc5OSksRT1jKEUsZixTLEMsZFtsKzhdLDYsMTg3MzMxMzM1OSksQz1jKEMsRSxmLFMsZFtsKzE1XSwxMCwtMzA2MTE3NDQpLFM9YyhTLEMsRSxmLGRbbCs2XSwxNSwtMTU2MDE5ODM4MCksZj1jKGYsUyxDLEUsZFtsKzEzXSwyMSwxMzA5MTUxNjQ5KSxFPWMoRSxmLFMsQyxkW2wrNF0sNiwtMTQ1NTIzMDcwKSxDPWMoQyxFLGYsUyxkW2wrMTFdLDEwLC0xMTIwMjEwMzc5KSxTPWMoUyxDLEUsZixkW2wrMl0sMTUsNzE4Nzg3MjU5KSxmPWMoZixTLEMsRSxkW2wrOV0sMjEsLTM0MzQ4NTU1MSksRT1pKEUsdSksZj1pKGYsaCksUz1pKFMscCksQz1pKEMsZyk7cmV0dXJuIG4oRSkrbihmKStuKFMpK24oQyl9dmFyIGZCPTEsT2Q9Y29uc29sZSx6ZT1jbGFzc3tzdGF0aWMgc2V0TG9nZ2VyKHQpe09kPXQ7fWNvbnN0cnVjdG9yKHQpe2p0KHRoaXMsXCJsb2NraW5nUHJvbWlzZVwiLGoucmVzb2x2ZSgpKSxqdCh0aGlzLFwibG9ja3NcIiwwKSxqdCh0aGlzLFwibmFtZVwiLFwiXCIpLGp0KHRoaXMsXCJsb2NrSWRcIix2b2lkIDApLHRoaXMubG9ja0lkPWZCKyssdCYmKHRoaXMubmFtZT10KSxPZC5kZWJ1ZyhcIltsb2NrLVwiLmNvbmNhdCh0aGlzLm5hbWUsXCItXCIpLmNvbmNhdCh0aGlzLmxvY2tJZCxcIl0gaXMgY3JlYXRlZC5cIikpO31nZXQgaXNMb2NrZWQoKXtyZXR1cm4gdGhpcy5sb2Nrcz4wfWxvY2sodCl7bGV0IGU7dGhpcy5sb2Nrcys9MSxPZC5kZWJ1ZyhcIltsb2NrLVwiLmNvbmNhdCh0aGlzLm5hbWUsXCItXCIpLmNvbmNhdCh0aGlzLmxvY2tJZCxcIl0gaXMgbG9ja2VkLCBjdXJyZW50IHF1ZXVlIFwiKS5jb25jYXQodGhpcy5sb2NrcyxcIi4gXCIpLmNvbmNhdCh0eXBlb2YgdD09XCJzdHJpbmdcIj90OlwiXCIpKTtsZXQgbj1uZXcgaihyPT57ZT0oKT0+e3RoaXMubG9ja3MtPTEsT2QuZGVidWcoXCJbbG9jay1cIi5jb25jYXQodGhpcy5uYW1lLFwiLVwiKS5jb25jYXQodGhpcy5sb2NrSWQsXCJdIGlzIG5vdCBsb2NrZWQsIGN1cnJlbnQgcXVldWUgXCIpLmNvbmNhdCh0aGlzLmxvY2tzLFwiLiBcIikuY29uY2F0KHR5cGVvZiB0PT1cInN0cmluZ1wiP3Q6XCJcIikpLHIoKTt9O30pLGk9dGhpcy5sb2NraW5nUHJvbWlzZS50aGVuKCgpPT5lKTtyZXR1cm4gdGhpcy5sb2NraW5nUHJvbWlzZT10aGlzLmxvY2tpbmdQcm9taXNlLnRoZW4oKCk9Pm4pLGl9fTtmdW5jdGlvbiAkcyh0LGUpe3JldHVybiBmdW5jdGlvbihuLGkscil7bGV0IG89ci52YWx1ZTtpZih0eXBlb2YgbyE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgbXV0ZXggb24gb2JqZWN0IHByb3BlcnR5LlwiKTtyZXR1cm4gci52YWx1ZT1hc3luYyBmdW5jdGlvbigpe2xldCBzPXRoaXNbZV07aWYoIXMpdGhyb3cgbmV3IEVycm9yKFwibXV0ZXggcHJvcGVydHkga2V5IFwiLmNvbmNhdChlLFwiIGRvZXNuJ3QgZXhpc3Qgb24gXCIpLmNvbmNhdCh0KSk7bGV0IGE9YXdhaXQgcy5sb2NrKFwiRnJvbSBcIi5jb25jYXQodCxcIi5cIikuY29uY2F0KGkpKTt0cnl7Zm9yKHZhciBjPWFyZ3VtZW50cy5sZW5ndGgsZD1uZXcgQXJyYXkoYyksbD0wO2w8YztsKyspZFtsXT1hcmd1bWVudHNbbF07cmV0dXJuIGF3YWl0IG8uYXBwbHkodGhpcyxkKX1maW5hbGx5e2EoKTt9fSxyfX12YXIgRWU9e3RpbWVvdXQ6NTAwLHRpbWVvdXRGYWN0b3I6MS41LG1heFJldHJ5Q291bnQ6MS8wLG1heFJldHJ5VGltZW91dDoxZTR9O2Z1bmN0aW9uIGhmKHQsZSl7bGV0IG49TWF0aC5mbG9vcihlLnRpbWVvdXQqTWF0aC5wb3coZS50aW1lb3V0RmFjdG9yLHQpKTtyZXR1cm4gTWF0aC5taW4oZS5tYXhSZXRyeVRpbWVvdXQsbil9ZnVuY3Rpb24gV2kodCxlLG4saSl7bGV0IHI9T2JqZWN0LmFzc2lnbih7fSxFZSxpKSxvPXIudGltZW91dCxzPWFzeW5jKCk9Pnthd2FpdCBmdW5jdGlvbihkKXtyZXR1cm4gbmV3IGoobD0+e3dpbmRvdy5zZXRUaW1lb3V0KGwsZCk7fSl9KG8pLG8qPXIudGltZW91dEZhY3RvcixvPU1hdGgubWluKHIubWF4UmV0cnlUaW1lb3V0LG8pO30sYT0hMSxjPW5ldyBqKGFzeW5jKGQsbCk9PntlPWV8fCgoKT0+ITEpLG49bnx8KCgpPT4hMCk7Zm9yKGxldCB1PTA7dTxyLm1heFJldHJ5Q291bnQ7dSs9MSl7aWYoYSlyZXR1cm4gbChuZXcgTihSLk9QRVJBVElPTl9BQk9SVEVEKSk7dHJ5e2xldCBoPWF3YWl0IHQoKTtpZighZShoLHUpfHx1KzE9PT1yLm1heFJldHJ5Q291bnQpcmV0dXJuIGQoaCk7YXdhaXQgcygpO31jYXRjaChoKXtpZighbihoLHUpfHx1KzE9PT1yLm1heFJldHJ5Q291bnQpcmV0dXJuIGwoaCk7YXdhaXQgcygpO319fSk7cmV0dXJuIGMuY2FuY2VsPSgpPT5hPSEwLGN9dmFyIEhsPWNsYXNze2NvbnN0cnVjdG9yKGUpe2p0KHRoaXMsXCJpbnB1dFwiLFtdKSxqdCh0aGlzLFwic2l6ZVwiLHZvaWQgMCksdGhpcy5zaXplPWU7fWFkZChlKXt0aGlzLmlucHV0LnB1c2goZSksdGhpcy5pbnB1dC5sZW5ndGg+dGhpcy5zaXplJiZ0aGlzLmlucHV0LnNwbGljZSgwLDEpO31tZWFuKCl7dmFyIGU7cmV0dXJuIHRoaXMuaW5wdXQubGVuZ3RoPT09MD8wOmppKGU9dGhpcy5pbnB1dCkuY2FsbChlLChuLGkpPT5uK2kpL3RoaXMuaW5wdXQubGVuZ3RofX0sTmQsRGQ9MCxPcD0wO2Z1bmN0aW9uIExFKHQsZSxuLGkpe3JldHVybiBuZXcgaigocixvKT0+e2UucmVzcG9uc2VUeXBlPWUucmVzcG9uc2VUeXBlfHxcImpzb25cIixlLmRhdGEmJiFuPyhlLmRhdGE9SlNPTi5zdHJpbmdpZnkoZS5kYXRhKSxEZCs9YXIoZS5kYXRhKSk6biYmKGUuZGF0YS5zaXplP0RkKz1lLmRhdGEuc2l6ZTplLmRhdGEgaW5zdGFuY2VvZiBGb3JtRGF0YT9EZCs9QU8oZS5kYXRhKTpEZCs9YXIoSlNPTi5zdHJpbmdpZnkoZS5kYXRhKSkpLGUuaGVhZGVycz1lLmhlYWRlcnN8fHt9LGUuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXT1lLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl18fFwiYXBwbGljYXRpb24vanNvblwiLGUubWV0aG9kPVwiUE9TVFwiLGUudXJsPXQsbW4ucmVxdWVzdChlKS50aGVuKHM9Pnt0eXBlb2Ygcy5kYXRhPT1cInN0cmluZ1wiP09wKz1hcihzLmRhdGEpOnMuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxzLmRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5P09wKz1zLmRhdGEuYnl0ZUxlbmd0aDpPcCs9YXIoSlNPTi5zdHJpbmdpZnkocy5kYXRhKSkscihzLmRhdGEpO30pLmNhdGNoKHM9Pnttbi5pc0NhbmNlbChzKT9vKG5ldyBOKFIuT1BFUkFUSU9OX0FCT1JURUQsXCJjYW5jZWwgdG9rZW4gY2FuY2VsZWRcIikpOnMuY29kZT09PVwiRUNPTk5BQk9SVEVEXCI/byhuZXcgTihSLk5FVFdPUktfVElNRU9VVCxzLm1lc3NhZ2UpKTpzLnJlc3BvbnNlP28obmV3IE4oUi5ORVRXT1JLX1JFU1BPTlNFX0VSUk9SLHMucmVzcG9uc2Uuc3RhdHVzKSk6byhuZXcgTihSLk5FVFdPUktfRVJST1Iscy5tZXNzYWdlKSk7fSk7fSl9YXN5bmMgZnVuY3Rpb24gZ0IodCxlKXtsZXQgbj1uZXcgQmxvYihbZS5kYXRhXSx7dHlwZTpcImJ1ZmZlclwifSk7cmV0dXJuIGF3YWl0IExFKHQsSihKKHt9LGUpLHt9LHtkYXRhOm4saGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwifX0pLCEwKX12YXIgdlI9KCk9PndpbmRvdy5pc1NlY3VyZUNvbnRleHQhPT12b2lkIDAsaWk9ZnVuY3Rpb24odCl7aWYodC5tYXRjaCgvWzAtOV0rXFwuWzAtOV0rXFwuWzAtOV0rJC8pKXJldHVybiB0O2xldCBlPXQubWF0Y2goLyhbMC05XStcXC5bMC05XStcXC5bMC05XSspXFwtYWxwaGFcXC4oWzAtOV0rKS8pO2lmKGUmJmVbMV0mJmVbMl0pe2xldCBpPWVbMV0scj1lWzJdO3JldHVybiBcIlwiLmNvbmNhdChpLFwiLlwiKS5jb25jYXQocil9bGV0IG49dC5tYXRjaCgvKFswLTldK1xcLlswLTldK1xcLlswLTldKylcXC1zcGVjaWFsXFwuKFswLTldKykvKTtpZihuJiZuWzFdJiZuWzJdKXtsZXQgaT1uWzFdLHI9blsyXTtyZXR1cm4gXCJcIi5jb25jYXQoaSxcIi5cIikuY29uY2F0KDEwMCooTnVtYmVyKHIpKzEpKX1yZXR1cm4gXCI0LjAuMC45OTlcIn0oXCI0LjIyLjBcIikscGY9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEpTT04ucGFyc2UoXCJ0cnVlXCIpPT09ITB9Y2F0Y2h7cmV0dXJuICEwfX0oKSxPbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5EZWZhdWx0PVwiZGVmYXVsdFwiLHQuQXV0bz1cImF1dG9cIix0LlJlbGF5PVwicmVsYXlcIix0LlNkUnRuPVwic2QtcnRuXCIsdH0oe30pLF9mPXtNSU5fRlJBTUVfUkFURToxLE1BWF9GUkFNRV9SQVRFOjMwLE1BWF9USFJFU0hPTERfRlJBTUVSQVRFOjMwLEJJVFJBVEVfTUlOX1RIUkVTSE9MRDoxMDAsQklUUkFURV9NQVhfVEhSRVNIT0xEOjEwMCxNQVhfU0NBTEU6NSxCV0VfU0NBTEVfVVBfVEhSRVNIT0xEOi42LEJXRV9TQ0FMRV9ET1dOX1RIUkVTSE9MRDouNixQRVJGX1NDQUxFX1VQX1RIUkVTSE9MRDouNyxQRVJGX1NDQUxFX0RPV05fVEhSRVNIT0xEOi42LE1PVElPTl9SRVNPTFVUSU9OX0ZBQ1RPUjouOCxNT1RJT05fQklUUkFURV9GQUNUT1I6LjYsREVUQUlMX0ZSQU1FUkFURV9GQUNUT1I6LjgsREVUQUlMX0JJVFJBVEVfRkFDVE9SOi42LEJBTEFOQ0VfUkVTT0xVVElPTl9GQUNUT1I6LjksQkFMQU5DRV9GUkFNRVJBVEVfRkFDVE9SOi45LEJBTEFOQ0VfQklUUkFURV9GQUNUT1I6LjYsT1ZFUlVTRV9USU1FU19USFJFU0hPTEQ6MTAsVU5ERVJVU0VfVElNRVNfVEhSRVNIT0xEOjQwfSxFZj1cInY0LjIyLjAtMC1nODU2OTI0MWQtZGlydHkoOC8xNS8yMDI0LCA3OjA0OjA2IFBNKVwiLG9lPUooSih7UFJPQ0VTU19JRDpcIlwiLEVOQ1JZUFRfQUVTOiEwLEFSRUFTOltcIkNISU5BXCIsXCJHTE9CQUxcIl0sV0VCQ1NfRE9NQUlOOltcIndlYnJ0YzItYXAtd2ViLTEuYWdvcmEuaW9cIixcIndlYnJ0YzItMi5hcC5zZC1ydG4uY29tXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJ3ZWJydGMyLWFwLXdlYi0zLmFnb3JhLmlvXCIsXCJ3ZWJydGMyLTQuYXAuc2QtcnRuLmNvbVwiXSxQUk9YWV9DUzpbXCJhcC1wcm94eS0xLmFnb3JhLmlvXCIsXCJhcC1wcm94eS0yLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLTEuYWdvcmEuaW9cIixcImNkcy13ZWItMi5hcC5zZC1ydG4uY29tXCIsXCJjZHMtYXAtd2ViLTMuYWdvcmEuaW9cIixcImNkcy13ZWItNC5hcC5zZC1ydG4uY29tXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi0xLmFnb3JhLmlvXCIsXCJzdWEtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwic3VhLWFwLXdlYi0zLmFnb3JhLmlvXCIsXCJzdWEtd2ViLTQuYXAuc2QtcnRuLmNvbVwiXSxVQVBfQVA6W1widWFwLWFwLXdlYi0xLmFnb3JhLmlvXCIsXCJ1YXAtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwidWFwLWFwLXdlYi0zLmFnb3JhLmlvXCIsXCJ1YXAtd2ViLTQuYXAuc2QtcnRuLmNvbVwiXSxMT0dfVVBMT0FEX1NFUlZFUjpcImxvZ3NlcnZpY2UuYWdvcmEuaW9cIixFVkVOVF9SRVBPUlRfRE9NQUlOOlwic3RhdHNjb2xsZWN0b3ItMS5hZ29yYS5pb1wiLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOlwid2ViLTIuc3RhdHNjb2xsZWN0b3Iuc2QtcnRuLmNvbVwiLEVOQUJMRV9FVkVOVF9SRVBPUlQ6ITAsR0FURVdBWV9BRERSRVNTOltdLEdBVEVXQVlfV1NTX0FERFJFU1M6XCJcIixMSVZFX1NUUkVBTUlOR19BRERSRVNTOlwiXCIsSFRUUF9DT05ORUNUX1RJTUVPVVQ6NWUzLFNJR05BTF9SRVFVRVNUX1RJTUVPVVQ6MWU0LFJFUE9SVF9TVEFUUzohMCxVUExPQURfTE9HOiExLE5PVF9SRVBPUlRfRVZFTlQ6W10sUElOR19QT05HX1RJTUVfT1VUOjEwLFdFQlNPQ0tFVF9USU1FT1VUX01JTjoxZTQsRVZFTlRfUkVQT1JUX1NFTkRfSU5URVJWQUw6M2UzLENPTkZJR19ESVNUUklCVVRFX0lOVEVSVkFMOjNlNSxFTkFCTEVfQ09ORklHX0RJU1RSSUJVVEU6ITAsQ0FORElEQVRFX1RJTUVPVVQ6NWUzLFNIT1dfUkVQT1JUX0lOVk9LRVJfTE9HOiExLEpPSU5fRVhURU5EOlwiXCIsUFVCX0VYVEVORDpcIlwiLFNVQl9FWFRFTkQ6XCJcIixGT1JDRV9UVVJOOiExLFRVUk5fRU5BQkxFX1RDUDohMCxUVVJOX0VOQUJMRV9VRFA6ITAsTUFYX1VQTE9BRF9DQUNIRTo1MCxVUExPQURfQ0FDSEVfSU5URVJWQUw6MmUzLEFKQVhfUkVRVUVTVF9DT05DVVJSRU5UOjMsUkVQT1JUX0FQUF9TQ0VOQVJJTzp2b2lkIDAsR0FURVdBWV9ET01BSU5TOltcImVkZ2UuYWdvcmEuaW9cIixcImVkZ2Uuc2QtcnRuLmNvbVwiXSxDT05ORUNUX0dBVEVXQVlfV0lUSE9VVF9ET01BSU46ITEsV09SS0VSX0RPTUFJTjpcImVkZ2UuYWdvcmEuaW9cIixUVVJOX0RPTUFJTjpcImVkZ2UuYWdvcmEuaW9cIixFVkVOVF9SRVBPUlRfUkVUUlk6ITAsQ0hST01FX0ZPUkNFX1BMQU5fQjohMSxBVURJT19TT1VSQ0VfVk9MVU1FX1VQREFURV9JTlRFUlZBTDo0MDAsQVVESU9fU09VUkNFX0FWR19WT0xVTUVfRFVSQVRJT046M2UzLEFVRElPX1ZPTFVNRV9JTkRJQ0FUSU9OX0lOVEVSVkFMOjJlMyxWT0xVTUVfVk9JQ0VfV0VJR0hUOjEwLEdFVF9WT0xVTUVfT0ZfTVVURURfQVVESU9fVFJBQ0s6ITEsU1RBVFNfVVBEQVRFX0lOVEVSVkFMOjI1MCxOT1JNQUxfRVZFTlRfUVVFVUVfQ0FQQUNJVFk6MTAwLENVU1RPTV9SRVBPUlQ6ITAsQ1VTVE9NX1JFUE9SVF9MSU1JVDoyMCxQUk9YWV9TRVJWRVJfVFlQRTI6XCJ3ZWJuZ2lueC1wcm94eS5hZ29yYS5pb1wiLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJ3ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiLFwid2VicnRjLWNsb3VkLXByb3h5LmFnb3JhLmlvXCJdLENVU1RPTV9QVUJfQU5TV0VSX01PRElGSUVSOm51bGwsQ1VTVE9NX1NVQl9BTlNXRVJfTU9ESUZJRVI6bnVsbCxDVVNUT01fUFVCX09GRkVSX01PRElGSUVSOm51bGwsQ1VTVE9NX1NVQl9PRkZFUl9NT0RJRklFUjpudWxsLERTQ1BfVFlQRTpcImhpZ2hcIixSRU1PVkVfTkVXX0NPREVDUzohMCxGUkFHRU1FTlRfTEVOR1RIOjMsV0VCU09DS0VUX0NPTVBSRVNTOiExLFNJTVVMQ0FTVDohMSxQUkVMT0FEX01FRElBX0NPVU5UOjAsQ0hFQ0tfVklERU9fVklTSUJMRV9JTlRFUlZBTDozZTQsQ0hFQ0tfTE9DQUxfU1RBVFNfSU5URVJWQUw6MjUwLFBST0ZJTEVfU1dJVENIX0lOVEVSVkFMOjJlMyxVTlNVUFBPUlRFRF9WSURFT19DT0RFQzpbXSxFTlVNRVJBVEVfREVWSUNFU19JTlRFUlZBTDohMSxFTlVNRVJBVEVfREVWSUNFU19JTlRFUlZBTF9USU1FOjFlNCxVU0VfTkVXX1RPS0VOOiExLENMT1NFX0FGQl9GT1JfTE9DQUxfQVA6ITAsSk9JTl9NQVhfQ09OQ1VSUkVOQ1k6NixKT0lOX1dJVEhfRkFMTEJBQ0tfU0lHTkFMX1BST1hZOiEwLEpPSU5fV0lUSF9GQUxMQkFDS19NRURJQV9QUk9YWTohMCxKT0lOX1dJVEhfRkFMTEJBQ0tfTUVESUFfUFJPWFlfRk9SQ0U6ITEsSk9JTl9HQVRFV0FZX1RSWV80NDNQT1JUX0RVUkFUSU9OOjJlMyxKT0lOX0dBVEVXQVlfVVNFXzQ0M1BPUlRfT05MWTohMSxKT0lOX0dBVEVXQVlfVVNFX0RVQUxfRE9NQUlOOiEwLEpPSU5fR0FURVdBWV9GQUxMQkFDS19QT1JUOjQ0MyxVU0VfVFVSTl9TRVJWRVJfT0ZfR0FURVdBWTohMSxIMjY0X1BST0ZJTEVfTEVWRUxfSUQ6XCJcIixVU0VfTkVXX0xPRzohMSxMT0dfVkVSU0lPTjozLE1FRElBX0RFVklDRV9DT05TVFJBSU5UUzpudWxsLEVOQ1JZUFRfUFJPWFlfVVNFUk5BTUVfQU5EX1BTVzohMCxTRFBfTE9HR0lORzohMSxDU1BfREVURUNURURfSE9TVE5BTUVfTElTVDpbXCJhZ29yYS5pb1wiLFwic2QtcnRuLmNvbVwiXSxSRU1PVEVfQVVESU9fVFJBQ0tfVVNFU19XRUJfQVVESU86ITEsTE9DQUxfQVVESU9fVFJBQ0tfVVNFU19XRUJfQVVESU86ITEsQklUUkFURV9BREFQVEVSX1RZUEU6XCJTVEFOREFSRF9CSVRSQVRFXCIsQUlfREVOT0lTRVJfUEFSQU1FVEVSUzp7ZXhjbHVkZWRMaW5rczpbXX0sQURKVVNUXzNBX0ZST01fUExVR0lOUzohMCxSQUlTRV9IMjY0X0JBU0VMSU5FX1BSSU9SSVRZOiEwLEZJTFRFUl9TRU5EX0gyNjRfQkFTRUxJTkU6ITEsWF9HT09HTEVfU1RBUlRfQklUUkFURTp2b2lkIDAsTkVXX1JFUE9SVF9TRVJWRVI6ITEsTkVXX1JFUE9SVF9TRVJWRVJfRE9NQUlOUzpbXCJkYXRhLXJlcG9ydGluZy5hZ29yYS5pb1wiLFwiZGF0YS1yZXBvcnRpbmcuYWdvcmEuaW9cIl0sVklERU9fSU5TUEVDVF9XT1JLRVJfTUVTU0FHRV9MRU5HVEhfTElNSVQ6M2U1LFZJREVPX0lOU1BFQ1RfSU5URVJWQUxfTUlOSU1VTToxZTMsVklERU9fSU5TUEVDVF9RVUFMSVRZX1JBVElPOi45LFZJREVPX0lOU1BFQ1RfV09SS0VSX01BTkFHRVJfSE9TVDpcImVkZ2UuYWdvcmEuaW9cIixWSURFT19JTlNQRUNUX1dPUktFUl9NQU5BR0VSX1BPUlQ6XCJcIixWSURFT19JTlNQRUNUX1dPUktFUl9QT1JUOlwiXCIsU0hPV19WSURFT19JTlNQRUNUX1dPUktFUl9NRVNTQUdFOiExLFNUQVRTX0NPTExFQ1RPUl9QT1JUOjQ0MyxGT1JDRV9UVVJOX1RDUDohMSxXRUJBVURJT19JTklUX09QVElPTlM6dm9pZCAwLEZJTFRFUl9WSURFT19GRUM6ITAsRklMVEVSX0FVRElPX0ZFQzohMSxDSFJPTUVfRFVBTF9TVFJFQU1fVVNFX0VOQ09ESU5HOiEwLERJU0FCTEVfRFVBTF9TVFJFQU1fVVNFX0VOQ09ESU5HOiExLEVYVEVOU0lPTl9VU0FHRV9VUExPQURfSU5URVJWQUw6MWU0LElDRV9SRVNUQVJUOiEwLElDRV9SRVNUQVJUX0lOVEVSVkFMOjFlNCxORVdfSUNFX1JFU1RBUlQ6ITEsVFJBTlNNSVRURVJfSU5JVElBTF9SVFQ6MzAsVFJBTlNNSVRURVJfSU5JVElBTF9SVE86MzAsVFJBTlNNSVRURVJfTUFYX0JBVENIX0FDS19DT1VOVDoyLFRSQU5TTUlUVEVSX01BWF9SVE86NTAwLERBVEFDSEFOTkVMX0NPTVBSRVNTOiExLEZJTkdFUlBSSU5UOm51bGwsRENfSk9JTl9XSVRIX0ZBSUxCQUNLOjVlMyxFTkFCTEVfVklERU9fRlJBTUVfQ0FMTEJBQ0s6ITAsVklERU9fRlJFRVpFX0RVUkFUSU9OOjUwMCxTUEFUSUFMSVpFUl9QQVJBTUVURVJTOnt9LFVQTE9BRF9MT0dfSU5URVJWQUw6M2UzLFVQTE9BRF9MT0dfUkVRVUVTVF9SRVRSWV9JTlRFUlZBTDoyZTMsVVBMT0FEX0xPR19SRVFVRVNUX01BWF9SRVRSWV9JTlRFUlZBTDoyZTQsVVBMT0FEX0xPR19UUllfSU5URVJWQUxfV0hJTEVfT0ZGOjVlMyxVUExPQURfTE9HX1JFVFJZX0lOVEVSVkFMX1YxOjFlNCxVUExPQURfTE9HX1RXSUNFX1JFVFJZX0lOVEVSVkFMX1YxOjIwMCxVUExPQURfTE9HX0xFTkdUSF9FQUNIX1RJTUU6MTAsQVBQX1RZUEU6MCxESVNBQkxFX1dFQkFVRElPOiExLENIQU5ORUxfTUVESUFfUkVMQVlfU0VSVkVSUzp2b2lkIDAsS0VFUF9MQVNUX0ZSQU1FOiEwLEZPUldBUkRfUDJQX0NSRUFUSU9OOiEwLFNZTkNfR1JPVVA6ITAsQkxPQ0tfTE9DQUxfQ0xJRU5UOiExLEFQX0FSRUE6ITAsRU5BQkxFX0VOQ09ERURfVFJBTlNGT1JNOiExLEVOQUJMRV9WSURFT19TRUk6ITEsSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfSE9TVDpcImVkZ2UuYWdvcmEuaW9cIixJTUFHRV9NT0RFUkFUSU9OX1dPUktFUl9NRVNTQUdFX0xFTkdUSF9MSU1JVDozZTUsSU1BR0VfTU9ERVJBVElPTl9JTlRFUlZBTF9NSU5JTVVNOjFlMyxTSE9XX0lNQUdFX01PREVSQVRJT05fV09SS0VSX01FU1NBR0U6ITEsSU1BR0VfTU9ERVJBVElPTl9RVUFMSVRZX1JBVElPOi45LElNQUdFX01PREVSQVRJT05fVVBMT0FEX1JFUE9SVF9JTlRFUlZBTDo1ZTMsU0hPV19HTE9CQUxfQ0xJRU5UX0xJU1Q6ITEsREFUQVNUUkVBTV9NQVhfUkVUUkFOU01JVFM6MTAsVENQX0NBTkRJREFURV9PTkxZOiExLEVYVEVSTkFMX1NJR05BTF9SRVFVRVNUX1RJTUVPVVQ6M2UzLFNIT1dfUDJQX0xPRzohMSxNQVhfUDJQX1RJTUVPVVQ6M2U0LFAyUF9UT0tFTl9JTlRFUlZBTDoxZTMsU0hPV19EQVRBU1RSRUFNMl9MT0c6ITEsUkVTVFJJQ1RJT05fU0VUX1BMQVlCQUNLX0RFVklDRTohMCxVU0VfUFVSRV9FTkNSWVBUSU9OX01BU1RFUl9LRVk6ITEsQUNDT1VOVF9SRUdJU1RFUl9SRVRSWV9USU1FT1VUOjEsQUNDT1VOVF9SRUdJU1RFUl9SRVRSWV9SQVRJTzoyLEFDQ09VTlRfUkVHSVNURVJfUkVUUllfVElNRU9VVF9NQVg6NmU0LEFDQ09VTlRfUkVHSVNURVJfUkVUUllfQ09VTlRfTUFYOjFlNSxBVURJT19DT05URVhUOm51bGwsV0VCQ1NfQkFDS1VQX0NPTk5FQ1RfVElNRU9VVDo2ZTMsUExBWUVSX1NUQVRFX0RFRkVSOjJlMyxTSUdOQUxfUkVRVUVTVF9XQVRDSF9JTlRFUlZBTDoxZTMsRklMRVBBVEhfTEVOTUFYOjI1NSxEVUFMU1RSRUFNX09QRVJBVElPTl9DSEVDSzohMCxNRURJQV9FTEVNRU5UX0VYSVNUU19ERVBUSDozLFNISU1fQ0FORElEQVRFOiExLExFQVZFX01TR19USU1FT1VUOjJlMyxTVEFUU19GSUxURVI6e3RyYW5zcG9ydElkOiEwLGdvb2dUcmFja0lkOiEwfSxGSUxURVJfVklERU9fQ09ERUM6W10sVVNFX05FV19ORVRXT1JLX0NPTkZJRzohMSxBVVRPX1JFU0VUX0FVRElPX1JPVVRFOiExLFBMVUdJTl9JTkZPOltdLE9WRVJVU0VfREVURUNUT1JfUEFSQU1TOl9mLEVOQUJMRV9BR19BREFQVEFUSU9OOiEwLEZPUkNFX0FHX0hJR0hfRlJBTUVSQVRFOiExLEZPUkNFX1NVUFBPUlRfQUdfQURBUFRBVElPTjohMSxDVVNUT01fQURBUFRBVElPTl9ERUZBVUxUX01PREU6XCJcIixFTkNPREVSX0NPTkZJR19MSU1JVDp7fSxDQU1FUkFfQ0FQVFVSRV9DT05GSUc6dm9pZCAwLEhJREVfTk9fUE9TVEVSOiExLEFQX0NBQ0hFX05VTToxMCxBUF9VUERBVEVfSU5URVJWQUw6MTJlNCxBUF9DQUNIRV9MSUZFVElNRToxMmU0LE1BWF9QUkVMT0FEX0FTWU5DX0xFTkdUSDozLEVOQUJMRV9QUkVMT0FEOiEwfSx7RU5BQkxFX1BVQkxJU0hFRF9VU0VSX0xJU1Q6ITAsTUFYX1NVQlNDUklQVElPTjo1MCxTVUJTQ1JJQkVfQVVESU9fRklMVEVSX1RPUE46dm9pZCAwLEVOQUJMRV9QVUJMSVNIX0FVRElPX0ZJTFRFUjp2b2lkIDAsRU5BQkxFX1VTRVJfTElDRU5TRV9DSEVDSzohMCxVU0VfUFVCX1JUWDohMCxVU0VfU1VCX1JUWDohMCxESVNBQkxFX0ZFQzp2b2lkIDAsRU5BQkxFX05UUF9SRVBPUlQ6ITEsRU5BQkxFX0lOU1RBTlRfVklERU86ITEsRU5BQkxFX0RBVEFTVFJFQU1fMjohMSxFTkFCTEVfVVNFUl9BVVRPX1JFQkFMQU5DRV9DSEVDSzohMCxVU0VfWFI6ITAsRU5BQkxFX0xPU1NCQVNFRF9CV0U6ITAsRU5BQkxFX0FVVF9DQzohMSxFTkFCTEVfQ0NfRkFMTEJBQ0s6dm9pZCAwLEVOQUJMRV9QUkVBTExPQ19QQzohMSxTVUJTQ1JJQkVfVFdDQzohMCxQVUJMSVNIX1RXQ0M6ITEsRU5BQkxFX1NWQzohMSxFTkFCTEVfU1ZDX0RFRkFVTFRfQ09ERUNTOltcIkgyNjRcIixcIlZQOFwiLFwiVlA5XCIsXCJBVjFcIl0sU1ZDOltdLEVOQUJMRV9GVUxMX0xJTktfQVZfU1lOQzohMSxTVkNfTU9ERTpudWxsLFBSRV9TVUJfTlVNOjIsRU5BQkxFX1BSRV9TVUI6ITEsRU5BQkxFX0FVVF9GRUVEQkFDSzohMX0pLHt9LHtVU0VfQ0FORElEQVRFX0ZST01fQVBfREVUQUlMOiExfSk7ZnVuY3Rpb24gT3QodCxlLG4pe3ZhciBpLHIsbztXKGk9T2JqZWN0LmtleXMob2UpKS5jYWxsKGksdCkmJighbiYmVyhyPU9iamVjdC5rZXlzKCRyKSkuY2FsbChyLHQpfHwob2VbdF09ZSx0PT09XCJFTkFCTEVfVklERU9fU0VJXCImJmU9PT0hMCYmKG9lLkVOQUJMRV9FTkNPREVEX1RSQU5TRk9STT0hMCksdD09PVwiVVNFX05FV19ORVRXT1JLX0NPTkZJR1wiJiZlJiYobz0hIWUsb2UuVVNFX05FV19ORVRXT1JLX0NPTkZJRz1vLG8mJihvZS5XRUJDU19ET01BSU49W1wid2VicnRjMi0yLmFwLnNkLXJ0bi5jb21cIl0sb2UuV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUPVtcIndlYnJ0YzItNC5hcC5zZC1ydG4uY29tXCJdLG9lLkNEU19BUD1bXCJjZHMtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwiY2RzLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sb2UuQUNDT1VOVF9SRUdJU1RFUj1bXCJzdWEtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwic3VhLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sb2UuRVZFTlRfUkVQT1JUX0RPTUFJTj1cIndlYi0yLnN0YXRzY29sbGVjdG9yLnNkLXJ0bi5jb21cIixvZS5FVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTj1cInN0YXRzY29sbGVjdG9yLTEuYWdvcmEuaW9cIixvZS5HQVRFV0FZX0RPTUFJTlM9W1wiZWRnZS5zZC1ydG4uY29tXCJdKSksdD09PVwiRU5BQkxFX1BSRV9TVUJcIiYmZSYmKG9lLkVOQUJMRV9JTlNUQU5UX1ZJREVPPSEwLG9lLkVOQUJMRV9QUkVBTExPQ19QQz0hMCksdD09PVwiRU5BQkxFX1NWQ1wiJiZlJiYob2UuRU5BQkxFX0FVVF9DQz0hMCkpKTt9ZnVuY3Rpb24gdih0KXtyZXR1cm4gb2VbdF19dmFyICRyPXt9LGN0PWZ1bmN0aW9uKHQpe3JldHVybiB0LlNFVF9TRVNTSU9OX0lEPVwiU0VUX1NFU1NJT05fSURcIix0LlNFVF9QMlBfSUQ9XCJTRVRfUDJQX2lkXCIsdC5TRVRfRENfSUQ9XCJTRVRfRENfaWRcIix0LlNFVF9VSUQ9XCJTRVRfVUlEXCIsdC5TRVRfSU5UX1VJRD1cIlNFVF9JTlRfVUlEXCIsdC5TRVRfUFVCX0lEPVwiU0VUX1BVQl9JRFwiLHQuU0VUX0NMT1VEX1BST1hZX1NFUlZFUl9NT0RFPVwiU0VUX0NMT1VEX1BST1hZX1NFUlZFUl9NT0RFXCIsdC5LRVlfTUVUUklDX0NMSUVOVF9DUkVBVEVEPVwiS0VZX01FVFJJQ19DTElFTlRfQ1JFQVRFRFwiLHQuS0VZX01FVFJJQ19KT0lOX1NUQVJUPVwiS0VZX01FVFJJQ19KT0lOX1NUQVJUXCIsdC5BVk9JRF9KT0lOX1NUQVJUPVwiQVZPSURfSk9JTl9TVEFSVFwiLHQuS0VZX01FVFJJQ19KT0lOX0VORD1cIktFWV9NRVRSSUNfSk9JTl9FTkRcIix0LktFWV9NRVRSSUNfUkVRVUVTVF9BUF9TVEFSVD1cIktFWV9NRVRSSUNfUkVRVUVTVF9BUF9TVEFSVFwiLHQuS0VZX01FVFJJQ19SRVFVRVNUX0FQX0VORD1cIktFWV9NRVRSSUNfUkVRVUVTVF9BUF9FTkRcIix0LktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX1NUQVJUPVwiS0VZX01FVFJJQ19KT0lOX0dBVEVXQVlfU1RBUlRcIix0LktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX0VORD1cIktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX0VORFwiLHQuS0VZX01FVFJJQ19QRUVSX0NPTk5FQ1RJT05fU1RBUlQ9XCJLRVlfTUVUUklDX1BFRVJfQ09OTkVDVElPTl9TVEFSVFwiLHQuS0VZX01FVFJJQ19QRUVSX0NPTk5FQ1RJT05fRU5EPVwiS0VZX01FVFJJQ19QRUVSX0NPTk5FQ1RJT05fRU5EXCIsdC5LRVlfTUVUUklDX0RFU0NSSVBUSU9OX1NUQVJUPVwiS0VZX01FVFJJQ19ERVNDUklQVElPTl9TVEFSVFwiLHQuS0VZX01FVFJJQ19JQ0VfQ09OTkVDVElPTl9FTkQ9XCJLRVlfTUVUUklDX0lDRV9DT05ORUNUSU9OX0VORFwiLHQuS0VZX01FVFJJQ19TSUdOQUxfQ0hBTk5FTF9PUEVOPVwiS0VZX01FVFJJQ19TSUdOQUxfQ0hBTk5FTF9PUEVOXCIsdC5LRVlfTUVUUklDX1BVQkxJU0g9XCJLRVlfTUVUUklDX1BVQkxJU0hcIix0LktFWV9NRVRSSUNfU1VCU0NSSUJFPVwiS0VZX01FVFJJQ19TVUJTQ1JJQkVcIix0LlJFQ09SRF9KT0lOX0NIQU5ORUxfU0VSVklDRT1cIlJFQ09SRF9KT0lOX0NIQU5ORUxfU0VSVklDRVwiLHQuUkVTRVRfSk9JTl9DSEFOTkVMX1NFUlZJQ0VfUkVDT1JEUz1cIlJFU0VUX0pPSU5fQ0hBTk5FTF9TRVJWSUNFX1JFQ09SRFNcIix0LlJFU0VUX0tFWV9NRVRSSUNTPVwiUkVTRVRfS0VZX01FVFJJQ1NcIix0LlNFVF9VU0VfUDJQPVwiU0VUX1VTRV9QMlBcIix0LlNFVF9UUkFOU1BPUlRfVFlQRT1cIlNFVF9UUkFOU1BPUlRfVFlQRVwiLHR9KGN0fHx7fSksTUU9Y2xhc3N7Y29uc3RydWN0b3IoZSxuLGkscil7anQodGhpcyxcInN0YXRlXCIsdm9pZCAwKSx0aGlzLnN0YXRlPXtjb2RlYzplLGF1ZGlvQ29kZWM6bixtb2RlOmksY2xpZW50SWQ6cixzZXNzaW9uSWQ6bnVsbCxwMnBJZDowLGRjSWQ6MCxwdWJJZDowLHN1YklkOjAsYXZvaWRKb2luU3RhcnQ6MCxrZXlNZXRyaWNzOntwdWJsaXNoOltdLHN1YnNjcmliZTpbXX0sam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3JkczpbXSxjbG91ZFByb3h5U2VydmVyTW9kZTpcImRpc2FibGVkXCIsdXNlUDJQOiExLHAycFRyYW5zcG9ydDpPby5EZWZhdWx0fTt9ZGlzcGF0Y2goZSl7dGhpcy5zdGF0ZT1mdW5jdGlvbihuLGkpe3N3aXRjaChpLnR5cGUpe2Nhc2UgY3QuU0VUX1NFU1NJT05fSUQ6cmV0dXJuIEooSih7fSxuKSx7fSx7c2Vzc2lvbklkOmkuc2Vzc2lvbklkfSk7Y2FzZSBjdC5TRVRfUDJQX0lEOnJldHVybiBKKEooe30sbikse30se3AycElkOmkucDJwSWR9KTtjYXNlIGN0LlNFVF9VSUQ6cmV0dXJuIEooSih7fSxuKSx7fSx7dWlkOmkudWlkfSk7Y2FzZSBjdC5TRVRfSU5UX1VJRDpyZXR1cm4gSihKKHt9LG4pLHt9LHtpbnRVaWQ6aS5pbnRVaWR9KTtjYXNlIGN0LlNFVF9QVUJfSUQ6cmV0dXJuIEooSih7fSxuKSx7fSx7cHViSWQ6aS5wdWJJZH0pO2Nhc2UgY3QuS0VZX01FVFJJQ19DTElFTlRfQ1JFQVRFRDpyZXR1cm4gSihKKHt9LG4pLHt9LHtrZXlNZXRyaWNzOkooSih7fSxuLmtleU1ldHJpY3MpLHt9LHtjbGllbnRDcmVhdGVkOmkubWV0cmljfSl9KTtjYXNlIGN0LktFWV9NRVRSSUNfSk9JTl9TVEFSVDpyZXR1cm4gSihKKHt9LG4pLHt9LHtrZXlNZXRyaWNzOkooSih7fSxuLmtleU1ldHJpY3MpLHt9LHtqb2luU3RhcnQ6aS5tZXRyaWN9KX0pO2Nhc2UgY3QuQVZPSURfSk9JTl9TVEFSVDpyZXR1cm4gSihKKHt9LG4pLHt9LHthdm9pZEpvaW5TdGFydDppLmF2b2lkSm9pblN0YXJ0fSk7Y2FzZSBjdC5LRVlfTUVUUklDX0pPSU5fRU5EOnJldHVybiBKKEooe30sbikse30se2tleU1ldHJpY3M6SihKKHt9LG4ua2V5TWV0cmljcykse30se2pvaW5FbmQ6aS5tZXRyaWN9KX0pO2Nhc2UgY3QuS0VZX01FVFJJQ19SRVFVRVNUX0FQX1NUQVJUOnJldHVybiBKKEooe30sbikse30se2tleU1ldHJpY3M6SihKKHt9LG4ua2V5TWV0cmljcykse30se3JlcXVlc3RBUFN0YXJ0OmkubWV0cmljfSl9KTtjYXNlIGN0LktFWV9NRVRSSUNfUkVRVUVTVF9BUF9FTkQ6cmV0dXJuIEooSih7fSxuKSx7fSx7a2V5TWV0cmljczpKKEooe30sbi5rZXlNZXRyaWNzKSx7fSx7cmVxdWVzdEFQRW5kOmkubWV0cmljfSl9KTtjYXNlIGN0LktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX1NUQVJUOnJldHVybiBKKEooe30sbikse30se2tleU1ldHJpY3M6SihKKHt9LG4ua2V5TWV0cmljcykse30se2pvaW5HYXRld2F5U3RhcnQ6aS5tZXRyaWN9KX0pO2Nhc2UgY3QuS0VZX01FVFJJQ19KT0lOX0dBVEVXQVlfRU5EOnJldHVybiBKKEooe30sbikse30se2tleU1ldHJpY3M6SihKKHt9LG4ua2V5TWV0cmljcykse30se2pvaW5HYXRld2F5RW5kOmkubWV0cmljfSl9KTtjYXNlIGN0LktFWV9NRVRSSUNfUEVFUl9DT05ORUNUSU9OX1NUQVJUOnJldHVybiBKKEooe30sbikse30se2tleU1ldHJpY3M6SihKKHt9LG4ua2V5TWV0cmljcykse30se3BlZXJDb25uZWN0aW9uU3RhcnQ6aS5tZXRyaWN9KX0pO2Nhc2UgY3QuS0VZX01FVFJJQ19QRUVSX0NPTk5FQ1RJT05fRU5EOnJldHVybiBKKEooe30sbikse30se2tleU1ldHJpY3M6SihKKHt9LG4ua2V5TWV0cmljcykse30se3BlZXJDb25uZWN0aW9uRW5kOmkubWV0cmljfSl9KTtjYXNlIGN0LktFWV9NRVRSSUNfREVTQ1JJUFRJT05fU1RBUlQ6cmV0dXJuIEooSih7fSxuKSx7fSx7a2V5TWV0cmljczpKKEooe30sbi5rZXlNZXRyaWNzKSx7fSx7ZGVzY3JpcHRpb25TdGFydDppLm1ldHJpY30pfSk7Y2FzZSBjdC5LRVlfTUVUUklDX1NJR05BTF9DSEFOTkVMX09QRU46cmV0dXJuIEooSih7fSxuKSx7fSx7a2V5TWV0cmljczpKKEooe30sbi5rZXlNZXRyaWNzKSx7fSx7c2lnbmFsQ2hhbm5lbE9wZW46aS5tZXRyaWN9KX0pO2Nhc2UgY3QuS0VZX01FVFJJQ19JQ0VfQ09OTkVDVElPTl9FTkQ6cmV0dXJuIEooSih7fSxuKSx7fSx7a2V5TWV0cmljczpKKEooe30sbi5rZXlNZXRyaWNzKSx7fSx7aWNlQ29ubmVjdGlvbkVuZDppLm1ldHJpY30pfSk7Y2FzZSBjdC5LRVlfTUVUUklDX1BVQkxJU0g6e2xldCByPW4ua2V5TWV0cmljcy5wdWJsaXNoLG89ci5maW5kSW5kZXgocz0+cy50cmFja0lkPT09aS5tZXRyaWMudHJhY2tJZCk7cmV0dXJuIG8hPT0tMT8ocltvXT1KKEooe30scltvXSksaS5tZXRyaWMpLEooSih7fSxuKSx7fSx7a2V5TWV0cmljczpKKEooe30sbi5rZXlNZXRyaWNzKSx7fSx7cHVibGlzaDpbLi4ucl19KX0pKTpKKEooe30sbikse30se2tleU1ldHJpY3M6SihKKHt9LG4ua2V5TWV0cmljcykse30se3B1Ymxpc2g6Wy4uLm4ua2V5TWV0cmljcy5wdWJsaXNoLGkubWV0cmljXX0pfSl9Y2FzZSBjdC5LRVlfTUVUUklDX1NVQlNDUklCRTp7bGV0IHI9bi5rZXlNZXRyaWNzLnN1YnNjcmliZSxvPXIuZmluZEluZGV4KHM9PnMudXNlcklkPT09aS5tZXRyaWMudXNlcklkJiZzLnR5cGU9PT1pLm1ldHJpYy50eXBlKTtyZXR1cm4gbyE9PS0xPyhyW29dPUooSih7fSxyW29dKSxpLm1ldHJpYyksSihKKHt9LG4pLHt9LHtrZXlNZXRyaWNzOkooSih7fSxuLmtleU1ldHJpY3MpLHt9LHtzdWJzY3JpYmU6Wy4uLnJdfSl9KSk6SihKKHt9LG4pLHt9LHtrZXlNZXRyaWNzOkooSih7fSxuLmtleU1ldHJpY3MpLHt9LHtzdWJzY3JpYmU6Wy4uLm4ua2V5TWV0cmljcy5zdWJzY3JpYmUsaS5tZXRyaWNdfSl9KX1jYXNlIGN0LlNFVF9DTE9VRF9QUk9YWV9TRVJWRVJfTU9ERTpyZXR1cm4gbi5jbG91ZFByb3h5U2VydmVyTW9kZT1pLm1vZGUsbjtjYXNlIGN0LlJFQ09SRF9KT0lOX0NIQU5ORUxfU0VSVklDRTpyZXR1cm4gdHlwZW9mIGkuaW5kZXghPVwibnVtYmVyXCI/bi5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzPVsuLi5uLmpvaW5DaGFubmVsU2VydmljZVJlY29yZHMsaS5yZWNvcmRdOihuLmpvaW5DaGFubmVsU2VydmljZVJlY29yZHNbaS5pbmRleF09SihKKHt9LG4uam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkc1tpLmluZGV4XSksaS5yZWNvcmQpLG4uam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcz1bLi4ubi5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzXSksbjtjYXNlIGN0LlJFU0VUX0pPSU5fQ0hBTk5FTF9TRVJWSUNFX1JFQ09SRFM6cmV0dXJuIG4uam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcz1bXSxuO2Nhc2UgY3QuUkVTRVRfS0VZX01FVFJJQ1M6cmV0dXJuIG4ua2V5TWV0cmljcz17cHVibGlzaDpbXSxzdWJzY3JpYmU6W119LG47Y2FzZSBjdC5TRVRfVVNFX1AyUDpyZXR1cm4gSihKKHt9LG4pLHt9LHt1c2VQMlA6aS52YWx9KTtjYXNlIGN0LlNFVF9UUkFOU1BPUlRfVFlQRTpyZXR1cm4gSihKKHt9LG4pLHt9LHtwMnBUcmFuc3BvcnQ6aS52YWx9KTtkZWZhdWx0OnJldHVybiBufX0odGhpcy5zdGF0ZSxlKTt9c2V0IHNlc3Npb25JZChlKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmN0LlNFVF9TRVNTSU9OX0lELHNlc3Npb25JZDplfSk7fWdldCBzZXNzaW9uSWQoKXtyZXR1cm4gdGhpcy5zdGF0ZS5zZXNzaW9uSWR9c2V0IGNvZGVjKGUpe3RoaXMuc3RhdGUuY29kZWM9ZTt9Z2V0IGNvZGVjKCl7cmV0dXJuIHRoaXMuc3RhdGUuY29kZWN9Z2V0IG1vZGUoKXtyZXR1cm4gdGhpcy5zdGF0ZS5tb2RlfWdldCBhdWRpb0NvZGVjKCl7cmV0dXJuIHRoaXMuc3RhdGUuYXVkaW9Db2RlY31nZXQgY2xpZW50SWQoKXtyZXR1cm4gdGhpcy5zdGF0ZS5jbGllbnRJZH1zZXQgcDJwSWQoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5TRVRfUDJQX0lELHAycElkOmV9KTt9Z2V0IHAycElkKCl7cmV0dXJuIHRoaXMuc3RhdGUucDJwSWR9c2V0IGRjSWQoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5TRVRfRENfSUQsZGNJZDplfSk7fWdldCBkY0lkKCl7cmV0dXJuIHRoaXMuc3RhdGUuZGNJZH1zZXQgdWlkKGUpe3RoaXMuZGlzcGF0Y2goe3R5cGU6Y3QuU0VUX1VJRCx1aWQ6ZX0pO31nZXQgdWlkKCl7cmV0dXJuIHRoaXMuc3RhdGUudWlkfXNldCBpbnRVaWQoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5TRVRfSU5UX1VJRCxpbnRVaWQ6ZX0pO31nZXQgaW50VWlkKCl7cmV0dXJuIHRoaXMuc3RhdGUuaW50VWlkfXNldCBwdWJJZChlKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmN0LlNFVF9QVUJfSUQscHViSWQ6ZX0pO31nZXQgcHViSWQoKXtyZXR1cm4gdGhpcy5zdGF0ZS5wdWJJZH1zZXQgY2xvdWRQcm94eVNlcnZlck1vZGUoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5TRVRfQ0xPVURfUFJPWFlfU0VSVkVSX01PREUsbW9kZTplfSk7fWdldCBjbG91ZFByb3h5U2VydmVyTW9kZSgpe3JldHVybiB0aGlzLnN0YXRlLmNsb3VkUHJveHlTZXJ2ZXJNb2RlfXNldCB1c2VQMlAoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5TRVRfVVNFX1AyUCx2YWw6ZX0pO31nZXQgdXNlUDJQKCl7cmV0dXJuIHRoaXMuc3RhdGUudXNlUDJQfXNldCBwMnBUcmFuc3BvcnQoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5TRVRfVFJBTlNQT1JUX1RZUEUsdmFsOmV9KTt9Z2V0IHAycFRyYW5zcG9ydCgpe3JldHVybiB0aGlzLnN0YXRlLnAycFRyYW5zcG9ydH1jbGllbnRDcmVhdGVkKCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5LRVlfTUVUUklDX0NMSUVOVF9DUkVBVEVELG1ldHJpYzpEYXRlLm5vdygpfSk7fWpvaW5TdGFydCgpe3RoaXMuZGlzcGF0Y2goe3R5cGU6Y3QuS0VZX01FVFJJQ19KT0lOX1NUQVJULG1ldHJpYzpEYXRlLm5vdygpfSk7fWpvaW5FbmQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmN0LktFWV9NRVRSSUNfSk9JTl9FTkQsbWV0cmljOkRhdGUubm93KCl9KTt9cmVxdWVzdEFQU3RhcnQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmN0LktFWV9NRVRSSUNfUkVRVUVTVF9BUF9TVEFSVCxtZXRyaWM6RGF0ZS5ub3coKX0pO31yZXF1ZXN0QVBFbmQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmN0LktFWV9NRVRSSUNfUkVRVUVTVF9BUF9FTkQsbWV0cmljOkRhdGUubm93KCl9KTt9am9pbkdhdGV3YXlTdGFydCgpe3RoaXMuZGlzcGF0Y2goe3R5cGU6Y3QuS0VZX01FVFJJQ19KT0lOX0dBVEVXQVlfU1RBUlQsbWV0cmljOkRhdGUubm93KCl9KTt9am9pbkdhdGV3YXlFbmQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmN0LktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX0VORCxtZXRyaWM6RGF0ZS5ub3coKX0pO31wZWVyQ29ubmVjdGlvblN0YXJ0KCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5LRVlfTUVUUklDX1BFRVJfQ09OTkVDVElPTl9TVEFSVCxtZXRyaWM6RGF0ZS5ub3coKX0pO31wZWVyQ29ubmVjdGlvbkVuZCgpe3RoaXMuZGlzcGF0Y2goe3R5cGU6Y3QuS0VZX01FVFJJQ19QRUVSX0NPTk5FQ1RJT05fRU5ELG1ldHJpYzpEYXRlLm5vdygpfSk7fWRlc2NyaXB0aW9uU3RhcnQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmN0LktFWV9NRVRSSUNfREVTQ1JJUFRJT05fU1RBUlQsbWV0cmljOkRhdGUubm93KCl9KTt9c2lnbmFsQ2hhbm5lbE9wZW4oKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmN0LktFWV9NRVRSSUNfU0lHTkFMX0NIQU5ORUxfT1BFTixtZXRyaWM6RGF0ZS5ub3coKX0pO31pY2VDb25uZWN0aW9uRW5kKCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5LRVlfTUVUUklDX0lDRV9DT05ORUNUSU9OX0VORCxtZXRyaWM6RGF0ZS5ub3coKX0pO31wdWJsaXNoKGUsbixpLHIpe3RoaXMuZGlzcGF0Y2goe3R5cGU6Y3QuS0VZX01FVFJJQ19QVUJMSVNILG1ldHJpYzpKKEooe3RyYWNrSWQ6ZSx0eXBlOm59LGkmJntwdWJsaXNoU3RhcnQ6aX0pLHImJntwdWJsaXNoRW5kOnJ9KX0pO31zdWJzY3JpYmUoZSxuLGkscixvLHMsYSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5LRVlfTUVUUklDX1NVQlNDUklCRSxtZXRyaWM6SihKKEooSihKKHt1c2VySWQ6ZSx0eXBlOm59LGkmJntzdWJzY3JpYmVTdGFydDppfSksciYme3N1YnNjcmliZUVuZDpyfSksbyYme2ZpcnN0RnJhbWU6b30pLHMmJntzdHJlYW1BZGRlZDpzfSksYSYme2ZpcnN0RGVjb2RlZDphfSl9KTt9bWFzc1N1YnNjcmliZShlLG4saSxyKXtlLmZvckVhY2gobz0+e3RoaXMuZGlzcGF0Y2goe3R5cGU6Y3QuS0VZX01FVFJJQ19TVUJTQ1JJQkUsbWV0cmljOkooSihKKHt1c2VySWQ6by51c2VySWQsdHlwZTpvLnR5cGV9LG4mJntzdWJzY3JpYmVTdGFydDpufSksaSYme3N1YnNjcmliZUVuZDppfSksciYme2ZpcnN0RnJhbWU6cn0pfSk7fSk7fWdldCBrZXlNZXRyaWNzKCl7cmV0dXJuIHRoaXMuc3RhdGUua2V5TWV0cmljc31yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2UoZSxuKXtlLnNlcnZpY2U9PT1cImdhdGV3YXlcIiYmQXJyYXkuaXNBcnJheShlLnVybHMpJiYoZS51cmxzPWUudXJscy5tYXAoaT0+aS5yZXBsYWNlKC8oXFxkKyktXFxkKy1cXGQrLShcXGQrKS8sXCIkMS0qLSotJDJcIikpKTt0cnl7cmV0dXJuIHR5cGVvZiBuIT1cIm51bWJlclwiPyh0aGlzLmRpc3BhdGNoKHt0eXBlOmN0LlJFQ09SRF9KT0lOX0NIQU5ORUxfU0VSVklDRSxyZWNvcmQ6SihKKHt9LGUpLHt9LHtzZXNzaW9uSWQ6dGhpcy5zZXNzaW9uSWQsY2xvdWRQcm94eU1vZGU6dGhpcy5jbG91ZFByb3h5U2VydmVyTW9kZSx1aWQ6dGhpcy51aWR9KX0pLHRoaXMuc3RhdGUuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcy5sZW5ndGgtMSk6KG48MHx8bj49dGhpcy5zdGF0ZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzLmxlbmd0aHx8dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5SRUNPUkRfSk9JTl9DSEFOTkVMX1NFUlZJQ0UscmVjb3JkOmUsaW5kZXg6bn0pLG4pfWNhdGNoe3JldHVybiAwfX1yZXNldEpvaW5DaGFubmVsU2VydmljZVJlY29yZHMoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmN0LlJFU0VUX0pPSU5fQ0hBTk5FTF9TRVJWSUNFX1JFQ09SRFN9KTt9cmVzZXRLZXlNZXRyaWNzKCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpjdC5SRVNFVF9LRVlfTUVUUklDU30pO31nZXQgam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcygpe3RyeXtyZXR1cm4gdGhpcy5zdGF0ZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzfWNhdGNoe3JldHVybiBbXX19Z2V0IGF2b2lkSm9pblN0YXJ0KCl7cmV0dXJuIHRoaXMuc3RhdGUuYXZvaWRKb2luU3RhcnR9c2V0IGF2b2lkSm9pblN0YXJ0KGUpe3RoaXMuZGlzcGF0Y2goe3R5cGU6Y3QuQVZPSURfSk9JTl9TVEFSVCxhdm9pZEpvaW5TdGFydDplfSk7fX0sSnU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaDI2ND1cImgyNjRcIix0LmgyNjU9XCJoMjY1XCIsdC52cDg9XCJ2cDhcIix0LnZwOT1cInZwOVwiLHQuYXYxPVwiYXYxXCIsdH0oe30pOyhmdW5jdGlvbih0KXt0Lm9wdXM9XCJvcHVzXCIsdC5wY21hPVwicGNtYVwiLHQucGNtdT1cInBjbXVcIix0Lmc3MjI9XCJnNzIyXCI7fSkoe30pO3ZhciB5Uj0xMjgsVEI9OTYsQVI9MWUzLHVzPTEwLFNCPTA7ZnVuY3Rpb24gcmUodCxlLG4pe3JldHVybiAoZT1mdW5jdGlvbihpKXt2YXIgcj1mdW5jdGlvbihvLHMpe2lmKHR5cGVvZiBvIT1cIm9iamVjdFwifHwhbylyZXR1cm4gbzt2YXIgYT1vW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYoYSE9PXZvaWQgMCl7dmFyIGM9YS5jYWxsKG8sXCJzdHJpbmdcIik7aWYodHlwZW9mIGMhPVwib2JqZWN0XCIpcmV0dXJuIGM7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcobyl9KGkpO3JldHVybiB0eXBlb2Ygcj09XCJzeW1ib2xcIj9yOnIrXCJcIn0oZSkpaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9ZnVuY3Rpb24gYlIodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59ZnVuY3Rpb24gb3QodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdIT1udWxsP2FyZ3VtZW50c1tlXTp7fTtlJTI/YlIoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3JlKHQsaSxuW2ldKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpiUihPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24oaSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSkpO30pO31yZXR1cm4gdH12YXIgd089bmV3IGNsYXNzIGV4dGVuZHMgWHR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHJlKHRoaXMsXCJjdXJyZW50VXBsb2FkTG9nSURcIiwwKTt9cmVwb3J0TG9nVXBsb2FkRXJyb3IodCl7bGV0e2Vycm9yUmFuZ2U6ZX09dDtlW2UubGVuZ3RoLTFdJiZlW2UubGVuZ3RoLTFdPnRoaXMuY3VycmVudFVwbG9hZExvZ0lEJiYodGhpcy5jdXJyZW50VXBsb2FkTG9nSUQ9ZVtlLmxlbmd0aC0xXSx0aGlzLmVtaXQoXCJSRVBPUlRfTE9HX1VQTE9BRFwiLHQpKTt9fSxVRT1jbGFzc3tjb25zdHJ1Y3RvcihlKXtyZSh0aGlzLFwibG9nZ2VyXCIsdm9pZCAwKSxyZSh0aGlzLFwicHJlZml4TGlzdHNcIixbXSksdGhpcy5sb2dnZXI9ZTt9ZGVidWcoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyluW2ldPWFyZ3VtZW50c1tpXTt0aGlzLmxvZ2dlci5kZWJ1ZyguLi50aGlzLnByZWZpeExpc3RzLC4uLm4pO31pbmZvKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspbltpXT1hcmd1bWVudHNbaV07dGhpcy5sb2dnZXIuaW5mbyguLi50aGlzLnByZWZpeExpc3RzLC4uLm4pO313YXJuaW5nKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspbltpXT1hcmd1bWVudHNbaV07dGhpcy5sb2dnZXIud2FybmluZyguLi50aGlzLnByZWZpeExpc3RzLC4uLm4pO31lcnJvcigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKW5baV09YXJndW1lbnRzW2ldO3RoaXMubG9nZ2VyLmVycm9yKC4uLnRoaXMucHJlZml4TGlzdHMsLi4ubik7fXByZWZpeChlKXtyZXR1cm4gdGhpcy5wcmVmaXhMaXN0cy5wdXNoKGUpLHRoaXN9cG9wUHJlZml4KCl7cmV0dXJuIHRoaXMucHJlZml4TGlzdHMucG9wKCksdGhpc319O2Z1bmN0aW9uIE5wKCl7bGV0IHQ9bmV3IERhdGU7cmV0dXJuIHQudG9UaW1lU3RyaW5nKCkuc3BsaXQoXCIgXCIpWzBdK1wiOlwiK3QuZ2V0TWlsbGlzZWNvbmRzKCl9ZnVuY3Rpb24gd1IoKXtsZXQgdD1uZXcgRGF0ZSxlPS8oKFxcZCs6KXsyfVxcZCspLy5leGVjKG5ldyBEYXRlKCkudG9VVENTdHJpbmcoKSk7cmV0dXJuIGU/ZT8uWzBdK1wiOlwiK3QuZ2V0VVRDTWlsbGlzZWNvbmRzKCk6dC50b1RpbWVTdHJpbmcoKS5zcGxpdChcIiBcIilbMF0rXCI6XCIrdC5nZXRNaWxsaXNlY29uZHMoKX12YXIgUW49e0RFQlVHOjAsSU5GTzoxLFdBUk5JTkc6MixFUlJPUjozLE5PTkU6NH0sUGQ9RGF0ZS5ub3coKSxrYT10PT57Zm9yKGxldCBlIGluIFFuKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChRbixlKSYmUW5bZV09PT10KXJldHVybiBlO3JldHVybiBcIkRFRkFVTFRcIn0sXz1uZXcgY2xhc3N7Y29uc3RydWN0b3IoKXtyZSh0aGlzLFwicHJveHlTZXJ2ZXJVUkxcIix2b2lkIDApLHJlKHRoaXMsXCJsb2dMZXZlbFwiLFFuLkRFQlVHKSxyZSh0aGlzLFwidXBsb2FkU3RhdGVcIixcImNvbGxlY3RpbmdcIikscmUodGhpcyxcInVwbG9hZExvZ1dhaXRpbmdMaXN0XCIsW10pLHJlKHRoaXMsXCJ1cGxvYWRMb2dVcGxvYWRpbmdMaXN0XCIsW10pLHJlKHRoaXMsXCJ1cGxvYWRFcnJvckNvdW50XCIsMCkscmUodGhpcyxcImN1cnJlbnRMb2dJRFwiLDApLHJlKHRoaXMsXCJ1cmxcIix2b2lkIDApLHJlKHRoaXMsXCJleHRMb2dcIiwodCxlKT0+e3RoaXMuYXBwZW5kTG9nVG9XYWl0aW5nTGlzdCh0LC4uLmUpO30pO31kZWJ1Zygpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLG49MDtuPHQ7bisrKWVbbl09YXJndW1lbnRzW25dO2xldCBpPVtRbi5ERUJVR10uY29uY2F0KGUpO3RoaXMubG9nLmFwcGx5KHRoaXMsaSk7fWluZm8oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtsZXQgaT1bUW4uSU5GT10uY29uY2F0KGUpO3RoaXMubG9nLmFwcGx5KHRoaXMsaSk7fXdhcm5pbmcoKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtsZXQgaT1bUW4uV0FSTklOR10uY29uY2F0KGUpO3RoaXMubG9nLmFwcGx5KHRoaXMsaSk7fXdhcm4oKXt0aGlzLndhcm5pbmcoLi4uYXJndW1lbnRzKTt9ZXJyb3IoKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtsZXQgaT1bUW4uRVJST1JdLmNvbmNhdChlKTt0aGlzLmxvZy5hcHBseSh0aGlzLGkpO311cGxvYWQoKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtsZXQgaT1bUW4uREVCVUddLmNvbmNhdChlKTt0aGlzLnVwbG9hZExvZy5hcHBseSh0aGlzLGkpO31zZXRMb2dMZXZlbCh0KXt0PU1hdGgubWluKE1hdGgubWF4KDAsdCksNCksdGhpcy5sb2dMZXZlbD10O31lbmFibGVMb2dVcGxvYWQoKXtPdChcIlVQTE9BRF9MT0dcIiwhMCk7fWRpc2FibGVMb2dVcGxvYWQoKXtPdChcIlVQTE9BRF9MT0dcIiwhMSksdGhpcy51cGxvYWRMb2dVcGxvYWRpbmdMaXN0PVtdLHRoaXMudXBsb2FkTG9nV2FpdGluZ0xpc3Q9W107fXNldFByb3h5U2VydmVyKHQpe3RoaXMucHJveHlTZXJ2ZXJVUkw9dDt9cHJlZml4KHQpe3JldHVybiBuZXcgVUUodGhpcykucHJlZml4KHQpfWxvZygpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLG49MDtuPHQ7bisrKWVbbl09YXJndW1lbnRzW25dO2lmKERhdGUubm93KCktUGQ8MTAwKXJldHVybiB2b2lkIHNldFRpbWVvdXQoKCk9Pnt0aGlzLmxvZyguLi5lKTt9LERhdGUubm93KCktUGQpO2xldCBpPU1hdGgubWF4KDAsTWF0aC5taW4oNCxlWzBdKSk7aWYoZVswXT1OcCgpK1wiIEFnb3JhLVNESyBbXCIuY29uY2F0KGthKGkpLFwiXTpcIiksdGhpcy5hcHBlbmRMb2dUb1dhaXRpbmdMaXN0KGksLi4uZSksaTx0aGlzLmxvZ0xldmVsKXJldHVybjtsZXQgcj1OcCgpK1wiICVjQWdvcmEtU0RLIFtcIi5jb25jYXQoa2EoaSksXCJdOlwiKSxvPVtdO2lmKCF2KFwiVVNFX05FV19MT0dcIikpc3dpdGNoKGkpe2Nhc2UgUW4uREVCVUc6bz1bcixcImNvbG9yOiAjNjRCNUY2O1wiXS5jb25jYXQoZS5zbGljZSgxKSksY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxvKTticmVhaztjYXNlIFFuLklORk86bz1bcixcImNvbG9yOiAjMUU4OEU1OyBmb250LXdlaWdodDogYm9sZDtcIl0uY29uY2F0KGUuc2xpY2UoMSkpLGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsbyk7YnJlYWs7Y2FzZSBRbi5XQVJOSU5HOm89W3IsXCJjb2xvcjogI0ZCOEMwMDsgZm9udC13ZWlnaHQ6IGJvbGQ7XCJdLmNvbmNhdChlLnNsaWNlKDEpKSxjb25zb2xlLndhcm4uYXBwbHkoY29uc29sZSxvKTticmVhaztjYXNlIFFuLkVSUk9SOm89W3IsXCJjb2xvcjogI0IwMDAyMDsgZm9udC13ZWlnaHQ6IGJvbGQ7XCJdLmNvbmNhdChlLnNsaWNlKDEpKSxjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUsbyk7fX11cGxvYWRMb2coKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtpZihEYXRlLm5vdygpLVBkPDEwMClyZXR1cm4gdm9pZCBzZXRUaW1lb3V0KCgpPT57dGhpcy51cGxvYWRMb2coLi4uZSk7fSxEYXRlLm5vdygpLVBkKTtsZXQgaT1NYXRoLm1heCgwLE1hdGgubWluKDQsZVswXSkpO2VbMF09TnAoKStcIiBBZ29yYS1TREsgW1wiLmNvbmNhdChrYShpKSxcIl06XCIpLHRoaXMuYXBwZW5kTG9nVG9XYWl0aW5nTGlzdChpLC4uLmUpO31hcHBlbmRMb2dUb1dhaXRpbmdMaXN0KHQpe2lmKCF2KFwiVVBMT0FEX0xPR1wiKSlyZXR1cm47Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZT4xP2UtMTowKSxpPTE7aTxlO2krKyluW2ktMV09YXJndW1lbnRzW2ldO0FycmF5LmlzQXJyYXkoblswXSk/blswXVswXT13UigpK1wiIEFnb3JhLVNESyBbXCIuY29uY2F0KGthKHQpLFwiXTpcIik6blswXT13UigpK1wiIEFnb3JhLVNESyBbXCIuY29uY2F0KGthKHQpLFwiXTpcIik7bGV0IHI9XCJcIjtuLmZvckVhY2gobz0+e3R5cGVvZiBvPT1cIm9iamVjdFwiJiYobz1KU09OLnN0cmluZ2lmeShvKSkscis9XCJcIi5jb25jYXQobyxcIiBcIik7fSksdGhpcy51cGxvYWRMb2dXYWl0aW5nTGlzdC5wdXNoKHtwYXlsb2FkX3N0cjpyLGxvZ19sZXZlbDp0LGxvZ19pdGVtX2lkOnRoaXMuY3VycmVudExvZ0lEKyt9KSx0aGlzLnVwbG9hZFN0YXRlPT09XCJ1cGxvYWRpbmdcIiYmdGhpcy51cGxvYWRMb2dVcGxvYWRpbmdMaXN0Lmxlbmd0aD09PTAmJnRoaXMudXBsb2FkTG9nSW50ZXJ2YWwoKTt9c3RhcnRVcGxvYWQoKXt0aGlzLnVwbG9hZFN0YXRlPVwidXBsb2FkaW5nXCIsdGhpcy51cGxvYWRMb2dVcGxvYWRpbmdMaXN0Lmxlbmd0aD09PTAmJnRoaXMudXBsb2FkTG9nSW50ZXJ2YWwoKTt9YXN5bmMgdXBsb2FkTG9ncygpe2xldCB0PXRoaXMudXBsb2FkTG9nVXBsb2FkaW5nTGlzdCxlPXtzZGtfdmVyc2lvbjppaSxwcm9jZXNzX2lkOnYoXCJQUk9DRVNTX0lEXCIpLHBheWxvYWQ6SlNPTi5zdHJpbmdpZnkodCl9O3JldHVybiBXaShhc3luYygpPT57bGV0IG49YXdhaXQgbW4ucG9zdCh0aGlzLnVybHx8KHRoaXMucHJveHlTZXJ2ZXJVUkw/XCJodHRwczovL1wiLmNvbmNhdCh0aGlzLnByb3h5U2VydmVyVVJMLFwiL2xzLz9oPVwiKS5jb25jYXQodihcIkxPR19VUExPQURfU0VSVkVSXCIpLFwiJnA9NDQzJmQ9dXBsb2FkL3YxXCIpOlwiaHR0cHM6Ly9cIi5jb25jYXQodihcIkxPR19VUExPQURfU0VSVkVSXCIpLFwiL3VwbG9hZC92MVwiKSksZSx7cmVzcG9uc2VUeXBlOlwidGV4dFwifSk7aWYobi5kYXRhIT09XCJPS1wiKXtsZXQgaT1uZXcgRXJyb3IoXCJ1bmV4cGVjdGVkIHVwbG9hZCBsb2cgcmVzcG9uc2VcIik7dGhyb3cgaS5yZXNwb25zZT1uLGl9fSwoKT0+KHRoaXMudXBsb2FkTG9nVXBsb2FkaW5nTGlzdD1bXSwhMSksbj0+e2xldCBpPXtzdGF0dXM6LTEsbWVzc2FnZTpuLm1lc3NhZ2UsZXJyb3JSYW5nZTp0Lm1hcChyPT5yLmxvZ19pdGVtX2lkKX07cmV0dXJuIG4ucmVzcG9uc2U/KGkuc3RhdHVzPW4ucmVzcG9uc2Uuc3RhdHVzLGkuZGF0YT1uLnJlc3BvbnNlLmRhdGEsaS5oZWFkZXJzPW4ucmVzcG9uc2UuaGVhZGVycyk6bi5yZXF1ZXN0JiYoaS5zdGF0dXM9bi5yZXF1ZXN0LnN0YXR1cyksd08ucmVwb3J0TG9nVXBsb2FkRXJyb3IoaSksITB9LHt0aW1lb3V0OnYoXCJVUExPQURfTE9HX1JFUVVFU1RfUkVUUllfSU5URVJWQUxcIiksbWF4UmV0cnlUaW1lb3V0OnYoXCJVUExPQURfTE9HX1JFUVVFU1RfTUFYX1JFVFJZX0lOVEVSVkFMXCIpfSl9dXBsb2FkTG9nSW50ZXJ2YWwoKXt0aGlzLnVwbG9hZExvZ1VwbG9hZGluZ0xpc3QubGVuZ3RoPT09MCYmdGhpcy51cGxvYWRMb2dXYWl0aW5nTGlzdC5sZW5ndGg9PT0wfHwodGhpcy51cGxvYWRMb2dVcGxvYWRpbmdMaXN0Lmxlbmd0aD09PTAmJih0aGlzLnVwbG9hZExvZ1VwbG9hZGluZ0xpc3Q9dGhpcy51cGxvYWRMb2dXYWl0aW5nTGlzdC5zcGxpY2UoMCx2KFwiVVBMT0FEX0xPR19MRU5HVEhfRUFDSF9USU1FXCIpKSksdGhpcy51cGxvYWRMb2dzKCkudGhlbigoKT0+e3RoaXMudXBsb2FkRXJyb3JDb3VudD0wLHRoaXMudXBsb2FkTG9nV2FpdGluZ0xpc3QubGVuZ3RoPjAmJndpbmRvdy5zZXRUaW1lb3V0KCgpPT50aGlzLnVwbG9hZExvZ0ludGVydmFsKCksdihcIlVQTE9BRF9MT0dfSU5URVJWQUxcIikpO30pLmNhdGNoKHQ9Pnt0aGlzLnVwbG9hZEVycm9yQ291bnQrPTEsdGhpcy51cGxvYWRFcnJvckNvdW50PDI/d2luZG93LnNldFRpbWVvdXQoKCk9PnRoaXMudXBsb2FkTG9nSW50ZXJ2YWwoKSx2KFwiVVBMT0FEX0xPR19UV0lDRV9SRVRSWV9JTlRFUlZBTF9WMVwiKSk6d2luZG93LnNldFRpbWVvdXQoKCk9PnRoaXMudXBsb2FkTG9nSW50ZXJ2YWwoKSx2KFwiVVBMT0FEX0xPR19SRVRSWV9JTlRFUlZBTF9WMVwiKSk7fSkpO319LE9SO2Z1bmN0aW9uIFJCKHQpe3JldHVybiBQZSh0LnJlcG9ydElkLFwicGFyYW1zLnJlcG9ydElkXCIsMCwxMDAsITEpLFBlKHQuY2F0ZWdvcnksXCJwYXJhbXMuY2F0ZWdvcnlcIiwwLDEwMCwhMSksUGUodC5ldmVudCxcInBhcmFtcy5ldmVudFwiLDAsMTAwLCExKSxQZSh0LmxhYmVsLFwicGFyYW1zLmxhYmVsXCIsMCwxMDAsITEpLE50KHQudmFsdWUsXCJwYXJhbXMudmFsdWVcIixOdW1iZXIuTUlOX1NBRkVfSU5URUdFUixOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiwhMSksITB9KE9SPXt9KS5GUkVFPVwiZnJlZVwiLE9SLlVQTE9BRElORz1cInVwbG9hZGluZ1wiLGZ1bmN0aW9uKHQpe3RbdC5NSVNDPTBdPVwiTUlTQ1wiLHRbdC5JTlRFUk5BTF9FVkVOVD0xXT1cIklOVEVSTkFMX0VWRU5UXCIsdFt0LlBVQkxJQ19FVkVOVD0yXT1cIlBVQkxJQ19FVkVOVFwiLHRbdC5XRUJfRVZFTlQ9M109XCJXRUJfRVZFTlRcIix0W3QuSU5URVJOQUxfQVBJPTRdPVwiSU5URVJOQUxfQVBJXCIsdFt0LldFQl9BUEk9NV09XCJXRUJfQVBJXCIsdFt0LlBVQkxJQ19BUEk9Nl09XCJQVUJMSUNfQVBJXCI7fSh7fSk7dmFyIENCPXtzaWQ6XCJcIixsdHM6MCxzdWNjZXNzOm51bGwsY25hbWU6bnVsbCx1aWQ6bnVsbCxwZWVyOm51bGwsY2lkOm51bGwsZWxhcHNlOm51bGwsZXh0ZW5kOm51bGwsdmlkOjB9LERlPWZ1bmN0aW9uKHQpe3JldHVybiB0LlBVQkxJU0g9XCJwdWJsaXNoXCIsdC5TVUJTQ1JJQkU9XCJzdWJzY3JpYmVcIix0LldTX0NPTVBSRVNTT1JfSU5JVD1cIndzX2NvbXByZXNzb3JfaW5pdFwiLHQuU0VTU0lPTl9JTklUPVwic2Vzc2lvbl9pbml0XCIsdC5KT0lOX0NIT09TRV9TRVJWRVI9XCJqb2luX2Nob29zZV9zZXJ2ZXJcIix0LlJFUV9VU0VSX0FDQ09VTlQ9XCJyZXFfdXNlcl9hY2NvdW50XCIsdC5KT0lOX0dBVEVXQVk9XCJqb2luX2dhdGV3YXlcIix0LlJFSk9JTl9HQVRFV0FZPVwicmVqb2luX2dhdGV3YXlcIix0LlNUUkVBTV9TV0lUQ0g9XCJzdHJlYW1fc3dpdGNoXCIsdC5SRVFVRVNUX1BST1hZX1dPUktFUl9NQU5BR0VSPVwicmVxdWVzdF9wcm94eV93b3JrZXJfbWFuYWdlclwiLHQuUkVRVUVTVF9QUk9YWV9BUFBDRU5URVI9XCJyZXF1ZXN0X3Byb3h5X2FwcGNlbnRlclwiLHQuRklSU1RfVklERU9fUkVDRUlWRUQ9XCJmaXJzdF92aWRlb19yZWNlaXZlZFwiLHQuRklSU1RfQVVESU9fUkVDRUlWRUQ9XCJmaXJzdF9hdWRpb19yZWNlaXZlZFwiLHQuRklSU1RfVklERU9fREVDT0RFPVwiZmlyc3RfdmlkZW9fZGVjb2RlXCIsdC5GSVJTVF9BVURJT19ERUNPREU9XCJmaXJzdF9hdWRpb19kZWNvZGVcIix0Lk9OX0FERF9BVURJT19TVFJFQU09XCJvbl9hZGRfYXVkaW9fc3RyZWFtXCIsdC5PTl9BRERfVklERU9fU1RSRUFNPVwib25fYWRkX3ZpZGVvX3N0cmVhbVwiLHQuT05fVVBEQVRFX1NUUkVBTT1cIm9uX3VwZGF0ZV9zdHJlYW1cIix0Lk9OX1JFTU9WRV9TVFJFQU09XCJvbl9yZW1vdmVfc3RyZWFtXCIsdC5VU0VSX0FOQUxZVElDUz1cInJlcV91c2VyX2FuYWx5dGljc1wiLHQuUENfU1RBVFM9XCJwY19zdGF0c1wiLHQuVVBEQVRFX1JFTU9URV9SVFBDQVBBQklMSVRJRVM9XCJ1cGRhdGVfcmVtb3RlX3J0cENhcGFiaWxpdGllc1wiLHR9KHt9KSxKdD1mdW5jdGlvbih0KXtyZXR1cm4gdC5TRVNTSU9OPVwiaW8uYWdvcmEucGIuV3J0Yy5TZXNzaW9uXCIsdC5KT0lOX0NIT09TRV9TRVJWRVI9XCJpby5hZ29yYS5wYi5XcnRjLkpvaW5DaG9vc2VTZXJ2ZXJcIix0LlJFUV9VU0VSX0FDQ09VTlQ9XCJpby5hZ29yYS5wYi5XcnRjLlJlcVVzZXJBY2NvdW50XCIsdC5KT0lOX0dBVEVXQVk9XCJpby5hZ29yYS5wYi5XcnRjLkpvaW5HYXRld2F5XCIsdC5SRV9KT0lOX0dBVEVXQVk9XCJpby5hZ29yYS5wYi5XcnRjLlJlSm9pbkdhdGV3YXlcIix0LlBVQkxJU0g9XCJpby5hZ29yYS5wYi5XcnRjLlB1Ymxpc2hcIix0LlNVQlNDUklCRT1cImlvLmFnb3JhLnBiLldydGMuU3Vic2NyaWJlXCIsdC5XU19DT01QUkVTU09SX0lOSVQ9XCJpby5hZ29yYS5wYi5XcnRjLldzQ29tcHJlc3NvckluaXRcIix0LlNUUkVBTV9TV0lUQ0g9XCJpby5hZ29yYS5wYi5XcnRjLlN0cmVhbVN3aXRjaFwiLHQuQVVESU9fU0VORElOR19TVE9QUEVEPVwiaW8uYWdvcmEucGIuV3J0Yy5BdWRpb1NlbmRpbmdTdG9wcGVkXCIsdC5WSURFT19TRU5ESU5HX1NUT1BQRUQ9XCJpby5hZ29yYS5wYi5XcnRjLlZpZGVvU2VuZGluZ1N0b3BwZWRcIix0LlJFUVVFU1RfUFJPWFlfQVBQQ0VOVEVSPVwiaW8uYWdvcmEucGIuV3J0Yy5SZXF1ZXN0UHJveHlBcHBDZW50ZXJcIix0LlJFUVVFU1RfUFJPWFlfV09SS0VSX01BTkFHRVI9XCJpby5hZ29yYS5wYi5XcnRjLlJlcXVlc3RQcm94eVdvcmtlck1hbmFnZXJcIix0LkFQSV9JTlZPS0U9XCJpby5hZ29yYS5wYi5XcnRjLkFwaUludm9rZVwiLHQuRklSU1RfVklERU9fUkVDRUlWRUQ9XCJpby5hZ29yYS5wYi5XcnRjLkZpcnN0VmlkZW9SZWNlaXZlZFwiLHQuRklSU1RfQVVESU9fUkVDRUlWRUQ9XCJpby5hZ29yYS5wYi5XcnRjLkZpcnN0QXVkaW9SZWNlaXZlZFwiLHQuRklSU1RfVklERU9fREVDT0RFPVwiaW8uYWdvcmEucGIuV3J0Yy5GaXJzdFZpZGVvRGVjb2RlXCIsdC5GSVJTVF9BVURJT19ERUNPREU9XCJpby5hZ29yYS5wYi5XcnRjLkZpcnN0QXVkaW9EZWNvZGVcIix0Lk9OX0FERF9BVURJT19TVFJFQU09XCJpby5hZ29yYS5wYi5XcnRjLk9uQWRkQXVkaW9TdHJlYW1cIix0Lk9OX0FERF9WSURFT19TVFJFQU09XCJpby5hZ29yYS5wYi5XcnRjLk9uQWRkVmlkZW9TdHJlYW1cIix0Lk9OX1VQREFURV9TVFJFQU09XCJpby5hZ29yYS5wYi5XcnRjLk9uVXBkYXRlU3RyZWFtXCIsdC5PTl9SRU1PVkVfU1RSRUFNPVwiaW8uYWdvcmEucGIuV3J0Yy5PblJlbW92ZVN0cmVhbVwiLHQuSk9JTl9DSEFOTkVMX1RJTUVPVVQ9XCJpby5hZ29yYS5wYi5XcnRjLkpvaW5DaGFubmVsVGltZW91dFwiLHQuUEVFUl9QVUJMSVNIX1NUQVRVUz1cImlvLmFnb3JhLnBiLldydGMuUGVlclB1Ymxpc2hTdGF0dXNcIix0LldPUktFUl9FVkVOVD1cImlvLmFnb3JhLnBiLldydGMuV29ya2VyRXZlbnRcIix0LkFQX1dPUktFUl9FVkVOVD1cImlvLmFnb3JhLnBiLldydGMuQVBXb3JrZXJFdmVudFwiLHQuSk9JTl9XRUJfUFJPWFlfQVA9XCJpby5hZ29yYS5wYi5XcnRjLkpvaW5XZWJQcm94eUFQXCIsdC5XRUJTT0NLRVRfUVVJVD1cImlvLmFnb3JhLnBiLldydGMuV2ViU29ja2V0UXVpdFwiLHQuVVNFUl9BTkFMWVRJQ1M9XCJpby5hZ29yYS5wYi5XcnRjLlVzZXJBbmFseXRpY3NcIix0LkFVVE9QTEFZX0ZBSUxFRD1cImlvLmFnb3JhLnBiLldydGMuQXV0b3BsYXlGYWlsZWRcIix0LlBDX1NUQVRTPVwiaW8uYWdvcmEucGIuV3J0Yy5QQ1N0YXRzXCIsdC5VUERBVEVfUkVNT1RFX1JUUENBUEFCSUxJVElFUz1cImlvLmFnb3JhLnBiLldydGMuVXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzXCIsdH0oe30pOyhmdW5jdGlvbih0KXt0W3QuV09SS0VSX0VWRU5UPTE1Nl09XCJXT1JLRVJfRVZFTlRcIix0W3QuQVBfV09SS0VSX0VWRU5UPTE2MF09XCJBUF9XT1JLRVJfRVZFTlRcIjt9KSh7fSk7dmFyIElCPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuU0VTU0lPTj0yNl09XCJTRVNTSU9OXCIsdFt0LkpPSU5fQ0hPT1NFX1NFUlZFUj0yN109XCJKT0lOX0NIT09TRV9TRVJWRVJcIix0W3QuUkVRX1VTRVJfQUNDT1VOVD0xOTZdPVwiUkVRX1VTRVJfQUNDT1VOVFwiLHRbdC5KT0lOX0dBVEVXQVk9MjhdPVwiSk9JTl9HQVRFV0FZXCIsdFt0LlBVQkxJU0g9MzBdPVwiUFVCTElTSFwiLHRbdC5TVUJTQ1JJQkU9MjldPVwiU1VCU0NSSUJFXCIsdFt0LldTX0NPTVBSRVNTT1JfSU5JVD05NDMwXT1cIldTX0NPTVBSRVNTT1JfSU5JVFwiLHRbdC5TVFJFQU1fU1dJVENIPTMyXT1cIlNUUkVBTV9TV0lUQ0hcIix0W3QuQVVESU9fU0VORElOR19TVE9QUEVEPTMzXT1cIkFVRElPX1NFTkRJTkdfU1RPUFBFRFwiLHRbdC5WSURFT19TRU5ESU5HX1NUT1BQRUQ9MzRdPVwiVklERU9fU0VORElOR19TVE9QUEVEXCIsdFt0LlJFUVVFU1RfUFJPWFlfQVBQQ0VOVEVSPTM1XT1cIlJFUVVFU1RfUFJPWFlfQVBQQ0VOVEVSXCIsdFt0LlJFUVVFU1RfUFJPWFlfV09SS0VSX01BTkFHRVI9MzZdPVwiUkVRVUVTVF9QUk9YWV9XT1JLRVJfTUFOQUdFUlwiLHRbdC5BUElfSU5WT0tFPTQxXT1cIkFQSV9JTlZPS0VcIix0W3QuRklSU1RfVklERU9fUkVDRUlWRUQ9MzQ4XT1cIkZJUlNUX1ZJREVPX1JFQ0VJVkVEXCIsdFt0LkZJUlNUX0FVRElPX1JFQ0VJVkVEPTM0OV09XCJGSVJTVF9BVURJT19SRUNFSVZFRFwiLHRbdC5GSVJTVF9WSURFT19ERUNPREU9MzUwXT1cIkZJUlNUX1ZJREVPX0RFQ09ERVwiLHRbdC5GSVJTVF9BVURJT19ERUNPREU9MzUxXT1cIkZJUlNUX0FVRElPX0RFQ09ERVwiLHRbdC5PTl9BRERfQVVESU9fU1RSRUFNPTM1Ml09XCJPTl9BRERfQVVESU9fU1RSRUFNXCIsdFt0Lk9OX0FERF9WSURFT19TVFJFQU09MzUzXT1cIk9OX0FERF9WSURFT19TVFJFQU1cIix0W3QuT05fVVBEQVRFX1NUUkVBTT0zNTZdPVwiT05fVVBEQVRFX1NUUkVBTVwiLHRbdC5PTl9SRU1PVkVfU1RSRUFNPTM1NV09XCJPTl9SRU1PVkVfU1RSRUFNXCIsdFt0LkpPSU5fQ0hBTk5FTF9USU1FT1VUPTQwN109XCJKT0lOX0NIQU5ORUxfVElNRU9VVFwiLHRbdC5QRUVSX1BVQkxJU0hfU1RBVFVTPTQwOF09XCJQRUVSX1BVQkxJU0hfU1RBVFVTXCIsdFt0LldPUktFUl9FVkVOVD0xNTZdPVwiV09SS0VSX0VWRU5UXCIsdFt0LkFQX1dPUktFUl9FVkVOVD0xNjBdPVwiQVBfV09SS0VSX0VWRU5UXCIsdFt0LkpPSU5fV0VCX1BST1hZX0FQPTcwMF09XCJKT0lOX1dFQl9QUk9YWV9BUFwiLHRbdC5XRUJTT0NLRVRfUVVJVD02NzFdPVwiV0VCU09DS0VUX1FVSVRcIix0W3QuVVNFUl9BTkFMWVRJQ1M9MWU0XT1cIlVTRVJfQU5BTFlUSUNTXCIsdFt0LkFVVE9QTEFZX0ZBSUxFRD05MTc4XT1cIkFVVE9QTEFZX0ZBSUxFRFwiLHR9KHt9KSxiYz1jbGFzcyB0e2NvbnN0cnVjdG9yKCl7cmUodGhpcyxcImJhc2VJbmZvTWFwXCIsbmV3IE1hcCkscmUodGhpcyxcInByb3h5U2VydmVyXCIsdm9pZCAwKSxyZSh0aGlzLFwiZXZlbnRVcGxvYWRUaW1lclwiLHZvaWQgMCkscmUodGhpcyxcInNldFNlc3Npb25JZFRpbWVyXCIsdm9pZCAwKSxyZSh0aGlzLFwidXJsXCIsdm9pZCAwKSxyZSh0aGlzLFwiYmFja3VwVXJsXCIsdm9pZCAwKSxyZSh0aGlzLFwiX2FwcElkXCIsdm9pZCAwKSxyZSh0aGlzLFwia2V5RXZlbnRVcGxvYWRQZW5kaW5nSXRlbXNcIixbXSkscmUodGhpcyxcIm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zXCIsW10pLHJlKHRoaXMsXCJhcGlJbnZva2VVcGxvYWRQZW5kaW5nSXRlbXNcIixbXSkscmUodGhpcyxcImFwaUludm9rZUNvdW50XCIsMCkscmUodGhpcyxcImx0c0xpc3RcIixbXSkscmUodGhpcyxcImxhc3RTZW5kTm9ybWFsRXZlbnRUaW1lXCIsRGF0ZS5ub3coKSkscmUodGhpcyxcImN1c3RvbVJlcG9ydENvdW50ZXJUaW1lclwiLHZvaWQgMCkscmUodGhpcyxcImN1c3RvbVJlcG9ydENvdW50XCIsMCkscmUodGhpcyxcImV4dEFwaUludm9rZVwiLGFzeW5jIGU9Pntmb3IobGV0IG4gb2YgZSl7bGV0IGk9b3Qob3Qoe30sbikse30se3NpZDpudWxsLGludm9rZUlkOisrdGhpcy5hcGlJbnZva2VDb3VudCx0YWc6WnQuVFJBQ0VSfSk7dGhpcy5zZW5kQXBpSW52b2tlKGkpO319KSx0aGlzLmV2ZW50VXBsb2FkVGltZXI9d2luZG93LnNldEludGVydmFsKHRoaXMuZG9TZW5kLmJpbmQodGhpcyksdihcIkVWRU5UX1JFUE9SVF9TRU5EX0lOVEVSVkFMXCIpKSx0aGlzLnNldFNlc3Npb25JZFRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLmFwcGVuZFNlc3Npb25JZC5iaW5kKHRoaXMpLHYoXCJFVkVOVF9SRVBPUlRfU0VORF9JTlRFUlZBTFwiKSk7fWdldEJhc2VJbmZvQnlTZXNzaW9uSWQoZSl7cmV0dXJuIHRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpfWFkanVzdFNlc3Npb25TdGFydFRpbWUoZSl7aWYoIXRoaXMuYmFzZUluZm9NYXAuaGFzKGUpJiYhdGhpcy5iYXNlSW5mb01hcC5nZXQoZSkpcmV0dXJuIHZvaWQgXy5lcnJvcihcImFkanVzdCBzZXNzaW9uIFwiLmNvbmNhdChlLFwiIHN0YXJ0IHRpbWUsIHNpZCBpcyBub3QgZXhpc3Qgb3IgaW5mbyBpcyB1bmRlZmluZWRcIikpO2xldCBuPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpLGk9RGF0ZS5ub3coKSxyPW4uc3RhcnRUaW1lO24uc3RhcnRUaW1lPWksXy5kZWJ1ZyhcInJld3JpdGUgc2Vzc2lvbiBcIi5jb25jYXQoZSxcIiBzdGFydFRpbWU6IFwiKS5jb25jYXQoaSxcIiAsIFwiKS5jb25jYXQoaS1yLFwibXNcIikpLHRoaXMuYmFzZUluZm9NYXAuc2V0KGUsbik7fXNldEFwcElkKGUpe3RoaXMuX2FwcElkPWU7fXJlcG9ydEFwaUludm9rZShlLG4saSl7bi50aW1lb3V0PW4udGltZW91dHx8NmU0LG4ucmVwb3J0UmVzdWx0PW4ucmVwb3J0UmVzdWx0PT09dm9pZCAwfHxuLnJlcG9ydFJlc3VsdDtsZXQgcj1EYXRlLm5vdygpO3RoaXMuYXBpSW52b2tlQ291bnQrPTE7bGV0IG89dGhpcy5hcGlJbnZva2VDb3VudCxzPSgpPT4oe3RhZzpuLnRhZyxpbnZva2VJZDpvLHNpZDplLG5hbWU6bi5uYW1lLGFwaUludm9rZVRpbWU6cixvcHRpb25zOm4ub3B0aW9ucyxzdGF0ZXM6bi5zdGF0ZXN8fG51bGx9KSxhPSEhdihcIlNIT1dfUkVQT1JUX0lOVk9LRVJfTE9HXCIpO2EmJl8uaW5mbyhcIlwiLmNvbmNhdChuLm5hbWUsXCIgc3RhcnRcIiksbi5vcHRpb25zKTtsZXQgYz0hMTtNZShuLnRpbWVvdXQpLnRoZW4oKCk9PntjfHwodGhpcy5zZW5kQXBpSW52b2tlKG90KG90KHt9LHMoKSkse30se2Vycm9yOlIuQVBJX0lOVk9LRV9USU1FT1VULHN1Y2Nlc3M6ITF9KSksXy5kZWJ1ZyhcIlwiLmNvbmNhdChuLm5hbWUsXCIgdGltZW91dFwiKSkpO30pO2xldCBkPW5ldyBOKFIuVU5FWFBFQ1RFRF9FUlJPUixcIlwiLmNvbmNhdChuLm5hbWUsXCI6IHRoaXMgYXBpIGludm9rZSBpcyBlbmRcIikpO3JldHVybiB7b25TdWNjZXNzOmw9PntsZXQgdT0oKT0+e2lmKGMpdGhyb3cgZDtyZXR1cm4gYz0hMCx0aGlzLnNlbmRBcGlJbnZva2Uob3Qob3Qoe30scygpKSx7fSx7c3VjY2VzczohMH0sbi5yZXBvcnRSZXN1bHQmJntyZXN1bHQ6bH0pKSxhJiZfLmluZm8oXCJcIi5jb25jYXQobi5uYW1lLFwiIG9uU3VjY2Vzc1wiKSksbH07cmV0dXJuIGk/UlIodSxuLm5hbWUrXCJTdWNjZXNzXCIsaSwoKT0+Yz0hMCk6dSgpfSxvbkVycm9yOmw9PntsZXQgdT0oKT0+e2lmKGMpdGhyb3cgbDtjPSEwLHRoaXMuc2VuZEFwaUludm9rZShvdChvdCh7fSxzKCkpLHt9LHtzdWNjZXNzOiExLGVycm9yOmx9KSksYSYmXy5pbmZvKFwiXCIuY29uY2F0KG4ubmFtZSxcIiBvbkZhaWx1cmVcIiksbC50b1N0cmluZygpKTt9O3JldHVybiBpP1JSKHUsbi5uYW1lK1wiRXJyb3JcIixpLCgpPT5jPSEwKTp1KCl9fX1zZXNzaW9uSW5pdChlLG4pe2lmKHRoaXMuYmFzZUluZm9NYXAuaGFzKGUpKXJldHVybjtsZXQgaT1EYXRlLm5vdygpLHI9dGhpcy5jcmVhdGVCYXNlSW5mbyhlLGkpO3IuY25hbWU9bi5jbmFtZTtsZXQgbz1PYmplY3QuYXNzaWduKHt9LHt3aWxsVXBsb2FkQ29uc29sZUxvZzp2KFwiVVBMT0FEX0xPR1wiKSxtYXhUb3VjaFBvaW50czpuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMsYXJlYVZlcnNpb246cGY/XCJnbG9iYWxcIjpcIm92ZXJzZWFcIixhcmVhczp2KFwiQVJFQVNcIikmJnYoXCJBUkVBU1wiKS5qb2luKFwiLFwiKX0sbi5leHRlbmQpLHtzdHJpbmdVaWQ6cyxjaGFubmVsUHJvZmlsZTphLGNoYW5uZWxNb2RlOmMsaXNBQlRlc3RTdWNjZXNzOmQsbHNpZDpsLGNsaWVudFJvbGU6dX09bixoPURhdGUubm93KCkscD1vdChvdCh7fSxyKSx7fSx7ZXZlbnRUeXBlOkRlLlNFU1NJT05fSU5JVCxhcHBpZDpuLmFwcGlkLGJyb3dzZXI6bmF2aWdhdG9yLnVzZXJBZ2VudCxidWlsZEZvcm1hdDpuLmJ1aWxkRm9ybWF0LGJ1aWxkOkVmLGx0czpoLGVsYXBzZTpoLWksZXh0ZW5kOkpTT04uc3RyaW5naWZ5KG8pLG1vZGU6bi5tb2RlLHByb2Nlc3M6dihcIlBST0NFU1NfSURcIiksYXBwVHlwZTp2KFwiQVBQX1RZUEVcIiksc3VjY2VzczohMCx2ZXJzaW9uOmlpLHN0cmluZ1VpZDpzLGNoYW5uZWxQcm9maWxlOmEsY2hhbm5lbE1vZGU6Yyxpc0FCVGVzdFN1Y2Nlc3M6ZCxsc2lkOmwsY2xpZW50VHlwZTpXKGc9d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpLmNhbGwoZyxcIkFnb3JhV2ViVmlld1wiKT80MjoyMCxjbGllbnRSb2xlOnUsc2VydmljZUlkOnYoXCJQUk9DRVNTX0lEXCIpLGV4dGVuc2lvbklEOnYoXCJQTFVHSU5fSU5GT1wiKS5qb2luKFwiLFwiKXx8XCJcIn0pO3ZhciBnO3RoaXMuc2VuZCh7dHlwZTpKdC5TRVNTSU9OLGRhdGE6cH0sITApO31qb2luQ2hvb3NlU2VydmVyKGUsbil7bGV0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2xldCByPWkuaW5mbyxvPURhdGUubm93KCkscz1vdChvdCh7fSxyKSx7fSx7ZXZlbnRUeXBlOkRlLkpPSU5fQ0hPT1NFX1NFUlZFUixsdHM6byxldmVudEVsYXBzZTpuLmVsYXBzZXx8by1uLmx0cyxjaG9vc2VTZXJ2ZXJBZGRyOm4uY3NBZGRyLGVycm9yQ29kZTpuLmVjLGVsYXBzZTpvLWkuc3RhcnRUaW1lLHN1Y2Nlc3M6bi5zdWNjLGNob29zZVNlcnZlckFkZHJMaXN0OkpTT04uc3RyaW5naWZ5KG4uc2VydmVyTGlzdCksdWlkOm4udWlkP3BhcnNlSW50KG4udWlkKTpudWxsLGNpZDpuLmNpZD9wYXJzZUludChuLmNpZCk6bnVsbCxjaG9vc2VTZXJ2ZXJJcDpuLmNzSXB8fFwiXCIsb3BpZDpuLm9waWQsdW5pbGJzU2VydmVySWRzOm4udW5pbGJzU2VydmVySWRzLGV4dGVuZDpuLmV4dGVuZHx8dm9pZCAwLGlzSHR0cDM6bi5pc0h0dHAzfSk7dGhpcy5zZW5kKHt0eXBlOkp0LkpPSU5fQ0hPT1NFX1NFUlZFUixkYXRhOnN9LCEwKTt9cmVxVXNlckFjY291bnQoZSxuKXtsZXQgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47bGV0IHI9aS5pbmZvLG89RGF0ZS5ub3coKSxzPW90KG90KHt9LHIpLHt9LHtldmVudFR5cGU6RGUuUkVRX1VTRVJfQUNDT1VOVCxsdHM6byxzdWNjZXNzOm4uc3VjY2VzcyxzZXJ2ZXJBZGRyZXNzOm4uc2VydmVyQWRkcixzdHJpbmdVaWQ6bi5zdHJpbmdVaWQsdWlkOm4udWlkLGVycm9yQ29kZTpuLmVycm9yQ29kZSxlbGFwc2U6bi5lbGFwc2V8fG8taS5zdGFydFRpbWUsZXZlbnRFbGFwc2U6by1uLmx0cyxleHRlbmQ6SlNPTi5zdHJpbmdpZnkobi5leHRlbmQpfSk7dGhpcy5zZW5kKHt0eXBlOkp0LlJFUV9VU0VSX0FDQ09VTlQsZGF0YTpzfSwhMCk7fWpvaW5HYXRld2F5KGUsbil7bGV0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2xldCByPWkuaW5mbztuLnZpZCYmKHIudmlkPW4udmlkKSxyLnVpZD1uLnVpZCxyLmNpZD1uLmNpZDtsZXQgbz1EYXRlLm5vdygpLHtmaXJzdFN1Y2Nlc3M6cyxhdm9pZEpvaW5TdGFydFRpbWU6YX09bixjPW8tKHMmJmE/YTppLnN0YXJ0VGltZSksZD1vdChvdCh7fSxyKSx7fSx7ZXZlbnRUeXBlOkRlLkpPSU5fR0FURVdBWSxsdHM6byxnYXRld2F5QWRkcjpuLmFkZHIsc3VjY2VzczpuLnN1Y2MsZXJyb3JDb2RlOm4uZWMsZXJyb3JNc2c6bi5lcnJvck1zZ3x8XCJcIixlbGFwc2U6YyxldmVudEVsYXBzZTpvLW4ubHRzLGZpcnN0U3VjY2VzczpzLHNpZ25hbENoYW5uZWw6bi5zaWduYWxDaGFubmVsLHByZWxvYWQ6bi5wcmVsb2FkPzE6MH0pO24uc3VjYyYmKGkubGFzdEpvaW5TdWNjZXNzVGltZT1vKSx0aGlzLnNlbmQoe3R5cGU6SnQuSk9JTl9HQVRFV0FZLGRhdGE6ZH0sITApO31qb2luQ2hhbm5lbFRpbWVvdXQoZSxuKXtsZXQgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47bGV0IHI9RGF0ZS5ub3coKSxvPW90KG90KHt9LGkuaW5mbykse30se2x0czpyLHRpbWVvdXQ6bixlbGFwc2U6ci1pLnN0YXJ0VGltZX0pO3RoaXMuc2VuZCh7dHlwZTpKdC5KT0lOX0NIQU5ORUxfVElNRU9VVCxkYXRhOm99LCEwKTt9cHVibGlzaChlLG4pe2xldCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtsZXQgcj1pLmluZm8sbz1EYXRlLm5vdygpLHM9b3Qob3Qoe30scikse30se2V2ZW50VHlwZTpEZS5QVUJMSVNILGx0czpvLGV2ZW50RWxhcHNlOm4uZXZlbnRFbGFwc2UsZWxhcHNlOm8taS5zdGFydFRpbWUsc3VjY2VzczpuLnN1Y2MsZXJyb3JDb2RlOm4uZWMsdmlkZW9OYW1lOm4udmlkZW9OYW1lLGF1ZGlvTmFtZTpuLmF1ZGlvTmFtZSxzY3JlZW5OYW1lOm4uc2NyZWVuTmFtZSxzY3JlZW5zaGFyZTpuLnNjcmVlbnNoYXJlLGF1ZGlvOm4uYXVkaW8sdmlkZW86bi52aWRlbyxwMnBpZDpuLnAycGlkLHB1Ymxpc2hSZXF1ZXN0aWQ6bi5wdWJsaXNoUmVxdWVzdGlkfSk7dGhpcy5zZW5kKHt0eXBlOkp0LlBVQkxJU0gsZGF0YTpzfSwhMCk7fXN1YnNjcmliZShlLG4saSl7bGV0IHI9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIXIpcmV0dXJuO2xldCBvPXIuaW5mbyxzPURhdGUubm93KCksYT1vdChvdCh7fSxvKSx7fSx7ZXZlbnRUeXBlOkRlLlNVQlNDUklCRSxsdHM6cyxldmVudEVsYXBzZTpuLmV2ZW50RWxhcHNlLGVsYXBzZTpzLXIuc3RhcnRUaW1lLHN1Y2Nlc3M6bi5zdWNjLGVycm9yQ29kZTpuLmVjLHZpZGVvOm4udmlkZW8sYXVkaW86bi5hdWRpbyxzdWJzY3JpYmVSZXF1ZXN0aWQ6bi5zdWJzY3JpYmVSZXF1ZXN0aWQscDJwaWQ6bi5wMnBpZCxwcmVTc3JjOm4ucHJlU3NyYz8xOjB9LGkmJntleHRlbmQ6SlNPTi5zdHJpbmdpZnkoe2lzTWFzc1N1YnNjcmliZTohMH0pfSk7dHlwZW9mIG4ucGVlcmlkPT1cInN0cmluZ1wiP2EucGVlclN1aWQ9bi5wZWVyaWQ6YS5wZWVyPW4ucGVlcmlkLHRoaXMuc2VuZCh7dHlwZTpKdC5TVUJTQ1JJQkUsZGF0YTphfSwhMCk7fXdzQ29tcHJlc3NvckluaXQoZSl7dmFyIG47bGV0IGk9Wy4uLnhuKG49dGhpcy5iYXNlSW5mb01hcCkuY2FsbChuKV0scj1pLmxlbmd0aD9pWzBdOlwiVW5hYmxlVG9HZXRTaWRcIixvPXRoaXMuYmFzZUluZm9NYXAuZ2V0KHIpO2lmKCFvKXJldHVybjtsZXQgcz1vLmluZm8sYT1EYXRlLm5vdygpLGM9b3Qob3Qoe30scykse30se2V2ZW50VHlwZTpEZS5XU19DT01QUkVTU09SX0lOSVQsbHRzOmEsZXZlbnRFbGFwc2U6ZS5ldmVudEVsYXBzZSxlbGFwc2U6YS1vLnN0YXJ0VGltZSxzdGF0dXM6ZS5zdGF0dXM/MToyfSk7dGhpcy5zZW5kKHt0eXBlOkp0LldTX0NPTVBSRVNTT1JfSU5JVCxkYXRhOmN9LCEwKTt9Zmlyc3RSZW1vdGVWaWRlb0RlY29kZShlLG4saSxyKXtsZXQgbz10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighbylyZXR1cm47bGV0IHM9by5pbmZvLGE9RGF0ZS5ub3coKSxjPW90KG90KG90KHt9LHMpLHIpLHt9LHtlbGFwc2U6YS1vLnN0YXJ0VGltZSxldmVudFR5cGU6bixsdHM6YSxmaXJzdERlY29kZUZyYW1lOk1hdGgubWF4KChyLmZpcnN0RnJhbWV8fGEpLW8uc3RhcnRUaW1lLDApLGFwRW5kOk1hdGgubWF4KHIuYXBFbmQtby5zdGFydFRpbWUsMCksYXBTdGFydDpNYXRoLm1heChyLmFwU3RhcnQtby5zdGFydFRpbWUsMCksam9pbkd3RW5kOk1hdGgubWF4KHIuam9pbkd3RW5kLW8uc3RhcnRUaW1lLDApLGpvaW5Hd1N0YXJ0Ok1hdGgubWF4KHIuam9pbkd3U3RhcnQtby5zdGFydFRpbWUsMCkscGNFbmQ6TWF0aC5tYXgoci5wY0VuZC1vLnN0YXJ0VGltZSwwKSxwY1N0YXJ0Ok1hdGgubWF4KHIucGNTdGFydC1vLnN0YXJ0VGltZSwwKSxzdWJzY3JpYmVyRW5kOk1hdGgubWF4KHIuc3Vic2NyaWJlckVuZC1vLnN0YXJ0VGltZSwwKSxzdWJzY3JpYmVyU3RhcnQ6TWF0aC5tYXgoci5zdWJzY3JpYmVyU3RhcnQtby5zdGFydFRpbWUsMCksdmlkZW9BZGROb3RpZnk6TWF0aC5tYXgoci52aWRlb0FkZE5vdGlmeS1vLnN0YXJ0VGltZSwwKX0pO3RoaXMuc2VuZCh7dHlwZTppLGRhdGE6Y30sITApO31maXJzdFJlbW90ZUZyYW1lKGUsbixpLHIpe2xldCBvPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFvKXJldHVybjtsZXQgcz1vLmluZm8sYT1EYXRlLm5vdygpLGM9b3Qob3Qob3Qoe30scykscikse30se2VsYXBzZTphLW8uc3RhcnRUaW1lLGV2ZW50VHlwZTpuLGx0czphfSk7dGhpcy5zZW5kKHt0eXBlOmksZGF0YTpjfSwhMCk7fXBjU3RhdHMoZSxuKXtsZXQgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47bGV0IHI9aS5pbmZvLG89RGF0ZS5ub3coKSxzPW90KG90KG90KHt9LHIpLG4pLHt9LHt2aWQ6ci52aWQ9PT12b2lkIDA/MDpOdW1iZXIoci52aWQpLGVsYXBzZTpvLWkuc3RhcnRUaW1lLGV2ZW50VHlwZTpEZS5QQ19TVEFUUyxsdHM6byxwcmVhbGxvY2F0aW9uOm4ucHJlYWxsb2NhdGlvbj8xOjB9KTt0aGlzLnNlbmQoe3R5cGU6SnQuUENfU1RBVFMsZGF0YTpzfSwhMCk7fXVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhlLG4pe2lmKGUpe2xldCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtsZXQgcj1pLmluZm8sbz1EYXRlLm5vdygpLHM9b3Qob3Qob3Qoe30sciksbikse30se3ZpZDpyLnZpZD09PXZvaWQgMD8wOk51bWJlcihyLnZpZCksZXZlbnRUeXBlOkRlLlVQREFURV9SRU1PVEVfUlRQQ0FQQUJJTElUSUVTLGx0czpvfSk7dGhpcy5zZW5kKHt0eXBlOkp0LlVQREFURV9SRU1PVEVfUlRQQ0FQQUJJTElUSUVTLGRhdGE6c30sITApO319b25HYXRld2F5U3RyZWFtKGUsbixpLHIpe2xldCBvPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFvKXJldHVybjtsZXQgcz1vLmluZm8sYT1EYXRlLm5vdygpLGM9b3Qob3Qob3Qoe30scykscikse30se2V2ZW50VHlwZTpuLGx0czphfSk7dGhpcy5zZW5kKHt0eXBlOmksZGF0YTpjfSwhMCk7fXN0cmVhbVN3aXRjaChlLG4pe2xldCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtsZXQgcj1pLmluZm8sbz1EYXRlLm5vdygpLHM9b3Qob3Qoe30scikse30se2V2ZW50VHlwZTpEZS5TVFJFQU1fU1dJVENILGx0czpvLGlzRHVhbDpuLmlzZHVhbCxlbGFwc2U6by1pLnN0YXJ0VGltZSxzdWNjZXNzOm4uc3VjY30pO3RoaXMuc2VuZCh7dHlwZTpKdC5TVFJFQU1fU1dJVENILGRhdGE6c30sITApO31yZXF1ZXN0UHJveHlBcHBDZW50ZXIoZSxuKXtsZXQgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47bGV0IHI9aS5pbmZvLG89RGF0ZS5ub3coKSxzPW90KG90KHt9LHIpLHt9LHtldmVudFR5cGU6RGUuUkVRVUVTVF9QUk9YWV9BUFBDRU5URVIsbHRzOm8sZXZlbnRFbGFwc2U6by1uLmx0cyxlbGFwc2U6by1pLnN0YXJ0VGltZSxBUEFkZHI6bi5BUEFkZHIsd29ya2VyTWFuYWdlckxpc3Q6bi53b3JrZXJNYW5hZ2VyTGlzdCxyZXNwb25zZTpuLnJlc3BvbnNlLGVycm9yQ29kZTpuLmVjLHN1Y2Nlc3M6bi5zdWNjfSk7dGhpcy5zZW5kKHt0eXBlOkp0LlJFUVVFU1RfUFJPWFlfQVBQQ0VOVEVSLGRhdGE6c30sITApO31yZXF1ZXN0UHJveHlXb3JrZXJNYW5hZ2VyKGUsbil7bGV0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2xldCByPWkuaW5mbyxvPURhdGUubm93KCkscz1vdChvdCh7fSxyKSx7fSx7ZXZlbnRUeXBlOkRlLlJFUVVFU1RfUFJPWFlfV09SS0VSX01BTkFHRVIsbHRzOm8sZXZlbnRFbGFwc2U6by1uLmx0cyxlbGFwc2U6by1pLnN0YXJ0VGltZSx3b3JrZXJNYW5hZ2VyQWRkcjpuLndvcmtlck1hbmFnZXJBZGRyLHJlc3BvbnNlOm4ucmVzcG9uc2UsZXJyb3JDb2RlOm4uZWMsc3VjY2VzczpuLnN1Y2N9KTt0aGlzLnNlbmQoe3R5cGU6SnQuUkVRVUVTVF9QUk9YWV9XT1JLRVJfTUFOQUdFUixkYXRhOnN9LCEwKTt9c2V0UHJveHlTZXJ2ZXIoZSl7dGhpcy5wcm94eVNlcnZlcj1lLGU/Xy5kZWJ1ZyhcInJlcG9ydFByb3h5U2VydmVydXJsOiBcIi5jb25jYXQoZSkpOl8uZGVidWcoXCJkaXNhYmxlIHJlcG9ydFByb3h5U2VydmVydXJsOiBcIi5jb25jYXQoZSkpO31wZWVyUHVibGlzaFN0YXR1cyhlLG4pe2xldCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtsZXQgcj1pLmluZm8sbz1EYXRlLm5vdygpLHM9b3Qob3Qoe30scikse30se3N1YnNjcmliZUVsYXBzZTpuLnN1YnNjcmliZUVsYXBzZSxwZWVyOm4ucGVlcixwZWVyUHVibGlzaER1cmF0aW9uOk1hdGgubWF4KG4uYXVkaW9QdWJsaXNoRHVyYXRpb24sbi52aWRlb1B1Ymxpc2hEdXJhdGlvbiksYXVkaW90YWc6bi5hdWRpb1B1Ymxpc2hEdXJhdGlvbj4wPzE6LTEsdmlkZW90YWc6bi52aWRlb1B1Ymxpc2hEdXJhdGlvbj4wPzE6LTEsbHRzOm8sZWxhcHNlOm8taS5zdGFydFRpbWUsam9pbkNoYW5uZWxTdWNjZXNzRWxhcHNlOm8tKGkubGFzdEpvaW5TdWNjZXNzVGltZXx8bykscGVlclB1Ymxpc2hEdXJhdGlvblZpZGVvOm4udmlkZW9QdWJsaXNoRHVyYXRpb24scGVlclB1Ymxpc2hEdXJhdGlvbkF1ZGlvOm4uYXVkaW9QdWJsaXNoRHVyYXRpb259KTt0aGlzLnNlbmQoe3R5cGU6SnQuUEVFUl9QVUJMSVNIX1NUQVRVUyxkYXRhOnN9LCEwKTt9d29ya2VyRXZlbnQoZSxuKXtsZXQgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47bGV0IHI9aS5pbmZvLG89RGF0ZS5ub3coKTsoZnVuY3Rpb24ocyxhLGMpe2xldCBkPXNbYV07aWYoIWR8fHR5cGVvZiBkIT1cInN0cmluZ1wiKXJldHVybiBbc107c1thXT1cIlwiO2xldCBsPWFyKEpTT04uc3RyaW5naWZ5KHMpKSx1PTAsaD1bXSxwPTA7Zm9yKGxldCBnPTA7ZzxkLmxlbmd0aDtnKyspcCs9ZC5jaGFyQ29kZUF0KGcpPD0xMjc/MTozLHA8PWMtbHx8KGhbaC5sZW5ndGhdPUooSih7fSxzKSx7fSx7W2FdOmQuc3Vic3RyaW5nKHUsZyl9KSx1PWcscD1kLmNoYXJDb2RlQXQoZyk8PTEyNz8xOjMpO3JldHVybiB1IT09ZC5sZW5ndGgtMSYmKGhbaC5sZW5ndGhdPUooSih7fSxzKSx7fSx7W2FdOmQuc3Vic3RyaW5nKHUpfSkpLGh9KShvdChvdChvdCh7fSxyKSxuKSx7fSx7ZWxhcHNlOm8taS5zdGFydFRpbWUsbHRzOm8scHJvZHVjdFR5cGU6XCJXZWJSVENcIn0pLFwicGF5bG9hZFwiLDEzMDApLmZvckVhY2gocz0+dGhpcy5zZW5kKHt0eXBlOkp0LldPUktFUl9FVkVOVCxkYXRhOnN9LCEwKSk7fWFwd29ya2VyRXZlbnQoZSxuKXtsZXQgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47bGV0IHI9aS5pbmZvLG89RGF0ZS5ub3coKSxzPW90KG90KG90KHt9LHIpLG4pLHt9LHtlbGFwc2U6by1pLnN0YXJ0VGltZSxsdHM6b30pO3RoaXMuc2VuZCh7dHlwZTpKdC5BUF9XT1JLRVJfRVZFTlQsZGF0YTpzfSwhMCk7fWpvaW5XZWJQcm94eUFQKGUsbil7bGV0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2xldCByPWkuaW5mbyxvPURhdGUubm93KCkscz1vdChvdChvdCh7fSxyKSxuKSx7fSx7ZWxhcHNlOm8taS5zdGFydFRpbWUsbHRzOm8sZXh0ZW5kOm4uZXh0ZW5kfHx2b2lkIDB9KTt0aGlzLnNlbmQoe3R5cGU6SnQuSk9JTl9XRUJfUFJPWFlfQVAsZGF0YTpzfSwhMCk7fVdlYlNvY2tldFF1aXQoZSxuKXtsZXQgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47bGV0IHI9aS5pbmZvLG89RGF0ZS5ub3coKSxzPW90KG90KG90KHt9LHIpLG4pLHt9LHtlbGFwc2U6by1pLnN0YXJ0VGltZSxsdHM6b30pO3RoaXMuc2VuZCh7dHlwZTpKdC5XRUJTT0NLRVRfUVVJVCxkYXRhOnN9LCEwKTt9YXN5bmMgc2VuZEN1c3RvbVJlcG9ydE1lc3NhZ2UoZSxuKXtpZih0aGlzLmN1c3RvbVJlcG9ydENvdW50Kz1uLmxlbmd0aCx0aGlzLmN1c3RvbVJlcG9ydENvdW50PnYoXCJDVVNUT01fUkVQT1JUX0xJTUlUXCIpKXRocm93IG5ldyBOKFIuQ1VTVE9NX1JFUE9SVF9GUkVRVUVOQ1lfVE9PX0hJR0gpO3RoaXMuY3VzdG9tUmVwb3J0Q291bnRlclRpbWVyfHwodGhpcy5jdXN0b21SZXBvcnRDb3VudGVyVGltZXI9d2luZG93LnNldEludGVydmFsKCgpPT57dGhpcy5jdXN0b21SZXBvcnRDb3VudD0wO30sNWUzKSk7bGV0IGk9RGF0ZS5ub3coKSxyPW4ubWFwKG89Pih7dHlwZTpKdC5VU0VSX0FOQUxZVElDUyxkYXRhOm90KG90KHtzaWQ6ZX0sbykse30se2x0czppfSl9KSk7dHJ5e3YoXCJORVdfUkVQT1JUX1NFUlZFUlwiKT9hd2FpdCB0aGlzLnBvc3REYXRhVG9TdGF0c0NvbGxlY3RvcjIocik6YXdhaXQgdGhpcy5wb3N0RGF0YVRvU3RhdHNDb2xsZWN0b3Iocik7fWNhdGNoKG8pe3Rocm93IF8uZXJyb3IoXCJzZW5kIGN1c3RvbSByZXBvcnQgbWVzc2FnZSBmYWlsZWRcIixvLnRvU3RyaW5nKCkpLG5ldyBOKFIuQ1VTVE9NX1JFUE9SVF9TRU5EX0ZBSUxFRCxvLm1lc3NhZ2UpfX1zZW5kQXBpSW52b2tlKGUpe2xldCBuPXYoXCJOT1RfUkVQT1JUX0VWRU5UXCIpO2lmKGUudGFnJiZXKG4pJiZXKG4pLmNhbGwobixlLnRhZykpcmV0dXJuICExO2lmKGUuc2lkPT09bnVsbClyZXR1cm4gdGhpcy5hcGlJbnZva2VVcGxvYWRQZW5kaW5nSXRlbXMucHVzaChlKSwhMTtsZXQgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlLnNpZCk7aWYoIWkpcmV0dXJuIHRoaXMuYXBpSW52b2tlVXBsb2FkUGVuZGluZ0l0ZW1zLnB1c2goZSksITE7bGV0e2NuYW1lOnIsdWlkOm8sY2lkOnN9PWkuaW5mbyxhO2lmKGUubHRzPWUubHRzfHxEYXRlLm5vdygpLGUuZXJyb3IpaWYoZS5lcnJvciBpbnN0YW5jZW9mIE4pe2xldHtjb2RlOmQsbWVzc2FnZTpsfT1lLmVycm9yO2E9ZHx8bHx8ZS5lcnJvci50b1N0cmluZygpO31lbHNlIGE9ZS5lcnJvci50b1N0cmluZygpO2xldCBjPXtpbnZva2VJZDplLmludm9rZUlkLHNpZDplLnNpZCxjbmFtZTpyLGNpZDpzLHVpZDpvLGx0czplLmx0cyxzdWNjZXNzOmUuc3VjY2VzcyxlbGFwc2U6ZS5sdHMtaS5zdGFydFRpbWUsZXhlY0VsYXBzZTplLmx0cy1lLmFwaUludm9rZVRpbWUsYXBpTmFtZTplLm5hbWUsb3B0aW9uczplLm9wdGlvbnM/SlNPTi5zdHJpbmdpZnkoZS5vcHRpb25zKTp2b2lkIDAsZXhlY1N0YXRlczplLnN0YXRlcz9KU09OLnN0cmluZ2lmeShlLnN0YXRlcyk6dm9pZCAwLGV4ZWNSZXN1bHQ6ZS5yZXN1bHQ/SlNPTi5zdHJpbmdpZnkoZS5yZXN1bHQpOnZvaWQgMCxlcnJvckNvZGU6ZS5lcnJvcj9hOnZvaWQgMCxlcnJvck1zZzplLmVycm9yP0pTT04uc3RyaW5naWZ5KGUuZXJyb3IpOnZvaWQgMH07cmV0dXJuIHRoaXMuc2VuZCh7dHlwZTpKdC5BUElfSU5WT0tFLGRhdGE6Y30sITEpLCEwfWFwcGVuZFNlc3Npb25JZCgpe3QuX19DTElFTlRfTElTVF9fLmZvckVhY2goZT0+e2lmKGUuX3Nlc3Npb25JZCl7bGV0IG49dGhpcy5hcGlJbnZva2VVcGxvYWRQZW5kaW5nSXRlbXMubGVuZ3RoO2ZvcihsZXQgaT0wO2k8bjtpKyspe2xldCByPXRoaXMuYXBpSW52b2tlVXBsb2FkUGVuZGluZ0l0ZW1zLnNoaWZ0KCk7ciYmKHIuc2lkPWUuX3Nlc3Npb25JZCx0aGlzLnNlbmRBcGlJbnZva2UoT2JqZWN0LmFzc2lnbih7fSxyKSkpO319fSk7fXNlbmQoZSxuKXtpZihuKXJldHVybiB0aGlzLmtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLnB1c2goZSksdm9pZCB0aGlzLnNlbmRJdGVtcyh0aGlzLmtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLCEwKTt0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLnB1c2goZSksdGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5sZW5ndGg+dihcIk5PUk1BTF9FVkVOVF9RVUVVRV9DQVBBQ0lUWVwiKSYmdGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5zcGxpY2UoMCwxKSx0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLmxlbmd0aD49MTAmJnRoaXMuc2VuZEl0ZW1zKHRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMsITEpO31kb1NlbmQoKXt0aGlzLmtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLmxlbmd0aD4wJiZ0aGlzLnNlbmRJdGVtcyh0aGlzLmtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLCEwKSx0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLmxlbmd0aD4wJiZEYXRlLm5vdygpLXRoaXMubGFzdFNlbmROb3JtYWxFdmVudFRpbWU+PTVlMyYmdGhpcy5zZW5kSXRlbXModGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcywhMSk7fXNlbmRJdGVtcyhlLG4pe2xldCBpPVtdLHI9W107Zm9yKDtlLmxlbmd0aDspe2xldCBzPWUuc2hpZnQoKTtpLmxlbmd0aDwyMD9pLnB1c2gocyk6ci5wdXNoKHMpO31lLnB1c2goLi4ucik7Zm9yKGxldCBzIG9mIFsuLi5pXSl7dmFyIG87dGhpcy5sdHNMaXN0LmluZGV4T2Yocy5kYXRhLmx0cykhPT0tMT8ocy5kYXRhLmx0cz10aGlzLmx0c0xpc3RbdGhpcy5sdHNMaXN0Lmxlbmd0aC0xXSsxLHRoaXMubHRzTGlzdC5wdXNoKHMuZGF0YS5sdHMpKToodGhpcy5sdHNMaXN0LnB1c2gocy5kYXRhLmx0cyksZWQobz10aGlzLmx0c0xpc3QpLmNhbGwobywoYSxjKT0+YS1jKSk7fXJldHVybiBufHwodGhpcy5sYXN0U2VuZE5vcm1hbEV2ZW50VGltZT1EYXRlLm5vdygpKSx2KFwiRU5BQkxFX0VWRU5UX1JFUE9SVFwiKSYmaS5sZW5ndGgmJih2KFwiTkVXX1JFUE9SVF9TRVJWRVJcIik/dGhpcy5wb3N0RGF0YVRvU3RhdHNDb2xsZWN0b3IyKGkpOnRoaXMucG9zdERhdGFUb1N0YXRzQ29sbGVjdG9yKGkpKS5jYXRjaCgocz0+YT0+e3YoXCJFVkVOVF9SRVBPUlRfUkVUUllcIikmJihuP3RoaXMua2V5RXZlbnRVcGxvYWRQZW5kaW5nSXRlbXM9dGhpcy5rZXlFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5jb25jYXQocyk6KHRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXM9dGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5jb25jYXQocyksdGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5sZW5ndGg+dihcIk5PUk1BTF9FVkVOVF9RVUVVRV9DQVBBQ0lUWVwiKSYmKHRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMuc3BsaWNlKDAsdGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5sZW5ndGgtdihcIk5PUk1BTF9FVkVOVF9RVUVVRV9DQVBBQ0lUWVwiKSksXy53YXJuaW5nKFwicmVwb3J0OiBkcm9wIG5vcm1hbCBldmVudHNcIikpKSk7fSkoaSkpLGV9YXN5bmMgcG9zdERhdGFUb1N0YXRzQ29sbGVjdG9yMihlKXtoZS5uZXR3b3JrU3RhdGU9PT13bi5PRkZMSU5FJiZhd2FpdCBqLnJhY2UoW2hlLm9ubGluZVdhaXRlcixNZSgyKkVlLm1heFJldHJ5VGltZW91dCldKTtsZXQgbj1vPT57bGV0IHM9bmV3IFVpbnQ4QXJyYXk7cmV0dXJuIG8uZm9yRWFjaChhPT57bGV0IGM9dWYoSlNPTi5zdHJpbmdpZnkoYS5kYXRhKSksZD1uZXcgQXJyYXlCdWZmZXIoNSksbD0oaD0+e2xldCBwPTA7cmV0dXJuIE9iamVjdC5lbnRyaWVzKEp0KS5mb3JFYWNoKGc9PntsZXRbRSxmXT1nO2Y9PT1oLnR5cGUmJihwPUlCW0VdKTt9KSxwfSkoYSksdT1uZXcgRGF0YVZpZXcoZCk7dS5zZXRVaW50MTYoMCxjLmJ5dGVMZW5ndGgsITApLHUuc2V0VWludDgoMiwyNTUmbCksdS5zZXRVaW50OCgzLGw+Pj44JjI1NSksdS5zZXRVaW50OCg0LGw+Pj4xNiYyNTUpLHM9RVIocyxuZXcgVWludDhBcnJheShkKSkscz1FUihzLGMpO30pLHN9LGk9XCJldmVudFwiLHI9dGhpcy5wcm94eVNlcnZlcj9cImh0dHBzOi8vXCIuY29uY2F0KHRoaXMucHJveHlTZXJ2ZXIsXCIvcnMvP2g9XCIpLmNvbmNhdCh2KFwiTkVXX1JFUE9SVF9TRVJWRVJfRE9NQUlOU1wiKVswXSxcIiZwPTQ0MyZkPVwiKS5jb25jYXQoaSk6XCJodHRwczovL1wiLmNvbmNhdCh2KFwiTkVXX1JFUE9SVF9TRVJWRVJfRE9NQUlOU1wiKVswXSxcIi9cIikuY29uY2F0KGkpO2ZvcihsZXQgbz0wO288MjtvKz0xKXtvPT09MSYmKHI9dGhpcy5wcm94eVNlcnZlcj9cImh0dHBzOi8vXCIuY29uY2F0KHRoaXMucHJveHlTZXJ2ZXIsXCIvcnMvP2g9XCIpLmNvbmNhdCh2KFwiTkVXX1JFUE9SVF9TRVJWRVJfRE9NQUlOU1wiKVsxXSxcIiZwPTQ0MyZkPVwiKS5jb25jYXQoaSk6XCJodHRwczovL1wiLmNvbmNhdCh2KFwiTkVXX1JFUE9SVF9TRVJWRVJfRE9NQUlOU1wiKVsxXSxcIi9cIikuY29uY2F0KGkpKTt0cnl7YXdhaXQgTEUocix7dGltZW91dDoxZTQsZGF0YTpuKGUpLGhlYWRlcnM6b3Qob3Qoe2JpejpcIndlYnJ0Y1wiLHNlbmR0czpNYXRoLnJvdW5kKERhdGUubm93KCkvMWUzKSxkZWJ1ZzpcImZhbHNlXCJ9LHRoaXMuX2FwcElkJiZ7YXBwaWQ6dGhpcy5fYXBwSWR9KSx7fSx7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwifSl9LCEwKTt9Y2F0Y2gocyl7aWYobz09PTEpdGhyb3cgcztjb250aW51ZX1yZXR1cm59fWFzeW5jIHBvc3REYXRhVG9TdGF0c0NvbGxlY3RvcihlKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMCYmYXJndW1lbnRzWzFdLGk9e21zZ1R5cGU6XCJFdmVudE1lc3NhZ2VzXCIsc2VudFRzOk1hdGgucm91bmQoRGF0ZS5ub3coKS8xZTMpLHBheWxvYWRzOmUubWFwKHM9PkpTT04uc3RyaW5naWZ5KHMpKSx2aWQ6KHM9PntsZXQgYT1zJiZzLmRhdGEuc2lkJiZ0aGlzLmJhc2VJbmZvTWFwLmdldChzLmRhdGEuc2lkKTtyZXR1cm4gYSYmYS5pbmZvLnZpZCYmK2EuaW5mby52aWR8fDB9KShlWzBdKX07aGUubmV0d29ya1N0YXRlPT09d24uT0ZGTElORSYmYXdhaXQgai5yYWNlKFtoZS5vbmxpbmVXYWl0ZXIsTWUoMipFZS5tYXhSZXRyeVRpbWVvdXQpXSk7bGV0IHI9bj9cIi9ldmVudHMvcHJvdG8tcmF3c1wiOlwiL2V2ZW50cy9tZXNzYWdlc1wiLG89dGhpcy51cmx8fCh0aGlzLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQodGhpcy5wcm94eVNlcnZlcixcIi9ycy8/aD1cIikuY29uY2F0KHYoXCJFVkVOVF9SRVBPUlRfRE9NQUlOXCIpLFwiJnA9XCIpLmNvbmNhdCh2KFwiU1RBVFNfQ09MTEVDVE9SX1BPUlRcIiksXCImZD1cIikuY29uY2F0KHIpOlwiaHR0cHM6Ly9cIi5jb25jYXQodihcIkVWRU5UX1JFUE9SVF9ET01BSU5cIiksXCI6XCIpLmNvbmNhdCh2KFwiU1RBVFNfQ09MTEVDVE9SX1BPUlRcIikpLmNvbmNhdChyKSk7Zm9yKGxldCBzPTA7czwyO3MrPTEpe3M9PT0xJiYobz10aGlzLmJhY2t1cFVybHx8KHRoaXMucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdCh0aGlzLnByb3h5U2VydmVyLFwiL3JzLz9oPVwiKS5jb25jYXQodihcIkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOXCIpLFwiJnA9XCIpLmNvbmNhdCh2KFwiU1RBVFNfQ09MTEVDVE9SX1BPUlRcIiksXCImZD1cIikuY29uY2F0KHIpOlwiaHR0cHM6Ly9cIi5jb25jYXQodihcIkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOXCIpLFwiOlwiKS5jb25jYXQodihcIlNUQVRTX0NPTExFQ1RPUl9QT1JUXCIpKS5jb25jYXQocikpKTt0cnl7bj9hd2FpdCBnQihvLHt0aW1lb3V0OjFlNCxkYXRhOml9KTphd2FpdCBMRShvLHt0aW1lb3V0OjFlNCxkYXRhOml9KTt9Y2F0Y2goYSl7aWYocz09PTEpdGhyb3cgYTtjb250aW51ZX1yZXR1cm59fWNyZWF0ZUJhc2VJbmZvKGUsbil7bGV0IGk9T2JqZWN0LmFzc2lnbih7fSxDQik7cmV0dXJuIGkuc2lkPWUsdGhpcy5iYXNlSW5mb01hcC5zZXQoZSx7aW5mbzppLHN0YXJ0VGltZTpufSksaX1yZXBvcnRSZXNvdXJjZVRpbWluZyhlLG4pe2xldCBpPXBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUoZSkscj1pW2kubGVuZ3RoLTFdO3ImJnRoaXMucmVwb3J0QXBpSW52b2tlKG4se25hbWU6XCJDbGllbnQucmVzb3VyY2VUaW1pbmdcIixvcHRpb25zOnIsdGFnOlp0LlRSQUNFUn0pLm9uU3VjY2VzcygpO319O2Z1bmN0aW9uICQoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e307cmV0dXJuIGZ1bmN0aW9uKGUsbixpKXtsZXQgcj1pLnZhbHVlO2lmKHR5cGVvZiByPT1cImZ1bmN0aW9uXCIpe2xldCBvPXQuY2xhc3NOYW1lfHxlLl9fY2xhc3NOYW1lX198fChlLmNvbnN0cnVjdG9yLm5hbWU9PT1cIkFnb3JhUlRDQ2xpZW50XCI/XCJDbGllbnRcIjplLmNvbnN0cnVjdG9yLm5hbWUpO2kudmFsdWU9ZnVuY3Rpb24oKXtmb3IodmFyIHM9YXJndW1lbnRzLmxlbmd0aCxhPW5ldyBBcnJheShzKSxjPTA7YzxzO2MrKylhW2NdPWFyZ3VtZW50c1tjXTtsZXQgZD1hO2lmKHQuYXJnc01hcCl0cnl7ZD10LmFyZ3NNYXAodGhpcywuLi5hKTt9Y2F0Y2godSl7Xy53YXJuaW5nKHUpLGQ9W107fXRyeXtKU09OLnN0cmluZ2lmeShkKTt9Y2F0Y2h7Xy53YXJuaW5nKFwiYXJndW1lbnRzIGZvciBtZXRob2QgXCIuY29uY2F0KG8sXCIuXCIpLmNvbmNhdChTdHJpbmcobiksXCIgbm90IHNlcmlhbGl6YWJsZSBmb3IgYXBpSW52b2tlLlwiKSksZD1bXTt9bGV0IGw9KHQucmVwb3J0fHxYKS5yZXBvcnRBcGlJbnZva2UodGhpcy5fc2Vzc2lvbklkfHxudWxsLHtuYW1lOlwiXCIuY29uY2F0KG8sXCIuXCIpLmNvbmNhdChTdHJpbmcobikpLG9wdGlvbnM6ZCx0YWc6WnQuVFJBQ0VSLHJlcG9ydFJlc3VsdDp0LnJlcG9ydFJlc3VsdH0sdC50aHJvdHRsZVRpbWUpO3RyeXtsZXQgdT1yLmFwcGx5KHRoaXMsYSk7cmV0dXJuIHUgaW5zdGFuY2VvZiBqP3UudGhlbihoPT4obC5vblN1Y2Nlc3ModC5yZXBvcnRSZXN1bHQmJmgpLGgpKS5jYXRjaChoPT57dGhyb3cgbC5vbkVycm9yKGgpLGh9KToobC5vblN1Y2Nlc3ModC5yZXBvcnRSZXN1bHQmJnUpLHUpfWNhdGNoKHUpe3Rocm93IGwub25FcnJvcih1KSx1fX07fXJldHVybiBpfX1yZShiYyxcIl9fQ0xJRU5UX0xJU1RfX1wiLFtdKTt2YXIgWD1uZXcgYmM7d08ub24oXCJSRVBPUlRfTE9HX1VQTE9BRFwiLHQ9Pnt0Lm5ldHdvcmtTdGF0ZT1oZS5uZXR3b3JrU3RhdGUsWC5yZXBvcnRBcGlJbnZva2UobnVsbCx7bmFtZTpcImxvZ1VwbG9hZEVycm9yXCIsb3B0aW9uczp0LHRhZzpadC5UUkFDRVJ9KS5vblN1Y2Nlc3MoXCJsb2dVcGxvYWRFcnJvclwiKTt9KTt2YXIgdkI9W1wiQ0hJTkFcIixcIkdMT0JBTFwiXSxWZT1mdW5jdGlvbigpe2xldCB0PVwidXNcIi5jb25jYXQoXCJlcm5hXCIsXCJtZVwiKSxlPVwicGFcIi5jb25jYXQoXCJzc3dvXCIsXCJyZFwiKSxuPVtcInRcIixcInNcIixcInRcIl07bi5zcGxpY2UoMSwwLFwiZVwiKTtsZXQgaT1uLmpvaW4oXCJcIikscj1bXTtmb3IobGV0IGE9MDthPDY7YSsrKXIucHVzaChcIjFcIik7bGV0IG89ci5qb2luKFwiXCIpLHM9e307cmV0dXJuIHNbdF09aSxzW2VdPW8sT2JqZWN0LmFzc2lnbihzLHt0dXJuU2VydmVyVVJMOlwiXCIsdGNwcG9ydDozNDMzLHVkcHBvcnQ6MzQ3OCxmb3JjZXR1cm46ITF9KX0oKTt3aW5kb3cuREVGQVVMVF9UVVJOX0NPTkZJRz1WZSxwZnx8KG9lLldFQkNTX0RPTUFJTj1bXCJhcC13ZWItMS1vdmVyc2VhLmFnb3JhLmlvXCIsXCJhcC13ZWItMS1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLG9lLldFQkNTX0RPTUFJTl9CQUNLVVBfTElTVD1bXCJhcC13ZWItMi1vdmVyc2VhLmFnb3JhLmlvXCIsXCJhcC13ZWItMi1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLG9lLlBST1hZX0NTPVtcInByb3h5LWFwLXdlYi1vdmVyc2VhLmFnb3JhLmlvXCIsXCJwcm94eS1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiXSxvZS5DRFNfQVA9W1wiY2RzLWFwLXdlYi1vdmVyc2VhLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItYW1lcmljYTIuYWdvcmEuaW9cIl0sb2UuQUNDT1VOVF9SRUdJU1RFUj1bXCJzdWEtYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1hbWVyaWNhMi5hZ29yYS5pb1wiXSxvZS5VQVBfQVA9W1widWFwLWFwLXdlYi1vdmVyc2VhLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItYW1lcmljYTIuYWdvcmEuaW9cIl0sb2UuTE9HX1VQTE9BRF9TRVJWRVI9XCJsb2dzZXJ2aWNlLW92ZXJzZWEuYWdvcmEuaW9cIixvZS5FVkVOVF9SRVBPUlRfRE9NQUlOPVwic3RhdHNjb2xsZWN0b3ItMS1vdmVyc2VhLmFnb3JhLmlvXCIsb2UuRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU49XCJzdGF0c2NvbGxlY3Rvci0yLW92ZXJzZWEuYWdvcmEuaW9cIixvZS5QUk9YWV9TRVJWRVJfVFlQRTM9XCJ3ZWJydGMtY2xvdWQtcHJveHkuYWdvcmEuaW9cIixvZS5BUkVBUz1bXCJOT1JUSF9BTUVSSUNBXCIsXCJPVkVSU0VBXCJdKTt2YXIgT089W1swLDEsMiwzLDQsNSw1XSxbMCwyLDIsMyw0LDUsNV0sWzAsMywzLDMsNCw1LDVdLFswLDQsNCw0LDQsNSw1XSxbMCw1LDUsNSw1LDUsNV1dLEpyPVtdO2Z1bmN0aW9uIElvKHQsZSl7cmV0dXJuICEhZSYmSnIuc29tZShuPT5uLnVpZD09PXQmJm4uY2hhbm5lbE5hbWU9PT1lKX1iYy5fX0NMSUVOVF9MSVNUX189SnI7dmFyIHlCPWJ3LmZvckVhY2gsTlI9TnUoXCJmb3JFYWNoXCIpP1tdLmZvckVhY2g6ZnVuY3Rpb24odCl7cmV0dXJuIHlCKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9O3h0KHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpbXS5mb3JFYWNoIT1OUn0se2ZvckVhY2g6TlJ9KTt2YXIgQUI9YmkoXCJBcnJheVwiKS5mb3JFYWNoLGJCPUVyLHdCPUplLE9CPWhuLE5CPUFCLERwPUFycmF5LnByb3RvdHlwZSxEQj17RE9NVG9rZW5MaXN0OiEwLE5vZGVMaXN0OiEwfSxQQj1mdW5jdGlvbih0KXt2YXIgZT10LmZvckVhY2g7cmV0dXJuIHQ9PT1EcHx8T0IoRHAsdCkmJmU9PT1EcC5mb3JFYWNofHx3QihEQixiQih0KSk/TkI6ZX0sa0I9YWUoUEIpLExCPV9yLERSPUx1O3h0KHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDpTZShmdW5jdGlvbigpe0RSKDEpO30pfSx7a2V5czpmdW5jdGlvbih0KXtyZXR1cm4gRFIoTEIodCkpfX0pO3ZhciBOTz1hZShHaS5PYmplY3Qua2V5cyksTUI9YWUoVkEpLFVCPXh0LHhCPW5kLFZCPW1lKFtdLnJldmVyc2UpLFBSPVsxLDJdO1VCKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpTdHJpbmcoUFIpPT09U3RyaW5nKFBSLnJldmVyc2UoKSl9LHtyZXZlcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIHhCKHRoaXMpJiYodGhpcy5sZW5ndGg9dGhpcy5sZW5ndGgpLFZCKHRoaXMpfX0pO3ZhciBGQj1iaShcIkFycmF5XCIpLnJldmVyc2UsQkI9aG4sakI9RkIsUHA9QXJyYXkucHJvdG90eXBlLEdCPWZ1bmN0aW9uKHQpe3ZhciBlPXQucmV2ZXJzZTtyZXR1cm4gdD09PVBwfHxCQihQcCx0KSYmZT09PVBwLnJldmVyc2U/akI6ZX0sRE89R0IsV0I9YWUoRE8pLEhCPXh0LGtSPW5kLEtCPXh1LFlCPUhuLExSPU9tLHFCPUxyLHpCPUVvLEpCPUJ1LFhCPXBlLFFCPUdtLFpCPUl3KFwic2xpY2VcIiksJEI9WEIoXCJzcGVjaWVzXCIpLGtwPUFycmF5LHRqPU1hdGgubWF4O0hCKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohWkJ9LHtzbGljZTpmdW5jdGlvbih0LGUpe3ZhciBuLGkscixvPXpCKHRoaXMpLHM9cUIobyksYT1MUih0LHMpLGM9TFIoZT09PXZvaWQgMD9zOmUscyk7aWYoa1IobykmJihuPW8uY29uc3RydWN0b3IsKEtCKG4pJiYobj09PWtwfHxrUihuLnByb3RvdHlwZSkpfHxZQihuKSYmKG49blskQl0pPT09bnVsbCkmJihuPXZvaWQgMCksbj09PWtwfHxuPT09dm9pZCAwKSlyZXR1cm4gUUIobyxhLGMpO2ZvcihpPW5ldyhuPT09dm9pZCAwP2twOm4pKHRqKGMtYSwwKSkscj0wO2E8YzthKysscisrKWEgaW4gbyYmSkIoaSxyLG9bYV0pO3JldHVybiBpLmxlbmd0aD1yLGl9fSk7dmFyIGVqPWJpKFwiQXJyYXlcIikuc2xpY2Usbmo9aG4saWo9ZWosTHA9QXJyYXkucHJvdG90eXBlLHJqPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc2xpY2U7cmV0dXJuIHQ9PT1McHx8bmooTHAsdCkmJmU9PT1McC5zbGljZT9pajplfSxvaj1hZShyaik7ZnVuY3Rpb24gcSh0LGUsbixpLHIpe3ZhciBvLHMsYSxjPXt9O3JldHVybiBrQihvPU5PKGkpKS5jYWxsKG8sZnVuY3Rpb24oZCl7Y1tkXT1pW2RdO30pLGMuZW51bWVyYWJsZT0hIWMuZW51bWVyYWJsZSxjLmNvbmZpZ3VyYWJsZT0hIWMuY29uZmlndXJhYmxlLChcInZhbHVlXCJpbiBjfHxjLmluaXRpYWxpemVyKSYmKGMud3JpdGFibGU9ITApLGM9TUIocz1XQihhPW9qKG4pLmNhbGwobikpLmNhbGwoYSkpLmNhbGwocyxmdW5jdGlvbihkLGwpe3JldHVybiBsKHQsZSxkKXx8ZH0sYyksciYmYy5pbml0aWFsaXplciE9PXZvaWQgMCYmKGMudmFsdWU9Yy5pbml0aWFsaXplcj9jLmluaXRpYWxpemVyLmNhbGwocik6dm9pZCAwLGMuaW5pdGlhbGl6ZXI9dm9pZCAwKSxjLmluaXRpYWxpemVyPT09dm9pZCAwJiYoUncodCxlLGMpLGM9bnVsbCksY312YXIgeEU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuTDFUMT1cIkwxVDFcIix0LkwxVDI9XCJMMVQyXCIsdC5MMVQzPVwiTDFUM1wiLHQuTDFUM19LRVk9XCJMMVQzX0tFWVwiLHQuTDJUMV9LRVk9XCJMMlQxX0tFWVwiLHQuTDJUMl9LRVk9XCJMMlQyX0tFWVwiLHQuTDJUM19LRVk9XCJMMlQzX0tFWVwiLHQuTDNUMV9LRVk9XCJMM1QxX0tFWVwiLHQuTDNUMl9LRVk9XCJMM1QyX0tFWVwiLHQuTDNUM19LRVk9XCJMM1QzX0tFWVwiLHR9KHt9KSxrbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5DRVJUSUZJQ0FURT1cImNlcnRpZmljYXRlXCIsdC5DT0RFQz1cImNvZGVjXCIsdC5DQU5ESURBVEVfUEFJUj1cImNhbmRpZGF0ZS1wYWlyXCIsdC5MT0NBTF9DQU5ESURBVEU9XCJsb2NhbC1jYW5kaWRhdGVcIix0LlJFTU9URV9DQU5ESURBVEU9XCJyZW1vdGUtY2FuZGlkYXRlXCIsdC5JTkJPVU5EPVwiaW5ib3VuZC1ydHBcIix0LlRSQUNLPVwidHJhY2tcIix0Lk9VVEJPVU5EPVwib3V0Ym91bmQtcnRwXCIsdC5QQz1cInBlZXItY29ubmVjdGlvblwiLHQuUkVNT1RFX0lOQk9VTkQ9XCJyZW1vdGUtaW5ib3VuZC1ydHBcIix0LlJFTU9URV9PVVRCT1VORD1cInJlbW90ZS1vdXRib3VuZC1ydHBcIix0LlRSQU5TUE9SVD1cInRyYW5zcG9ydFwiLHQuQ1NSQz1cImNzcmNcIix0LkRBVEFfQ0hBTk5FTD1cImRhdGEtY2hhbm5lbFwiLHQuU1RSRUFNPVwic3RyZWFtXCIsdC5TRU5ERVI9XCJzZW5kZXJcIix0LlJFQ0VJVkVSPVwicmVjZWl2ZXJcIix0fSh7fSksZ2w9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5BQ0NFU1NfUE9JTlQ9MTAxXT1cIkFDQ0VTU19QT0lOVFwiLHRbdC5VTklMQlM9MjAxXT1cIlVOSUxCU1wiLHRbdC5TVFJJTkdfVUlEX0FMTE9DQVRPUj05MDFdPVwiU1RSSU5HX1VJRF9BTExPQ0FUT1JcIix0fSh7fSksTXA9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5JSUlFR0FMX0FQUElEPTFdPVwiSUlJRUdBTF9BUFBJRFwiLHRbdC5JSUlFR0FMX1VJRD0yXT1cIklJSUVHQUxfVUlEXCIsdFt0LklOVEVSTkFMX0VSUk9SPTNdPVwiSU5URVJOQUxfRVJST1JcIix0fSh7fSksY2k9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5JTlZBTElEX1ZFTkRPUl9LRVk9NV09XCJJTlZBTElEX1ZFTkRPUl9LRVlcIix0W3QuSU5WQUxJRF9DSEFOTkVMX05BTUU9N109XCJJTlZBTElEX0NIQU5ORUxfTkFNRVwiLHRbdC5JTlRFUk5BTF9FUlJPUj04XT1cIklOVEVSTkFMX0VSUk9SXCIsdFt0Lk5PX0FVVEhPUklaRUQ9OV09XCJOT19BVVRIT1JJWkVEXCIsdFt0LkRZTkFNSUNfS0VZX1RJTUVPVVQ9MTBdPVwiRFlOQU1JQ19LRVlfVElNRU9VVFwiLHRbdC5OT19BQ1RJVkVfU1RBVFVTPTExXT1cIk5PX0FDVElWRV9TVEFUVVNcIix0W3QuRFlOQU1JQ19LRVlfRVhQSVJFRD0xM109XCJEWU5BTUlDX0tFWV9FWFBJUkVEXCIsdFt0LlNUQVRJQ19VU0VfRFlOQU1JQ19LRVk9MTRdPVwiU1RBVElDX1VTRV9EWU5BTUlDX0tFWVwiLHRbdC5EWU5BTUlDX1VTRV9TVEFUSUNfS0VZPTE1XT1cIkRZTkFNSUNfVVNFX1NUQVRJQ19LRVlcIix0W3QuVVNFUl9PVkVSTE9BRD0xNl09XCJVU0VSX09WRVJMT0FEXCIsdFt0LkZPUkJJRERFTl9SRUdJT049MThdPVwiRk9SQklEREVOX1JFR0lPTlwiLHRbdC5DQU5OT1RfTUVFVF9BUkVBX0RFTUFORD0xOV09XCJDQU5OT1RfTUVFVF9BUkVBX0RFTUFORFwiLHR9KHt9KSxvbj1mdW5jdGlvbih0KXtyZXR1cm4gdFt0Lk5PX0ZMQUdfU0VUPTEwMF09XCJOT19GTEFHX1NFVFwiLHRbdC5GTEFHX1NFVF9CVVRfRU1QVFk9MTAxXT1cIkZMQUdfU0VUX0JVVF9FTVBUWVwiLHRbdC5JTlZBTElEX0ZBTEdfU0VUPTEwMl09XCJJTlZBTElEX0ZBTEdfU0VUXCIsdFt0LkZMQUdfU0VUX0JVVF9OT19SRT0xMDNdPVwiRkxBR19TRVRfQlVUX05PX1JFXCIsdFt0LklOVkFMSURfU0VSVklDRV9JRD0xMDRdPVwiSU5WQUxJRF9TRVJWSUNFX0lEXCIsdFt0Lk5PX1NFUlZJQ0VfQVZBSUxBQkxFPTIwMF09XCJOT19TRVJWSUNFX0FWQUlMQUJMRVwiLHRbdC5OT19TRVJWSUNFX0FWQUlMQUJMRV9QMlA9MjAxXT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1AyUFwiLHRbdC5OT19TRVJWSUNFX0FWQUlMQUJMRV9WT0lDRT0yMDJdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfVk9JQ0VcIix0W3QuTk9fU0VSVklDRV9BVkFJTEFCTEVfV0VCUlRDPTIwM109XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9XRUJSVENcIix0W3QuTk9fU0VSVklDRV9BVkFJTEFCTEVfQ0RTPTIwNF09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9DRFNcIix0W3QuTk9fU0VSVklDRV9BVkFJTEFCTEVfQ0ROPTIwNV09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9DRE5cIix0W3QuTk9fU0VSVklDRV9BVkFJTEFCTEVfVERTPTIwNl09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9URFNcIix0W3QuTk9fU0VSVklDRV9BVkFJTEFCTEVfUkVQT1JUPTIwN109XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9SRVBPUlRcIix0W3QuTk9fU0VSVklDRV9BVkFJTEFCTEVfQVBQX0NFTlRFUj0yMDhdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfQVBQX0NFTlRFUlwiLHRbdC5OT19TRVJWSUNFX0FWQUlMQUJMRV9FTlYwPTIwOV09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9FTlYwXCIsdFt0Lk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1ZPRVQ9MjEwXT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1ZPRVRcIix0W3QuTk9fU0VSVklDRV9BVkFJTEFCTEVfU1RSSU5HX1VJRD0yMTFdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfU1RSSU5HX1VJRFwiLHRbdC5OT19TRVJWSUNFX0FWQUlMQUJMRV9XRUJSVENfVU5JTEJTPTIxMl09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9XRUJSVENfVU5JTEJTXCIsdFt0Lk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1VOSUxCU19GTFY9MjEzXT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1VOSUxCU19GTFZcIix0fSh7fSksWj1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LktfVElNRVNUQU1QX0VYUElSRUQ9Ml09XCJLX1RJTUVTVEFNUF9FWFBJUkVEXCIsdFt0LktfQ0hBTk5FTF9QRVJNSVNTSU9OX0lOVkFMSUQ9M109XCJLX0NIQU5ORUxfUEVSTUlTU0lPTl9JTlZBTElEXCIsdFt0LktfQ0VSVElGSUNBVEVfSU5WQUxJRD00XT1cIktfQ0VSVElGSUNBVEVfSU5WQUxJRFwiLHRbdC5LX0NIQU5ORUxfTkFNRV9FTVBUWT01XT1cIktfQ0hBTk5FTF9OQU1FX0VNUFRZXCIsdFt0LktfQ0hBTk5FTF9OT1RfRk9VTkQ9Nl09XCJLX0NIQU5ORUxfTk9UX0ZPVU5EXCIsdFt0LktfVElDS0VUX0lOVkFMSUQ9N109XCJLX1RJQ0tFVF9JTlZBTElEXCIsdFt0LktfQ0hBTk5FTF9DT05GTElDVEVEPThdPVwiS19DSEFOTkVMX0NPTkZMSUNURURcIix0W3QuS19TRVJWSUNFX05PVF9SRUFEWT05XT1cIktfU0VSVklDRV9OT1RfUkVBRFlcIix0W3QuS19TRVJWSUNFX1RPT19IRUFWWT0xMF09XCJLX1NFUlZJQ0VfVE9PX0hFQVZZXCIsdFt0LktfVUlEX0JBTk5FRD0xNF09XCJLX1VJRF9CQU5ORURcIix0W3QuS19JUF9CQU5ORUQ9MTVdPVwiS19JUF9CQU5ORURcIix0W3QuS19DSEFOTkVMX0JBTk5FRD0xNl09XCJLX0NIQU5ORUxfQkFOTkVEXCIsdFt0LktfQVVUT19SRUJBTEFOQ0U9MjhdPVwiS19BVVRPX1JFQkFMQU5DRVwiLHRbdC5XQVJOX05PX0FWQUlMQUJMRV9DSEFOTkVMPTEwM109XCJXQVJOX05PX0FWQUlMQUJMRV9DSEFOTkVMXCIsdFt0LldBUk5fTE9PS1VQX0NIQU5ORUxfVElNRU9VVD0xMDRdPVwiV0FSTl9MT09LVVBfQ0hBTk5FTF9USU1FT1VUXCIsdFt0LldBUk5fTE9PS1VQX0NIQU5ORUxfUkVKRUNURUQ9MTA1XT1cIldBUk5fTE9PS1VQX0NIQU5ORUxfUkVKRUNURURcIix0W3QuV0FSTl9PUEVOX0NIQU5ORUxfVElNRU9VVD0xMDZdPVwiV0FSTl9PUEVOX0NIQU5ORUxfVElNRU9VVFwiLHRbdC5XQVJOX09QRU5fQ0hBTk5FTF9SRUpFQ1RFRD0xMDddPVwiV0FSTl9PUEVOX0NIQU5ORUxfUkVKRUNURURcIix0W3QuV0FSTl9SRVFVRVNUX0RFRkVSUkVEPTEwOF09XCJXQVJOX1JFUVVFU1RfREVGRVJSRURcIix0W3QuRVJSX0RZTkFNSUNfS0VZX1RJTUVPVVQ9MTA5XT1cIkVSUl9EWU5BTUlDX0tFWV9USU1FT1VUXCIsdFt0LkVSUl9OT19BVVRIT1JJWkVEPTExMF09XCJFUlJfTk9fQVVUSE9SSVpFRFwiLHRbdC5FUlJfVk9NX1NFUlZJQ0VfVU5BVkFJTEFCTEU9MTExXT1cIkVSUl9WT01fU0VSVklDRV9VTkFWQUlMQUJMRVwiLHRbdC5FUlJfTk9fQ0hBTk5FTF9BVkFJTEFCTEVfQ09ERT0xMTJdPVwiRVJSX05PX0NIQU5ORUxfQVZBSUxBQkxFX0NPREVcIix0W3QuRVJSX01BU1RFUl9WT0NTX1VOQVZBSUxBQkxFPTExNF09XCJFUlJfTUFTVEVSX1ZPQ1NfVU5BVkFJTEFCTEVcIix0W3QuRVJSX0lOVEVSTkFMX0VSUk9SPTExNV09XCJFUlJfSU5URVJOQUxfRVJST1JcIix0W3QuRVJSX05PX0FDVElWRV9TVEFUVVM9MTE2XT1cIkVSUl9OT19BQ1RJVkVfU1RBVFVTXCIsdFt0LkVSUl9JTlZBTElEX1VJRD0xMTddPVwiRVJSX0lOVkFMSURfVUlEXCIsdFt0LkVSUl9EWU5BTUlDX0tFWV9FWFBJUkVEPTExOF09XCJFUlJfRFlOQU1JQ19LRVlfRVhQSVJFRFwiLHRbdC5FUlJfU1RBVElDX1VTRV9EWUFOTUlDX0tFPTExOV09XCJFUlJfU1RBVElDX1VTRV9EWUFOTUlDX0tFXCIsdFt0LkVSUl9EWU5BTUlDX1VTRV9TVEFUSUNfS0U9MTIwXT1cIkVSUl9EWU5BTUlDX1VTRV9TVEFUSUNfS0VcIix0W3QuRVJSX05PX1ZPQ1NfQVZBSUxBQkxFPTJlM109XCJFUlJfTk9fVk9DU19BVkFJTEFCTEVcIix0W3QuRVJSX05PX1ZPU19BVkFJTEFCTEU9MjAwMV09XCJFUlJfTk9fVk9TX0FWQUlMQUJMRVwiLHRbdC5FUlJfSk9JTl9DSEFOTkVMX1RJTUVPVVQ9MjAwMl09XCJFUlJfSk9JTl9DSEFOTkVMX1RJTUVPVVRcIix0W3QuRVJSX1JFUEVBVF9KT0lOX0NIQU5ORUw9MjAwM109XCJFUlJfUkVQRUFUX0pPSU5fQ0hBTk5FTFwiLHRbdC5FUlJfSk9JTl9CWV9NVUxUSV9JUD0yMDA0XT1cIkVSUl9KT0lOX0JZX01VTFRJX0lQXCIsdFt0LkVSUl9OT1RfSk9JTkVEPTIwMTFdPVwiRVJSX05PVF9KT0lORURcIix0W3QuRVJSX1JFUEVBVF9KT0lOX1JFUVVFU1Q9MjAxMl09XCJFUlJfUkVQRUFUX0pPSU5fUkVRVUVTVFwiLHRbdC5FUlJfSU5WQUxJRF9WRU5ET1JfS0VZPTIwMTNdPVwiRVJSX0lOVkFMSURfVkVORE9SX0tFWVwiLHRbdC5FUlJfSU5WQUxJRF9DSEFOTkVMX05BTUU9MjAxNF09XCJFUlJfSU5WQUxJRF9DSEFOTkVMX05BTUVcIix0W3QuRVJSX0lOVkFMSURfU1RSSU5HVUlEPTIwMTVdPVwiRVJSX0lOVkFMSURfU1RSSU5HVUlEXCIsdFt0LkVSUl9UT09fTUFOWV9VU0VSUz0yMDE2XT1cIkVSUl9UT09fTUFOWV9VU0VSU1wiLHRbdC5FUlJfU0VUX0NMSUVOVF9ST0xFX1RJTUVPVVQ9MjAxN109XCJFUlJfU0VUX0NMSUVOVF9ST0xFX1RJTUVPVVRcIix0W3QuRVJSX1NFVF9DTElFTlRfUk9MRV9OT19QRVJNSVNTSU9OPTIwMThdPVwiRVJSX1NFVF9DTElFTlRfUk9MRV9OT19QRVJNSVNTSU9OXCIsdFt0LkVSUl9TRVRfQ0xJRU5UX1JPTEVfQUxSRUFEWV9JTl9VU0U9MjAxOV09XCJFUlJfU0VUX0NMSUVOVF9ST0xFX0FMUkVBRFlfSU5fVVNFXCIsdFt0LkVSUl9QVUJMSVNIX1JFUVVFU1RfSU5WQUxJRD0yMDIwXT1cIkVSUl9QVUJMSVNIX1JFUVVFU1RfSU5WQUxJRFwiLHRbdC5FUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRD0yMDIxXT1cIkVSUl9TVUJTQ1JJQkVfUkVRVUVTVF9JTlZBTElEXCIsdFt0LkVSUl9OT1RfU1VQUE9SVEVEX01FU1NBR0U9MjAyMl09XCJFUlJfTk9UX1NVUFBPUlRFRF9NRVNTQUdFXCIsdFt0LkVSUl9JTExFQUdBTF9QTFVHSU49MjAyM109XCJFUlJfSUxMRUFHQUxfUExVR0lOXCIsdFt0LkVSUl9SRUpPSU5fVE9LRU5fSU5WQUxJRD0yMDI0XT1cIkVSUl9SRUpPSU5fVE9LRU5fSU5WQUxJRFwiLHRbdC5FUlJfUkVKT0lOX1VTRVJfTk9UX0pPSU5FRD0yMDI1XT1cIkVSUl9SRUpPSU5fVVNFUl9OT1RfSk9JTkVEXCIsdFt0LkVSUl9JTlZBTElEX09QVElPTkFMX0lORk89MjAyN109XCJFUlJfSU5WQUxJRF9PUFRJT05BTF9JTkZPXCIsdFt0LklMTEVHQUxfQUVTX1BBU1NXT1JEPTIwMjhdPVwiSUxMRUdBTF9BRVNfUEFTU1dPUkRcIix0W3QuSUxMRUdBTF9DTElFTlRfUk9MRV9MRVZFTD0yMDI5XT1cIklMTEVHQUxfQ0xJRU5UX1JPTEVfTEVWRUxcIix0W3QuRVJSX1RPT19NQU5ZX0JST0FEQ0FTVEVSUz0yMDMxXT1cIkVSUl9UT09fTUFOWV9CUk9BRENBU1RFUlNcIix0W3QuRVJSX1RPT19NQU5ZX1NVQlNDUklCRVJTPTIwMzJdPVwiRVJSX1RPT19NQU5ZX1NVQlNDUklCRVJTXCIsdFt0LkVSUl9MSUNFTlNFX01JU1NJTkc9MzI3NjldPVwiRVJSX0xJQ0VOU0VfTUlTU0lOR1wiLHRbdC5FUlJfTElDRU5TRV9FWFBJUkVEPTMyNzcxXT1cIkVSUl9MSUNFTlNFX0VYUElSRURcIix0W3QuRVJSX0xJQ0VOU0VfTUlOVVRFU19FWENFRURFRD0zMjc3M109XCJFUlJfTElDRU5TRV9NSU5VVEVTX0VYQ0VFREVEXCIsdFt0LkVSUl9MSUNFTlNFX1BFUklPRF9JTlZBTElEPTMyNzc0XT1cIkVSUl9MSUNFTlNFX1BFUklPRF9JTlZBTElEXCIsdFt0LkVSUl9MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFPTMyNzc4XT1cIkVSUl9MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFXCIsdFt0LkVSUl9MSUNFTlNFX0lMTEVHQUw9MzI3ODNdPVwiRVJSX0xJQ0VOU0VfSUxMRUdBTFwiLHRbdC5FUlJfVEVTVF9SRUNPVkVSPTllM109XCJFUlJfVEVTVF9SRUNPVkVSXCIsdFt0LkVSUl9URVNUX1RSWU5FWFQ9OTAwMV09XCJFUlJfVEVTVF9UUllORVhUXCIsdFt0LkVSUl9URVNUX1JFVFJZPTkwMDJdPVwiRVJSX1RFU1RfUkVUUllcIix0fSh7fSksTHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuQ09OTkVDVElORz1cImNvbm5lY3RpbmdcIix0LkNPTk5FQ1RFRD1cImNvbm5lY3RlZFwiLHQuUkVDT05ORUNUSU5HPVwicmVjb25uZWN0aW5nXCIsdC5DTE9TRUQ9XCJjbG9zZWRcIix0fSh7fSksbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuV1NfQ09OTkVDVEVEPVwid3NfY29ubmVjdGVkXCIsdC5XU19SRUNPTk5FQ1RJTkc9XCJ3c19yZWNvbm5lY3RpbmdcIix0LldTX0NMT1NFRD1cIndzX2Nsb3NlZFwiLHQuV1NfUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSD1cIndzX3JlY29ubmVjdF93YWl0dGluZ19maW5pc2hcIix0LldTX1JFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTj1cIndzX3JlY29ubmVjdF9jcmVhdGVfY29ubmVjdGlvblwiLHQuT05fQklOQVJZX0RBVEE9XCJvbl9iaW5hcnlfZGF0YVwiLHQuUkVRVUVTVF9SRUNPVkVSPVwicmVxdWVzdF9yZWNvdmVyXCIsdC5SRVFVRVNUX0pPSU5fSU5GTz1cInJlcXVlc3Rfam9pbl9pbmZvXCIsdC5SRVFVRVNUX1JFSk9JTl9JTkZPPVwicmVxX3Jlam9pbl9pbmZvXCIsdC5JU19QMlBfRElTQ09OTkVDVEVEPVwiaXNfcDJwX2Rpc1wiLHQuRElTQ09OTkVDVF9QMlA9XCJkaXNfcDJwXCIsdC5BQk9SVF9QMlBfRVhFQ1VUSU9OPVwiYWJvcnRfcDJwX2V4ZWN1dGlvblwiLHQuTkVFRF9SRU5FV19TRVNTSU9OPVwibmVlZC1zaWRcIix0LlJFUE9SVF9KT0lOX0dBVEVXQVk9XCJyZXBvcnRfam9pbl9nYXRld2F5XCIsdC5SRVFVRVNUX1RJTUVPVVQ9XCJyZXF1ZXN0X3RpbWVvdXRcIix0LlJFUVVFU1RfU1VDQ0VTUz1cInJlcXVlc3Rfc3VjY2Vzc1wiLHQuSk9JTl9SRVNQT05TRT1cImpvaW5fcmVzcG9uc2VcIix0LlBSRV9DT05ORUNUX1BDPVwicHJlX2Nvbm5lY3RfcGNcIix0LlAyUF9DT05ORUNUSU9OPVwicDJwX2Nvbm5lY3Rpb25cIix0LlAyUF9SRU1PVEVfQ0FORElEQVRFX1VQREFURT1cInAycF9yZW1vdGVfY2FuZGlkYXRlX3VwZGF0ZVwiLHQuUDJQX1NVQlNDUklCRT1cInAycF9zdWJzY3JpYmVcIix0LlAyUF9VTlNVQlNDUklCRT1cInAycF91bnN1YnNjcmliZVwiLHQuUDJQX0VYQ0hBTkdFX1NEUD1cInAycF9leGNoYW5nZV9zZHBcIix0LlAyUF9PTl9BRERfVklERU9fU1RSRUFNPVwicDJwX29uX2FkZF92aWRlb19zdHJlYW1cIix0LlAyUF9PTl9BRERfQVVESU9fU1RSRUFNPVwicDJwX29uX2FkZF9hdWRpb19zdHJlYW1cIix0fSh7fSksZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuUElORz1cInBpbmdcIix0LlBJTkdfQkFDSz1cInBpbmdfYmFja1wiLHQuSk9JTj1cImpvaW5fdjNcIix0LlJFSk9JTj1cInJlam9pbl92M1wiLHQuTEVBVkU9XCJsZWF2ZVwiLHQuU0VUX0NMSUVOVF9ST0xFPVwic2V0X2NsaWVudF9yb2xlXCIsdC5QVUJMSVNIPVwicHVibGlzaFwiLHQuUFVCTElTSF9EQVRBU1RSRUFNPVwicHVibGlzaF9kYXRhc3RyZWFtXCIsdC5VTlBVQkxJU0g9XCJ1bnB1Ymxpc2hcIix0LlVOUFVCTElTSF9EQVRBU1RSRUFNPVwidW5wdWJsaXNoX2RhdGFzdHJlYW1cIix0LlNVQlNDUklCRT1cInN1YnNjcmliZVwiLHQuUFJFX1NVQlNDUklCRT1cInByZV9zdWJzY3JpYmVcIix0LlNVQlNDUklCRV9EQVRBU1RSRUFNPVwic3Vic2NyaWJlX2RhdGFzdHJlYW1cIix0LlNVQlNDUklCRV9TVFJFQU1TPVwic3Vic2NyaWJlX3N0cmVhbXNcIix0LlVOU1VCU0NSSUJFPVwidW5zdWJzY3JpYmVcIix0LlVOU1VCU0NSSUJFX0RBVEFTVFJFQU09XCJ1bnN1YnNjcmliZV9kYXRhc3RyZWFtXCIsdC5VTlNVQlNDUklCRV9TVFJFQU1TPVwidW5zdWJzY3JpYmVfc3RyZWFtc1wiLHQuU1VCU0NSSUJFX0NIQU5HRT1cInN1YnNjcmliZV9jaGFuZ2VcIix0LlRSQUZGSUNfU1RBVFM9XCJ0cmFmZmljX3N0YXRzXCIsdC5SRU5FV19UT0tFTj1cInJlbmV3X3Rva2VuXCIsdC5TV0lUQ0hfVklERU9fU1RSRUFNPVwic3dpdGNoX3ZpZGVvX3N0cmVhbVwiLHQuREVGQVVMVF9WSURFT19TVFJFQU09XCJkZWZhdWx0X3ZpZGVvX3N0cmVhbVwiLHQuU0VUX0ZBTExCQUNLX09QVElPTj1cInNldF9mYWxsYmFja19vcHRpb25cIix0LkdBVEVXQVlfSU5GTz1cImdhdGV3YXlfaW5mb1wiLHQuQ09OVFJPTD1cImNvbnRyb2xcIix0LlNFTkRfTUVUQURBVEE9XCJzZW5kX21ldGFkYXRhXCIsdC5EQVRBX1NUUkVBTT1cImRhdGFfc3RyZWFtXCIsdC5QSUNLX1NWQ19MQVlFUj1cInBpY2tfc3ZjX2xheWVyXCIsdC5SRVNUQVJUX0lDRT1cInJlc3RhcnRfaWNlXCIsdC5DT05ORUNUX1BDPVwiY29ubmVjdF9wY1wiLHQuU0VUX1ZJREVPX1BST0ZJTEU9XCJzZXRfdmlkZW9fcHJvZmlsZVwiLHQuU0VUX1BBUkFNRVRFUj1cInNldF9wYXJhbWV0ZXJcIix0LlNFVF9SVE0yX0ZMQUc9XCJzZXRfcnRtMl9mbGFnXCIsdH0oe30pLHdjPWZ1bmN0aW9uKHQpe3JldHVybiB0LldSVENfU1RBVFM9XCJ3cnRjX3N0YXRzXCIsdC5XU19JTkZMQVRFX0RBVEFfTEVOR1RIPVwid3NfaW5mbGF0ZV9kYXRhX2xlbmd0aFwiLHQuREVOT0lTRVJfU1RBVFM9XCJkZW5vaXNlcl9zdGF0c1wiLHQuRVhURU5TSU9OX1VTQUdFX1NUQVRTPVwiZXh0ZW5zaW9uX3VzYWdlX3N0YXRzXCIsdH0oe30pLGR0PWZ1bmN0aW9uKHQpe3JldHVybiB0Lk9OX1VTRVJfT05MSU5FPVwib25fdXNlcl9vbmxpbmVcIix0Lk9OX1VTRVJfT0ZGTElORT1cIm9uX3VzZXJfb2ZmbGluZVwiLHQuT05fU1RSRUFNX0ZBTExCQUNLX1VQREFURT1cIm9uX3N0cmVhbV9mYWxsYmFja191cGRhdGVcIix0Lk9OX1BVQkxJU0hfU1RSRUFNPVwib25fcHVibGlzaF9zdHJlYW1cIix0Lk9OX1VQTElOS19TVEFUUz1cIm9uX3VwbGlua19zdGF0c1wiLHQuT05fUDJQX0xPU1Q9XCJvbl9wMnBfbG9zdFwiLHQuT05fUkVNT1ZFX1NUUkVBTT1cIm9uX3JlbW92ZV9zdHJlYW1cIix0Lk9OX0FERF9BVURJT19TVFJFQU09XCJvbl9hZGRfYXVkaW9fc3RyZWFtXCIsdC5PTl9BRERfVklERU9fU1RSRUFNPVwib25fYWRkX3ZpZGVvX3N0cmVhbVwiLHQuT05fVE9LRU5fUFJJVklMRUdFX1dJTExfRVhQSVJFPVwib25fdG9rZW5fcHJpdmlsZWdlX3dpbGxfZXhwaXJlXCIsdC5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRT1cIm9uX3Rva2VuX3ByaXZpbGVnZV9kaWRfZXhwaXJlXCIsdC5PTl9VU0VSX0JBTk5FRD1cIm9uX3VzZXJfYmFubmVkXCIsdC5PTl9VU0VSX0xJQ0VOU0VfQkFOTkVEPVwib25fdXNlcl9saWNlbnNlX2Jhbm5lZFwiLHQuT05fTk9USUZJQ0FUSU9OPVwib25fbm90aWZpY2F0aW9uXCIsdC5PTl9DUllQVF9FUlJPUj1cIm9uX2NyeXB0X2Vycm9yXCIsdC5NVVRFX0FVRElPPVwibXV0ZV9hdWRpb1wiLHQuTVVURV9WSURFTz1cIm11dGVfdmlkZW9cIix0LlVOTVVURV9BVURJTz1cInVubXV0ZV9hdWRpb1wiLHQuVU5NVVRFX1ZJREVPPVwidW5tdXRlX3ZpZGVvXCIsdC5PTl9QMlBfT0s9XCJvbl9wMnBfb2tcIix0LlJFQ0VJVkVfTUVUQURBVEE9XCJyZWNlaXZlX21ldGFkYXRhXCIsdC5PTl9EQVRBX1NUUkVBTT1cIm9uX2RhdGFfc3RyZWFtXCIsdC5PTl9SVFBfQ0FQQUJJTElUWV9DSEFOR0U9XCJvbl9ydHBfY2FwYWJpbGl0eV9jaGFuZ2VcIix0Lk9OX1JFTU9URV9EQVRBU1RSRUFNX1VQREFURT1cIm9uX3JlbW90ZV9kYXRhc3RyZWFtX3VwZGF0ZVwiLHQuT05fUkVNT1RFX0ZVTExfREFUQVNUUkVBTV9JTkZPPVwib25fcmVtb3RlX2Z1bGxfZGF0YXN0cmVhbV9pbmZvXCIsdC5FTkFCTEVfTE9DQUxfVklERU89XCJlbmFibGVfbG9jYWxfdmlkZW9cIix0LkRJU0FCTEVfTE9DQUxfVklERU89XCJkaXNhYmxlX2xvY2FsX3ZpZGVvXCIsdC5FTkFCTEVfTE9DQUxfQVVESU89XCJlbmFibGVfbG9jYWxfYXVkaW9cIix0LkRJU0FCTEVfTE9DQUxfQVVESU89XCJkaXNhYmxlX2xvY2FsX2F1ZGlvXCIsdC5PTl9QVUJMSVNIRURfVVNFUl9MSVNUPVwib25fcHVibGlzaGVkX3VzZXJfbGlzdFwiLHR9KHt9KSxjbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5TRU5EX09OTFk9XCJTRU5EX09OTFlcIix0LlJFQ0VJVkVfT05MWT1cIlJFQ0VJVkVfT05MWVwiLHR9KHt9KSxpdD1mdW5jdGlvbih0KXtyZXR1cm4gdC5DT05ORUNURUQ9XCJ3ZWJzb2NrZXQ6Y29ubmVjdGVkXCIsdC5SRUNPTk5FQ1RJTkc9XCJ3ZWJzb2NrZXQ6cmVjb25uZWN0aW5nXCIsdC5XSUxMX1JFQ09OTkVDVD1cIndlYnNvY2tldDp3aWxsX3JlY29ubmVjdFwiLHQuQ0xPU0VEPVwid2Vic29ja2V0OmNsb3NlZFwiLHQuRkFJTEVEPVwid2Vic29ja2V0OmZhaWxlZFwiLHQuT05fTUVTU0FHRT1cIndlYnNvY2tldDpvbl9tZXNzYWdlXCIsdC5SRVFVRVNUX05FV19VUkxTPVwid2Vic29ja2V0OnJlcXVlc3RfbmV3X3VybHNcIix0LlJFQ09OTkVDVF9XQUlUVElOR19GSU5JU0g9XCJ3ZWJzb2NrZXQ6cmVjb25uZWN0X3dhaXR0aW5nX2ZpbmlzaFwiLHQuUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OPVwid2Vic29ja2V0OnJlY29ubmVjdF9jcmVhdGVfY29ubmVjdGlvblwiLHQuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkU9XCJ3ZWJzb2NrZXQ6b25fdG9rZW5fcHJpdmlsZWdlX2RpZF9leHBpcmVcIix0fSh7fSksTz1jbGFzcyBleHRlbmRzIE57Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxhcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06XCJcIixhcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCksVCh0aGlzLFwibmFtZVwiLFwiQWdvcmFSVENFeGNlcHRpb25cIik7fXByaW50KCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOlwiZXJyb3JcIjtyZXR1cm4gc3VwZXIucHJpbnQoZSxfKX10aHJvdygpe3N1cGVyLnRocm93KF8pO319O2Z1bmN0aW9uIFh1KHQpe2lmKHR5cGVvZiB0IT1cInN0cmluZ1wifHwhL15bYS16QS1aMC05IFxcIVxcI1xcJFxcJVxcJlxcKFxcKVxcK1xcLVxcOlxcO1xcPFxcPVxcLlxcPlxcP1xcQFxcW1xcXVxcXlxcX1xce1xcfVxcfFxcflxcLF17MSw2NH0kLy50ZXN0KHQpKXRocm93IF8uZXJyb3IoXCJJbnZhbGlkIENoYW5uZWwgTmFtZSBcIi5jb25jYXQodCkpLG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJUaGUgbGVuZ3RoIG11c3QgYmUgd2l0aGluIDY0IGJ5dGVzLiBUaGUgc3VwcG9ydGVkIGNoYXJhY3RlcnM6IGEteixBLVosMC05LHNwYWNlLCEsICMsICQsICUsICYsICgsICksICssIC0sIDosIDssIDwsID0sIC4sID4sID8sIEAsIFssIF0sIF4sIF8sICB7LCB9LCB8LCB+LCAsXCIpfWZ1bmN0aW9uIFF1KHQpe2lmKCFmdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGU9PVwibnVtYmVyXCImJk1hdGguZmxvb3IoZSk9PT1lJiYwPD1lJiZlPD00Mjk0OTY3Mjk1fSh0KSYmIVJPKHQsMSwyNTUpKXRocm93IG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJbU3RyaW5nIHVpZF0gTGVuZ3RoIG9mIHRoZSBzdHJpbmc6IFsxLDI1NV0uIEFTQ0lJIGNoYXJhY3RlcnMgb25seS4gW051bWJlciB1aWRdIFRoZSB2YWx1ZSByYW5nZSBpcyBbMCwxMDAwMF1cIik7dHlwZW9mIHQ9PVwic3RyaW5nXCImJl8ud2FybihcIllvdSBpbnB1dCBhIHN0cmluZyBhcyB0aGUgdXNlciBJRCwgdG8gZW5zdXJlIGJldHRlciBlbmQtdXNlciBleHBlcmllbmNlLCBBZ29yYSBoaWdobHkgc3VnZ2VzdHMgbm90IHVzaW5nIGEgc3RyaW5nIGFzIHRoZSB1c2VyIElELlwiKTt9dmFyIGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0LlRSQU5TQ09ERT1cIm1peF9zdHJlYW1pbmdcIix0LlJBVz1cInJhd19zdHJlYW1pbmdcIix0fSh7fSksc2o9e2FscGhhOjEsaGVpZ2h0OjY0MCx3aWR0aDozNjAseDowLHk6MCx6T3JkZXI6MCxhdWRpb0NoYW5uZWw6MH0sVXA9e3g6MCx5OjAsd2lkdGg6MTYwLGhlaWdodDoxNjAsek9yZGVyOjI1NSxhbHBoYToxfTtmdW5jdGlvbiB4cCh0LGUpe1BlKHQudXJsLFwiXCIuY29uY2F0KGUsXCIudXJsXCIpLDEsMWUzLCExKSx6dCh0LngpfHxOdCh0LngsXCJcIi5jb25jYXQoZSxcIi54XCIpLDAsMWU0KSx6dCh0LnkpfHxOdCh0LnksXCJcIi5jb25jYXQoZSxcIi55XCIpLDAsMWU0KSx6dCh0LndpZHRoKXx8TnQodC53aWR0aCxcIlwiLmNvbmNhdChlLFwiLndpZHRoXCIpLDAsMWU0KSx6dCh0LmhlaWdodCl8fE50KHQuaGVpZ2h0LFwiXCIuY29uY2F0KGUsXCIuaGVpZ2h0XCIpLDAsMWU0KSx6dCh0LnpPcmRlcil8fE50KHQuek9yZGVyLFwiXCIuY29uY2F0KGUsXCIuek9yZGVyXCIpLDAsMjU1KSx6dCh0LmFscGhhKXx8TnQodC5hbHBoYSxcIlwiLmNvbmNhdChlLFwiLmFscGhhXCIpLDAsMSwhMSk7fXZhciBhaj17YXVkaW9CaXRyYXRlOjQ4LGF1ZGlvQ2hhbm5lbHM6MSxhdWRpb1NhbXBsZVJhdGU6NDhlMyxiYWNrZ3JvdW5kQ29sb3I6MCxoZWlnaHQ6MzYwLGxvd0xhdGVuY3k6ITEsdmlkZW9CaXRyYXRlOjQwMCx2aWRlb0NvZGVjUHJvZmlsZToxMDAsdmlkZW9Db2RlY1R5cGU6MSx2aWRlb0ZyYW1lUmF0ZToxNSx2aWRlb0dvcDozMCx3aWR0aDo2NDAsaW1hZ2VzOltdLHVzZXJDb25maWdzOltdLHVzZXJDb25maWdFeHRyYUluZm86XCJcIn0sWHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQuV0FSTklORz1cIkBsaXZlX3VhcC13YXJuaW5nXCIsdC5FUlJPUj1cIkBsaW5lX3VhcC1lcnJvclwiLHQuUFVCTElTSF9TVFJFQU1fU1RBVFVTPVwiQGxpdmVfdWFwLXB1Ymxpc2gtc3RhdHVzXCIsdC5XT1JLRVJfU1RBVFVTPVwiQGxpdmVfdWFwLXdvcmtlci1zdGF0dXNcIix0LlJFUVVFU1RfTkVXX0FERFJFU1M9XCJAbGl2ZV91YXAtcmVxdWVzdC1hZGRyZXNzXCIsdH0oe30pLFZFPWZ1bmN0aW9uKHQpe3JldHVybiB0LlJFUVVFU1RfV09SS0VSX01BTkFHRVJfTElTVD1cIkBsaXZlX3JlcV93b3JrZXJfbWFuYWdlclwiLHR9KHt9KSxmZT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkxJVkVfU1RSRUFNX1JFU1BPTlNFX1NVQ0NFRUQ9MjAwXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1NVQ0NFRURcIix0W3QuTElWRV9TVFJFQU1fUkVTUE9OU0VfQUxSRUFEWV9FWElTVFNfU1RSRUFNPTQ1NF09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9BTFJFQURZX0VYSVNUU19TVFJFQU1cIix0W3QuTElWRV9TVFJFQU1fUkVTUE9OU0VfVFJBTlNDT0RJTkdfUEFSQU1FVEVSX0VSUk9SPTQ1MF09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9UUkFOU0NPRElOR19QQVJBTUVURVJfRVJST1JcIix0W3QuTElWRV9TVFJFQU1fUkVTUE9OU0VfQkFEX1NUUkVBTT00NTFdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfQkFEX1NUUkVBTVwiLHRbdC5MSVZFX1NUUkVBTV9SRVNQT05TRV9XTV9QQVJBTUVURVJfRVJST1I9NDAwXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dNX1BBUkFNRVRFUl9FUlJPUlwiLHRbdC5MSVZFX1NUUkVBTV9SRVNQT05TRV9XTV9XT1JLRVJfTk9UX0VYSVNUPTQwNF09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9XTV9XT1JLRVJfTk9UX0VYSVNUXCIsdFt0LkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9BVVRIT1JJWkVEPTQ1Nl09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfQVVUSE9SSVpFRFwiLHRbdC5MSVZFX1NUUkVBTV9SRVNQT05TRV9GQUlMRURfTE9BRF9JTUFHRT00NTddPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfRkFJTEVEX0xPQURfSU1BR0VcIix0W3QuTElWRV9TVFJFQU1fUkVTUE9OU0VfUkVRVUVTVF9UT09fT0ZURU49NDI5XT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1JFUVVFU1RfVE9PX09GVEVOXCIsdFt0LkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9GT1VORF9QVUJMSVNIPTQ1Ml09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfRk9VTkRfUFVCTElTSFwiLHRbdC5MSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfU1VQUE9SVEVEPTQ1M109XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfU1VQUE9SVEVEXCIsdFt0LkxJVkVfU1RSRUFNX1JFU1BPTlNFX01BWF9TVFJFQU1fTlVNPTQ1NV09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9NQVhfU1RSRUFNX05VTVwiLHRbdC5MSVZFX1NUUkVBTV9SRVNQT05TRV9JTlRFUk5BTF9TRVJWRVJfRVJST1I9NTAwXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX0lOVEVSTkFMX1NFUlZFUl9FUlJPUlwiLHRbdC5MSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfTE9TVD01MDFdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX0xPU1RcIix0W3QuTElWRV9TVFJFQU1fUkVTUE9OU0VfUkVTT1VSQ0VfTElNSVQ9NTAyXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1JFU09VUkNFX0xJTUlUXCIsdFt0LkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9RVUlUPTUwM109XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfUVVJVFwiLHRbdC5FUlJPUl9GQUlMX1NFTkRfTUVTU0FHRT01MDRdPVwiRVJST1JfRkFJTF9TRU5EX01FU1NBR0VcIix0W3QuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfSEFORFNIQUtFPTMwXT1cIlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0hBTkRTSEFLRVwiLHRbdC5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9DT05ORUNUPTMxXT1cIlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0NPTk5FQ1RcIix0W3QuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfUFVCTElTSD0zMl09XCJQVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9QVUJMSVNIXCIsdFt0LlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9QVUJMSVNIX0JST0tFTj0zM109XCJQVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUFVCTElTSF9CUk9LRU5cIix0fSh7fSk7ZnVuY3Rpb24gTVIodCl7aWYoIXQuY2hhbm5lbE5hbWUpdGhyb3cgbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxcImludmFsaWQgY2hhbm5lbE5hbWUgaW4gaW5mb1wiKTtpZih0eXBlb2YgdC51aWQhPVwibnVtYmVyXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxcImludmFsaWQgdWlkIGluIGluZm8sIHVpZCBtdXN0IGJlIGEgbnVtYmVyXCIpO3JldHVybiB0LnRva2VuJiZQZSh0LnRva2VuLFwiaW5mby50b2tlblwiLDEsMjA0NyksUXUodC51aWQpLFh1KHQuY2hhbm5lbE5hbWUpLCEwfXZhciBzbj1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LlNldFNka1Byb2ZpbGU9MF09XCJTZXRTZGtQcm9maWxlXCIsdFt0LlNldFNvdXJjZUNoYW5uZWw9MV09XCJTZXRTb3VyY2VDaGFubmVsXCIsdFt0LlNldFNvdXJjZVVzZXJJZD0yXT1cIlNldFNvdXJjZVVzZXJJZFwiLHRbdC5TZXREZXN0Q2hhbm5lbD0zXT1cIlNldERlc3RDaGFubmVsXCIsdFt0LlN0YXJ0UGFja2V0VHJhbnNmZXI9NF09XCJTdGFydFBhY2tldFRyYW5zZmVyXCIsdFt0LlN0b3BQYWNrZXRUcmFuc2Zlcj01XT1cIlN0b3BQYWNrZXRUcmFuc2ZlclwiLHRbdC5VcGRhdGVEZXN0Q2hhbm5lbD02XT1cIlVwZGF0ZURlc3RDaGFubmVsXCIsdFt0LlJlY29ubmVjdD03XT1cIlJlY29ubmVjdFwiLHRbdC5TZXRWaWRlb1Byb2ZpbGU9OF09XCJTZXRWaWRlb1Byb2ZpbGVcIix0fSh7fSksSXI9ZnVuY3Rpb24odCl7cmV0dXJuIHQuTkVUV09SS19ESVNDT05ORUNURUQ9XCJORVRXT1JLX0RJU0NPTk5FQ1RFRFwiLHQuTkVUV09SS19DT05ORUNURUQ9XCJORVRXT1JLX0NPTk5FQ1RFRFwiLHQuUEFDS0VUX0pPSU5FRF9TUkNfQ0hBTk5FTD1cIlBBQ0tFVF9KT0lORURfU1JDX0NIQU5ORUxcIix0LlBBQ0tFVF9KT0lORURfREVTVF9DSEFOTkVMPVwiUEFDS0VUX0pPSU5FRF9ERVNUX0NIQU5ORUxcIix0LlBBQ0tFVF9TRU5UX1RPX0RFU1RfQ0hBTk5FTD1cIlBBQ0tFVF9TRU5UX1RPX0RFU1RfQ0hBTk5FTFwiLHQuUEFDS0VUX1JFQ0VJVkVEX1ZJREVPX0ZST01fU1JDPVwiUEFDS0VUX1JFQ0VJVkVEX1ZJREVPX0ZST01fU1JDXCIsdC5QQUNLRVRfUkVDRUlWRURfQVVESU9fRlJPTV9TUkM9XCJQQUNLRVRfUkVDRUlWRURfQVVESU9fRlJPTV9TUkNcIix0LlBBQ0tFVF9VUERBVEVfREVTVF9DSEFOTkVMPVwiUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUxcIix0LlBBQ0tFVF9VUERBVEVfREVTVF9DSEFOTkVMX1JFRlVTRUQ9XCJQQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTF9SRUZVU0VEXCIsdC5QQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTF9OT1RfQ0hBTkdFPVwiUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUxfTk9UX0NIQU5HRVwiLHR9KHt9KSxTbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5SRUxBWV9TVEFURV9JRExFPVwiUkVMQVlfU1RBVEVfSURMRVwiLHQuUkVMQVlfU1RBVEVfQ09OTkVDVElORz1cIlJFTEFZX1NUQVRFX0NPTk5FQ1RJTkdcIix0LlJFTEFZX1NUQVRFX1JVTk5JTkc9XCJSRUxBWV9TVEFURV9SVU5OSU5HXCIsdC5SRUxBWV9TVEFURV9GQUlMVVJFPVwiUkVMQVlfU1RBVEVfRkFJTFVSRVwiLHR9KHt9KSx5cz1mdW5jdGlvbih0KXtyZXR1cm4gdC5SRUxBWV9PSz1cIlJFTEFZX09LXCIsdC5TRVJWRVJfQ09OTkVDVElPTl9MT1NUPVwiU0VSVkVSX0NPTk5FQ1RJT05fTE9TVFwiLHQuU1JDX1RPS0VOX0VYUElSRUQ9XCJTUkNfVE9LRU5fRVhQSVJFRFwiLHQuREVTVF9UT0tFTl9FWFBJUkVEPVwiREVTVF9UT0tFTl9FWFBJUkVEXCIsdH0oe30pLEN0PWZ1bmN0aW9uKHQpe3JldHVybiB0LkhpZ2g9XCJoaWdoXCIsdC5Mb3c9XCJsb3dcIix0LkF1ZGlvPVwiYXVkaW9cIix0LlNjcmVlbj1cInNjcmVlblwiLHQuU2NyZWVuTG93PVwic2NyZWVuX2xvd1wiLHR9KHt9KSx4ZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5ESVNDT05ORUNUPVwiZGlzY29ubmVjdFwiLHQuQ09OTkVDVElPTl9TVEFURV9DSEFOR0U9XCJjb25uZWN0aW9uLXN0YXRlLWNoYW5nZVwiLHQuTkVUV09SS19RVUFMSVRZPVwibmV0d29yay1xdWFsaXR5XCIsdC5TVFJFQU1fVFlQRV9DSEFOR0U9XCJzdHJlYW0tdHlwZS1jaGFuZ2VcIix0LklTX1AyUF9ESVNDT05ORUNURUQ9XCJpcy1wMnAtZGlzXCIsdC5ESVNDT05ORUNUX1AyUD1cImRpcy1wMnBcIix0LlJFUVVFU1RfTkVXX0dBVEVXQVlfTElTVD1cInJlcS1nYXRlLXVybFwiLHQuTkVFRF9SRU5FV19TRVNTSU9OPVwibmVlZC1zaWRcIix0LlJFUVVFU1RfUDJQX0NPTk5FQ1RJT05fUEFSQU1TPVwicmVxdWVzdC1wMnAtY29ubmVjdGlvbi1wYXJhbXNcIix0LkpPSU5fUkVTUE9OU0U9XCJqb2luLXJlc3BvbnNlXCIsdC5SRVNFVF9DT05ORUNUSU9OX0VWRU5UUz1cInJlc2V0LWNvbm5lY3Rpb24tZXZlbnRzXCIsdC5QUkVfQ09OTkVDVF9QQz1cInByZS1jb25uZWN0X3BjXCIsdH0oe30pLFRsPWZ1bmN0aW9uKHQpe3JldHVybiB0LlAyUF9ESVNDT05ORUNURUQ9XCJQMlBfRElTQ09OTkVDVEVEXCIsdC5BX1JPVU5EX1dTX0ZBSUxFRD1cIkFfUk9VTkRfV1NfRkFJTEVEXCIsdC5USU1FT1VUPVwiVElNRU9VVFwiLHQuVU5LTk9XTl9SRUFTT049XCJVTktOT1dOX1JFQVNPTlwiLHR9KHt9KSx2ZT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0Lk5vdGhpbmc9MF09XCJOb3RoaW5nXCIsdFt0LkF1ZGlvPTFdPVwiQXVkaW9cIix0W3QuTHdvVmlkZW89Ml09XCJMd29WaWRlb1wiLHRbdC5WaWRlbz00XT1cIlZpZGVvXCIsdFt0LkRhdGE9OF09XCJEYXRhXCIsdFt0LkRhdGFTdHJlYW0wPTI1Nl09XCJEYXRhU3RyZWFtMFwiLHRbdC5EYXRhU3RyZWFtMT01MTJdPVwiRGF0YVN0cmVhbTFcIix0W3QuRGF0YVN0cmVhbTI9MTAyNF09XCJEYXRhU3RyZWFtMlwiLHRbdC5EYXRhU3RyZWFtMz0yMDQ4XT1cIkRhdGFTdHJlYW0zXCIsdFt0LkRhdGFTdHJlYW00PTQwOTZdPVwiRGF0YVN0cmVhbTRcIix0W3QuRGF0YVN0cmVhbTU9ODE5Ml09XCJEYXRhU3RyZWFtNVwiLHRbdC5EYXRhU3RyZWFtNj0xNjM4NF09XCJEYXRhU3RyZWFtNlwiLHRbdC5EYXRhU3RyZWFtNz0zMjc2OF09XCJEYXRhU3RyZWFtN1wiLHR9KHt9KSxTdD1mdW5jdGlvbih0KXtyZXR1cm4gdC5DSElOQT1cIkNISU5BXCIsdC5BU0lBPVwiQVNJQVwiLHQuTk9SVEhfQU1FUklDQT1cIk5PUlRIX0FNRVJJQ0FcIix0LkVVUk9QRT1cIkVVUk9QRVwiLHQuSkFQQU49XCJKQVBBTlwiLHQuSU5ESUE9XCJJTkRJQVwiLHQuS09SRUE9XCJLT1JFQVwiLHQuSEtNQz1cIkhLTUNcIix0LlVTPVwiVVNcIix0Lk9DRUFOSUE9XCJPQ0VBTklBXCIsdC5TT1VUSF9BTUVSSUNBPVwiU09VVEhfQU1FUklDQVwiLHQuQUZSSUNBPVwiQUZSSUNBXCIsdC5PVkVSU0VBPVwiT1ZFUlNFQVwiLHQuR0xPQkFMPVwiR0xPQkFMXCIsdC5FWFRFTlNJT05TPVwiRVhURU5TSU9OU1wiLHR9KHt9KSxVUj1bU3QuQUZSSUNBLFN0LkFTSUEsU3QuQ0hJTkEsU3QuRVVST1BFLFN0LkdMT0JBTCxTdC5JTkRJQSxTdC5KQVBBTixTdC5OT1JUSF9BTUVSSUNBLFN0Lk9DRUFOSUEsU3QuT1ZFUlNFQSxTdC5TT1VUSF9BTUVSSUNBXSxZZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5DSElOQT1cIkNOXCIsdC5BU0lBPVwiQVNcIix0Lk5PUlRIX0FNRVJJQ0E9XCJOQVwiLHQuRVVST1BFPVwiRVVcIix0LkpBUEFOPVwiSlBcIix0LklORElBPVwiSU5cIix0LktPUkVBPVwiS1JcIix0LkhLTUM9XCJIS1wiLHQuVVM9XCJVU1wiLHQuT0NFQU5JQT1cIk9DXCIsdC5TT1VUSF9BTUVSSUNBPVwiU0FcIix0LkFGUklDQT1cIkFGXCIsdC5PVkVSU0VBPVwiT1ZFUlNFQVwiLHQuR0xPQkFMPVwiR0xPQkFMXCIsdC5FWFRFTlNJT05TPVwiR0xPQkFMXCIsdH0oe30pLFp1PXtDSElOQTp7fSxBU0lBOntDT0RFOlllLkFTSUEsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLWFzaWEuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLWFzaWEuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLWFzaWEuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItYXNpYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1hc2lhMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItYXNpYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1hc2lhMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1hc2lhLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLWFzaWEyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1hc2lhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItYXNpYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLWFzaWEuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcInNvdXRoZWFzdC1hc2lhLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxOT1JUSF9BTUVSSUNBOntDT0RFOlllLk5PUlRIX0FNRVJJQ0EsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1hbWVyaWNhMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1hbWVyaWNhMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLWFtZXJpY2EyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItbm9ydGgtYW1lcmljYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcImVhc3QtdXNhLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxFVVJPUEU6e0NPREU6WWUuRVVST1BFLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1ldXJvcGUuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLWV1cm9wZS5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItZXVyb3BlLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLWV1cm9wZS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1ldXJvcGUyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1ldXJvcGUuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItZXVyb3BlLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLWV1cm9wZS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1ldXJvcGUyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1ldXJvcGUuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1ldXJvcGUuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1ldXJvcGUuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcImV1cm9wZS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sSkFQQU46e0NPREU6WWUuSkFQQU4sV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLWphcGFuLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1qYXBhbi5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItamFwYW4uYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItamFwYW4uYWdvcmEuaW9cIixcImNkcy1hcC13ZWItamFwYW4yLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1qYXBhbi5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1qYXBhbjIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItamFwYW4uYWdvcmEuaW9cIixcInVhcC1hcC13ZWItamFwYW4yLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1qYXBhbi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLWphcGFuLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtamFwYW4uYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcImphcGFuLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxJTkRJQTp7Q09ERTpZZS5JTkRJQSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtaW5kaWEuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLWluZGlhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1pbmRpYS5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1pbmRpYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1pbmRpYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWluZGlhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWluZGlhMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1pbmRpYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1pbmRpYTIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLWluZGlhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItaW5kaWEuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1pbmRpYS5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wiaW5kaWEud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LEtPUkVBOntDT0RFOlllLktPUkVBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1rb3JlYS5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTIta29yZWEuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLWtvcmVhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLWtvcmVhLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWtvcmVhMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWIta29yZWEuYWdvcmEuaW9cIixcInN1YS1hcC13ZWIta29yZWEyLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLWtvcmVhLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLWtvcmVhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEta29yZWEuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1rb3JlYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLWtvcmVhLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJrb3JlYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sSEtNQzp7Q09ERTpZZS5IS01DLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1oa21jLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1oa21jLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1oa21jLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLWhrbWMuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItaGttYzIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWhrbWMuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItaGttYzIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItaGttYy5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1oa21jMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtaGttYy5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLWhrbWMuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1oa21jLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJoa21jLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxVUzp7Q09ERTpZZS5VUyxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtdXMuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLXVzLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi11cy5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi11cy5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi11czIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLXVzLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLXVzMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi11cy5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi11czIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLXVzLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItdXMuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS11cy5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1widXMud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LE9WRVJTRUE6e0NPREU6WWUuT1ZFUlNFQSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtb3ZlcnNlYS5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItb3ZlcnNlYS5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1vdmVyc2VhLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1vdmVyc2VhLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLW92ZXJzZWEuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1vdmVyc2VhLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2Utb3ZlcnNlYS5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wid2VicnRjLWNsb3VkLXByb3h5LmFnb3JhLmlvXCJdfSxHTE9CQUw6e0NPREU6WWUuR0xPQkFMLFdFQkNTX0RPTUFJTjpbXCJ3ZWJydGMyLWFwLXdlYi0xLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJ3ZWJydGMyLWFwLXdlYi0zLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcImFwLXByb3h5LTEuYWdvcmEuaW9cIixcImFwLXByb3h5LTIuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItMS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi0zLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi0xLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLTMuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItMS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi0zLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcIndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxPQ0VBTklBOntDT0RFOlllLk9DRUFOSUEsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLW9jZWFuaWEuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLW9jZWFuaWEuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLW9jZWFuaWEuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItb2NlYW5pYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1vY2VhbmlhMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItb2NlYW5pYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1vY2VhbmlhMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1vY2VhbmlhLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLW9jZWFuaWEyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1vY2VhbmlhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItb2NlYW5pYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLW9jZWFuaWEuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcIm9jZWFuaWEud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LFNPVVRIX0FNRVJJQ0E6e0NPREU6WWUuU09VVEhfQU1FUklDQSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtc291dGgtYW1lcmljYS5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItc291dGgtYW1lcmljYS5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItc291dGgtYW1lcmljYS5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLXNvdXRoLWFtZXJpY2EyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLXNvdXRoLWFtZXJpY2EyLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItc291dGgtYW1lcmljYTIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2Utc291dGgtYW1lcmljYS5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wic291dGgtYW1lcmljYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sQUZSSUNBOntDT0RFOlllLkFGUklDQSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtYWZyaWNhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1hZnJpY2EuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLWFmcmljYS5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1hZnJpY2EuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItYWZyaWNhMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItYWZyaWNhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWFmcmljYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItYWZyaWNhLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLWFmcmljYTIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLWFmcmljYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLWFmcmljYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLXNvdXRoLWFmcmljYS5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wiYWZyaWNhLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxFWFRFTlNJT05TOnt9fTtwZiYmKFp1LkNISU5BPXtDT0RFOlllLkNISU5BLFdFQkNTX0RPTUFJTjpbXCJ3ZWJydGMyLTIuYXAuc2QtcnRuLmNvbVwiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wid2VicnRjMi00LmFwLnNkLXJ0bi5jb21cIl0sUFJPWFlfQ1M6W1wicHJveHktd2ViLmFwLnNkLXJ0bi5jb21cIl0sQ0RTX0FQOltcImNkcy13ZWItMi5hcC5zZC1ydG4uY29tXCIsXCJjZHMtd2ViLTQuYXAuc2QtcnRuLmNvbVwiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS13ZWItMi5hcC5zZC1ydG4uY29tXCIsXCJzdWEtd2ViLTQuYXAuc2QtcnRuLmNvbVwiXSxVQVBfQVA6W1widWFwLXdlYi0yLmFwLnNkLXJ0bi5jb21cIixcInVhcC13ZWItNC5hcC5zZC1ydG4uY29tXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wid2ViLTMuc3RhdHNjb2xsZWN0b3Iuc2QtcnRuLmNvbVwiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJ3ZWItNC5zdGF0c2NvbGxlY3Rvci5zZC1ydG4uY29tXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtY2hpbmEuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcImVhc3QtY24ud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19KTt2YXIgRkU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuVVBEQVRFX0JJVFJBVEVfTElNSVQ9XCJ1cGRhdGVfYml0cmF0ZV9saW1pdFwiLHR9KHt9KSxLbD1jbGFzcyBleHRlbmRzIFh0e2NvbnN0cnVjdG9yKGUsbil7c3VwZXIoKSxUKHRoaXMsXCJvbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZVwiLHZvaWQgMCksVCh0aGlzLFwib25Db25uZWN0aW9uU3RhdGVDaGFuZ2VcIix2b2lkIDApLFQodGhpcyxcIm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlXCIsdm9pZCAwKSxUKHRoaXMsXCJvbkRUTFNUcmFuc3BvcnRFcnJvclwiLHZvaWQgMCksVCh0aGlzLFwib25JQ0VUcmFuc3BvcnRTdGF0ZUNoYW5nZVwiLHZvaWQgMCksVCh0aGlzLFwib25GaXJzdEF1ZGlvUmVjZWl2ZWRcIix2b2lkIDApLFQodGhpcyxcIm9uRmlyc3RWaWRlb1JlY2VpdmVkXCIsdm9pZCAwKSxUKHRoaXMsXCJvbkZpcnN0QXVkaW9EZWNvZGVkXCIsdm9pZCAwKSxUKHRoaXMsXCJvbkZpcnN0VmlkZW9EZWNvZGVkXCIsdm9pZCAwKSxUKHRoaXMsXCJvbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dFwiLHZvaWQgMCksVCh0aGlzLFwib25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZFwiLHZvaWQgMCksVCh0aGlzLFwib25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWRcIix2b2lkIDApLFQodGhpcyxcImdldExvY2FsVmlkZW9TdGF0c1wiLHZvaWQgMCk7fX0sWWw9Y2xhc3MgZXh0ZW5kcyBLbHtjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKGUsbiksVCh0aGlzLFwiZXN0YWJsaXNoUHJvbWlzZVwiLHZvaWQgMCk7fX0sUT1mdW5jdGlvbih0KXtyZXR1cm4gdC5WSURFTz1cInZpZGVvXCIsdC5BVURJTz1cImF1ZGlvXCIsdH0oe30pLE9uPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuVURQPTBdPVwiVURQXCIsdFt0LlRDUD0xXT1cIlRDUFwiLHRbdC5SRUxBWT0yXT1cIlJFTEFZXCIsdH0oe30pLFRyPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuRklSU1RfQ09OTkVDVElPTj0wXT1cIkZJUlNUX0NPTk5FQ1RJT05cIix0W3QuVENQX1JFU1RBUlQ9MV09XCJUQ1BfUkVTVEFSVFwiLHRbdC5SRUxBWV9SRVNUQVJUPTJdPVwiUkVMQVlfUkVTVEFSVFwiLHRbdC5PTERfRklSU1RfQ09OTkVDVElPTj0xMF09XCJPTERfRklSU1RfQ09OTkVDVElPTlwiLHRbdC5PTERfUkVTVEFSVD0xMV09XCJPTERfUkVTVEFSVFwiLHRbdC5ESVNDT05ORUNURURfT1JfRkFJTEVEPTIwXT1cIkRJU0NPTk5FQ1RFRF9PUl9GQUlMRURcIix0fSh7fSksVT1mdW5jdGlvbih0KXtyZXR1cm4gdC5Mb2NhbFZpZGVvVHJhY2s9XCJ2aWRlb1RyYWNrXCIsdC5Mb2NhbEF1ZGlvVHJhY2s9XCJhdWRpb1RyYWNrXCIsdC5Mb2NhbFZpZGVvTG93VHJhY2s9XCJ2aWRlb0xvd1RyYWNrXCIsdH0oe30pLFJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0Lk5ldz1cIm5ld1wiLHQuQ29ubmVjdGVkPVwiY29ubmVjdGVkXCIsdC5SZWNvbm5lY3Rpbmc9XCJyZWNvbm5lY3RpbmdcIix0LkRpc2Nvbm5lY3RlZD1cImRpc2Nvbm5lY3RlZFwiLHR9KHt9KSx0dD1mdW5jdGlvbih0KXtyZXR1cm4gdC5TdGF0ZUNoYW5nZT1cInN0YXRlQ2hhbmdlXCIsdC5JY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2U9XCJpY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2VcIix0LlJlcXVlc3RNdXRlTG9jYWw9XCJyZXF1ZXN0TXV0ZUxvY2FsXCIsdC5SZXF1ZXN0VW5tdXRlTG9jYWw9XCJyZXF1ZXN0VW5tdXRlTG9jYWxcIix0LlJlcXVlc3RSZVB1Ymxpc2g9XCJyZXF1ZXN0UmVQdWJsaXNoXCIsdC5SZXF1ZXN0UmVQdWJsaXNoRGF0YUNoYW5uZWw9XCJyZXF1ZXN0UmVQdWJsaXNoRGF0YUNoYW5uZWxcIix0LlJlcXVlc3RSZVN1YnNjcmliZT1cInJlcXVlc3RSZVN1YnNjcmliZVwiLHQuUmVxdWVzdFVwbG9hZFN0YXRzPVwicmVxdWVzdFVwbG9hZFN0YXRzXCIsdC5SZXF1ZXN0VXBsb2FkPVwicmVxdWVzdFVwbG9hZFwiLHQuTWVkaWFSZWNvbm5lY3RTdGFydD1cIk1lZGlhUmVjb25uZWN0U3RhcnRcIix0Lk1lZGlhUmVjb25uZWN0RW5kPVwiTWVkaWFSZWNvbm5lY3RFbmRcIix0Lk5lZWRTaWduYWxSVFQ9XCJOZWVkU2lnbmFsUlRUXCIsdC5SZXF1ZXN0UmVzdGFydElDRT1cIlJlcXVlc3RSZXN0YXJ0SWNlXCIsdC5QZWVyQ29ubmVjdGlvblN0YXRlQ2hhbmdlPVwiUGVlckNvbm5lY3Rpb25TdGF0ZUNoYW5nZVwiLHQuUmVxdWVzdFJlY29ubmVjdD1cIlJlcXVlc3RSZWNvbm5lY3RcIix0LlJlcXVlc3RSZWNvbm5lY3RQQz1cIlJlcXVlc3RSZWNvbm5lY3RQQ1wiLHQuUmVxdWVzdFVucHVibGlzaEZvclJlY29ubmVjdFBDPVwiUmVxdWVzdFVucHVibGlzaEZvclJlY29ubmVjdFBDXCIsdC5QMlBMb3N0PVwiUDJQTG9zdFwiLHQuVXBkYXRlVmlkZW9FbmNvZGVyPVwiVXBkYXRlVmlkZW9FbmNvZGVyXCIsdC5Db25uZWN0aW9uVHlwZUNoYW5nZT1cIkNvbm5lY3Rpb25UeXBlQ2hhbmdlXCIsdC5SZXF1ZXN0TG93U3RyZWFtUGFyYW1ldGVyPVwiUmVxdWVzdExvd1N0cmVhbVBhcmFtZXRlclwiLHQuUXVlcnlDbGllbnRDb25uZWN0aW9uU3RhdGU9XCJRdWVyeUNsaWVudENvbm5lY3Rpb25TdGF0ZVwiLHQuTG9jYWxDYW5kaWRhdGU9XCJMb2NhbENhbmRpZGF0ZVwiLHQuUmVxdWVzdFAyUE11dGVMb2NhbD1cInJlcXVlc3RQMlBNdXRlTG9jYWxcIix0LlJlcXVlc3RQMlBVblB1Ymxpc2g9XCJSZXF1ZXN0UDJQVW5QdWJsaXNoXCIsdC5SZXF1ZXN0UDJQVW5tdXRlUmVtb3RlPVwiUmVxdWVzdFAyUFVubXV0ZVJlbW90ZVwiLHQuUmVxdWVzdFAyUE11dGVSZW1vdGU9XCJSZXF1ZXN0UDJQTXV0ZVJlbW90ZVwiLHQuUmVxdWVzdFAyUFJlc3RhcnRJQ0U9XCJSZXF1ZXN0UDJQUmVzdGFydElDRVwiLHR9KHt9KSxFaT1mdW5jdGlvbih0KXtyZXR1cm4gdC5DT05ORUNUSU5HPVwiQ09OTkVDVElOR1wiLHQuUkVDT05ORUNUSU5HPVwiUkVDT05ORUNUSU5HXCIsdC5DT05ORUNURUQ9XCJDT05ORUNURURcIix0LkNMT1NFRD1cIkNMT1NFRFwiLHR9KHt9KSxkaT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkNPTk5FQ1RfQVA9MF09XCJDT05ORUNUX0FQXCIsdFt0LkFQX0NPTk5FQ1RFRD0xXT1cIkFQX0NPTk5FQ1RFRFwiLHRbdC5DT05ORUNUX1dPUktFUl9NQU5BR0VSPTJdPVwiQ09OTkVDVF9XT1JLRVJfTUFOQUdFUlwiLHRbdC5XT1JLRVJfTUFOQUdFUl9DT05ORUNURUQ9M109XCJXT1JLRVJfTUFOQUdFUl9DT05ORUNURURcIix0W3QuR0VUX1dPUktFUl9NQU5BR0VSX1JFU1BPTlNFPTRdPVwiR0VUX1dPUktFUl9NQU5BR0VSX1JFU1BPTlNFXCIsdFt0LkNPTk5FQ1RfV09SS0VSPTVdPVwiQ09OTkVDVF9XT1JLRVJcIix0W3QuV09SS0VSX0NPTk5FQ1RFRD02XT1cIldPUktFUl9DT05ORUNURURcIix0W3QuQ0xPU0VEPTddPVwiQ0xPU0VEXCIsdH0oe30pLHdlPWZ1bmN0aW9uKHQpe3JldHVybiB0LkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFPVwiY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIix0LlNUQVRFX0NIQU5HRT1cInN0YXRlLWNoYW5nZVwiLHQuSU5TUEVDVF9SRVNVTFQ9XCJpbnNwZWN0LXJlc3VsdFwiLHQuQ0xJRU5UX0xPQ0FMX1ZJREVPX1RSQUNLPVwiY2xpZW50LWxvY2FsLXZpZGVvLXRyYWNrXCIsdC5SRVFVRVNUX05FV19XT1JLRVJfVVJMPVwicmVxdWVzdC1uZXctd29ya2VyLXVybFwiLHR9KHt9KSxQTz1mdW5jdGlvbih0KXtyZXR1cm4gdC5DT05ORUNURUQ9XCJ0cmFuc21pdHRlcjpjb25uZWN0ZWRcIix0LlJFQ09OTkVDVElORz1cInRyYW5zbWl0dGVyOnJlY29ubmVjdGluZ1wiLHQuV0lMTF9SRUNPTk5FQ1Q9XCJ0cmFuc21pdHRlcjp3aWxsX3JlY29ubmVjdFwiLHQuQ0xPU0VEPVwidHJhbnNtaXR0ZXI6Y2xvc2VkXCIsdC5GQUlMRUQ9XCJ0cmFuc21pdHRlcjpmYWlsZWRcIix0Lk9OX01FU1NBR0U9XCJ0cmFuc21pdHRlcjpvbl9tZXNzYWdlXCIsdC5SRVFVRVNUX05FV19VUkxTPVwidHJhbnNtaXR0ZXI6cmVxdWVzdF9uZXdfdXJsc1wiLHQuUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSD1cInRyYW5zbWl0dGVyOnJlY29ubmVjdF93YWl0dGluZ19maW5pc2hcIix0LlJFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTj1cInRyYW5zbWl0dGVyOnJlY29ubmVjdF9jcmVhdGVfY29ubmVjdGlvblwiLHQuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkU9XCJ0cmFuc21pdHRlcjpvbl90b2tlbl9wcml2aWxlZ2VfZGlkX2V4cGlyZVwiLHQuVE9fQ09OTkVDVF9EQVRBQ0hBTk5FTD1cInRyYW5zbWl0dGVyOnRvX2Nvbm5lY3RfZGF0YWNoYW5uZWxcIix0LkZBSUxCQUNLPVwidHJhbnNtaXR0ZXI6ZmFpbGJhY2tcIix0LlBSRV9DT05ORUNUX1BDPVwidHJhbnNtaXR0ZXI6cHJlX2Nvbm5lY3RfcGNcIix0fSh7fSksbnI9ZnVuY3Rpb24odCl7cmV0dXJuIHQuQ0FNRVJBX0NIQU5HRUQ9XCJjYW1lcmEtY2hhbmdlZFwiLHQuTUlDUk9QSE9ORV9DSEFOR0VEPVwibWljcm9waG9uZS1jaGFuZ2VkXCIsdC5QTEFZQkFDS19ERVZJQ0VfQ0hBTkdFRD1cInBsYXliYWNrLWRldmljZS1jaGFuZ2VkXCIsdC5BVURJT19BVVRPUExBWV9GQUlMRUQ9XCJhdWRpby1hdXRvcGxheS1mYWlsZWRcIix0LkFVVE9QTEFZX0ZBSUxFRD1cImF1dG9wbGF5LWZhaWxlZFwiLHQuQVVESU9fQ09OVEVYVF9TVEFURV9DSEFOR0VEPVwiYXVkaW8tY29udGV4dC1zdGF0ZS1jaGFuZ2VkXCIsdC5TRUNVUklUWV9QT0xJQ1lfVklPTEFUSU9OPVwic2VjdXJpdHktcG9saWN5LXZpb2xhdGlvblwiLHR9KHt9KSxYbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5DT05ORUNUSU5HPVwiQ09OTkVDVElOR1wiLHQuUkVDT05ORUNUSU5HPVwiUkVDT05ORUNUSU5HXCIsdC5DT05ORUNURUQ9XCJDT05ORUNURURcIix0LkNMT1NFRD1cIkNMT1NFRFwiLHR9KHt9KSxNaT1mdW5jdGlvbih0KXtyZXR1cm4gdC5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRT1cImNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlXCIsdC5TVEFURV9DSEFOR0U9XCJzdGF0ZS1jaGFuZ2VcIix0LklOU1BFQ1RfUkVTVUxUPVwiaW5zcGVjdC1yZXN1bHRcIix0LkNMSUVOVF9MT0NBTF9WSURFT19UUkFDSz1cImNsaWVudC1sb2NhbC12aWRlby10cmFja1wiLHQuUkVRVUVTVF9ORVdfV09SS0VSX1VSTD1cInJlcXVlc3QtbmV3LXdvcmtlci11cmxcIix0fSh7fSksaHM9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5DT05ORUNUX0FQPTBdPVwiQ09OTkVDVF9BUFwiLHRbdC5BUF9DT05ORUNURUQ9MV09XCJBUF9DT05ORUNURURcIix0W3QuQ09OTkVDVF9XT1JLRVJfTUFOQUdFUj0yXT1cIkNPTk5FQ1RfV09SS0VSX01BTkFHRVJcIix0W3QuV09SS0VSX01BTkFHRVJfQ09OTkVDVEVEPTNdPVwiV09SS0VSX01BTkFHRVJfQ09OTkVDVEVEXCIsdFt0LkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRT00XT1cIkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRVwiLHRbdC5DT05ORUNUX1dPUktFUj01XT1cIkNPTk5FQ1RfV09SS0VSXCIsdFt0LldPUktFUl9DT05ORUNURUQ9Nl09XCJXT1JLRVJfQ09OTkVDVEVEXCIsdFt0LkNMT1NFRD03XT1cIkNMT1NFRFwiLHR9KHt9KSxpZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5DQUxMPVwiY2FsbFwiLHQuQ0FORElEQVRFPVwiY2FuZGlkYXRlXCIsdC5QVUJMSVNIPVwicHVibGlzaFwiLHQuVU5QVUJMSVNIPVwidW5wdWJsaXNoXCIsdC5DT05UUk9MPVwiY29udHJvbFwiLHQuUkVTVEFSVF9JQ0U9XCJyZXN0YXJ0X2ljZVwiLHQuQUNLPVwiYWNrXCIsdC5SRVNQT05TRT1cInJlc3BvbnNlXCIsdC5KT0lOPVwiam9pblwiLHQuQ0hFQ0s9XCJjaGVja1wiLHR9KHt9KSxwcz1mdW5jdGlvbih0KXtyZXR1cm4gdC5BQk9SVD1cImFib3J0XCIsdH0oe30pLHRvPWZ1bmN0aW9uKHQpe3JldHVybiB0Lk1VVEVfTE9DQUxfQVVESU89XCJtdXRlX2xvY2FsX2F1ZGlvXCIsdC5NVVRFX0xPQ0FMX1ZJREVPPVwibXV0ZV9sb2NhbF92aWRlb1wiLHQuVU5NVVRFX0xPQ0FMX0FVRElPPVwidW5tdXRlX2xvY2FsX2F1ZGlvXCIsdC5VTk1VVEVfTE9DQUxfVklERU89XCJ1bm11dGVfbG9jYWxfdmlkZW9cIix0fSh7fSksY2o9ZnVuY3Rpb24odCl7cmV0dXJuIHQuUDJQX1RPS0VOX1RJTUVPVVQ9XCJwMnBfdG9rZW5fdGltZW91dFwiLHQuUDJQX1RPS0VOX0NIQU5HRUQ9XCJwMnBfdG9rZW5fY2hhbmdlZFwiLHR9KHt9KSxkaj17W2dsLkFDQ0VTU19QT0lOVF06e1tvbi5OT19GTEFHX1NFVF06e2Rlc2M6XCJmbGFnIGlzIHplcm9cIixyZXRyeTohMX0sW29uLkZMQUdfU0VUX0JVVF9FTVBUWV06e2Rlc2M6XCJmbGFnIGlzIGVtcHR5XCIscmV0cnk6ITF9LFtvbi5JTlZBTElEX0ZBTEdfU0VUXTp7ZGVzYzpcImludmFsaWQgZmxhZ1wiLHJldHJ5OiExfSxbb24uRkxBR19TRVRfQlVUX05PX1JFXTp7ZGVzYzpcImZsYWcgc2V0IHVuaWxicyBidXQgbm8gcmVxdWVzdFwiLHJldHJ5OiExfSxbb24uSU5WQUxJRF9TRVJWSUNFX0lEXTp7ZGVzYzpcImludmFsaWQgc2VydmljZSBpZFwiLHJldHJ5OiExfSxbb24uTk9fU0VSVklDRV9BVkFJTEFCTEVdOntkZXNjOlwibm8gc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW29uLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1AyUF06e2Rlc2M6XCJubyB1bmlsYnMgcDJwIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtvbi5OT19TRVJWSUNFX0FWQUlMQUJMRV9WT0lDRV06e2Rlc2M6XCJubyB1bmlsYnMgdm9pY2Ugc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW29uLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1dFQlJUQ106e2Rlc2M6XCJubyB1bmlsYnMgd2VicnRjIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtvbi5OT19TRVJWSUNFX0FWQUlMQUJMRV9DRFNdOntkZXNjOlwibm8gY2RzIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtvbi5OT19TRVJWSUNFX0FWQUlMQUJMRV9DRE5dOntkZXNjOlwibm8gY2RuIGRpc3BhdGNoZXIgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW29uLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1REU106e2Rlc2M6XCJubyB0ZHMgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW29uLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1JFUE9SVF06e2Rlc2M6XCJubyB1bmlsYnMgcmVwb3J0IHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtvbi5OT19TRVJWSUNFX0FWQUlMQUJMRV9BUFBfQ0VOVEVSXTp7ZGVzYzpcIm5vIGFwcCBjZW50ZXIgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW29uLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0VOVjBdOntkZXNjOlwibm8gdW5pbGJzIHNpZyBlbnYwIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtvbi5OT19TRVJWSUNFX0FWQUlMQUJMRV9WT0VUXTp7ZGVzYzpcIm5vIHVuaWxicyB2b2V0IHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtvbi5OT19TRVJWSUNFX0FWQUlMQUJMRV9TVFJJTkdfVUlEXTp7ZGVzYzpcIm5vIHN0cmluZyB1aWQgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW29uLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1dFQlJUQ19VTklMQlNdOntkZXNjOlwibm8gd2VicnRjIHVuaWxicyBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfX0sW2dsLlVOSUxCU106e1tjaS5JTlZBTElEX1ZFTkRPUl9LRVldOntkZXNjOlwiaW52YWxpZCB2ZW5kb3Iga2V5LCBjYW4gbm90IGZpbmQgYXBwaWRcIixyZXRyeTohMX0sW2NpLklOVkFMSURfQ0hBTk5FTF9OQU1FXTp7ZGVzYzpcImludmFsaWQgY2hhbm5lbCBuYW1lXCIscmV0cnk6ITF9LFtjaS5JTlRFUk5BTF9FUlJPUl06e2Rlc2M6XCJ1bmlsYnMgaW50ZXJuYWwgZXJyb3JcIixyZXRyeTohMX0sW2NpLk5PX0FVVEhPUklaRURdOntkZXNjOlwiaW52YWxpZCB0b2tlbiwgYXV0aG9yaXplZCBmYWlsZWRcIixyZXRyeTohMX0sW2NpLkRZTkFNSUNfS0VZX1RJTUVPVVRdOntkZXNjOlwiZHluYW1pYyBrZXkgb3IgdG9rZW4gdGltZW91dFwiLHJldHJ5OiExfSxbY2kuTk9fQUNUSVZFX1NUQVRVU106e2Rlc2M6XCJubyBhY3RpdmUgc3RhdHVzXCIscmV0cnk6ITF9LFtjaS5EWU5BTUlDX0tFWV9FWFBJUkVEXTp7ZGVzYzpcImR5bmFtaWMga2V5IGV4cGlyZWRcIixyZXRyeTohMX0sW2NpLlNUQVRJQ19VU0VfRFlOQU1JQ19LRVldOntkZXNjOlwic3RhdGljIHVzZSBkeW5hbWljIGtleVwiLHJldHJ5OiExfSxbY2kuRFlOQU1JQ19VU0VfU1RBVElDX0tFWV06e2Rlc2M6XCJkeW5hbWljIHVzZSBzdGF0aWMga2V5XCIscmV0cnk6ITF9LFtjaS5VU0VSX09WRVJMT0FEXTp7ZGVzYzpcImFtb3VudCBvZiB1c2VycyBvdmVyIGxvYWRcIixyZXRyeTohMX0sW2NpLkZPUkJJRERFTl9SRUdJT05dOntkZXNjOlwidGhlIHJlcXVlc3QgaXMgZm9yYmlkZGVuIGluIHRoaXMgYXJlYVwiLHJldHJ5OiExfSxbY2kuQ0FOTk9UX01FRVRfQVJFQV9ERU1BTkRdOntkZXNjOlwidW5hYmxlIHRvIGFsbG9jYXRlIHNlcnZpY2VzIGluIHRoaXMgYXJlYVwiLHJldHJ5OiExfX0sW2dsLlNUUklOR19VSURfQUxMT0NBVE9SXTp7W01wLklJSUVHQUxfQVBQSURdOntkZXNjOlwiaW52YWxpZCBhcHBpZFwiLHJldHJ5OiExfSxbTXAuSUlJRUdBTF9VSURdOntkZXNjOlwiaW52YWxpZCBzdHJpbmcgdWlkXCIscmV0cnk6ITF9LFtNcC5JTlRFUk5BTF9FUlJPUl06e2Rlc2M6XCJzdHJpbmcgdWlkIGFsbG9jYXRvciBpbnRlcm5hbCBlcnJvclwiLHJldHJ5OiEwfX19O2Z1bmN0aW9uIHRhKHQpe2xldCBlPWRqW01hdGguZmxvb3IodC8xZTQpXTtpZighZSlyZXR1cm4ge2Rlc2M6XCJ1bmtub3duIGVycm9yXCIscmV0cnk6ITF9O2xldCBuPWVbdCUxZTRdO2lmKCFuKXtpZihNYXRoLmZsb29yKHQvMWU0KT09PWdsLkFDQ0VTU19QT0lOVCl7bGV0IGk9dCUxZTQ7aWYoaS50b1N0cmluZygpWzBdPT09XCIxXCIpcmV0dXJuIHtkZXNjOnQudG9TdHJpbmcoKSxyZXRyeTohMX07aWYoaS50b1N0cmluZygpWzBdPT09XCIyXCIpcmV0dXJuIHtkZXNjOnQudG9TdHJpbmcoKSxyZXRyeTohMH19cmV0dXJuIHtkZXNjOlwidW5rbm93biBlcnJvclwiLHJldHJ5OiExfX1yZXR1cm4gbn12YXIgbGo9e1taLktfVElNRVNUQU1QX0VYUElSRURdOntkZXNjOlwiS19USU1FU1RBTVBfRVhQSVJFRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5LX0NIQU5ORUxfUEVSTUlTU0lPTl9JTlZBTElEXTp7ZGVzYzpcIktfQ0hBTk5FTF9QRVJNSVNTSU9OX0lOVkFMSURcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouS19DRVJUSUZJQ0FURV9JTlZBTElEXTp7ZGVzYzpcIktfQ0VSVElGSUNBVEVfSU5WQUxJRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5LX0NIQU5ORUxfTkFNRV9FTVBUWV06e2Rlc2M6XCJLX0NIQU5ORUxfTkFNRV9FTVBUWVwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5LX0NIQU5ORUxfTk9UX0ZPVU5EXTp7ZGVzYzpcIktfQ0hBTk5FTF9OT1RfRk9VTkRcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouS19USUNLRVRfSU5WQUxJRF06e2Rlc2M6XCJLX1RJQ0tFVF9JTlZBTElEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLktfQ0hBTk5FTF9DT05GTElDVEVEXTp7ZGVzYzpcIktfQ0hBTk5FTF9DT05GTElDVEVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLktfU0VSVklDRV9OT1RfUkVBRFldOntkZXNjOlwiS19TRVJWSUNFX05PVF9SRUFEWVwiLGFjdGlvbjpcInRyeU5leHRcIn0sW1ouS19TRVJWSUNFX1RPT19IRUFWWV06e2Rlc2M6XCJLX1NFUlZJQ0VfVE9PX0hFQVZZXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbWi5LX1VJRF9CQU5ORURdOntkZXNjOlwiS19VSURfQkFOTkVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLktfSVBfQkFOTkVEXTp7ZGVzYzpcIktfSVBfQkFOTkVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLktfQVVUT19SRUJBTEFOQ0VdOntkZXNjOlwia19BVVRPX1JFQkFMQU5DRVwiLGFjdGlvbjpcInJlY292ZXJcIn0sW1ouRVJSX0lOVkFMSURfVkVORE9SX0tFWV06e2Rlc2M6XCJFUlJfSU5WQUxJRF9WRU5ET1JfS0VZXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLkVSUl9JTlZBTElEX0NIQU5ORUxfTkFNRV06e2Rlc2M6XCJFUlJfSU5WQUxJRF9DSEFOTkVMX05BTUVcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouV0FSTl9OT19BVkFJTEFCTEVfQ0hBTk5FTF06e2Rlc2M6XCJXQVJOX05PX0FWQUlMQUJMRV9DSEFOTkVMXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLldBUk5fTE9PS1VQX0NIQU5ORUxfVElNRU9VVF06e2Rlc2M6XCJXQVJOX0xPT0tVUF9DSEFOTkVMX1RJTUVPVVRcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtaLldBUk5fTE9PS1VQX0NIQU5ORUxfUkVKRUNURURdOntkZXNjOlwiV0FSTl9MT09LVVBfQ0hBTk5FTF9SRUpFQ1RFRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5XQVJOX09QRU5fQ0hBTk5FTF9USU1FT1VUXTp7ZGVzYzpcIldBUk5fT1BFTl9DSEFOTkVMX1RJTUVPVVRcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtaLldBUk5fT1BFTl9DSEFOTkVMX1JFSkVDVEVEXTp7ZGVzYzpcIldBUk5fT1BFTl9DSEFOTkVMX1JFSkVDVEVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLldBUk5fUkVRVUVTVF9ERUZFUlJFRF06e2Rlc2M6XCJXQVJOX1JFUVVFU1RfREVGRVJSRURcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouRVJSX0RZTkFNSUNfS0VZX1RJTUVPVVRdOntkZXNjOlwiRVJSX0RZTkFNSUNfS0VZX1RJTUVPVVRcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouRVJSX05PX0FVVEhPUklaRURdOntkZXNjOlwiRVJSX05PX0FVVEhPUklaRURcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouRVJSX1ZPTV9TRVJWSUNFX1VOQVZBSUxBQkxFXTp7ZGVzYzpcIkVSUl9WT01fU0VSVklDRV9VTkFWQUlMQUJMRVwiLGFjdGlvbjpcInRyeU5leHRcIn0sW1ouRVJSX05PX0NIQU5ORUxfQVZBSUxBQkxFX0NPREVdOntkZXNjOlwiRVJSX05PX0NIQU5ORUxfQVZBSUxBQkxFX0NPREVcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouRVJSX01BU1RFUl9WT0NTX1VOQVZBSUxBQkxFXTp7ZGVzYzpcIkVSUl9NQVNURVJfVk9DU19VTkFWQUlMQUJMRVwiLGFjdGlvbjpcInRyeU5leHRcIn0sW1ouRVJSX0lOVEVSTkFMX0VSUk9SXTp7ZGVzYzpcIkVSUl9JTlRFUk5BTF9FUlJPUlwiLGFjdGlvbjpcInRyeU5leHRcIn0sW1ouRVJSX05PX0FDVElWRV9TVEFUVVNdOntkZXNjOlwiRVJSX05PX0FDVElWRV9TVEFUVVNcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouRVJSX0lOVkFMSURfVUlEXTp7ZGVzYzpcIkVSUl9JTlZBTElEX1VJRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5FUlJfRFlOQU1JQ19LRVlfRVhQSVJFRF06e2Rlc2M6XCJFUlJfRFlOQU1JQ19LRVlfRVhQSVJFRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5FUlJfU1RBVElDX1VTRV9EWUFOTUlDX0tFXTp7ZGVzYzpcIkVSUl9TVEFUSUNfVVNFX0RZQU5NSUNfS0VcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouRVJSX0RZTkFNSUNfVVNFX1NUQVRJQ19LRV06e2Rlc2M6XCJFUlJfRFlOQU1JQ19VU0VfU1RBVElDX0tFXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLkVSUl9OT19WT0NTX0FWQUlMQUJMRV06e2Rlc2M6XCJFUlJfTk9fVk9DU19BVkFJTEFCTEVcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtaLkVSUl9OT19WT1NfQVZBSUxBQkxFXTp7ZGVzYzpcIkVSUl9OT19WT1NfQVZBSUxBQkxFXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbWi5FUlJfSk9JTl9DSEFOTkVMX1RJTUVPVVRdOntkZXNjOlwiRVJSX0pPSU5fQ0hBTk5FTF9USU1FT1VUXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbWi5FUlJfSk9JTl9CWV9NVUxUSV9JUF06e2Rlc2M6XCJFUlJfSk9JTl9CWV9NVUxUSV9JUFwiLGFjdGlvbjpcInJlY292ZXJcIn0sW1ouRVJSX05PVF9KT0lORURdOntkZXNjOlwiRVJSX05PVF9KT0lORURcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouRVJSX1JFUEVBVF9KT0lOX1JFUVVFU1RdOntkZXNjOlwiRVJSX1JFUEVBVF9KT0lOX1JFUVVFU1RcIixhY3Rpb246XCJxdWl0XCJ9LFtaLkVSUl9SRVBFQVRfSk9JTl9DSEFOTkVMXTp7ZGVzYzpcIkVSUl9SRVBFQVRfSk9JTl9DSEFOTkVMXCIsYWN0aW9uOlwicXVpdFwifSxbWi5FUlJfSU5WQUxJRF9TVFJJTkdVSURdOntkZXNjOlwiRVJSX0lOVkFMSURfU1RSSU5HVUlEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLkVSUl9UT09fTUFOWV9VU0VSU106e2Rlc2M6XCJFUlJfVE9PX01BTllfVVNFUlNcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtaLkVSUl9TRVRfQ0xJRU5UX1JPTEVfVElNRU9VVF06e2Rlc2M6XCJFUlJfU0VUX0NMSUVOVF9ST0xFX1RJTUVPVVRcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouRVJSX1NFVF9DTElFTlRfUk9MRV9OT19QRVJNSVNTSU9OXTp7ZGVzYzpcIkVSUl9TRVRfQ0xJRU5UX1JPTEVfVElNRU9VVFwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5FUlJfU0VUX0NMSUVOVF9ST0xFX0FMUkVBRFlfSU5fVVNFXTp7ZGVzYzpcIkVSUl9TRVRfQ0xJRU5UX1JPTEVfQUxSRUFEWV9JTl9VU0VcIixhY3Rpb246XCJzdWNjZXNzXCJ9LFtaLkVSUl9QVUJMSVNIX1JFUVVFU1RfSU5WQUxJRF06e2Rlc2M6XCJFUlJfUFVCTElTSF9SRVFVRVNUX0lOVkFMSURcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouRVJSX1NVQlNDUklCRV9SRVFVRVNUX0lOVkFMSURdOntkZXNjOlwiRVJSX1NVQlNDUklCRV9SRVFVRVNUX0lOVkFMSURcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouRVJSX05PVF9TVVBQT1JURURfTUVTU0FHRV06e2Rlc2M6XCJFUlJfTk9UX1NVUFBPUlRFRF9NRVNTQUdFXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLkVSUl9JTExFQUdBTF9QTFVHSU5dOntkZXNjOlwiRVJSX0lMTEVBR0FMX1BMVUdJTlwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5JTExFR0FMX0NMSUVOVF9ST0xFX0xFVkVMXTp7ZGVzYzpcIklMTEVHQUxfQ0xJRU5UX1JPTEVfTEVWRUxcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouRVJSX1JFSk9JTl9UT0tFTl9JTlZBTElEXTp7ZGVzYzpcIkVSUl9SRUpPSU5fVE9LRU5fSU5WQUxJRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5FUlJfUkVKT0lOX1VTRVJfTk9UX0pPSU5FRF06e2Rlc2M6XCJFUlJfUkVKT0lOX05PVF9KT0lORURcIixhY3Rpb246XCJmYWlsZWRcIn0sW1ouRVJSX0lOVkFMSURfT1BUSU9OQUxfSU5GT106e2Rlc2M6XCJFUlJfSU5WQUxJRF9PUFRJT05BTF9JTkZPXCIsYWN0aW9uOlwicXVpdFwifSxbWi5FUlJfVEVTVF9SRUNPVkVSXTp7ZGVzYzpcIkVSUl9URVNUX1JFQ09WRVJcIixhY3Rpb246XCJyZWNvdmVyXCJ9LFtaLkVSUl9URVNUX1RSWU5FWFRdOntkZXNjOlwiRVJSX1RFU1RfVFJZTkVYVFwiLGFjdGlvbjpcInJlY292ZXJcIn0sW1ouRVJSX1RFU1RfUkVUUlldOntkZXNjOlwiRVJSX1RFU1RfUkVUUllcIixhY3Rpb246XCJyZWNvdmVyXCJ9LFtaLklMTEVHQUxfQUVTX1BBU1NXT1JEXTp7ZGVzYzpcIkVSUl9URVNUX1JFVFJZXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLkVSUl9UT09fTUFOWV9CUk9BRENBU1RFUlNdOntkZXNjOlwiRVJSX1RPT19NQU5ZX0JST0FEQ0FTVEVSU1wiLGFjdGlvbjpcImZhaWxlZFwifSxbWi5FUlJfVE9PX01BTllfU1VCU0NSSUJFUlNdOntkZXNjOlwiRVJSX1RPT19NQU5ZX1NVQlNDUklCRVJTXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtaLkVSUl9MSUNFTlNFX0lMTEVHQUxdOntkZXNjOlwiRVJSX0xJQ0VOU0VfSUxMRUdBTFwiLGFjdGlvbjpcInF1aXRcIn0sW1ouRVJSX0xJQ0VOU0VfTUlTU0lOR106e2Rlc2M6XCJFUlJfTElDRU5TRV9NSVNTSU5HXCIsYWN0aW9uOlwicXVpdFwifSxbWi5FUlJfTElDRU5TRV9FWFBJUkVEXTp7ZGVzYzpcIkVSUl9MSUNFTlNFX0VYUElSRURcIixhY3Rpb246XCJxdWl0XCJ9LFtaLkVSUl9MSUNFTlNFX01JTlVURVNfRVhDRUVERURdOntkZXNjOlwiRVJSX0xJQ0VOU0VfTUlOVVRFU19FWENFRURFRFwiLGFjdGlvbjpcInF1aXRcIn0sW1ouRVJSX0xJQ0VOU0VfUEVSSU9EX0lOVkFMSURdOntkZXNjOlwiRVJSX0xJQ0VOU0VfUEVSSU9EX0lOVkFMSURcIixhY3Rpb246XCJxdWl0XCJ9LFtaLkVSUl9MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFXTp7ZGVzYzpcIkVSUl9MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFXCIsYWN0aW9uOlwicXVpdFwifX07ZnVuY3Rpb24gT2ModCl7cmV0dXJuIGxqW3RdfHx7ZGVzYzpcIlVOS05PV05fRVJST1JfXCIuY29uY2F0KHQpLGFjdGlvbjpcImZhaWxlZFwifX1mdW5jdGlvbiB4Uih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiBWcCh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj94UihPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6eFIoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9ZnVuY3Rpb24gVlIodCl7cmV0dXJuIHQuZXZlcnkoZT0+ZS5yZWFkeVN0YXRlPT09V2ViU29ja2V0LkNMT1NFRHx8ZS5yZWFkeVN0YXRlPT09V2ViU29ja2V0LkNMT1NJTkcpfWZ1bmN0aW9uIEZSKHQsZSl7aWYodHlwZW9mIHQ9PVwic3RyaW5nXCIpcmV0dXJuIHQ7bGV0e3Byb3h5Om4saG9zdDppLHBvcnQ6cn09dDtpZihlKXtsZXQgbz12KFwiSk9JTl9HQVRFV0FZX0ZBTExCQUNLX1BPUlRcIil8fDQ0MztyZXR1cm4gbz09PTQ0Mz9cIndzczovL1wiLmNvbmNhdChpLFwiL3dzLz9wPVwiKS5jb25jYXQoTnVtYmVyKHIpKzE1MCk6XCJ3c3M6Ly9cIi5jb25jYXQoaSxcIjpcIikuY29uY2F0KG8sXCIvd3MvP3A9XCIpLmNvbmNhdChOdW1iZXIocikrMTUwKX1yZXR1cm4gbj9cIndzczovL1wiLmNvbmNhdChuLFwiL3dzLz9oPVwiKS5jb25jYXQoaSxcIiZwPVwiKS5jb25jYXQocik6XCJ3c3M6Ly9cIi5jb25jYXQoaSxcIjpcIikuY29uY2F0KHIpfXZhciB1aj0vd3NzOlxcL1xcLyguKylcXC93c1xcL1xcP2g9KC4rKSZwPShbMC05XSspXFwvPy8saGo9L3dzczpcXC9cXC8oLispXFwvd3NcXC9cXD9wPShbMC05XSspXFwvPy8scGo9L3dzczpcXC9cXC8oLispOihbMC05XSspXFwvPy8sX2o9L3dzczpcXC9cXC8oLlteXFwvXSspXFwvPy8sRWo9MCxCRT1jbGFzc3tjb25zdHJ1Y3RvcihlLG4pe1QodGhpcyxcImlkXCIsMCksVCh0aGlzLFwic3RvcmVcIix2b2lkIDApLFQodGhpcyxcInJlY29yZEluZGV4XCIsdm9pZCAwKSxUKHRoaXMsXCJ3ZWJzb2NrZXRzXCIsW10pLFQodGhpcyxcInRyeTQ0M1BvcnREdXJhdGlvblwiLDJlMyksVCh0aGlzLFwiZm9yY2VDbG9zZVdTRHVyYXRpb25cIiw1ZTMpLFQodGhpcyxcInRyeTQ0M1BvcnRUaW1lb3V0XCIsbnVsbCksVCh0aGlzLFwiZm9yY2VDbG9zZVRpbWVvdXRcIixudWxsKSxUKHRoaXMsXCJpc1RyeTQ0M1BvcnRGYWlsZWRcIiwhMSksVCh0aGlzLFwiaXNOb3JtYWxQb3J0RmFpbGVkXCIsITEpLFQodGhpcyxcInVzZURvdWJsZURvbWFpblwiLCExKSxUKHRoaXMsXCJ1c2VQcm94eVwiLCExKSxUKHRoaXMsXCJzdGFydFRpbWVcIixEYXRlLm5vdygpKSx0aGlzLmlkPSsrRWosdGhpcy50cnk0NDNQb3J0RHVyYXRpb249dihcIkpPSU5fR0FURVdBWV9UUllfNDQzUE9SVF9EVVJBVElPTlwiKXx8MmUzLHRoaXMuZm9yY2VDbG9zZVdTRHVyYXRpb249ZXx8NWUzLHRoaXMuc3RvcmU9bjt9Y2xvc2VBbGxXZWJzb2NrZXRzKCl7dGhpcy53ZWJzb2NrZXRzLmZvckVhY2goZT0+e2Uub25vcGVuPW51bGwsZS5vbmNsb3NlPW51bGwsZS5vbm1lc3NhZ2U9bnVsbCxlLmNsb3NlKCk7fSksdGhpcy53ZWJzb2NrZXRzLmxlbmd0aD0wO31jbGVhclRpbWVvdXQoKXt0aGlzLmZvcmNlQ2xvc2VUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy5mb3JjZUNsb3NlVGltZW91dCksdGhpcy50cnk0NDNQb3J0VGltZW91dCYmY2xlYXJUaW1lb3V0KHRoaXMudHJ5NDQzUG9ydFRpbWVvdXQpO31sb2dnZXIoKXt2YXIgZTtsZXQgbj1EYXRlLm5vdygpLXRoaXMuc3RhcnRUaW1lO2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KGkpLG89MDtvPGk7bysrKXJbb109YXJndW1lbnRzW29dO18uZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3MgXCIuY29uY2F0KChlPXRoaXMuc3RvcmUpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5jbGllbnRJZCxcIiBcIikuY29uY2F0KHRoaXMuaWQsXCJdIFwiKS5jb25jYXQobixcIm1zOlwiKSwuLi5yKTt9Y3JlYXRlV2ViU29ja2V0KGUsbixpKXt0aGlzLmxvZ2dlcihcImNyZWF0ZVdlYlNvY2tldDpcIixlLHtpc1RyeTQ0M1BvcnQ6bixoYXNUaW1lb3V0RGV0ZWN0aW9uOml9KTtsZXQgcj12KFwiR0FURVdBWV9ET01BSU5TXCIpLG89RGF0ZS5ub3coKSxzPVtdLGE9ci5maW5kKGw9Pnt2YXIgdTtyZXR1cm4gVyh1PWUuaG9zdCkuY2FsbCh1LGwpfSk7YXx8KHRoaXMudXNlRG91YmxlRG9tYWluPSExKTtsZXQgYz1bXTtpZih0aGlzLnVzZURvdWJsZURvbWFpbilyLmZvckVhY2gobD0+e2MucHVzaChGUihWcChWcCh7fSxlKSx7fSx7aG9zdDplLmhvc3QucmVwbGFjZShhLGwpfSksbikpO30pO2Vsc2Uge2xldCBsPVZwKHt9LGUpO2lmKG4mJmEpe2xldCB1PXIuZmluZChoPT5oIT09YSk7dSYmKGwuaG9zdD1sLmhvc3QucmVwbGFjZShhLHUpKTt9Yy5wdXNoKEZSKGwsbikpO310cnl7Yy5mb3JFYWNoKGw9PntsZXQgdT1uZXcgV2ViU29ja2V0KGwpO3UuYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCIscy5wdXNoKHUpLHRoaXMubG9nZ2VyKFwid3MgaXMgY29ubmVjdGluZzpcIix1LnVybCk7fSk7fWNhdGNoKGwpe2lmKHRoaXMubG9nZ2VyKFwid3MgY3JlYXRlIGZhaWxlZFwiKSxzLmZvckVhY2godT0+dS5jbG9zZSgpKSxzLmxlbmd0aD0wLHRoaXMudXNlRG91YmxlRG9tYWluKXJldHVybiB0aGlzLnVzZURvdWJsZURvbWFpbj0hMSx0aGlzLmNyZWF0ZVdlYlNvY2tldChlLG4saSk7aWYoIW4mJk51bWJlcihlLnBvcnQpIT09NDQzKXJldHVybiB0aGlzLmNyZWF0ZVdlYlNvY2tldChlLCEwLGkpO3Rocm93IG5ldyBPKFIuV1NfRVJSLFwiaW5pdCB3ZWJzb2NrZXQgZmFpbGVkISBFcnJvcjogXCIuY29uY2F0KGwudG9TdHJpbmcoKSkpfWxldCBkPXZjKCk7cmV0dXJuIHRoaXMuc3RvcmUmJnRoaXMuc3RvcmUucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHt1cmxzOnMubWFwKGw9PmwudXJsKSxzZXJ2aWNlOlwiZ2F0ZXdheVwifSx0aGlzLnJlY29yZEluZGV4KSxzLmZvckVhY2gobD0+e2wub25vcGVuPSgpPT57dGhpcy5sb2dnZXIoXCJvbm9wZW46IHdzIFwiLmNvbmNhdChsLnVybCxcIiBvcGVuIGNvc3QgXCIpLmNvbmNhdChEYXRlLm5vdygpLW8sXCJtc1wiKSksdGhpcy53ZWJzb2NrZXRzLmZvckVhY2godT0+e3UhPT1sJiYodS5vbm9wZW49bnVsbCx1Lm9uY2xvc2U9bnVsbCx1Lm9ubWVzc2FnZT1udWxsLHUuY2xvc2UoKSx0aGlzLmxvZ2dlcihcImNsb3NlIGJhY2t1cCB3ZWJzb2NrZXQ6IFwiLmNvbmNhdCh1LnVybCkpKTt9KSx0aGlzLndlYnNvY2tldHMubGVuZ3RoPTAsZC5yZXNvbHZlKGwpO30sbC5vbmNsb3NlPXU9Pnt0aGlzLmxvZ2dlcihcIm9uY2xvc2U6IHdzIFwiLmNvbmNhdChsLnVybCxcIiBjbG9zZWQgY29zdCBcIikuY29uY2F0KERhdGUubm93KCktbyxcIm1zIHN0YXRlOiBcIikuY29uY2F0KGwucmVhZHlTdGF0ZSkpLG4/dGhpcy5pc1RyeTQ0M1BvcnRGYWlsZWQ9VlIocyk6dGhpcy5pc05vcm1hbFBvcnRGYWlsZWQ9VlIocyksdGhpcy5sb2dnZXIoXCI0NDM6IFwiLmNvbmNhdCh0aGlzLnVzZVByb3h5P1wibm90IHRyeVwiOnRoaXMuaXNUcnk0NDNQb3J0RmFpbGVkP1wiZmFpbGVkXCI6XCJ0cnlpbmdcIixcIiA0N3h4OiBcIikuY29uY2F0KHRoaXMuaXNOb3JtYWxQb3J0RmFpbGVkP1wiZmFpbGVkXCI6XCJ0cnlpbmdcIikpLChuJiZ0aGlzLmlzVHJ5NDQzUG9ydEZhaWxlZHx8IW4mJih0aGlzLmlzVHJ5NDQzUG9ydEZhaWxlZHx8dGhpcy51c2VQcm94eSkmJnRoaXMuaXNOb3JtYWxQb3J0RmFpbGVkKSYmKHRoaXMubG9nZ2VyKFwib25jbG9zZTogYWxsIHdlYnNvY2tldCBpcyBjbG9zZWQsIFwiLmNvbmNhdCh1LnJlYXNvbikpLGQucmVqZWN0KHtjb2RlOnUuY29kZSxyZWFzb246VGwuQV9ST1VORF9XU19GQUlMRUR9KSk7fSxsLm9ubWVzc2FnZT11PT50aGlzLmxvZ2dlcihcIlwiLmNvbmNhdChsLnVybCxcIiBvbm1lc3NhZ2U6IFwiKS5jb25jYXQodS5kYXRhKSk7fSksdGhpcy53ZWJzb2NrZXRzLnB1c2goLi4ucyksaXx8KCgpPT57bGV0IGw9KCk9Pnt0aGlzLmxvZ2dlcihcIjVzIHRpbWVvdXQgY2xvc2UgdW4tb3BlbnMsIGlzV2Vic29ja2V0IGNyZWF0ZWQ6IFwiLGQuaXNSZXNvbHZlZCksdGhpcy53ZWJzb2NrZXRzLmZvckVhY2godT0+dS5yZWFkeVN0YXRlIT09V2ViU29ja2V0Lk9QRU4mJnUuY2xvc2UoKSk7fTtpZihufHx0aGlzLnVzZVByb3h5KXJldHVybiB0aGlzLmxvZ2dlcihcImFkZCA1cyB0aW1lb3V0IGF0IFwiLmNvbmNhdChuP1widHJ5LTQ0M1wiOlwicHJveHlcIixcIiBjb25kaXRpb25cIikpLHRoaXMuZm9yY2VDbG9zZVRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQobCx0aGlzLmZvcmNlQ2xvc2VXU0R1cmF0aW9uKTt0aGlzLnRyeTQ0M1BvcnRUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KCgpPT57aWYodGhpcy5sb2dnZXIoXCIycyB0aW1lb3V0LCBpc1dlYnNvY2tldCBjcmVhdGVkOiBcIixkLmlzUmVzb2x2ZWQpLGQuaXNSZXNvbHZlZClyZXR1cm4gbCgpO210KCkub3M9PT15ZS5NQUNfT1MmJiR0KCkmJmwoKSx0aGlzLmNyZWF0ZVdlYlNvY2tldChlLCEwLCEwKS50aGVuKHU9PmQucmVzb2x2ZSh1KSkuY2F0Y2godT0+e3RoaXMuaXNOb3JtYWxQb3J0RmFpbGVkJiZkLnJlamVjdCh1KSx0aGlzLmxvZ2dlcihcInRyeSA0NDMgcG9ydCB0byBjcmVhdGUgd3MgZmFpbGVkXCIpO30pLHRoaXMuZm9yY2VDbG9zZVRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQobCx0aGlzLmZvcmNlQ2xvc2VXU0R1cmF0aW9uKTt9LHRoaXMudHJ5NDQzUG9ydER1cmF0aW9uKTt9KSgpLGQucHJvbWlzZX1jaG9vc2VCZXN0V2Vic29ja2V0KGUsbixpLHIpe3JldHVybiB0aGlzLnVzZURvdWJsZURvbWFpbj0hIW4sdHlwZW9mIGU9PVwic3RyaW5nXCImJihlPWZ1bmN0aW9uKG8pe2xldCBzLGEsYztyZXR1cm4gWyxzLGEsY109by5tYXRjaCh1ail8fFtdLHN8fChbLGEsY109by5tYXRjaChoail8fFtdKSxhJiZjfHwoWyxhLGNdPW8ubWF0Y2gocGopfHxbXSksYSYmY3x8KFssYV09by5tYXRjaChfail8fFtdKSxhfHxfLndhcm5pbmcoXCJ1bi1kZXN0cnVjdGlibGUgdXJsOiBcIixvKSx7cHJveHk6cyxob3N0OmEscG9ydDpjfHxcIjQ0M1wifX0oZSkpLHRoaXMucmVjb3JkSW5kZXg9cix0aGlzLnVzZVByb3h5PSEhZS5wcm94eSxpJiZ0aGlzLnVzZVByb3h5JiYoXy53YXJuKFwiY2Fubm90IHVzZSA0NDMgb25seSB3aGVuIHVzZSBwcm94eVwiKSxpPSExKSx0aGlzLmNyZWF0ZVdlYlNvY2tldChlLCEhaSwhMSkuZmluYWxseSgoKT0+dGhpcy5jbGVhclRpbWVvdXQoKSl9fTtmdW5jdGlvbiBCUih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn12YXIgcWw9Y2xhc3MgZXh0ZW5kcyBYdHtnZXQgdXJsKCl7cmV0dXJuIHRoaXMud2Vic29ja2V0JiZ0aGlzLndlYnNvY2tldC51cmx8fG51bGx9Z2V0IHJlY29ubmVjdE1vZGUoKXtyZXR1cm4gdGhpcy5fcmVjb25uZWN0TW9kZX1zZXQgcmVjb25uZWN0TW9kZShlKXt2YXIgbjtXKG49W1widHJ5TmV4dFwiLFwicmVjb3ZlclwiXSkuY2FsbChuLGUpJiZ0aGlzLnJlc2V0UmVjb25uZWN0Q291bnQoZSksdGhpcy5fcmVjb25uZWN0TW9kZT1lO31nZXQgc3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGV9c2V0IHN0YXRlKGUpe2UhPT10aGlzLl9zdGF0ZSYmKHRoaXMuX3N0YXRlPWUsdGhpcy5fc3RhdGU9PT1cInJlY29ubmVjdGluZ1wiP3RoaXMuZW1pdChpdC5SRUNPTk5FQ1RJTkcsdGhpcy5yZWNvbm5lY3RSZWFzb24pOnRoaXMuX3N0YXRlPT09XCJjb25uZWN0ZWRcIj90aGlzLmVtaXQoaXQuQ09OTkVDVEVEKTp0aGlzLl9zdGF0ZT09PVwiY2xvc2VkXCI/dGhpcy5lbWl0KGl0LkNMT1NFRCk6dGhpcy5fc3RhdGU9PT1cImZhaWxlZFwiJiZ0aGlzLmVtaXQoaXQuRkFJTEVEKSk7fXJlc2V0UmVjb25uZWN0Q291bnQoZSl7Xy5kZWJ1ZyhcIndlYnNvY2tldCByZXNldCByZWNvbm5lY3QgY291bnQsIHJlYXNvbjogXCIrZSksdGhpcy5yZWNvbm5lY3RDb3VudD0wO31jb25zdHJ1Y3RvcihlLG4pe2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dm9pZCAwJiZhcmd1bWVudHNbMl0scj1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXZvaWQgMCYmYXJndW1lbnRzWzNdLG89YXJndW1lbnRzLmxlbmd0aD40JiZhcmd1bWVudHNbNF0hPT12b2lkIDAmJmFyZ3VtZW50c1s0XSxzPWFyZ3VtZW50cy5sZW5ndGg+NT9hcmd1bWVudHNbNV06dm9pZCAwO3N1cGVyKCksVCh0aGlzLFwiY29ubmVjdGlvbklEXCIsMCksVCh0aGlzLFwiY3VycmVudFVSTEluZGV4XCIsMCksVCh0aGlzLFwidXJsc1wiLFtdKSxUKHRoaXMsXCJfcmVjb25uZWN0TW9kZVwiLFwidHJ5TmV4dFwiKSxUKHRoaXMsXCJyZWNvbm5lY3RSZWFzb25cIix2b2lkIDApLFQodGhpcyxcIl9pbml0TXV0ZXhcIixuZXcgemUoXCJ3ZWJzb2NrZXRcIikpLFQodGhpcyxcIm5hbWVcIix2b2lkIDApLFQodGhpcyxcIl9zdGF0ZVwiLFwiY2xvc2VkXCIpLFQodGhpcyxcInJlY29ubmVjdEludGVycnVwdGVyXCIsdm9pZCAwKSxUKHRoaXMsXCJ3ZWJzb2NrZXRcIix2b2lkIDApLFQodGhpcyxcInJldHJ5Q29uZmlnXCIsdm9pZCAwKSxUKHRoaXMsXCJyZWNvbm5lY3RDb3VudFwiLDApLFQodGhpcyxcImZvcmNlQ2xvc2VUaW1lb3V0XCIsNWUzKSxUKHRoaXMsXCJvbmxpbmVSZWNvbm5lY3RMaXN0ZW5lclwiLHZvaWQgMCksVCh0aGlzLFwidXNlQ29tcHJlc3NcIix2b2lkIDApLFQodGhpcyxcInRyeURvdWJsZURvbWFpblwiLCExKSxUKHRoaXMsXCJ1c2U0NDNQb3J0T25seVwiLCExKSxUKHRoaXMsXCJ3c0luZmxhdGVMZW5ndGhcIiwwKSxUKHRoaXMsXCJ3c0RlZmxhdGVMZW5ndGhcIiwwKSxUKHRoaXMsXCJjbG9zZUVzdGFibGlzaGluZ1dzXCIsKCk9Pnt9KSxUKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksVCh0aGlzLFwiam9pbkdhdGV3YXlSZWNvcmRJbmRleFwiLHZvaWQgMCksdGhpcy5zdG9yZT1zLHRoaXMubmFtZT1lLHRoaXMucmV0cnlDb25maWc9ZnVuY3Rpb24odSl7Zm9yKHZhciBoPTE7aDxhcmd1bWVudHMubGVuZ3RoO2grKyl7dmFyIHA9YXJndW1lbnRzW2hdIT1udWxsP2FyZ3VtZW50c1toXTp7fTtoJTI/QlIoT2JqZWN0KHApLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKGcpe1QodSxnLHBbZ10pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocCkpOkJSKE9iamVjdChwKSkuZm9yRWFjaChmdW5jdGlvbihnKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodSxnLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocCxnKSk7fSk7fXJldHVybiB1fSh7fSxuKSx0aGlzLnVzZUNvbXByZXNzPWksdGhpcy50cnlEb3VibGVEb21haW49cix0aGlzLnVzZTQ0M1BvcnRPbmx5PW87bGV0e3RpbWVvdXQ6YSx0aW1lb3V0RmFjdG9yOmN9PW4sZD1NYXRoLm1heCgzMDAsTWF0aC5mbG9vcigzKmEvNSkpLGw9TWF0aC5tYXgoMS4yLE1hdGguZmxvb3IoOCpjKS8xMCk7d24uT05MSU5FJiYodGhpcy5yZXRyeUNvbmZpZy50aW1lb3V0PWQsdGhpcy5yZXRyeUNvbmZpZy50aW1lb3V0RmFjdG9yPWwpLGhlLm9uKGtzLk5FVFdPUktfU1RBVEVfQ0hBTkdFLCh1LGgpPT57dSE9PWgmJih0aGlzLnJlc2V0UmVjb25uZWN0Q291bnQoXCJuZXR3b3JrIHN0YXRlIGNoYW5nZTogXCIuY29uY2F0KGgsXCIgLT4gXCIpLmNvbmNhdCh1KSksdT09PXduLk9OTElORT8odGhpcy5yZXRyeUNvbmZpZy50aW1lb3V0PWQsdGhpcy5yZXRyeUNvbmZpZy50aW1lb3V0RmFjdG9yPWwpOih0aGlzLnJldHJ5Q29uZmlnLnRpbWVvdXQ9YSx0aGlzLnJldHJ5Q29uZmlnLnRpbWVvdXRGYWN0b3I9YykpO30pO31nZXRDb25uZWN0aW9uKCl7cmV0dXJuIHRoaXMud2Vic29ja2V0fHx2b2lkIDB9YXN5bmMgaW5pdChlKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06NWUzLGk9YXdhaXQgdGhpcy5faW5pdE11dGV4LmxvY2soKTt0aGlzLmZvcmNlQ2xvc2VUaW1lb3V0PW4sdGhpcy51cmxzPWUsdGhpcy5zdGF0ZT1cImNvbm5lY3RpbmdcIjt0cnl7bGV0IHI9dmMoKSxvPXRoaXMudXJsc1t0aGlzLmN1cnJlbnRVUkxJbmRleF07dihcIkVOQUJMRV9QUkVBTExPQ19QQ1wiKSYmdGhpcy5lbWl0KFBPLlBSRV9DT05ORUNUX1BDKSx0aGlzLmNyZWF0ZVdlYlNvY2tldENvbm5lY3Rpb24obykudGhlbihyLnJlc29sdmUpLmNhdGNoKHIucmVqZWN0KSx0aGlzLm9uY2UoaXQuQ0xPU0VELCgpPT57ci5yZWplY3QobmV3IE4oUi5XU19ESVNDT05ORUNUKSk7fSksdGhpcy5vbmNlKGl0LkNPTk5FQ1RFRCxyLnJlc29sdmUpLGF3YWl0IHIucHJvbWlzZTt9Y2F0Y2h7fWZpbmFsbHl7aSgpO319Y2xvc2UoZSxuKXtpZih0aGlzLmN1cnJlbnRVUkxJbmRleD0wLHRoaXMucmVzZXRSZWNvbm5lY3RDb3VudChcImNsb3NlXCIpLHRoaXMucmVjb25uZWN0SW50ZXJydXB0ZXImJnRoaXMucmVjb25uZWN0SW50ZXJydXB0ZXIoKSx0aGlzLndlYnNvY2tldCl7dGhpcy53ZWJzb2NrZXQub25jbG9zZT1udWxsLHRoaXMud2Vic29ja2V0Lm9ub3Blbj1udWxsLHRoaXMud2Vic29ja2V0Lm9ubWVzc2FnZT1udWxsO2xldCBpPXRoaXMud2Vic29ja2V0O24/c2V0VGltZW91dCgoKT0+aS5jbG9zZSgpLDUwMCk6aS5jbG9zZSgpLHRoaXMud2Vic29ja2V0PXZvaWQgMDt9dGhpcy5zdGF0ZT1lP1wiZmFpbGVkXCI6XCJjbG9zZWRcIix0aGlzLmNsb3NlRXN0YWJsaXNoaW5nV3MmJnRoaXMuY2xvc2VFc3RhYmxpc2hpbmdXcygpO31yZWNvbm5lY3QoZSxuKXtpZighdGhpcy53ZWJzb2NrZXQpcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIGNhbiBub3QgcmVjb25uZWN0LCBubyB3ZWJzb2NrZXRcIikpO2UhPT12b2lkIDAmJih0aGlzLnJlY29ubmVjdE1vZGU9ZSksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSByZWNvbm5lY3QgaXMgdHJpZ2dlcmVkIGluaXRpYXRpdmVcIikpLHR5cGVvZiB0aGlzLmpvaW5HYXRld2F5UmVjb3JkSW5kZXg9PVwibnVtYmVyXCImJnRoaXMuc3RvcmUmJnRoaXMuc3RvcmUucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGF0dXM6XCJlcnJvclwiLGVycm9yczpbbmV3IEVycm9yKG4pXX0sdGhpcy5qb2luR2F0ZXdheVJlY29yZEluZGV4KTtsZXQgaT10aGlzLndlYnNvY2tldC5vbmNsb3NlO3RoaXMud2Vic29ja2V0Lm9uY2xvc2U9bnVsbCx0aGlzLndlYnNvY2tldC5jbG9zZSgpLGkmJmkuYmluZCh0aGlzLndlYnNvY2tldCkoe2NvZGU6OTk5OSxyZWFzb246bn0pO31zZW5kTWVzc2FnZShlKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMCYmYXJndW1lbnRzWzJdO2lmKCF0aGlzLndlYnNvY2tldHx8dGhpcy53ZWJzb2NrZXQucmVhZHlTdGF0ZSE9PVdlYlNvY2tldC5PUEVOKXRocm93IG5ldyBOKFIuV1NfQUJPUlQsXCJ3ZWJzb2NrZXQgaXMgbm90IHJlYWR5XCIpO3RyeXtufHwoZT1KU09OLnN0cmluZ2lmeShlKSksdGhpcy53ZWJzb2NrZXQuc2VuZChlKTt9Y2F0Y2goaSl7dGhyb3cgbmV3IE4oUi5XU19FUlIsXCJzZW5kIHdlYnNvY2tldCBtZXNzYWdlIGVycm9yXCIraS50b1N0cmluZygpKX19c2V0V3NJbmZsYXRlRGF0YShlKXt0aGlzLndzRGVmbGF0ZUxlbmd0aD10aGlzLndzRGVmbGF0ZUxlbmd0aCtlLm9yaWdpbkxlbmd0aCx0aGlzLndzSW5mbGF0ZUxlbmd0aD10aGlzLndzSW5mbGF0ZUxlbmd0aCtlLmNvbXByZXNzZWRMZW5ndGg7fWdldFdzSW5mbGF0ZURhdGEoKXtsZXQgZT10aGlzLndzSW5mbGF0ZUxlbmd0aCxuPXRoaXMud3NEZWZsYXRlTGVuZ3RoO3JldHVybiB0aGlzLmNsZWFyV3NJbmZsYXRlRGF0YSgpLHt3c0luZmxhdGVMZW5ndGg6ZSx3c0RlZmxhdGVMZW5ndGg6bn19Y2xlYXJXc0luZmxhdGVEYXRhKCl7dGhpcy53c0luZmxhdGVMZW5ndGg9MCx0aGlzLndzRGVmbGF0ZUxlbmd0aD0wO31hc3luYyBjcmVhdGVXZWJTb2NrZXRDb25uZWN0aW9uKGUpe3ZhciBuO2xldCBpPXZjKCk7dGhpcy5jb25uZWN0aW9uSUQrPTEsdGhpcy5qb2luR2F0ZXdheVJlY29yZEluZGV4PXZvaWQgMDtsZXQgcj1sPT57dmFyIHU7KHU9dGhpcy5zdG9yZSk9PT1udWxsfHx1PT09dm9pZCAwfHx1LnNpZ25hbENoYW5uZWxPcGVuKCksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSB3ZWJzb2NrZXQgb3BlbmVkOlwiKSxsKSx0aGlzLnJlY29ubmVjdE1vZGU9XCJyZXRyeVwiLHRoaXMuc3RhdGU9XCJjb25uZWN0ZWRcIix0aGlzLnJlc2V0UmVjb25uZWN0Q291bnQoXCJvcGVuZWRcIiksaS5yZXNvbHZlKCk7fSxvPWFzeW5jIGw9Pnt2YXIgdTtpZihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIHdlYnNvY2tldCBjbG9zZSBcIikuY29uY2F0KCh1PXRoaXMud2Vic29ja2V0KT09PW51bGx8fHU9PT12b2lkIDA/dm9pZCAwOnUudXJsLFwiLCBjb2RlOiBcIikuY29uY2F0KGwuY29kZSxcIiwgcmVhc29uOiBcIikuY29uY2F0KGwucmVhc29uLFwiLCBjdXJyZW50IG1vZGU6IFwiKS5jb25jYXQodGhpcy5yZWNvbm5lY3RNb2RlKSksdGhpcy5yZWNvbm5lY3RDb3VudD49dGhpcy5yZXRyeUNvbmZpZy5tYXhSZXRyeUNvdW50KWkucmVqZWN0KG5ldyBOKFIuV1NfRElTQ09OTkVDVCxcIndlYnNvY2tldCBjbG9zZTogXCIuY29uY2F0KGwuY29kZSkpKSx0aGlzLmNsb3NlKCk7ZWxzZSB7dGhpcy5zdGF0ZT09PVwiY29ubmVjdGVkXCImJih0aGlzLnJlY29ubmVjdFJlYXNvbj1sLnJlYXNvbix0aGlzLnN0YXRlPVwicmVjb25uZWN0aW5nXCIpO2xldCBoPW5pKHRoaXMsaXQuV0lMTF9SRUNPTk5FQ1QsdGhpcy5yZWNvbm5lY3RNb2RlLGwucmVhc29uKXx8dGhpcy5yZWNvbm5lY3RNb2RlLHA9YXdhaXQgdGhpcy5yZWNvbm5lY3RXaXRoQWN0aW9uKGgpO2lmKHRoaXMuc3RhdGU9PT1cImNsb3NlZFwiKXJldHVybiB2b2lkIF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvbklELFwiXSB3cyBpcyBjbG9zZWQsIG5vIG5lZWQgdG8gcmVjb25uZWN0XCIpKTtpZighcClyZXR1cm4gaS5yZWplY3QobmV3IE4oUi5XU19ESVNDT05ORUNULFwid2Vic29ja2V0IHJlY29ubmVjdCBmYWlsZWQ6IFwiLmNvbmNhdChsLmNvZGUpKSksdGhpcy5jbG9zZSghMCk7aS5yZXNvbHZlKCk7fX0scz1sPT57dGhpcy5lbWl0KGl0Lk9OX01FU1NBR0UsbCk7fSxhPWw9PntfLndhcm4oXCJbXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvbklELFwiXSB3cyBvcGVuIGVycm9yIFwiKS5jb25jYXQobCkpO307dGhpcy53ZWJzb2NrZXQmJih0aGlzLndlYnNvY2tldC5vbmNsb3NlPW51bGwsdGhpcy53ZWJzb2NrZXQuY2xvc2UoKSksdihcIkdBVEVXQVlfV1NTX0FERFJFU1NcIikmJnRoaXMubmFtZS5zdGFydHNXaXRoKFwiZ2F0ZXdheVwiKSYmKGU9dihcIkdBVEVXQVlfV1NTX0FERFJFU1NcIikpLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl0gc3RhcnQgY29ubmVjdCwgdXJsOlwiKSxlKTtsZXQgYz0obj10aGlzLnN0b3JlKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGFydFRzOkRhdGUubm93KCksc3RhdHVzOlwicGVuZGluZ1wiLHNlcnZpY2U6XCJnYXRld2F5XCJ9KTt0cnl7dmFyIGQ7bGV0IGw9YXdhaXQgdGhpcy5jaG9vc2VCZXN0V2Vic29ja2V0Q29ubmVjdGlvbihlKTt0aGlzLndlYnNvY2tldD1sLHImJnIodGhpcy53ZWJzb2NrZXQudXJsKSx0aGlzLndlYnNvY2tldC5vbmNsb3NlPW8sdGhpcy53ZWJzb2NrZXQub25tZXNzYWdlPXMsdGhpcy53ZWJzb2NrZXQub25lcnJvcj1hLChkPXRoaXMuc3RvcmUpPT09bnVsbHx8ZD09PXZvaWQgMHx8ZC5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOlwic3VjY2Vzc1wifSxjKSx0aGlzLmpvaW5HYXRld2F5UmVjb3JkSW5kZXg9Yzt9Y2F0Y2gobCl7bGV0IHU9dGhpcy5zdGF0ZT09PVwiY2xvc2VkXCIsaD1sIGluc3RhbmNlb2YgTixwPWgmJmwuY29kZT09PVIuV1NfQUJPUlQsZz1oJiZsLmNvZGU9PT1SLldTX0VSUixFPWg/bC5tZXNzYWdlOmwmJihsLnJlYXNvbnx8bC50b1N0cmluZygpKTtfLndhcm5pbmcoXCJbY2hvb3NlLWJlc3Qtd3NdIGNob29zZUJlc3RXZWJzb2NrZXQgZXJyb3I6IFwiLmNvbmNhdChFKSksdGhpcy5zdG9yZSYmdGhpcy5zdG9yZS5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOnA/XCJhYm9ydGVkXCI6XCJlcnJvclwiLGVycm9yczpbbF19LGMpLHV8fGc/KGkucmVqZWN0KHU/bmV3IE4oUi5XU19ESVNDT05ORUNULFwid2Vic29ja2V0IGlzIGNsb3NlZDogXCIuY29uY2F0KEUpKTpuZXcgTihSLldTX0VSUixcImluaXQgd2Vic29ja2V0IGZhaWxlZDogXCIuY29uY2F0KEUpKSksZyYmXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSBpbml0IHdlYnNvY2tldCBmYWlsZWQ6IFwiKS5jb25jYXQoRSkpKTpvJiZvKGwpO31yZXR1cm4gaS5wcm9taXNlfWFzeW5jIHJlY29ubmVjdFdpdGhBY3Rpb24oZSl7bGV0IG49IShhcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMCl8fGFyZ3VtZW50c1sxXTtpZih0aGlzLnJlY29ubmVjdENvdW50Pj10aGlzLnJldHJ5Q29uZmlnLm1heFJldHJ5Q291bnR8fHRoaXMudXJscy5sZW5ndGg9PT0wfHx0aGlzLnN0YXRlPT09XCJjbG9zZWRcIilyZXR1cm4gITE7Xy53YXJuaW5nKFwiW2Nob29zZS1iZXN0LXdzXSBhY3Rpb246ID0+XCIsZSksdGhpcy5vbmxpbmVSZWNvbm5lY3RMaXN0ZW5lcnx8aGUuaXNPbmxpbmV8fCFoZS5vbmxpbmVXYWl0ZXJ8fCh0aGlzLm9ubGluZVJlY29ubmVjdExpc3RlbmVyPWhlLm9ubGluZVdhaXRlci50aGVuKCgpPT57dGhpcy5vbmxpbmVSZWNvbm5lY3RMaXN0ZW5lcj12b2lkIDA7fSkpO2xldCBpPSEwO2lmKHRoaXMucmVjb25uZWN0SW50ZXJydXB0ZXI9KCk9Pmk9ITEsbil7bGV0IHM9aGYodGhpcy5yZWNvbm5lY3RDb3VudCx0aGlzLnJldHJ5Q29uZmlnKTtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIHdhaXQgXCIpLmNvbmNhdChzLFwibXMgdG8gcmVjb25uZWN0IHdlYnNvY2tldCwgbW9kZTogXCIpLmNvbmNhdChlKSksYXdhaXQgai5yYWNlKFtNZShzKSx0aGlzLm9ubGluZVJlY29ubmVjdExpc3RlbmVyfHxuZXcgaigoKT0+e30pXSk7fWlmKHRoaXMuX3N0YXRlPT09XCJjbG9zZWRcInx8IWkpcmV0dXJuICExO3RoaXMucmVjb25uZWN0Q291bnQrPTE7bGV0IHI9YXN5bmMocyxhKT0+e3RoaXMuZW1pdChpdC5SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT04sYSksYXdhaXQgdGhpcy5jcmVhdGVXZWJTb2NrZXRDb25uZWN0aW9uKHMpO307dHJ5e2lmKGU9PT1cInJldHJ5XCIpdGhpcy5lbWl0KGl0LlJFQ09OTkVDVF9XQUlUVElOR19GSU5JU0gsZSksYXdhaXQgcih0aGlzLnVybHNbdGhpcy5jdXJyZW50VVJMSW5kZXhdLGUpO2Vsc2UgaWYoZT09PVwidHJ5TmV4dFwiKXtpZih0aGlzLmN1cnJlbnRVUkxJbmRleCs9MSx0aGlzLmN1cnJlbnRVUkxJbmRleD49dGhpcy51cmxzLmxlbmd0aClyZXR1cm4gdGhpcy5yZWNvbm5lY3RXaXRoQWN0aW9uKFwicmVjb3ZlclwiLCExKTtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIHdlYnNvY2tldCB1cmwgbGVuZ3RoOiBcIikuY29uY2F0KHRoaXMudXJscy5sZW5ndGgsXCIgY3VycmVudCBpbmRleDogXCIpLmNvbmNhdCh0aGlzLmN1cnJlbnRVUkxJbmRleCkpLHRoaXMuZW1pdChpdC5SRUNPTk5FQ1RfV0FJVFRJTkdfRklOSVNILGUpLGF3YWl0IHIodGhpcy51cmxzW3RoaXMuY3VycmVudFVSTEluZGV4XSxlKTt9ZWxzZSBlPT09XCJyZWNvdmVyXCImJihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIHJlcXVlc3QgbmV3IHVybHNcIikpLHRoaXMucmVzZXRSZWNvbm5lY3RDb3VudChcInJlY292ZXIgbW9kZVwiKSx0aGlzLmVtaXQoaXQuUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSCxlKSx0aGlzLnVybHM9YXdhaXQgR2UodGhpcyxpdC5SRVFVRVNUX05FV19VUkxTKSx0aGlzLmN1cnJlbnRVUkxJbmRleD0wLGF3YWl0IHIodGhpcy51cmxzW3RoaXMuY3VycmVudFVSTEluZGV4XSxlKSk7fWNhdGNoKHMpe3ZhciBvO18uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl0gcmVjb25uZWN0IGZhaWxlZCBcIikuY29uY2F0KHMmJnMudG9TdHJpbmcoKSkpO2xldCBhPXM9PW51bGx8fChvPXMuZGF0YSk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLmRlc2M7cmV0dXJuIEFycmF5LmlzQXJyYXkoYSkmJlcoYSkuY2FsbChhLFwiZHluYW1pYyBrZXkgZXhwaXJlZFwiKT8odGhpcy5lbWl0KGl0Lk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFKSwhMSk6dGhpcy5yZWNvbm5lY3RXaXRoQWN0aW9uKGUsbil9cmV0dXJuICEwfX0sTmM9Y2xhc3MgZXh0ZW5kcyBxbHtjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKGUsbixhcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMCYmYXJndW1lbnRzWzJdLGFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dm9pZCAwJiZhcmd1bWVudHNbM10sYXJndW1lbnRzLmxlbmd0aD40JiZhcmd1bWVudHNbNF0hPT12b2lkIDAmJmFyZ3VtZW50c1s0XSxhcmd1bWVudHMubGVuZ3RoPjU/YXJndW1lbnRzWzVdOnZvaWQgMCk7fWFzeW5jIGNob29zZUJlc3RXZWJzb2NrZXRDb25uZWN0aW9uKGUsbil7bGV0IGk9dmMoKSxyPWZ1bmN0aW9uKHMsYSl7cmV0dXJuIG5ldyBCRShzLGEpfSh0aGlzLmZvcmNlQ2xvc2VUaW1lb3V0LHRoaXMuc3RvcmUpO3RoaXMuY2xvc2VFc3RhYmxpc2hpbmdXcz0oKT0+e18uZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdIGNsb3NlIGVzdGFibGlzaGluZyB3ZWJzb2NrZXRzXCIpLHIuY2xvc2VBbGxXZWJzb2NrZXRzKCksaS5yZWplY3QobmV3IE4oUi5XU19BQk9SVCxcImNob29zZSBiZXN0IHdlYnNvY2tldCBhYm9ydGVkXCIpKTt9O2xldCBvPXYoXCJHQVRFV0FZX0RPTUFJTlNcIik7cmV0dXJuIF8uZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdIGN1cnJlbnREb21haW46IFwiLGUsXCIsIGRvbWFpbnM6IFwiLG8sXCJ0b3RhbDogXCIuY29uY2F0KHRoaXMudXJscy5sZW5ndGgpLFwiY3VycmVudDogXCIuY29uY2F0KHRoaXMuY3VycmVudFVSTEluZGV4KzEpKSxyLmNob29zZUJlc3RXZWJzb2NrZXQoZSx0aGlzLnRyeURvdWJsZURvbWFpbix0aGlzLnVzZTQ0M1BvcnRPbmx5LG4pLnRoZW4oaS5yZXNvbHZlKS5jYXRjaChpLnJlamVjdCksaS5wcm9taXNlLmZpbmFsbHkoKCk9Pnt0aGlzLmNsb3NlRXN0YWJsaXNoaW5nV3M9dm9pZCAwO30pfX0sUW89Y2xhc3MgZXh0ZW5kcyBxbHtjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKGUsbixhcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMCYmYXJndW1lbnRzWzJdLGFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dm9pZCAwJiZhcmd1bWVudHNbM10sYXJndW1lbnRzLmxlbmd0aD40JiZhcmd1bWVudHNbNF0hPT12b2lkIDAmJmFyZ3VtZW50c1s0XSxhcmd1bWVudHMubGVuZ3RoPjU/YXJndW1lbnRzWzVdOnZvaWQgMCk7fWFzeW5jIGNob29zZUJlc3RXZWJzb2NrZXRDb25uZWN0aW9uKGUsbil7cmV0dXJuIG5ldyBqKChpLHIpPT57bGV0IG89ITEscz1bXTt0aGlzLmNsb3NlRXN0YWJsaXNoaW5nV3M9KCk9PntfLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXSBjbG9zZSBlc3RhYmxpc2hpbmcgd2Vic29ja2V0c1wiKSxzLmZvckVhY2goZz0+e2cub25jbG9zZT1udWxsLGcub25vcGVuPW51bGwsZy5vbm1lc3NhZ2U9bnVsbCxnLmNsb3NlKCk7fSkscihuZXcgTihSLldTX0FCT1JULFwiY2hvb3NlIGJlc3Qgd2Vic29ja2V0IGFib3J0ZWRcIikpO307bGV0IGE9dihcIkdBVEVXQVlfRE9NQUlOU1wiKSxjLGQ9ZS5pbmRleE9mKFwiP2g9XCIpLGw9YS5maW5kKGc9PmQhPT0tMT9XKGUpLmNhbGwoZSxnLGQpOlcoZSkuY2FsbChlLGcpKTtfLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXSBjdXJyZW50RG9tYWluOiBcIixsLFwiLCBkb21haW5zOiBcIixhKTtsZXQgdT0hdGhpcy50cnlEb3VibGVEb21haW58fCFsO2lmKCF1JiZsKXt2YXIgaDtsZXQgZz1EYXRlLm5vdygpO3RyeXthLmZvckVhY2goRT0+e2xldCBmPWQ9PT0tMT9lLnJlcGxhY2UobCxFKTplLnN1YnN0cigwLGQpK2Uuc3Vic3RyKGQpLnJlcGxhY2UobCxFKSxTPW5ldyBXZWJTb2NrZXQoZik7Uy5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIixzLnB1c2goUyksXy5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c10gd3MgaXMgY29ubmVjdGluZzpcIixTLnVybCk7fSk7fWNhdGNoe2ZvcihfLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXSB3cyBjcmVhdGUgZmFpbGVkLCBmYWxsYmFjayB0byBzaW5nbGUgdXJsXCIpLHMuZm9yRWFjaChmPT5mLmNsb3NlKCkpO3MubGVuZ3RoOylzLnBvcCgpO3U9ITA7fShoPXRoaXMuc3RvcmUpPT09bnVsbHx8aD09PXZvaWQgMHx8aC5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe3VybHM6cy5tYXAoRT0+RS51cmwpLHNlcnZpY2U6XCJnYXRld2F5XCJ9LG4pLHMuZm9yRWFjaChFPT57RS5vbm9wZW49KCk9PntpZihvKXJldHVybjtsZXQgZj1EYXRlLm5vdygpLWc7Xy5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c10gd3Mgb3BlbiBjb3N0IFwiLmNvbmNhdChmLFwibXNcIikpLHMuZmlsdGVyKFM9PlMhPT1FKS5mb3JFYWNoKFM9PntfLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXWNsb3NlIGJhY2t1cCB3ZWJzb2NrZXQ6IFwiLmNvbmNhdChTLnVybCkpLFMuY2xvc2UoKTt9KSxvPSEwLGkoRSk7fSxFLm9uY2xvc2U9Zj0+e2M9ZiwhbyYmKHMuZmluZChTPT4hKFMucmVhZHlTdGF0ZT09PVdlYlNvY2tldC5DTE9TRUR8fFMucmVhZHlTdGF0ZT09PVdlYlNvY2tldC5DTE9TSU5HKSl8fChfLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXSBhbGwgd2Vic29ja2V0IGlzIGNsb3NlZFwiKSxvPSEwLHIoYykpKTt9LEUub25tZXNzYWdlPWY9PntfLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXVwiLmNvbmNhdChFLnVybCxcIiBvbm1lc3NhZ2U6IFwiKS5jb25jYXQoZi5kYXRhKSk7fTt9KSxNZSh0aGlzLmZvcmNlQ2xvc2VUaW1lb3V0KS50aGVuKCgpPT57cy5mb3JFYWNoKEU9PntFLnJlYWR5U3RhdGUhPT1XZWJTb2NrZXQuT1BFTiYmRS5jbG9zZSgpO30pO30pO31pZih1KXt2YXIgcDtsZXQgZztfLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXSB1c2Ugc2luZ2xlIHVybDogXCIsZSksKHA9dGhpcy5zdG9yZSk9PT1udWxsfHxwPT09dm9pZCAwfHxwLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7dXJsczpbZV0sc2VydmljZTpcImdhdGV3YXlcIn0sbik7dHJ5e2c9bmV3IFdlYlNvY2tldChlKSxzLnB1c2goZyksZy5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIjt9Y2F0Y2goRSl7bGV0IGY9bmV3IE4oUi5XU19FUlIsXCJpbml0IHdlYnNvY2tldCBmYWlsZWQhIEVycm9yOiBcIi5jb25jYXQoRS50b1N0cmluZygpKSk7cmV0dXJuIF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl1cIikuY29uY2F0KGYpKSx2b2lkIHIoZil9Zy5vbm9wZW49KCk9PntpKGcpO30sZy5vbmNsb3NlPUU9PntyKEUpO30sZy5vbm1lc3NhZ2U9RT0+e18uZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdXCIuY29uY2F0KGcudXJsLFwiIG9ubWVzc2FnZTogXCIpLmNvbmNhdChFLmRhdGEpKTt9LE1lKHRoaXMuZm9yY2VDbG9zZVRpbWVvdXQpLnRoZW4oKCk9PntnJiZnLnJlYWR5U3RhdGUhPT1XZWJTb2NrZXQuT1BFTiYmZy5jbG9zZSgpO30pO319KS50aGVuKGk9Pih0aGlzLmNsb3NlRXN0YWJsaXNoaW5nV3M9dm9pZCAwLGkpKS5jYXRjaChpPT57dGhyb3cgdGhpcy5jbG9zZUVzdGFibGlzaGluZ1dzPXZvaWQgMCxpfSl9fSxqRT1jbGFzcyBleHRlbmRzIFh0e2dldCBjb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5fY29ubmVjdGlvblN0YXRlfXNldCBjb25uZWN0aW9uU3RhdGUoZSl7ZSE9PXRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSYmKHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZT1lLGU9PT1MdC5DT05ORUNURUQ/dGhpcy5lbWl0KG50LldTX0NPTk5FQ1RFRCk6ZT09PUx0LlJFQ09OTkVDVElORz90aGlzLmVtaXQobnQuV1NfUkVDT05ORUNUSU5HLHRoaXMuX3dlYnNvY2tldFJlY29ubmVjdFJlYXNvbik6ZT09PUx0LkNMT1NFRCYmdGhpcy5lbWl0KG50LldTX0NMT1NFRCx0aGlzLl9kaXNjb25uZWN0ZWRSZWFzb24pKTt9Z2V0IGN1cnJlbnRVUkxJbmRleCgpe3JldHVybiB0aGlzLndlYnNvY2tldC5jdXJyZW50VVJMSW5kZXh9Z2V0IHVybCgpe3JldHVybiB0aGlzLndlYnNvY2tldCYmdGhpcy53ZWJzb2NrZXQudXJsfHxudWxsfWdldCBydHQoKXtyZXR1cm4gdGhpcy5ydHRSb2xsaW5nLm1lYW4oKX1jb25zdHJ1Y3RvcihlLG4pe3N1cGVyKCksVCh0aGlzLFwiX2Rpc2Nvbm5lY3RlZFJlYXNvblwiLHZvaWQgMCksVCh0aGlzLFwiX3dlYnNvY2tldFJlY29ubmVjdFJlYXNvblwiLHZvaWQgMCksVCh0aGlzLFwiX2Nvbm5lY3Rpb25TdGF0ZVwiLEx0LkNMT1NFRCksVCh0aGlzLFwicmVjb25uZWN0VG9rZW5cIix2b2lkIDApLFQodGhpcyxcIndlYnNvY2tldFwiLHZvaWQgMCksVCh0aGlzLFwib3BlbkNvbm5lY3Rpb25UaW1lXCIsdm9pZCAwKSxUKHRoaXMsXCJjbGllbnRJZFwiLHZvaWQgMCksVCh0aGlzLFwibGFzdE1zZ1RpbWVcIixEYXRlLm5vdygpKSxUKHRoaXMsXCJ1cGxvYWRDYWNoZVwiLFtdKSxUKHRoaXMsXCJ1cGxvYWRDYWNoZUludGVydmFsXCIsdm9pZCAwKSxUKHRoaXMsXCJydHRSb2xsaW5nXCIsbmV3IEhsKDUpKSxUKHRoaXMsXCJwaW5ncG9uZ1RpbWVyXCIsdm9pZCAwKSxUKHRoaXMsXCJ3c0luZmxhdGVEYXRhVGltZXJcIix2b2lkIDApLFQodGhpcyxcInBpbmdwb25nVGltZW91dENvdW50XCIsMCksVCh0aGlzLFwiam9pblJlc3BvbnNlXCIsdm9pZCAwKSxUKHRoaXMsXCJtdWx0aUlwT3B0aW9uXCIsdm9pZCAwKSxUKHRoaXMsXCJpbml0RXJyb3JcIix2b2lkIDApLFQodGhpcyxcInNwZWNcIix2b2lkIDApLFQodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxUKHRoaXMsXCJvbldlYnNvY2tldE1lc3NhZ2VcIixpPT57aWYoaS5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuIHZvaWQgdGhpcy5lbWl0KG50Lk9OX0JJTkFSWV9EQVRBLGkuZGF0YSk7bGV0IHI9SlNPTi5wYXJzZShpLmRhdGEpO2lmKHRoaXMubGFzdE1zZ1RpbWU9RGF0ZS5ub3coKSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixcIl9pZFwiKSl7bGV0IG89XCJyZXMtQFwiLmNvbmNhdChyLl9pZCk7dGhpcy5lbWl0KG8sci5fcmVzdWx0LHIuX21lc3NhZ2UpO31lbHNlIGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLFwiX3R5cGVcIikpe2lmKHRoaXMuZW1pdChyLl90eXBlLHIuX21lc3NhZ2UpLHIuX3R5cGU9PT1kdC5PTl9OT1RJRklDQVRJT04mJnRoaXMuaGFuZGxlTm90aWZpY2F0aW9uKHIuX21lc3NhZ2UpLHIuX3R5cGU9PT1kdC5PTl9VU0VSX0JBTk5FRClzd2l0Y2goci5fbWVzc2FnZS5lcnJvcl9jb2RlKXtjYXNlIDE0OnRoaXMuY2xvc2UoQXQuVUlEX0JBTk5FRCk7YnJlYWs7Y2FzZSAxNTp0aGlzLmNsb3NlKEF0LklQX0JBTk5FRCk7YnJlYWs7Y2FzZSAxNjp0aGlzLmNsb3NlKEF0LkNIQU5ORUxfQkFOTkVEKTt9aWYoci5fdHlwZT09PWR0Lk9OX1VTRVJfTElDRU5TRV9CQU5ORUQpc3dpdGNoKHIuX21lc3NhZ2UuZXJyb3JfY29kZSl7Y2FzZSBaLkVSUl9MSUNFTlNFX01JU1NJTkc6dGhpcy5jbG9zZShBdC5MSUNFTlNFX01JU1NJTkcpO2JyZWFrO2Nhc2UgWi5FUlJfTElDRU5TRV9FWFBJUkVEOnRoaXMuY2xvc2UoQXQuTElDRU5TRV9FWFBJUkVEKTticmVhaztjYXNlIFouRVJSX0xJQ0VOU0VfTUlOVVRFU19FWENFRURFRDp0aGlzLmNsb3NlKEF0LkxJQ0VOU0VfTUlOVVRFU19FWENFRURFRCk7YnJlYWs7Y2FzZSBaLkVSUl9MSUNFTlNFX1BFUklPRF9JTlZBTElEOnRoaXMuY2xvc2UoQXQuTElDRU5TRV9QRVJJT0RfSU5WQUxJRCk7YnJlYWs7Y2FzZSBaLkVSUl9MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFOnRoaXMuY2xvc2UoQXQuTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRSk7YnJlYWs7Y2FzZSBaLkVSUl9MSUNFTlNFX0lMTEVHQUw6dGhpcy5jbG9zZShBdC5MSUNFTlNFX0lMTEVHQUwpO2JyZWFrO2RlZmF1bHQ6dGhpcy5jbG9zZSgpO319fSksdGhpcy5jbGllbnRJZD1lLmNsaWVudElkLHRoaXMuc3BlYz1lLHRoaXMuc3RvcmU9bix0aGlzLndlYnNvY2tldD1uZXcgTmMoXCJnYXRld2F5LVwiLmNvbmNhdCh0aGlzLmNsaWVudElkKSx0aGlzLnNwZWMucmV0cnlDb25maWcsITAsdihcIkpPSU5fR0FURVdBWV9VU0VfRFVBTF9ET01BSU5cIiksdihcIkpPSU5fR0FURVdBWV9VU0VfNDQzUE9SVF9PTkxZXCIpLG4pLHRoaXMuaGFuZGxlV2Vic29ja2V0RXZlbnRzKCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PUx0LkNPTk5FQ1RFRCYmdGhpcy5yZWNvbm5lY3QoXCJyZXRyeVwiLEJlLk9GRkxJTkUpO30pO31hc3luYyByZXF1ZXN0KGUsbixpLHIpe2xldCBvPVV0KDYsXCJcIikscz17X2lkOm8sX3R5cGU6ZSxfbWVzc2FnZTpufSxhPXRoaXMud2Vic29ja2V0LmNvbm5lY3Rpb25JRCxjPSgpPT5uZXcgaigoZyxFKT0+e2lmKHRoaXMuY29ubmVjdGlvblN0YXRlPT09THQuQ09OTkVDVEVEKXJldHVybiBnKCk7bGV0IGY9KCk9Pnt0aGlzLm9mZihudC5XU19DTE9TRUQsUyksZygpO30sUz0oKT0+e3RoaXMub2ZmKG50LldTX0NPTk5FQ1RFRCxmKSxFKG5ldyBPKFIuV1NfQUJPUlQpKTt9O3RoaXMub25jZShudC5XU19DT05ORUNURUQsZiksdGhpcy5vbmNlKG50LldTX0NMT1NFRCxTKSxlIT09ZXQuUFVCTElTSCYmZSE9PWV0LlBVQkxJU0hfREFUQVNUUkVBTSYmZSE9PWV0LlNVQlNDUklCRSYmZSE9PWV0LlNVQlNDUklCRV9EQVRBU1RSRUFNJiZlIT09ZXQuVU5TVUJTQ1JJQkUmJmUhPT1ldC5VTlNVQlNDUklCRV9EQVRBU1RSRUFNJiZlIT09ZXQuVU5QVUJMSVNIJiZlIT09ZXQuVU5QVUJMSVNIX0RBVEFTVFJFQU0mJmUhPT1ldC5DT05UUk9MJiZlIT09ZXQuUkVTVEFSVF9JQ0V8fHRoaXMub25jZShudC5ESVNDT05ORUNUX1AyUCwoKT0+e0UobmV3IE8oUi5ESVNDT05ORUNUX1AyUCkpO30pLGUhPT1ldC5QVUJMSVNIJiZlIT09ZXQuUkVTVEFSVF9JQ0V8fHRoaXMub25jZShudC5BQk9SVF9QMlBfRVhFQ1VUSU9OLCgpPT57RShuZXcgTyhSLkRJU0NPTk5FQ1RfUDJQKSk7fSk7fSk7aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1MdC5DT05ORUNUSU5HJiZ0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PUx0LlJFQ09OTkVDVElOR3x8ZT09PWV0LkpPSU58fGU9PT1ldC5SRUpPSU58fGF3YWl0IGMoKSx0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShzLCEwKSxyKXJldHVybjtsZXQgZD1uZXcgaigoZyxFKT0+e2xldCBmPSExLFM9KEEsYik9PntmPSEwLGcoe2lzU3VjY2VzczpBPT09XCJzdWNjZXNzXCIsbWVzc2FnZTpifHx7fX0pLHRoaXMub2ZmKG50LldTX0NMT1NFRCxDKSx0aGlzLm9mZihudC5XU19SRUNPTk5FQ1RJTkcsQyksdGhpcy5lbWl0KG50LlJFUVVFU1RfU1VDQ0VTUyxlLG4pO307dGhpcy5vbmNlKFwicmVzLUBcIi5jb25jYXQobyksUyk7bGV0IEM9KCk9PntFKG5ldyBPKFIuV1NfQUJPUlQsXCJ0eXBlOiBcIi5jb25jYXQoZSkpKSx0aGlzLm9mZihudC5XU19DTE9TRUQsQyksdGhpcy5vZmYobnQuV1NfUkVDT05ORUNUSU5HLEMpLHRoaXMub2ZmKFwicmVzLUBcIi5jb25jYXQobyksUyk7fTt0aGlzLm9uY2UobnQuV1NfQ0xPU0VELEMpLHRoaXMub25jZShudC5XU19SRUNPTk5FQ1RJTkcsQyksTWUodihcIlNJR05BTF9SRVFVRVNUX1RJTUVPVVRcIikpLnRoZW4oKCk9Pnt0aGlzLndlYnNvY2tldC5jb25uZWN0aW9uSUQhPT1hfHxmfHwoXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSB3cyByZXF1ZXN0IHRpbWVvdXQsIHR5cGU6IFwiKS5jb25jYXQoZSkpLHRoaXMuZW1pdChudC5SRVFVRVNUX1RJTUVPVVQsZSxuKSk7fSk7fSksbD1udWxsO3RyeXtsPWF3YWl0IGQ7fWNhdGNoKGcpe2lmKHRoaXMuY29ubmVjdGlvblN0YXRlPT09THQuQ0xPU0VEfHxlPT09ZXQuTEVBVkUpdGhyb3cgbmV3IE8oUi5XU19BQk9SVCk7cmV0dXJuICF0aGlzLnNwZWMuZm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlfHxpP2cudGhyb3coKTplPT09ZXQuSk9JTnx8ZT09PWV0LlJFSk9JTj9udWxsOihhd2FpdCBjKCksYXdhaXQgdGhpcy5yZXF1ZXN0KGUsbikpfWlmKGwuaXNTdWNjZXNzKXJldHVybiBsLm1lc3NhZ2U7bGV0IHU9TnVtYmVyKGwubWVzc2FnZS5lcnJvcl9jb2RlfHxsLm1lc3NhZ2UuY29kZSksaD1PYyh1KSxwPW5ldyBPKFIuVU5FWFBFQ1RFRF9SRVNQT05TRSxcIlwiLmNvbmNhdChoLmRlc2MsXCI6IFwiKS5jb25jYXQobC5tZXNzYWdlLmVycm9yX3N0cikse2NvZGU6dSxkYXRhOmwubWVzc2FnZSxkZXNjOmguZGVzY30pO3JldHVybiBoLmFjdGlvbj09PVwic3VjY2Vzc1wiP2wubWVzc2FnZTooXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLndlYnNvY2tldC5jb25uZWN0aW9uSUQsXCJdIHVuZXhwZWN0ZWQgcmVzcG9uc2UgZnJvbSB0eXBlIFwiKS5jb25jYXQoZSxcIiwgZXJyb3JfY29kZTogXCIpLmNvbmNhdCh1LFwiLCBtZXNzYWdlOiBcIikuY29uY2F0KGguZGVzYyxcIiwgYWN0aW9uOiBcIikuY29uY2F0KGguYWN0aW9uKSksdT09PVouRVJSX1RPT19NQU5ZX0JST0FEQ0FTVEVSUz8oKGU9PT1ldC5KT0lOfHxlPT09ZXQuUkVKT0lOKSYmKHRoaXMuaW5pdEVycm9yPXAsdGhpcy5jbG9zZSgpKSxwLnRocm93KCkpOmguYWN0aW9uPT09XCJmYWlsZWRcIj9wLnRocm93KCk6aC5hY3Rpb249PT1cInF1aXRcIj8odGhpcy5pbml0RXJyb3I9cCx0aGlzLmNsb3NlKCkscC50aHJvdygpKToodT09PVouRVJSX0pPSU5fQllfTVVMVElfSVA/KHRoaXMubXVsdGlJcE9wdGlvbj1sLm1lc3NhZ2Uub3B0aW9uLF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gZGV0ZWN0IG11bHRpIGlwLCByZWNvdmVyXCIpKSx0aGlzLnJlY29ubmVjdChcInJlY292ZXJcIixCZS5NVUxUSV9JUCkpOnRoaXMucmVjb25uZWN0KGguYWN0aW9uLEJlLlNFUlZFUl9FUlJPUiksZT09PWV0LkpPSU58fGU9PT1ldC5SRUpPSU4/bnVsbDphd2FpdCB0aGlzLnJlcXVlc3QoZSxuKSkpfXdhaXRNZXNzYWdlKGUsbil7cmV0dXJuIG5ldyBqKGk9PntsZXQgcj1vPT57KCFufHxuKG8pKSYmKHRoaXMub2ZmKGUsciksaShvKSk7fTt0aGlzLm9uKGUscik7fSl9dXBsb2FkV1JUQ1N0YXRzKGUpe2lmKCF0aGlzLnN0b3JlLnNlc3Npb25JZClyZXR1cm4gdm9pZCBfLndhcm4oXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIG5vIHNlc3Npb24gaWQgd2hlbiB1cGxvYWQgd3J0YyBzdGF0c1wiKSk7bGV0IG49e2x0czpEYXRlLm5vdygpLHNpZDp0aGlzLnN0b3JlLnNlc3Npb25JZCx1aWQ6dGhpcy5zdG9yZS5pbnRVaWQsc3RhdHM6ZX07dGhpcy51cGxvYWQod2MuV1JUQ19TVEFUUyxuKTt9dXBsb2FkKGUsbil7bGV0IGk9e190eXBlOmUsX21lc3NhZ2U6bn07dHJ5e3RoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKGkpO31jYXRjaHtsZXQgbz12KFwiTUFYX1VQTE9BRF9DQUNIRVwiKXx8NTA7dGhpcy51cGxvYWRDYWNoZS5wdXNoKGkpLHRoaXMudXBsb2FkQ2FjaGUubGVuZ3RoPm8mJnRoaXMudXBsb2FkQ2FjaGUuc3BsaWNlKDAsMSksdGhpcy51cGxvYWRDYWNoZS5sZW5ndGg+MCYmIXRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbCYmKHRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCk9PntpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PUx0LkNPTk5FQ1RFRClyZXR1cm47bGV0IHM9dGhpcy51cGxvYWRDYWNoZS5zcGxpY2UoMCwxKVswXTt0aGlzLnVwbG9hZENhY2hlLmxlbmd0aD09PTAmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbG9hZENhY2hlSW50ZXJ2YWwpLHRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbD12b2lkIDApLHRoaXMudXBsb2FkKHMuX3R5cGUscy5fbWVzc2FnZSk7fSx2KFwiVVBMT0FEX0NBQ0hFX0lOVEVSVkFMXCIpfHwyZTMpKTt9fXNlbmQoZSxuKXtsZXQgaT17X3R5cGU6ZSxfbWVzc2FnZTpufTt0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShpKTt9aW5pdChlLG4pe3JldHVybiB0aGlzLmluaXRFcnJvcj12b2lkIDAsdGhpcy5tdWx0aUlwT3B0aW9uPXZvaWQgMCx0aGlzLmpvaW5SZXNwb25zZT12b2lkIDAsdGhpcy5yZWNvbm5lY3RUb2tlbj12b2lkIDAsdGhpcy5vcGVuQ29ubmVjdGlvblRpbWU9dm9pZCAwLG5ldyBqKChpLHIpPT57dGhpcy5vbmNlKG50LldTX0NPTk5FQ1RFRCwoKT0+aSh0aGlzLmpvaW5SZXNwb25zZSkpLHRoaXMub25jZShudC5XU19DTE9TRUQsKCk9PnIodGhpcy5pbml0RXJyb3J8fG5ldyBPKFIuV1NfQUJPUlQpKSksdGhpcy5jb25uZWN0aW9uU3RhdGU9THQuQ09OTkVDVElORyx0aGlzLndlYnNvY2tldC5pbml0KGUpLmNhdGNoKHIpLHRoaXMud3NJbmZsYXRlRGF0YVRpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLndzSW5mbGF0ZURhdGFUaW1lciksdGhpcy53c0luZmxhdGVEYXRhVGltZXI9d2luZG93LnNldEludGVydmFsKCgpPT57dGhpcy5oYW5kbGVXc0luZmxhdGVEYXRhKCk7fSwyZTQpO30pfWNsb3NlKGUpe3RoaXMucGluZ3BvbmdUaW1lciYmKHRoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ9MCx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj12b2lkIDApLHRoaXMud3NJbmZsYXRlRGF0YVRpbWVyJiYodGhpcy5oYW5kbGVXc0luZmxhdGVEYXRhKCksd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy53c0luZmxhdGVEYXRhVGltZXIpLHRoaXMud3NJbmZsYXRlRGF0YVRpbWVyPXZvaWQgMCksdGhpcy5yZWNvbm5lY3RUb2tlbj12b2lkIDAsdGhpcy5qb2luUmVzcG9uc2U9dm9pZCAwLHRoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbj1lfHxBdC5MRUFWRSx0aGlzLmNvbm5lY3Rpb25TdGF0ZT1MdC5DTE9TRUQsXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gXCIpK1wid2lsbCBjbG9zZSB3ZWJzb2NrZXQgaW4gc2lnbmFsXCIpLHRoaXMud2Vic29ja2V0LmNsb3NlKCk7fWFzeW5jIGpvaW4oKXtpZighdGhpcy5qb2luUmVzcG9uc2Upe3RoaXMuZW1pdChudC5BQk9SVF9QMlBfRVhFQ1VUSU9OKTtsZXQgZT1hd2FpdCBHZSh0aGlzLG50LlJFUVVFU1RfSk9JTl9JTkZPKSxuPWF3YWl0IHRoaXMucmVxdWVzdChldC5KT0lOLGUpO2lmKCFuKXJldHVybiB0aGlzLmVtaXQobnQuUkVQT1JUX0pPSU5fR0FURVdBWSxUbC5USU1FT1VULHRoaXMudXJsfHxcIlwiKSwhMTt0aGlzLmpvaW5SZXNwb25zZT1uLHRoaXMuZW1pdChudC5KT0lOX1JFU1BPTlNFLHRoaXMuam9pblJlc3BvbnNlKSx0aGlzLnJlY29ubmVjdFRva2VuPXRoaXMuam9pblJlc3BvbnNlLnJlam9pbl90b2tlbjt9cmV0dXJuIHRoaXMuY29ubmVjdGlvblN0YXRlPUx0LkNPTk5FQ1RFRCx0aGlzLnBpbmdwb25nVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLmhhbmRsZVBpbmdQb25nLmJpbmQodGhpcyksM2UzKSwhMH1hc3luYyByZWpvaW4oKXtpZighdGhpcy5yZWNvbm5lY3RUb2tlbil0aHJvdyBuZXcgTyhSLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IHJlam9pbiwgbm8gcmVqb2luIHRva2VuXCIpO2xldCBlPUFjKHRoaXMsbnQuUkVRVUVTVF9SRUpPSU5fSU5GTyk7ZS50b2tlbj10aGlzLnJlY29ubmVjdFRva2VuO2xldCBuPWF3YWl0IHRoaXMucmVxdWVzdChldC5SRUpPSU4sZSk7cmV0dXJuICEhbiYmKHRoaXMuY29ubmVjdGlvblN0YXRlPUx0LkNPTk5FQ1RFRCx0aGlzLnBpbmdwb25nVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLmhhbmRsZVBpbmdQb25nLmJpbmQodGhpcyksM2UzKSxuLnBlZXJzJiZuLnBlZXJzLmZvckVhY2goaT0+e3RoaXMuZW1pdChkdC5PTl9VU0VSX09OTElORSx7dWlkOmkudWlkfSksaS5hdWRpbyYmdGhpcy5lbWl0KGR0Lk9OX0FERF9BVURJT19TVFJFQU0se3VpZDppLnVpZCx1aW50X2lkOmkudWludF9pZCxhdWRpbzohMCxzc3JjSWQ6aS5hdWRpb19zc3JjfSksaS52aWRlbyYmdGhpcy5lbWl0KGR0Lk9OX0FERF9WSURFT19TVFJFQU0se3VpZDppLnVpZCx1aW50X2lkOmkudWludF9pZCx2aWRlbzohMCxzc3JjSWQ6aS52aWRlb19zc3JjfSksaS5hdWRpb19tdXRlP3RoaXMuZW1pdChkdC5NVVRFX0FVRElPLHt1aWQ6aS51aWR9KTp0aGlzLmVtaXQoZHQuVU5NVVRFX0FVRElPLHt1aWQ6aS51aWR9KSxpLnZpZGVvX211dGU/dGhpcy5lbWl0KGR0Lk1VVEVfVklERU8se3VpZDppLnVpZH0pOnRoaXMuZW1pdChkdC5VTk1VVEVfVklERU8se3VpZDppLnVpZH0pLGkuYXVkaW9fZW5hYmxlX2xvY2FsP3RoaXMuZW1pdChkdC5FTkFCTEVfTE9DQUxfQVVESU8se3VpZDppLnVpZH0pOnRoaXMuZW1pdChkdC5ESVNBQkxFX0xPQ0FMX0FVRElPLHt1aWQ6aS51aWR9KSxpLnZpZGVvX2VuYWJsZV9sb2NhbD90aGlzLmVtaXQoZHQuRU5BQkxFX0xPQ0FMX1ZJREVPLHt1aWQ6aS51aWR9KTp0aGlzLmVtaXQoZHQuRElTQUJMRV9MT0NBTF9WSURFTyx7dWlkOmkudWlkfSksaS5hdWRpb3x8aS52aWRlb3x8dGhpcy5lbWl0KGR0Lk9OX1JFTU9WRV9TVFJFQU0se3VpZDppLnVpZCx1aW50X2lkOmkudWludF9pZH0pO30pLCEwKX1yZWNvbm5lY3QoZSxuKXt0aGlzLnBpbmdwb25nVGltZXImJih0aGlzLnBpbmdwb25nVGltZW91dENvdW50PTAsd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9dm9pZCAwKSx0aGlzLndlYnNvY2tldC5yZWNvbm5lY3QoZSxuKTt9aGFuZGxlTm90aWZpY2F0aW9uKGUpe18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHJlY2VpdmUgbm90aWZpY2F0aW9uOiBcIiksZSk7bGV0IG49T2MoZS5jb2RlKTtpZihuLmFjdGlvbiE9PVwic3VjY2Vzc1wiKXtpZihuLmFjdGlvbiE9PVwiZmFpbGVkXCIpcmV0dXJuIG4uYWN0aW9uPT09XCJxdWl0XCI/KG4uZGVzYz09PVwiRVJSX1JFUEVBVF9KT0lOX0NIQU5ORUxcIiYmdGhpcy5jbG9zZShBdC5VSURfQkFOTkVEKSx2b2lkIHRoaXMuY2xvc2UoKSk6dm9pZCB0aGlzLnJlY29ubmVjdChuLmFjdGlvbixCZS5TRVJWRVJfRVJST1IpO18uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGlnbm9yZSBlcnJvcjogXCIpLG4uZGVzYyk7fX1oYW5kbGVQaW5nUG9uZygpe2lmKCF0aGlzLndlYnNvY2tldHx8dGhpcy53ZWJzb2NrZXQuc3RhdGUhPT1cImNvbm5lY3RlZFwiKXJldHVybjt0aGlzLnBpbmdwb25nVGltZW91dENvdW50PjAmJnRoaXMucnR0Um9sbGluZy5hZGQoM2UzKSx0aGlzLnBpbmdwb25nVGltZW91dENvdW50Kz0xO2xldCBlPXYoXCJQSU5HX1BPTkdfVElNRV9PVVRcIiksbj1EYXRlLm5vdygpO3RoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ+PWUmJihfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIFBJTkctUE9ORyBUaW1lb3V0LiBMYXN0IFNvY2tldCBNZXNzYWdlOiBcIikuY29uY2F0KG4tdGhpcy5sYXN0TXNnVGltZSxcIm1zXCIpKSxuLXRoaXMubGFzdE1zZ1RpbWU+dihcIldFQlNPQ0tFVF9USU1FT1VUX01JTlwiKSk/dGhpcy5yZWNvbm5lY3QoXCJyZXRyeVwiLEJlLlRJTUVPVVQpOnRoaXMucmVxdWVzdChldC5QSU5HLHZvaWQgMCwhMCkudGhlbigoKT0+e3RoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ9MDtsZXQgaT1EYXRlLm5vdygpLW47dGhpcy5ydHRSb2xsaW5nLmFkZChpKSx2KFwiUkVQT1JUX1NUQVRTXCIpJiZ0aGlzLnNlbmQoZXQuUElOR19CQUNLLHtwaW5ncG9uZ0VsYXBzZTppfSk7fSkuY2F0Y2goaT0+e30pO31oYW5kbGVXc0luZmxhdGVEYXRhKCl7bGV0e3dzSW5mbGF0ZUxlbmd0aDplLHdzRGVmbGF0ZUxlbmd0aDpufT10aGlzLndlYnNvY2tldC5nZXRXc0luZmxhdGVEYXRhKCk7ZSE9PTAmJm4hPT0wJiZ0aGlzLnVwbG9hZCh3Yy5XU19JTkZMQVRFX0RBVEFfTEVOR1RILHt3c19kZWZsYXRlX2xlbmd0aDpuLHdzX2luZmxhdGVfbGVuZ3RoOmV9KTt9aGFuZGxlV2Vic29ja2V0RXZlbnRzKCl7dGhpcy53ZWJzb2NrZXQub24oaXQuUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSCxlPT57dGhpcy5lbWl0KG50LldTX1JFQ09OTkVDVF9XQUlUVElOR19GSU5JU0gsZSk7fSksdGhpcy53ZWJzb2NrZXQub24oaXQuUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OLGU9Pnt0aGlzLmVtaXQobnQuV1NfUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OLGUpO30pLHRoaXMud2Vic29ja2V0Lm9uKGl0Lk9OX01FU1NBR0UsdGhpcy5vbldlYnNvY2tldE1lc3NhZ2UpLHRoaXMud2Vic29ja2V0Lm9uKGl0LkNMT1NFRCwoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPUx0LkNMT1NFRDt9KSx0aGlzLndlYnNvY2tldC5vbihpdC5GQUlMRUQsKCk9Pnt0aGlzLl9kaXNjb25uZWN0ZWRSZWFzb249QXQuTkVUV09SS19FUlJPUix0aGlzLmNvbm5lY3Rpb25TdGF0ZT1MdC5DTE9TRUQ7fSksdGhpcy53ZWJzb2NrZXQub24oaXQuUkVDT05ORUNUSU5HLGU9Pnt0aGlzLl93ZWJzb2NrZXRSZWNvbm5lY3RSZWFzb249ZSx0aGlzLmpvaW5SZXNwb25zZT12b2lkIDAsdGhpcy5jb25uZWN0aW9uU3RhdGU9PT1MdC5DT05ORUNURUQ/dGhpcy5jb25uZWN0aW9uU3RhdGU9THQuUkVDT05ORUNUSU5HOnRoaXMuY29ubmVjdGlvblN0YXRlPUx0LkNPTk5FQ1RJTkc7fSksdGhpcy53ZWJzb2NrZXQub24oaXQuV0lMTF9SRUNPTk5FQ1QsKGUsbixpKT0+e2xldCByPUFjKHRoaXMsbnQuSVNfUDJQX0RJU0NPTk5FQ1RFRCksbz1yfHxlIT09XCJyZXRyeVwiO3ImJmU9PT1cInJldHJ5XCImJihfLmRlYnVnKFwiXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCIgcmVjb25uZWN0IG1vZGUgaXMgcmV0cnksIGJ1dCBwMnAgbG9zdCwgY2hhbmdlIHRvIHRyeU5leHRcIikpLGU9XCJ0cnlOZXh0XCIsbj1UbC5QMlBfRElTQ09OTkVDVEVEKSxvJiYoXy5kZWJ1ZyhcIlwiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiIHdpbGwgcmVuZXdTZXNzaW9uLCByZWNvbm5lY3QgbW9kZTogXCIpLmNvbmNhdChlKSksdGhpcy5lbWl0KG50LlJFUE9SVF9KT0lOX0dBVEVXQVksbnx8VGwuVU5LTk9XTl9SRUFTT04sdGhpcy51cmx8fFwiXCIpLHRoaXMucmVjb25uZWN0VG9rZW49dm9pZCAwLHRoaXMuZW1pdChudC5ESVNDT05ORUNUX1AyUCkpLGkoZSk7fSksdGhpcy53ZWJzb2NrZXQub24oaXQuQ09OTkVDVEVELCgpPT57dGhpcy5vcGVuQ29ubmVjdGlvblRpbWU9RGF0ZS5ub3coKSx0aGlzLnJlY29ubmVjdFRva2VuP3RoaXMucmVqb2luKCkuY2F0Y2goZT0+e18ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gcmVqb2luIGZhaWxlZCBcIikuY29uY2F0KGUpKSx0aGlzLnJlY29ubmVjdChcInRyeU5leHRcIixCZS5TRVJWRVJfRVJST1IpO30pOnRoaXMuam9pbigpLmNhdGNoKGU9PntpZih0aGlzLmVtaXQobnQuUkVQT1JUX0pPSU5fR0FURVdBWSxlLHRoaXMudXJsfHxcIlwiKSxlIGluc3RhbmNlb2YgTyl7aWYoZS5jb2RlPT09Ui5VTkVYUEVDVEVEX1JFU1BPTlNFJiZlLmRhdGEuY29kZT09PVouRVJSX05PX0FVVEhPUklaRUQpcmV0dXJuIHRoaXMuaW5pdEVycm9yPW5ldyBPKFIuQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVIsXCJBZ29yYVJUQ0Vycm9yIENBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSOiBkeW5hbWljIGtleSBleHBpcmVkXCIpLF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gcmVjb25uZWN0IG5vIGF1dGhvcml6ZWQsIHJlY292ZXJcIikpLHZvaWQgdGhpcy5yZWNvbm5lY3QoXCJyZWNvdmVyXCIsQmUuU0VSVkVSX0VSUk9SKTtfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBqb2luIGdhdGV3YXkgcmVxdWVzdCBmYWlsZWRcIiksZS50b1N0cmluZygpKSx0aGlzLnNwZWMuZm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlP3RoaXMucmVjb25uZWN0KFwidHJ5TmV4dFwiLEJlLlNFUlZFUl9FUlJPUik6KHRoaXMuaW5pdEVycm9yPWUsdGhpcy5jbG9zZSgpKTt9fSk7fSksdGhpcy53ZWJzb2NrZXQub24oaXQuUkVRVUVTVF9ORVdfVVJMUywoZSxuKT0+e0dlKHRoaXMsbnQuUkVRVUVTVF9SRUNPVkVSLHRoaXMubXVsdGlJcE9wdGlvbikudGhlbihlKS5jYXRjaChuKTt9KSx0aGlzLndlYnNvY2tldC5vbihpdC5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRSwoKT0+e3RoaXMuZW1pdChkdC5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRSk7fSksdGhpcy53ZWJzb2NrZXQub24oUE8uUFJFX0NPTk5FQ1RfUEMsKCk9Pnt0aGlzLmVtaXQobnQuUFJFX0NPTk5FQ1RfUEMpO30pO319LHVlPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuQ0hPT1NFX1NFUlZFUj0xMV09XCJDSE9PU0VfU0VSVkVSXCIsdFt0LkNMT1VEX1BST1hZPTE4XT1cIkNMT1VEX1BST1hZXCIsdFt0LkNMT1VEX1BST1hZXzU9MjBdPVwiQ0xPVURfUFJPWFlfNVwiLHRbdC5DTE9VRF9QUk9YWV9GQUxMQkFDSz0yNl09XCJDTE9VRF9QUk9YWV9GQUxMQkFDS1wiLHR9KHt9KTtmdW5jdGlvbiBqUih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiBrZCh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj9qUihPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6alIoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9ZnVuY3Rpb24gVXModCl7cmV0dXJuIHQubWF0Y2goL15bXFwuXFw6XFxkXSskLyk/XCJcIi5jb25jYXQodC5yZXBsYWNlKC9bXlxcZF0vZyxcIi1cIiksXCIuXCIpLmNvbmNhdCh2KFwiVFVSTl9ET01BSU5cIikpOihfLmluZm8oXCJVbmlkZW50aWZpZWQgYXMgaXA6IFwiLmNvbmNhdCh0LFwiLCB1c2UgYXMgaG9zdFwiKSksdCl9ZnVuY3Rpb24gbWYodCxlKXt0LmFkZHJlc3Nlc3x8KHQuYWRkcmVzc2VzPVtdKTtsZXQgbj1mdW5jdGlvbihhLGMpe2lmKHYoXCJDT05ORUNUX0dBVEVXQVlfV0lUSE9VVF9ET01BSU5cIikpcmV0dXJuIGEubWFwKHU9PntsZXR7aXA6aCxwb3J0OnB9PXU7cmV0dXJuIHthZGRyZXNzOlwiXCIuY29uY2F0KGgsXCI6XCIpLmNvbmNhdChwKX19KTtsZXQgZD12KFwiR0FURVdBWV9ET01BSU5TXCIpLGw9ZFsxXSYmVyhjKS5jYWxsKGMsZFsxXSk/MTowO3JldHVybiBhLm1hcCh1PT57bGV0e2RvbWFpbl9wcmVmaXg6aCxwb3J0OnAsaXA6Z309dTtpZihoKXJldHVybiB7YWRkcmVzczpcIlwiLmNvbmNhdChoLFwiLlwiKS5jb25jYXQoZFtsKyslZC5sZW5ndGhdLFwiOlwiKS5jb25jYXQocCl9O2xldCBFPS9eW1xcLlxcOlxcZF0rJC8udGVzdChnKSxmPUU/XCJcIi5jb25jYXQoZy5yZXBsYWNlKC9bXlxcZF0vZyxcIi1cIiksXCIuXCIpLmNvbmNhdChkW2wrKyVkLmxlbmd0aF0sXCI6XCIpLmNvbmNhdChwKTpcIlwiLmNvbmNhdChnLFwiOlwiKS5jb25jYXQocCk7cmV0dXJuIEV8fF8uaW5mbyhcIlVuaWRlbnRpZmllZCBhcyBpcDogXCIuY29uY2F0KGcsXCIsIHVzZSBhcyBob3N0XCIpKSx7aXA6Zyxwb3J0OnAsYWRkcmVzczpmfX0pfSh0LmFkZHJlc3NlcyxlKSxpPUFycmF5LmlzQXJyYXkodC5kZXRhaWwpJiZ0LmRldGFpbFsxOF07aWYoaSYmdHlwZW9mIGk9PVwic3RyaW5nXCIpe2xldCBhPWkuc3BsaXQoXCI7XCIpO2ZvcihsZXQgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgcjtsZXQgZD1ybihyPWFbY10pLmNhbGwocik7bltjXSYmZCYmKG5bY10uaXA2PWQpO319bGV0IG89dC5kZXRhaWwmJnQuZGV0YWlsLmNhbmRpZGF0ZSxzO2lmKG8pe2xldFthLGNdPW8uc3BsaXQoXCI6XCIpO2EmJmMmJihzPXtwb3J0Ok51bWJlcihjKSxpcDphLGFkZHJlc3M6XCJcIi5jb25jYXQoYSxcIjpcIikuY29uY2F0KGMpfSk7fXJldHVybiB7Z2F0ZXdheUFkZHJzOm4sYXBHYXRld2F5QWRkcmVzczpzLHVpZDp0LnVpZCxjaWQ6dC5jaWQsY2VydDp0LmNlcnQsdmlkOnQuZGV0YWlsJiZ0LmRldGFpbFs4XSx1bmlfbGJzX2lwOnQuZGV0YWlsJiZ0LmRldGFpbFsxXSxyZXM6dCxjc0lwOnQuZGV0YWlsJiZ0LmRldGFpbFs1MDJdfX1mdW5jdGlvbiBObih0KXtyZXR1cm4gdHlwZW9mIHQ9PVwibnVtYmVyXCI/dDp0LmV4YWN0fHx0LmlkZWFsfHx0Lm1heHx8dC5taW58fDB9ZnVuY3Rpb24gR1IodCl7bGV0IGU9dC5fZW5jb2RlckNvbmZpZztpZighZSlyZXR1cm4ge307bGV0IG49e3Jlc29sdXRpb246ZS53aWR0aCYmZS5oZWlnaHQ/XCJcIi5jb25jYXQoTm4oZS53aWR0aCksXCJ4XCIpLmNvbmNhdChObihlLmhlaWdodCkpOnZvaWQgMCxtYXhWaWRlb0JXOmUuYml0cmF0ZU1heCxtaW5WaWRlb0JXOmUuYml0cmF0ZU1pbn07cmV0dXJuIHR5cGVvZiBlLmZyYW1lUmF0ZT09XCJudW1iZXJcIj8obi5tYXhGcmFtZVJhdGU9ZS5mcmFtZVJhdGUsbi5taW5GcmFtZVJhdGU9ZS5mcmFtZVJhdGUpOmUuZnJhbWVSYXRlJiYobi5tYXhGcmFtZVJhdGU9ZS5mcmFtZVJhdGUubWF4fHxlLmZyYW1lUmF0ZS5pZGVhbHx8ZS5mcmFtZVJhdGUuZXhhY3R8fGUuZnJhbWVSYXRlLm1pbixuLm1pbkZyYW1lUmF0ZT1lLmZyYW1lUmF0ZS5taW58fGUuZnJhbWVSYXRlLmlkZWFsfHxlLmZyYW1lUmF0ZS5leGFjdHx8ZS5mcmFtZVJhdGUubWF4KSxufWZ1bmN0aW9uIFdSKHQpe3JldHVybiB0Pj0wJiZ0PC4xNz8xOnQ+PS4xNyYmdDwuMzY/Mjp0Pj0uMzYmJnQ8LjU5PzM6dD49LjU5JiZ0PD0xPzQ6dD4xPzU6MH1mdW5jdGlvbiBEYyh0LGUpe2xldCBuLGkscjtzd2l0Y2goZSl7Y2FzZSB1ZS5DSE9PU0VfU0VSVkVSOmk9NDA5NixyPVwiY2hvb3NlIHNlcnZlclwiO2JyZWFrO2Nhc2UgdWUuQ0xPVURfUFJPWFk6aT0xMDQ4NTc2LHI9XCJwcm94eVwiO2JyZWFrO2Nhc2UgdWUuQ0xPVURfUFJPWFlfNTppPTQxOTQzMDQscj1cInByb3h5NVwiO2JyZWFrO2Nhc2UgdWUuQ0xPVURfUFJPWFlfRkFMTEJBQ0s6aT00MTk0MzEwLHI9XCJwcm94eSBmYWxsYmFja1wiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IE8oUi5VTkVYUEVDVEVEX0VSUk9SLFwibXVsdGkgdW5saWJzIHJlc3BvbnNlIHRyYW5zZm9ybWVyIGdldCB1bmtub3duIHNlcnZpY2UgaWRcIix7Y3NJcDp0LmRldGFpbCYmdC5kZXRhaWxbNTAyXSxyZXRyeTohMX0pfWlmKHQucmVzcG9uc2VfYm9keS5mb3JFYWNoKG89PntvLmJ1ZmZlciYmby5idWZmZXIuZmxhZz09PWkmJihuPXtjb2RlOm8uYnVmZmVyLmNvZGUsYWRkcmVzc2VzOihvLmJ1ZmZlci5lZGdlc19zZXJ2aWNlc3x8W10pLm1hcChzPT5rZChrZCh7fSxzKSx7fSx7dGlja2V0Om8uYnVmZmVyLmNlcnR9KSksc2VydmVyX3RzOnQuZW50ZXJfdHMsdWlkOm8uYnVmZmVyLnVpZCxjaWQ6by5idWZmZXIuY2lkLGNuYW1lOm8uYnVmZmVyLmNuYW1lLGRldGFpbDprZChrZCh7fSxvLmJ1ZmZlci5kZXRhaWwpLHQuZGV0YWlsKSxmbGFnOm8uYnVmZmVyLmZsYWcsb3BpZDp0Lm9waWQsY2VydDpvLmJ1ZmZlci5jZXJ0fSk7fSksIW4pdGhyb3cgbmV3IE8oUi5NVUxUSV9VTklMQlNfUkVTUE9OU0VfRVJST1IsXCJjYW5ub3QgcGFyc2UgcmVzcG9uc2UgXCIuY29uY2F0KHIsXCIgZnJvbSBtdWx0aSB1bmlsYnMgcmVzcG9uc2VcIikse2NzSXA6dC5kZXRhaWwmJnQuZGV0YWlsWzUwMl19KTtyZXR1cm4gbn1hc3luYyBmdW5jdGlvbiBrTyh0LGUpe3JldHVybiBhd2FpdCBqLmFsbCh0LmFkZHJlc3Nlcy5tYXAoYXN5bmMgbj0+KHthZGRyZXNzOlVzKG4uaXApLHRjcHBvcnQ6bi5wb3J0LHVkcHBvcnQ6bi5wb3J0LHVzZXJuYW1lOmUmJnYoXCJFTkNSWVBUX1BST1hZX1VTRVJOQU1FX0FORF9QU1dcIikmJndpbmRvdy5pc1NlY3VyZUNvbnRleHQ/ZS50b1N0cmluZygpOlZlLnVzZXJuYW1lLHBhc3N3b3JkOmUmJnYoXCJFTkNSWVBUX1BST1hZX1VTRVJOQU1FX0FORF9QU1dcIikmJndpbmRvdy5pc1NlY3VyZUNvbnRleHQ/YXdhaXQgUEUoZS50b1N0cmluZygpKTpWZS5wYXNzd29yZH0pKSl9ZnVuY3Rpb24gR0UodCxlKXtsZXQgbj1lLmdldE1lZGlhU3RyZWFtVHJhY2soITApLmdldFNldHRpbmdzKCksaT1lLnZpZGVvSGVpZ2h0fHxuLmhlaWdodCxyPWUudmlkZW9XaWR0aHx8bi53aWR0aDtyZXR1cm4gaSYmcj9NYXRoLm1heChNYXRoLm1pbihpLHIpL01hdGgubWluKE5uKHQuaGVpZ2h0KSxObih0LndpZHRoKSksMSk6KF8ud2FybmluZyhcImNhbid0IGdldCBvcmktdHJhY2sncyBoZWlnaHQsIGRlZmF1bHQgc2NhbGUgZG93biA0IHRpbWVzIGZvciBsb3cgc3RyZWFtXCIpLDQpfWZ1bmN0aW9uIGVvKHQpe2xldHtjYW5kaWRhdGVUeXBlOmUscmVsYXlQcm90b2NvbDpuLHR5cGU6aSxhZGRyZXNzOnIscG9ydDpvLHByb3RvY29sOnN9PXQ7cmV0dXJuIGk9PT1cImxvY2FsLWNhbmRpZGF0ZVwiP3tjYW5kaWRhdGVUeXBlOmUscmVsYXlQcm90b2NvbDpuLHByb3RvY29sOnN9OntjYW5kaWRhdGVUeXBlOmUscmVsYXlQcm90b2NvbDpuLGFkZHJlc3M6cixwb3J0Om8scHJvdG9jb2w6c319dmFyIGxpLG1qPWFlKERPKSxmaj1iaShcIkFycmF5XCIpLnZhbHVlcyxnaj1FcixUaj1KZSxTaj1obixSaj1maixGcD1BcnJheS5wcm90b3R5cGUsQ2o9e0RPTVRva2VuTGlzdDohMCxOb2RlTGlzdDohMH0sSWo9ZnVuY3Rpb24odCl7dmFyIGU9dC52YWx1ZXM7cmV0dXJuIHQ9PT1GcHx8U2ooRnAsdCkmJmU9PT1GcC52YWx1ZXN8fFRqKENqLGdqKHQpKT9SajplfSxQcj1hZShJaiksSFI9cmksdmo9bWUseWo9S2UsQWo9U2UsQnA9THUsYmo9WGMsd2o9QXUsT2o9X3IsTmo9YnUsX3M9T2JqZWN0LmFzc2lnbixLUj1PYmplY3QuZGVmaW5lUHJvcGVydHksRGo9dmooW10uY29uY2F0KSxQaj0hX3N8fEFqKGZ1bmN0aW9uKCl7aWYoSFImJl9zKHtiOjF9LF9zKEtSKHt9LFwiYVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe0tSKHRoaXMsXCJiXCIse3ZhbHVlOjMsZW51bWVyYWJsZTohMX0pO319KSx7YjoyfSkpLmIhPT0xKXJldHVybiAhMDt2YXIgdD17fSxlPXt9LG49U3ltYm9sKCksaT1cImFiY2RlZmdoaWprbG1ub3BxcnN0XCI7cmV0dXJuIHRbbl09NyxpLnNwbGl0KFwiXCIpLmZvckVhY2goZnVuY3Rpb24ocil7ZVtyXT1yO30pLF9zKHt9LHQpW25dIT03fHxCcChfcyh7fSxlKSkuam9pbihcIlwiKSE9aX0pP2Z1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPU9qKHQpLGk9YXJndW1lbnRzLmxlbmd0aCxyPTEsbz1iai5mLHM9d2ouZjtpPnI7KWZvcih2YXIgYSxjPU5qKGFyZ3VtZW50c1tyKytdKSxkPW8/RGooQnAoYyksbyhjKSk6QnAoYyksbD1kLmxlbmd0aCx1PTA7bD51OylhPWRbdSsrXSxIUiYmIXlqKHMsYyxhKXx8KG5bYV09Y1thXSk7cmV0dXJuIG59Ol9zLGtqPUNuLExqPVhBLE1qPW1vLFVqPUtlLHhqPV9yLFZqPWZ1bmN0aW9uKHQsZSxuLGkpe3RyeXtyZXR1cm4gaT9lKGtqKG4pWzBdLG5bMV0pOmUobil9Y2F0Y2gocil7TGoodCxcInRocm93XCIscik7fX0sRmo9SkEsQmo9eHUsamo9THIsWVI9QnUsR2o9VW0sV2o9TXUscVI9QXJyYXksaXM9bWUsanA9MjE0NzQ4MzY0NyxIaj0vW15cXDAtXFx1MDA3RV0vLExPPS9bLlxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZyx6Uj1cIk92ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzXCIsSlI9UmFuZ2VFcnJvcixLaj1pcyhMTy5leGVjKSx4cz1NYXRoLmZsb29yLEdwPVN0cmluZy5mcm9tQ2hhckNvZGUsWFI9aXMoXCJcIi5jaGFyQ29kZUF0KSxNTz1pcyhbXS5qb2luKSxxcj1pcyhbXS5wdXNoKSxZaj1pcyhcIlwiLnJlcGxhY2UpLHFqPWlzKFwiXCIuc3BsaXQpLHpqPWlzKFwiXCIudG9Mb3dlckNhc2UpLFFSPWZ1bmN0aW9uKHQpe3JldHVybiB0KzIyKzc1Kih0PDI2KX0sSmo9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPTA7Zm9yKHQ9bj94cyh0LzcwMCk6dD4+MSx0Kz14cyh0L2UpO3Q+NDU1Oyl0PXhzKHQvMzUpLGkrPTM2O3JldHVybiB4cyhpKzM2KnQvKHQrMzgpKX0sWGo9ZnVuY3Rpb24odCl7dmFyIGU9W107dD1mdW5jdGlvbihTKXtmb3IodmFyIEM9W10sQT0wLGI9Uy5sZW5ndGg7QTxiOyl7dmFyIHc9WFIoUyxBKyspO2lmKHc+PTU1Mjk2JiZ3PD01NjMxOSYmQTxiKXt2YXIgRD1YUihTLEErKyk7KDY0NTEyJkQpPT01NjMyMD9xcihDLCgoMTAyMyZ3KTw8MTApKygxMDIzJkQpKzY1NTM2KToocXIoQyx3KSxBLS0pO31lbHNlIHFyKEMsdyk7fXJldHVybiBDfSh0KTt2YXIgbixpLHI9dC5sZW5ndGgsbz0xMjgscz0wLGE9NzI7Zm9yKG49MDtuPHQubGVuZ3RoO24rKykoaT10W25dKTwxMjgmJnFyKGUsR3AoaSkpO3ZhciBjPWUubGVuZ3RoLGQ9Yztmb3IoYyYmcXIoZSxcIi1cIik7ZDxyOyl7dmFyIGw9anA7Zm9yKG49MDtuPHQubGVuZ3RoO24rKykoaT10W25dKT49byYmaTxsJiYobD1pKTt2YXIgdT1kKzE7aWYobC1vPnhzKChqcC1zKS91KSl0aHJvdyBKUih6Uik7Zm9yKHMrPShsLW8pKnUsbz1sLG49MDtuPHQubGVuZ3RoO24rKyl7aWYoKGk9dFtuXSk8byYmKytzPmpwKXRocm93IEpSKHpSKTtpZihpPT1vKXtmb3IodmFyIGg9cyxwPTM2Ozspe3ZhciBnPXA8PWE/MTpwPj1hKzI2PzI2OnAtYTtpZihoPGcpYnJlYWs7dmFyIEU9aC1nLGY9MzYtZztxcihlLEdwKFFSKGcrRSVmKSkpLGg9eHMoRS9mKSxwKz0zNjt9cXIoZSxHcChRUihoKSkpLGE9Smoocyx1LGQ9PWMpLHM9MCxkKys7fX1zKyssbysrO31yZXR1cm4gTU8oZSxcIlwiKX0sUWo9eHQsZmY9cmksWmo9cmYsZ2Y9V2UsWlI9bW8sd2k9bWUsTGQ9Z28sdWk9VXUsJGo9Rm0sV0U9SmUsVGY9UGosRXM9ZnVuY3Rpb24odCl7dmFyIGU9eGoodCksbj1Caih0aGlzKSxpPWFyZ3VtZW50cy5sZW5ndGgscj1pPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxvPXIhPT12b2lkIDA7byYmKHI9TWoocixpPjI/YXJndW1lbnRzWzJdOnZvaWQgMCkpO3ZhciBzLGEsYyxkLGwsdSxoPVdqKGUpLHA9MDtpZighaHx8dGhpcz09PXFSJiZGaihoKSlmb3Iocz1qaihlKSxhPW4/bmV3IHRoaXMocyk6cVIocyk7cz5wO3ArKyl1PW8/cihlW3BdLHApOmVbcF0sWVIoYSxwLHUpO2Vsc2UgZm9yKGw9KGQ9R2ooZSxoKSkubmV4dCxhPW4/bmV3IHRoaXM6W107IShjPVVqKGwsZCkpLmRvbmU7cCsrKXU9bz9WaihkLHIsW2MudmFsdWUscF0sITApOmMudmFsdWUsWVIoYSxwLHUpO3JldHVybiBhLmxlbmd0aD1wLGF9LERpPXptLHRHPXFtLmNvZGVBdCxlRz1mdW5jdGlvbih0KXt2YXIgZSxuLGk9W10scj1xaihZaih6aih0KSxMTyxcIi5cIiksXCIuXCIpO2ZvcihlPTA7ZTxyLmxlbmd0aDtlKyspbj1yW2VdLHFyKGksS2ooSGosbik/XCJ4bi0tXCIrWGoobik6bik7cmV0dXJuIE1PKGksXCIuXCIpfSx2cj1vaSxuRz1UbyxpRz1WdSxVTz15Rix4Tz1ucyxyRz14Ty5zZXQsemw9eE8uZ2V0dGVyRm9yKFwiVVJMXCIpLG9HPVVPLlVSTFNlYXJjaFBhcmFtcyxzRz1VTy5nZXRTdGF0ZSxMYT1nZi5VUkwsSEU9Z2YuVHlwZUVycm9yLE1kPWdmLnBhcnNlSW50LGFHPU1hdGguZmxvb3IsJFI9TWF0aC5wb3csVGk9d2koXCJcIi5jaGFyQXQpLExpPXdpKC8uLy5leGVjKSxZYT13aShbXS5qb2luKSxjRz13aSgxIC50b1N0cmluZyksZEc9d2koW10ucG9wKSxtcz13aShbXS5wdXNoKSxXcD13aShcIlwiLnJlcGxhY2UpLGxHPXdpKFtdLnNoaWZ0KSx1Rz13aShcIlwiLnNwbGl0KSxxYT13aShcIlwiLnNsaWNlKSxTbD13aShcIlwiLnRvTG93ZXJDYXNlKSxoRz13aShbXS51bnNoaWZ0KSxIcD1cIkludmFsaWQgc2NoZW1lXCIsdm89XCJJbnZhbGlkIGhvc3RcIix0Qz1cIkludmFsaWQgcG9ydFwiLFZPPS9bYS16XS9pLHBHPS9bXFxkKy0uYS16XS9pLEtwPS9cXGQvLF9HPS9eMHgvaSxFRz0vXlswLTddKyQvLG1HPS9eXFxkKyQvLGVDPS9eW1xcZGEtZl0rJC9pLGZHPS9bXFwwXFx0XFxuXFxyICMlLzo8Pj9AW1xcXFxcXF1efF0vLGdHPS9bXFwwXFx0XFxuXFxyICMvOjw+P0BbXFxcXFxcXV58XS8sVEc9L15bXFx1MDAwMC1cXHUwMDIwXSsvLFNHPS8oXnxbXlxcdTAwMDAtXFx1MDAyMF0pW1xcdTAwMDAtXFx1MDAyMF0rJC8sUkc9L1tcXHRcXG5cXHJdL2csTWE9ZnVuY3Rpb24odCl7dmFyIGUsbixpLHI7aWYodHlwZW9mIHQ9PVwibnVtYmVyXCIpe2ZvcihlPVtdLG49MDtuPDQ7bisrKWhHKGUsdCUyNTYpLHQ9YUcodC8yNTYpO3JldHVybiBZYShlLFwiLlwiKX1pZih0eXBlb2YgdD09XCJvYmplY3RcIil7Zm9yKGU9XCJcIixpPWZ1bmN0aW9uKG8pe2Zvcih2YXIgcz1udWxsLGE9MSxjPW51bGwsZD0wLGw9MDtsPDg7bCsrKW9bbF0hPT0wPyhkPmEmJihzPWMsYT1kKSxjPW51bGwsZD0wKTooYz09PW51bGwmJihjPWwpLCsrZCk7cmV0dXJuIGQ+YSYmKHM9YyxhPWQpLHN9KHQpLG49MDtuPDg7bisrKXImJnRbbl09PT0wfHwociYmKHI9ITEpLGk9PT1uPyhlKz1uP1wiOlwiOlwiOjpcIixyPSEwKTooZSs9Y0codFtuXSwxNiksbjw3JiYoZSs9XCI6XCIpKSk7cmV0dXJuIFwiW1wiK2UrXCJdXCJ9cmV0dXJuIHR9LFJsPXt9LEZPPVRmKHt9LFJsLHtcIiBcIjoxLCdcIic6MSxcIjxcIjoxLFwiPlwiOjEsXCJgXCI6MX0pLEJPPVRmKHt9LEZPLHtcIiNcIjoxLFwiP1wiOjEsXCJ7XCI6MSxcIn1cIjoxfSksWXA9VGYoe30sQk8se1wiL1wiOjEsXCI6XCI6MSxcIjtcIjoxLFwiPVwiOjEsXCJAXCI6MSxcIltcIjoxLFwiXFxcXFwiOjEsXCJdXCI6MSxcIl5cIjoxLFwifFwiOjF9KSxCcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRHKHQsMCk7cmV0dXJuIG4+MzImJm48MTI3JiYhV0UoZSx0KT90OmVuY29kZVVSSUNvbXBvbmVudCh0KX0sVWQ9e2Z0cDoyMSxmaWxlOm51bGwsaHR0cDo4MCxodHRwczo0NDMsd3M6ODAsd3NzOjQ0M30semE9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gdC5sZW5ndGg9PTImJkxpKFZPLFRpKHQsMCkpJiYoKG49VGkodCwxKSk9PVwiOlwifHwhZSYmbj09XCJ8XCIpfSxuQz1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdC5sZW5ndGg+MSYmemEocWEodCwwLDIpKSYmKHQubGVuZ3RoPT0yfHwoZT1UaSh0LDIpKT09PVwiL1wifHxlPT09XCJcXFxcXCJ8fGU9PT1cIj9cInx8ZT09PVwiI1wiKX0sQ0c9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1cIi5cInx8U2wodCk9PT1cIiUyZVwifSxxcD17fSxpQz17fSx6cD17fSxyQz17fSxvQz17fSxKcD17fSxzQz17fSxhQz17fSx4ZD17fSxWZD17fSxYcD17fSxRcD17fSxacD17fSwkcD17fSxjQz17fSx0Xz17fSxmcz17fSxxaT17fSxkQz17fSx5bz17fSxTcj17fSxTZj1mdW5jdGlvbih0LGUsbil7dmFyIGkscixvLHM9dnIodCk7aWYoZSl7aWYocj10aGlzLnBhcnNlKHMpKXRocm93IEhFKHIpO3RoaXMuc2VhcmNoUGFyYW1zPW51bGw7fWVsc2Uge2lmKG4hPT12b2lkIDAmJihpPW5ldyBTZihuLCEwKSkscj10aGlzLnBhcnNlKHMsbnVsbCxpKSl0aHJvdyBIRShyKTsobz1zRyhuZXcgb0cpKS5iaW5kVVJMKHRoaXMpLHRoaXMuc2VhcmNoUGFyYW1zPW87fX07U2YucHJvdG90eXBlPXt0eXBlOlwiVVJMXCIscGFyc2U6ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHIsbyxzLGEsYz10aGlzLGQ9ZXx8cXAsbD0wLHU9XCJcIixoPSExLHA9ITEsZz0hMTtmb3IodD12cih0KSxlfHwoYy5zY2hlbWU9XCJcIixjLnVzZXJuYW1lPVwiXCIsYy5wYXNzd29yZD1cIlwiLGMuaG9zdD1udWxsLGMucG9ydD1udWxsLGMucGF0aD1bXSxjLnF1ZXJ5PW51bGwsYy5mcmFnbWVudD1udWxsLGMuY2Fubm90QmVBQmFzZVVSTD0hMSx0PVdwKHQsVEcsXCJcIiksdD1XcCh0LFNHLFwiJDFcIikpLHQ9V3AodCxSRyxcIlwiKSxpPUVzKHQpO2w8PWkubGVuZ3RoOyl7c3dpdGNoKHI9aVtsXSxkKXtjYXNlIHFwOmlmKCFyfHwhTGkoVk8scikpe2lmKGUpcmV0dXJuIEhwO2Q9enA7Y29udGludWV9dSs9U2wociksZD1pQzticmVhaztjYXNlIGlDOmlmKHImJihMaShwRyxyKXx8cj09XCIrXCJ8fHI9PVwiLVwifHxyPT1cIi5cIikpdSs9U2wocik7ZWxzZSB7aWYociE9XCI6XCIpe2lmKGUpcmV0dXJuIEhwO3U9XCJcIixkPXpwLGw9MDtjb250aW51ZX1pZihlJiYoYy5pc1NwZWNpYWwoKSE9V0UoVWQsdSl8fHU9PVwiZmlsZVwiJiYoYy5pbmNsdWRlc0NyZWRlbnRpYWxzKCl8fGMucG9ydCE9PW51bGwpfHxjLnNjaGVtZT09XCJmaWxlXCImJiFjLmhvc3QpKXJldHVybjtpZihjLnNjaGVtZT11LGUpcmV0dXJuIHZvaWQoYy5pc1NwZWNpYWwoKSYmVWRbYy5zY2hlbWVdPT1jLnBvcnQmJihjLnBvcnQ9bnVsbCkpO3U9XCJcIixjLnNjaGVtZT09XCJmaWxlXCI/ZD0kcDpjLmlzU3BlY2lhbCgpJiZuJiZuLnNjaGVtZT09Yy5zY2hlbWU/ZD1yQzpjLmlzU3BlY2lhbCgpP2Q9YUM6aVtsKzFdPT1cIi9cIj8oZD1vQyxsKyspOihjLmNhbm5vdEJlQUJhc2VVUkw9ITAsbXMoYy5wYXRoLFwiXCIpLGQ9ZEMpO31icmVhaztjYXNlIHpwOmlmKCFufHxuLmNhbm5vdEJlQUJhc2VVUkwmJnIhPVwiI1wiKXJldHVybiBIcDtpZihuLmNhbm5vdEJlQUJhc2VVUkwmJnI9PVwiI1wiKXtjLnNjaGVtZT1uLnNjaGVtZSxjLnBhdGg9RGkobi5wYXRoKSxjLnF1ZXJ5PW4ucXVlcnksYy5mcmFnbWVudD1cIlwiLGMuY2Fubm90QmVBQmFzZVVSTD0hMCxkPVNyO2JyZWFrfWQ9bi5zY2hlbWU9PVwiZmlsZVwiPyRwOkpwO2NvbnRpbnVlO2Nhc2UgckM6aWYociE9XCIvXCJ8fGlbbCsxXSE9XCIvXCIpe2Q9SnA7Y29udGludWV9ZD14ZCxsKys7YnJlYWs7Y2FzZSBvQzppZihyPT1cIi9cIil7ZD1WZDticmVha31kPXFpO2NvbnRpbnVlO2Nhc2UgSnA6aWYoYy5zY2hlbWU9bi5zY2hlbWUscj09bGkpYy51c2VybmFtZT1uLnVzZXJuYW1lLGMucGFzc3dvcmQ9bi5wYXNzd29yZCxjLmhvc3Q9bi5ob3N0LGMucG9ydD1uLnBvcnQsYy5wYXRoPURpKG4ucGF0aCksYy5xdWVyeT1uLnF1ZXJ5O2Vsc2UgaWYocj09XCIvXCJ8fHI9PVwiXFxcXFwiJiZjLmlzU3BlY2lhbCgpKWQ9c0M7ZWxzZSBpZihyPT1cIj9cIiljLnVzZXJuYW1lPW4udXNlcm5hbWUsYy5wYXNzd29yZD1uLnBhc3N3b3JkLGMuaG9zdD1uLmhvc3QsYy5wb3J0PW4ucG9ydCxjLnBhdGg9RGkobi5wYXRoKSxjLnF1ZXJ5PVwiXCIsZD15bztlbHNlIHtpZihyIT1cIiNcIil7Yy51c2VybmFtZT1uLnVzZXJuYW1lLGMucGFzc3dvcmQ9bi5wYXNzd29yZCxjLmhvc3Q9bi5ob3N0LGMucG9ydD1uLnBvcnQsYy5wYXRoPURpKG4ucGF0aCksYy5wYXRoLmxlbmd0aC0tLGQ9cWk7Y29udGludWV9Yy51c2VybmFtZT1uLnVzZXJuYW1lLGMucGFzc3dvcmQ9bi5wYXNzd29yZCxjLmhvc3Q9bi5ob3N0LGMucG9ydD1uLnBvcnQsYy5wYXRoPURpKG4ucGF0aCksYy5xdWVyeT1uLnF1ZXJ5LGMuZnJhZ21lbnQ9XCJcIixkPVNyO31icmVhaztjYXNlIHNDOmlmKCFjLmlzU3BlY2lhbCgpfHxyIT1cIi9cIiYmciE9XCJcXFxcXCIpe2lmKHIhPVwiL1wiKXtjLnVzZXJuYW1lPW4udXNlcm5hbWUsYy5wYXNzd29yZD1uLnBhc3N3b3JkLGMuaG9zdD1uLmhvc3QsYy5wb3J0PW4ucG9ydCxkPXFpO2NvbnRpbnVlfWQ9VmQ7fWVsc2UgZD14ZDticmVhaztjYXNlIGFDOmlmKGQ9eGQsciE9XCIvXCJ8fFRpKHUsbCsxKSE9XCIvXCIpY29udGludWU7bCsrO2JyZWFrO2Nhc2UgeGQ6aWYociE9XCIvXCImJnIhPVwiXFxcXFwiKXtkPVZkO2NvbnRpbnVlfWJyZWFrO2Nhc2UgVmQ6aWYocj09XCJAXCIpe2gmJih1PVwiJTQwXCIrdSksaD0hMCxvPUVzKHUpO2Zvcih2YXIgRT0wO0U8by5sZW5ndGg7RSsrKXt2YXIgZj1vW0VdO2lmKGYhPVwiOlwifHxnKXt2YXIgUz1CcihmLFlwKTtnP2MucGFzc3dvcmQrPVM6Yy51c2VybmFtZSs9Uzt9ZWxzZSBnPSEwO311PVwiXCI7fWVsc2UgaWYocj09bGl8fHI9PVwiL1wifHxyPT1cIj9cInx8cj09XCIjXCJ8fHI9PVwiXFxcXFwiJiZjLmlzU3BlY2lhbCgpKXtpZihoJiZ1PT1cIlwiKXJldHVybiBcIkludmFsaWQgYXV0aG9yaXR5XCI7bC09RXModSkubGVuZ3RoKzEsdT1cIlwiLGQ9WHA7fWVsc2UgdSs9cjticmVhaztjYXNlIFhwOmNhc2UgUXA6aWYoZSYmYy5zY2hlbWU9PVwiZmlsZVwiKXtkPXRfO2NvbnRpbnVlfWlmKHIhPVwiOlwifHxwKXtpZihyPT1saXx8cj09XCIvXCJ8fHI9PVwiP1wifHxyPT1cIiNcInx8cj09XCJcXFxcXCImJmMuaXNTcGVjaWFsKCkpe2lmKGMuaXNTcGVjaWFsKCkmJnU9PVwiXCIpcmV0dXJuIHZvO2lmKGUmJnU9PVwiXCImJihjLmluY2x1ZGVzQ3JlZGVudGlhbHMoKXx8Yy5wb3J0IT09bnVsbCkpcmV0dXJuO2lmKHM9Yy5wYXJzZUhvc3QodSkpcmV0dXJuIHM7aWYodT1cIlwiLGQ9ZnMsZSlyZXR1cm47Y29udGludWV9cj09XCJbXCI/cD0hMDpyPT1cIl1cIiYmKHA9ITEpLHUrPXI7fWVsc2Uge2lmKHU9PVwiXCIpcmV0dXJuIHZvO2lmKHM9Yy5wYXJzZUhvc3QodSkpcmV0dXJuIHM7aWYodT1cIlwiLGQ9WnAsZT09UXApcmV0dXJufWJyZWFrO2Nhc2UgWnA6aWYoIUxpKEtwLHIpKXtpZihyPT1saXx8cj09XCIvXCJ8fHI9PVwiP1wifHxyPT1cIiNcInx8cj09XCJcXFxcXCImJmMuaXNTcGVjaWFsKCl8fGUpe2lmKHUhPVwiXCIpe3ZhciBDPU1kKHUsMTApO2lmKEM+NjU1MzUpcmV0dXJuIHRDO2MucG9ydD1jLmlzU3BlY2lhbCgpJiZDPT09VWRbYy5zY2hlbWVdP251bGw6Qyx1PVwiXCI7fWlmKGUpcmV0dXJuO2Q9ZnM7Y29udGludWV9cmV0dXJuIHRDfXUrPXI7YnJlYWs7Y2FzZSAkcDppZihjLnNjaGVtZT1cImZpbGVcIixyPT1cIi9cInx8cj09XCJcXFxcXCIpZD1jQztlbHNlIHtpZighbnx8bi5zY2hlbWUhPVwiZmlsZVwiKXtkPXFpO2NvbnRpbnVlfWlmKHI9PWxpKWMuaG9zdD1uLmhvc3QsYy5wYXRoPURpKG4ucGF0aCksYy5xdWVyeT1uLnF1ZXJ5O2Vsc2UgaWYocj09XCI/XCIpYy5ob3N0PW4uaG9zdCxjLnBhdGg9RGkobi5wYXRoKSxjLnF1ZXJ5PVwiXCIsZD15bztlbHNlIHtpZihyIT1cIiNcIil7bkMoWWEoRGkoaSxsKSxcIlwiKSl8fChjLmhvc3Q9bi5ob3N0LGMucGF0aD1EaShuLnBhdGgpLGMuc2hvcnRlblBhdGgoKSksZD1xaTtjb250aW51ZX1jLmhvc3Q9bi5ob3N0LGMucGF0aD1EaShuLnBhdGgpLGMucXVlcnk9bi5xdWVyeSxjLmZyYWdtZW50PVwiXCIsZD1Tcjt9fWJyZWFrO2Nhc2UgY0M6aWYocj09XCIvXCJ8fHI9PVwiXFxcXFwiKXtkPXRfO2JyZWFrfW4mJm4uc2NoZW1lPT1cImZpbGVcIiYmIW5DKFlhKERpKGksbCksXCJcIikpJiYoemEobi5wYXRoWzBdLCEwKT9tcyhjLnBhdGgsbi5wYXRoWzBdKTpjLmhvc3Q9bi5ob3N0KSxkPXFpO2NvbnRpbnVlO2Nhc2UgdF86aWYocj09bGl8fHI9PVwiL1wifHxyPT1cIlxcXFxcInx8cj09XCI/XCJ8fHI9PVwiI1wiKXtpZighZSYmemEodSkpZD1xaTtlbHNlIGlmKHU9PVwiXCIpe2lmKGMuaG9zdD1cIlwiLGUpcmV0dXJuO2Q9ZnM7fWVsc2Uge2lmKHM9Yy5wYXJzZUhvc3QodSkpcmV0dXJuIHM7aWYoYy5ob3N0PT1cImxvY2FsaG9zdFwiJiYoYy5ob3N0PVwiXCIpLGUpcmV0dXJuO3U9XCJcIixkPWZzO31jb250aW51ZX11Kz1yO2JyZWFrO2Nhc2UgZnM6aWYoYy5pc1NwZWNpYWwoKSl7aWYoZD1xaSxyIT1cIi9cIiYmciE9XCJcXFxcXCIpY29udGludWV9ZWxzZSBpZihlfHxyIT1cIj9cIilpZihlfHxyIT1cIiNcIil7aWYociE9bGkmJihkPXFpLHIhPVwiL1wiKSljb250aW51ZX1lbHNlIGMuZnJhZ21lbnQ9XCJcIixkPVNyO2Vsc2UgYy5xdWVyeT1cIlwiLGQ9eW87YnJlYWs7Y2FzZSBxaTppZihyPT1saXx8cj09XCIvXCJ8fHI9PVwiXFxcXFwiJiZjLmlzU3BlY2lhbCgpfHwhZSYmKHI9PVwiP1wifHxyPT1cIiNcIikpe2lmKChhPVNsKGE9dSkpPT09XCIuLlwifHxhPT09XCIlMmUuXCJ8fGE9PT1cIi4lMmVcInx8YT09PVwiJTJlJTJlXCI/KGMuc2hvcnRlblBhdGgoKSxyPT1cIi9cInx8cj09XCJcXFxcXCImJmMuaXNTcGVjaWFsKCl8fG1zKGMucGF0aCxcIlwiKSk6Q0codSk/cj09XCIvXCJ8fHI9PVwiXFxcXFwiJiZjLmlzU3BlY2lhbCgpfHxtcyhjLnBhdGgsXCJcIik6KGMuc2NoZW1lPT1cImZpbGVcIiYmIWMucGF0aC5sZW5ndGgmJnphKHUpJiYoYy5ob3N0JiYoYy5ob3N0PVwiXCIpLHU9VGkodSwwKStcIjpcIiksbXMoYy5wYXRoLHUpKSx1PVwiXCIsYy5zY2hlbWU9PVwiZmlsZVwiJiYocj09bGl8fHI9PVwiP1wifHxyPT1cIiNcIikpZm9yKDtjLnBhdGgubGVuZ3RoPjEmJmMucGF0aFswXT09PVwiXCI7KWxHKGMucGF0aCk7cj09XCI/XCI/KGMucXVlcnk9XCJcIixkPXlvKTpyPT1cIiNcIiYmKGMuZnJhZ21lbnQ9XCJcIixkPVNyKTt9ZWxzZSB1Kz1CcihyLEJPKTticmVhaztjYXNlIGRDOnI9PVwiP1wiPyhjLnF1ZXJ5PVwiXCIsZD15byk6cj09XCIjXCI/KGMuZnJhZ21lbnQ9XCJcIixkPVNyKTpyIT1saSYmKGMucGF0aFswXSs9QnIocixSbCkpO2JyZWFrO2Nhc2UgeW86ZXx8ciE9XCIjXCI/ciE9bGkmJihyPT1cIidcIiYmYy5pc1NwZWNpYWwoKT9jLnF1ZXJ5Kz1cIiUyN1wiOmMucXVlcnkrPXI9PVwiI1wiP1wiJTIzXCI6QnIocixSbCkpOihjLmZyYWdtZW50PVwiXCIsZD1Tcik7YnJlYWs7Y2FzZSBTcjpyIT1saSYmKGMuZnJhZ21lbnQrPUJyKHIsRk8pKTt9bCsrO319LHBhcnNlSG9zdDpmdW5jdGlvbih0KXt2YXIgZSxuLGk7aWYoVGkodCwwKT09XCJbXCIpe2lmKFRpKHQsdC5sZW5ndGgtMSkhPVwiXVwifHwoZT1mdW5jdGlvbihyKXt2YXIgbyxzLGEsYyxkLGwsdSxoPVswLDAsMCwwLDAsMCwwLDBdLHA9MCxnPW51bGwsRT0wLGY9ZnVuY3Rpb24oKXtyZXR1cm4gVGkocixFKX07aWYoZigpPT1cIjpcIil7aWYoVGkociwxKSE9XCI6XCIpcmV0dXJuO0UrPTIsZz0rK3A7fWZvcig7ZigpOyl7aWYocD09OClyZXR1cm47aWYoZigpIT1cIjpcIil7Zm9yKG89cz0wO3M8NCYmTGkoZUMsZigpKTspbz0xNipvK01kKGYoKSwxNiksRSsrLHMrKztpZihmKCk9PVwiLlwiKXtpZihzPT0wfHwoRS09cyxwPjYpKXJldHVybjtmb3IoYT0wO2YoKTspe2lmKGM9bnVsbCxhPjApe2lmKCEoZigpPT1cIi5cIiYmYTw0KSlyZXR1cm47RSsrO31pZighTGkoS3AsZigpKSlyZXR1cm47Zm9yKDtMaShLcCxmKCkpOyl7aWYoZD1NZChmKCksMTApLGM9PT1udWxsKWM9ZDtlbHNlIHtpZihjPT0wKXJldHVybjtjPTEwKmMrZDt9aWYoYz4yNTUpcmV0dXJuO0UrKzt9aFtwXT0yNTYqaFtwXStjLCsrYSE9MiYmYSE9NHx8cCsrO31pZihhIT00KXJldHVybjticmVha31pZihmKCk9PVwiOlwiKXtpZihFKyssIWYoKSlyZXR1cm59ZWxzZSBpZihmKCkpcmV0dXJuO2hbcCsrXT1vO31lbHNlIHtpZihnIT09bnVsbClyZXR1cm47RSsrLGc9KytwO319aWYoZyE9PW51bGwpZm9yKGw9cC1nLHA9NztwIT0wJiZsPjA7KXU9aFtwXSxoW3AtLV09aFtnK2wtMV0saFtnKy0tbF09dTtlbHNlIGlmKHAhPTgpcmV0dXJuO3JldHVybiBofShxYSh0LDEsLTEpKSwhZSkpcmV0dXJuIHZvO3RoaXMuaG9zdD1lO31lbHNlIGlmKHRoaXMuaXNTcGVjaWFsKCkpe2lmKHQ9ZUcodCksTGkoZkcsdCl8fChlPWZ1bmN0aW9uKHIpe3ZhciBvLHMsYSxjLGQsbCx1LGg9dUcocixcIi5cIik7aWYoaC5sZW5ndGgmJmhbaC5sZW5ndGgtMV09PVwiXCImJmgubGVuZ3RoLS0sKG89aC5sZW5ndGgpPjQpcmV0dXJuIHI7Zm9yKHM9W10sYT0wO2E8bzthKyspe2lmKChjPWhbYV0pPT1cIlwiKXJldHVybiByO2lmKGQ9MTAsYy5sZW5ndGg+MSYmVGkoYywwKT09XCIwXCImJihkPUxpKF9HLGMpPzE2OjgsYz1xYShjLGQ9PTg/MToyKSksYz09PVwiXCIpbD0wO2Vsc2Uge2lmKCFMaShkPT0xMD9tRzpkPT04P0VHOmVDLGMpKXJldHVybiByO2w9TWQoYyxkKTt9bXMocyxsKTt9Zm9yKGE9MDthPG87YSsrKWlmKGw9c1thXSxhPT1vLTEpe2lmKGw+PSRSKDI1Niw1LW8pKXJldHVybiBudWxsfWVsc2UgaWYobD4yNTUpcmV0dXJuIG51bGw7Zm9yKHU9ZEcocyksYT0wO2E8cy5sZW5ndGg7YSsrKXUrPXNbYV0qJFIoMjU2LDMtYSk7cmV0dXJuIHV9KHQpLGU9PT1udWxsKSlyZXR1cm4gdm87dGhpcy5ob3N0PWU7fWVsc2Uge2lmKExpKGdHLHQpKXJldHVybiB2bztmb3IoZT1cIlwiLG49RXModCksaT0wO2k8bi5sZW5ndGg7aSsrKWUrPUJyKG5baV0sUmwpO3RoaXMuaG9zdD1lO319LGNhbm5vdEhhdmVVc2VybmFtZVBhc3N3b3JkUG9ydDpmdW5jdGlvbigpe3JldHVybiAhdGhpcy5ob3N0fHx0aGlzLmNhbm5vdEJlQUJhc2VVUkx8fHRoaXMuc2NoZW1lPT1cImZpbGVcIn0saW5jbHVkZXNDcmVkZW50aWFsczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVzZXJuYW1lIT1cIlwifHx0aGlzLnBhc3N3b3JkIT1cIlwifSxpc1NwZWNpYWw6ZnVuY3Rpb24oKXtyZXR1cm4gV0UoVWQsdGhpcy5zY2hlbWUpfSxzaG9ydGVuUGF0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMucGF0aCxlPXQubGVuZ3RoOyFlfHx0aGlzLnNjaGVtZT09XCJmaWxlXCImJmU9PTEmJnphKHRbMF0sITApfHx0Lmxlbmd0aC0tO30sc2VyaWFsaXplOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuc2NoZW1lLG49dC51c2VybmFtZSxpPXQucGFzc3dvcmQscj10Lmhvc3Qsbz10LnBvcnQscz10LnBhdGgsYT10LnF1ZXJ5LGM9dC5mcmFnbWVudCxkPWUrXCI6XCI7cmV0dXJuIHIhPT1udWxsPyhkKz1cIi8vXCIsdC5pbmNsdWRlc0NyZWRlbnRpYWxzKCkmJihkKz1uKyhpP1wiOlwiK2k6XCJcIikrXCJAXCIpLGQrPU1hKHIpLG8hPT1udWxsJiYoZCs9XCI6XCIrbykpOmU9PVwiZmlsZVwiJiYoZCs9XCIvL1wiKSxkKz10LmNhbm5vdEJlQUJhc2VVUkw/c1swXTpzLmxlbmd0aD9cIi9cIitZYShzLFwiL1wiKTpcIlwiLGEhPT1udWxsJiYoZCs9XCI/XCIrYSksYyE9PW51bGwmJihkKz1cIiNcIitjKSxkfSxzZXRIcmVmOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucGFyc2UodCk7aWYoZSl0aHJvdyBIRShlKTt0aGlzLnNlYXJjaFBhcmFtcy51cGRhdGUoKTt9LGdldE9yaWdpbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc2NoZW1lLGU9dGhpcy5wb3J0O2lmKHQ9PVwiYmxvYlwiKXRyeXtyZXR1cm4gbmV3IGVhKHQucGF0aFswXSkub3JpZ2lufWNhdGNoe3JldHVybiBcIm51bGxcIn1yZXR1cm4gdCE9XCJmaWxlXCImJnRoaXMuaXNTcGVjaWFsKCk/dCtcIjovL1wiK01hKHRoaXMuaG9zdCkrKGUhPT1udWxsP1wiOlwiK2U6XCJcIik6XCJudWxsXCJ9LGdldFByb3RvY29sOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2NoZW1lK1wiOlwifSxzZXRQcm90b2NvbDpmdW5jdGlvbih0KXt0aGlzLnBhcnNlKHZyKHQpK1wiOlwiLHFwKTt9LGdldFVzZXJuYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXNlcm5hbWV9LHNldFVzZXJuYW1lOmZ1bmN0aW9uKHQpe3ZhciBlPUVzKHZyKHQpKTtpZighdGhpcy5jYW5ub3RIYXZlVXNlcm5hbWVQYXNzd29yZFBvcnQoKSl7dGhpcy51c2VybmFtZT1cIlwiO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXRoaXMudXNlcm5hbWUrPUJyKGVbbl0sWXApO319LGdldFBhc3N3b3JkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFzc3dvcmR9LHNldFBhc3N3b3JkOmZ1bmN0aW9uKHQpe3ZhciBlPUVzKHZyKHQpKTtpZighdGhpcy5jYW5ub3RIYXZlVXNlcm5hbWVQYXNzd29yZFBvcnQoKSl7dGhpcy5wYXNzd29yZD1cIlwiO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXRoaXMucGFzc3dvcmQrPUJyKGVbbl0sWXApO319LGdldEhvc3Q6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmhvc3QsZT10aGlzLnBvcnQ7cmV0dXJuIHQ9PT1udWxsP1wiXCI6ZT09PW51bGw/TWEodCk6TWEodCkrXCI6XCIrZX0sc2V0SG9zdDpmdW5jdGlvbih0KXt0aGlzLmNhbm5vdEJlQUJhc2VVUkx8fHRoaXMucGFyc2UodCxYcCk7fSxnZXRIb3N0bmFtZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuaG9zdDtyZXR1cm4gdD09PW51bGw/XCJcIjpNYSh0KX0sc2V0SG9zdG5hbWU6ZnVuY3Rpb24odCl7dGhpcy5jYW5ub3RCZUFCYXNlVVJMfHx0aGlzLnBhcnNlKHQsUXApO30sZ2V0UG9ydDpmdW5jdGlvbigpe3ZhciB0PXRoaXMucG9ydDtyZXR1cm4gdD09PW51bGw/XCJcIjp2cih0KX0sc2V0UG9ydDpmdW5jdGlvbih0KXt0aGlzLmNhbm5vdEhhdmVVc2VybmFtZVBhc3N3b3JkUG9ydCgpfHwoKHQ9dnIodCkpPT1cIlwiP3RoaXMucG9ydD1udWxsOnRoaXMucGFyc2UodCxacCkpO30sZ2V0UGF0aG5hbWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhdGg7cmV0dXJuIHRoaXMuY2Fubm90QmVBQmFzZVVSTD90WzBdOnQubGVuZ3RoP1wiL1wiK1lhKHQsXCIvXCIpOlwiXCJ9LHNldFBhdGhuYW1lOmZ1bmN0aW9uKHQpe3RoaXMuY2Fubm90QmVBQmFzZVVSTHx8KHRoaXMucGF0aD1bXSx0aGlzLnBhcnNlKHQsZnMpKTt9LGdldFNlYXJjaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMucXVlcnk7cmV0dXJuIHQ/XCI/XCIrdDpcIlwifSxzZXRTZWFyY2g6ZnVuY3Rpb24odCl7KHQ9dnIodCkpPT1cIlwiP3RoaXMucXVlcnk9bnVsbDooVGkodCwwKT09XCI/XCImJih0PXFhKHQsMSkpLHRoaXMucXVlcnk9XCJcIix0aGlzLnBhcnNlKHQseW8pKSx0aGlzLnNlYXJjaFBhcmFtcy51cGRhdGUoKTt9LGdldFNlYXJjaFBhcmFtczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlYXJjaFBhcmFtcy5mYWNhZGV9LGdldEhhc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmZyYWdtZW50O3JldHVybiB0P1wiI1wiK3Q6XCJcIn0sc2V0SGFzaDpmdW5jdGlvbih0KXsodD12cih0KSkhPVwiXCI/KFRpKHQsMCk9PVwiI1wiJiYodD1xYSh0LDEpKSx0aGlzLmZyYWdtZW50PVwiXCIsdGhpcy5wYXJzZSh0LFNyKSk6dGhpcy5mcmFnbWVudD1udWxsO30sdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5xdWVyeT10aGlzLnNlYXJjaFBhcmFtcy5zZXJpYWxpemUoKXx8bnVsbDt9fTt2YXIgZWE9ZnVuY3Rpb24odCl7dmFyIGU9JGoodGhpcyx5biksbj1pRyhhcmd1bWVudHMubGVuZ3RoLDEpPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxpPXJHKGUsbmV3IFNmKHQsITEsbikpO2ZmfHwoZS5ocmVmPWkuc2VyaWFsaXplKCksZS5vcmlnaW49aS5nZXRPcmlnaW4oKSxlLnByb3RvY29sPWkuZ2V0UHJvdG9jb2woKSxlLnVzZXJuYW1lPWkuZ2V0VXNlcm5hbWUoKSxlLnBhc3N3b3JkPWkuZ2V0UGFzc3dvcmQoKSxlLmhvc3Q9aS5nZXRIb3N0KCksZS5ob3N0bmFtZT1pLmdldEhvc3RuYW1lKCksZS5wb3J0PWkuZ2V0UG9ydCgpLGUucGF0aG5hbWU9aS5nZXRQYXRobmFtZSgpLGUuc2VhcmNoPWkuZ2V0U2VhcmNoKCksZS5zZWFyY2hQYXJhbXM9aS5nZXRTZWFyY2hQYXJhbXMoKSxlLmhhc2g9aS5nZXRIYXNoKCkpO30seW49ZWEucHJvdG90eXBlLGhpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gemwodGhpcylbdF0oKX0sc2V0OmUmJmZ1bmN0aW9uKG4pe3JldHVybiB6bCh0aGlzKVtlXShuKX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9fTtmZiYmKHVpKHluLFwiaHJlZlwiLGhpKFwic2VyaWFsaXplXCIsXCJzZXRIcmVmXCIpKSx1aSh5bixcIm9yaWdpblwiLGhpKFwiZ2V0T3JpZ2luXCIpKSx1aSh5bixcInByb3RvY29sXCIsaGkoXCJnZXRQcm90b2NvbFwiLFwic2V0UHJvdG9jb2xcIikpLHVpKHluLFwidXNlcm5hbWVcIixoaShcImdldFVzZXJuYW1lXCIsXCJzZXRVc2VybmFtZVwiKSksdWkoeW4sXCJwYXNzd29yZFwiLGhpKFwiZ2V0UGFzc3dvcmRcIixcInNldFBhc3N3b3JkXCIpKSx1aSh5bixcImhvc3RcIixoaShcImdldEhvc3RcIixcInNldEhvc3RcIikpLHVpKHluLFwiaG9zdG5hbWVcIixoaShcImdldEhvc3RuYW1lXCIsXCJzZXRIb3N0bmFtZVwiKSksdWkoeW4sXCJwb3J0XCIsaGkoXCJnZXRQb3J0XCIsXCJzZXRQb3J0XCIpKSx1aSh5bixcInBhdGhuYW1lXCIsaGkoXCJnZXRQYXRobmFtZVwiLFwic2V0UGF0aG5hbWVcIikpLHVpKHluLFwic2VhcmNoXCIsaGkoXCJnZXRTZWFyY2hcIixcInNldFNlYXJjaFwiKSksdWkoeW4sXCJzZWFyY2hQYXJhbXNcIixoaShcImdldFNlYXJjaFBhcmFtc1wiKSksdWkoeW4sXCJoYXNoXCIsaGkoXCJnZXRIYXNoXCIsXCJzZXRIYXNoXCIpKSksTGQoeW4sXCJ0b0pTT05cIixmdW5jdGlvbigpe3JldHVybiB6bCh0aGlzKS5zZXJpYWxpemUoKX0se2VudW1lcmFibGU6ITB9KSxMZCh5bixcInRvU3RyaW5nXCIsZnVuY3Rpb24oKXtyZXR1cm4gemwodGhpcykuc2VyaWFsaXplKCl9LHtlbnVtZXJhYmxlOiEwfSksTGEmJihlXz1MYS5jcmVhdGVPYmplY3RVUkwsbl89TGEucmV2b2tlT2JqZWN0VVJMLGVfJiZMZChlYSxcImNyZWF0ZU9iamVjdFVSTFwiLFpSKGVfLExhKSksbl8mJkxkKGVhLFwicmV2b2tlT2JqZWN0VVJMXCIsWlIobl8sTGEpKSk7dmFyIGVfLG5fO25HKGVhLFwiVVJMXCIpLFFqKHtnbG9iYWw6ITAsY29uc3RydWN0b3I6ITAsZm9yY2VkOiFaaixzaGFtOiFmZn0se1VSTDplYX0pO3ZhciBJRz14dCx2Rz1TZSx5Rz1WdSxsQz1vaSxBRz1yZix1Qz1EbihcIlVSTFwiKTtJRyh7dGFyZ2V0OlwiVVJMXCIsc3RhdDohMCxmb3JjZWQ6IShBRyYmdkcoZnVuY3Rpb24oKXt1Qy5jYW5QYXJzZSgpO30pKX0se2NhblBhcnNlOmZ1bmN0aW9uKHQpe3ZhciBlPXlHKGFyZ3VtZW50cy5sZW5ndGgsMSksbj1sQyh0KSxpPWU8Mnx8YXJndW1lbnRzWzFdPT09dm9pZCAwP3ZvaWQgMDpsQyhhcmd1bWVudHNbMV0pO3RyeXtyZXR1cm4gISFuZXcgdUMobixpKX1jYXRjaHtyZXR1cm4gITF9fX0pO3ZhciBoQz1hZShHaS5VUkwpLE5lPXtnZXREaXNwbGF5TWVkaWE6ITEsZ2V0U3RyZWFtRnJvbUV4dGVuc2lvbjohMSxzdXBwb3J0VW5pZmllZFBsYW46ITEsc3VwcG9ydE1pbkJpdHJhdGU6ITEsc3VwcG9ydFNldFJ0cFNlbmRlclBhcmFtZXRlcnM6ITEsc3VwcG9ydER1YWxTdHJlYW06ITAsd2ViQXVkaW9NZWRpYVN0cmVhbURlc3Q6ITEsc3VwcG9ydFJlcGxhY2VUcmFjazohMSxzdXBwb3J0V2ViR0w6ITEsd2ViQXVkaW9XaXRoQUVDOiExLHN1cHBvcnRSZXF1ZXN0RnJhbWU6ITEsc3VwcG9ydFNoYXJlQXVkaW86ITEsc3VwcG9ydER1YWxTdHJlYW1FbmNvZGluZzohMSxzdXBwb3J0RGF0YUNoYW5uZWw6ITEsc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbjohMSxzdXBwb3J0V2ViUlRDRW5jb2RlZFRyYW5zZm9ybTohMSxzdXBwb3J0V2ViUlRDSW5zZXJ0YWJsZVN0cmVhbTohMSxzdXBwb3J0UmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjazohMSxzdXBwb3J0V2ViQ3J5cHRvOiExfTtmdW5jdGlvbiBmdCgpe3JldHVybiBOZX1mdW5jdGlvbiBqTygpe3JldHVybiBcInNldFNpbmtJZFwiaW4gSFRNTEF1ZGlvRWxlbWVudC5wcm90b3R5cGUmJighdihcIlJFU1RSSUNUSU9OX1NFVF9QTEFZQkFDS19ERVZJQ0VcIil8fChvbygpfHxfTygpKSYmIWxmKCkpfWZ1bmN0aW9uIHBDKCl7cmV0dXJuICFOZS5zdXBwb3J0VW5pZmllZFBsYW58fHYoXCJDSFJPTUVfRk9SQ0VfUExBTl9CXCIpJiZobygpfXZhciBrZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5JT1NfMTVfMTZfSU5URVJSVVBUSU9OX1NUQVJUPVwiaW9zMTVfMTYtaW50ZXJydXB0aW9uLXN0YXJ0XCIsdC5JT1NfMTVfMTZfSU5URVJSVVBUSU9OX0VORD1cImlvczE1XzE2LWludGVycnVwdGlvbi1lbmRcIix0LklPU19JTlRFUlJVUFRJT05fU1RBUlQ9XCJpb3MtaW50ZXJydXB0aW9uLXN0YXJ0XCIsdC5JT1NfSU5URVJSVVBUSU9OX0VORD1cImlvcy1pbnRlcnJ1cHRpb24tZW5kXCIsdC5TVEFURV9DSEFOR0U9XCJzdGF0ZS1jaGFuZ2VcIix0fSh7fSk7ZnVuY3Rpb24gZ3ModCxlLG4pe3JldHVybiB7c2FtcGxlUmF0ZTp0LHN0ZXJlbzplLGJpdHJhdGU6bn19ZnVuY3Rpb24gX3QodCxlLG4saSxyKXtyZXR1cm4ge3dpZHRoOnQsaGVpZ2h0OmUsZnJhbWVSYXRlOm4sYml0cmF0ZU1pbjppLGJpdHJhdGVNYXg6cn19ZnVuY3Rpb24gcGkodCxlLG4saSxyKXtyZXR1cm4ge3dpZHRoOnttYXg6dH0saGVpZ2h0OnttYXg6ZX0sZnJhbWVSYXRlOm4sYml0cmF0ZU1pbjppLGJpdHJhdGVNYXg6cn19ZnVuY3Rpb24gaV8odCxlKXtyZXR1cm4ge251bVNwYXRpYWxMYXllcnM6dCxudW1UZW1wb3JhbExheWVyczplfX12YXIgYkc9e1wiOTBwXCI6X3QoMTYwLDkwKSxcIjkwcF8xXCI6X3QoMTYwLDkwKSxcIjEyMHBcIjpfdCgxNjAsMTIwLDE1LDMwLDY1KSxcIjEyMHBfMVwiOl90KDE2MCwxMjAsMTUsMzAsNjUpLFwiMTIwcF8zXCI6X3QoMTIwLDEyMCwxNSwzMCw1MCksXCIxMjBwXzRcIjpfdCgyMTIsMTIwKSxcIjE4MHBcIjpfdCgzMjAsMTgwLDE1LDMwLDE0MCksXCIxODBwXzFcIjpfdCgzMjAsMTgwLDE1LDMwLDE0MCksXCIxODBwXzNcIjpfdCgxODAsMTgwLDE1LDMwLDEwMCksXCIxODBwXzRcIjpfdCgyNDAsMTgwLDE1LDMwLDEyMCksXCIyNDBwXCI6X3QoMzIwLDI0MCwxNSw0MCwyMDApLFwiMjQwcF8xXCI6X3QoMzIwLDI0MCwxNSw0MCwyMDApLFwiMjQwcF8zXCI6X3QoMjQwLDI0MCwxNSw0MCwxNDApLFwiMjQwcF80XCI6X3QoNDI0LDI0MCwxNSw0MCwyMjApLFwiMzYwcFwiOl90KDY0MCwzNjAsMTUsODAsNDAwKSxcIjM2MHBfMVwiOl90KDY0MCwzNjAsMTUsODAsNDAwKSxcIjM2MHBfM1wiOl90KDM2MCwzNjAsMTUsODAsMjYwKSxcIjM2MHBfNFwiOl90KDY0MCwzNjAsMzAsODAsNjAwKSxcIjM2MHBfNlwiOl90KDM2MCwzNjAsMzAsODAsNDAwKSxcIjM2MHBfN1wiOl90KDQ4MCwzNjAsMTUsODAsMzIwKSxcIjM2MHBfOFwiOl90KDQ4MCwzNjAsMzAsODAsNDkwKSxcIjM2MHBfOVwiOl90KDY0MCwzNjAsMTUsODAsODAwKSxcIjM2MHBfMTBcIjpfdCg2NDAsMzYwLDI0LDgwLDgwMCksXCIzNjBwXzExXCI6X3QoNjQwLDM2MCwyNCw4MCwxZTMpLFwiNDgwcFwiOl90KDY0MCw0ODAsMTUsMTAwLDUwMCksXCI0ODBwXzFcIjpfdCg2NDAsNDgwLDE1LDEwMCw1MDApLFwiNDgwcF8yXCI6X3QoNjQwLDQ4MCwzMCwxMDAsMWUzKSxcIjQ4MHBfM1wiOl90KDQ4MCw0ODAsMTUsMTAwLDQwMCksXCI0ODBwXzRcIjpfdCg2NDAsNDgwLDMwLDEwMCw3NTApLFwiNDgwcF82XCI6X3QoNDgwLDQ4MCwzMCwxMDAsNjAwKSxcIjQ4MHBfOFwiOl90KDg0OCw0ODAsMTUsMTAwLDYxMCksXCI0ODBwXzlcIjpfdCg4NDgsNDgwLDMwLDEwMCw5MzApLFwiNDgwcF8xMFwiOl90KDY0MCw0ODAsMTAsMTAwLDQwMCksXCI3MjBwXCI6X3QoMTI4MCw3MjAsMTUsMTIwLDExMzApLFwiNzIwcF9hdXRvXCI6X3QoMTI4MCw3MjAsMzAsOTAwLDNlMyksXCI3MjBwXzFcIjpfdCgxMjgwLDcyMCwxNSwxMjAsMTEzMCksXCI3MjBwXzJcIjpfdCgxMjgwLDcyMCwzMCwxMjAsMmUzKSxcIjcyMHBfM1wiOl90KDEyODAsNzIwLDMwLDEyMCwxNzEwKSxcIjcyMHBfNVwiOl90KDk2MCw3MjAsMTUsMTIwLDkxMCksXCI3MjBwXzZcIjpfdCg5NjAsNzIwLDMwLDEyMCwxMzgwKSxcIjEwODBwXCI6X3QoMTkyMCwxMDgwLDE1LDEyMCwyMDgwKSxcIjEwODBwXzFcIjpfdCgxOTIwLDEwODAsMTUsMTIwLDIwODApLFwiMTA4MHBfMlwiOl90KDE5MjAsMTA4MCwzMCwxMjAsM2UzKSxcIjEwODBwXzNcIjpfdCgxOTIwLDEwODAsMzAsMTIwLDMxNTApLFwiMTA4MHBfNVwiOl90KDE5MjAsMTA4MCw2MCwxMjAsNDc4MCksXCIxNDQwcFwiOl90KDI1NjAsMTQ0MCwzMCwxMjAsNDg1MCksXCIxNDQwcF8xXCI6X3QoMjU2MCwxNDQwLDMwLDEyMCw0ODUwKSxcIjE0NDBwXzJcIjpfdCgyNTYwLDE0NDAsNjAsMTIwLDczNTApLFwiNGtcIjpfdCgzODQwLDIxNjAsMzAsMTIwLDg5MTApLFwiNGtfMVwiOl90KDM4NDAsMjE2MCwzMCwxMjAsODkxMCksXCI0a18zXCI6X3QoMzg0MCwyMTYwLDYwLDEyMCwxMzUwMCl9LHdHPXtcIjQ4MHBcIjpwaSg2NDAsNDgwLDUpLFwiNDgwcF8xXCI6cGkoNjQwLDQ4MCw1KSxcIjQ4MHBfMlwiOnBpKDY0MCw0ODAsMzApLFwiNDgwcF8zXCI6cGkoNjQwLDQ4MCwxNSksXCI3MjBwXCI6cGkoMTI4MCw3MjAsNSksXCI3MjBwX2F1dG9cIjpfdCgxMjgwLDcyMCwzMCw5MDAsM2UzKSxcIjcyMHBfMVwiOnBpKDEyODAsNzIwLDUpLFwiNzIwcF8yXCI6cGkoMTI4MCw3MjAsMzApLFwiNzIwcF8zXCI6cGkoMTI4MCw3MjAsMTUpLFwiMTA4MHBcIjpwaSgxOTIwLDEwODAsNSksXCIxMDgwcF8xXCI6cGkoMTkyMCwxMDgwLDUpLFwiMTA4MHBfMlwiOnBpKDE5MjAsMTA4MCwzMCksXCIxMDgwcF8zXCI6cGkoMTkyMCwxMDgwLDE1KX0sT0c9e1wiMVNMMVRMXCI6aV8oMSwxKSxcIjNTTDNUTFwiOmlfKDMsMyksXCIyU0wzVExcIjppXygyLDMpfTtmdW5jdGlvbiBjcih0KXtyZXR1cm4gdHx8KHQ9XCI0ODBwXzFcIiksdHlwZW9mIHQ9PVwic3RyaW5nXCI/T2JqZWN0LmFzc2lnbih7fSxiR1t0XSk6dH1mdW5jdGlvbiByXyh0KXtyZXR1cm4gdHlwZW9mIHQ9PVwic3RyaW5nXCI/T2JqZWN0LmFzc2lnbih7fSx3R1t0XSk6dH1mdW5jdGlvbiBGZCh0KXtyZXR1cm4gdHlwZW9mIHQ9PVwic3RyaW5nXCI/T2JqZWN0LmFzc2lnbih7fSxPR1t0XSk6dH12YXIgTkc9e3NwZWVjaF9sb3dfcXVhbGl0eTpncygxNmUzLCExKSxzcGVlY2hfc3RhbmRhcmQ6Z3MoMzJlMywhMSwxOCksbXVzaWNfc3RhbmRhcmQ6Z3MoNDhlMywhMSksc3RhbmRhcmRfc3RlcmVvOmdzKDQ4ZTMsITAsNTYpLGhpZ2hfcXVhbGl0eTpncyg0OGUzLCExLDEyOCksaGlnaF9xdWFsaXR5X3N0ZXJlbzpncyg0OGUzLCEwLDE5Mil9O2Z1bmN0aW9uIEpsKHQpe3JldHVybiB0eXBlb2YgdD09XCJzdHJpbmdcIj9PYmplY3QuYXNzaWduKHt9LE5HW3RdKTp0fXZhciBBcz1bXTtmdW5jdGlvbiBfQyh0KXtyZXR1cm4gQ2UodCxcIm1lZGlhU291cmNlXCIsW1wic2NyZWVuXCIsXCJ3aW5kb3dcIixcImFwcGxpY2F0aW9uXCJdKSwhMH12YXIgSD1mdW5jdGlvbih0KXtyZXR1cm4gdC5ORUVEX1JFTkVHT1RJQVRFPVwiQG5lZWRfcmVuZWdvdGlhdGVcIix0Lk5FRURfUkVQTEFDRV9UUkFDSz1cIkBuZWVkX3JlcGxhY2VfdHJhY2tcIix0Lk5FRURfUkVQTEFDRV9NSVhJTkdfVFJBQ0s9XCJAbmVlZF9yZXBsYWNlX21peGluZ190cmFja1wiLHQuTkVFRF9DTE9TRT1cIkBuZWVkX2Nsb3NlXCIsdC5ORUVEX0VOQUJMRV9UUkFDSz1cIkBuZWVkX2VuYWJsZV90cmFja1wiLHQuTkVFRF9ESVNBQkxFX1RSQUNLPVwiQG5lZWRfZGlzYWJsZV90cmFja1wiLHQuTkVFRF9TRVNTSU9OX0lEPVwiQG5lZWRfc2lkXCIsdC5TRVRfT1BUSU1JWkFUSU9OX01PREU9XCJAc2V0X29wdGltaXphdGlvbl9tb2RlXCIsdC5HRVRfU1RBVFM9XCJAZ2V0X3N0YXRzXCIsdC5HRVRfUlRDX1NUQVRTPVwiQGdldF9ydGNfc3RhdHNcIix0LkdFVF9MT1dfVklERU9fVFJBQ0s9XCJAZ2V0X2xvd192aWRlb190cmFja1wiLHQuTkVFRF9SRVNFVF9SRU1PVEVfU0RQPVwiQG5lZWRfcmVzZXRfcmVtb3RlX3NkcFwiLHQuTkVFRF9VUERBVEVfVklERU9fRU5DT0RFUj1cIkBuZWVkX3VwZGF0ZV92aWRlb19lbmNvZGVyXCIsdC5ORUVEX1VQREFURV9WSURFT19TRU5EX1BBUkFNRVRFUlM9XCJAbmVlZF91cGRhdGVfdmlkZW9fc2VuZF9wYXJhbWV0ZXJzXCIsdC5ORUVEX01VVEVfVFJBQ0s9XCJAbmVlZF9tdXRlX3RyYWNrXCIsdC5ORUVEX1VOTVVURV9UUkFDSz1cIkBuZWVkX3VubXV0ZV90cmFja1wiLHR9KHt9KSxHdD1mdW5jdGlvbih0KXtyZXR1cm4gdC5TQ1JFRU5fVFJBQ0s9XCJzY3JlZW5fdHJhY2tcIix0LkNVU1RPTV9UUkFDSz1cImN1c3RvbWVfdHJhY2tcIix0LkxPV19TVFJFQU09XCJsb3dfc3RyZWFtXCIsdH0oe30pLG5hPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuSElHSF9TVFJFQU09MF09XCJISUdIX1NUUkVBTVwiLHRbdC5MT1dfU1RSRUFNPTFdPVwiTE9XX1NUUkVBTVwiLHR9KHt9KSxERz1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LkhJR0hfU1RSRUFNPTBdPVwiSElHSF9TVFJFQU1cIix0W3QuTE9XX1NUUkVBTT0xXT1cIkxPV19TVFJFQU1cIix0fSh7fSksUEc9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5ESVNBQkxFPTBdPVwiRElTQUJMRVwiLHRbdC5MT1dfU1RSRUFNPTFdPVwiTE9XX1NUUkVBTVwiLHRbdC5BVURJT19PTkxZPTJdPVwiQVVESU9fT05MWVwiLHR9KHt9KSxLbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5UUkFOU0NFSVZFUl9VUERBVEVEPVwidHJhbnNjZWl2ZXItdXBkYXRlZFwiLHQuU0VJX1RPX1NFTkQ9XCJzZWktdG8tc2VuZFwiLHQuU0VJX1JFQ0VJVkVEPVwic2VpLXJlY2VpdmVkXCIsdC5UUkFDS19VUERBVEVEPVwidHJhY2stdXBkYXRlZFwiLHR9KHt9KSxtYT1mdW5jdGlvbih0KXtyZXR1cm4gdC5TT1VSQ0VfU1RBVEVfQ0hBTkdFPVwic291cmNlLXN0YXRlLWNoYW5nZVwiLHQuVFJBQ0tfRU5ERUQ9XCJ0cmFjay1lbmRlZFwiLHQuQkVBVVRZX0VGRkVDVF9PVkVSTE9BRD1cImJlYXV0eS1lZmZlY3Qtb3ZlcmxvYWRcIix0LlZJREVPX0VMRU1FTlRfVklTSUJMRV9TVEFUVVM9XCJ2aWRlby1lbGVtZW50LXZpc2libGUtc3RhdHVzXCIsdC5DTE9TRUQ9XCJjbG9zZWRcIix0fSh7fSksV3M9ZnVuY3Rpb24odCl7cmV0dXJuIHQuRklSU1RfRlJBTUVfREVDT0RFRD1cImZpcnN0LWZyYW1lLWRlY29kZWRcIix0LlZJREVPX0VMRU1FTlRfVklTSUJMRV9TVEFUVVM9XCJ2aWRlby1lbGVtZW50LXZpc2libGUtc3RhdHVzXCIsdC5WSURFT19TVEFURV9DSEFOR0VEPVwidmlkZW8tc3RhdGUtY2hhbmdlZFwiLHR9KHt9KSxmYT1mdW5jdGlvbih0KXtyZXR1cm4gdC5BVURJTz1cImF1ZGlvXCIsdC5WSURFTz1cInZpZGVvXCIsdC5EQVRBPVwiZGF0YVwiLHR9KHt9KSxqbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5BVURJT19TT1VSQ0VfU1RBVEVfQ0hBTkdFPVwiYXVkaW9fc291cmNlX3N0YXRlX2NoYW5nZVwiLHQuUkVDRUlWRV9UUkFDS19CVUZGRVI9XCJyZWNlaXZlX3RyYWNrX2J1ZmZlclwiLHQuT05fQVVESU9fQlVGRkVSPVwib25fYXVkaW9fYnVmZmVyXCIsdC5VUERBVEVfU09VUkNFPVwidXBkYXRlX3NvdXJjZVwiLHR9KHt9KTsoZnVuY3Rpb24odCl7dC5VUERBVEVfVFJBQ0tfU09VUkNFPVwidXBkYXRlLXRyYWNrLXNvdXJjZVwiO30pKHt9KTt2YXIgS0U9e3NlbmRWb2x1bWVMZXZlbDowLHNlbmRCaXRyYXRlOjAsc2VuZEJ5dGVzOjAsc2VuZFBhY2tldHM6MCxzZW5kUGFja2V0c0xvc3Q6MCxzZW5kSml0dGVyTXM6MCxzZW5kUnR0TXM6MCxjdXJyZW50UGFja2V0TG9zc1JhdGU6MH0sWUU9e3NlbmRCeXRlczowLHNlbmRCaXRyYXRlOjAsc2VuZFBhY2tldHM6MCxzZW5kUGFja2V0c0xvc3Q6MCxzZW5kSml0dGVyTXM6MCxzZW5kUnR0TXM6MCxzZW5kUmVzb2x1dGlvbkhlaWdodDowLHNlbmRSZXNvbHV0aW9uV2lkdGg6MCxjYXB0dXJlUmVzb2x1dGlvbkhlaWdodDowLGNhcHR1cmVSZXNvbHV0aW9uV2lkdGg6MCx0YXJnZXRTZW5kQml0cmF0ZTowLHRvdGFsRHVyYXRpb246MCx0b3RhbEZyZWV6ZVRpbWU6MCxjdXJyZW50UGFja2V0TG9zc1JhdGU6MH0sR089e3RyYW5zcG9ydERlbGF5OjAsZW5kMkVuZERlbGF5OjAscmVjZWl2ZUJpdHJhdGU6MCxyZWNlaXZlTGV2ZWw6MCxyZWNlaXZlQnl0ZXM6MCxyZWNlaXZlRGVsYXk6MCxyZWNlaXZlUGFja2V0czowLHJlY2VpdmVQYWNrZXRzTG9zdDowLHJlY2VpdmVQYWNrZXRzRGlzY2FyZGVkOjAsdG90YWxEdXJhdGlvbjowLHRvdGFsRnJlZXplVGltZTowLGZyZWV6ZVJhdGU6MCxwYWNrZXRMb3NzUmF0ZTowLGN1cnJlbnRQYWNrZXRMb3NzUmF0ZTowLHB1Ymxpc2hEdXJhdGlvbjotMX0sa0c9e3VwbGlua05ldHdvcmtRdWFsaXR5OjAsZG93bmxpbmtOZXR3b3JrUXVhbGl0eTowfSxXTz17dHJhbnNwb3J0RGVsYXk6MCxlbmQyRW5kRGVsYXk6MCxyZWNlaXZlQml0cmF0ZTowLHJlY2VpdmVCeXRlczowLHJlY2VpdmVEZWxheTowLHJlY2VpdmVQYWNrZXRzOjAscmVjZWl2ZVBhY2tldHNMb3N0OjAscmVjZWl2ZVJlc29sdXRpb25IZWlnaHQ6MCxyZWNlaXZlUmVzb2x1dGlvbldpZHRoOjAsdG90YWxEdXJhdGlvbjowLHRvdGFsRnJlZXplVGltZTowLGZyZWV6ZVJhdGU6MCxwYWNrZXRMb3NzUmF0ZTowLGN1cnJlbnRQYWNrZXRMb3NzUmF0ZTowLHB1Ymxpc2hEdXJhdGlvbjotMX0sdW49ZnVuY3Rpb24odCl7cmV0dXJuIHQuT05fVFJBQ0s9XCJvbl90cmFja1wiLHQuT05fTk9ERT1cIm9uX25vZGVcIix0fSh7fSksV249ZnVuY3Rpb24odCl7cmV0dXJuIHQuUkVRVUVTVF9VUERBVEVfQ09OU1RSQUlOVFM9XCJyZXF1ZXN0X3VwZGF0ZV9jb25zdHJhaW50c1wiLHQuUkVRVUVTVF9DT05TVFJBSU5UUz1cInJlcXVlc3RfY29uc3RyYWludHNcIix0fSh7fSksVWE9ZnVuY3Rpb24odCl7cmV0dXJuIHQuSURMRT1cIklETEVcIix0LklOSVRJTkc9XCJJTklUSU5HXCIsdC5JTklURU5EPVwiSU5JVEVORFwiLHR9KHt9KSxCbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5TVEFURV9DSEFOR0U9XCJzdGF0ZV9jaGFuZ2VcIix0LlJFQ09SRElOR19ERVZJQ0VfQ0hBTkdFRD1cInJlY29yZGluZ0RldmljZUNoYW5nZWRcIix0LlBMQVlPVVRfREVWSUNFX0NIQU5HRUQ9XCJwbGF5b3V0RGV2aWNlQ2hhbmdlZFwiLHQuQ0FNRVJBX0RFVklDRV9DSEFOR0VEPVwiY2FtZXJhRGV2aWNlQ2hhbmdlZFwiLHR9KHt9KSxubj1mdW5jdGlvbih0KXtyZXR1cm4gdC5OT05FPVwibm9uZVwiLHQuSU5JVD1cImluaXRcIix0LkNBTlBMQVk9XCJjYW5wbGF5XCIsdC5QTEFZSU5HPVwicGxheWluZ1wiLHQuUEFVU0VEPVwicGF1c2VkXCIsdC5TVVNQRU5EPVwic3VzcGVuZFwiLHQuU1RBTExFRD1cInN0YWxsZWRcIix0LldBSVRJTkc9XCJ3YWl0aW5nXCIsdC5FUlJPUj1cImVycm9yXCIsdC5ERVNUUk9ZRUQ9XCJkZXN0cm95ZWRcIix0LkFCT1JUPVwiYWJvcnRcIix0LkVOREVEPVwiZW5kZWRcIix0LkVNUFRJRUQ9XCJlbXB0aWVkXCIsdC5MT0FERUREQVRBPVwibG9hZGVkZGF0YVwiLHR9KHt9KSx6aT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LlZpZGVvU3RhdGVTdG9wcGVkPTBdPVwiVmlkZW9TdGF0ZVN0b3BwZWRcIix0W3QuVmlkZW9TdGF0ZVN0YXJ0aW5nPTFdPVwiVmlkZW9TdGF0ZVN0YXJ0aW5nXCIsdFt0LlZpZGVvU3RhdGVEZWNvZGluZz0yXT1cIlZpZGVvU3RhdGVEZWNvZGluZ1wiLHRbdC5WaWRlb1N0YXRlRnJvemVuPTNdPVwiVmlkZW9TdGF0ZUZyb3plblwiLHR9KHt9KSxvXz17dW5pbml0OjEwMCxub25lOjExMCxpbml0OjEyMCxsb2FkZWRkYXRhOjEzMCxjYW5wbGF5OjIwMCxwbGF5aW5nOjIxMCxwYXVzZWQ6MjIwLHN1c3BlbmQ6MzAwLHN0YWxsZWQ6MzEwLHdhaXRpbmc6MzIwLGVycm9yOjMzMCxkZXN0cm95ZWQ6MzQwLGFib3J0OjM1MCxlbmRlZDozNjAsZW1wdGllZDozNzB9LENsPWZ1bmN0aW9uKHQpe3JldHVybiB0Lk9QRU49XCJvcGVuXCIsdC5NRVNTQUdFPVwibWVzc2FnZVwiLHQuQ0xPU0U9XCJjbG9zZVwiLHQuQ0xPU0lORz1cImNsb3NpbmdcIix0LkVSUk9SPVwiZXJyb3JcIix0fSh7fSk7ZnVuY3Rpb24gRXQodCxlLG4saSxyKXt2YXIgbyxzLGE9e307cmV0dXJuIE9iamVjdC5rZXlzKGkpLmZvckVhY2goZnVuY3Rpb24oYyl7YVtjXT1pW2NdO30pLGEuZW51bWVyYWJsZT0hIWEuZW51bWVyYWJsZSxhLmNvbmZpZ3VyYWJsZT0hIWEuY29uZmlndXJhYmxlLChcInZhbHVlXCJpbiBhfHxhLmluaXRpYWxpemVyKSYmKGEud3JpdGFibGU9ITApLGE9amkobz1taihzPW4uc2xpY2UoKSkuY2FsbChzKSkuY2FsbChvLGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGQodCxlLGMpfHxjfSxhKSxyJiZhLmluaXRpYWxpemVyIT09dm9pZCAwJiYoYS52YWx1ZT1hLmluaXRpYWxpemVyP2EuaW5pdGlhbGl6ZXIuY2FsbChyKTp2b2lkIDAsYS5pbml0aWFsaXplcj12b2lkIDApLGEuaW5pdGlhbGl6ZXI9PT12b2lkIDAmJihPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLGEpLGE9bnVsbCksYX1mdW5jdGlvbiBQKHQsZSxuKXtyZXR1cm4gKGU9ZnVuY3Rpb24oaSl7dmFyIHI9ZnVuY3Rpb24obyxzKXtpZih0eXBlb2YgbyE9XCJvYmplY3RcInx8IW8pcmV0dXJuIG87dmFyIGE9b1tTeW1ib2wudG9QcmltaXRpdmVdO2lmKGEhPT12b2lkIDApe3ZhciBjPWEuY2FsbChvLFwic3RyaW5nXCIpO2lmKHR5cGVvZiBjIT1cIm9iamVjdFwiKXJldHVybiBjO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKG8pfShpKTtyZXR1cm4gdHlwZW9mIHI9PVwic3ltYm9sXCI/cjpyK1wiXCJ9KGUpKWluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbZV09bix0fWZ1bmN0aW9uIEVDKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4saSk7fXJldHVybiBufWZ1bmN0aW9uIEt0KHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXSE9bnVsbD9hcmd1bWVudHNbZV06e307ZSUyP0VDKE9iamVjdChuKSwhMCkuZm9yRWFjaChmdW5jdGlvbihpKXtQKHQsaSxuW2ldKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpFQyhPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24oaSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSkpO30pO31yZXR1cm4gdH12YXIgWGw9Y2xhc3MgZXh0ZW5kcyBYdHtzZXQgX21lZGlhU3RyZWFtVHJhY2soZSl7ZSE9PXRoaXMubWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuc2FmZUVtaXQoS28uVFJBQ0tfVVBEQVRFRCxlKSx0aGlzLm1lZGlhU3RyZWFtVHJhY2s9ZSk7fWdldCBfbWVkaWFTdHJlYW1UcmFjaygpe3JldHVybiB0aGlzLm1lZGlhU3RyZWFtVHJhY2t9Y29uc3RydWN0b3IoZSxuKXtzdXBlcigpLFAodGhpcyxcInRyYWNrTWVkaWFUeXBlXCIsdm9pZCAwKSxQKHRoaXMsXCJfSURcIix2b2lkIDApLFAodGhpcyxcIl9ydHBUcmFuc2NlaXZlclwiLHZvaWQgMCksUCh0aGlzLFwiX2xvd1J0cFRyYW5zY2VpdmVyXCIsdm9pZCAwKSxQKHRoaXMsXCJfaGludHNcIixbXSksUCh0aGlzLFwiX2lzQ2xvc2VkXCIsITEpLFAodGhpcyxcIl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrXCIsdm9pZCAwKSxQKHRoaXMsXCJtZWRpYVN0cmVhbVRyYWNrXCIsdm9pZCAwKSxQKHRoaXMsXCJfZXh0ZXJuYWxcIix7fSksdGhpcy5fSUQ9bnx8VXQoOCxcInRyYWNrLVwiKSx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPWUsdGhpcy5tZWRpYVN0cmVhbVRyYWNrPWUsZnVuY3Rpb24oaSl7VyhBcykuY2FsbChBcyxpKXx8QXMucHVzaChpKTt9KHRoaXMpO310b1N0cmluZygpe3JldHVybiB0aGlzLl9JRH1nZXRUcmFja0lkKCl7cmV0dXJuIHRoaXMuX0lEfWdldE1lZGlhU3RyZWFtVHJhY2soZSl7cmV0dXJuIGV8fHBvKCgpPT57dmFyIG47WC5yZXBvcnRBcGlJbnZva2UobnVsbCx7bmFtZTpUZS5HRVRfTUVESUFfU1RSRUFNX1RSQUNLLG9wdGlvbnM6W10sdGFnOlp0LlRSQUNFUn0pLm9uU3VjY2VzcygoKG49dGhpcy5fbWVkaWFTdHJlYW1UcmFjayk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmxhYmVsKXx8XCJcIik7fSx0aGlzLm1lZGlhU3RyZWFtVHJhY2suaWR8fHRoaXMuZ2V0VHJhY2tJZCgpKSx0aGlzLl9tZWRpYVN0cmVhbVRyYWNrfWdldFJUQ1J0cFRyYW5zY2VpdmVyKGUpe3JldHVybiBlPT09bmEuTE9XX1NUUkVBTT90aGlzLl9sb3dSdHBUcmFuc2NlaXZlcjp0aGlzLl9ydHBUcmFuc2NlaXZlcn1nZXRNZWRpYVN0cmVhbVRyYWNrU2V0dGluZ3MoKXtyZXR1cm4gdGhpcy5nZXRNZWRpYVN0cmVhbVRyYWNrKCEwKS5nZXRTZXR0aW5ncygpfWNsb3NlKCl7dGhpcy5faXNDbG9zZWQ9ITAsdGhpcy5fbG93UnRwVHJhbnNjZWl2ZXI9dm9pZCAwLHRoaXMuX3J0cFRyYW5zY2VpdmVyPXZvaWQgMCxmdW5jdGlvbihlKXtsZXQgbj1Bcy5pbmRleE9mKGUpO24hPT0tMSYmQXMuc3BsaWNlKG4sMSk7fSh0aGlzKSx0aGlzLmVtaXQobWEuQ0xPU0VEKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhLby5TRUlfUkVDRUlWRUQpO31fdXBkYXRlUnRwVHJhbnNjZWl2ZXIoZSxuKXtpZihuPT09bmEuTE9XX1NUUkVBTSl7aWYodGhpcy5fbG93UnRwVHJhbnNjZWl2ZXI9PT1lKXJldHVybjt0aGlzLl9sb3dSdHBUcmFuc2NlaXZlcj1lO31lbHNlIHtpZih0aGlzLl9ydHBUcmFuc2NlaXZlcj09PWUpcmV0dXJuO3RoaXMuX3J0cFRyYW5zY2VpdmVyPWU7fXRoaXMuZW1pdChLby5UUkFOU0NFSVZFUl9VUERBVEVELGUsbik7fX0sbm89Y2xhc3MgZXh0ZW5kcyBYbHtnZXQgaXNFeHRlcm5hbFRyYWNrKCl7cmV0dXJuIHRoaXMuX2lzRXh0ZXJuYWxUcmFja31nZXQgbXV0ZWQoKXtyZXR1cm4gdGhpcy5fbXV0ZWR9Z2V0IGVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1nZXQgcHJvY2Vzc29yQ29udGV4dCgpe3JldHVybiB0aGlzLl9wcm9jZXNzb3JDb250ZXh0fWNvbnN0cnVjdG9yKGUsbil7c3VwZXIoZSxuKSxQKHRoaXMsXCJfZW5hYmxlZFwiLCEwKSxQKHRoaXMsXCJfbXV0ZWRcIiwhMSksUCh0aGlzLFwiX2lzRXh0ZXJuYWxUcmFja1wiLCExKSxQKHRoaXMsXCJfaXNDbG9zZWRcIiwhMSksUCh0aGlzLFwiX2VuYWJsZWRNdXRleFwiLHZvaWQgMCksUCh0aGlzLFwicHJvY2Vzc29yXCIsdm9pZCAwKSxQKHRoaXMsXCJfcHJvY2Vzc29yQ29udGV4dFwiLHZvaWQgMCksUCh0aGlzLFwiX2hhbmRsZVRyYWNrRW5kZWRcIiwoKT0+e3RoaXMub25UcmFja0VuZGVkKCk7fSksdGhpcy5fZW5hYmxlZE11dGV4PW5ldyB6ZShcIlwiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSkpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsdGhpcy5faGFuZGxlVHJhY2tFbmRlZCk7fWdldFRyYWNrTGFiZWwoKXt2YXIgZSxuO3JldHVybiAoZT0obj10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4ubGFiZWwpIT09bnVsbCYmZSE9PXZvaWQgMD9lOlwiXCJ9Y2xvc2UoKXt0aGlzLl9pc0Nsb3NlZHx8KHRoaXMuc3RvcCgpLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpLHRoaXMuX21lZGlhU3RyZWFtVHJhY2shPT10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjay5zdG9wKCksdGhpcy5fbWVkaWFTdHJlYW1UcmFjaz1udWxsKSx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPW51bGwsdGhpcy5fZW5hYmxlZE11dGV4PW51bGwsXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIGNsb3NlXCIpKSx0aGlzLmVtaXQoSC5ORUVEX0NMT1NFKSxzdXBlci5jbG9zZSgpKTt9YXN5bmMgX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soZSxuKXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMCYmYXJndW1lbnRzWzJdO3RoaXMuX2lzRXh0ZXJuYWxUcmFjaz1pLGUhPT10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsdGhpcy5faGFuZGxlVHJhY2tFbmRlZCksbiYmdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCkpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsdGhpcy5faGFuZGxlVHJhY2tFbmRlZCksdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaz1lLHRoaXMuX211dGVkJiYodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPSExKSx0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCksYXdhaXQga3QodGhpcyxILk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzKSx0aGlzLnByb2Nlc3NvciYmdGhpcy5fcHJvY2Vzc29yQ29udGV4dCYmdGhpcy5wcm9jZXNzb3IudXBkYXRlSW5wdXQoe3RyYWNrOnRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssY29udGV4dDp0aGlzLl9wcm9jZXNzb3JDb250ZXh0fSkpO31fZ2V0RGVmYXVsdFBsYXllckNvbmZpZygpe3JldHVybiB7fX1vblRyYWNrRW5kZWQoKXtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdHJhY2sgZW5kZWRcIikpLHRoaXMuc2FmZUVtaXQobWEuVFJBQ0tfRU5ERUQpO31zdGF0ZUNoZWNrKGUsbil7aWYoXy5kZWJ1ZyhcImNoZWNrIHRyYWNrIHN0YXRlLCBbbXV0ZWQ6IFwiLmNvbmNhdCh0aGlzLl9tdXRlZCxcIiwgZW5hYmxlZDogXCIpLmNvbmNhdCh0aGlzLl9lbmFibGVkLFwiXSB0byBbXCIpLmNvbmNhdChlLFwiOiBcIikuY29uY2F0KG4sXCJdXCIpKSxOcihuLGUpLHRoaXMuX2VuYWJsZWQmJnRoaXMuX211dGVkJiZlPT09XCJlbmFibGVkXCImJm49PT0hMSl0aHJvdyBuZXcgTihSLlRSQUNLX1NUQVRFX1VOUkVBQ0hBQkxFLFwiY2Fubm90IHNldCBlbmFibGVkIHdoaWxlIHRoZSB0cmFjayBpcyBtdXRlZFwiKS5wcmludChcImVycm9yXCIsXyk7aWYoIXRoaXMuX2VuYWJsZWQmJiF0aGlzLl9tdXRlZCYmZT09PVwibXV0ZWRcIiYmbj09PSEwKXRocm93IG5ldyBOKFIuVFJBQ0tfU1RBVEVfVU5SRUFDSEFCTEUsXCJjYW5ub3Qgc2V0IG11dGVkIHdoaWxlIHRoZSB0cmFjayBpcyBkaXNhYmxlZFwiKS5wcmludChcImVycm9yXCIsXyl9Z2V0UHJvY2Vzc29yU3RhdHMoKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yQ29udGV4dCYmdGhpcy5fcHJvY2Vzc29yQ29udGV4dC5nYXRoZXJTdGF0cygpfHxbXX1nZXRQcm9jZXNzb3JVc2FnZSgpe3JldHVybiB0aGlzLl9wcm9jZXNzb3JDb250ZXh0P3RoaXMuX3Byb2Nlc3NvckNvbnRleHQuZ2F0aGVyVXNhZ2UoKTpqLnJlc29sdmUoW10pfX0sbUM9d2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCxNbj1udWxsLHd0PW5ldyBjbGFzcyBleHRlbmRzIFh0e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSxQKHRoaXMsXCJwcmV2U3RhdGVcIix2b2lkIDApLFAodGhpcyxcImN1clN0YXRlXCIsdm9pZCAwKSxQKHRoaXMsXCJjdXJyZW50VGltZVwiLHZvaWQgMCksUCh0aGlzLFwiY3VycmVudFRpbWVTdHVja0F0XCIsdm9pZCAwKSxQKHRoaXMsXCJpbnRlcnJ1cHREZXRlY3RvclRyYWNrXCIsdm9pZCAwKSxQKHRoaXMsXCJvbkxvY2FsQXVkaW9UcmFja011dGVcIiwoKT0+e18uaW5mbyhcImlvczE1LWludGVycnVwdGlvbi1zdGFydFwiKSx0aGlzLmVtaXQoa2UuSU9TXzE1XzE2X0lOVEVSUlVQVElPTl9TVEFSVCk7fSksUCh0aGlzLFwib25Mb2NhbEF1ZGlvVHJhY2tVbm11dGVcIixhc3luYygpPT57Xy5pbmZvKFwiaW9zMTUtaW50ZXJydXB0aW9uLWVuZFwiKSx0aGlzLmN1clN0YXRlIT09XCJydW5uaW5nXCJ8fHRoaXMuZHVyaW5nSW50ZXJydXB0aW9uP18uaW5mbyhcImlvczE1LWludGVycnVwdGlvbi1lbmQtY2FuY2VsZWRcIik6KE1uJiZhd2FpdCBNbi5zdXNwZW5kKCksdGhpcy5lbWl0KGtlLklPU18xNV8xNl9JTlRFUlJVUFRJT05fRU5EKSk7fSk7fWdldCBkdXJpbmdJbnRlcnJ1cHRpb24oKXtyZXR1cm4gdGhpcy5wcmV2U3RhdGU9PT1cInJ1bm5pbmdcIiYmdGhpcy5jdXJTdGF0ZT09PVwiaW50ZXJydXB0ZWRcIn1iaW5kSW50ZXJydXB0RGV0ZWN0b3JUcmFjayh0KXtfLmRlYnVnKFwid2ViYXVkaW8gYmluZEludGVycnVwdERldGVjdG9yVHJhY2sgXCIuY29uY2F0KHQuZ2V0VHJhY2tJZCgpKSksdGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrfHwodGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrPXQsdGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrLm9ubXV0ZT10aGlzLm9uTG9jYWxBdWRpb1RyYWNrTXV0ZSx0aGlzLmludGVycnVwdERldGVjdG9yVHJhY2suX21lZGlhU3RyZWFtVHJhY2sub251bm11dGU9dGhpcy5vbkxvY2FsQXVkaW9UcmFja1VubXV0ZSk7fXVuYmluZEludGVycnVwdERldGVjdG9yVHJhY2sodCl7Xy5kZWJ1ZyhcIndlYmF1ZGlvIHVuYmluZEludGVycnVwdERldGVjdG9yVHJhY2sgXCIuY29uY2F0KHQuZ2V0VHJhY2tJZCgpKSksdGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrJiZ0aGlzLmludGVycnVwdERldGVjdG9yVHJhY2s9PT10JiYodGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrLm9ubXV0ZT1udWxsLHRoaXMuaW50ZXJydXB0RGV0ZWN0b3JUcmFjay5fbWVkaWFTdHJlYW1UcmFjay5vbnVubXV0ZT1udWxsKSx0aGlzLmludGVycnVwdERldGVjdG9yVHJhY2s9dm9pZCAwKTt9fTtmdW5jdGlvbiBnYSgpe2lmKCFNbil7aWYoZnVuY3Rpb24oKXtpZighbUMpcmV0dXJuIHZvaWQgXy5lcnJvcihcInlvdXIgYnJvd3NlciBpcyBub3Qgc3VwcG9ydCB3ZWIgYXVkaW9cIik7Xy5pbmZvKFwiY3JlYXRlIGF1ZGlvIGNvbnRleHRcIik7bGV0IHQ9S3Qoe30sdihcIldFQkFVRElPX0lOSVRfT1BUSU9OU1wiKSk7Xy5kZWJ1ZyhcImF1ZGlvIGNvbnRleHQgaW5pdCBvcHRpb246XCIsSlNPTi5zdHJpbmdpZnkodCkpLE1uPW5ldyBtQyh0KSx3dC5jdXJTdGF0ZT1Nbi5zdGF0ZSxNbi5vbnN0YXRlY2hhbmdlPSgpPT57d3QucHJldlN0YXRlPXd0LmN1clN0YXRlLHd0LmN1clN0YXRlPU1uP01uLnN0YXRlOnZvaWQgMDtsZXR7cHJldlN0YXRlOmUsY3VyU3RhdGU6bn09d3QsaT1uPT09XCJydW5uaW5nXCIscj1uPT09XCJpbnRlcnJ1cHRlZFwiLG89ZT09PVwicnVubmluZ1wiLHM9ZT09PVwic3VzcGVuZGVkXCIsYT1lPT09XCJpbnRlcnJ1cHRlZFwiLGM9bXQoKS5vc1ZlcnNpb247KGxuKCl8fHZpKCkpJiZvJiZyJiYoXy5pbmZvKFwiaW9zXCIuY29uY2F0KGMsXCItaW50ZXJydXB0aW9uLXN0YXJ0XCIpKSx3dC5lbWl0KGtlLklPU19JTlRFUlJVUFRJT05fU1RBUlQpKSwobG4oKXx8dmkoKSkmJihzfHxhKSYmaSYmKF8uaW5mbyhcImlvc1wiLmNvbmNhdChjLFwiLWludGVycnVwdGlvbi1lbmRcIikpLHd0LmVtaXQoa2UuSU9TX0lOVEVSUlVQVElPTl9FTkQpKSxlIT09biYmd3QuZW1pdChrZS5TVEFURV9DSEFOR0UsbixlKTt9LHNldEludGVydmFsKCgpPT57dmFyIGU7bGV0IG49KGU9TW4pPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5jdXJyZW50VGltZTt3dC5jdXJyZW50VGltZSE9PW4/KHd0LmN1cnJlbnRUaW1lU3R1Y2tBdCYmKF8uZGVidWcoXCJBdWRpb0NvbnRleHQgY3VycmVudCB0aW1lIHJlc3VtZSBhdCBcIi5jb25jYXQobikpLHd0LmN1cnJlbnRUaW1lU3R1Y2tBdD12b2lkIDApLHd0LmN1cnJlbnRUaW1lPW4pOihuIT09d3QuY3VycmVudFRpbWVTdHVja0F0JiYoWC5yZXBvcnRBcGlJbnZva2UobnVsbCx7bmFtZTpcIldFQl9BVURJT19DVVJSRU5UX1RJTUVfU1RVQ0tcIixvcHRpb25zOntjdXJyZW50VGltZTpufSx0YWc6WnQuVFJBQ0VSfSkub25TdWNjZXNzKCksXy53YXJuaW5nKFwiQXVkaW9Db250ZXh0IGN1cnJlbnQgdGltZSBzdHVjayBhdCBcIi5jb25jYXQobikpKSx3dC5jdXJyZW50VGltZVN0dWNrQXQ9bik7fSw1ZTMpLGFzeW5jIGZ1bmN0aW9uKGUpe2xldCBuPVtcImNsaWNrXCIsXCJjb250ZXh0bWVudVwiLFwiYXV4Y2xpY2tcIixcImRibGNsaWNrXCIsXCJtb3VzZWRvd25cIixcIm1vdXNldXBcIixcInRvdWNoZW5kXCIsXCJrZXlkb3duXCIsXCJrZXl1cFwiXSxpLHI9ITEsbz0hMSxzPSExO2Z1bmN0aW9uIGEoRSl7ZS5zdGF0ZT09PVwicnVubmluZ1wiP2MoITEpOmxuKCl8fHZpKCk/ZS5zdGF0ZT09PVwic3VzcGVuZGVkXCImJihjKCEwKSxFJiZlLnJlc3VtZSgpLnRoZW4oZCxkKSk6ZS5zdGF0ZSE9PVwiY2xvc2VkXCImJihjKCEwKSxFJiZlLnJlc3VtZSgpLnRoZW4oZCxkKSk7fWZ1bmN0aW9uIGMoRSl7aWYociE9PUUpe3I9RTtmb3IobGV0IGY9MCxTPW47ZjxTLmxlbmd0aDtmKz0xKXtsZXQgQz1TW2ZdO0U/d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoQyxsLHtjYXB0dXJlOiEwLHBhc3NpdmU6ITB9KTp3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihDLGwse2NhcHR1cmU6ITAscGFzc2l2ZTohMH0pO319fWZ1bmN0aW9uIGQoKXthKCExKTt9ZnVuY3Rpb24gbCgpe2EoITApO31mdW5jdGlvbiB1KEUpe2lmKCFzKWlmKGkucGF1c2VkKWlmKEUpe2xldCBmO2goITEpLHM9ITA7dHJ5e2Y9aS5wbGF5KCksZj9mLnRoZW4ocCxwKTooaS5hZGRFdmVudExpc3RlbmVyKFwicGxheWluZ1wiLHApLGkuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIscCksaS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixwKSk7fWNhdGNoe3AoKTt9fWVsc2UgaCghMCk7ZWxzZSBoKCExKTt9ZnVuY3Rpb24gaChFKXtpZihvIT09RSl7bz1FO2ZvcihsZXQgZj0wLFM9bjtmPFMubGVuZ3RoO2YrKyl7bGV0IEM9U1tmXTtFP3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKEMsZyx7Y2FwdHVyZTohMCxwYXNzaXZlOiEwfSk6d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoQyxnLHtjYXB0dXJlOiEwLHBhc3NpdmU6ITB9KTt9fX1mdW5jdGlvbiBwKCl7aS5yZW1vdmVFdmVudExpc3RlbmVyKFwicGxheWluZ1wiLHApLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIscCksaS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIixwKSxzPSExLHUoITEpO31mdW5jdGlvbiBnKCl7dSghMCk7fWlmKGxuKCkpe2xldCBFPWUuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpLGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtmLmlubmVySFRNTD1cIjxhdWRpbyB4LXdlYmtpdC1haXJwbGF5PSdkZW55Jz48L2F1ZGlvPlwiLGk9Zi5jaGlsZHJlbi5pdGVtKDApLGkuY29udHJvbHM9ITEsaS5kaXNhYmxlUmVtb3RlUGxheWJhY2s9ITAsaS5wcmVsb2FkPVwiYXV0b1wiLGkuc3JjT2JqZWN0PUUuc3RyZWFtLHUoITApO313dC5vbihrZS5TVEFURV9DSEFOR0UsZnVuY3Rpb24oKXthKCEwKTt9KSxhKCExKTt9KE1uKTt9KCksIU1uKXRocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcImNhbiBub3QgY3JlYXRlIGF1ZGlvIGNvbnRleHRcIik7cmV0dXJuIE1ufXJldHVybiBNbn1mdW5jdGlvbiBObyh0KXtpZihmdW5jdGlvbigpe2lmKHNfIT09bnVsbClyZXR1cm4gc187bGV0IGk9Z2EoKSxyPWkuY3JlYXRlQnVmZmVyU291cmNlKCksbz1pLmNyZWF0ZUdhaW4oKSxzPWkuY3JlYXRlR2FpbigpO3IuY29ubmVjdChvKSxyLmNvbm5lY3Qocyksci5kaXNjb25uZWN0KG8pO2xldCBhPSExO3RyeXtyLmRpc2Nvbm5lY3Qobyk7fWNhdGNoe2E9ITA7fXJldHVybiByLmRpc2Nvbm5lY3QoKSxzXz1hLGF9KCkpcmV0dXJuO2xldCBlPXQuY29ubmVjdCxuPXQuZGlzY29ubmVjdDt0LmNvbm5lY3Q9KGkscixvKT0+e3ZhciBzO3JldHVybiB0Ll9pbnB1dE5vZGVzfHwodC5faW5wdXROb2Rlcz1bXSksVyhzPXQuX2lucHV0Tm9kZXMpLmNhbGwocyxpKXx8KGkgaW5zdGFuY2VvZiBBdWRpb05vZGU/KHQuX2lucHV0Tm9kZXMucHVzaChpKSxlLmNhbGwodCxpLHIsbykpOmUuY2FsbCh0LGkscikpLHR9LHQuZGlzY29ubmVjdD0oaSxyLG8pPT57bi5jYWxsKHQpLGk/V2wodC5faW5wdXROb2RlcyxpKTp0Ll9pbnB1dE5vZGVzPVtdO2ZvcihsZXQgcyBvZiB0Ll9pbnB1dE5vZGVzKWUuY2FsbCh0LHMpO307fXZhciBzXz1udWxsO2Z1bmN0aW9uIFJmKHQsZSl7bGV0IG49ITEsaT0xL2U7aWYodihcIkRJU0FCTEVfV0VCQVVESU9cIikpe2xldCByPXdpbmRvdy5zZXRJbnRlcnZhbCgoKT0+e24/d2luZG93LmNsZWFySW50ZXJ2YWwocik6dChwZXJmb3JtYW5jZS5ub3coKS8xZTMpO30sMWUzKmkpO31lbHNlIHtsZXQgcj1nYSgpLG89ci5jcmVhdGVHYWluKCk7by5nYWluLnZhbHVlPTAsby5jb25uZWN0KHIuZGVzdGluYXRpb24pO2xldCBzPSgpPT57aWYobilyZXR1cm4gdm9pZChvPW51bGwpO2xldCBhPXIuY3JlYXRlT3NjaWxsYXRvcigpO2Eub25lbmRlZD1zLGEuY29ubmVjdChvKSxhLnN0YXJ0KDApLGEuc3RvcChyLmN1cnJlbnRUaW1lK2kpLHQoci5jdXJyZW50VGltZSk7fTtzKCk7fXJldHVybiAoKT0+e249ITA7fX12YXIgUWw9Y2xhc3N7Y29uc3RydWN0b3IoKXtQKHRoaXMsXCJjb250ZXh0XCIsdm9pZCAwKSxQKHRoaXMsXCJhbmFseXNlck5vZGVcIix2b2lkIDApLFAodGhpcyxcInNvdXJjZU5vZGVcIix2b2lkIDApLHRoaXMuY29udGV4dD1nYSgpLHRoaXMuYW5hbHlzZXJOb2RlPXRoaXMuY29udGV4dC5jcmVhdGVBbmFseXNlcigpLHRoaXMuYW5hbHlzZXJOb2RlLmZmdFNpemU9MjA0OCx0aGlzLmFuYWx5c2VyTm9kZS5zbW9vdGhpbmdUaW1lQ29uc3RhbnQ9LjQ7fXVwZGF0ZVNvdXJjZShlKXtpZihlIT09dGhpcy5zb3VyY2VOb2RlKXtpZih0aGlzLnNvdXJjZU5vZGUpdHJ5e3RoaXMuc291cmNlTm9kZS5kaXNjb25uZWN0KHRoaXMuYW5hbHlzZXJOb2RlKTt9Y2F0Y2h7fXRoaXMuc291cmNlTm9kZT1lLGU/LmNvbm5lY3QodGhpcy5hbmFseXNlck5vZGUpO319Z2V0Vm9sdW1lTGV2ZWwoKXtpZighdGhpcy5zb3VyY2VOb2RlfHwoIXRoaXMuY29udGV4dHx8bG4oKXx8dmkoKXx8dGhpcy5jb250ZXh0LnN0YXRlIT09XCJydW5uaW5nXCImJnRoaXMuY29udGV4dC5yZXN1bWUoKSwhdGhpcy5hbmFseXNlck5vZGUpKXJldHVybiAwO2xldCBlPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hbmFseXNlck5vZGUuZmZ0U2l6ZSk7aWYodGhpcy5hbmFseXNlck5vZGUuZ2V0RmxvYXRUaW1lRG9tYWluRGF0YSl0aGlzLmFuYWx5c2VyTm9kZS5nZXRGbG9hdFRpbWVEb21haW5EYXRhKGUpO2Vsc2Uge2xldCBpPW5ldyBVaW50OEFycmF5KHRoaXMuYW5hbHlzZXJOb2RlLmZmdFNpemUpO3RoaXMuYW5hbHlzZXJOb2RlLmdldEJ5dGVUaW1lRG9tYWluRGF0YShpKTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoOysrcillW3JdPWlbcl0vMTI4LTE7fWxldCBuPWppKGUpLmNhbGwoZSwoaSxyKT0+aStyKnIsMCkvZS5sZW5ndGg7cmV0dXJuIE1hdGgubWF4KDEwKk1hdGgubG9nMTAobikrMTAwLDApLzEwMH1nZXRBbmFseXNlck5vZGUoKXtyZXR1cm4gdGhpcy5hbmFseXNlck5vZGV9cmVidWlsZEFuYWx5c2VyKCl7dHJ5e3ZhciBlLG47KGU9dGhpcy5zb3VyY2VOb2RlKT09PW51bGx8fGU9PT12b2lkIDB8fGUuZGlzY29ubmVjdCh0aGlzLmFuYWx5c2VyTm9kZSksdGhpcy5hbmFseXNlck5vZGU9dGhpcy5jb250ZXh0LmNyZWF0ZUFuYWx5c2VyKCksdGhpcy5hbmFseXNlck5vZGUuZmZ0U2l6ZT0yMDQ4LHRoaXMuYW5hbHlzZXJOb2RlLnNtb290aGluZ1RpbWVDb25zdGFudD0uNCwobj10aGlzLnNvdXJjZU5vZGUpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jb25uZWN0KHRoaXMuYW5hbHlzZXJOb2RlKTt9Y2F0Y2h7Xy53YXJuaW5nKFwicmVidWlsZCBhbmFseXNlciBub2RlIGZhaWxlZC5cIik7fX1kZXN0cm95KCl7dGhpcy51cGRhdGVTb3VyY2Uodm9pZCAwKTt9fSxabD1jbGFzcyBleHRlbmRzIFh0e2dldCBwcm9jZXNzU291cmNlTm9kZSgpe3JldHVybiB0aGlzLnNvdXJjZU5vZGV9c2V0IHByb2Nlc3NlZE5vZGUoZSl7dmFyIG47aWYoIXRoaXMuaXNEZXN0cm95ZWQmJnRoaXMuX3Byb2Nlc3NlZE5vZGUhPT1lKXt0cnl7dmFyIGk7KGk9dGhpcy5zb3VyY2VOb2RlKT09PW51bGx8fGk9PT12b2lkIDB8fGkuZGlzY29ubmVjdCh0aGlzLm91dHB1dE5vZGUpO31jYXRjaHt9KG49dGhpcy5fcHJvY2Vzc2VkTm9kZSk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmRpc2Nvbm5lY3QoKSx0aGlzLl9wcm9jZXNzZWROb2RlPWUsdGhpcy5jb25uZWN0KCk7fX1nZXQgcHJvY2Vzc2VkTm9kZSgpe3JldHVybiB0aGlzLl9wcm9jZXNzZWROb2RlfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSxQKHRoaXMsXCJvdXRwdXROb2RlXCIsdm9pZCAwKSxQKHRoaXMsXCJvdXRwdXRUcmFja1wiLHZvaWQgMCksUCh0aGlzLFwiaXNQbGF5ZWRcIiwhMSksUCh0aGlzLFwic291cmNlTm9kZVwiLHZvaWQgMCksUCh0aGlzLFwiY29udGV4dFwiLHZvaWQgMCksUCh0aGlzLFwiYXVkaW9CdWZmZXJOb2RlXCIsdm9pZCAwKSxQKHRoaXMsXCJkZXN0Tm9kZVwiLHZvaWQgMCksUCh0aGlzLFwiYXVkaW9PdXRwdXRMZXZlbFwiLDApLFAodGhpcyxcInZvbHVtZUxldmVsQW5hbHlzZXJcIix2b2lkIDApLFAodGhpcyxcIl9wcm9jZXNzZWROb2RlXCIsdm9pZCAwKSxQKHRoaXMsXCJwbGF5Tm9kZVwiLHZvaWQgMCksUCh0aGlzLFwiaXNEZXN0cm95ZWRcIiwhMSksUCh0aGlzLFwib25Ob0F1ZGlvSW5wdXRcIix2b2lkIDApLFAodGhpcyxcImlzTm9BdWRpb0lucHV0XCIsITEpLFAodGhpcyxcIl9ub0F1ZGlvSW5wdXRDb3VudFwiLDApLHRoaXMuY29udGV4dD1nYSgpLHRoaXMucGxheU5vZGU9dGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uLHRoaXMub3V0cHV0Tm9kZT10aGlzLmNvbnRleHQuY3JlYXRlR2FpbigpLE5vKHRoaXMub3V0cHV0Tm9kZSksdGhpcy52b2x1bWVMZXZlbEFuYWx5c2VyPW5ldyBRbDt9c3RhcnRHZXRBdWRpb0J1ZmZlcihlKXt0aGlzLmF1ZGlvQnVmZmVyTm9kZXx8KHRoaXMuYXVkaW9CdWZmZXJOb2RlPXRoaXMuY29udGV4dC5jcmVhdGVTY3JpcHRQcm9jZXNzb3IoZSksdGhpcy5vdXRwdXROb2RlLmNvbm5lY3QodGhpcy5hdWRpb0J1ZmZlck5vZGUpLHRoaXMuYXVkaW9CdWZmZXJOb2RlLmNvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKSx0aGlzLmF1ZGlvQnVmZmVyTm9kZS5vbmF1ZGlvcHJvY2Vzcz1uPT57dGhpcy5lbWl0KGpuLk9OX0FVRElPX0JVRkZFUixmdW5jdGlvbihpKXtmb3IobGV0IHI9MDtyPGkub3V0cHV0QnVmZmVyLm51bWJlck9mQ2hhbm5lbHM7cis9MSl7bGV0IG89aS5vdXRwdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEocik7Zm9yKGxldCBzPTA7czxvLmxlbmd0aDtzKz0xKW9bc109MDt9cmV0dXJuIGkuaW5wdXRCdWZmZXJ9KG4pKTt9KTt9c3RvcEdldEF1ZGlvQnVmZmVyKCl7dGhpcy5hdWRpb0J1ZmZlck5vZGUmJih0aGlzLmF1ZGlvQnVmZmVyTm9kZS5vbmF1ZGlvcHJvY2Vzcz1udWxsLHRoaXMub3V0cHV0Tm9kZS5kaXNjb25uZWN0KHRoaXMuYXVkaW9CdWZmZXJOb2RlKSx0aGlzLmF1ZGlvQnVmZmVyTm9kZT12b2lkIDApO31jcmVhdGVPdXRwdXRUcmFjaygpe2lmKCFmdCgpLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0KXRocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcInlvdXIgYnJvd3NlciBpcyBub3Qgc3VwcG9ydCBhdWRpbyBwcm9jZXNzb3JcIik7cmV0dXJuIHRoaXMuZGVzdE5vZGUmJnRoaXMub3V0cHV0VHJhY2t8fCh0aGlzLmRlc3ROb2RlPXRoaXMuY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbURlc3RpbmF0aW9uKCksdGhpcy5vdXRwdXROb2RlLmNvbm5lY3QodGhpcy5kZXN0Tm9kZSksdGhpcy5vdXRwdXRUcmFjaz10aGlzLmRlc3ROb2RlLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdKSx0aGlzLm91dHB1dFRyYWNrfXBsYXkoZSl7dGhpcy5jb250ZXh0LnN0YXRlIT09XCJydW5uaW5nXCImJnF1KCgpPT57d3QuZW1pdChcImF1dG9wbGF5LWZhaWxlZFwiKTt9KSx0aGlzLmlzUGxheWVkPSEwLHRoaXMucGxheU5vZGU9ZXx8dGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uLHRoaXMub3V0cHV0Tm9kZS5jb25uZWN0KHRoaXMucGxheU5vZGUpO31zdG9wKCl7aWYodGhpcy5pc1BsYXllZCl0cnl7dGhpcy5vdXRwdXROb2RlLmRpc2Nvbm5lY3QodGhpcy5wbGF5Tm9kZSk7fWNhdGNoe310aGlzLmlzUGxheWVkPSExO31nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCl7cmV0dXJuIHRoaXMudm9sdW1lTGV2ZWxBbmFseXNlci5nZXRWb2x1bWVMZXZlbCgpfWFzeW5jIGNoZWNrSGFzQXVkaW9JbnB1dCgpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTowO2lmKGU+NSlyZXR1cm4gdGhpcy5pc05vQXVkaW9JbnB1dD0hMCx0aGlzLm9uTm9BdWRpb0lucHV0JiZ0aGlzLm9uTm9BdWRpb0lucHV0KCksITE7bG4oKXx8dmkoKT90aGlzLmNvbnRleHQuc3RhdGU9PT1cInN1c3BlbmRlZFwiJiZ0aGlzLmNvbnRleHQucmVzdW1lKCk6dGhpcy5jb250ZXh0LnN0YXRlIT09XCJydW5uaW5nXCImJnRoaXMuY29udGV4dC5yZXN1bWUoKTtsZXQgbj10aGlzLnZvbHVtZUxldmVsQW5hbHlzZXIuZ2V0QW5hbHlzZXJOb2RlKCksaTtuLmdldEZsb2F0VGltZURvbWFpbkRhdGE/KGk9bmV3IEZsb2F0MzJBcnJheShuLmZmdFNpemUpLG4uZ2V0RmxvYXRUaW1lRG9tYWluRGF0YShpKSk6KGk9bmV3IFVpbnQ4QXJyYXkobi5mZnRTaXplKSxuLmdldEJ5dGVUaW1lRG9tYWluRGF0YShpKSk7bGV0IHI9ITE7Zm9yKGxldCBvPTA7bzxpLmxlbmd0aDtvKyspaVtvXSE9PTAmJihyPSEwKTtyZXR1cm4gcj8odGhpcy5pc05vQXVkaW9JbnB1dD0hMSwhMCk6KGF3YWl0IE1lKDIwMCksYXdhaXQgdGhpcy5jaGVja0hhc0F1ZGlvSW5wdXQoZT9lKzE6MSkmJnIpfWdldEF1ZGlvVm9sdW1lKCl7cmV0dXJuIHRoaXMub3V0cHV0Tm9kZS5nYWluLnZhbHVlfXNldFZvbHVtZShlKXt0aGlzLm91dHB1dE5vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZShlLHRoaXMuY29udGV4dC5jdXJyZW50VGltZSk7fWRlc3Ryb3koKXt0aGlzLmRpc2Nvbm5lY3QoKSx0aGlzLnN0b3AoKSx0aGlzLmlzRGVzdHJveWVkPSEwLHRoaXMub25Ob0F1ZGlvSW5wdXQ9dm9pZCAwO31kaXNjb25uZWN0KCl7dmFyIGUsbjsoZT10aGlzLnByb2Nlc3NlZE5vZGUpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5kaXNjb25uZWN0KCksKG49dGhpcy5zb3VyY2VOb2RlKT09PW51bGx8fG49PT12b2lkIDB8fG4uZGlzY29ubmVjdCgpLHRoaXMub3V0cHV0Tm9kZSYmdGhpcy5vdXRwdXROb2RlLmRpc2Nvbm5lY3QoKTt9Y29ubmVjdCgpe3ZhciBlO3RoaXMucHJvY2Vzc2VkTm9kZT8oZT10aGlzLnByb2Nlc3NlZE5vZGUpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5jb25uZWN0KHRoaXMub3V0cHV0Tm9kZSk6dGhpcy5zb3VyY2VOb2RlJiZ0aGlzLnNvdXJjZU5vZGUuY29ubmVjdCh0aGlzLm91dHB1dE5vZGUpLHRoaXMudm9sdW1lTGV2ZWxBbmFseXNlci51cGRhdGVTb3VyY2UodGhpcy5vdXRwdXROb2RlKTt9fSwkbD1jbGFzcyBleHRlbmRzIFpse2dldCBpc0ZyZWV6ZSgpe3JldHVybiAhMX1jb25zdHJ1Y3RvcihlLG4saSl7dmFyIHI7aWYoc3VwZXIoKSxQKHRoaXMsXCJzb3VyY2VOb2RlXCIsdm9pZCAwKSxQKHRoaXMsXCJ0cmFja1wiLHZvaWQgMCksUCh0aGlzLFwiY2xvbmVkVHJhY2tcIix2b2lkIDApLFAodGhpcyxcImF1ZGlvRWxlbWVudFwiLHZvaWQgMCksUCh0aGlzLFwiaXNDdXJyZW50VHJhY2tDbG9uZWRcIiwhMSksUCh0aGlzLFwiaXNSZW1vdGVUcmFja1wiLCExKSxQKHRoaXMsXCJvcmlnaW5Wb2x1bWVMZXZlbEFuYWx5c2VyXCIsdm9pZCAwKSxQKHRoaXMsXCJyZWJ1aWxkV2ViQXVkaW9cIixhc3luYygpPT57aWYoXy5kZWJ1ZyhcInJlYWR5IHRvIHJlYnVpbGQgd2ViIGF1ZGlvLCBzdGF0ZTpcIix0aGlzLmNvbnRleHQuc3RhdGUpLHRoaXMuaXNOb0F1ZGlvSW5wdXQmJmF3YWl0IHRoaXMuY2hlY2tIYXNBdWRpb0lucHV0KCksIXRoaXMuaXNOb0F1ZGlvSW5wdXR8fHRoaXMuaXNEZXN0cm95ZWQpcmV0dXJuIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5yZWJ1aWxkV2ViQXVkaW8sITApLHZvaWQgXy5kZWJ1ZyhcInJlYnVpbGQgd2ViIGF1ZGlvIHN1Y2Nlc3MsIGN1cnJlbnQgdm9sdW1lIHN0YXR1c1wiLHRoaXMuZ2V0QWNjdXJhdGVWb2x1bWVMZXZlbCgpKTt0aGlzLmNvbnRleHQucmVzdW1lKCkudGhlbigoKT0+Xy5pbmZvKFwicmVzdW1lIHN1Y2Nlc3NcIikpLF8uZGVidWcoXCJyZWJ1aWxkIHdlYiBhdWRpbyBiZWNhdXNlIG9mIGlvcyAxMiBidWdzXCIpLHRoaXMuZGlzY29ubmVjdCgpO2xldCBhPXRoaXMudHJhY2s7dGhpcy50cmFjaz10aGlzLnRyYWNrLmNsb25lKCksdGhpcy5pc0N1cnJlbnRUcmFja0Nsb25lZD9hLnN0b3AoKTp0aGlzLmlzQ3VycmVudFRyYWNrQ2xvbmVkPSEwO2xldCBjPW5ldyBNZWRpYVN0cmVhbShbdGhpcy50cmFja10pO3RoaXMuc291cmNlTm9kZT10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UoYyksTm8odGhpcy5zb3VyY2VOb2RlKSx0aGlzLnZvbHVtZUxldmVsQW5hbHlzZXIucmVidWlsZEFuYWx5c2VyKCk7bGV0IGQ9dGhpcy5vdXRwdXROb2RlLmdhaW4udmFsdWU7dGhpcy5vdXRwdXROb2RlPXRoaXMuY29udGV4dC5jcmVhdGVHYWluKCksdGhpcy5vdXRwdXROb2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUoZCx0aGlzLmNvbnRleHQuY3VycmVudFRpbWUpLE5vKHRoaXMub3V0cHV0Tm9kZSksdGhpcy5lbWl0KGpuLlVQREFURV9TT1VSQ0UpLHRoaXMuY29ubmVjdCgpLHRoaXMuYXVkaW9FbGVtZW50LnNyY09iamVjdD1jLHRoaXMuaXNQbGF5ZWQmJnRoaXMucGxheSh0aGlzLnBsYXlOb2RlKSx0aGlzLmNoZWNrSGFzQXVkaW9JbnB1dCgpO30pLGUua2luZCE9PVwiYXVkaW9cIil0aHJvdyBuZXcgTihSLlVORVhQRUNURURfRVJST1IpO3RoaXMudHJhY2s9ZTtsZXQgbz1uZXcgTWVkaWFTdHJlYW0oW3RoaXMudHJhY2tdKTtpZih0aGlzLmlzUmVtb3RlVHJhY2s9ISFuLHRoaXMuc291cmNlTm9kZT10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UobyksTm8odGhpcy5zb3VyY2VOb2RlKSxpKXtsZXQgYT1pLmNsb25lKCk7YS5lbmFibGVkPSEwLHRoaXMuY2xvbmVkVHJhY2s9YSxfLmRlYnVnKFwiY3JlYXRlIGFuIHVubXV0ZWQgdHJhY2sgXCIuY29uY2F0KGEuaWQsXCIgZnJvbSB0aGUgb3JpZ2luYWwgdHJhY2sgXCIpLmNvbmNhdChpLmlkLFwiIHRvIGdldCB0aGUgdm9sdW1lXCIpKTtsZXQgYz10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UobmV3IE1lZGlhU3RyZWFtKFthXSkpO05vKGMpLHRoaXMub3JpZ2luVm9sdW1lTGV2ZWxBbmFseXNlcj1uZXcgUWwsdGhpcy5vcmlnaW5Wb2x1bWVMZXZlbEFuYWx5c2VyLnVwZGF0ZVNvdXJjZShjKTt9dGhpcy5jb25uZWN0KCksdGhpcy5hdWRpb0VsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpLHRoaXMuYXVkaW9FbGVtZW50LnNyY09iamVjdD1vO2xldCBzPW10KCk7biYmcy5vcz09PXllLklPUyYmTnVtYmVyKChyPXMub3NWZXJzaW9uKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIuc3BsaXQoXCIuXCIpWzBdKTwxNSYmKHd0Lm9uKGtlLlNUQVRFX0NIQU5HRSwoKT0+e3RoaXMuY29udGV4dC5zdGF0ZT09PVwic3VzcGVuZGVkXCI/ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLnJlYnVpbGRXZWJBdWRpbywhMCk6dGhpcy5jb250ZXh0LnN0YXRlPT09XCJydW5uaW5nXCImJnRoaXMucmVidWlsZFdlYkF1ZGlvKCk7fSksdGhpcy5jaGVja0hhc0F1ZGlvSW5wdXQoKS50aGVuKGE9PnthfHxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMucmVidWlsZFdlYkF1ZGlvLCEwKTt9KSk7fXVwZGF0ZVRyYWNrKGUpe3RoaXMuc291cmNlTm9kZS5kaXNjb25uZWN0KCksdGhpcy50cmFjaz1lLHRoaXMuaXNDdXJyZW50VHJhY2tDbG9uZWQ9ITE7bGV0IG49bmV3IE1lZGlhU3RyZWFtKFtlXSk7dGhpcy5zb3VyY2VOb2RlPXRoaXMuY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShuKSxObyh0aGlzLnNvdXJjZU5vZGUpLHRoaXMucHJvY2Vzc2VkTm9kZXx8dGhpcy5zb3VyY2VOb2RlLmNvbm5lY3QodGhpcy5vdXRwdXROb2RlKSx0aGlzLmVtaXQoam4uVVBEQVRFX1NPVVJDRSksdGhpcy5hdWRpb0VsZW1lbnQuc3JjT2JqZWN0PW47fWRlc3Ryb3koKXt2YXIgZTt0aGlzLmF1ZGlvRWxlbWVudC5zcmNPYmplY3Q9bnVsbCx0aGlzLmF1ZGlvRWxlbWVudC5yZW1vdmUoKSx3dC5vZmYoXCJzdGF0ZS1jaGFuZ2VcIix0aGlzLnJlYnVpbGRXZWJBdWRpbyksKGU9dGhpcy5vcmlnaW5Wb2x1bWVMZXZlbEFuYWx5c2VyKT09PW51bGx8fGU9PT12b2lkIDB8fGUuZGVzdHJveSgpLHRoaXMuY2xvbmVkVHJhY2s9dm9pZCAwLHN1cGVyLmRlc3Ryb3koKTt9Y3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2VOb2RlKGUpe3JldHVybiB0aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UobmV3IE1lZGlhU3RyZWFtKFtlXSkpfXVwZGF0ZU9yaWdpblRyYWNrKGUpe2xldCBuPWUuY2xvbmUoKTtuLmVuYWJsZWQ9ITAsdGhpcy5jbG9uZWRUcmFjayYmKHRoaXMuY2xvbmVkVHJhY2suc3RvcCgpLHRoaXMuY2xvbmVkVHJhY2s9biksXy5kZWJ1ZyhcImNyZWF0ZSBhbiB1bm11dGVkIHRyYWNrIFwiLmNvbmNhdChuLmlkLFwiIGZyb20gdGhlIG9yaWdpbmFsIHRyYWNrIFwiKS5jb25jYXQoZS5pZCxcIiB0byBnZXQgdGhlIHZvbHVtZVwiKSk7bGV0IGk9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKG5ldyBNZWRpYVN0cmVhbShbbl0pKTtObyhpKSx0aGlzLm9yaWdpblZvbHVtZUxldmVsQW5hbHlzZXImJnRoaXMub3JpZ2luVm9sdW1lTGV2ZWxBbmFseXNlci51cGRhdGVTb3VyY2UoaSk7fWdldE9yaWdpblZvbHVtZUxldmVsKCl7cmV0dXJuIHRoaXMub3JpZ2luVm9sdW1lTGV2ZWxBbmFseXNlcj90aGlzLm9yaWdpblZvbHVtZUxldmVsQW5hbHlzZXIuZ2V0Vm9sdW1lTGV2ZWwoKTp0aGlzLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKX19O2FzeW5jIGZ1bmN0aW9uIEhPKHQsZSxuKXtsZXQgaT0obyxzKT0+bz90eXBlb2YgbyE9XCJudW1iZXJcIj9vLm1heHx8by5leGFjdHx8by5pZGVhbHx8by5taW58fHM6bzpzLHI9e2F1ZGlvOiEhbiYme21hbmRhdG9yeTp7Y2hyb21lTWVkaWFTb3VyY2U6XCJkZXNrdG9wXCJ9fSx2aWRlbzp7bWFuZGF0b3J5OntjaHJvbWVNZWRpYVNvdXJjZTpcImRlc2t0b3BcIixjaHJvbWVNZWRpYVNvdXJjZUlkOnQsbWF4SGVpZ2h0OmkoZS5oZWlnaHQsMTA4MCksbWF4V2lkdGg6aShlLndpZHRoLDE5MjApfX19O3JldHVybiBlLmZyYW1lUmF0ZSYmdHlwZW9mIGUuZnJhbWVSYXRlIT1cIm51bWJlclwiPyhyLnZpZGVvLm1hbmRhdG9yeS5tYXhGcmFtZVJhdGU9ZS5mcmFtZVJhdGUubWF4LHIudmlkZW8ubWFuZGF0b3J5Lm1pbkZyYW1lUmF0ZT1lLmZyYW1lUmF0ZS5taW4pOnR5cGVvZiBlLmZyYW1lUmF0ZT09XCJudW1iZXJcIiYmKHIudmlkZW8ubWFuZGF0b3J5Lm1heEZyYW1lUmF0ZT1lLmZyYW1lUmF0ZSksYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEocil9YXN5bmMgZnVuY3Rpb24gTEcodCxlKXtsZXQgbj1hd2FpdCBLTyh0Lm1lZGlhU291cmNlKSx7c291cmNlSWQ6aSxhdWRpbzpyfT1hd2FpdCBmdW5jdGlvbihvKXtsZXQgcz1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMCYmYXJndW1lbnRzWzFdO3JldHVybiBuZXcgaigoYSxjKT0+e2xldCBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZC5pbm5lclRleHQ9XCJzaGFyZSBzY3JlZW5cIixkLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ0ZXh0LWFsaWduOiBjZW50ZXI7IGhlaWdodDogMjVweDsgbGluZS1oZWlnaHQ6IDI1cHg7IGJvcmRlci1yYWRpdXM6IDRweCA0cHggMCAwOyBiYWNrZ3JvdW5kOiAjRDREMkQ0OyBib3JkZXItYm90dG9tOiAgc29saWQgMXB4ICNCOUI4Qjk7XCIpO2xldCBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwid2lkdGg6IDEwMCU7IGhlaWdodDogNTAwcHg7IHBhZGRpbmc6IDE1cHggMjVweCA7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7XCIpO2xldCB1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dS5pbm5lclRleHQ9XCJBZ29yYSBXZWIgU2NyZWVuc2hhcmluZyB3YW50cyB0byBzaGFyZSB0aGUgY29udGVudHMgb2YgeW91ciBzY3JlZW4gd2l0aCB3ZWJkZW1vLmFnb3JhYmVja29uLmNvbS4gQ2hvb3NlIHdoYXQgeW91J2QgbGlrZSB0byBzaGFyZS5cIix1LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJoZWlnaHQ6IDEyJTtcIik7bGV0IGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtoLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiA4MCU7IGJhY2tncm91bmQ6ICNGRkY7IGJvcmRlcjogIHNvbGlkIDFweCAjQ0JDQkNCOyBkaXNwbGF5OiBmbGV4OyBmbGV4LXdyYXA6IHdyYXA7IGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kOyBvdmVyZmxvdy15OiBzY3JvbGw7IHBhZGRpbmc6IDAgMTVweDsgYm94LXNpemluZzogYm9yZGVyLWJveDtcIik7bGV0IHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtwLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IHBhZGRpbmc6IDE2cHggMDtcIik7bGV0IGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtnLmlubmVySFRNTD1cImNhbmNlbFwiLGcuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIndpZHRoOiA4NXB4O1wiKSxnLm9uY2xpY2s9KCk9Pntkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKFMpO2xldCBDPW5ldyBFcnJvcihcIk5vdEFsbG93ZWRFcnJvclwiKTtDLm5hbWU9XCJOb3RBbGxvd2VkRXJyb3JcIixjKEMpO307bGV0IEU9cyxmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYocyl7bGV0IEM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO0Muc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiY2hlY2tib3hcIik7bGV0IEE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7Qy5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwibWFyZ2luLXJpZ2h0OiA2cHg7XCIpLEEuaW5uZXJUZXh0PVwiU2hhcmUgYXVkaW9cIixDLmNoZWNrZWQ9RSxDLm9uY2hhbmdlPSgpPT57RT1DLmNoZWNrZWQ7fSxmLmFwcGVuZENoaWxkKEMpLGYuYXBwZW5kQ2hpbGQoQSk7fXAuYXBwZW5kQ2hpbGQoZikscC5hcHBlbmRDaGlsZChnKSxsLmFwcGVuZENoaWxkKHUpLGwuYXBwZW5kQ2hpbGQoaCksbC5hcHBlbmRDaGlsZChwKTtsZXQgUz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1Muc2V0QXR0cmlidXRlKFwic3R5bGVcIixcInBvc2l0aW9uOiBmaXhlZDsgei1pbmRleDogOTk5OTk5OTk7IHRvcDogNTAlOyBsZWZ0OiA1MCU7IHdpZHRoOiA2MjBweDsgaGVpZ2h0OiA1MjVweDsgYmFja2dyb3VuZDogI0VDRUNFQzsgYm9yZGVyLXJhZGl1czogNHB4OyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsLTUwJSk7IHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsLTUwJSk7XCIpLFMuYXBwZW5kQ2hpbGQoZCksUy5hcHBlbmRDaGlsZChsKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKFMpLG8ubWFwKEM9PntpZihDLmlkKXtsZXQgQT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO0Euc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIndpZHRoOiAzMCU7IGhlaWdodDogMTYwcHg7IHBhZGRpbmc6IDIwcHggMDsgdGV4dC1hbGlnbjogY2VudGVyO2JveC1zaXppbmc6IGNvbnRlbnQtYm94O1wiKTtsZXQgYj1DLnRodW1ibmFpbDt0cnl7bGV0e3dpZHRoOnd9PWIuZ2V0U2l6ZSgpO3c+MTkyMCYmKGI9Yi5yZXNpemUoe3dpZHRoOjE5MjB9KSk7fWNhdGNoKHcpe3Rocm93IHcmJncubWVzc2FnZS5zdGFydHNXaXRoKFwiSWxsZWdhbCBpbnZvY2F0aW9uXCIpJiZjb25zb2xlLmVycm9yKFwiT3BlcmF0ZSB0aHVtYm5haWwgZXJyb3IsIHBsZWFzZSB0cnkgdG8gc2V0IGNvbnRleHRJc29sYXRpb246IGZhbHNlLiAoaHR0cHM6Ly9naXRodWIuY29tL2VsZWN0cm9uL2VsZWN0cm9uL2lzc3Vlcy8zNDk1MylcIiksd31BLmlubmVySFRNTD0nPGRpdiBzdHlsZT1cImhlaWdodDogMTIwcHg7IGRpc3BsYXk6IHRhYmxlLWNlbGw7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XCI+PGltZyBzdHlsZT1cIndpZHRoOiAxMDAlOyBiYWNrZ3JvdW5kOiAjMzMzMzMzOyBib3gtc2hhZG93OiAxcHggMXB4IDFweCAxcHggcmdiYSgwLCAwLCAwLCAwLjIpO1wiIHNyYz0nK2IudG9EYXRhVVJMKCkrJyAvPjwvZGl2PjxzcGFuIHN0eWxlPVwiXHRoZWlnaHQ6IDQwcHg7IGxpbmUtaGVpZ2h0OiA0MHB4OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdpZHRoOiA3MCU7IHdvcmQtYnJlYWs6IGtlZXAtYWxsOyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdzogaGlkZGVuOyB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcIj4nK0MubmFtZS5yZXBsYWNlKC9bXFx1MDBBMC1cXHU5OTk5PD5cXCZdL2csZnVuY3Rpb24odyl7cmV0dXJuIFwiJiNcIit3LmNoYXJDb2RlQXQoMCkrXCI7XCJ9KStcIjwvc3Bhbj5cIixBLm9uY2xpY2s9KCk9Pntkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKFMpLGEoe3NvdXJjZUlkOkMuaWQsYXVkaW86RX0pO30saC5hcHBlbmRDaGlsZChBKTt9fSk7fSl9KG4sZSk7cmV0dXJuIGF3YWl0IEhPKGksdCxyKX1hc3luYyBmdW5jdGlvbiBLTyh0KXtsZXQgZT1bXCJ3aW5kb3dcIixcInNjcmVlblwiXTt0IT09XCJhcHBsaWNhdGlvblwiJiZ0IT09XCJ3aW5kb3dcInx8KGU9W1wid2luZG93XCJdKSx0PT09XCJzY3JlZW5cIiYmKGU9W1wic2NyZWVuXCJdKTtsZXQgbj1JTygpO2lmKCFuKXRocm93IGNvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gZmV0Y2ggZWxlY3Ryb24sIHBsZWFzZSBtb3VudCBpdCB0byB3aW5kb3dcIiksbmV3IE4oUi5FTEVDVFJPTl9JU19OVUxMKTtsZXQgaT1udWxsO3RyeXt2YXIgcjtpPSgocj1uLmRlc2t0b3BDYXB0dXJlcik9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLmdldFNvdXJjZXMoe3R5cGVzOmV9KSl8fG4uaXBjUmVuZGVyZXIuaW52b2tlKFwiREVTS1RPUF9DQVBUVVJFUl9HRVRfU09VUkNFU1wiLHt0eXBlczplfSk7fWNhdGNoe2k9bnVsbDt9aSYmaS50aGVufHwoaT1uZXcgaigobyxzKT0+e24uZGVza3RvcENhcHR1cmVyLmdldFNvdXJjZXMoe3R5cGVzOmV9LChhLGMpPT57YT9zKGEpOm8oYyk7fSk7fSkpO3RyeXtyZXR1cm4gYXdhaXQgaX1jYXRjaChvKXt0aHJvdyBuZXcgTihSLkVMRUNUUk9OX0RFU0tUT1BfQ0FQVFVSRVJfR0VUX1NPVVJDRVNfRVJST1Isby50b1N0cmluZygpKX19dmFyIHFFPW5ldyB6ZShcInNhZmFyaVwiKSxZTz0hMSxxTz0hMTthc3luYyBmdW5jdGlvbiBGbih0LGUpe2xldCBuPTAsaT1udWxsO2Zvcig7bjwyOyl0cnl7aT1hd2FpdCBNRyh0LGUsbj4wKTticmVha31jYXRjaChyKXtpZihyIGluc3RhbmNlb2YgTil0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdChlLFwiXSBcIikuY29uY2F0KHIudG9TdHJpbmcoKSkpLHI7bGV0IG89SWwoci5uYW1lfHxyLmNvZGV8fHIsci5tZXNzYWdlKTtpZihvLmNvZGU9PT1SLk1FRElBX09QVElPTl9JTlZBTElEKXtfLmRlYnVnKFwiW1wiLmNvbmNhdChlLFwiXSBkZXRlY3QgbWVkaWEgb3B0aW9uIGludmFsaWQsIHJldHJ5XCIpKSxuKz0xLGF3YWl0IE1lKDUwMCk7Y29udGludWV9dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQoZSxcIl0gXCIpLmNvbmNhdChvLnRvU3RyaW5nKCkpKSxvfWlmKCFpKXRocm93IG5ldyBOKFIuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCBzdHJlYW0gYWZ0ZXIgZ2V0VXNlck1lZGlhXCIpO3JldHVybiBpfWFzeW5jIGZ1bmN0aW9uIE1HKHQsZSxuKXtpZighbmF2aWdhdG9yLm1lZGlhRGV2aWNlc3x8IW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKXRocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcImNhbiBub3QgZmluZCBnZXRVc2VyTWVkaWFcIik7biYmKHQudmlkZW8mJihkZWxldGUgdC52aWRlby53aWR0aCxkZWxldGUgdC52aWRlby5oZWlnaHQpLHQuc2NyZWVuJiYoZGVsZXRlIHQuc2NyZWVuLndpZHRoLGRlbGV0ZSB0LnNjcmVlbi5oZWlnaHQpKTtsZXQgaT1mdCgpLHI9bmV3IE1lZGlhU3RyZWFtO2lmKHQuYXVkaW9Tb3VyY2UmJnIuYWRkVHJhY2sodC5hdWRpb1NvdXJjZSksdC52aWRlb1NvdXJjZSYmci5hZGRUcmFjayh0LnZpZGVvU291cmNlKSwhdC5hdWRpbyYmIXQudmlkZW8mJiF0LnNjcmVlbilyZXR1cm4gXy5kZWJ1ZyhcIlVzaW5nIFZpZGVvIFNvdXJjZS8gQXVkaW8gU291cmNlXCIpLHI7aWYodC5zY3JlZW4paWYoSU8oKSl0LnNjcmVlbi5zb3VyY2VJZD9UcyhyLGF3YWl0IEhPKHQuc2NyZWVuLnNvdXJjZUlkLHQuc2NyZWVuLHQuc2NyZWVuQXVkaW8pKTpUcyhyLGF3YWl0IExHKHQuc2NyZWVuLHQuc2NyZWVuQXVkaW8pKTtlbHNlIGlmKG9vKCkmJnQuc2NyZWVuLmV4dGVuc2lvbklkJiZ0LnNjcmVlbi5tYW5kYXRvcnkpe2lmKCFpLmdldFN0cmVhbUZyb21FeHRlbnNpb24pdGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwiVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgc2NyZWVuIHNoYXJpbmdcIik7Xy5kZWJ1ZyhcIltcIi5jb25jYXQoZSwnXSBTY3JlZW4gYWNjZXNzIG9uIGNocm9tZSBzdGFibGUsIGxvb2tpbmcgZm9yIGV4dGVuc2lvblwiJykpO2xldCBoPWF3YWl0KHM9dC5zY3JlZW4uZXh0ZW5zaW9uSWQsYT1lLG5ldyBqKChwLGcpPT57dHJ5e2Nocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHMse2dldFN0cmVhbTohMH0sRT0+e2lmKCFFfHwhRS5zdHJlYW1JZClyZXR1cm4gXy5lcnJvcihcIltcIi5jb25jYXQoYSxcIl0gTm8gcmVzcG9uc2UgZnJvbSBDaHJvbWUgUGx1Z2luLiBQbHVnaW4gbm90IGluc3RhbGxlZCBwcm9wZXJseVwiKSxFKSx2b2lkIGcobmV3IE4oUi5DSFJPTUVfUExVR0lOX05PX1JFU1BPTlNFLFwiTm8gcmVzcG9uc2UgZnJvbSBDaHJvbWUgUGx1Z2luLiBQbHVnaW4gbm90IGluc3RhbGxlZCBwcm9wZXJseVwiKSk7cChFLnN0cmVhbUlkKTt9KTt9Y2F0Y2goRSl7Xy5lcnJvcihcIltcIi5jb25jYXQoYSxcIl0gQWdvcmFSVEMgc2NyZWVuc2hhcmluZyBwbHVnaW4gaXMgbm90IGFjY2Vzc2libGUoXCIpLmNvbmNhdChzLFwiKVwiKSxFLnRvU3RyaW5nKCkpLGcobmV3IE4oUi5DSFJPTUVfUExVR0lOX05PVF9JTlNUQUxMKSk7fX0pKTt0LnNjcmVlbi5tYW5kYXRvcnkuY2hyb21lTWVkaWFTb3VyY2VJZD1oLFRzKHIsYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe3ZpZGVvOnttYW5kYXRvcnk6dC5zY3JlZW4ubWFuZGF0b3J5fX0pKTt9ZWxzZSBpZihpLmdldERpc3BsYXlNZWRpYSl7dmFyIG87dC5zY3JlZW4ubWVkaWFTb3VyY2UmJl9DKHQuc2NyZWVuLm1lZGlhU291cmNlKTtsZXQgaD17d2lkdGg6dC5zY3JlZW4ud2lkdGgsaGVpZ2h0OnQuc2NyZWVuLmhlaWdodCxmcmFtZVJhdGU6dC5zY3JlZW4uZnJhbWVSYXRlLGRpc3BsYXlTdXJmYWNlOihvPXQuc2NyZWVuLmRpc3BsYXlTdXJmYWNlKSE9PW51bGwmJm8hPT12b2lkIDA/bzp0LnNjcmVlbi5tZWRpYVNvdXJjZT09PVwic2NyZWVuXCI/XCJtb25pdG9yXCI6dC5zY3JlZW4ubWVkaWFTb3VyY2V9LHtzZWxmQnJvd3NlclN1cmZhY2U6cCxzdXJmYWNlU3dpdGNoaW5nOmcsc3lzdGVtQXVkaW86RX09dC5zY3JlZW4sZj17c2VsZkJyb3dzZXJTdXJmYWNlOnAsc3VyZmFjZVN3aXRjaGluZzpnLHN5c3RlbUF1ZGlvOkV9OyFwJiZkZWxldGUgZi5zZWxmQnJvd3NlclN1cmZhY2UsIWcmJmRlbGV0ZSBmLnN1cmZhY2VTd2l0Y2hpbmcsIUUmJmRlbGV0ZSBmLnN5c3RlbUF1ZGlvLF8uZGVidWcoXCJbXCIuY29uY2F0KGUsXCJdIGdldERpc3BsYXlNZWRpYTpcIiksSlNPTi5zdHJpbmdpZnkoe3ZpZGVvOmgsYXVkaW86ISF0LnNjcmVlbkF1ZGlvLGNvbnRyb2xzOmZ9KSksVHMocixhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYShLdCh7dmlkZW86aCxhdWRpbzohIXQuc2NyZWVuQXVkaW99LGYpKSk7fWVsc2Uge2lmKCEkdCgpKXRocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KGUsXCJdIFRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHNjcmVlblNoYXJpbmdcIikpLG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcIlRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHNjcmVlbiBzaGFyaW5nXCIpO3t0LnNjcmVlbi5tZWRpYVNvdXJjZSYmX0ModC5zY3JlZW4ubWVkaWFTb3VyY2UpO2xldCBoPXt2aWRlbzp7bWVkaWFTb3VyY2U6dC5zY3JlZW4ubWVkaWFTb3VyY2Usd2lkdGg6dC5zY3JlZW4ud2lkdGgsaGVpZ2h0OnQuc2NyZWVuLmhlaWdodCxmcmFtZVJhdGU6dC5zY3JlZW4uZnJhbWVSYXRlfX07Xy5kZWJ1ZyhcIltcIi5jb25jYXQoZSxcIl0gZ2V0VXNlck1lZGlhOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGgpKSksVHMocixhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShoKSk7fX12YXIgcyxhO2lmKCF0LnZpZGVvJiYhdC5hdWRpbylyZXR1cm4gcjtsZXQgYz17dmlkZW86dC52aWRlbyxhdWRpbzp0LmF1ZGlvfSxkPXYoXCJNRURJQV9ERVZJQ0VfQ09OU1RSQUlOVFNcIik7aWYoZCl0cnl7dHlwZW9mIGQ9PVwic3RyaW5nXCImJihkPUpTT04ucGFyc2UoZCkpLGM9a0UoYyxkKTt9Y2F0Y2h7fV8uZGVidWcoXCJbXCIuY29uY2F0KGUsXCJdIEdldFVzZXJNZWRpYVwiKSxKU09OLnN0cmluZ2lmeShjKSksbXQoKTtsZXQgbCx1PW51bGw7KGplKCl8fGxuKCl8fEdsKCkpJiYodT1hd2FpdCBxRS5sb2NrKCkpO3RyeXtsPWF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGMpO31jYXRjaChoKXt0aHJvdyB1JiZ1KCksaH1yZXR1cm4gYy5hdWRpbyYmKFlPPSEwKSxjLnZpZGVvJiYocU89ITApLFRzKHIsbCksdSYmdSgpLHJ9ZnVuY3Rpb24gSWwodCxlKXtzd2l0Y2godCl7Y2FzZVwiU3RhcnRpbmcgdmlkZW8gZmFpbGVkXCI6Y2FzZVwiT3ZlcmNvbnN0cmFpbmVkRXJyb3JcIjpjYXNlXCJUcmFja1N0YXJ0RXJyb3JcIjpyZXR1cm4gbmV3IE4oUi5NRURJQV9PUFRJT05fSU5WQUxJRCxcIlwiLmNvbmNhdCh0LFwiOiBcIikuY29uY2F0KGUpKTtjYXNlXCJOb3RGb3VuZEVycm9yXCI6Y2FzZVwiRGV2aWNlc05vdEZvdW5kRXJyb3JcIjpyZXR1cm4gbmV3IE4oUi5ERVZJQ0VfTk9UX0ZPVU5ELFwiXCIuY29uY2F0KHQsXCI6IFwiKS5jb25jYXQoZSkpO2Nhc2VcIk5vdFN1cHBvcnRlZEVycm9yXCI6cmV0dXJuIG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcIlwiLmNvbmNhdCh0LFwiOiBcIikuY29uY2F0KGUpKTtjYXNlXCJOb3RSZWFkYWJsZUVycm9yXCI6cmV0dXJuIG5ldyBOKFIuTk9UX1JFQURBQkxFLFwiXCIuY29uY2F0KHQsXCI6IFwiKS5jb25jYXQoZSkpO2Nhc2VcIkludmFsaWRTdGF0ZUVycm9yXCI6Y2FzZVwiTm90QWxsb3dlZEVycm9yXCI6Y2FzZVwiUEVSTUlTU0lPTl9ERU5JRURcIjpjYXNlXCJQZXJtaXNzaW9uRGVuaWVkRXJyb3JcIjpyZXR1cm4gbmV3IE4oUi5QRVJNSVNTSU9OX0RFTklFRCxcIlwiLmNvbmNhdCh0LFwiOiBcIikuY29uY2F0KGUpKTtjYXNlXCJDb25zdHJhaW50Tm90U2F0aXNmaWVkRXJyb3JcIjpyZXR1cm4gbmV3IE4oUi5DT05TVFJBSU5UX05PVF9TQVRJU0ZJRUQsXCJcIi5jb25jYXQodCxcIjogXCIpLmNvbmNhdChlKSk7ZGVmYXVsdDpyZXR1cm4gXy5lcnJvcihcImdldFVzZXJNZWRpYSB1bmV4cGVjdGVkIGVycm9yXCIsdCksbmV3IE4oUi5VTkVYUEVDVEVEX0VSUk9SLFwiXCIuY29uY2F0KHQsXCI6IFwiKS5jb25jYXQoZSkpfX1mdW5jdGlvbiBUcyh0LGUpe2xldCBuPXQuZ2V0VmlkZW9UcmFja3MoKVswXSxpPXQuZ2V0QXVkaW9UcmFja3MoKVswXSxyPWUuZ2V0VmlkZW9UcmFja3MoKVswXSxvPWUuZ2V0QXVkaW9UcmFja3MoKVswXTtvJiYoaSYmdC5yZW1vdmVUcmFjayhpKSx0LmFkZFRyYWNrKG8pKSxyJiYobiYmdC5yZW1vdmVUcmFjayhuKSx0LmFkZFRyYWNrKHIpKTt9dmFyIEduPW5ldyBjbGFzcyBleHRlbmRzIFh0e2dldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1zZXQgc3RhdGUodCl7dCE9PXRoaXMuX3N0YXRlJiYodGhpcy5lbWl0KEJvLlNUQVRFX0NIQU5HRSx0KSx0aGlzLl9zdGF0ZT10KTt9Y29uc3RydWN0b3IoKXtzdXBlcigpLFAodGhpcyxcIl9zdGF0ZVwiLFVhLklETEUpLFAodGhpcyxcImlzQWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb25cIiwhMSksUCh0aGlzLFwiaXNBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uXCIsITEpLFAodGhpcyxcImxhc3RBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvblwiLCExKSxQKHRoaXMsXCJsYXN0QWNjZXNzQ2FtZXJhUGVybWlzc2lvblwiLCExKSxQKHRoaXMsXCJjaGVja2RldmljZU1hdGNoZWRcIiwhMSksUCh0aGlzLFwiZGV2aWNlSW5mb01hcFwiLG5ldyBNYXApLHRoaXMuaW5pdCgpLnRoZW4oKCk9PntuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXImJm5hdmlnYXRvci5tZWRpYURldmljZXMuYWRkRXZlbnRMaXN0ZW5lcihcImRldmljZWNoYW5nZVwiLHRoaXMudXBkYXRlRGV2aWNlc0luZm8uYmluZCh0aGlzKSksd2luZG93LnNldEludGVydmFsKCgpPT57KHYoXCJFTlVNRVJBVEVfREVWSUNFU19JTlRFUlZBTFwiKXx8KEt1KCl8fEh1KCk9PT15ZS5IQVJNT05ZX09TKSYmaG8oKSkmJnRoaXMudXBkYXRlRGV2aWNlc0luZm8oKTt9LHYoXCJFTlVNRVJBVEVfREVWSUNFU19JTlRFUlZBTF9USU1FXCIpKTt9KS5jYXRjaCh0PT5fLmVycm9yKHQudG9TdHJpbmcoKSkpO31hc3luYyBlbnVtZXJhdGVEZXZpY2VzKHQsZSl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT12b2lkIDAmJmFyZ3VtZW50c1syXTtpZighbmF2aWdhdG9yLm1lZGlhRGV2aWNlc3x8IW5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcylyZXR1cm4gbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwiZW51bWVyYXRlRGV2aWNlcygpIG5vdCBzdXBwb3J0ZWQuXCIpLnRocm93KCk7bGV0IGk9YXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCkscj10aGlzLmNoZWNrTWVkaWFEZXZpY2VJbmZvSXNPayhpKSxvPSF0aGlzLmlzQWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb24mJnQscz0hdGhpcy5pc0FjY2Vzc0NhbWVyYVBlcm1pc3Npb24mJmU7ci5hdWRpbyYmKG89ITEpLHIudmlkZW8mJihzPSExKTtsZXQgYT1udWxsLGM9bnVsbCxkPW51bGw7aWYoIW4mJihvfHxzKSl7aWYocUUuaXNMb2NrZWQmJihfLmRlYnVnKFwiW2RldmljZSBtYW5hZ2VyXSB3YWl0IEdVTSBsb2NrXCIpLChhd2FpdCBxRS5sb2NrKCkpKCksXy5kZWJ1ZyhcIltkZXZpY2UgbWFuYWdlcl0gR1VNIHVubG9ja1wiKSksWU8mJihvPSExLHRoaXMuaXNBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbj0hMCkscU8mJihzPSExLHRoaXMuaXNBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uPSEwKSxfLmRlYnVnKFwiW2RldmljZSBtYW5hZ2VyXSBjaGVjayBtZWRpYSBkZXZpY2UgcGVybWlzc2lvbnNcIix0LGUsbyxzKSxvJiZzKXt0cnl7ZD1hd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7YXVkaW86ITAsdmlkZW86ITB9KTt9Y2F0Y2gobCl7bGV0IHU9SWwobC5uYW1lfHxsLmNvZGV8fGwsbC5tZXNzYWdlKTtpZih1LmNvZGU9PT1SLlBFUk1JU1NJT05fREVOSUVEKXRocm93IHU7Xy53YXJuaW5nKFwiZ2V0VXNlck1lZGlhIGZhaWxlZCBpbiBnZXREZXZpY2VzXCIsdSk7fXRoaXMuaXNBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uPSEwLHRoaXMuaXNBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbj0hMDt9ZWxzZSBpZihvKXt0cnl7YT1hd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7YXVkaW86dH0pO31jYXRjaChsKXtsZXQgdT1JbChsLm5hbWV8fGwuY29kZXx8bCxsLm1lc3NhZ2UpO2lmKHUuY29kZT09PVIuUEVSTUlTU0lPTl9ERU5JRUQpdGhyb3cgdTtfLndhcm5pbmcoXCJnZXRVc2VyTWVkaWEgZmFpbGVkIGluIGdldERldmljZXNcIix1KTt9dGhpcy5pc0FjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uPSEwO31lbHNlIGlmKHMpe3RyeXtjPWF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHt2aWRlbzplfSk7fWNhdGNoKGwpe2xldCB1PUlsKGwubmFtZXx8bC5jb2RlfHxsLGwubWVzc2FnZSk7aWYodS5jb2RlPT09Ui5QRVJNSVNTSU9OX0RFTklFRCl0aHJvdyB1O18ud2FybmluZyhcImdldFVzZXJNZWRpYSBmYWlsZWQgaW4gZ2V0RGV2aWNlc1wiLHUpO310aGlzLmlzQWNjZXNzQ2FtZXJhUGVybWlzc2lvbj0hMDt9Xy5kZWJ1ZyhcIltkZXZpY2UgbWFuYWdlcl0gbWljIHBlcm1pc3Npb25cIix0LFwiY2FtIHBlcm1pc3Npb25cIixlKTt9dHJ5e2xldCBsPWF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpO3JldHVybiBhJiZhLmdldFRyYWNrcygpLmZvckVhY2godT0+dS5zdG9wKCkpLGMmJmMuZ2V0VHJhY2tzKCkuZm9yRWFjaCh1PT51LnN0b3AoKSksZCYmZC5nZXRUcmFja3MoKS5mb3JFYWNoKHU9PnUuc3RvcCgpKSxhPW51bGwsYz1udWxsLGQ9bnVsbCxsfWNhdGNoKGwpe3JldHVybiBhJiZhLmdldFRyYWNrcygpLmZvckVhY2godT0+dS5zdG9wKCkpLGMmJmMuZ2V0VHJhY2tzKCkuZm9yRWFjaCh1PT51LnN0b3AoKSksZCYmZC5nZXRUcmFja3MoKS5mb3JFYWNoKHU9PnUuc3RvcCgpKSxhPW51bGwsYz1udWxsLGQ9bnVsbCxuZXcgTihSLkVOVU1FUkFURV9ERVZJQ0VTX0ZBSUxFRCxsLnRvU3RyaW5nKCkpLnRocm93KCl9fWFzeW5jIGdldFJlY29yZGluZ0RldmljZXMoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMCYmYXJndW1lbnRzWzBdO3JldHVybiAoYXdhaXQgdGhpcy5lbnVtZXJhdGVEZXZpY2VzKCEwLCExLHQpKS5maWx0ZXIoZT0+ZS5raW5kPT09XCJhdWRpb2lucHV0XCIpfWFzeW5jIGdldENhbWVyYXNEZXZpY2VzKCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDAmJmFyZ3VtZW50c1swXTtyZXR1cm4gKGF3YWl0IHRoaXMuZW51bWVyYXRlRGV2aWNlcyghMSwhMCx0KSkuZmlsdGVyKGU9PmUua2luZD09PVwidmlkZW9pbnB1dFwiKX1hc3luYyBnZXRTcGVha2Vycygpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwJiZhcmd1bWVudHNbMF07cmV0dXJuIChhd2FpdCB0aGlzLmVudW1lcmF0ZURldmljZXMoITAsITEsdCkpLmZpbHRlcihlPT5lLmtpbmQ9PT1cImF1ZGlvb3V0cHV0XCIpfXNlYXJjaERldmljZUlkQnlOYW1lKHQpe2xldCBlPW51bGw7cmV0dXJuIHRoaXMuZGV2aWNlSW5mb01hcC5mb3JFYWNoKG49PntuLmRldmljZS5sYWJlbD09PXQmJihlPW4uZGV2aWNlLmRldmljZUlkKTt9KSxlfWFzeW5jIGdldERldmljZUJ5SWQodCl7bGV0IGU9KGF3YWl0IHRoaXMuZW51bWVyYXRlRGV2aWNlcyghMCwhMCwhMCkpLmZpbmQobj0+bi5kZXZpY2VJZD09PXQpO2lmKCFlKXRocm93IG5ldyBOKFIuREVWSUNFX05PVF9GT1VORCxcImRldmljZUlkOiBcIi5jb25jYXQodCkpO3JldHVybiBlfWFzeW5jIGluaXQoKXt0aGlzLnN0YXRlPVVhLklOSVRJTkc7dHJ5e2F3YWl0IHRoaXMudXBkYXRlRGV2aWNlc0luZm8oKSx0aGlzLnN0YXRlPVVhLklOSVRFTkQ7fWNhdGNoKHQpe3Rocm93IF8ud2FybmluZyhcIkRldmljZSBEZXRlY3Rpb24gZnVuY3Rpb25hbGl0eSBjYW5ub3Qgc3RhcnQgcHJvcGVybHkuXCIsdC50b1N0cmluZygpKSx0aGlzLnN0YXRlPVVhLklETEUsKHR5cGVvZiBpc1NlY3VyZUNvbnRleHQ9PVwiYm9vbGVhblwiP2lzU2VjdXJlQ29udGV4dDpsb2NhdGlvbi5wcm90b2NvbD09PVwiaHR0cHM6XCJ8fGxvY2F0aW9uLnByb3RvY29sPT09XCJmaWxlOlwifHxsb2NhdGlvbi5ob3N0bmFtZT09PVwibG9jYWxob3N0XCJ8fGxvY2F0aW9uLmhvc3RuYW1lPT09XCIxMjcuMC4wLjFcInx8bG9jYXRpb24uaG9zdG5hbWU9PT1cIjo6MVwiKXx8bmV3IE4oUi5XRUJfU0VDVVJJVFlfUkVTVFJJQ1QsXCJZb3VyIGNvbnRleHQgaXMgbGltaXRlZCBieSB3ZWIgc2VjdXJpdHksIHBsZWFzZSB0cnkgdXNpbmcgaHR0cHMgcHJvdG9jb2wgb3IgbG9jYWxob3N0LlwiKS50aHJvdygpLHR9fWFzeW5jIHVwZGF0ZURldmljZXNJbmZvKCl7bGV0IHQ9YXdhaXQgdGhpcy5lbnVtZXJhdGVEZXZpY2VzKCEwLCEwLCEwKSxlPURhdGUubm93KCksbj1bXTtpZih0WzBdJiZ0WzBdLmxhYmVsJiZ0aGlzLmNoZWNrZGV2aWNlTWF0Y2hlZD09PSExKXt0aGlzLmNoZWNrZGV2aWNlTWF0Y2hlZD0hMDtsZXQgcj10LmZpbmQocz0+cy5raW5kPT09XCJhdWRpb2lucHV0XCImJnMuZGV2aWNlSWQ9PT1cImRlZmF1bHRcIiksbz10LmZpbmQocz0+cy5raW5kPT09XCJhdWRpb291dHB1dFwiJiZzLmRldmljZUlkPT09XCJkZWZhdWx0XCIpO3ImJm8/by5ncm91cElkPT09ci5ncm91cElkP18uZGVidWcoXCJbZGV2aWNlLWNoZWNrXSBkZWZhdWx0IGlucHV0IFwiLmNvbmNhdChyLmxhYmVsLFwiIGFuZCBvdXRwdXQgXCIpLmNvbmNhdChvLmxhYmVsLFwiIGlzIHRoZSBzYW1lIGdyb3VwXCIpKTpfLndhcm5pbmcoXCJbZGV2aWNlLWNoZWNrXSBkZWZhdWx0IGlucHV0IFwiLmNvbmNhdChyLmxhYmVsLFwiIGFuZCBvdXRwdXQgXCIpLmNvbmNhdChvLmxhYmVsLFwiIGlzIG5vdCB0aGUgc2FtZSBncm91cFwiKSk6Xy5kZWJ1ZyhcIltkZXZpY2UtY2hlY2tdIGRlZmF1bHQgaW5wdXQgb3Igb3V0cHV0IG5vdCBmb3VuZFwiKTt9bGV0IGk9dGhpcy5jaGVja01lZGlhRGV2aWNlSW5mb0lzT2sodCk7aWYodC5mb3JFYWNoKHI9PntpZighci5kZXZpY2VJZClyZXR1cm47bGV0IG89dGhpcy5kZXZpY2VJbmZvTWFwLmdldChcIlwiLmNvbmNhdChyLmtpbmQsXCJfXCIpLmNvbmNhdChyLmRldmljZUlkKSk7aWYoKG8/by5zdGF0ZTpcIklOQUNUSVZFXCIpIT09XCJBQ1RJVkVcIil7bGV0IHM9e2luaXRBdDplLHVwZGF0ZUF0OmUsZGV2aWNlOnIsc3RhdGU6XCJBQ1RJVkVcIn07dGhpcy5kZXZpY2VJbmZvTWFwLnNldChcIlwiLmNvbmNhdChyLmtpbmQsXCJfXCIpLmNvbmNhdChyLmRldmljZUlkKSxzKSxuLnB1c2gocyk7fW8mJihvLnVwZGF0ZUF0PWUpO30pLHRoaXMuZGV2aWNlSW5mb01hcC5mb3JFYWNoKChyLG8pPT57ci5zdGF0ZT09PVwiQUNUSVZFXCImJnIudXBkYXRlQXQhPT1lJiYoci5zdGF0ZT1cIklOQUNUSVZFXCIsbi5wdXNoKHIpKTt9KSx0aGlzLnN0YXRlIT09VWEuSU5JVEVORClyZXR1cm4gaS5hdWRpbyYmKHRoaXMubGFzdEFjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uPSEwLHRoaXMuaXNBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbj0hMCksdm9pZChpLnZpZGVvJiYodGhpcy5sYXN0QWNjZXNzQ2FtZXJhUGVybWlzc2lvbj0hMCx0aGlzLmlzQWNjZXNzQ2FtZXJhUGVybWlzc2lvbj0hMCkpO24uZm9yRWFjaChyPT57c3dpdGNoKHIuZGV2aWNlLmtpbmQpe2Nhc2VcImF1ZGlvaW5wdXRcIjp0aGlzLmxhc3RBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbiYmdGhpcy5pc0FjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uJiZ0aGlzLmVtaXQoQm8uUkVDT1JESU5HX0RFVklDRV9DSEFOR0VELHIpO2JyZWFrO2Nhc2VcInZpZGVvaW5wdXRcIjp0aGlzLmxhc3RBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uJiZ0aGlzLmlzQWNjZXNzQ2FtZXJhUGVybWlzc2lvbiYmdGhpcy5lbWl0KEJvLkNBTUVSQV9ERVZJQ0VfQ0hBTkdFRCxyKTticmVhaztjYXNlXCJhdWRpb291dHB1dFwiOnRoaXMubGFzdEFjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uJiZ0aGlzLmlzQWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb24mJnRoaXMuZW1pdChCby5QTEFZT1VUX0RFVklDRV9DSEFOR0VELHIpO319KSxpLmF1ZGlvJiYodGhpcy5sYXN0QWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb249ITAsdGhpcy5pc0FjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uPSEwKSxpLnZpZGVvJiYodGhpcy5sYXN0QWNjZXNzQ2FtZXJhUGVybWlzc2lvbj0hMCx0aGlzLmlzQWNjZXNzQ2FtZXJhUGVybWlzc2lvbj0hMCk7fWNoZWNrTWVkaWFEZXZpY2VJbmZvSXNPayh0KXtsZXQgZT10LmZpbHRlcihyPT5yLmtpbmQ9PT1cImF1ZGlvaW5wdXRcIiksbj10LmZpbHRlcihyPT5yLmtpbmQ9PT1cInZpZGVvaW5wdXRcIiksaT17YXVkaW86ITEsdmlkZW86ITF9O2ZvcihsZXQgciBvZiBlKWlmKHIubGFiZWwmJnIuZGV2aWNlSWQpe2kuYXVkaW89ITA7YnJlYWt9Zm9yKGxldCByIG9mIG4paWYoci5sYWJlbCYmci5kZXZpY2VJZCl7aS52aWRlbz0hMDticmVha31yZXR1cm4gaX19LGFfPSExLFVuPW5ldyBjbGFzcyBleHRlbmRzIFh0e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSxQKHRoaXMsXCJvbkF1dG9wbGF5RmFpbGVkXCIsdm9pZCAwKSxQKHRoaXMsXCJvbkF1ZGlvQXV0b3BsYXlGYWlsZWRcIix2b2lkIDApO319O2Z1bmN0aW9uIHpPKCl7aWYobXQoKSwhYV8pe2xldCB0PWU9PntlLnByZXZlbnREZWZhdWx0KCksYV89ITEseWMoKT9kb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHQsITApOihkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdCwhMCksZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdCwhMCkpO307YV89ITAseWMoKT9kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHQsITApOihkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdCwhMCksZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdCwhMCkpLF8uaW5mbyhcImRldGVjdCBtZWRpYSBhdXRvcGxheSBmYWlsZWQsIGRvY3VtZW50OiBodHRwczovL2RvY3MuYWdvcmEuaW8vY24vVm9pY2UvYXV0b3BsYXlfcG9saWN5X3dlYl9uZz9wbGF0Zm9ybT1XZWJcIiksVW4ub25BdXRvcGxheUZhaWxlZD9Vbi5vbkF1dG9wbGF5RmFpbGVkKCk6VW4ub25BdWRpb0F1dG9wbGF5RmFpbGVkP18ud2FybmluZyhgQWdvcmFSVEMub25BdWRpb0F1dG9wbGF5RmFpbGVkIGhhcyBiZWVuIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgQWdvcmFSVEMub25BdXRvcGxheUZhaWxlZC5cblxuICBQbGVhc2UgcmVmZXIgdG8gdGhlIEFnb3JhIGRvY3VtZW50IHRvIG1pZ3JhdGUgdGhlIG5ld2VyIEFQSSwgaHR0cHM6Ly9kb2NzLmFnb3JhLmlvL2VuL1ZvaWNlL2F1dG9wbGF5X3BvbGljeV93ZWJfbmc/cGxhdGZvcm09V2ViIC5gKTpfLndhcm5pbmcoYFdlIGhhdmUgZGV0ZWN0ZWQgYSBtZWRpYSBhdXRvcGxheSBmYWlsZWQgZXZlbnQsIGFuZCBmb3VuZCBvdXQgdGhhdCB5b3UgaGF2ZW4ndCBpbXBsZW1lbnRlZCBBZ29yYVJUQy5vbkF1dG9wbGF5RmFpbGVkIGNhbGxiYWNrIHlldC5cblxuICBJdCB3aWxsIGNhdXNlIGF1ZGlvL3ZpZGVvIGVsZW1lbnQgbm90IHBsYXlpbmcgYXV0b21hdGljYWxseSBvbiBzb21lIGJyb3dzZXJzIHdpdGhvdXQgdXNlciBpbnRlcmFjdGlvbiwgcG9zc2libHkgaHVydGluZyB1c2VyIGV4cGVyaWVuY2VzLlxuXG4gIFBsZWFzZSByZWZlciB0byB0aGUgQWdvcmEgZG9jdW1lbnQgdG8gcHJvcGVybHkgaGFuZGxlIGF1dG9wbGF5IGZhaWxlZCBldmVudCwgaHR0cHM6Ly9kb2NzLmFnb3JhLmlvL2VuL1ZvaWNlL2F1dG9wbGF5X3BvbGljeV93ZWJfbmc/cGxhdGZvcm09V2ViIC5gKSxVbi5lbWl0KFwiYXV0b3BsYXktZmFpbGVkXCIpO319ZnVuY3Rpb24gSk8odCxlLG4saSl7aWYoIXQpcmV0dXJuO2xldCByPVguZ2V0QmFzZUluZm9CeVNlc3Npb25JZCh0KTtpZighcilyZXR1cm47bGV0IG89ci5pbmZvLHM9RGF0ZS5ub3coKSxhPUt0KEt0KHt9LG8pLHt9LHt2aWQ6by52aWQ9PT12b2lkIDA/MDpOdW1iZXIoby52aWQpLGx0czpzLGVsYXBzZTpzLXIuc3RhcnRUaW1lLGNiUmVnaXN0ZXJlZDpVbi5vbkF1dG9wbGF5RmFpbGVkfHxVbi5vbkF1ZGlvQXV0b3BsYXlGYWlsZWQ/MTotMSxlcnJvck1zZzpuLG1lZGlhVHlwZTplLHRyYWNrSWQ6aSxleHRlbmQ6dm9pZCAwfSk7WC5zZW5kKHt0eXBlOkp0LkFVVE9QTEFZX0ZBSUxFRCxkYXRhOmF9LCEwKTt9dmFyIFVHPVtcInBsYXlcIixcInBsYXlpbmdcIixcImxvYWRlZGRhdGFcIixcImNhbnBsYXlcIixcInBhdXNlXCIsXCJzdGFsbGVkXCIsXCJzdXNwZW5kXCIsXCJ3YWl0aW5nXCIsXCJhYm9ydFwiLFwiZW1wdGllZFwiLFwiZW5kZWRcIixcImVycm9yXCJdLEVuPW5ldyBjbGFzc3tjb25zdHJ1Y3Rvcigpe1AodGhpcyxcIm9uQXV0b3BsYXlGYWlsZWRcIix2b2lkIDApLFAodGhpcyxcImVsZW1lbnRNYXBcIixuZXcgTWFwKSxQKHRoaXMsXCJlbGVtZW50U3RhdGVNYXBcIixuZXcgTWFwKSxQKHRoaXMsXCJlbGVtZW50c05lZWRUb1Jlc3VtZVwiLFtdKSxQKHRoaXMsXCJzaW5rSWRNYXBcIixuZXcgTWFwKSxQKHRoaXMsXCJhdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb25cIix0PT57QXJyYXkuZnJvbSh0aGlzLmVsZW1lbnRNYXAuZW50cmllcygpKS5mb3JFYWNoKGU9PntsZXRbbixpXT1lLHI9dGhpcy5lbGVtZW50U3RhdGVNYXAuZ2V0KG4pLG89aS5zcmNPYmplY3QuZ2V0QXVkaW9UcmFja3MoKVswXSxzPW8mJm8ucmVhZHlTdGF0ZTtpZihfLmRlYnVnKFwicmVzdW1lIGFmdGVyIGludGVycnVwdGVkLCBlbGU6IFwiLmNvbmNhdChyLFwiIGF1ZGlvOiBcIikuY29uY2F0KHMsXCIgXCIpLmNvbmNhdCh0KSkscz09PVwibGl2ZVwiKXtpZih0KXJldHVybiBpLnBhdXNlKCksdm9pZCBpLnBsYXkoKTtpZih3dC5jdXJTdGF0ZT09PVwicnVubmluZ1wiKXJldHVybiBacygpPyhpLnBhdXNlKCksdm9pZCBpLnBsYXkoKSk6dm9pZChyJiZyPT09XCJwYXVzZWRcIiYmaS5wbGF5KCkpfX0pO30pLFAodGhpcyxcImF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvbk9uSU9TMTVfMTZcIiwoKT0+e0FycmF5LmZyb20odGhpcy5lbGVtZW50TWFwLmVudHJpZXMoKSkuZm9yRWFjaCh0PT57bGV0W2Usbl09dCxpPW4uc3JjT2JqZWN0LmdldEF1ZGlvVHJhY2tzKClbMF07aSYmaS5yZWFkeVN0YXRlPT09XCJsaXZlXCImJihfLmRlYnVnKFwiYXV0byByZXN1bWUgYWZ0ZXIgaW50ZXJydXB0aW9uIGluc2lkZSBhdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb25PbklPUzE1XCIpLG4ucGF1c2UoKSxuLnBsYXkoKSk7fSk7fSksdGhpcy5hdXRvUmVzdW1lQXVkaW9FbGVtZW50KCksd3Qub24oa2UuSU9TX0lOVEVSUlVQVElPTl9FTkQsdGhpcy5hdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb24pLHd0Lm9uKGtlLklPU18xNV8xNl9JTlRFUlJVUFRJT05fRU5ELHRoaXMuYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uT25JT1MxNV8xNiksd3Qub24oa2UuU1RBVEVfQ0hBTkdFLCgpPT57bG4oKSYmd3QucHJldlN0YXRlPT09XCJzdXNwZW5kZWRcIiYmd3QuY3VyU3RhdGU9PT1cInJ1bm5pbmdcIiYmdGhpcy5hdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb24oKTt9KTt9YXN5bmMgc2V0U2lua0lEKHQsZSl7bGV0IG49dGhpcy5lbGVtZW50TWFwLmdldCh0KTtpZih0aGlzLnNpbmtJZE1hcC5zZXQodCxlKSxuKXRyeXthd2FpdCBuLnNldFNpbmtJZChlKTt9Y2F0Y2goaSl7dGhyb3cgbmV3IE4oUi5QRVJNSVNTSU9OX0RFTklFRCxcImNhbiBub3Qgc2V0IHNpbmsgaWQ6IFwiK2kudG9TdHJpbmcoKSl9fXBsYXkodCxlLG4saSl7aWYodGhpcy5lbGVtZW50TWFwLmhhcyhlKSlyZXR1cm47bGV0IHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpO3IuYXV0b3BsYXk9ITAsci5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFt0XSksdGhpcy5iaW5kQXVkaW9FbGVtZW50RXZlbnRzKGUsciksdGhpcy5lbGVtZW50TWFwLnNldChlLHIpLHRoaXMuZWxlbWVudFN0YXRlTWFwLnNldChlLG5uLklOSVQpLHRoaXMuc2V0Vm9sdW1lKGUsbik7bGV0IG89dGhpcy5zaW5rSWRNYXAuZ2V0KGUpO2lmKG8pdHJ5e3Iuc2V0U2lua0lkKG8pLmNhdGNoKGE9PntfLndhcm5pbmcoXCJbXCIuY29uY2F0KGUsXCJdIHNldCBzaW5rIGlkIGZhaWxlZFwiKSxhLnRvU3RyaW5nKCkpO30pO31jYXRjaChhKXtfLndhcm5pbmcoXCJbXCIuY29uY2F0KGUsXCJdIHNldCBzaW5rIGlkIGZhaWxlZFwiKSxhLnRvU3RyaW5nKCkpO31sZXQgcz1yLnBsYXkoKTtzJiZzLnRoZW4mJnMuY2F0Y2goYT0+e2kmJkpPKGksXCJhdWRpb1wiLGEubWVzc2FnZSxlKSxfLndhcm5pbmcoXCJhdWRpbyBlbGVtZW50IHBsYXkgd2FybmluZ1wiLGEudG9TdHJpbmcoKSksdGhpcy5lbGVtZW50TWFwLmhhcyhlKSYmYS5uYW1lPT09XCJOb3RBbGxvd2VkRXJyb3JcIiYmKF8ud2FybmluZyhcImRldGVjdGVkIGF1ZGlvIGVsZW1lbnQgYXV0b3BsYXkgZmFpbGVkXCIpLHRoaXMuZWxlbWVudHNOZWVkVG9SZXN1bWUucHVzaChyKSxxdSgoKT0+e3RoaXMub25BdXRvcGxheUZhaWxlZCYmdGhpcy5vbkF1dG9wbGF5RmFpbGVkKCksek8oKTt9KSk7fSk7fXVwZGF0ZVRyYWNrKHQsZSl7bGV0IG49dGhpcy5lbGVtZW50TWFwLmdldCh0KTtuJiYobi5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFtlXSkpO31pc1BsYXlpbmcodCl7cmV0dXJuIHRoaXMuZWxlbWVudE1hcC5oYXModCkmJnRoaXMuZWxlbWVudFN0YXRlTWFwLmdldCh0KT09PVwicGxheWluZ1wifXNldFZvbHVtZSh0LGUpe2xldCBuPXRoaXMuZWxlbWVudE1hcC5nZXQodCk7biYmKGU9TWF0aC5tYXgoMCxNYXRoLm1pbigxMDAsZSkpLG4udm9sdW1lPWUvMTAwKTt9c3RvcCh0KXtsZXQgZT10aGlzLmVsZW1lbnRNYXAuZ2V0KHQpO2lmKHRoaXMuc2lua0lkTWFwLmRlbGV0ZSh0KSwhZSlyZXR1cm47bGV0IG49dGhpcy5lbGVtZW50c05lZWRUb1Jlc3VtZS5pbmRleE9mKGUpO3RoaXMuZWxlbWVudHNOZWVkVG9SZXN1bWUuc3BsaWNlKG4sMSksZS5zcmNPYmplY3Q9bnVsbCxlLnJlbW92ZSgpLHRoaXMuZWxlbWVudE1hcC5kZWxldGUodCksdGhpcy5lbGVtZW50U3RhdGVNYXAuZGVsZXRlKHQpO31iaW5kQXVkaW9FbGVtZW50RXZlbnRzKHQsZSl7VUcuZm9yRWFjaChuPT57ZS5hZGRFdmVudExpc3RlbmVyKG4saT0+e2xldCByPXRoaXMuZWxlbWVudFN0YXRlTWFwLmdldCh0KSxvPWkudHlwZT09PVwicGF1c2VcIj9cInBhdXNlZFwiOmkudHlwZTtpZihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0LFwiXSBhdWRpby1lbGVtZW50LXN0YXR1cyBjaGFuZ2UgXCIpLmNvbmNhdChyLFwiID0+IFwiKS5jb25jYXQobykpLGkudHlwZT09PVwiZXJyb3JcIil7bGV0IHM9ZT8uZXJyb3I7cyYmXy5lcnJvcihcIltcIi5jb25jYXQodCxcIl0gbWVkaWEgZXJyb3IsIGNvZGU6IFwiKS5jb25jYXQocy5jb2RlLFwiLCBtZXNzYWdlOiBcIikuY29uY2F0KHMubWVzc2FnZSkpO310aGlzLmVsZW1lbnRTdGF0ZU1hcC5zZXQodCxvKTt9KTt9KTt9Z2V0UGxheWVyU3RhdGUodCl7cmV0dXJuIHRoaXMuZWxlbWVudFN0YXRlTWFwLmdldCh0KXx8XCJ1bmluaXRcIn1hdXRvUmVzdW1lQXVkaW9FbGVtZW50KCl7bGV0IHQ9KCk9Pnt0aGlzLmVsZW1lbnRzTmVlZFRvUmVzdW1lLmZvckVhY2goZT0+e2UucGxheSgpLnRoZW4obj0+e18uZGVidWcoXCJBdXRvIHJlc3VtZSBhdWRpbyBlbGVtZW50IHN1Y2Nlc3NcIik7fSkuY2F0Y2gobj0+e18ud2FybmluZyhcIkF1dG8gcmVzdW1lIGF1ZGlvIGVsZW1lbnQgZmFpbGVkIVwiLG4pO30pO30pLHRoaXMuZWxlbWVudHNOZWVkVG9SZXN1bWU9W107fTtuZXcgaihlPT57ZG9jdW1lbnQuYm9keT9lKCk6d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsKCk9PmUoKSk7fSkudGhlbigoKT0+e3ljKCk/ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0LCEwKTooZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHQsITApLGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHQsITApKTt9KTt9fTtmdW5jdGlvbiBzZSgpe3JldHVybiBmdW5jdGlvbih0LGUsbil7bGV0IGk9bi52YWx1ZTtyZXR1cm4gdHlwZW9mIGk9PVwiZnVuY3Rpb25cIiYmKG4udmFsdWU9ZnVuY3Rpb24oKXt0aGlzLl9pc0Nsb3NlZCYmbmV3IE4oUi5JTlZBTElEX09QRVJBVElPTixcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIGNhbm5vdCBvcGVyYXRlIGEgY2xvc2VkIHRyYWNrXCIpKS5wcmludChcIndhcm5pbmdcIixfKTtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxvPW5ldyBBcnJheShyKSxzPTA7czxyO3MrKylvW3NdPWFyZ3VtZW50c1tzXTtsZXQgYT1pLmFwcGx5KHRoaXMsbyk7cmV0dXJuIGEgaW5zdGFuY2VvZiBqP25ldyBqKChjLGQpPT57YS50aGVuKGMpLmNhdGNoKGQpO30pOmF9KSxufX12YXIgdHU9Y2xhc3MgZXh0ZW5kcyBYdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLFAodGhpcyxcIm5hbWVcIixcIlZpZGVvUHJvY2Vzc29yRGVzdGluYXRpb25cIiksUCh0aGlzLFwiSURcIixcIjBcIiksUCh0aGlzLFwiX3NvdXJjZVwiLHZvaWQgMCksUCh0aGlzLFwidmlkZW9Db250ZXh0XCIsdm9pZCAwKSxQKHRoaXMsXCJpbnB1dFRyYWNrXCIsdm9pZCAwKSx0aGlzLnZpZGVvQ29udGV4dD1lO31nZXQga2luZCgpe3JldHVybiBcInZpZGVvXCJ9Z2V0IGVuYWJsZWQoKXtyZXR1cm4gITB9cGlwZSgpe3Rocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcIlZpZGVvUHJvY2Vzc29yIGNhbm5vdCBwaXBlIHRvIGFueSBvdGhlciBQcm9jZXNzb3JcIil9dW5waXBlKCl7dGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwiVmlkZW9Qcm9jZXNzb3IgY2Fubm90IHVucGlwZSB0byBhbnkgb3RoZXIgUHJvY2Vzc29yXCIpfWVuYWJsZSgpe31kaXNhYmxlKCl7fXVwZGF0ZUlucHV0KGUpe2lmKGUuY29udGV4dCE9PXRoaXMudmlkZW9Db250ZXh0KXRocm93IG5ldyBFcnJvcihgUHJvY2Vzc29yQ29udGV4dCBwYXNzZWQgdG8gVmlkZW9UcmFjay5wcm9jZXNzb3JEZXN0aW5hdGlvbiBkb2Vzbid0IG1hdGNoIGl0J3MgYmVsb25naW5nIFZpZGVvVHJhY2sncyBjb250ZXh0LlxuUHJvYmFibHkgeW91IGFyZSBtYWtpbmcgcGlwZWxpbmUgbGlrZSB0aGlzOlxudmlkZW9UcmFjazEucGlwZShwcm9jZXNzb3IpLnBpcGUodmlkZW9UcmFjazIucHJvY2Vzc29yRGVzdGluYXRpb24pLmApO2UudHJhY2smJmUudHJhY2shPT10aGlzLmlucHV0VHJhY2smJih0aGlzLnZpZGVvQ29udGV4dC5jaGFpbmVkPSEwLHRoaXMuaW5wdXRUcmFjaz1lLnRyYWNrLHRoaXMuZW1pdCh1bi5PTl9UUkFDSyxlLnRyYWNrKSk7fXJlc2V0KCl7dGhpcy5pbnB1dFRyYWNrPXZvaWQgMCx0aGlzLnZpZGVvQ29udGV4dC5jaGFpbmVkPSExLHRoaXMuZW1pdCh1bi5PTl9UUkFDSyx2b2lkIDApO319LGV1PWNsYXNzIGV4dGVuZHMgWHR7c2V0IGNoYWluZWQoZSl7dGhpcy5fY2hhaW5lZD1lO31nZXQgY2hhaW5lZCgpe3JldHVybiB0aGlzLl9jaGFpbmVkfWNvbnN0cnVjdG9yKGUsbil7c3VwZXIoKSxQKHRoaXMsXCJjb25zdHJhaW50c01hcFwiLG5ldyBNYXApLFAodGhpcyxcInN0YXRzUmVnaXN0cnlcIixbXSksUCh0aGlzLFwidXNhZ2VSZWdpc3RyeVwiLFtdKSxQKHRoaXMsXCJ0cmFja0lkXCIsdm9pZCAwKSxQKHRoaXMsXCJkaXJlY3Rpb25cIix2b2lkIDApLFAodGhpcyxcIl9jaGFpbmVkXCIsITEpLHRoaXMudHJhY2tJZD1lLHRoaXMuZGlyZWN0aW9uPW47fWFzeW5jIGdldENvbnN0cmFpbnRzKCl7cmV0dXJuIGF3YWl0IEdlKHRoaXMsV24uUkVRVUVTVF9DT05TVFJBSU5UUyl9YXN5bmMgcmVxdWVzdEFwcGx5Q29uc3RyYWludHMoZSxuKXt2YXIgaTtyZXR1cm4gXy5pbmZvKFwicHJvY2Vzc29yIFwiLmNvbmNhdChuLm5hbWUsXCIgcmVxdWVzdEFwcGx5Q29uc3RyYWludHMgZm9yIFwiKS5jb25jYXQodGhpcy50cmFja0lkKSksZSYmdGhpcy5jb25zdHJhaW50c01hcC5zZXQobixlKSxrdCh0aGlzLFduLlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTLEFycmF5LmZyb20oUHIoaT10aGlzLmNvbnN0cmFpbnRzTWFwKS5jYWxsKGkpKSl9YXN5bmMgcmVxdWVzdFJldmVydENvbnN0cmFpbnRzKGUpe3ZhciBuO2lmKHRoaXMuY29uc3RyYWludHNNYXAuaGFzKGUpKXJldHVybiBfLmluZm8oXCJwcm9jZXNzb3IgXCIuY29uY2F0KGUubmFtZSxcIiByZXF1ZXN0UmV2ZXJ0Q29uc3RyYWludHMgZm9yIFwiKS5jb25jYXQodGhpcy50cmFja0lkKSksdGhpcy5jb25zdHJhaW50c01hcC5kZWxldGUoZSksa3QodGhpcyxXbi5SRVFVRVNUX1VQREFURV9DT05TVFJBSU5UUyxBcnJheS5mcm9tKFByKG49dGhpcy5jb25zdHJhaW50c01hcCkuY2FsbChuKSkpfXJlZ2lzdGVyU3RhdHMoZSxuLGkpe3RoaXMuc3RhdHNSZWdpc3RyeS5maW5kKHI9PnIucHJvY2Vzc29ySUQ9PT1lLklEJiZyLnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUmJnIudHlwZT09PW4pfHx0aGlzLnN0YXRzUmVnaXN0cnkucHVzaCh7cHJvY2Vzc29yTmFtZTplLm5hbWUscHJvY2Vzc29ySUQ6ZS5JRCx0eXBlOm4sY2I6aX0pO311bnJlZ2lzdGVyU3RhdHMoZSxuKXtsZXQgaT10aGlzLnN0YXRzUmVnaXN0cnkuZmluZEluZGV4KHI9PnIucHJvY2Vzc29ySUQ9PT1lLklEJiZyLnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUmJnIudHlwZT09PW4pO2khPT0tMSYmdGhpcy5zdGF0c1JlZ2lzdHJ5LnNwbGljZShpLDEpO31nYXRoZXJTdGF0cygpe2xldCBlPVtdO2ZvcihsZXR7cHJvY2Vzc29ySUQ6bixwcm9jZXNzb3JOYW1lOmksdHlwZTpyLGNiOm99b2YgdGhpcy5zdGF0c1JlZ2lzdHJ5KXRyeXtsZXQgcz1vKCk7ZS5wdXNoKHtwcm9jZXNzb3JJRDpuLHByb2Nlc3Nvck5hbWU6aSx0eXBlOnIsc3RhdHM6c30pO31jYXRjaChzKXtfLmVycm9yKG5ldyBOKFIuVU5FWFBFQ1RFRF9FUlJPUixzLm1lc3NhZ2UpKTt9cmV0dXJuIGV9cmVnaXN0ZXJVc2FnZShlLG4pe3RoaXMudXNhZ2VSZWdpc3RyeS5maW5kKGk9PmkucHJvY2Vzc29ySUQ9PT1lLklEJiZpLnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUpfHx0aGlzLnVzYWdlUmVnaXN0cnkucHVzaCh7cHJvY2Vzc29ySUQ6ZS5JRCxwcm9jZXNzb3JOYW1lOmUubmFtZSxjYjpufSk7fXVucmVnaXN0ZXJVc2FnZShlKXtsZXQgbj10aGlzLnVzYWdlUmVnaXN0cnkuZmluZEluZGV4KGk9PmkucHJvY2Vzc29ySUQ9PT1lLklEJiZpLnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUpO24hPT0tMSYmdGhpcy51c2FnZVJlZ2lzdHJ5LnNwbGljZShuLDEpO31hc3luYyBnYXRoZXJVc2FnZSgpe2xldCBlPVtdO2lmKCF0aGlzLmNoYWluZWQpcmV0dXJuIFtdO2ZvcihsZXR7Y2I6bn1vZiB0aGlzLnVzYWdlUmVnaXN0cnkpdHJ5e2xldCBpPW4oKTtpIGluc3RhbmNlb2YgaiYmKGk9YXdhaXQgaSksZS5wdXNoKEt0KEt0KHt9LGkpLHt9LHtkaXJlY3Rpb246dGhpcy5kaXJlY3Rpb259KSk7fWNhdGNoKGkpe18uZXJyb3IoXCJnYXRoZXIgZXh0ZW5zaW9uIHVzYWdlIGVycm9yXCIsaSk7fXJldHVybiBlfWdldERpcmVjdGlvbigpe3JldHVybiB0aGlzLmRpcmVjdGlvbn19LG51PWNsYXNzIGV4dGVuZHMgWHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSxQKHRoaXMsXCJuYW1lXCIsXCJBdWRpb1Byb2Nlc3NvckRlc3RpbmF0aW9uXCIpLFAodGhpcyxcIklEXCIsXCIwXCIpLFAodGhpcyxcImlucHV0VHJhY2tcIix2b2lkIDApLFAodGhpcyxcImlucHV0Tm9kZVwiLHZvaWQgMCksUCh0aGlzLFwiYXVkaW9Qcm9jZXNzb3JDb250ZXh0XCIsdm9pZCAwKSxQKHRoaXMsXCJfc291cmNlXCIsdm9pZCAwKSx0aGlzLmF1ZGlvUHJvY2Vzc29yQ29udGV4dD1lO31nZXQga2luZCgpe3JldHVybiBcImF1ZGlvXCJ9Z2V0IGVuYWJsZWQoKXtyZXR1cm4gITB9cGlwZSgpe3Rocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcIkF1ZGlvUHJvY2Vzc29yRGVzdGluYXRpb24gY2Fubm90IHBpcGUgdG8gYW55IG90aGVyIFByb2Nlc3NvclwiKX11bnBpcGUoKXt0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJBdWRpb1Byb2Nlc3NvciBjYW5ub3QgdW5waXBlIHRvIGFueSBvdGhlciBQcm9jZXNzb3JcIil9ZW5hYmxlKCl7fWRpc2FibGUoKXt9cmVzZXQoKXt0aGlzLmlucHV0VHJhY2s9dm9pZCAwLHRoaXMuaW5wdXROb2RlPXZvaWQgMCx0aGlzLmF1ZGlvUHJvY2Vzc29yQ29udGV4dC5jaGFpbmVkPSExLHRoaXMuZW1pdCh1bi5PTl9UUkFDSyx2b2lkIDApLHRoaXMuZW1pdCh1bi5PTl9OT0RFLHZvaWQgMCk7fXVwZGF0ZUlucHV0KGUpe2lmKGUuY29udGV4dCE9PXRoaXMuYXVkaW9Qcm9jZXNzb3JDb250ZXh0KXRocm93IG5ldyBFcnJvcihgUHJvY2Vzc29yQ29udGV4dCBwYXNzZWQgdG8gQXVkaW9UcmFjay5wcm9jZXNzb3JEZXN0aW5hdGlvbiBkb2Vzbid0IG1hdGNoIGl0J3MgYmVsb25naW5nIEF1ZGlvVHJhY2sncyBjb250ZXh0LlxuICAgICAgICBQcm9iYWJseSB5b3UgYXJlIG1ha2luZyBwaXBlbGluZSBsaWtlIHRoaXM6IGF1ZGlvVHJhY2sxLnBpcGUocHJvY2Vzc29yKS5waXBlKGF1ZGlvVHJhY2syLnByb2Nlc3NvckRlc3RpbmF0aW9uKS5gKTtlLnRyYWNrJiZ0aGlzLmlucHV0VHJhY2shPT1lLnRyYWNrJiYodGhpcy5hdWRpb1Byb2Nlc3NvckNvbnRleHQuY2hhaW5lZD0hMCx0aGlzLmlucHV0VHJhY2s9ZS50cmFjayx0aGlzLmVtaXQodW4uT05fVFJBQ0ssdGhpcy5pbnB1dFRyYWNrKSksZS5ub2RlJiZ0aGlzLmlucHV0Tm9kZSE9PWUubm9kZSYmKHRoaXMuYXVkaW9Qcm9jZXNzb3JDb250ZXh0LmNoYWluZWQ9ITAsdGhpcy5pbnB1dE5vZGU9ZS5ub2RlLHRoaXMuZW1pdCh1bi5PTl9OT0RFLHRoaXMuaW5wdXROb2RlKSk7fX0saXU9Y2xhc3MgZXh0ZW5kcyBYdHtzZXQgY2hhaW5lZChlKXt0aGlzLl9jaGFpbmVkPWU7fWdldCBjaGFpbmVkKCl7cmV0dXJuIHRoaXMuX2NoYWluZWR9Y29uc3RydWN0b3IoZSxuLGkpe3N1cGVyKCksUCh0aGlzLFwiY29uc3RyYWludHNNYXBcIixuZXcgTWFwKSxQKHRoaXMsXCJzdGF0c1JlZ2lzdHJ5XCIsW10pLFAodGhpcyxcImF1ZGlvQ29udGV4dFwiLHZvaWQgMCksUCh0aGlzLFwidHJhY2tJZFwiLHZvaWQgMCksUCh0aGlzLFwiZGlyZWN0aW9uXCIsdm9pZCAwKSxQKHRoaXMsXCJ1c2FnZVJlZ2lzdHJ5XCIsW10pLFAodGhpcyxcIl9jaGFpbmVkXCIsITEpLHRoaXMuYXVkaW9Db250ZXh0PWUsdGhpcy50cmFja0lkPW4sdGhpcy5kaXJlY3Rpb249aTt9YXN5bmMgZ2V0Q29uc3RyYWludHMoKXtyZXR1cm4gR2UodGhpcyxXbi5SRVFVRVNUX0NPTlNUUkFJTlRTKX1nZXRBdWRpb0NvbnRleHQoKXtyZXR1cm4gdGhpcy5hdWRpb0NvbnRleHR9YXN5bmMgcmVxdWVzdEFwcGx5Q29uc3RyYWludHMoZSxuKXt2YXIgaTtyZXR1cm4gXy5pbmZvKFwicHJvY2Vzc29yIFwiLmNvbmNhdChuLm5hbWUsXCIgcmVxdWVzdEFwcGx5Q29uc3RyYWludHMgZm9yIFwiKS5jb25jYXQodGhpcy50cmFja0lkKSksZSYmdGhpcy5jb25zdHJhaW50c01hcC5zZXQobixlKSxrdCh0aGlzLFduLlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTLEFycmF5LmZyb20oUHIoaT10aGlzLmNvbnN0cmFpbnRzTWFwKS5jYWxsKGkpKSl9YXN5bmMgcmVxdWVzdFJldmVydENvbnN0cmFpbnRzKGUpe3ZhciBuO2lmKHRoaXMuY29uc3RyYWludHNNYXAuaGFzKGUpKXJldHVybiB0aGlzLmNvbnN0cmFpbnRzTWFwLmRlbGV0ZShlKSxrdCh0aGlzLFduLlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTLEFycmF5LmZyb20oUHIobj10aGlzLmNvbnN0cmFpbnRzTWFwKS5jYWxsKG4pKSl9cmVnaXN0ZXJTdGF0cyhlLG4saSl7dGhpcy5zdGF0c1JlZ2lzdHJ5LmZpbmQocj0+ci5wcm9jZXNzb3JJRD09PWUuSUQmJnIucHJvY2Vzc29yTmFtZT09PWUubmFtZSYmci50eXBlPT09bil8fHRoaXMuc3RhdHNSZWdpc3RyeS5wdXNoKHtwcm9jZXNzb3JOYW1lOmUubmFtZSxwcm9jZXNzb3JJRDplLklELHR5cGU6bixjYjppfSk7fXVucmVnaXN0ZXJTdGF0cyhlLG4pe2xldCBpPXRoaXMuc3RhdHNSZWdpc3RyeS5maW5kSW5kZXgocj0+ci5wcm9jZXNzb3JJRD09PWUuSUQmJnIucHJvY2Vzc29yTmFtZT09PWUubmFtZSYmci50eXBlPT09bik7aSE9PS0xJiZ0aGlzLnN0YXRzUmVnaXN0cnkuc3BsaWNlKGksMSk7fWdhdGhlclN0YXRzKCl7bGV0IGU9W107Zm9yKGxldHtwcm9jZXNzb3JJRDpuLHByb2Nlc3Nvck5hbWU6aSx0eXBlOnIsY2I6b31vZiB0aGlzLnN0YXRzUmVnaXN0cnkpdHJ5e2xldCBzPW8oKTtlLnB1c2goe3Byb2Nlc3NvcklEOm4scHJvY2Vzc29yTmFtZTppLHR5cGU6cixzdGF0czpzfSk7fWNhdGNoKHMpe18uZXJyb3IobmV3IE4oUi5VTkVYUEVDVEVEX0VSUk9SLHMubWVzc2FnZSkpO31yZXR1cm4gZX1yZWdpc3RlclVzYWdlKGUsbil7dGhpcy51c2FnZVJlZ2lzdHJ5LmZpbmQoaT0+aS5wcm9jZXNzb3JJRD09PWUuSUQmJmkucHJvY2Vzc29yTmFtZT09PWUubmFtZSl8fHRoaXMudXNhZ2VSZWdpc3RyeS5wdXNoKHtwcm9jZXNzb3JJRDplLklELHByb2Nlc3Nvck5hbWU6ZS5uYW1lLGNiOm59KTt9dW5yZWdpc3RlclVzYWdlKGUpe2xldCBuPXRoaXMudXNhZ2VSZWdpc3RyeS5maW5kSW5kZXgoaT0+aS5wcm9jZXNzb3JJRD09PWUuSUQmJmkucHJvY2Vzc29yTmFtZT09PWUubmFtZSk7biE9PS0xJiZ0aGlzLnVzYWdlUmVnaXN0cnkuc3BsaWNlKG4sMSk7fWFzeW5jIGdhdGhlclVzYWdlKCl7bGV0IGU9W107aWYoIXRoaXMuY2hhaW5lZClyZXR1cm4gW107Zm9yKGxldHtjYjpufW9mIHRoaXMudXNhZ2VSZWdpc3RyeSl0cnl7bGV0IGk9bigpO2kgaW5zdGFuY2VvZiBqJiYoaT1hd2FpdCBpKSxlLnB1c2goS3QoS3Qoe30saSkse30se2RpcmVjdGlvbjp0aGlzLmRpcmVjdGlvbn0pKTt9Y2F0Y2goaSl7Xy5lcnJvcihcImdhdGhlciBleHRlbnNpb24gdXNhZ2UgZXJyb3JcIixpKTt9cmV0dXJuIGV9Z2V0RGlyZWN0aW9uKCl7cmV0dXJuIHRoaXMuZGlyZWN0aW9ufX0sUGM9Y2xhc3MgZXh0ZW5kcyBYdHtnZXQgaXNQbGF5ZWQoKXtyZXR1cm4gITB9Z2V0IGlzRnJlZXplKCl7cmV0dXJuICExfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSxQKHRoaXMsXCJjb250ZXh0XCIsdm9pZCAwKSxQKHRoaXMsXCJwcm9jZXNzU291cmNlTm9kZVwiLHZvaWQgMCksUCh0aGlzLFwib3V0cHV0VHJhY2tcIix2b2lkIDApLFAodGhpcyxcInByb2Nlc3NlZE5vZGVcIix2b2lkIDApLFAodGhpcyxcImNsb25lZFRyYWNrXCIsdm9pZCAwKSxQKHRoaXMsXCJvdXRwdXROb2RlXCIsdm9pZCAwKSx0aGlzLm91dHB1dE5vZGU9bmV3IHpFO31zZXRWb2x1bWUoKXt9Y3JlYXRlT3V0cHV0VHJhY2soKXt0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJjYW4gbm90IGNyZWF0ZSBvdXRwdXQgTWVkaWFTdHJlYW1UcmFjayB3aGVuIFdlYkF1ZGlvIGRpc2FibGVkXCIpfWdldE9yaWdpblZvbHVtZUxldmVsKCl7cmV0dXJuIDB9Z2V0QWNjdXJhdGVWb2x1bWVMZXZlbCgpe3JldHVybiAwfXN0b3BHZXRBdWRpb0J1ZmZlcigpe31zdGFydEdldEF1ZGlvQnVmZmVyKCl7fXBsYXkoKXt9c3RvcCgpe31kZXN0cm95KCl7fXVwZGF0ZVRyYWNrKCl7fXVwZGF0ZU9yaWdpblRyYWNrKCl7fWNyZWF0ZU1lZGlhU3RyZWFtU291cmNlTm9kZSgpe319LHpFPWNsYXNze2Rpc2Nvbm5lY3QoKXt9Y29ubmVjdCgpe319O2Z1bmN0aW9uIFhPKHQpe3JldHVybiBuZXcgaigoZSxuKT0+e2xldCBpPSExLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO3Iuc2V0QXR0cmlidXRlKFwiYXV0b3BsYXlcIixcIlwiKSxyLnNldEF0dHJpYnV0ZShcIm11dGVkXCIsXCJcIiksci5tdXRlZD0hMCxyLmF1dG9wbGF5PSEwLHIuc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcIlwiKSxyLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDFweDsgaGVpZ2h0OiAxcHhcIiksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyKTtsZXQgbz1sbigpP1wiY2FucGxheVwiOlwicGxheWluZ1wiO3IuYWRkRXZlbnRMaXN0ZW5lcihvLCgpPT57bGV0IHM9ci52aWRlb1dpZHRoLGE9ci52aWRlb0hlaWdodDshcyYmJHQoKXx8KGk9ITAsci5zcmNPYmplY3Q9bnVsbCxyLnJlbW92ZSgpLGUoW3MsYV0pKTt9KSxyLnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW3RdKSxyLnBsYXkoKS5jYXRjaCh6dSksc2V0VGltZW91dCgoKT0+e2l8fChyLnNyY09iamVjdD1udWxsLHIucmVtb3ZlKCksZShbci52aWRlb1dpZHRoLHIudmlkZW9IZWlnaHRdKSk7fSw0ZTMpO30pfWZ1bmN0aW9uIHJ1KHQpe2xldCBlPXt9O3QuZmFjaW5nTW9kZSYmKGUuZmFjaW5nTW9kZT10LmZhY2luZ01vZGUpLHQuY2FtZXJhSWQmJihlLmRldmljZUlkPXtleGFjdDp0LmNhbWVyYUlkfSk7bGV0IG49Y3IodC5lbmNvZGVyQ29uZmlnKTtyZXR1cm4gbi53aWR0aCE9bnVsbCYmKGUud2lkdGg9bi53aWR0aCksbi5oZWlnaHQhPW51bGwmJihlLmhlaWdodD1uLmhlaWdodCksIVNPKCkmJm4uZnJhbWVSYXRlJiYoZS5mcmFtZVJhdGU9bi5mcmFtZVJhdGUpLF9PKCkmJnR5cGVvZiBlLmZyYW1lUmF0ZT09XCJvYmplY3RcIiYmKGUuZnJhbWVSYXRlLm1heD02MCksJHQoKSYmKGUuZnJhbWVSYXRlPXtpZGVhbDozMCxtYXg6MzB9KSxlfWZ1bmN0aW9uIGZDKHQpe2xldCBlPXt9O2lmKFNPKCl8fCh0LkFHQyE9PXZvaWQgMCYmKGUuYXV0b0dhaW5Db250cm9sPXQuQUdDKSx0LkFFQyE9PXZvaWQgMCYmKGUuZWNob0NhbmNlbGxhdGlvbj10LkFFQyksdC5BTlMhPT12b2lkIDAmJihlLm5vaXNlU3VwcHJlc3Npb249dC5BTlMsb28oKSYmdC5BTlMmJihlLmdvb2dIaWdocGFzc0ZpbHRlcj10LkFOUykpKSx0LmVuY29kZXJDb25maWcpe2xldCBuPUpsKHQuZW5jb2RlckNvbmZpZyk7ZS5jaGFubmVsQ291bnQ9bi5zdGVyZW8/MjoxLGUuc2FtcGxlUmF0ZT1uLnNhbXBsZVJhdGUsZS5zYW1wbGVTaXplPW4uc2FtcGxlU2l6ZTt9cmV0dXJuIHQubWljcm9waG9uZUlkJiYoZS5kZXZpY2VJZD17ZXhhY3Q6dC5taWNyb3Bob25lSWR9KSxLdSgpJiYoZS5zYW1wbGVSYXRlPXZvaWQgMCksZX12YXIgeEc9dD0+e2xldCBlPXQuX2VuY29kZXJDb25maWc7aWYoIWUpcmV0dXJuO2xldHtmcmFtZVJhdGU6bix3aWR0aDppLGhlaWdodDpyfT10LmdldE1lZGlhU3RyZWFtVHJhY2tTZXR0aW5ncygpLHtmcmFtZVJhdGU6bz1uLHdpZHRoOnM9aSxoZWlnaHQ6YT1yfT1lO2lmKCFvfHwhc3x8IWEpcmV0dXJuO3M9d3AocyksYT13cChhKSxvPXdwKG8pO2xldHttYXg6YyxtaW46ZH09ZnVuY3Rpb24ocCxnLEUpe2xldCBmPTIwMCpNYXRoLnBvdyhFLzE1LC42KSpNYXRoLnBvdyhwKmcvNjQwLzM2MCwuNzUpO3JldHVybiB7bWluOk1hdGguZmxvb3IoZiksbWF4Ok1hdGguZmxvb3IoNCpmKX19KHMsYSxvKSx7Yml0cmF0ZU1heDpsLGJpdHJhdGVNaW46dX09ZXx8e307bHx8Xy5kZWJ1ZyhcImNhbGN1bGF0ZSBiaXRyYXRlOiBbdzogXCIuY29uY2F0KHMsXCIsIGg6IFwiKS5jb25jYXQoYSxcIiwgZnBzOiBcIikuY29uY2F0KG8sXCJdID0+IFtick1heDogXCIpLmNvbmNhdChsLFwiLCBick1pbjogXCIpLmNvbmNhdCh1LFwiXVwiKSk7bGV0e21heEZyYW1lcmF0ZTpofT12KFwiRU5DT0RFUl9DT05GSUdfTElNSVRcIik7cmV0dXJuIGgmJnR5cGVvZiBoPT1cIm51bWJlclwiJiYobz1NYXRoLm1pbihvLGgpKSx7ZnJhbWVSYXRlOm8sYml0cmF0ZU1heDpsfHxjLGJpdHJhdGVNaW46dXx8ZCxzY2FsZVJlc29sdXRpb25Eb3duQnk6MSxzY2FsZTowfX0sUU89YXN5bmModCxlLG4pPT5hd2FpdChhc3luYyhpLHIsbyk9PntsZXQgcz1mdW5jdGlvbihkKXtsZXQgbD1bXTtmb3IobGV0IHU9MDt1PGQubGVuZ3RoO3UrPTIpbC5wdXNoKHBhcnNlSW50KGQuc2xpY2UodSx1KzIpLDE2KSk7cmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShsKX0oYk8oXCJcIityK28pKS5zbGljZSgwLDE2KSxhPXMuc2xpY2UoMCwxMiksYz1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXCJyYXdcIixzLFwiQUVTLUdDTVwiLCEwLFtcImVuY3J5cHRcIl0pO3JldHVybiBuZXcgVWludDhBcnJheShhd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5lbmNyeXB0KHtuYW1lOlwiQUVTLUdDTVwiLGl2OmF9LGMsaSkpfSkodC5idWZmZXIsZSxuKSxDZj10PT57bGV0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyZXR1cm4gZS53aWR0aD0yLGUuaGVpZ2h0PTIsbmV3IGooKG4saSk9PntlLnRvQmxvYihhc3luYyByPT57aWYoZS5yZW1vdmUoKSxyKXtsZXQgbz1hd2FpdCBaTyhyKTtuKHtidWZmZXI6byx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodH0pO31lbHNlIGkobmV3IE4oUi5DT05WRVJUSU5HX1ZJREVPX0ZSQU1FX1RPX0JMT0JfRkFJTEVEKSk7fSx0LDEpO30pfSxaTz1hc3luYyB0PT57bGV0IGU9YXdhaXQgdC5hcnJheUJ1ZmZlcigpO3JldHVybiBuZXcgVWludDhBcnJheShlKX0sZ0MsVEMsU0MsUkMsQ0MsSUMsdkMseUMsQUMsYkMsd0MsT0MsTkMsREMsUEMsa0MsTEMsTUMsWXQsVUMseEMsVkMsRkMsQkMsakMsSmksR0MsV0MsSEMsS0MsWUMscUMsekMsSkMsWEMsUUMsWkMsJEMsdEksVWUsUXQ9KGdDPSQoe2FyZ3NNYXA6KHQsZSk9Plt0LmdldFRyYWNrSWQoKSxlXSx0aHJvdHRsZVRpbWU6MzAwfSksVEM9JCh7YXJnc01hcDoodCxlKT0+W3QuZ2V0VHJhY2tJZCgpLGVdfSksU0M9c2UoKSxSQz0kcyhcIkxvY2FsQXVkaW9UcmFja1wiLFwiX2VuYWJsZWRNdXRleFwiKSxDQz0kKHthcmdzTWFwOih0LGUpPT5bdC5nZXRUcmFja0lkKCksZV19KSxJQz1zZSgpLHZDPSRzKFwiTG9jYWxBdWRpb1RyYWNrXCIsXCJfZW5hYmxlZE11dGV4XCIpLHlDPSQoe2FyZ3NNYXA6KHQsZSk9Plt0LmdldFRyYWNrSWQoKSxlXX0pLEFDPXNlKCksYkM9c2UoKSx3Qz1zZSgpLE9DPSQoe2FyZ3NNYXA6dD0+W3QuZ2V0VHJhY2tJZCgpXX0pLE5DPXNlKCksREM9JCh7YXJnc01hcDp0PT5bdC5nZXRUcmFja0lkKCldfSksUEM9c2UoKSxrQz0kKHthcmdzTWFwOnQ9Plt0LmdldFRyYWNrSWQoKV19KSxMQz0kKHthcmdzTWFwOih0LGUpPT5bdC5nZXRUcmFja0lkKCksZS5uYW1lXX0pLE1DPSQoe2FyZ3NNYXA6dD0+W3QuZ2V0VHJhY2tJZCgpXX0pLEV0KChZdD1jbGFzcyBleHRlbmRzIG5ve2dldCBfc291cmNlKCl7cmV0dXJuIHRoaXMuaW5pdFdlYkF1ZGlvKCl9c2V0IF9zb3VyY2UodCl7dGhpcy5fdHJhY2tTb3VyY2U9dDt9Z2V0IHByb2Nlc3NvckNvbnRleHQoKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yQ29udGV4dHx8KHRoaXMuX3Byb2Nlc3NvckNvbnRleHQ9dGhpcy5pbml0UHJvY2Vzc29yKCkucHJvY2Vzc29yQ29udGV4dCksdGhpcy5fcHJvY2Vzc29yQ29udGV4dH1nZXQgcHJvY2Vzc29yRGVzdGluYXRpb24oKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yRGVzdGluYXRpb258fCh0aGlzLl9wcm9jZXNzb3JEZXN0aW5hdGlvbj10aGlzLmluaXRQcm9jZXNzb3IoKS5wcm9jZXNzb3JEZXN0aW5hdGlvbiksdGhpcy5fcHJvY2Vzc29yRGVzdGluYXRpb259Z2V0IGlzUGxheWluZygpe3JldHVybiB0aGlzLl91c2VBdWRpb0VsZW1lbnQ/RW4uaXNQbGF5aW5nKHRoaXMuZ2V0VHJhY2tJZCgpKTp0aGlzLl9zb3VyY2UuaXNQbGF5ZWR9Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm4gXCJMb2NhbEF1ZGlvVHJhY2tcIn1jb25zdHJ1Y3Rvcih0LGUsbixpKXtzdXBlcih0LG4pLFAodGhpcyxcInRyYWNrTWVkaWFUeXBlXCIsZmEuQVVESU8pLFAodGhpcyxcIl9lbmNvZGVyQ29uZmlnXCIsdm9pZCAwKSxQKHRoaXMsXCJfdHJhY2tTb3VyY2VcIix2b2lkIDApLFAodGhpcyxcIl9lbmFibGVkXCIsITApLFAodGhpcyxcIl92b2x1bWVcIiwxMDApLFAodGhpcyxcIl91c2VBdWRpb0VsZW1lbnRcIiwhMCksUCh0aGlzLFwiX2J5cGFzc1dlYkF1ZGlvXCIsITEpLFAodGhpcyxcInByb2Nlc3NvclwiLHZvaWQgMCksUCh0aGlzLFwiX3Byb2Nlc3NvckNvbnRleHRcIix2b2lkIDApLFAodGhpcyxcIl9wcm9jZXNzb3JEZXN0aW5hdGlvblwiLHZvaWQgMCksUCh0aGlzLFwiX2dldE9yaWdpblZvbHVtZUxldmVsXCIsdm9pZCAwKSx0aGlzLl9lbmNvZGVyQ29uZmlnPWUsdGhpcy5fZ2V0T3JpZ2luVm9sdW1lTGV2ZWw9ISFpLHRoaXMuX3RyYWNrU291cmNlPW5ldyBQYyx2KFwiRElTQUJMRV9XRUJBVURJT1wiKSYmKHRoaXMuX2J5cGFzc1dlYkF1ZGlvPSEwKSx2KFwiTE9DQUxfQVVESU9fVFJBQ0tfVVNFU19XRUJfQVVESU9cIikmJih0aGlzLl91c2VBdWRpb0VsZW1lbnQ9ITEpLGplKCkmJiFNbj9zZXRUaW1lb3V0KCgpPT50aGlzLmluaXRXZWJBdWRpbygpKTp0aGlzLmluaXRXZWJBdWRpbygpO31zZXRWb2x1bWUodCl7TnQodCxcInZvbHVtZVwiLDAsMWUzKSx0aGlzLl92b2x1bWU9dCx0aGlzLl9zb3VyY2Uuc2V0Vm9sdW1lKHQvMTAwKSx0aGlzLl91c2VBdWRpb0VsZW1lbnQmJkVuLnNldFZvbHVtZSh0aGlzLmdldFRyYWNrSWQoKSx0KTt0cnl7aWYodGhpcy5fYnlwYXNzV2ViQXVkaW8pcmV0dXJuIHZvaWQgXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldFZvbHVtZSByZXR1cm5lZCBiZWNhdXNlIG5vIHBhc3MgdGhyb3VnaCBXZWJBdWRpby5cIikpO2xldCBlPXRoaXMuX3NvdXJjZS5jcmVhdGVPdXRwdXRUcmFjaygpO3RoaXMuX21lZGlhU3RyZWFtVHJhY2shPT1lJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjaz1lLGt0KHRoaXMsSC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcykudGhlbigoKT0+e18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSByZXBsYWNlIHdlYiBhdWRpbyB0cmFjayBzdWNjZXNzXCIpKTt9KS5jYXRjaChuPT57Xy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gcmVwbGFjZSB3ZWIgYXVkaW8gdHJhY2sgZmFpbGVkXCIpLG4pO30pKTt9Y2F0Y2h7fX1nZXRWb2x1bWVMZXZlbCgpe3JldHVybiB0aGlzLl9tdXRlZCYmdGhpcy5lbmFibGVkJiZ0aGlzLl9nZXRPcmlnaW5Wb2x1bWVMZXZlbD90aGlzLl9zb3VyY2UuZ2V0T3JpZ2luVm9sdW1lTGV2ZWwoKTp0aGlzLl9zb3VyY2UuZ2V0QWNjdXJhdGVWb2x1bWVMZXZlbCgpfWFzeW5jIHNldFBsYXliYWNrRGV2aWNlKHQpe2lmKCF0aGlzLl91c2VBdWRpb0VsZW1lbnR8fCFqTygpKXRocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcInlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHNldHRpbmcgdGhlIGF1ZGlvIG91dHB1dCBkZXZpY2VcIik7YXdhaXQgRW4uc2V0U2lua0lEKHRoaXMuZ2V0VHJhY2tJZCgpLHQpO31hc3luYyBzZXRFbmFibGVkKHQsZSxuKXtyZXR1cm4gdGhpcy5fc2V0RW5hYmxlZCh0LGUsbil9YXN5bmMgX3NldEVuYWJsZWQodCxlLG4pe2lmKCFuKXtpZih0PT09dGhpcy5fZW5hYmxlZClyZXR1cm47dGhpcy5zdGF0ZUNoZWNrKFwiZW5hYmxlZFwiLHQpO31pZihfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBzZXRFbmFibGVkXCIpLHQpLHQpe3RoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hMDt0cnl7bnx8KHRoaXMuX2VuYWJsZWQ9ITApLGF3YWl0IGt0KHRoaXMsSC5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzKSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHRvIFwiKS5jb25jYXQodCxcIiBzdWNjZXNzXCIpKTt9Y2F0Y2goaSl7dGhyb3cgbnx8KHRoaXMuX2VuYWJsZWQ9ITEpLF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHRvIHRydWUgZXJyb3JcIiksaS50b1N0cmluZygpKSxpfX1lbHNlIHt0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9ITEsbnx8KHRoaXMuX2VuYWJsZWQ9ITEpO3RyeXthd2FpdCBrdCh0aGlzLEguTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMpO31jYXRjaChpKXt0aHJvdyBufHwodGhpcy5fZW5hYmxlZD0hMCksXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gZmFsc2UgZXJyb3JcIiksaS50b1N0cmluZygpKSxpfX19YXN5bmMgc2V0TXV0ZWQodCl7dCE9PXRoaXMuX211dGVkJiYodGhpcy5zdGF0ZUNoZWNrKFwibXV0ZWRcIix0KSx0aGlzLl9tdXRlZD10LHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hdCxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgc2V0IG11dGVkOiBcIikuY29uY2F0KHQpKSx0P2F3YWl0IGt0KHRoaXMsSC5ORUVEX01VVEVfVFJBQ0ssdGhpcyk6YXdhaXQga3QodGhpcyxILk5FRURfVU5NVVRFX1RSQUNLLHRoaXMpKTt9Z2V0U3RhdHMoKXtyZXR1cm4gcG8oKCk9PntfLndhcm5pbmcoXCJbZGVwcmVjYXRlZF0gTG9jYWxBdWRpb1RyYWNrLmdldFN0YXRzIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCB1c2UgQWdvcmFSVENDbGllbnQuZ2V0TG9jYWxBdWRpb1N0YXRzIGluc3RlYWRcIik7fSxcImxvY2FsQXVkaW9UcmFja0dldFN0YXRzV2FybmluZ1wiKSxuaSh0aGlzLEguR0VUX1NUQVRTKXx8S3Qoe30sS0UpfXNldEF1ZGlvRnJhbWVDYWxsYmFjayh0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06NDA5NjtpZighdClyZXR1cm4gdGhpcy5fc291cmNlLnJlbW92ZUFsbExpc3RlbmVycyhqbi5PTl9BVURJT19CVUZGRVIpLHZvaWQgdGhpcy5fc291cmNlLnN0b3BHZXRBdWRpb0J1ZmZlcigpO3RoaXMuX3NvdXJjZS5zdGFydEdldEF1ZGlvQnVmZmVyKGUpLHRoaXMuX3NvdXJjZS5yZW1vdmVBbGxMaXN0ZW5lcnMoam4uT05fQVVESU9fQlVGRkVSKSx0aGlzLl9zb3VyY2Uub24oam4uT05fQVVESU9fQlVGRkVSLG49PnQobikpO31wbGF5KCl7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IGF1ZGlvIHBsYXliYWNrXCIpKSx0aGlzLl91c2VBdWRpb0VsZW1lbnQ/KF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBhdWRpbyBwbGF5YmFjayBpbiBlbGVtZW50XCIpKSxFbi5wbGF5KHRoaXMuX21lZGlhU3RyZWFtVHJhY2ssdGhpcy5nZXRUcmFja0lkKCksdGhpcy5fdm9sdW1lKSk6dGhpcy5fc291cmNlLnBsYXkoKTt9c3RvcCgpe18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdG9wIGF1ZGlvIHBsYXliYWNrXCIpKSx0aGlzLl91c2VBdWRpb0VsZW1lbnQ/RW4uc3RvcCh0aGlzLmdldFRyYWNrSWQoKSk6dGhpcy5fc291cmNlLnN0b3AoKTt9Y2xvc2UoKXtzdXBlci5jbG9zZSgpLHRoaXMuX3Byb2Nlc3NvckRlc3RpbmF0aW9uJiZ0aGlzLnVuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKHRoaXMuX3Byb2Nlc3NvckRlc3RpbmF0aW9uKSx0aGlzLl9wcm9jZXNzb3JDb250ZXh0JiZ0aGlzLnVuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHModGhpcy5fcHJvY2Vzc29yQ29udGV4dCksdGhpcy51bnBpcGUoKSx0aGlzLl9wcm9jZXNzb3JEZXN0aW5hdGlvbiYmdGhpcy5fcHJvY2Vzc29yRGVzdGluYXRpb24uX3NvdXJjZSYmdGhpcy5fcHJvY2Vzc29yRGVzdGluYXRpb24uX3NvdXJjZS51bnBpcGUoKSx0aGlzLl9zb3VyY2UuZGVzdHJveSgpO31fdXBkYXRlUGxheWVyU291cmNlKCl7bGV0IHQ9IShhcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMCl8fGFyZ3VtZW50c1swXTtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdXBkYXRlIHBsYXllciBzb3VyY2UgdHJhY2tcIikpLHQmJnRoaXMuX3NvdXJjZS51cGRhdGVUcmFjayh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrKSx0aGlzLl91c2VBdWRpb0VsZW1lbnQmJkVuLnVwZGF0ZVRyYWNrKHRoaXMuZ2V0VHJhY2tJZCgpLHRoaXMuX21lZGlhU3RyZWFtVHJhY2spO31hc3luYyBfdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayh0LGUpe3RoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2shPT10JiYodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsdGhpcy5faGFuZGxlVHJhY2tFbmRlZCksZSYmdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCkpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsdGhpcy5faGFuZGxlVHJhY2tFbmRlZCksdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaz10LHRoaXMuX211dGVkJiYodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPSExKSx0aGlzLnByb2Nlc3NvciYmdGhpcy5fcHJvY2Vzc29yQ29udGV4dCYmdGhpcy5wcm9jZXNzb3IudXBkYXRlSW5wdXQoe3RyYWNrOnQsY29udGV4dDp0aGlzLl9wcm9jZXNzb3JDb250ZXh0fSksdGhpcy5fbWVkaWFTdHJlYW1UcmFjayE9PXRoaXMuX3NvdXJjZS5vdXRwdXRUcmFjaz8odGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpLGF3YWl0IGt0KHRoaXMsSC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcykpOnRoaXMuX3NvdXJjZS51cGRhdGVUcmFjayh0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrKSx0aGlzLl9nZXRPcmlnaW5Wb2x1bWVMZXZlbCYmdGhpcy5fc291cmNlLnVwZGF0ZU9yaWdpblRyYWNrKHQpKTt9cmVuZXdNZWRpYVN0cmVhbVRyYWNrKHQpe3JldHVybiBqLnJlc29sdmUodm9pZCAwKX1waXBlKHQpe2lmKHRoaXMuX2J5cGFzc1dlYkF1ZGlvKXRocm93IG5ldyBOKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4gbm90IHByb2Nlc3MgQXVkaW9UcmFjayB3aGVuIGJ5cGFzc1dlYkF1ZGlvIHNldCB0byB0cnVlLlwiKTtpZih0aGlzLnByb2Nlc3Nvcj09PXQpcmV0dXJuIHQ7aWYodC5fc291cmNlKXRocm93IG5ldyBOKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJQcm9jZXNzb3IgXCIuY29uY2F0KHQubmFtZSxcIiBhbHJlYWR5IHBpcGVkLCBwbGVhc2UgY2FsbCB1bnBpcGUgYmVmb3JlaGFuZC5cIikpO3JldHVybiB0aGlzLnVucGlwZSgpLHRoaXMucHJvY2Vzc29yPXQsdGhpcy5wcm9jZXNzb3IuX3NvdXJjZT10aGlzLHQudXBkYXRlSW5wdXQoe3RyYWNrOnRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssbm9kZTp0aGlzLl9zb3VyY2UucHJvY2Vzc1NvdXJjZU5vZGUsY29udGV4dDp0aGlzLnByb2Nlc3NvckNvbnRleHR9KSx0fXVucGlwZSgpe3ZhciB0O2lmKCF0aGlzLnByb2Nlc3NvcilyZXR1cm47bGV0IGU9dGhpcy5wcm9jZXNzb3I7KHQ9dGhpcy5fc291cmNlLnByb2Nlc3NTb3VyY2VOb2RlKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuZGlzY29ubmVjdCgpLHRoaXMucHJvY2Vzc29yLl9zb3VyY2U9ITEsdGhpcy5wcm9jZXNzb3I9dm9pZCAwLGUucmVzZXQoKTt9YmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKHQpe3Qub24odW4uT05fVFJBQ0ssYXN5bmMgZT0+e2U/ZSE9PXRoaXMuX21lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPWUsdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCExKSx0aGlzLl9zb3VyY2UucHJvY2Vzc2VkTm9kZT10aGlzLl9zb3VyY2UuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2VOb2RlKGUpLGF3YWl0IGt0KHRoaXMsSC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcykpOnRoaXMuX21lZGlhU3RyZWFtVHJhY2shPT10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpLGF3YWl0IGt0KHRoaXMsSC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcykpO30pLHQub24odW4uT05fTk9ERSxlPT57dGhpcy5fc291cmNlLnByb2Nlc3NlZE5vZGU9ZTt9KTt9dW5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHModCl7dC5yZW1vdmVBbGxMaXN0ZW5lcnModW4uT05fVFJBQ0spLHQucmVtb3ZlQWxsTGlzdGVuZXJzKHVuLk9OX05PREUpO31iaW5kUHJvY2Vzc29yQ29udGV4dEV2ZW50cyh0KXt0Lm9uKFduLlJFUVVFU1RfQ09OU1RSQUlOVFMsYXN5bmMgZT0+e2UodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5nZXRTZXR0aW5ncygpKTt9KTt9dW5iaW5kUHJvY2Vzc29yQ29udGV4dEV2ZW50cyh0KXt0LnJlbW92ZUFsbExpc3RlbmVycyhXbi5SRVFVRVNUX0NPTlNUUkFJTlRTKTt9aW5pdFdlYkF1ZGlvKCl7cmV0dXJuIHRoaXMuX3RyYWNrU291cmNlIGluc3RhbmNlb2YgUGMmJih0aGlzLl90cmFja1NvdXJjZT1uZXcgJGwodGhpcy5fbWVkaWFTdHJlYW1UcmFjaywhMSx0aGlzLl9nZXRPcmlnaW5Wb2x1bWVMZXZlbD90aGlzLl9tZWRpYVN0cmVhbVRyYWNrOnZvaWQgMCkpLHRoaXMuX3RyYWNrU291cmNlfWluaXRQcm9jZXNzb3IoKXtsZXQgdD1uZXcgaXUodGhpcy5fc291cmNlLmNvbnRleHQsdGhpcy5nZXRUcmFja0lkKCksXCJsb2NhbFwiKSxlPW5ldyBudSh0KTtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yQ29udGV4dD10LHRoaXMuX3Byb2Nlc3NvckRlc3RpbmF0aW9uPWUsdGhpcy5iaW5kUHJvY2Vzc29yQ29udGV4dEV2ZW50cyh0KSx0aGlzLmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cyhlKSx0aGlzLl9zb3VyY2Uub24oam4uVVBEQVRFX1NPVVJDRSwoKT0+e3RoaXMucHJvY2Vzc29yJiZ0aGlzLnByb2Nlc3Nvci51cGRhdGVJbnB1dCh7bm9kZTp0aGlzLl9zb3VyY2UucHJvY2Vzc1NvdXJjZU5vZGUsY29udGV4dDp0fSk7fSksdGhpcy5fdXNlQXVkaW9FbGVtZW50JiYodGhpcy5fdXNlQXVkaW9FbGVtZW50PSExLHRoaXMuaXNQbGF5aW5nJiYoRW4uc3RvcCh0aGlzLmdldFRyYWNrSWQoKSksdGhpcy5fc291cmNlLnBsYXkoKSksa3QodGhpcyxILk5FRURfUkVQTEFDRV9NSVhJTkdfVFJBQ0ssdGhpcykudGhlbigoKT0+e18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSByZXBsYWNlIGZyb20gb3JpZ2luIHRyYWNrIHRvIHdlYiBhdWRpbyB0cmFjayBzdWNjZXNzXCIpKTt9KS5jYXRjaChuPT57Xy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gcmVwbGFjZSBmcm9tIG9yaWdpbiB0cmFjayB0byB3ZWIgYXVkaW8gdHJhY2sgZmFpbGVkXCIpLG4pO30pKSx7cHJvY2Vzc29yQ29udGV4dDp0LHByb2Nlc3NvckRlc3RpbmF0aW9uOmV9fX0pLnByb3RvdHlwZSxcInNldFZvbHVtZVwiLFtnQ10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihZdC5wcm90b3R5cGUsXCJzZXRWb2x1bWVcIiksWXQucHJvdG90eXBlKSxFdChZdC5wcm90b3R5cGUsXCJzZXRQbGF5YmFja0RldmljZVwiLFtUQyxTQ10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihZdC5wcm90b3R5cGUsXCJzZXRQbGF5YmFja0RldmljZVwiKSxZdC5wcm90b3R5cGUpLEV0KFl0LnByb3RvdHlwZSxcInNldEVuYWJsZWRcIixbUkMsQ0MsSUNdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoWXQucHJvdG90eXBlLFwic2V0RW5hYmxlZFwiKSxZdC5wcm90b3R5cGUpLEV0KFl0LnByb3RvdHlwZSxcInNldE11dGVkXCIsW3ZDLHlDLEFDXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFl0LnByb3RvdHlwZSxcInNldE11dGVkXCIpLFl0LnByb3RvdHlwZSksRXQoWXQucHJvdG90eXBlLFwiZ2V0U3RhdHNcIixbYkNdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoWXQucHJvdG90eXBlLFwiZ2V0U3RhdHNcIiksWXQucHJvdG90eXBlKSxFdChZdC5wcm90b3R5cGUsXCJzZXRBdWRpb0ZyYW1lQ2FsbGJhY2tcIixbd0NdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoWXQucHJvdG90eXBlLFwic2V0QXVkaW9GcmFtZUNhbGxiYWNrXCIpLFl0LnByb3RvdHlwZSksRXQoWXQucHJvdG90eXBlLFwicGxheVwiLFtPQyxOQ10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihZdC5wcm90b3R5cGUsXCJwbGF5XCIpLFl0LnByb3RvdHlwZSksRXQoWXQucHJvdG90eXBlLFwic3RvcFwiLFtEQyxQQ10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihZdC5wcm90b3R5cGUsXCJzdG9wXCIpLFl0LnByb3RvdHlwZSksRXQoWXQucHJvdG90eXBlLFwiY2xvc2VcIixba0NdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoWXQucHJvdG90eXBlLFwiY2xvc2VcIiksWXQucHJvdG90eXBlKSxFdChZdC5wcm90b3R5cGUsXCJwaXBlXCIsW0xDXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFl0LnByb3RvdHlwZSxcInBpcGVcIiksWXQucHJvdG90eXBlKSxFdChZdC5wcm90b3R5cGUsXCJ1bnBpcGVcIixbTUNdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoWXQucHJvdG90eXBlLFwidW5waXBlXCIpLFl0LnByb3RvdHlwZSksWXQpLG91PShVQz0kKHthcmdzTWFwOih0LGUpPT5bdC5nZXRUcmFja0lkKCksZV19KSx4Qz1zZSgpLFZDPSRzKFwiTWljcm9waG9uZUF1ZGlvVHJhY2tcIixcIl9lbmFibGVkTXV0ZXhcIiksRkM9JCh7YXJnc01hcDoodCxlLG4pPT5bdC5nZXRUcmFja0lkKCksZSxuXX0pLEJDPXNlKCksakM9JCh7YXJnc01hcDp0PT5bdC5nZXRUcmFja0lkKCldfSksRXQoKEppPWNsYXNzIGV4dGVuZHMgUXR7Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm4gXCJNaWNyb3Bob25lQXVkaW9UcmFja1wifWNvbnN0cnVjdG9yKHQsZSxuLGkpe3N1cGVyKHQsZS5lbmNvZGVyQ29uZmlnP0psKGUuZW5jb2RlckNvbmZpZyk6e30saSx2KFwiR0VUX1ZPTFVNRV9PRl9NVVRFRF9BVURJT19UUkFDS1wiKSksUCh0aGlzLFwiX2NvbmZpZ1wiLHZvaWQgMCksUCh0aGlzLFwiX2RldmljZU5hbWVcIixcImRlZmF1bHRcIiksUCh0aGlzLFwiX2NvbnN0cmFpbnRzXCIsdm9pZCAwKSxQKHRoaXMsXCJfb3JpZ2luYWxDb25zdHJhaW50c1wiLHZvaWQgMCksUCh0aGlzLFwiX2VuYWJsZWRcIiwhMCksdGhpcy5fY29uZmlnPWUsdGhpcy5fY29uc3RyYWludHM9bix0aGlzLl9vcmlnaW5hbENvbnN0cmFpbnRzPW4sdGhpcy5fZGV2aWNlTmFtZT10LmxhYmVsLHR5cGVvZiBlLmJ5cGFzc1dlYkF1ZGlvPT1cImJvb2xlYW5cIiYmKHRoaXMuX2J5cGFzc1dlYkF1ZGlvPWUuYnlwYXNzV2ViQXVkaW8pLChacygpfHxORSgpKSYmd3QuYmluZEludGVycnVwdERldGVjdG9yVHJhY2sodGhpcyk7fWFzeW5jIHNldERldmljZSh0KXtpZihfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBzZXQgZGV2aWNlIHRvIFwiKS5jb25jYXQodCkpLHRoaXMuX2VuYWJsZWQpdHJ5e2xldCBlPWF3YWl0IEduLmdldERldmljZUJ5SWQodCksbj17fTtuLmF1ZGlvPUt0KHt9LHRoaXMuX2NvbnN0cmFpbnRzKSxuLmF1ZGlvLmRldmljZUlkPXtleGFjdDp0fSx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKTtsZXQgaT1udWxsO3RyeXtpPWF3YWl0IEZuKG4sdGhpcy5nZXRUcmFja0lkKCkpO31jYXRjaChyKXt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlIGZhaWxlZFwiKSxyLnRvU3RyaW5nKCkpLGk9YXdhaXQgRm4oe2F1ZGlvOnRoaXMuX2NvbnN0cmFpbnRzfSx0aGlzLmdldFRyYWNrSWQoKSksYXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhpLmdldEF1ZGlvVHJhY2tzKClbMF0sITEpLHJ9YXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhpLmdldEF1ZGlvVHJhY2tzKClbMF0sITEpLHRoaXMuX2RldmljZU5hbWU9ZS5sYWJlbCx0aGlzLl9jb25maWcubWljcm9waG9uZUlkPXQsdGhpcy5fY29uc3RyYWludHMuZGV2aWNlSWQ9e2V4YWN0OnR9O31jYXRjaChlKXt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1lbHNlIHRyeXtsZXQgZT1hd2FpdCBHbi5nZXREZXZpY2VCeUlkKHQpO3RoaXMuX2RldmljZU5hbWU9ZS5sYWJlbCx0aGlzLl9jb25maWcubWljcm9waG9uZUlkPXQsdGhpcy5fY29uc3RyYWludHMuZGV2aWNlSWQ9e2V4YWN0OnR9O31jYXRjaChlKXt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1fLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXQgZGV2aWNlIHRvIFwiKS5jb25jYXQodCxcIiBzdWNjZXNzXCIpKTt9YXN5bmMgc2V0RW5hYmxlZCh0LGUsbil7aWYoZSlyZXR1cm4gXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgZmFsc2UgKGRvIG5vdCBjbG9zZSBtaWNyb3Bob25lKVwiKSksYXdhaXQgc3VwZXIuX3NldEVuYWJsZWQodCk7aWYoIW4pe2lmKHQ9PT10aGlzLl9lbmFibGVkKXJldHVybjt0aGlzLnN0YXRlQ2hlY2soXCJlbmFibGVkXCIsdCk7fWlmKF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IHNldEVuYWJsZWRcIiksdCksdihcIkFVVE9fUkVTRVRfQVVESU9fUk9VVEVcIikmJihsbigpfHx2aSgpKSl7bGV0IHM9bmF2aWdhdG9yLmF1ZGlvU2Vzc2lvbjtzJiYodHx8KHMudHlwZT1cInBsYXliYWNrXCIpLHMudHlwZT1cImF1dG9cIik7fWlmKCF0KXt2YXIgaTt0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLm9uZW5kZWQ9bnVsbCx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKSwoaT10aGlzLl9zb3VyY2UuY2xvbmVkVHJhY2spPT09bnVsbHx8aT09PXZvaWQgMHx8aS5zdG9wKCksbnx8KHRoaXMuX2VuYWJsZWQ9ITEpO3RyeXthd2FpdCBrdCh0aGlzLEguTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMpO31jYXRjaChzKXt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCBmYWxzZSBmYWlsZWRcIikscy50b1N0cmluZygpKSxzfXJldHVybn1sZXQgcj1LdCh7fSx0aGlzLl9jb25zdHJhaW50cyksbz1Hbi5zZWFyY2hEZXZpY2VJZEJ5TmFtZSh0aGlzLl9kZXZpY2VOYW1lKTtvJiYhci5kZXZpY2VJZCYmKHIuZGV2aWNlSWQ9byk7dHJ5e258fCh0aGlzLl9lbmFibGVkPSEwKTtsZXQgcz1hd2FpdCBGbih7YXVkaW86dGhpcy5fY29uc3RyYWludHN9LHRoaXMuZ2V0VHJhY2tJZCgpKTthd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKHMuZ2V0QXVkaW9UcmFja3MoKVswXSwhMSksYXdhaXQga3QodGhpcyxILk5FRURfRU5BQkxFX1RSQUNLLHRoaXMpO31jYXRjaChzKXt0aHJvdyBufHwodGhpcy5fZW5hYmxlZD0hMSksXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdHJ1ZSBmYWlsZWRcIikscy50b1N0cmluZygpKSxzfV8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgc3VjY2Vzc1wiKSk7fWNsb3NlKCl7c3VwZXIuY2xvc2UoKSwoWnMoKXx8TkUoKSkmJnd0LnVuYmluZEludGVycnVwdERldGVjdG9yVHJhY2sodGhpcyk7fW9uVHJhY2tFbmRlZCgpe2lmKChsbigpfHx2aSgpKSYmdGhpcy5fZW5hYmxlZCYmIXRoaXMuX2lzQ2xvc2VkJiZ3dC5kdXJpbmdJbnRlcnJ1cHRpb24pe2xldCB0PWFzeW5jKCk9Pnt3dC5vZmYoa2UuSU9TX0lOVEVSUlVQVElPTl9FTkQsdCksdGhpcy5fZW5hYmxlZCYmIXRoaXMuX2lzQ2xvc2VkJiYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHRyeSBjYXB0dXJlIG1pY3JvcGhvbmUgbWVkaWEgZGV2aWNlIGZvciBpbnRlcnJ1cHRlZCBpT1MgZGV2aWNlLlwiKSksYXdhaXQgdGhpcy5zZXRFbmFibGVkKCExKSxhd2FpdCB0aGlzLnNldEVuYWJsZWQoITApKTt9O3d0Lm9uKGtlLklPU19JTlRFUlJVUFRJT05fRU5ELHQpO31lbHNlIF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSB0cmFjayBlbmRlZFwiKSksdGhpcy5zYWZlRW1pdChtYS5UUkFDS19FTkRFRCk7fWFzeW5jIHJlbmV3TWVkaWFTdHJlYW1UcmFjayh0KXtsZXQgZT10fHx0aGlzLl9jb25zdHJhaW50cyxuPUduLnNlYXJjaERldmljZUlkQnlOYW1lKHRoaXMuX2RldmljZU5hbWUpO2lmKG4mJiFlLmRldmljZUlkJiYoZS5kZXZpY2VJZD1uKSx0aGlzLl9jb25zdHJhaW50cz1lLHRoaXMuX2VuYWJsZWQpe3RoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpO2xldCBpPWF3YWl0IEZuKHthdWRpbzp0aGlzLl9jb25zdHJhaW50c30sdGhpcy5nZXRUcmFja0lkKCkpO2F3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soaS5nZXRBdWRpb1RyYWNrcygpWzBdLCEwKTt9fWJpbmRQcm9jZXNzb3JDb250ZXh0RXZlbnRzKHQpe3N1cGVyLmJpbmRQcm9jZXNzb3JDb250ZXh0RXZlbnRzKHQpLHQub24oV24uUkVRVUVTVF9VUERBVEVfQ09OU1RSQUlOVFMsYXN5bmMoZSxuLGkpPT57dHJ5e2xldCByPU9iamVjdC5hc3NpZ24oe30sdGhpcy5fb3JpZ2luYWxDb25zdHJhaW50cywuLi5lKTthd2FpdCB0aGlzLnJlbmV3TWVkaWFTdHJlYW1UcmFjayhyKSxuKCk7fWNhdGNoKHIpe2kocik7fX0pO311bmJpbmRQcm9jZXNzb3JDb250ZXh0RXZlbnRzKHQpe3N1cGVyLnVuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHModCksdC5yZW1vdmVBbGxMaXN0ZW5lcnMoV24uUkVRVUVTVF9VUERBVEVfQ09OU1RSQUlOVFMpO319KS5wcm90b3R5cGUsXCJzZXREZXZpY2VcIixbVUMseENdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSmkucHJvdG90eXBlLFwic2V0RGV2aWNlXCIpLEppLnByb3RvdHlwZSksRXQoSmkucHJvdG90eXBlLFwic2V0RW5hYmxlZFwiLFtWQyxGQyxCQ10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihKaS5wcm90b3R5cGUsXCJzZXRFbmFibGVkXCIpLEppLnByb3RvdHlwZSksRXQoSmkucHJvdG90eXBlLFwiY2xvc2VcIixbakNdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSmkucHJvdG90eXBlLFwiY2xvc2VcIiksSmkucHJvdG90eXBlKSxKaSksVkc9KEdDPSQoe2FyZ3NNYXA6KHQsZSk9Plt0LmdldFRyYWNrSWQoKSxlLHQuZHVyYXRpb25dfSksV0M9c2UoKSxIQz0kKHthcmdzTWFwOnQ9Plt0LmdldFRyYWNrSWQoKV19KSxLQz1zZSgpLFlDPSQoe2FyZ3NNYXA6dD0+W3QuZ2V0VHJhY2tJZCgpXX0pLHFDPXNlKCksekM9JCh7YXJnc01hcDp0PT5bdC5nZXRUcmFja0lkKCldfSksSkM9c2UoKSxYQz0kKHthcmdzTWFwOnQ9Plt0LmdldFRyYWNrSWQoKV19KSxRQz1zZSgpLFpDPSQoe2FyZ3NNYXA6dD0+W3QuZ2V0VHJhY2tJZCgpXX0pLCRDPSQoe2FyZ3NNYXA6dD0+W3QuZ2V0VHJhY2tJZCgpXX0pLHRJPXNlKCksRXQoKFVlPWNsYXNzIGV4dGVuZHMgUXR7Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm4gXCJCdWZmZXJTb3VyY2VBdWRpb1RyYWNrXCJ9Y29uc3RydWN0b3IodCxlLG4saSl7c3VwZXIoZS5jcmVhdGVPdXRwdXRUcmFjaygpLG4saSksUCh0aGlzLFwic291cmNlXCIsdm9pZCAwKSxQKHRoaXMsXCJfYnVmZmVyU291cmNlXCIsdm9pZCAwKSx0aGlzLl91c2VBdWRpb0VsZW1lbnQ9ITEsdGhpcy5zb3VyY2U9dCx0aGlzLl9idWZmZXJTb3VyY2U9ZSx0aGlzLl9idWZmZXJTb3VyY2Uub24oam4uQVVESU9fU09VUkNFX1NUQVRFX0NIQU5HRSxyPT57dGhpcy5zYWZlRW1pdChtYS5TT1VSQ0VfU1RBVEVfQ0hBTkdFLHIpO30pO3RyeXt0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPXRoaXMuX3NvdXJjZS5jcmVhdGVPdXRwdXRUcmFjaygpO31jYXRjaHt9fWdldCBjdXJyZW50U3RhdGUoKXtyZXR1cm4gdGhpcy5fYnVmZmVyU291cmNlLmN1cnJlbnRTdGF0ZX1nZXQgZHVyYXRpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyU291cmNlLmR1cmF0aW9ufWdldCBwbGF5YmFja1NwZWVkKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclNvdXJjZS5wbGF5YmFja1NwZWVkfWdldEN1cnJlbnRUaW1lKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclNvdXJjZS5jdXJyZW50VGltZX1zdGFydFByb2Nlc3NBdWRpb0J1ZmZlcih0KXt0JiZ0aGlzLl9idWZmZXJTb3VyY2UudXBkYXRlT3B0aW9ucyh0KSx0aGlzLl9idWZmZXJTb3VyY2Uuc3RhcnRQcm9jZXNzQXVkaW9CdWZmZXIoKTt9cGF1c2VQcm9jZXNzQXVkaW9CdWZmZXIoKXt0aGlzLl9idWZmZXJTb3VyY2UucGF1c2VQcm9jZXNzQXVkaW9CdWZmZXIoKTt9c2Vla0F1ZGlvQnVmZmVyKHQpe3RoaXMuX2J1ZmZlclNvdXJjZS5zZWVrQXVkaW9CdWZmZXIodCk7fXJlc3VtZVByb2Nlc3NBdWRpb0J1ZmZlcigpe3RoaXMuX2J1ZmZlclNvdXJjZS5yZXN1bWVQcm9jZXNzQXVkaW9CdWZmZXIoKTt9c3RvcFByb2Nlc3NBdWRpb0J1ZmZlcigpe3RoaXMuX2J1ZmZlclNvdXJjZS5zdG9wUHJvY2Vzc0F1ZGlvQnVmZmVyKCk7fWNsb3NlKCl7dGhpcy5zb3VyY2U9bnVsbCx0aGlzLl9idWZmZXJTb3VyY2UuZGVzdHJveSgpLHN1cGVyLmNsb3NlKCk7fXNldEF1ZGlvQnVmZmVyUGxheWJhY2tTcGVlZCh0KXtOdCh0LFwic3BlZWRcIiwwKSx0aGlzLl9idWZmZXJTb3VyY2Uuc2V0QXVkaW9CdWZmZXJQbGF5YmFja1NwZWVkKHQpO319KS5wcm90b3R5cGUsXCJzdGFydFByb2Nlc3NBdWRpb0J1ZmZlclwiLFtHQyxXQ10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihVZS5wcm90b3R5cGUsXCJzdGFydFByb2Nlc3NBdWRpb0J1ZmZlclwiKSxVZS5wcm90b3R5cGUpLEV0KFVlLnByb3RvdHlwZSxcInBhdXNlUHJvY2Vzc0F1ZGlvQnVmZmVyXCIsW0hDLEtDXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFVlLnByb3RvdHlwZSxcInBhdXNlUHJvY2Vzc0F1ZGlvQnVmZmVyXCIpLFVlLnByb3RvdHlwZSksRXQoVWUucHJvdG90eXBlLFwic2Vla0F1ZGlvQnVmZmVyXCIsW1lDLHFDXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFVlLnByb3RvdHlwZSxcInNlZWtBdWRpb0J1ZmZlclwiKSxVZS5wcm90b3R5cGUpLEV0KFVlLnByb3RvdHlwZSxcInJlc3VtZVByb2Nlc3NBdWRpb0J1ZmZlclwiLFt6QyxKQ10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihVZS5wcm90b3R5cGUsXCJyZXN1bWVQcm9jZXNzQXVkaW9CdWZmZXJcIiksVWUucHJvdG90eXBlKSxFdChVZS5wcm90b3R5cGUsXCJzdG9wUHJvY2Vzc0F1ZGlvQnVmZmVyXCIsW1hDLFFDXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFVlLnByb3RvdHlwZSxcInN0b3BQcm9jZXNzQXVkaW9CdWZmZXJcIiksVWUucHJvdG90eXBlKSxFdChVZS5wcm90b3R5cGUsXCJjbG9zZVwiLFtaQ10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihVZS5wcm90b3R5cGUsXCJjbG9zZVwiKSxVZS5wcm90b3R5cGUpLEV0KFVlLnByb3RvdHlwZSxcInNldEF1ZGlvQnVmZmVyUGxheWJhY2tTcGVlZFwiLFskQyx0SV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihVZS5wcm90b3R5cGUsXCJzZXRBdWRpb0J1ZmZlclBsYXliYWNrU3BlZWRcIiksVWUucHJvdG90eXBlKSxVZSksZ2U9Y2xhc3MgdCBleHRlbmRzIFF0e2dldCBfX2NsYXNzTmFtZV9fKCl7cmV0dXJuIFwiTWl4aW5nQXVkaW9UcmFja1wifWdldCBpc0FjdGl2ZSgpe2ZvcihsZXQgZSBvZiB0aGlzLnRyYWNrTGlzdClpZihlLl9lbmFibGVkJiYhZS5faXNDbG9zZWQmJiFlLm11dGVkKXJldHVybiAhMDtyZXR1cm4gITF9Y29uc3RydWN0b3IoKXtsZXQgZT1nYSgpLmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKTtzdXBlcihlLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdLHZvaWQgMCxVdCg4LFwidHJhY2stbWl4LVwiKSksUCh0aGlzLFwidHJhY2tMaXN0XCIsdm9pZCAwKSxQKHRoaXMsXCJkZXN0Tm9kZVwiLHZvaWQgMCksdGhpcy5fdXNlQXVkaW9FbGVtZW50PSExO3RyeXt0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPXRoaXMuX3NvdXJjZS5jcmVhdGVPdXRwdXRUcmFjaygpO31jYXRjaHt9dGhpcy5kZXN0Tm9kZT1lLHRoaXMudHJhY2tMaXN0PVtdO31oYXNBdWRpb1RyYWNrKGUpe3JldHVybiB0aGlzLnRyYWNrTGlzdC5pbmRleE9mKGUpIT09LTF9YWRkQXVkaW9UcmFjayhlKXt0aGlzLnRyYWNrTGlzdC5pbmRleE9mKGUpPT09LTE/KF8uZGVidWcoXCJhZGQgXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiIHRvIG1peGluZyB0cmFja1wiKSksZS5fc291cmNlLm91dHB1dE5vZGUuY29ubmVjdCh0aGlzLmRlc3ROb2RlKSx0aGlzLnRyYWNrTGlzdC5wdXNoKGUpLHRoaXMudXBkYXRlRW5jb2RlckNvbmZpZygpKTpfLmRlYnVnKFwidHJhY2sgXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiIGlzIGFscmVhZHkgYWRkZWRcIikpO31yZW1vdmVBdWRpb1RyYWNrKGUpe2lmKHRoaXMudHJhY2tMaXN0LmluZGV4T2YoZSkhPT0tMSl7Xy5kZWJ1ZyhcInJlbW92ZSBcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCIgZnJvbSBtaXhpbmcgdHJhY2tcIikpO3RyeXtlLl9zb3VyY2Uub3V0cHV0Tm9kZS5kaXNjb25uZWN0KHRoaXMuZGVzdE5vZGUpO31jYXRjaHt9V2wodGhpcy50cmFja0xpc3QsZSksdGhpcy51cGRhdGVFbmNvZGVyQ29uZmlnKCk7fX11cGRhdGVFbmNvZGVyQ29uZmlnKCl7bGV0IGU9e307dGhpcy50cmFja0xpc3QuZm9yRWFjaChuPT57bi5fZW5jb2RlckNvbmZpZyYmKChuLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGV8fDApPihlLmJpdHJhdGV8fDApJiYoZS5iaXRyYXRlPW4uX2VuY29kZXJDb25maWcuYml0cmF0ZSksKG4uX2VuY29kZXJDb25maWcuc2FtcGxlUmF0ZXx8MCk+KGUuc2FtcGxlUmF0ZXx8MCkmJihlLnNhbXBsZVJhdGU9bi5fZW5jb2RlckNvbmZpZy5zYW1wbGVSYXRlKSwobi5fZW5jb2RlckNvbmZpZy5zYW1wbGVTaXplfHwwKT4oZS5zYW1wbGVTaXplfHwwKSYmKGUuc2FtcGxlU2l6ZT1uLl9lbmNvZGVyQ29uZmlnLnNhbXBsZVNpemUpLG4uX2VuY29kZXJDb25maWcuc3RlcmVvJiYoZS5zdGVyZW89ITApKTt9KSx0aGlzLl9lbmNvZGVyQ29uZmlnPWU7fV91cGRhdGVSdHBUcmFuc2NlaXZlcihlKXt0aGlzLl9ydHBUcmFuc2NlaXZlciE9PWUmJih0aGlzLl9ydHBUcmFuc2NlaXZlcj1lLHRoaXMudHJhY2tMaXN0LmZvckVhY2gobj0+e24gaW5zdGFuY2VvZiB0P24uZW1pdChLby5UUkFOU0NFSVZFUl9VUERBVEVELGUpOm4uX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGUpO30pKTt9fSxKRT1jbGFzcyBleHRlbmRzIFpse3NldCBjdXJyZW50U3RhdGUoZSl7ZSE9PXRoaXMuX2N1cnJlbnRTdGF0ZSYmKHRoaXMuX2N1cnJlbnRTdGF0ZT1lLHRoaXMuc2FmZUVtaXQoam4uQVVESU9fU09VUkNFX1NUQVRFX0NIQU5HRSx0aGlzLl9jdXJyZW50U3RhdGUpKTt9Z2V0IGN1cnJlbnRTdGF0ZSgpe3JldHVybiB0aGlzLl9jdXJyZW50U3RhdGV9Y29uc3RydWN0b3IoZSl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOnt9O3N1cGVyKCksUCh0aGlzLFwiYXVkaW9CdWZmZXJcIix2b2lkIDApLFAodGhpcyxcInNvdXJjZU5vZGVcIix2b2lkIDApLFAodGhpcyxcInN0YXJ0UGxheVRpbWVcIiwwKSxQKHRoaXMsXCJzdGFydFBsYXlPZmZzZXRcIiwwKSxQKHRoaXMsXCJwYXVzZVBsYXlUaW1lXCIsMCksUCh0aGlzLFwib3B0aW9uc1wiLHZvaWQgMCksUCh0aGlzLFwiY3VycmVudExvb3BDb3VudFwiLDApLFAodGhpcyxcImN1cnJlbnRQbGF5YmFja1NwZWVkXCIsMTAwKSxQKHRoaXMsXCJfY3VycmVudFN0YXRlXCIsXCJzdG9wcGVkXCIpLHRoaXMuYXVkaW9CdWZmZXI9ZSx0aGlzLm9wdGlvbnM9bix0aGlzLnN0YXJ0UGxheU9mZnNldD10aGlzLm9wdGlvbnMuc3RhcnRQbGF5VGltZXx8MDt9Y3JlYXRlV2ViQXVkaW9EaWFncmFtKCl7cmV0dXJuIHRoaXMuY29udGV4dC5jcmVhdGVHYWluKCl9Z2V0IGR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuYXVkaW9CdWZmZXI/dGhpcy5hdWRpb0J1ZmZlci5kdXJhdGlvbjowfWdldCBwbGF5YmFja1NwZWVkKCl7cmV0dXJuIHRoaXMuY3VycmVudFBsYXliYWNrU3BlZWR9Z2V0IGN1cnJlbnRUaW1lKCl7cmV0dXJuIHRoaXMuYXVkaW9CdWZmZXI/dGhpcy5jdXJyZW50U3RhdGU9PT1cInN0b3BwZWRcIj8wOnRoaXMuY3VycmVudFN0YXRlPT09XCJwYXVzZWRcIj90aGlzLnBhdXNlUGxheVRpbWU6KCh0aGlzLmNvbnRleHQuY3VycmVudFRpbWUtdGhpcy5zdGFydFBsYXlUaW1lKSoodGhpcy5wbGF5YmFja1NwZWVkLzEwMCkrdGhpcy5zdGFydFBsYXlPZmZzZXQpJXRoaXMuYXVkaW9CdWZmZXIuZHVyYXRpb246MH11cGRhdGVPcHRpb25zKGUpe3RoaXMuY3VycmVudFN0YXRlPT09XCJzdG9wcGVkXCI/KHRoaXMub3B0aW9ucz1lLHRoaXMuc3RhcnRQbGF5T2Zmc2V0PXRoaXMub3B0aW9ucy5zdGFydFBsYXlUaW1lfHwwKTpfLndhcm5pbmcoXCJjYW4gbm90IHNldCBhdWRpbyBzb3VyY2Ugb3B0aW9uc1wiKTt9c3RhcnRQcm9jZXNzQXVkaW9CdWZmZXIoKXt0aGlzLnNvdXJjZU5vZGUmJnRoaXMuc3RvcFByb2Nlc3NBdWRpb0J1ZmZlcigpLHRoaXMuc291cmNlTm9kZT10aGlzLmNyZWF0ZVNvdXJjZU5vZGUoKSx0aGlzLnN0YXJ0U291cmNlTm9kZSgpLHRoaXMuY3VycmVudFN0YXRlPVwicGxheWluZ1wiO31wYXVzZVByb2Nlc3NBdWRpb0J1ZmZlcigpe3RoaXMuc291cmNlTm9kZSYmdGhpcy5jdXJyZW50U3RhdGU9PT1cInBsYXlpbmdcIiYmKHRoaXMucGF1c2VQbGF5VGltZT10aGlzLmN1cnJlbnRUaW1lLHRoaXMuc291cmNlTm9kZS5vbmVuZGVkPW51bGwsdGhpcy5zb3VyY2VOb2RlLnN0b3AoKSx0aGlzLnNvdXJjZU5vZGUuYnVmZmVyPW51bGwsdGhpcy5zb3VyY2VOb2RlPXRoaXMuY3JlYXRlU291cmNlTm9kZSgpLHRoaXMuY3VycmVudFN0YXRlPVwicGF1c2VkXCIpO31zZWVrQXVkaW9CdWZmZXIoZSl7dGhpcy5zb3VyY2VOb2RlJiYodGhpcy5zb3VyY2VOb2RlLm9uZW5kZWQ9bnVsbCx0aGlzLmN1cnJlbnRTdGF0ZT09PVwicGxheWluZ1wiJiZ0aGlzLnNvdXJjZU5vZGUuc3RvcCgpLHRoaXMuc291cmNlTm9kZT10aGlzLmNyZWF0ZVNvdXJjZU5vZGUoKSx0aGlzLmN1cnJlbnRTdGF0ZT09PVwicGxheWluZ1wiPyh0aGlzLnN0YXJ0UGxheU9mZnNldD1lLHRoaXMuc3RhcnRTb3VyY2VOb2RlKCkpOnRoaXMuY3VycmVudFN0YXRlPT09XCJwYXVzZWRcIiYmKHRoaXMucGF1c2VQbGF5VGltZT1lKSk7fXJlc3VtZVByb2Nlc3NBdWRpb0J1ZmZlcigpe3RoaXMuY3VycmVudFN0YXRlPT09XCJwYXVzZWRcIiYmdGhpcy5zb3VyY2VOb2RlJiYodGhpcy5zdGFydFBsYXlPZmZzZXQ9dGhpcy5wYXVzZVBsYXlUaW1lLHRoaXMucGF1c2VQbGF5VGltZT0wLHRoaXMuc3RhcnRTb3VyY2VOb2RlKCksdGhpcy5jdXJyZW50U3RhdGU9XCJwbGF5aW5nXCIpO31zdG9wUHJvY2Vzc0F1ZGlvQnVmZmVyKCl7aWYodGhpcy5zb3VyY2VOb2RlKXt0aGlzLnNvdXJjZU5vZGUub25lbmRlZD1udWxsO3RyeXt0aGlzLnNvdXJjZU5vZGUuc3RvcCgpO31jYXRjaHt9dGhpcy5yZXNldCgpO319ZGVzdHJveSgpe3RoaXMuYXVkaW9CdWZmZXI9bnVsbCxzdXBlci5kZXN0cm95KCk7fXNldEF1ZGlvQnVmZmVyUGxheWJhY2tTcGVlZChlKXt0aGlzLnNvdXJjZU5vZGUmJih0aGlzLmN1cnJlbnRTdGF0ZT09PVwicGxheWluZ1wiJiYodGhpcy5zdGFydFBsYXlPZmZzZXQ9dGhpcy5jdXJyZW50VGltZSx0aGlzLnN0YXJ0UGxheVRpbWU9dGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lKSx0aGlzLnNvdXJjZU5vZGUucGxheWJhY2tSYXRlLnZhbHVlPWUvMTAwKSx0aGlzLmN1cnJlbnRQbGF5YmFja1NwZWVkPWU7fXN0YXJ0U291cmNlTm9kZSgpe3RoaXMuc291cmNlTm9kZSYmdGhpcy5zb3VyY2VOb2RlLmJ1ZmZlciYmKHRoaXMuc291cmNlTm9kZS5zdGFydCgwLHRoaXMuc3RhcnRQbGF5T2Zmc2V0KSx0aGlzLnN0YXJ0UGxheVRpbWU9dGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLHRoaXMuc291cmNlTm9kZS5vbmVuZGVkPXRoaXMuaGFuZGxlU291cmNlTm9kZUVuZGVkLmJpbmQodGhpcykpO31jcmVhdGVTb3VyY2VOb2RlKCl7bGV0IGU9dGhpcy5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO3JldHVybiBlLmJ1ZmZlcj10aGlzLmF1ZGlvQnVmZmVyLGUubG9vcD0hIXRoaXMub3B0aW9ucy5sb29wLGUuY29ubmVjdCh0aGlzLm91dHB1dE5vZGUpLGUucGxheWJhY2tSYXRlLnZhbHVlPXRoaXMuY3VycmVudFBsYXliYWNrU3BlZWQvMTAwLGV9aGFuZGxlU291cmNlTm9kZUVuZGVkKCl7aWYodGhpcy5jdXJyZW50TG9vcENvdW50Kz0xLHRoaXMub3B0aW9ucy5jeWNsZSYmdGhpcy5vcHRpb25zLmN5Y2xlPnRoaXMuY3VycmVudExvb3BDb3VudClyZXR1cm4gdGhpcy5zdGFydFBsYXlPZmZzZXQ9MCx0aGlzLnNvdXJjZU5vZGU9dm9pZCAwLHZvaWQgdGhpcy5zdGFydFByb2Nlc3NBdWRpb0J1ZmZlcigpO3RoaXMucmVzZXQoKTt9cmVzZXQoKXt0aGlzLnN0YXJ0UGxheU9mZnNldD10aGlzLm9wdGlvbnMuc3RhcnRQbGF5VGltZXx8MCx0aGlzLmN1cnJlbnRTdGF0ZT1cInN0b3BwZWRcIix0aGlzLnNvdXJjZU5vZGUmJih0aGlzLnNvdXJjZU5vZGUuZGlzY29ubmVjdCgpLHRoaXMuc291cmNlTm9kZT12b2lkIDApLHRoaXMuY3VycmVudExvb3BDb3VudD0wO319LGVJPW5ldyBNYXAsa2M9Y2xhc3N7Z2V0IHJlbmRGcmFtZVJhdGUoKXtpZih0aGlzLnJlbmRlclN0YXRzJiZ0aGlzLnJlbmRlclN0YXRzLmN1clRzIT09dGhpcy5yZW5kZXJTdGF0cy5sYXN0VHMpe2xldCBlPXRoaXMucmVuZGVyU3RhdHMuY3VyVHMtdGhpcy5yZW5kZXJTdGF0cy5sYXN0VHMsbj0odGhpcy5yZW5kZXJTdGF0cy5yZW5kZXJOdW0tdGhpcy5yZW5kZXJTdGF0cy5sYXN0UmVuZGVyTnVtKS9lO3JldHVybiB0aGlzLnJlbmRlclN0YXRzLmxhc3RSZW5kZXJOdW09dGhpcy5yZW5kZXJTdGF0cy5yZW5kZXJOdW0sdGhpcy5yZW5kZXJTdGF0cy5sYXN0VHM9dGhpcy5yZW5kZXJTdGF0cy5jdXJUcyxufXJldHVybiAwfWdldCB2aWRlb0VsZW1lbnRTdGF0dXMoKXtyZXR1cm4gdGhpcy5fdmlkZW9FbGVtZW50U3RhdHVzfXNldCB2aWRlb0VsZW1lbnRTdGF0dXMoZSl7ZSE9PXRoaXMuX3ZpZGVvRWxlbWVudFN0YXR1cyYmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gdmlkZW8tZWxlbWVudC1zdGF0dXMgY2hhbmdlIFwiKS5jb25jYXQodGhpcy5fdmlkZW9FbGVtZW50U3RhdHVzLFwiID0+IFwiKS5jb25jYXQoZSkpLHRoaXMuX3ZpZGVvRWxlbWVudFN0YXR1cz1lKTt9Z2V0IHZpZGVvU3RhdGUoKXtyZXR1cm4gdGhpcy5fdmlkZW9TdGF0ZX1zZXQgdmlkZW9TdGF0ZShlKXt2YXIgbjtlIT09dGhpcy5fdmlkZW9TdGF0ZSYmKHRoaXMuX3ZpZGVvU3RhdGU9ZSwobj10aGlzLm9uVmlkZW9TdGF0ZUNoYW5nZWQpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jYWxsKHRoaXMsdGhpcy52aWRlb1N0YXRlKSk7fWNvbnN0cnVjdG9yKGUpe1AodGhpcyxcInRyYWNrSWRcIix2b2lkIDApLFAodGhpcyxcImNvbmZpZ1wiLHZvaWQgMCksUCh0aGlzLFwib25GaXJzdFZpZGVvRnJhbWVEZWNvZGVkXCIsdm9pZCAwKSxQKHRoaXMsXCJvblZpZGVvU3RhdGVDaGFuZ2VkXCIsdm9pZCAwKSxQKHRoaXMsXCJmcmVlemVUaW1lQ291bnRlckxpc3RcIixbXSksUCh0aGlzLFwicmVuZGVyRnJlZXplQWNjVGltZVwiLDApLFAodGhpcyxcImlzS2VlcExhc3RGcmFtZVwiLCExKSxQKHRoaXMsXCJ0aW1lVXBkYXRlZENvdW50XCIsMCksUCh0aGlzLFwiZnJlZXplVGltZVwiLDApLFAodGhpcyxcInBsYXliYWNrVGltZVwiLDApLFAodGhpcyxcImxhc3RUaW1lVXBkYXRlZFRpbWVcIiwwKSxQKHRoaXMsXCJhdXRvcGxheUZhaWxlZFwiLCExKSxQKHRoaXMsXCJ2aWRlb1RyYWNrXCIsdm9pZCAwKSxQKHRoaXMsXCJ2aWRlb0VsZW1lbnRcIix2b2lkIDApLFAodGhpcyxcImNhY2hlVmlkZW9FbGVtZW50XCIsdm9pZCAwKSxQKHRoaXMsXCJyZW5kZXJTdGF0c1wiLHZvaWQgMCksUCh0aGlzLFwiX3ZpZGVvU3RhdGVcIix6aS5WaWRlb1N0YXRlU3RvcHBlZCksUCh0aGlzLFwidmlkZW9FbGVtZW50Q2hlY2tJbnRlcnZhbFwiLHZvaWQgMCksUCh0aGlzLFwidmlkZW9FbGVtZW50RnJlZXplVGltZW91dFwiLHZvaWQgMCksUCh0aGlzLFwiX3ZpZGVvRWxlbWVudFN0YXR1c1wiLG5uLk5PTkUpLFAodGhpcyxcImlzR2V0dGluZ1ZpZGVvRGltZW5zaW9uc1wiLCExKSxQKHRoaXMsXCJzdGFydEdldFZpZGVvRGltZW5zaW9uc1wiLCgpPT57bGV0IG49KCk9PntpZih0aGlzLmlzR2V0dGluZ1ZpZGVvRGltZW5zaW9ucz0hMCx0aGlzLnZpZGVvRWxlbWVudC52aWRlb1dpZHRoKnRoaXMudmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0PjQpcmV0dXJuIF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gY3VycmVudCB2aWRlbyBkaW1lbnNpb25zOlwiKSx0aGlzLnZpZGVvRWxlbWVudC52aWRlb1dpZHRoLHRoaXMudmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0KSx2b2lkKHRoaXMuaXNHZXR0aW5nVmlkZW9EaW1lbnNpb25zPSExKTtzZXRUaW1lb3V0KG4sNTAwKTt9OyF0aGlzLmlzR2V0dGluZ1ZpZGVvRGltZW5zaW9ucyYmbigpO30pLFAodGhpcyxcImF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvblwiLCgpPT57dGhpcy52aWRlb1RyYWNrJiZ0aGlzLnZpZGVvVHJhY2sucmVhZHlTdGF0ZT09PVwibGl2ZVwiJiZ3dC5jdXJTdGF0ZT09PVwicnVubmluZ1wiJiYoXy5kZWJ1ZyhcIlt0cmFjay1cIi5jb25jYXQodGhpcy50cmFja0lkLFwiXSB2aWRlbyBlbGVtZW50IHBhdXNlZCwgYXV0byByZXN1bWUgZm9yIFwiKS5jb25jYXQoZFIoKSkpLHBSKCk/KHRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdD1udWxsLHRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW3RoaXMudmlkZW9UcmFja10pLHRoaXMudmlkZW9FbGVtZW50LnBsYXkoKSk6KHRoaXMudmlkZW9FbGVtZW50LnBhdXNlKCksdGhpcy52aWRlb0VsZW1lbnQucGxheSgpKSk7fSksUCh0aGlzLFwiaGFuZGxlVmlkZW9FdmVudHNcIixuPT57c3dpdGNoKG4udHlwZSl7Y2FzZVwicGxheVwiOmNhc2VcInBsYXlpbmdcIjp0aGlzLnN0YXJ0R2V0VmlkZW9EaW1lbnNpb25zKCksdGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9bm4uUExBWUlORzticmVhaztjYXNlXCJsb2FkZWRkYXRhXCI6aWYodGhpcy52aWRlb1N0YXRlPXppLlZpZGVvU3RhdGVTdGFydGluZyx0aGlzLm9uRmlyc3RWaWRlb0ZyYW1lRGVjb2RlZCYmdGhpcy5vbkZpcnN0VmlkZW9GcmFtZURlY29kZWQoKSx0aGlzLmNhY2hlVmlkZW9FbGVtZW50KXt0cnl7dGhpcy5jYWNoZVZpZGVvRWxlbWVudC5zcmNPYmplY3Q9bnVsbCx0aGlzLmNhY2hlVmlkZW9FbGVtZW50LnJlbW92ZSgpO31jYXRjaHt9dGhpcy5jYWNoZVZpZGVvRWxlbWVudD12b2lkIDA7fWJyZWFrO2Nhc2VcImNhbnBsYXlcIjp0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz1ubi5DQU5QTEFZO2JyZWFrO2Nhc2VcInN0YWxsZWRcIjp0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz1ubi5TVEFMTEVEO2JyZWFrO2Nhc2VcInN1c3BlbmRcIjp0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz1ubi5TVVNQRU5EO2JyZWFrO2Nhc2VcInBhdXNlXCI6dGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9bm4uUEFVU0VELGxuKCl8fHZpKCl8fGplKCkmJnRoaXMuYXV0b3BsYXlGYWlsZWR8fCF0aGlzLnZpZGVvVHJhY2t8fHRoaXMudmlkZW9UcmFjay5yZWFkeVN0YXRlIT09XCJsaXZlXCJ8fChfLmRlYnVnKFwiW3RyYWNrLVwiLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCJdIHZpZGVvIGVsZW1lbnQgcGF1c2VkLCBhdXRvIHJlc3VtZVwiKSksdGhpcy52aWRlb0VsZW1lbnQucGxheSgpKTticmVhaztjYXNlXCJ3YWl0aW5nXCI6dGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9bm4uV0FJVElORzticmVhaztjYXNlXCJhYm9ydFwiOnRoaXMudmlkZW9FbGVtZW50U3RhdHVzPW5uLkFCT1JUO2JyZWFrO2Nhc2VcImVuZGVkXCI6dGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9bm4uRU5ERUQ7YnJlYWs7Y2FzZVwiZW1wdGllZFwiOnRoaXMudmlkZW9FbGVtZW50U3RhdHVzPW5uLkVNUFRJRUQ7YnJlYWs7Y2FzZVwiZXJyb3JcIjp7bGV0IGk9dGhpcy52aWRlb0VsZW1lbnQuZXJyb3I7aT8odGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9bm4uRVJST1IsXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy50cmFja0lkLFwiXSBtZWRpYSBlcnJvcjogXCIpLmNvbmNhdChpLm1lc3NhZ2UsXCIgKFwiKS5jb25jYXQoaS5jb2RlLFwiKVwiKSkpOl8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gbWVkaWEgbm90IGJlZW4gYW4gZXJyb3IuXCIpKTticmVha31jYXNlXCJ0aW1ldXBkYXRlXCI6e2xldCBpPXBlcmZvcm1hbmNlLm5vdygpO2lmKHRoaXMudGltZVVwZGF0ZWRDb3VudCs9MSx0aGlzLnRpbWVVcGRhdGVkQ291bnQ8MTApcmV0dXJuIHZvaWQodGhpcy5sYXN0VGltZVVwZGF0ZWRUaW1lPWkpO2xldCByPWktdGhpcy5sYXN0VGltZVVwZGF0ZWRUaW1lLG89dGhpcy5sYXN0VGltZVVwZGF0ZWRUaW1lO2lmKHRoaXMubGFzdFRpbWVVcGRhdGVkVGltZT1pLHlyLmxhc3RWaXNpYmxlVGltZTx5ci5sYXN0SGlkZGVuVGltZXx8bzx5ci5sYXN0SGlkZGVuVGltZXx8bzx5ci5sYXN0VmlzaWJsZVRpbWUpcmV0dXJuO2ZvcihyPnYoXCJWSURFT19GUkVFWkVfRFVSQVRJT05cIikmJih0aGlzLmZyZWV6ZVRpbWUrPXIpLHRoaXMucGxheWJhY2tUaW1lKz1yO3RoaXMucGxheWJhY2tUaW1lPj02ZTM7KXt0aGlzLnBsYXliYWNrVGltZS09NmUzO2xldCBzPU1hdGgubWluKDZlMyx0aGlzLmZyZWV6ZVRpbWUpO3RoaXMuZnJlZXplVGltZUNvdW50ZXJMaXN0LnB1c2gocyksdGhpcy5mcmVlemVUaW1lPU1hdGgubWF4KDAsdGhpcy5mcmVlemVUaW1lLTZlMyk7fWJyZWFrfX19KSxQKHRoaXMsXCJhdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb25PbklPUzE1XzE2XCIsKCk9Pnt0aGlzLnZpZGVvVHJhY2smJnRoaXMudmlkZW9UcmFjay5yZWFkeVN0YXRlPT09XCJsaXZlXCImJihfLmRlYnVnKFwiW3RyYWNrLVwiLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCJdIHZpZGVvIGVsZW1lbnQgcGF1c2VkLCBhdXRvIHJlc3VtZSBmb3IgXCIpLmNvbmNhdChkUigpKSkscFIoKT8odGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0PW51bGwsdGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0PW5ldyBNZWRpYVN0cmVhbShbdGhpcy52aWRlb1RyYWNrXSksdGhpcy52aWRlb0VsZW1lbnQucGxheSgpKToodGhpcy52aWRlb0VsZW1lbnQucGF1c2UoKSx0aGlzLnZpZGVvRWxlbWVudC5wbGF5KCkpKTt9KSx0aGlzLnRyYWNrSWQ9ZS50cmFja0lkLHRoaXMuY29uZmlnPWUsZS5lbGVtZW50IGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudD90aGlzLnZpZGVvRWxlbWVudD1lLmVsZW1lbnQ6dGhpcy52aWRlb0VsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpLHd0Lm9uKGtlLklPU19JTlRFUlJVUFRJT05fRU5ELHRoaXMuYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uKSx3dC5vbihrZS5JT1NfMTVfMTZfSU5URVJSVVBUSU9OX0VORCx0aGlzLmF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvbk9uSU9TMTVfMTYpO31nZXRWaWRlb0VsZW1lbnQoKXtyZXR1cm4gdGhpcy52aWRlb0VsZW1lbnR9Z2V0Q29udGFpbmVyRWxlbWVudCgpe3ZhciBlO3JldHVybiAoZT10aGlzLnZpZGVvRWxlbWVudC5wYXJlbnRFbGVtZW50KSE9PW51bGwmJmUhPT12b2lkIDA/ZTp2b2lkIDB9dXBkYXRlQ29uZmlnKGUpe3RoaXMuY29uZmlnPWUsdGhpcy50cmFja0lkPWUudHJhY2tJZCxlLmVsZW1lbnQhPT10aGlzLnZpZGVvRWxlbWVudCYmKHRoaXMuZGVzdHJveSgpLHRoaXMudmlkZW9FbGVtZW50PWUuZWxlbWVudCksdGhpcy52aWRlb1RyYWNrJiZ0aGlzLmluaXRWaWRlb0VsZW1lbnQoKTt9dXBkYXRlVmlkZW9UcmFjayhlKXt0aGlzLnZpZGVvVHJhY2shPT1lJiYodGhpcy52aWRlb1RyYWNrPWUsdGhpcy5pbml0VmlkZW9FbGVtZW50KCkpO31wbGF5KGUpe2xldCBuPXRoaXMudmlkZW9FbGVtZW50LnBsYXkoKTtuJiZuLmNhdGNoJiZuLmNhdGNoKHI9PntlJiZKTyhlLFwidmlkZW9cIixyLm1lc3NhZ2UsdGhpcy50cmFja0lkKSxyLm5hbWU9PT1cIk5vdEFsbG93ZWRFcnJvclwiPyhfLndhcm5pbmcoXCJkZXRlY3RlZCB2aWRlbyBlbGVtZW50IGF1dG9wbGF5IGZhaWxlZFwiLHIpLHRoaXMuYXV0b3BsYXlGYWlsZWQ9ITAsdGhpcy5oYW5kbGVBdXRvUGxheUZhaWxlZCgpKTpfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gcGxheSB3YXJuaW5nOiBcIikscik7fSk7bGV0IGk9bXQoKTtpZigoaS5uYW1lPT09XCJTYWZhcmlcIiYmTnVtYmVyKGkudmVyc2lvbik9PT0xNXx8WnMoKSkmJm4mJm4udGhlbil7bGV0IHI9KCk9Pnt0aGlzLmNvbmZpZy5taXJyb3ImJih0aGlzLnZpZGVvRWxlbWVudC5zdHlsZS50cmFuc2Zvcm09XCJyb3RhdGVZKDE4MGRlZylcIik7fTtuLnRoZW4ocikuY2F0Y2gocik7fX1nZXRDdXJyZW50RnJhbWUoKXtsZXQgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2Uud2lkdGg9dGhpcy52aWRlb0VsZW1lbnQudmlkZW9XaWR0aCxlLmhlaWdodD10aGlzLnZpZGVvRWxlbWVudC52aWRlb0hlaWdodDtsZXQgbj1lLmdldENvbnRleHQoXCIyZFwiKTtpZighbilyZXR1cm4gXy5lcnJvcihcImNyZWF0ZSBjYW52YXMgY29udGV4dCBmYWlsZWQhXCIpLG5ldyBJbWFnZURhdGEoMiwyKTtuLmRyYXdJbWFnZSh0aGlzLnZpZGVvRWxlbWVudCwwLDAsZS53aWR0aCxlLmhlaWdodCk7bGV0IGk9bi5nZXRJbWFnZURhdGEoMCwwLGUud2lkdGgsZS5oZWlnaHQpO3JldHVybiBlLnJlbW92ZSgpLGl9YXN5bmMgZ2V0Q3VycmVudEZyYW1lVG9VaW50OEFycmF5KGUpe2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXToxLGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtpLndpZHRoPXRoaXMudmlkZW9FbGVtZW50LnZpZGVvV2lkdGgsaS5oZWlnaHQ9dGhpcy52aWRlb0VsZW1lbnQudmlkZW9IZWlnaHQ7bGV0IHI9aS5nZXRDb250ZXh0KFwiMmRcIik7cmV0dXJuIHI/KHIuZHJhd0ltYWdlKHRoaXMudmlkZW9FbGVtZW50LDAsMCxpLndpZHRoLGkuaGVpZ2h0KSxuZXcgaigobyxzKT0+e2kudG9CbG9iKGFzeW5jIGE9PntpZihpLnJlbW92ZSgpLGEpe2xldCBjPWF3YWl0IFpPKGEpO28oe2J1ZmZlcjpjLHdpZHRoOmkud2lkdGgsaGVpZ2h0OmkuaGVpZ2h0fSk7fWVsc2UgcyhuZXcgTihSLkNPTlZFUlRJTkdfVklERU9fRlJBTUVfVE9fQkxPQl9GQUlMRUQpKTt9LGUsbjwwPy4xOm4+MT8xOm4pO30pKTphd2FpdCBDZihlKX1kZXN0cm95KCl7dGhpcy5yZW5kZXJTdGF0cz12b2lkIDAsd3Qub2ZmKGtlLklPU19JTlRFUlJVUFRJT05fRU5ELHRoaXMuYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uKSx3dC5vZmYoa2UuSU9TXzE1XzE2X0lOVEVSUlVQVElPTl9FTkQsdGhpcy5hdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb25PbklPUzE1XzE2KSx0aGlzLnZpZGVvRWxlbWVudC5zcmNPYmplY3Q9bnVsbCx0aGlzLnJlc2V0VmlkZW9FbGVtZW50KCksdGhpcy5mcmVlemVUaW1lQ291bnRlckxpc3Q9W10sdGhpcy52aWRlb1N0YXRlPXppLlZpZGVvU3RhdGVTdG9wcGVkO31pbml0VmlkZW9FbGVtZW50KCl7aWYodGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9bm4uSU5JVCwhdGhpcy52aWRlb0VsZW1lbnRDaGVja0ludGVydmFsJiYobkkuZm9yRWFjaChvPT57dGhpcy52aWRlb0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihvLHRoaXMuaGFuZGxlVmlkZW9FdmVudHMpO30pLHRoaXMudmlkZW9FbGVtZW50Q2hlY2tJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCk9PnsoZnVuY3Rpb24obyl7cmV0dXJuIG8hPT1kb2N1bWVudC5ib2R5JiZkb2N1bWVudC5ib2R5LmNvbnRhaW5zKG8pfSkodGhpcy52aWRlb0VsZW1lbnQpfHwodGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9bm4uREVTVFJPWUVEKTt9LDFlMyksdihcIkVOQUJMRV9WSURFT19GUkFNRV9DQUxMQkFDS1wiKSkpe3ZhciBlLG47bGV0IG8scz0oKT0+e2RvY3VtZW50LnZpc2liaWxpdHlTdGF0ZT09PVwidmlzaWJsZVwiJiYoZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIixzKSx0aGlzLnZpZGVvRWxlbWVudEZyZWV6ZVRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoYSx2KFwiVklERU9fRlJFRVpFX0RVUkFUSU9OXCIpKSk7fSxhPSgpPT57dGhpcy52aWRlb0VsZW1lbnRGcmVlemVUaW1lb3V0PXZvaWQgMCx0aGlzLnZpZGVvU3RhdGU9PT16aS5WaWRlb1N0YXRlRGVjb2RpbmcmJihkb2N1bWVudC52aXNpYmlsaXR5U3RhdGU9PT1cInZpc2libGVcIj90aGlzLnZpZGVvU3RhdGU9emkuVmlkZW9TdGF0ZUZyb3plbjpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHMpKTt9LGM9KGQsbCk9PntpZih0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz09PW5uLlBMQVlJTkcpe2lmKHRoaXMucmVuZGVyU3RhdHM/KHRoaXMucmVuZGVyU3RhdHMucmVuZGVyTnVtKyssdGhpcy5yZW5kZXJTdGF0cy5jdXJUcz1sLm1lZGlhVGltZSk6dGhpcy5yZW5kZXJTdGF0cz17bGFzdFRzOmwubWVkaWFUaW1lLGN1clRzOmwubWVkaWFUaW1lLGxhc3RSZW5kZXJOdW06MCxyZW5kZXJOdW06MH0sbyl7bGV0IHA9bC5wcmVzZW50YXRpb25UaW1lLW8ucHJlc2VudGF0aW9uVGltZTt0aGlzLnZpZGVvU3RhdGU9PT16aS5WaWRlb1N0YXRlU3RhcnRpbmcmJih0aGlzLnZpZGVvU3RhdGU9emkuVmlkZW9TdGF0ZURlY29kaW5nKSx0aGlzLnZpZGVvU3RhdGU9PT16aS5WaWRlb1N0YXRlRGVjb2RpbmcmJnRoaXMub25WaWRlb1N0YXRlQ2hhbmdlZCYmKHRoaXMudmlkZW9FbGVtZW50RnJlZXplVGltZW91dCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnZpZGVvRWxlbWVudEZyZWV6ZVRpbWVvdXQpLHRoaXMudmlkZW9FbGVtZW50RnJlZXplVGltZW91dD13aW5kb3cuc2V0VGltZW91dChhLHYoXCJWSURFT19GUkVFWkVfRFVSQVRJT05cIikpKSxwPHYoXCJWSURFT19GUkVFWkVfRFVSQVRJT05cIikmJnRoaXMudmlkZW9TdGF0ZT09PXppLlZpZGVvU3RhdGVGcm96ZW4mJih0aGlzLnZpZGVvU3RhdGU9emkuVmlkZW9TdGF0ZURlY29kaW5nKSxwPnYoXCJWSURFT19GUkVFWkVfRFVSQVRJT05cIikmJnlyLmxhc3RWaXNpYmxlVGltZT49eXIubGFzdEhpZGRlblRpbWUmJm8udGltZXN0YW1wPnlyLmxhc3RWaXNpYmxlVGltZSYmby50aW1lc3RhbXA+eXIubGFzdEhpZGRlblRpbWUmJih0aGlzLnJlbmRlckZyZWV6ZUFjY1RpbWUrPXApO31vPUt0KEt0KHt9LGwpLHt9LHt0aW1lc3RhbXA6ZH0pO312YXIgdSxoO3YoXCJFTkFCTEVfVklERU9fRlJBTUVfQ0FMTEJBQ0tcIikmJigodT0oaD10aGlzLnZpZGVvRWxlbWVudCkucmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjayk9PT1udWxsfHx1PT09dm9pZCAwfHx1LmNhbGwoaCxjKSk7fTsoZT0obj10aGlzLnZpZGVvRWxlbWVudCkucmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjayk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmNhbGwobixjKTt9dGhpcy52aWRlb0VsZW1lbnQuY29udHJvbHM9ITEsdGhpcy52aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcIlwiKSxLdSgpJiYhdihcIkhJREVfTk9fUE9TVEVSXCIpJiYodGhpcy52aWRlb0VsZW1lbnQucG9zdGVyPVwibm9wb3N0ZXJcIik7bGV0IGk9bXQoKTtpLm5hbWU9PT1cIlNhZmFyaVwiJiZOdW1iZXIoaS52ZXJzaW9uKT09PTE1fHxacygpfHwhdGhpcy5jb25maWcubWlycm9yfHwodGhpcy52aWRlb0VsZW1lbnQuc3R5bGUudHJhbnNmb3JtPVwicm90YXRlWSgxODBkZWcpXCIpLHRoaXMuY29uZmlnLmZpdD90aGlzLnZpZGVvRWxlbWVudC5zdHlsZS5vYmplY3RGaXQ9dGhpcy5jb25maWcuZml0OnRoaXMudmlkZW9FbGVtZW50LnN0eWxlLm9iamVjdEZpdD1cImNvdmVyXCIsdGhpcy52aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKFwibXV0ZWRcIixcIlwiKSx0aGlzLnZpZGVvRWxlbWVudC5tdXRlZD0hMCx0aGlzLnZpZGVvRWxlbWVudC5zcmNPYmplY3QmJnRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdCBpbnN0YW5jZW9mIE1lZGlhU3RyZWFtP3RoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdC5nZXRWaWRlb1RyYWNrcygpWzBdIT09dGhpcy52aWRlb1RyYWNrJiYodGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0PXRoaXMudmlkZW9UcmFjaz9uZXcgTWVkaWFTdHJlYW0oW3RoaXMudmlkZW9UcmFja10pOm51bGwsJHQoKSYmdGhpcy52aWRlb0VsZW1lbnQubG9hZCgpKToodGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0PXRoaXMudmlkZW9UcmFjaz9uZXcgTWVkaWFTdHJlYW0oW3RoaXMudmlkZW9UcmFja10pOm51bGwsJHQoKSYmdGhpcy52aWRlb0VsZW1lbnQubG9hZCgpKTtsZXQgcj10aGlzLnZpZGVvRWxlbWVudC5wbGF5KCk7ciE9PXZvaWQgMCYmci5jYXRjaChvPT57Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy50cmFja0lkLFwiXSBwbGF5YmFjayBpbnRlcnJ1cHRlZFwiKSxvLnRvU3RyaW5nKCkpO30pO31yZXNldFZpZGVvRWxlbWVudCgpe25JLmZvckVhY2goZT0+e3RoaXMudmlkZW9FbGVtZW50JiZ0aGlzLnZpZGVvRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGUsdGhpcy5oYW5kbGVWaWRlb0V2ZW50cyk7fSksdGhpcy52aWRlb0VsZW1lbnRDaGVja0ludGVydmFsJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy52aWRlb0VsZW1lbnRDaGVja0ludGVydmFsKSx0aGlzLnZpZGVvRWxlbWVudENoZWNrSW50ZXJ2YWw9dm9pZCAwKSx0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz1ubi5OT05FO31oYW5kbGVBdXRvUGxheUZhaWxlZCgpe2xldCBlPW49PntuLnByZXZlbnREZWZhdWx0KCksdGhpcy52aWRlb0VsZW1lbnQucGxheSgpLnRoZW4oKCk9PntfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCJdIFZpZGVvIGVsZW1lbnQgZm9yIHRyYWNrSWQ6XCIpLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCIgYXV0b3BsYXkgcmVzdW1lZC5cIikpO30pLmNhdGNoKGk9PntfLmVycm9yKGkpO30pLHRoaXMuYXV0b3BsYXlGYWlsZWQ9ITEseWMoKT9kb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGUsITApOihkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsZSwhMCksZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZSwhMCkpO307eWMoKT9kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGUsITApOihkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsZSwhMCksZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZSwhMCkpLHpPKCk7fX0sbkk9W1wicGxheVwiLFwicGxheWluZ1wiLFwibG9hZGVkZGF0YVwiLFwiY2FucGxheVwiLFwicGF1c2VcIixcInN0YWxsZWRcIixcInN1c3BlbmRcIixcIndhaXRpbmdcIixcImFib3J0XCIsXCJlbXB0aWVkXCIsXCJlbmRlZFwiLFwidGltZXVwZGF0ZVwiLFwiZXJyb3JcIl0sc3U9Y2xhc3MgZXh0ZW5kcyBrY3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSxQKHRoaXMsXCJjb250YWluZXJcIix2b2lkIDApLFAodGhpcyxcInNsb3RcIix2b2lkIDApLHRoaXMuc2xvdD1lLmVsZW1lbnQsdGhpcy51cGRhdGVDb25maWcoZSk7fXVwZGF0ZUNvbmZpZyhlKXt0aGlzLmNvbmZpZz1lLHRoaXMudHJhY2tJZD1lLnRyYWNrSWQ7bGV0IG49ZS5lbGVtZW50O24hPT10aGlzLnNsb3QmJih0aGlzLmRlc3Ryb3koKSx0aGlzLnNsb3Q9biksdGhpcy5jcmVhdGVFbGVtZW50cygpO311cGRhdGVWaWRlb1RyYWNrKGUpe3RoaXMudmlkZW9UcmFjayE9PWUmJih0aGlzLnZpZGVvVHJhY2s9ZSx0aGlzLmNyZWF0ZUVsZW1lbnRzKCkpO31wbGF5KGUpe3ZhciBuOyhuPXRoaXMuY29udGFpbmVyKSE9PW51bGwmJm4hPT12b2lkIDAmJm4uY29udGFpbnModGhpcy52aWRlb0VsZW1lbnQpJiZzdXBlci5wbGF5KGUpO31nZXRDdXJyZW50RnJhbWUoKXt2YXIgZTtyZXR1cm4gKGU9dGhpcy5jb250YWluZXIpIT09bnVsbCYmZSE9PXZvaWQgMCYmZS5jb250YWlucyh0aGlzLnZpZGVvRWxlbWVudCk/c3VwZXIuZ2V0Q3VycmVudEZyYW1lKCk6bmV3IEltYWdlRGF0YSgyLDIpfWFzeW5jIGdldEN1cnJlbnRGcmFtZVRvVWludDhBcnJheShlKXt2YXIgbjtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06MTtyZXR1cm4gKG49dGhpcy5jb250YWluZXIpIT09bnVsbCYmbiE9PXZvaWQgMCYmbi5jb250YWlucyh0aGlzLnZpZGVvRWxlbWVudCk/YXdhaXQgc3VwZXIuZ2V0Q3VycmVudEZyYW1lVG9VaW50OEFycmF5KGUsaSk6YXdhaXQgQ2YoZSl9ZGVzdHJveSgpe2lmKHN1cGVyLmRlc3Ryb3koKSx0aGlzLnZpZGVvRWxlbWVudC5yZW1vdmUoKSx0aGlzLnZpZGVvRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIiksdGhpcy5jb250YWluZXIpe3RyeXt0aGlzLmNvbnRhaW5lci5yZW1vdmUoKSx0aGlzLnNsb3QucmVtb3ZlQ2hpbGQodGhpcy5jb250YWluZXIpO31jYXRjaHt9dGhpcy5jb250YWluZXI9dm9pZCAwO319Y3JlYXRlRWxlbWVudHMoKXt0aGlzLmNvbnRhaW5lcnx8KHRoaXMuY29udGFpbmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLHRoaXMuY29udGFpbmVyLmlkPVwiYWdvcmEtdmlkZW8tcGxheWVyLVwiLmNvbmNhdCh0aGlzLnRyYWNrSWQpLHRoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoPVwiMTAwJVwiLHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodD1cIjEwMCVcIix0aGlzLmNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsdGhpcy5jb250YWluZXIuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIix0aGlzLnZpZGVvVHJhY2s/KHRoaXMuY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cImJsYWNrXCIsdihcIktFRVBfTEFTVF9GUkFNRVwiKSYmdGhpcy5pc0tlZXBMYXN0RnJhbWUmJnRoaXMudmlkZW9FbGVtZW50LnBhdXNlZCYmdGhpcy5yZXNldFZpZGVvRWxlbWVudCgpLHRoaXMubW91bnRlZFZpZGVvRWxlbWVudCgpKTp0aGlzLnVubW91bnRlZFZpZGVvRWxlbWVudCgpLHRoaXMuc2xvdC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcik7fW1vdW50ZWRWaWRlb0VsZW1lbnQoKXt2YXIgZTshdGhpcy5jb250YWluZXJ8fChlPXRoaXMuY29udGFpbmVyKSE9PW51bGwmJmUhPT12b2lkIDAmJmUuY29udGFpbnModGhpcy52aWRlb0VsZW1lbnQpfHx0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnZpZGVvRWxlbWVudCksc3VwZXIuaW5pdFZpZGVvRWxlbWVudCgpLHRoaXMudmlkZW9FbGVtZW50LmlkPVwidmlkZW9fXCIuY29uY2F0KHRoaXMudHJhY2tJZCksdGhpcy52aWRlb0VsZW1lbnQuY2xhc3NOYW1lPVwiYWdvcmFfdmlkZW9fcGxheWVyXCIsdGhpcy52aWRlb0VsZW1lbnQuc3R5bGUud2lkdGg9XCIxMDAlXCIsdGhpcy52aWRlb0VsZW1lbnQuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLHRoaXMudmlkZW9FbGVtZW50LnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0aGlzLnZpZGVvRWxlbWVudC5zdHlsZS5sZWZ0PVwiMFwiLHRoaXMudmlkZW9FbGVtZW50LnN0eWxlLnRvcD1cIjBcIjt9dW5tb3VudGVkVmlkZW9FbGVtZW50KCl7dmFyIGU7aWYoKGU9dGhpcy5jb250YWluZXIpIT09bnVsbCYmZSE9PXZvaWQgMCYmZS5jb250YWlucyh0aGlzLnZpZGVvRWxlbWVudCkpe3N1cGVyLnJlc2V0VmlkZW9FbGVtZW50KCk7dHJ5e3RoaXMuY29udGFpbmVyJiZ0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLnZpZGVvRWxlbWVudCk7fWNhdGNoe310aGlzLnZpZGVvRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7fX1yZXNldFZpZGVvRWxlbWVudCgpe3ZhciBlOyhlPXRoaXMuY29udGFpbmVyKSE9PW51bGwmJmUhPT12b2lkIDAmJmUuY29udGFpbnModGhpcy52aWRlb0VsZW1lbnQpJiYoc3VwZXIucmVzZXRWaWRlb0VsZW1lbnQoKSx0aGlzLmNhY2hlVmlkZW9FbGVtZW50PXRoaXMudmlkZW9FbGVtZW50LHRoaXMudmlkZW9FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSk7fWdldENvbnRhaW5lckVsZW1lbnQoKXtyZXR1cm4gdGhpcy5jb250YWluZXJ9fSxpSSxySSxvSSxzSSxhSSxjSSxkSSxsSSx1SSxoSSxwSSxfSSxFSSxtSSxmSSxnSSxUSSxTSSxSSSxDSSxJSSx2SSx5SSxBSSxodCxiSSx3SSxPSSxOSSxESSxQSSxrSSxMSSxMbixGdD0oaUk9JCh7YXJnc01hcDoodCxlLG4pPT5bdC5nZXRUcmFja0lkKCksdHlwZW9mIGU9PVwic3RyaW5nXCI/ZTplIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudD9cIkhUTUxWaWRlb0VsZW1lbnRcIjpcIkhUTUxFbGVtZW50XCIsbl19KSxyST1zZSgpLG9JPSQoe2FyZ3NNYXA6dD0+W3QuZ2V0VHJhY2tJZCgpXX0pLHNJPSRzKFwiTG9jYWxWaWRlb1RyYWNrXCIsXCJfZW5hYmxlZE11dGV4XCIpLGFJPSQoe2FyZ3NNYXA6KHQsZSk9Plt0LmdldFRyYWNrSWQoKSxlXX0pLGNJPXNlKCksZEk9JHMoXCJMb2NhbFZpZGVvVHJhY2tcIixcIl9lbmFibGVkTXV0ZXhcIiksbEk9JCh7YXJnc01hcDoodCxlKT0+W3QuZ2V0VHJhY2tJZCgpLGVdfSksdUk9c2UoKSxoST0kKHthcmdzTWFwOih0LGUpPT5bdC5nZXRUcmFja0lkKCksZV19KSxwST1zZSgpLF9JPXNlKCksRUk9JCh7YXJnc01hcDoodCxlLG4pPT5bdC5nZXRUcmFja0lkKCksZSxuXX0pLG1JPXNlKCksZkk9c2UoKSxnST1zZSgpLFRJPXNlKCksU0k9c2UoKSxSST1zZSgpLENJPXNlKCksSUk9JCh7YXJnc01hcDoodCxlKT0+W3QuZ2V0VHJhY2tJZCgpLGUubmFtZV19KSx2ST0kKHthcmdzTWFwOnQ9Plt0LmdldFRyYWNrSWQoKV19KSx5ST0kKHthcmdzTWFwOnQ9Plt0LmdldFRyYWNrSWQoKV19KSxBST0kKHthcmdzTWFwOih0LGUsbik9Plt0LmdldFRyYWNrSWQoKSxlLmxhYmVsLG5dfSksaHQ9Y2xhc3MgJE8gZXh0ZW5kcyBub3tnZXQgdmlkZW9IZWlnaHQoKXtpZihqZSgpKXtsZXR7aGVpZ2h0OmV9PXRoaXMuX21lZGlhU3RyZWFtVHJhY2suZ2V0U2V0dGluZ3MoKTtyZXR1cm4gdGhpcy5fdmlkZW9IZWlnaHQ9ZSx0aGlzLl92aWRlb0hlaWdodH1yZXR1cm4gdGhpcy5fdmlkZW9IZWlnaHR9Z2V0IHZpZGVvV2lkdGgoKXtpZihqZSgpKXtsZXR7d2lkdGg6ZX09dGhpcy5fbWVkaWFTdHJlYW1UcmFjay5nZXRTZXR0aW5ncygpO3JldHVybiB0aGlzLl92aWRlb1dpZHRoPWUsdGhpcy5fdmlkZW9XaWR0aH1yZXR1cm4gdGhpcy5fdmlkZW9XaWR0aH1nZXQgaXNQbGF5aW5nKCl7cmV0dXJuICEoIXRoaXMuX3BsYXllcnx8dGhpcy5fcGxheWVyLnZpZGVvRWxlbWVudFN0YXR1cyE9PW5uLlBMQVlJTkcpfWdldCBwcm9jZXNzb3JEZXN0aW5hdGlvbigpe3JldHVybiB0aGlzLl9wcm9jZXNzb3JEZXN0aW5hdGlvbn1nZXQgcHJvY2Vzc29yQ29udGV4dCgpe3JldHVybiB0aGlzLl9wcm9jZXNzb3JDb250ZXh0fXNldCBwcm9jZXNzb3JDb250ZXh0KGUpe3RoaXMuX3Byb2Nlc3NvckNvbnRleHQ9ZTt9Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm4gXCJMb2NhbFZpZGVvVHJhY2tcIn1jb25zdHJ1Y3RvcihlLG4saSxyLG8scyl7aWYoc3VwZXIoZSxvKSxQKHRoaXMsXCJ0cmFja01lZGlhVHlwZVwiLGZhLlZJREVPKSxQKHRoaXMsXCJfcGxheWVyXCIsdm9pZCAwKSxQKHRoaXMsXCJpc1VzZVNjYWxlUmVzb2x1dGlvbkRvd25CeVwiLCExKSxQKHRoaXMsXCJfdmlkZW9WaXNpYmxlVGltZXJcIixudWxsKSxQKHRoaXMsXCJfcHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXNcIix2b2lkIDApLFAodGhpcyxcIl9jbGVhclByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzXCIsKCk9PnRoaXMuX3ByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzPXZvaWQgMCksUCh0aGlzLFwiX2VuY29kZXJDb25maWdcIix2b2lkIDApLFAodGhpcyxcIl9zY2FsYWJpbGl0eU1vZGVcIix7bnVtU3BhdGlhbExheWVyczoxLG51bVRlbXBvcmFsTGF5ZXJzOjF9KSxQKHRoaXMsXCJfb3B0aW1pemF0aW9uTW9kZVwiLHZvaWQgMCksUCh0aGlzLFwiX3ZpZGVvSGVpZ2h0XCIsdm9pZCAwKSxQKHRoaXMsXCJfdmlkZW9XaWR0aFwiLHZvaWQgMCksUCh0aGlzLFwiX2ZvcmNlQml0cmF0ZUxpbWl0XCIsdm9pZCAwKSxQKHRoaXMsXCJfZW5hYmxlZFwiLCEwKSxQKHRoaXMsXCJfcHJvY2Vzc29yRGVzdGluYXRpb25cIix2b2lkIDApLFAodGhpcyxcIl9wcm9jZXNzb3JDb250ZXh0XCIsdm9pZCAwKSxqZSgpKXtsZXR7d2lkdGg6YSxoZWlnaHQ6Y309ZS5nZXRTZXR0aW5ncygpO3RoaXMuX3ZpZGVvV2lkdGg9YSx0aGlzLl92aWRlb0hlaWdodD1jO31lbHNlIHRoaXMudXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKTtpZih0aGlzLl9lbmNvZGVyQ29uZmlnPW4sdGhpcy5fc2NhbGFiaWxpdHlNb2RlPWksdGhpcy5fb3B0aW1pemF0aW9uTW9kZT1yLHRoaXMuX2hpbnRzPXN8fFtdLHRoaXMuX2hpbnRzLmluZGV4T2YoR3QuU0NSRUVOX1RSQUNLKT09PS0xKXRoaXMudXBkYXRlQml0cmF0ZUZyb21Qcm9maWxlKCk7ZWxzZSBpZihmdW5jdGlvbihhLGMsZCl7bGV0IGw9bXQoKTtyZXR1cm4gIShsLm5hbWUhPT1hfHwhbC5vc1ZlcnNpb24pJiYoTnVtYmVyKGwudmVyc2lvbik9PT1jKX0oSXQuQ0hST01FLDExNSkmJkh1KCkuaW5kZXhPZihcIldpbmRvd3NcIikhPT0tMSl7bGV0IGE9ZnVuY3Rpb24oYyxkKXtpZihcIlZpZGVvRnJhbWVcImluIHdpbmRvdyYmXCJUcmFuc2Zvcm1TdHJlYW1cImluIHdpbmRvdyYmZnQoKS5zdXBwb3J0V2ViUlRDSW5zZXJ0YWJsZVN0cmVhbSl7bGV0IGw9bmV3IE1lZGlhU3RyZWFtVHJhY2tQcm9jZXNzb3IoYyksdT1uZXcgTWVkaWFTdHJlYW1UcmFja0dlbmVyYXRvcih7a2luZDpcInZpZGVvXCJ9KSxoLHAsZz1EYXRlLm5vdygpLEU9KCk9PntmJiYoY2xlYXJJbnRlcnZhbChmKSxmPXZvaWQgMCksaCYmKGguY2xvc2UoKSxoPXZvaWQgMCksYy5zdG9wKCkscD12b2lkIDAsdS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixFKTt9LGY9d2luZG93LnNldEludGVydmFsKCgpPT57aWYocCYmaCYmRGF0ZS5ub3coKS1nPigxZTMpKXRyeXt1LnJlYWR5U3RhdGU9PT1cImxpdmVcIj9wLmVucXVldWUoaC5jbG9uZSgpKTpFKCk7fWNhdGNoe0UoKTt9fSwxZTMpLFM9bmV3IFRyYW5zZm9ybVN0cmVhbSh7dHJhbnNmb3JtOihDLEEpPT57dS5yZWFkeVN0YXRlPT09XCJsaXZlXCI/KHA9QSxnPURhdGUubm93KCksaD09PXZvaWQgMD8oaD1DLEEuZW5xdWV1ZShDLmNsb25lKCkpKTooQS5lbnF1ZXVlKGgpLGg9QykpOkMuY2xvc2UoKTt9fSk7cmV0dXJuIHUuYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsRSksbC5yZWFkYWJsZS5waXBlVGhyb3VnaChTKS5waXBlVG8odS53cml0YWJsZSksdX19KGUpO2EmJihfLmluZm8oXCJsb2NhbCBzY3JlZW4gdmlkZW8gdHJhY2sgYmVnaW4gdG8gaW5qZWN0IGZyYW1lXCIpLHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9YSk7fW4mJnRoaXMuX2hpbnRzLmluZGV4T2YoR3QuQ1VTVE9NX1RSQUNLKSE9PS0xJiZ0aGlzLnNldEVuY29kZXJDb25maWd1cmF0aW9uKG4pLHRoaXMuX3Byb2Nlc3NvckNvbnRleHQ9bmV3IGV1KHRoaXMuZ2V0VHJhY2tJZCgpLFwibG9jYWxcIiksdGhpcy5fcHJvY2Vzc29yRGVzdGluYXRpb249bmV3IHR1KHRoaXMucHJvY2Vzc29yQ29udGV4dCksdGhpcy5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKTt9cGxheShlKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e307aWYodHlwZW9mIGU9PVwic3RyaW5nXCIpe2xldCByPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO3I/ZT1yOihfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLCddIGNhbiBub3QgZmluZCBcIiMnKS5jb25jYXQoZSwnXCIgZWxlbWVudCwgdXNlIGRvY3VtZW50LmJvZHknKSksZT1kb2N1bWVudC5ib2R5KTt9Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IHZpZGVvIHBsYXliYWNrIGluIFwiKS5jb25jYXQoZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQ/XCJIVE1MVmlkZW9FbGVtZW50XCI6XCJIVE1MRWxlbWVudFwiKSxKU09OLnN0cmluZ2lmeShuKSk7bGV0IGk9S3QoS3QoS3Qoe30sdGhpcy5fZ2V0RGVmYXVsdFBsYXllckNvbmZpZygpKSxuKSx7fSx7dHJhY2tJZDp0aGlzLmdldFRyYWNrSWQoKSxlbGVtZW50OmV9KTt0aGlzLl9wbGF5ZXI/dGhpcy5fcGxheWVyLnVwZGF0ZUNvbmZpZyhpKTooZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQ/dGhpcy5fcGxheWVyPW5ldyBrYyhpKTp0aGlzLl9wbGF5ZXI9bmV3IHN1KGkpLHRoaXMuX3BsYXllci51cGRhdGVWaWRlb1RyYWNrKHRoaXMuX21lZGlhU3RyZWFtVHJhY2spKSx0aGlzLl9wbGF5ZXIucGxheSgpLHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl92aWRlb1Zpc2libGVUaW1lciksdGhpcy5fY2xlYXJQcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1cygpLHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKT0+e3RyeXtsZXQgcj10aGlzLmdldFZpZGVvRWxlbWVudFZpc2libGVTdGF0dXMoKTt0aGlzLnNhZmVFbWl0KG1hLlZJREVPX0VMRU1FTlRfVklTSUJMRV9TVEFUVVMscik7fWNhdGNoe319LHYoXCJDSEVDS19WSURFT19WSVNJQkxFX0lOVEVSVkFMXCIpKTt9c3RvcCgpe3RoaXMuX3BsYXllciYmKHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fdmlkZW9WaXNpYmxlVGltZXIpLHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyPW51bGwpLHRoaXMuX2NsZWFyUHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXMoKSx0aGlzLl9wbGF5ZXIuZGVzdHJveSgpLHRoaXMuX3BsYXllcj12b2lkIDAsXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0b3AgdmlkZW8gcGxheWJhY2tcIikpKTt9YXN5bmMgc2V0RW5hYmxlZChlLG4pe2lmKCFuKXtpZihlPT09dGhpcy5fZW5hYmxlZClyZXR1cm47dGhpcy5zdGF0ZUNoZWNrKFwiZW5hYmxlZFwiLGUpO31pZihfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBzZXRFbmFibGVkXCIpLGUpLCFlKXt0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9ITE7dHJ5e2F3YWl0IGt0KHRoaXMsSC5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcyk7fWNhdGNoKGkpe3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHRvIGZhbHNlIGVycm9yXCIpLGkudG9TdHJpbmcoKSksaX1yZXR1cm4gbnx8KHRoaXMuX2VuYWJsZWQ9ITEpLHZvaWQgXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byBmYWxzZSBzdWNjZXNzXCIpKX10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9ITA7dHJ5e2F3YWl0IGt0KHRoaXMsSC5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzKTt9Y2F0Y2goaSl7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gdHJ1ZSBlcnJvclwiKSxpLnRvU3RyaW5nKCkpLGl9Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byB0cnVlIHN1Y2Nlc3NcIikpLG58fCh0aGlzLl9lbmFibGVkPSEwKTt9YXN5bmMgc2V0TXV0ZWQoZSl7ZSE9PXRoaXMuX211dGVkJiYodGhpcy5zdGF0ZUNoZWNrKFwibXV0ZWRcIixlKSx0aGlzLl9tdXRlZD1lLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hZSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgc2V0IG11dGVkOiBcIikuY29uY2F0KGUpKSxlP2F3YWl0IGt0KHRoaXMsSC5ORUVEX01VVEVfVFJBQ0ssdGhpcyk6YXdhaXQga3QodGhpcyxILk5FRURfVU5NVVRFX1RSQUNLLHRoaXMpKTt9YXN5bmMgc2V0RW5jb2RlckNvbmZpZ3VyYXRpb24oZSxuKXtpZighdGhpcy5fZW5hYmxlZCl0aHJvdyBuZXcgTihSLlRSQUNLX0lTX0RJU0FCTEVELFwiY2FuIG5vdCBzZXQgZW5jb2RlciBjb25maWd1cmF0aW9uIHdoZW4gdHJhY2sgaXMgZGlzYWJsZWRcIik7aWYoZT1jcihlKSx0aGlzLl9mb3JjZUJpdHJhdGVMaW1pdCYmKGUuYml0cmF0ZU1heD10aGlzLl9mb3JjZUJpdHJhdGVMaW1pdC5tYXhfYml0cmF0ZT90aGlzLl9mb3JjZUJpdHJhdGVMaW1pdC5tYXhfYml0cmF0ZTplLmJpdHJhdGVNYXgsZS5iaXRyYXRlTWluPXRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1pbl9iaXRyYXRlP3RoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1pbl9iaXRyYXRlOmUuYml0cmF0ZU1pbiksZS53aWR0aHx8ZS5oZWlnaHR8fGUuZnJhbWVSYXRlKXtsZXQgaT1ydSh7ZW5jb2RlckNvbmZpZzplfSk7KGplKCl8fGxuKCl8fHZpKCkpJiYoaS5kZXZpY2VJZD12b2lkIDApLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmNvZGVyQ29uZmlndXJhdGlvbiBhcHBseUNvbnN0cmFpbnRzXCIpLEpTT04uc3RyaW5naWZ5KGUpLEpTT04uc3RyaW5naWZ5KGkpKTt0cnl7YXdhaXQgdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5hcHBseUNvbnN0cmFpbnRzKGkpLHRoaXMudXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKTt9Y2F0Y2gocil7bGV0IG89bmV3IE4oUi5VTkVYUEVDVEVEX0VSUk9SLHIudG9TdHJpbmcoKSk7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIGFwcGx5Q29uc3RyYWludHMgZXJyb3JcIiksby50b1N0cmluZygpKSxvfX10aGlzLl9lbmNvZGVyQ29uZmlnPWUsdGhpcy5faGludHMuaW5kZXhPZihHdC5TQ1JFRU5fVFJBQ0spPT09LTEmJnRoaXMudXBkYXRlQml0cmF0ZUZyb21Qcm9maWxlKCk7dHJ5e2F3YWl0IGt0KHRoaXMsSC5ORUVEX1VQREFURV9WSURFT19FTkNPREVSLHRoaXMpO31jYXRjaChpKXtyZXR1cm4gaS50aHJvdyhfKX19Z2V0U3RhdHMoKXtyZXR1cm4gcG8oKCk9PntfLndhcm5pbmcoXCJbZGVwcmVjYXRlZF0gTG9jYWxWaWRlb1RyYWNrLmdldFN0YXRzIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCB1c2UgQWdvcmFSVENDbGllbnQuZ2V0TG9jYWxWaWRlb1N0YXRzIGluc3RlYWRcIik7fSxcImxvY2FsVmlkZW9UcmFja0dldFN0YXRzV2FybmluZ1wiKSxuaSh0aGlzLEguR0VUX1NUQVRTKXx8S3Qoe30sWUUpfWFzeW5jIHNldEJlYXV0eUVmZmVjdChlKXtfLmVycm9yKFwiTG9jYWxWaWRlb1RyYWNrLnNldEJlYXV0eUVmZmVjdCB3YXMgZGVwcmVjYXRlZCwgcGxlYXNlIG1pZ3JhdGUgdG8gYWdvcmEtZXh0ZW5zaW9uLWJlYXV0eS1lZmZlY3RcIik7fWdldEN1cnJlbnRGcmFtZURhdGEoKXtyZXR1cm4gdGhpcy5fcGxheWVyP3RoaXMuX3BsYXllci5nZXRDdXJyZW50RnJhbWUoKTpuZXcgSW1hZ2VEYXRhKDIsMil9YXN5bmMgZ2V0Q3VycmVudEZyYW1lSW1hZ2UoZSl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOjE7cmV0dXJuIHRoaXMuX3BsYXllcj90aGlzLl9wbGF5ZXIuZ2V0Q3VycmVudEZyYW1lVG9VaW50OEFycmF5KGUsbik6YXdhaXQgQ2YoZSl9YXN5bmMgc2V0Qml0cmF0ZUxpbWl0KGUpe2lmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXQgYml0cmF0ZSBsaW1pdCwgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSkpLGUpe3RoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0PWUsdGhpcy5fZW5jb2RlckNvbmZpZyYmKHRoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heD90aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXg9dGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4PGUubWF4X2JpdHJhdGU/dGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4OmUubWF4X2JpdHJhdGU6dGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4PWUubWF4X2JpdHJhdGUsdGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWluLHRoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1pbj1lLm1pbl9iaXRyYXRlKTt0cnl7YXdhaXQga3QodGhpcyxILk5FRURfVVBEQVRFX1ZJREVPX0VOQ09ERVIsdGhpcyk7fWNhdGNoKG4pe3JldHVybiBuLnRocm93KF8pfX19YXN5bmMgc2V0T3B0aW1pemF0aW9uTW9kZShlKXtpZihlIT09XCJtb3Rpb25cIiYmZSE9PVwiZGV0YWlsXCImJmUhPT1cImJhbGFuY2VkXCIpcmV0dXJuIHZvaWQgXy5lcnJvcihSLklOVkFMSURfUEFSQU1TLFwib3B0aW1pemF0aW9uIG1vZGUgbXVzdCBiZSBtb3Rpb24sIGRldGFpbCBvciBiYWxhbmNlZFwiKTtsZXQgbj10aGlzLl9vcHRpbWl6YXRpb25Nb2RlO3RyeXt0aGlzLl9vcHRpbWl6YXRpb25Nb2RlPWUsYXdhaXQga3QodGhpcyxILk5FRURfVVBEQVRFX1ZJREVPX1NFTkRfUEFSQU1FVEVSUyx0aGlzKTt9Y2F0Y2goaSl7dGhyb3cgdGhpcy5fb3B0aW1pemF0aW9uTW9kZT1uLF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXQgb3B0aW1pemF0aW9uIG1vZGUgZmFpbGVkXCIpLGkudG9TdHJpbmcoKSksaX1fLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXQgb3B0aW1pemF0aW9uIG1vZGUgc3VjY2VzcyAoXCIpLmNvbmNhdChlLFwiKVwiKSk7fXNldFNjYWxhYmlsdHlNb2RlKGUpe2lmKGUubnVtU3BhdGlhbExheWVycz09PTEmJmUubnVtVGVtcG9yYWxMYXllcnMhPT0xKXJldHVybiBfLmVycm9yKFIuSU5WQUxJRF9QQVJBTVMsXCJzY2FsYWJpbGl0eSBtb2RlIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkLCBubyBTVkMuXCIpLHZvaWQodGhpcy5fc2NhbGFiaWxpdHlNb2RlPXtudW1TcGF0aWFsTGF5ZXJzOjEsbnVtVGVtcG9yYWxMYXllcnM6MX0pO3RoaXMuX3NjYWxhYmlsaXR5TW9kZT1lLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldCBzY2FsYWJpbGl0eSBtb2RlIHN1Y2Nlc3MgKFwiKS5jb25jYXQoZSxcIilcIikpO311cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpe1hPKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2spLnRoZW4oZT0+e2xldFtuLGldPWU7dGhpcy5fdmlkZW9IZWlnaHQ9aSx0aGlzLl92aWRlb1dpZHRoPW47fSkuY2F0Y2goenUpO31fdXBkYXRlUGxheWVyU291cmNlKCl7dGhpcy5fcGxheWVyJiZ0aGlzLl9wbGF5ZXIudXBkYXRlVmlkZW9UcmFjayh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrKTt9X2dldERlZmF1bHRQbGF5ZXJDb25maWcoKXtyZXR1cm4ge2ZpdDpcImNvbnRhaW5cIn19YXN5bmMgc2V0U2VuZGVyQ29uZmlndXJhdGlvbihlKXtpZighdGhpcy5fZW5hYmxlZCl0aHJvdyBuZXcgTihSLlRSQUNLX0lTX0RJU0FCTEVELFwiY2FuIG5vdCBzZXQgZW5jb2RlciBjb25maWd1cmF0aW9uIHdoZW4gdHJhY2sgaXMgZGlzYWJsZWRcIik7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldFNlbmRlckNvbmZpZ3VyYXRpb24gYXBwbHlDb25zdHJhaW50c1wiKSxKU09OLnN0cmluZ2lmeShlKSksZT1jcihlKSx0aGlzLl9mb3JjZUJpdHJhdGVMaW1pdCYmKGUuYml0cmF0ZU1heD10aGlzLl9mb3JjZUJpdHJhdGVMaW1pdC5tYXhfYml0cmF0ZT90aGlzLl9mb3JjZUJpdHJhdGVMaW1pdC5tYXhfYml0cmF0ZTplLmJpdHJhdGVNYXgsZS5iaXRyYXRlTWluPXRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1pbl9iaXRyYXRlP3RoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1pbl9iaXRyYXRlOmUuYml0cmF0ZU1pbiksdGhpcy5fZW5jb2RlckNvbmZpZz1lLHRoaXMuX2hpbnRzLmluZGV4T2YoR3QuU0NSRUVOX1RSQUNLKT09PS0xJiZ0aGlzLnVwZGF0ZUJpdHJhdGVGcm9tUHJvZmlsZSgpO3RyeXthd2FpdCBrdCh0aGlzLEguTkVFRF9VUERBVEVfVklERU9fRU5DT0RFUix0aGlzKTt9Y2F0Y2gobil7cmV0dXJuIG4udGhyb3coXyl9fXVwZGF0ZUJpdHJhdGVGcm9tUHJvZmlsZSgpe2lmKCF0aGlzLl9lbmNvZGVyQ29uZmlnKXJldHVybjtsZXR7d2lkdGg6ZSxoZWlnaHQ6bixmcmFtZVJhdGU6aX09dGhpcy5nZXRNZWRpYVN0cmVhbVRyYWNrU2V0dGluZ3MoKTtpZighZXx8IW58fCFpKXJldHVybjtsZXR7Yml0cmF0ZU1heDpyLGJpdHJhdGVNaW46b309dGhpcy5fZW5jb2RlckNvbmZpZztpZihvPT1udWxsfHxyPT1udWxsKXtsZXR7bWF4OnMsbWluOmF9PWZ1bmN0aW9uKGMsZCxsLHUsaCl7bGV0IHA9dihcIkJJVFJBVEVfQURBUFRFUl9UWVBFXCIpO2lmKHA9PT1cIkRFRkFVTFRfQklUUkFURVwiKXJldHVybiB7bWluOnUsbWF4Omh9O2lmKGg9PT12b2lkIDApe3ZhciBnO2xldCBmPU1hdGguZmxvb3IoMjAwKk1hdGgucG93KGwvMTUsLjYpKk1hdGgucG93KGMqZC82NDAvMzYwLC43NSkpO2g9cD09PVwiU1RBTkRBUkRfQklUUkFURVwiPzQqZjoyKmYsdT0oZz11KSE9PW51bGwmJmchPT12b2lkIDA/ZzpmO31lbHNlIHt2YXIgRTt1PShFPXUpIT09bnVsbCYmRSE9PXZvaWQgMD9FOk1hdGguZmxvb3IoaC8xMCk7fXJldHVybiB7bWluOnUsbWF4Omh9fShlLG4saSxvLHIpO3RoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1pbj1hLHRoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heD1zLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSB1cGRhdGUgYml0cmF0ZSBmcm9tIHByb2ZpbGUsIFt3OiBcIikuY29uY2F0KGUsXCIsIGg6IFwiKS5jb25jYXQobixcIiwgZnBzOiBcIikuY29uY2F0KGksXCJdID0+IFtick1heDogXCIpLmNvbmNhdChzLFwiLCBick1pbjogXCIpLmNvbmNhdChhLFwiXVwiKSk7fX1nZXRWaWRlb0VsZW1lbnRWaXNpYmxlU3RhdHVzKCl7dHJ5e3ZhciBlLG47bGV0IGk9dGhpcz09bnVsbHx8KGU9dGhpcy5fcGxheWVyKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZ2V0Q29udGFpbmVyRWxlbWVudCgpLHI9e3RyYWNrOnRoaXMsZWxlbWVudDp0aGlzPT1udWxsfHwobj10aGlzLl9wbGF5ZXIpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5nZXRWaWRlb0VsZW1lbnQoKSxzbG90Omk/LnBhcmVudEVsZW1lbnR9LHtlbGVtZW50Om8sc2xvdDpzfT1yO2lmKHRoaXMuaXNQbGF5aW5nJiZvIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCYmcyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KXtsZXQgYT1DTy5jaGVja09uZUVsZW1lbnRWaXNpYmxlKG8pLGM9T2JqZWN0LmFzc2lnbih7fSxhKTtpZihjLnZpc2libGUhPT10aGlzLl9wcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1cyl7dGhpcy5fcHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXM9Yy52aXNpYmxlO2xldCBkPVgucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpadC5UUkFDRVIsbmFtZTpUZS5MT0NBTF9WSURFT19UUkFDS19HRVRfVklERU9fVklTSUJMRSxvcHRpb25zOlt0aGlzLmdldFRyYWNrSWQoKV19KTtjLnZpc2libGU/ZC5vblN1Y2Nlc3MoXCJWaWRlbyBpcyB2aXNpYmxlXCIpOmQub25TdWNjZXNzKFwiSW52aXNpYmxlIGJlY2F1c2Ugb2YgXCIuY29uY2F0KGMucmVhc29uKSk7fXJldHVybiBjfXJldHVybn1jYXRjaChpKXt0aHJvdyBuZXcgTihSLkdFVF9WSURFT19FTEVNRU5UX1ZJU0lCTEVfRVJST1IsaS5tZXNzYWdlKX19YXN5bmMgcmVuZXdNZWRpYVN0cmVhbVRyYWNrKGUpe31waXBlKGUpe2lmKHRoaXMucHJvY2Vzc29yPT09ZSlyZXR1cm4gZTtpZihlLl9zb3VyY2UpdGhyb3cgbmV3IE4oUi5JTlZBTElEX09QRVJBVElPTixcIlByb2Nlc3NvciBcIi5jb25jYXQoZS5uYW1lLFwiIGFscmVhZHkgcGlwZWQsIHBsZWFzZSBjYWxsIHVucGlwZSBiZWZvcmVoYW5kLlwiKSk7cmV0dXJuIHRoaXMudW5waXBlKCksdGhpcy5wcm9jZXNzb3I9ZSx0aGlzLnByb2Nlc3Nvci5fc291cmNlPXRoaXMsZS51cGRhdGVJbnB1dCh7dHJhY2s6dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayxjb250ZXh0OnRoaXMucHJvY2Vzc29yQ29udGV4dH0pLGV9dW5waXBlKCl7aWYoIXRoaXMucHJvY2Vzc29yKXJldHVybjtsZXQgZT10aGlzLnByb2Nlc3Nvcjt0aGlzLnByb2Nlc3Nvci5fc291cmNlPXZvaWQgMCx0aGlzLnByb2Nlc3Nvcj12b2lkIDAsZS5yZXNldCgpO31jbG9zZSgpe3N1cGVyLmNsb3NlKCksdGhpcy51bmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpLHRoaXMudW5iaW5kUHJvY2Vzc29yQ29udGV4dEV2ZW50cygpLHRoaXMudW5waXBlKCksdGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5fc291cmNlJiZ0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLl9zb3VyY2UudW5waXBlKCk7fWNsb25lKGUpe2xldCBuPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDApfHxhcmd1bWVudHNbMV0saT10aGlzLl9lbmNvZGVyQ29uZmlnO2UmJihpPUt0KEt0KHt9LGkpLGNyKGUpKSksaT1WbyhpKTtsZXQgcj1VdCg4LFwidHJhY2stdmlkZW8tY2xvbmVkLVwiKSxvPW5ldyAkTyhuP3RoaXMuX21lZGlhU3RyZWFtVHJhY2suY2xvbmUoKTp0aGlzLl9tZWRpYVN0cmVhbVRyYWNrLGksVm8odGhpcy5fc2NhbGFiaWxpdHlNb2RlKSx0aGlzLl9vcHRpbWl6YXRpb25Nb2RlLHIsVm8odGhpcy5faGludHMpKTtyZXR1cm4gZSYmaSYmby5zZXRFbmNvZGVyQ29uZmlndXJhdGlvbihpKSxfLmRlYnVnKFwiY2xvbmUgdmlkZW8gdHJhY2sgZnJvbSBcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCIgdG8gXCIpLmNvbmNhdChyLFwiLCBjbG9uZSBcIikuY29uY2F0KG4pKSxvfWFzeW5jIHJlcGxhY2VUcmFjayhlLG4pe2lmKCEoZSBpbnN0YW5jZW9mIE1lZGlhU3RyZWFtVHJhY2spKXRocm93IG5ldyBOKFIuSU5WQUxJRF9QQVJBTVMsXCJ0cmFjayBzaG91bGQgYmUgYW4gaW5zdGFuY2Ugb2YgTWVkaWFTdHJlYW1UcmFja1wiKTtpZihlLmtpbmQhPT1cInZpZGVvXCIpdGhyb3cgbmV3IE4oUi5JTlZBTElEX1BBUkFNUyxcInRyYWNrIHNob3VsZCBiZSBhIHZpZGVvIE1lZGlhU3RyZWFtVHJhY2tcIik7YXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhlLG4sITApLHRoaXMudXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKTt9c2VuZFNlaURhdGEoZSl7aWYocG8oKCk9PntYLnJlcG9ydEFwaUludm9rZShudWxsLHtuYW1lOlRlLkxPQ0FMX1ZJREVPX1NFTkRfU0VJX0RBVEEsb3B0aW9uczpbXSx0YWc6WnQuVFJBQ0VSfSkub25TdWNjZXNzKFwiXCIpO30sdGhpcy5fbWVkaWFTdHJlYW1UcmFjay5pZHx8dGhpcy5nZXRUcmFja0lkKCkpLCF2KFwiRU5BQkxFX1ZJREVPX1NFSVwiKXx8IXYoXCJFTkFCTEVfRU5DT0RFRF9UUkFOU0ZPUk1cIikpcmV0dXJuIHZvaWQgXy53YXJuaW5nKCdUbyBzZW5kL3JlY2VpdmUgU0VJLCBwbGVhc2UgY2FsbCBBZ29yYVJUQy5zZXRQYXJhbWV0ZXIoXCJFTkFCTEVfVklERU9fU0VJXCIsIHRydWUpIGJlZm9yZSBpbnN0YW50aWF0ZSBJQWdvcmFSdGNDbGllbnQnKTtpZihlIGluc3RhbmNlb2YgVWludDhBcnJheT09MClyZXR1cm4gbmV3IE4oUi5JTlZBTElEX1BBUkFNUyxcIkludmFsaWQgYXJndW1lbnQgdHlwZSwgSUxvY2FsVmlkZW9UcmFjay5zZW5kU2VpRGF0YSgpIG9ubHkgYWNjZXB0IFVpbnQ4QXJyYXkgYXJndW1lbnQuXCIpLnRocm93KCk7bGV0IG49dGhpcy5nZXRSVENSdHBUcmFuc2NlaXZlcigpO2lmKCFuKXJldHVybiB2b2lkIF8ud2FybmluZyhcIlZpZGVvIHRyYWNrIGlzIG5vdCBwdWJsaXNoZWQsIFNFSSBjYW4gbm90IGJlIHNlbmRcIik7bGV0IGk9bi5zZW5kZXIuZ2V0UGFyYW1ldGVycygpO2lmKGkuY29kZWNzLmxlbmd0aD09PTApcmV0dXJuO2xldCByPWkuY29kZWNzWzBdLm1pbWVUeXBlLnRvTG9jYWxlTG93ZXJDYXNlKCk7cj09PVwidmlkZW8vaDI2NFwiP3RoaXMuc2FmZUVtaXQoXCJzZWktdG8tc2VuZFwiLGUpOl8ud2FybmluZyhcIlNFSSBpcyBub3Qgc3VwcG9ydGVkIGJ5IFwiLmNvbmNhdChyKSk7fWJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpe3RoaXMucHJvY2Vzc29yRGVzdGluYXRpb24ub24odW4uT05fVFJBQ0ssYXN5bmMgZT0+e2U/ZSE9PXRoaXMuX21lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPWUsdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCksYXdhaXQga3QodGhpcyxILk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzKSk6dGhpcy5fbWVkaWFTdHJlYW1UcmFjayE9PXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCksYXdhaXQga3QodGhpcyxILk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzKSk7fSk7fXVuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCl7dGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5yZW1vdmVBbGxMaXN0ZW5lcnModW4uT05fVFJBQ0spO311bmJpbmRQcm9jZXNzb3JDb250ZXh0RXZlbnRzKCl7dGhpcy5wcm9jZXNzb3JDb250ZXh0LnJlbW92ZUFsbExpc3RlbmVycyhXbi5SRVFVRVNUX1VQREFURV9DT05TVFJBSU5UUyksdGhpcy5wcm9jZXNzb3JDb250ZXh0LnJlbW92ZUFsbExpc3RlbmVycyhXbi5SRVFVRVNUX0NPTlNUUkFJTlRTKTt9fSxFdChodC5wcm90b3R5cGUsXCJwbGF5XCIsW2lJLHJJXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGh0LnByb3RvdHlwZSxcInBsYXlcIiksaHQucHJvdG90eXBlKSxFdChodC5wcm90b3R5cGUsXCJzdG9wXCIsW29JXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGh0LnByb3RvdHlwZSxcInN0b3BcIiksaHQucHJvdG90eXBlKSxFdChodC5wcm90b3R5cGUsXCJzZXRFbmFibGVkXCIsW3NJLGFJLGNJXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGh0LnByb3RvdHlwZSxcInNldEVuYWJsZWRcIiksaHQucHJvdG90eXBlKSxFdChodC5wcm90b3R5cGUsXCJzZXRNdXRlZFwiLFtkSSxsSSx1SV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihodC5wcm90b3R5cGUsXCJzZXRNdXRlZFwiKSxodC5wcm90b3R5cGUpLEV0KGh0LnByb3RvdHlwZSxcInNldEVuY29kZXJDb25maWd1cmF0aW9uXCIsW2hJLHBJXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGh0LnByb3RvdHlwZSxcInNldEVuY29kZXJDb25maWd1cmF0aW9uXCIpLGh0LnByb3RvdHlwZSksRXQoaHQucHJvdG90eXBlLFwiZ2V0U3RhdHNcIixbX0ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaHQucHJvdG90eXBlLFwiZ2V0U3RhdHNcIiksaHQucHJvdG90eXBlKSxFdChodC5wcm90b3R5cGUsXCJzZXRCZWF1dHlFZmZlY3RcIixbRUksbUldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaHQucHJvdG90eXBlLFwic2V0QmVhdXR5RWZmZWN0XCIpLGh0LnByb3RvdHlwZSksRXQoaHQucHJvdG90eXBlLFwiZ2V0Q3VycmVudEZyYW1lRGF0YVwiLFtmSV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihodC5wcm90b3R5cGUsXCJnZXRDdXJyZW50RnJhbWVEYXRhXCIpLGh0LnByb3RvdHlwZSksRXQoaHQucHJvdG90eXBlLFwiZ2V0Q3VycmVudEZyYW1lSW1hZ2VcIixbZ0ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaHQucHJvdG90eXBlLFwiZ2V0Q3VycmVudEZyYW1lSW1hZ2VcIiksaHQucHJvdG90eXBlKSxFdChodC5wcm90b3R5cGUsXCJzZXRCaXRyYXRlTGltaXRcIixbVEldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaHQucHJvdG90eXBlLFwic2V0Qml0cmF0ZUxpbWl0XCIpLGh0LnByb3RvdHlwZSksRXQoaHQucHJvdG90eXBlLFwic2V0T3B0aW1pemF0aW9uTW9kZVwiLFtTSV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihodC5wcm90b3R5cGUsXCJzZXRPcHRpbWl6YXRpb25Nb2RlXCIpLGh0LnByb3RvdHlwZSksRXQoaHQucHJvdG90eXBlLFwic2V0U2NhbGFiaWx0eU1vZGVcIixbUkldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaHQucHJvdG90eXBlLFwic2V0U2NhbGFiaWx0eU1vZGVcIiksaHQucHJvdG90eXBlKSxFdChodC5wcm90b3R5cGUsXCJ1cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvblwiLFtDSV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihodC5wcm90b3R5cGUsXCJ1cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvblwiKSxodC5wcm90b3R5cGUpLEV0KGh0LnByb3RvdHlwZSxcInBpcGVcIixbSUldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaHQucHJvdG90eXBlLFwicGlwZVwiKSxodC5wcm90b3R5cGUpLEV0KGh0LnByb3RvdHlwZSxcInVucGlwZVwiLFt2SV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihodC5wcm90b3R5cGUsXCJ1bnBpcGVcIiksaHQucHJvdG90eXBlKSxFdChodC5wcm90b3R5cGUsXCJjbG9zZVwiLFt5SV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihodC5wcm90b3R5cGUsXCJjbG9zZVwiKSxodC5wcm90b3R5cGUpLEV0KGh0LnByb3RvdHlwZSxcInJlcGxhY2VUcmFja1wiLFtBSV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihodC5wcm90b3R5cGUsXCJyZXBsYWNlVHJhY2tcIiksaHQucHJvdG90eXBlKSxodCksWEU9KGJJPSQoe2FyZ3NNYXA6KHQsZSk9Plt0LmdldFRyYWNrSWQoKSxlXX0pLHdJPXNlKCksT0k9JHMoXCJDYW1lcmFWaWRlb1RyYWNrXCIsXCJfZW5hYmxlZE11dGV4XCIpLE5JPSQoe2FyZ3NNYXA6KHQsZSk9Plt0LmdldFRyYWNrSWQoKSxlXX0pLERJPXNlKCksUEk9JCh7YXJnc01hcDoodCxlKT0+W3QuZ2V0VHJhY2tJZCgpLGVdfSksa0k9c2UoKSxMST0kKHthcmdzTWFwOnQ9Plt0LmdldFRyYWNrSWQoKV19KSxMbj1jbGFzcyB0MCBleHRlbmRzIEZ0e2dldCBfX2NsYXNzTmFtZV9fKCl7cmV0dXJuIFwiQ2FtZXJhVmlkZW9UcmFja1wifWNvbnN0cnVjdG9yKGUsbixpLHIsbyxzKXtzdXBlcihlLGNyKG4uZW5jb2RlckNvbmZpZykscixvLHMpLFAodGhpcyxcIl9jb25maWdcIix2b2lkIDApLFAodGhpcyxcIl9vcmlnaW5hbENvbnN0cmFpbnRzXCIsdm9pZCAwKSxQKHRoaXMsXCJfY29uc3RyYWludHNcIix2b2lkIDApLFAodGhpcyxcIl9lbmFibGVkXCIsITApLFAodGhpcyxcIl9kZXZpY2VOYW1lXCIsXCJkZWZhdWx0XCIpLFAodGhpcyxcInRyeVJlc3VtZVZpZGVvRm9ySU9TMTVfMTZXZUNoYXRcIixhc3luYygpPT57KFpzKCl8fE5FKCkpJiYhZnVuY3Rpb24oKXtsZXQgYT1tdCgpO2lmKGEub3MhPT15ZS5JT1N8fCFhLm9zVmVyc2lvbilyZXR1cm4gITE7bGV0IGM9YS5vc1ZlcnNpb24uc3BsaXQoXCIuXCIpO3JldHVybiBOdW1iZXIoY1swXSk9PT0xNSYmTnVtYmVyKGNbMV0pPj0yfSgpJiZUTygpJiZ0aGlzLl9lbmFibGVkJiYhdGhpcy5faXNDbG9zZWQmJihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdHJ5IGNhcHR1cmUgY2FtZXJhIG1lZGlhIGRldmljZSBmb3IgaW50ZXJydXB0ZWQgaU9TIDE1IGRldmljZSBvbiBXZUNoYXQuXCIpKSxhd2FpdCB0aGlzLnJlbmV3TWVkaWFTdHJlYW1UcmFjaygpKTt9KSx0aGlzLl9jb25maWc9bix0aGlzLl9vcmlnaW5hbENvbnN0cmFpbnRzPWksdGhpcy5fY29uc3RyYWludHM9aSx0aGlzLl9kZXZpY2VOYW1lPWUubGFiZWwsdGhpcy5fZW5jb2RlckNvbmZpZz1jcih0aGlzLl9jb25maWcuZW5jb2RlckNvbmZpZyksd3Qub24oa2UuSU9TXzE1XzE2X0lOVEVSUlVQVElPTl9FTkQsdGhpcy50cnlSZXN1bWVWaWRlb0ZvcklPUzE1XzE2V2VDaGF0KSx3dC5vbihrZS5JT1NfSU5URVJSVVBUSU9OX0VORCx0aGlzLnRyeVJlc3VtZVZpZGVvRm9ySU9TMTVfMTZXZUNoYXQpLHRoaXMuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoKTt9YXN5bmMgc2V0RGV2aWNlKGUpe3JldHVybiB0eXBlb2YgZT09XCJzdHJpbmdcIj90aGlzLl9zZXREZXZpY2VCeUlkKGUpOmUuZGV2aWNlSWQ/dGhpcy5fc2V0RGV2aWNlQnlJZChlLmRldmljZUlkKTplLmZhY2luZ01vZGU/dGhpcy5fc2V0RGV2aWNlQnlGYWNpbmdNb2RlbChlLmZhY2luZ01vZGUpOnZvaWQgMH1hc3luYyBfc2V0RGV2aWNlQnlJZChlKXtpZihfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXQgZGV2aWNlIHRvIFwiKS5jb25jYXQoZSkpLHRoaXMuX2VuYWJsZWQpdHJ5e2xldCBuPWF3YWl0IEduLmdldERldmljZUJ5SWQoZSksaT17fTtpLnZpZGVvPUt0KHt9LHRoaXMuX2NvbnN0cmFpbnRzKSxpLnZpZGVvLmRldmljZUlkPXtleGFjdDplfSxpLnZpZGVvLmZhY2luZ01vZGU9dm9pZCAwLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpO2xldCByPW51bGw7dHJ5e3I9YXdhaXQgRm4oaSx0aGlzLmdldFRyYWNrSWQoKSk7fWNhdGNoKG8pe3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXREZXZpY2UgZmFpbGVkXCIpLG8udG9TdHJpbmcoKSkscj1hd2FpdCBGbih7dmlkZW86dGhpcy5fY29uc3RyYWludHN9LHRoaXMuZ2V0VHJhY2tJZCgpKSxhd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKHIuZ2V0VmlkZW9UcmFja3MoKVswXSwhMSksb31hd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKHIuZ2V0VmlkZW9UcmFja3MoKVswXSwhMSksdGhpcy51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpLHRoaXMuX2RldmljZU5hbWU9bi5sYWJlbCx0aGlzLl9jb25maWcuY2FtZXJhSWQ9ZSx0aGlzLl9jb25zdHJhaW50cy5kZXZpY2VJZD17ZXhhY3Q6ZX07fWNhdGNoKG4pe3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXREZXZpY2UgZXJyb3JcIiksbi50b1N0cmluZygpKSxufWVsc2UgdHJ5e2xldCBuPWF3YWl0IEduLmdldERldmljZUJ5SWQoZSk7dGhpcy5fZGV2aWNlTmFtZT1uLmxhYmVsLHRoaXMuX2NvbmZpZy5jYW1lcmFJZD1lLHRoaXMuX2NvbnN0cmFpbnRzLmRldmljZUlkPXtleGFjdDplfTt9Y2F0Y2gobil7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZSBlcnJvclwiKSxuLnRvU3RyaW5nKCkpLG59Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlIHN1Y2Nlc3NcIikpO31hc3luYyBfc2V0RGV2aWNlQnlGYWNpbmdNb2RlbChlKXtfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXQgZmFjaW5nTW9kZSBcIikuY29uY2F0KGUpKTtsZXQgbj17dmlkZW86S3QoS3Qoe30sdGhpcy5fY29uc3RyYWludHMpLHt9LHtkZXZpY2VJZDp2b2lkIDAsZmFjaW5nTW9kZTp7ZXhhY3Q6ZX19KX07aWYodGhpcy5fZW5hYmxlZCl7dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCk7bGV0IGk9bnVsbDt0cnl7aT1hd2FpdCBGbihuLHRoaXMuZ2V0VHJhY2tJZCgpKTt9Y2F0Y2gocil7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZUJ5RmFjaW5nTW9kZWwgZmFpbGVkXCIpLHIudG9TdHJpbmcoKSksaT1hd2FpdCBGbih7dmlkZW86dGhpcy5fY29uc3RyYWludHN9LHRoaXMuZ2V0VHJhY2tJZCgpKSxhd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGkuZ2V0VmlkZW9UcmFja3MoKVswXSwhMSkscn1hd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGkuZ2V0VmlkZW9UcmFja3MoKVswXSwhMSksdGhpcy51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpO310aGlzLl9kZXZpY2VOYW1lPVwiXCIsdGhpcy5fY29uZmlnLmZhY2luZ01vZGU9ZSx0aGlzLl9jb25maWcuY2FtZXJhSWQ9dm9pZCAwLHRoaXMuX2NvbnN0cmFpbnRzPUt0KHt9LG4udmlkZW8pLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZUJ5RmFjaW5nTW9kZWwgc3VjY2Vzc1wiKSk7fWFzeW5jIHNldEVuYWJsZWQoZSxuKXtpZighbil7aWYoZT09PXRoaXMuX2VuYWJsZWQpcmV0dXJuO3RoaXMuc3RhdGVDaGVjayhcImVuYWJsZWRcIixlKTt9aWYoXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgc2V0RW5hYmxlZFwiKSxlKSxlKXt0cnl7aWYodGhpcy5pc0V4dGVybmFsVHJhY2spdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPSEwO2Vsc2Uge2xldCBpPWF3YWl0IEZuKHt2aWRlbzp0aGlzLl9jb25zdHJhaW50c30sdGhpcy5nZXRUcmFja0lkKCkpO2F3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soaS5nZXRWaWRlb1RyYWNrcygpWzBdLCExKTt9YXdhaXQga3QodGhpcyxILk5FRURfRU5BQkxFX1RSQUNLLHRoaXMpO31jYXRjaChpKXt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0cnVlIGVycm9yXCIpLGkudG9TdHJpbmcoKSksaX10aGlzLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byB0cnVlIHN1Y2Nlc3NcIikpLG58fCh0aGlzLl9lbmFibGVkPSEwKTt9ZWxzZSB7dGhpcy5pc0V4dGVybmFsVHJhY2s/dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPSExOih0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLm9uZW5kZWQ9bnVsbCx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKSksbnx8KHRoaXMuX2VuYWJsZWQ9ITEpO3RyeXthd2FpdCBrdCh0aGlzLEguTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMpO31jYXRjaChpKXt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byBmYWxzZSBlcnJvclwiKSxpLnRvU3RyaW5nKCkpLGl9Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byBmYWxzZSBzdWNjZXNzXCIpKTt9fWFzeW5jIHNldEVuY29kZXJDb25maWd1cmF0aW9uKGUsbil7aWYoIXRoaXMuX2VuYWJsZWQpdGhyb3cgbmV3IE4oUi5UUkFDS19JU19ESVNBQkxFRCxcImNhbiBub3Qgc2V0IGVuY29kZXIgY29uZmlndXJhdGlvbiB3aGVuIHRyYWNrIGlzIGRpc2FibGVkXCIpO2U9Y3IoZSksdGhpcy5fZm9yY2VCaXRyYXRlTGltaXQmJihlLmJpdHJhdGVNYXg9dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWF4X2JpdHJhdGV8fGUuYml0cmF0ZU1heCxlLmJpdHJhdGVNaW49dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWluX2JpdHJhdGV8fGUuYml0cmF0ZU1pbik7bGV0IGk9bGUodGhpcy5fY29uZmlnKTtpLmVuY29kZXJDb25maWc9ZTtsZXQgcj1ydShpKTsoamUoKXx8bG4oKXx8dmkoKSkmJihyLmRldmljZUlkPXZvaWQgMCksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuY29kZXJDb25maWd1cmF0aW9uIGFwcGx5Q29uc3RyYWludHNcIiksSlNPTi5zdHJpbmdpZnkoZSksSlNPTi5zdHJpbmdpZnkocikpO3RyeXthd2FpdCB0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmFwcGx5Q29uc3RyYWludHMociksdGhpcy51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpO31jYXRjaChvKXtsZXQgcz1uZXcgTihSLlVORVhQRUNURURfRVJST1Isby50b1N0cmluZygpKTt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gYXBwbHlDb25zdHJhaW50cyBlcnJvclwiKSxzLnRvU3RyaW5nKCkpLHN9dGhpcy5fY29uZmlnPWksdGhpcy5fY29uc3RyYWludHM9cix0aGlzLl9vcmlnaW5hbENvbnN0cmFpbnRzPXIsdGhpcy5fZW5jb2RlckNvbmZpZz1lLHRoaXMuX2hpbnRzLmluZGV4T2YoR3QuU0NSRUVOX1RSQUNLKT09PS0xJiZ0aGlzLnVwZGF0ZUJpdHJhdGVGcm9tUHJvZmlsZSgpO3RyeXthd2FpdCBrdCh0aGlzLEguTkVFRF9VUERBVEVfVklERU9fRU5DT0RFUix0aGlzKTt9Y2F0Y2gobyl7cmV0dXJuIG8udGhyb3coXyl9fV9nZXREZWZhdWx0UGxheWVyQ29uZmlnKCl7cmV0dXJuIHttaXJyb3I6ITAsZml0OlwiY292ZXJcIn19b25UcmFja0VuZGVkKCl7aWYoKGxuKCl8fHZpKCkpJiZ0aGlzLl9lbmFibGVkJiYhdGhpcy5faXNDbG9zZWQmJnd0LmR1cmluZ0ludGVycnVwdGlvbil7bGV0IGU9YXN5bmMoKT0+e3d0Lm9mZihrZS5JT1NfSU5URVJSVVBUSU9OX0VORCxlKSx0aGlzLl9lbmFibGVkJiYhdGhpcy5faXNDbG9zZWQmJihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdHJ5IGNhcHR1cmUgY2FtZXJhIG1lZGlhIGRldmljZSBmb3IgaW50ZXJydXB0ZWQgaU9TIGRldmljZS5cIikpLGF3YWl0IHRoaXMuc2V0RW5hYmxlZCghMSksYXdhaXQgdGhpcy5zZXRFbmFibGVkKCEwKSk7fTt3dC5vbihrZS5JT1NfSU5URVJSVVBUSU9OX0VORCxlKTt9ZWxzZSBfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdHJhY2sgZW5kZWRcIikpLHRoaXMuc2FmZUVtaXQobWEuVFJBQ0tfRU5ERUQpO31hc3luYyByZW5ld01lZGlhU3RyZWFtVHJhY2soZSl7bGV0IG49ZXx8dGhpcy5fY29uc3RyYWludHMsaT1Hbi5zZWFyY2hEZXZpY2VJZEJ5TmFtZSh0aGlzLl9kZXZpY2VOYW1lKTtpZihpJiYhbi5kZXZpY2VJZCYmKG4uZGV2aWNlSWQ9e2V4YWN0Oml9KSx0aGlzLl9lbmFibGVkKXtsZXQgcj1hd2FpdCBGbih7dmlkZW86bn0sdGhpcy5nZXRUcmFja0lkKCkpO3RoaXMuX2NvbnN0cmFpbnRzPW4sYXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhyLmdldFZpZGVvVHJhY2tzKClbMF0sITApLHRoaXMudXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKTt9fWNsb3NlKCl7c3VwZXIuY2xvc2UoKSx3dC5vZmYoa2UuSU9TXzE1XzE2X0lOVEVSUlVQVElPTl9FTkQsdGhpcy50cnlSZXN1bWVWaWRlb0ZvcklPUzE1XzE2V2VDaGF0KSx3dC5vZmYoa2UuSU9TX0lOVEVSUlVQVElPTl9FTkQsdGhpcy50cnlSZXN1bWVWaWRlb0ZvcklPUzE1XzE2V2VDaGF0KTt9Y2xvbmUoZSl7bGV0IG49IShhcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMCl8fGFyZ3VtZW50c1sxXSxpPXRoaXMuX2VuY29kZXJDb25maWc7ZSYmKGk9S3QoS3Qoe30saSksY3IoZSkpKSxpPVZvKGkpO2xldCByPVV0KDgsXCJ0cmFjay1jYW0tY2xvbmVkLVwiKSxvPW5ldyB0MChuP3RoaXMuX21lZGlhU3RyZWFtVHJhY2suY2xvbmUoKTp0aGlzLl9tZWRpYVN0cmVhbVRyYWNrLFZvKEt0KEt0KHt9LHRoaXMuX2NvbmZpZykse30se2VuY29kZXJDb25maWc6aX0pKSxWbyh0aGlzLl9jb25zdHJhaW50cyksVm8odGhpcy5fc2NhbGFiaWxpdHlNb2RlKSx0aGlzLl9vcHRpbWl6YXRpb25Nb2RlLHIpO3JldHVybiBlJiZpJiZvLnNldEVuY29kZXJDb25maWd1cmF0aW9uKGkpLF8uZGVidWcoXCJjbG9uZSB0cmFjayBmcm9tIFwiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIiB0byBcIikuY29uY2F0KHIsXCIsIGNsb25lIFwiKS5jb25jYXQobikpLG99YmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoKXt0aGlzLnByb2Nlc3NvckNvbnRleHQub24oV24uUkVRVUVTVF9VUERBVEVfQ09OU1RSQUlOVFMsYXN5bmMoZSxuLGkpPT57dHJ5e2xldCByPU9iamVjdC5hc3NpZ24oe30sdGhpcy5fb3JpZ2luYWxDb25zdHJhaW50cywuLi5lKTthd2FpdCB0aGlzLnJlbmV3TWVkaWFTdHJlYW1UcmFjayhyKSxuKCk7fWNhdGNoKHIpe2kocik7fX0pLHRoaXMucHJvY2Vzc29yQ29udGV4dC5vbihXbi5SRVFVRVNUX0NPTlNUUkFJTlRTLGFzeW5jIGU9PntlKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZ2V0U2V0dGluZ3MoKSk7fSk7fX0sRXQoTG4ucHJvdG90eXBlLFwic2V0RGV2aWNlXCIsW2JJLHdJXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKExuLnByb3RvdHlwZSxcInNldERldmljZVwiKSxMbi5wcm90b3R5cGUpLEV0KExuLnByb3RvdHlwZSxcInNldEVuYWJsZWRcIixbT0ksTkksREldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTG4ucHJvdG90eXBlLFwic2V0RW5hYmxlZFwiKSxMbi5wcm90b3R5cGUpLEV0KExuLnByb3RvdHlwZSxcInNldEVuY29kZXJDb25maWd1cmF0aW9uXCIsW1BJLGtJXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKExuLnByb3RvdHlwZSxcInNldEVuY29kZXJDb25maWd1cmF0aW9uXCIpLExuLnByb3RvdHlwZSksRXQoTG4ucHJvdG90eXBlLFwiY2xvc2VcIixbTEldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTG4ucHJvdG90eXBlLFwiY2xvc2VcIiksTG4ucHJvdG90eXBlKSxMbik7ZnVuY3Rpb24gY18odCxlLG4saSl7bi5vcHRpbWl6YXRpb25Nb2RlJiYoaSYmaS53aWR0aCYmaS5oZWlnaHQ/KG4uZW5jb2RlckNvbmZpZz1LdChLdCh7fSxpKSx7fSx7Yml0cmF0ZU1pbjppLmJpdHJhdGVNaW4sYml0cmF0ZU1heDppLmJpdHJhdGVNYXh9KSxuLm9wdGltaXphdGlvbk1vZGUhPT1cIm1vdGlvblwiJiZuLm9wdGltaXphdGlvbk1vZGUhPT1cImRldGFpbFwifHwoZS5jb250ZW50SGludD1uLm9wdGltaXphdGlvbk1vZGUsZS5jb250ZW50SGludD09PW4ub3B0aW1pemF0aW9uTW9kZT9fLmRlYnVnKFwiW1wiLmNvbmNhdCh0LFwiXSBzZXQgY29udGVudCBoaW50IHRvXCIpLG4ub3B0aW1pemF0aW9uTW9kZSk6Xy5kZWJ1ZyhcIltcIi5jb25jYXQodCxcIl0gc2V0IGNvbnRlbnQgaGludCBmYWlsZWRcIikpKSk6Xy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LFwiXSBjYW4gbm90IGFwcGx5IG9wdGltaXphdGlvbiBtb2RlIGJpdHJhdGUgY29uZmlnLCBubyBlbmNvZGVyQ29uZmlnXCIpKSk7fXZhciBNSSxVSSx4SSxWSSx6bixGSSxCSSxqSSxHSSxXSSxISSwkZSxhdT1jbGFzcyBleHRlbmRzIFhse2dldFVzZXJJZCgpe3JldHVybiB0aGlzLl91c2VySWR9Y29uc3RydWN0b3IoZSxuLGkscil7c3VwZXIoZSxcInRyYWNrLVwiLmNvbmNhdChlLmtpbmQsXCItXCIpLmNvbmNhdChuLFwiLVwiKS5jb25jYXQoci5jbGllbnRJZCxcIl9cIikuY29uY2F0KFV0KDUsXCJcIikpKSxQKHRoaXMsXCJfdXNlcklkXCIsdm9pZCAwKSxQKHRoaXMsXCJfdWludElkXCIsdm9pZCAwKSxQKHRoaXMsXCJfaXNEZXN0cm95ZWRcIiwhMSksUCh0aGlzLFwic3RvcmVcIix2b2lkIDApLFAodGhpcyxcInByb2Nlc3NvclwiLHZvaWQgMCksUCh0aGlzLFwicHJvY2Vzc29yQ29udGV4dFwiLHZvaWQgMCksdGhpcy5fdXNlcklkPW4sdGhpcy5fdWludElkPWksdGhpcy5zdG9yZT1yO31fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhlKXt0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPWUsdGhpcy5fbWVkaWFTdHJlYW1UcmFjaz1lLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpLHRoaXMucHJvY2Vzc29yJiZ0aGlzLnByb2Nlc3Nvci51cGRhdGVJbnB1dCh7dHJhY2s6dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayxjb250ZXh0OnRoaXMucHJvY2Vzc29yQ29udGV4dH0pO31fZGVzdHJveSgpe3RoaXMuX2lzRGVzdHJveWVkPSEwLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIGlzIGRlc3Ryb3llZFwiKSksdGhpcy5zdG9wKCksc3VwZXIuY2xvc2UoKTt9Z2V0UHJvY2Vzc29yU3RhdHMoKXtyZXR1cm4gdGhpcy5wcm9jZXNzb3JDb250ZXh0LmdhdGhlclN0YXRzKCl9Z2V0UHJvY2Vzc29yVXNhZ2UoKXtyZXR1cm4gdGhpcy5wcm9jZXNzb3JDb250ZXh0LmdhdGhlclVzYWdlKCl9fSxIcz0oTUk9JCh7YXJnc01hcDoodCxlLG4pPT5bdC5nZXRUcmFja0lkKCksdHlwZW9mIGU9PVwic3RyaW5nXCI/ZTplIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudD9cIkhUTUxWaWRlb0VsZW1lbnRcIjpcIkhUTUxFbGVtZW50XCIsbl19KSxVST0kKHthcmdzTWFwOnQ9Plt0LmdldFRyYWNrSWQoKV19KSx4ST0kKHthcmdzTWFwOih0LGUpPT5bdC5nZXRUcmFja0lkKCksZS5uYW1lXX0pLFZJPSQoe2FyZ3NNYXA6dD0+W3QuZ2V0VHJhY2tJZCgpXX0pLEV0KCh6bj1jbGFzcyBleHRlbmRzIGF1e2dldCBpc1BsYXlpbmcoKXtyZXR1cm4gISghdGhpcy5fcGxheWVyfHx0aGlzLl9wbGF5ZXIudmlkZW9FbGVtZW50U3RhdHVzIT09bm4uUExBWUlORyl9Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm4gXCJSZW1vdGVWaWRlb1RyYWNrXCJ9Y29uc3RydWN0b3IodCxlLG4saSl7c3VwZXIodCxlLG4saSksUCh0aGlzLFwiX3ZpZGVvVmlzaWJsZVRpbWVyXCIsbnVsbCksUCh0aGlzLFwiX3ByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzXCIsdm9pZCAwKSxQKHRoaXMsXCJfY2xlYXJQcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1c1wiLCgpPT50aGlzLl9wcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1cz12b2lkIDApLFAodGhpcyxcInRyYWNrTWVkaWFUeXBlXCIsZmEuVklERU8pLFAodGhpcyxcIl92aWRlb1dpZHRoXCIsdm9pZCAwKSxQKHRoaXMsXCJfdmlkZW9IZWlnaHRcIix2b2lkIDApLFAodGhpcyxcIl9wbGF5ZXJcIix2b2lkIDApLFAodGhpcyxcInByb2Nlc3NvckRlc3RpbmF0aW9uXCIsdm9pZCAwKSxQKHRoaXMsXCJwcm9jZXNzb3JDb250ZXh0XCIsdm9pZCAwKSx0aGlzLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCksdGhpcy5wcm9jZXNzb3JDb250ZXh0PW5ldyBldSh0aGlzLmdldFRyYWNrSWQoKSxcInJlbW90ZVwiKSx0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uPW5ldyB0dSh0aGlzLnByb2Nlc3NvckNvbnRleHQpLHRoaXMuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCk7fWdldFN0YXRzKCl7cmV0dXJuIHBvKCgpPT57Xy53YXJuaW5nKFwiW2RlcHJlY2F0ZWRdIFJlbW90ZVZpZGVvVHJhY2suZ2V0U3RhdHMgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsIHVzZSBBZ29yYVJUQ0NsaWVudC5nZXRSZW1vdGVWaWRlb1N0YXRzIGluc3RlYWRcIik7fSxcInJlbW90ZVZpZGVvVHJhY2tHZXRTdGF0c1dhcm5pbmdcIiksbmkodGhpcyxILkdFVF9TVEFUUyl8fEt0KHt9LFdPKX1wbGF5KHQpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fTtpZih0eXBlb2YgdD09XCJzdHJpbmdcIil7bGV0IGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCk7aT90PWk6KF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksJ10gY2FuIG5vdCBmaW5kIFwiIycpLmNvbmNhdCh0LCdcIiBlbGVtZW50LCB1c2UgZG9jdW1lbnQuYm9keScpKSx0PWRvY3VtZW50LmJvZHkpO31fLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgdmlkZW8gcGxheWJhY2sgaW4gXCIpLmNvbmNhdCh0IGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudD9cIkhUTUxWaWRlb0VsZW1lbnRcIjpcIkhUTUxFbGVtZW50XCIpLEpTT04uc3RyaW5naWZ5KGUpKTtsZXQgbj1LdChLdCh7Zml0OlwiY292ZXJcIn0sZSkse30se3RyYWNrSWQ6dGhpcy5nZXRUcmFja0lkKCksZWxlbWVudDp0fSk7dGhpcy5fcGxheWVyP3RoaXMuX3BsYXllci51cGRhdGVDb25maWcobik6KHQgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50P3RoaXMuX3BsYXllcj1uZXcga2Mobik6dGhpcy5fcGxheWVyPW5ldyBzdShuKSx0aGlzLl9wbGF5ZXIudXBkYXRlVmlkZW9UcmFjayh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrKSx0aGlzLl9wbGF5ZXIub25GaXJzdFZpZGVvRnJhbWVEZWNvZGVkPSgpPT57dGhpcy5zdG9yZS5zdWJzY3JpYmUodGhpcy5nZXRVc2VySWQoKSxcInZpZGVvXCIsdm9pZCAwLHZvaWQgMCxEYXRlLm5vdygpKSx0aGlzLnNhZmVFbWl0KFdzLkZJUlNUX0ZSQU1FX0RFQ09ERUQpO30sdGhpcy5fcGxheWVyLm9uVmlkZW9TdGF0ZUNoYW5nZWQ9aT0+e3RoaXMuc2FmZUVtaXQoV3MuVklERU9fU1RBVEVfQ0hBTkdFRCxpKTt9KSx0aGlzLl9wbGF5ZXIucGxheSh0aGlzLnN0b3JlLnNlc3Npb25JZHx8dm9pZCAwKSx0aGlzLl92aWRlb1Zpc2libGVUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fdmlkZW9WaXNpYmxlVGltZXIpLHRoaXMuX2NsZWFyUHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXMoKSx0aGlzLl92aWRlb1Zpc2libGVUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKCk9Pnt0cnl7bGV0IGk9dGhpcy5nZXRWaWRlb0VsZW1lbnRWaXNpYmxlU3RhdHVzKCk7dGhpcy5zYWZlRW1pdChXcy5WSURFT19FTEVNRU5UX1ZJU0lCTEVfU1RBVFVTLGkpO31jYXRjaHt9fSx2KFwiQ0hFQ0tfVklERU9fVklTSUJMRV9JTlRFUlZBTFwiKSk7fXN0b3AoKXt0aGlzLl9wbGF5ZXImJih0aGlzLl92aWRlb1Zpc2libGVUaW1lciYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyKSx0aGlzLl92aWRlb1Zpc2libGVUaW1lcj1udWxsKSx0aGlzLl9jbGVhclByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzKCksdGhpcy5fcGxheWVyLmRlc3Ryb3koKSx0aGlzLl9wbGF5ZXI9dm9pZCAwLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdG9wIHZpZGVvIHBsYXliYWNrXCIpKSk7fWdldEN1cnJlbnRGcmFtZURhdGEoKXtyZXR1cm4gdGhpcy5fcGxheWVyP3RoaXMuX3BsYXllci5nZXRDdXJyZW50RnJhbWUoKTpuZXcgSW1hZ2VEYXRhKDIsMil9dXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKXtYTyh0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrKS50aGVuKHQ9PntsZXRbZSxuXT10O3RoaXMuX3ZpZGVvSGVpZ2h0PW4sdGhpcy5fdmlkZW9XaWR0aD1lO30pLmNhdGNoKHp1KTt9X3VwZGF0ZVBsYXllclNvdXJjZSgpe18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSB1cGRhdGUgcGxheWVyIHNvdXJjZSB0cmFja1wiKSksdGhpcy5fcGxheWVyJiZ0aGlzLl9wbGF5ZXIudXBkYXRlVmlkZW9UcmFjayh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrKTt9Z2V0VmlkZW9FbGVtZW50VmlzaWJsZVN0YXR1cygpe3RyeXt2YXIgdCxlO2xldCBuPXRoaXM9PW51bGx8fCh0PXRoaXMuX3BsYXllcik9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LmdldENvbnRhaW5lckVsZW1lbnQoKSxpPXt0cmFjazp0aGlzLGVsZW1lbnQ6dGhpcz09bnVsbHx8KGU9dGhpcy5fcGxheWVyKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZ2V0VmlkZW9FbGVtZW50KCksc2xvdDpuPy5wYXJlbnRFbGVtZW50fSx7ZWxlbWVudDpyLHNsb3Q6b309aTtpZih0aGlzLmlzUGxheWluZyYmciBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQmJm8gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7bGV0IHM9Q08uY2hlY2tPbmVFbGVtZW50VmlzaWJsZShyKSxhPU9iamVjdC5hc3NpZ24oe30scyk7aWYoYS52aXNpYmxlIT09dGhpcy5fcHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXMpe3RoaXMuX3ByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzPWEudmlzaWJsZTtsZXQgYz1YLnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6WnQuVFJBQ0VSLG5hbWU6VGUuUkVNT1RFX1ZJREVPX1RSQUNLX0dFVF9WSURFT19WSVNJQkxFLG9wdGlvbnM6W3RoaXMuZ2V0VHJhY2tJZCgpXX0pO2EudmlzaWJsZT9jLm9uU3VjY2VzcyhcIlZpZGVvIGlzIHZpc2libGVcIik6Yy5vblN1Y2Nlc3MoXCJJbnZpc2libGUgYmVjYXVzZSBvZiBcIi5jb25jYXQoYS5yZWFzb24pKTt9cmV0dXJuIGF9cmV0dXJufWNhdGNoKG4pe3Rocm93IG5ldyBOKFIuR0VUX1ZJREVPX0VMRU1FTlRfVklTSUJMRV9FUlJPUixuLm1lc3NhZ2UpfX1waXBlKHQpe2lmKHRoaXMucHJvY2Vzc29yPT09dClyZXR1cm4gdDtpZih0Ll9zb3VyY2UpdGhyb3cgbmV3IE4oUi5JTlZBTElEX09QRVJBVElPTixcIlByb2Nlc3NvciBcIi5jb25jYXQodC5uYW1lLFwiIGFscmVhZHkgcGlwZWQsIHBsZWFzZSBjYWxsIHVucGlwZSBiZWZvcmVoYW5kLlwiKSk7cmV0dXJuIHRoaXMudW5waXBlKCksdGhpcy5wcm9jZXNzb3I9dCx0aGlzLnByb2Nlc3Nvci5fc291cmNlPXRoaXMsdC51cGRhdGVJbnB1dCh7dHJhY2s6dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayxjb250ZXh0OnRoaXMucHJvY2Vzc29yQ29udGV4dH0pLHR9dW5waXBlKCl7aWYoIXRoaXMucHJvY2Vzc29yKXJldHVybjtsZXQgdD10aGlzLnByb2Nlc3Nvcjt0aGlzLnByb2Nlc3Nvci5fc291cmNlPXZvaWQgMCx0aGlzLnByb2Nlc3Nvcj12b2lkIDAsdC5yZXNldCgpO31iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKXt0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLm9uKHVuLk9OX1RSQUNLLGFzeW5jIHQ9Pnt0P3QhPT10aGlzLl9tZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10LHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpKTp0aGlzLl9tZWRpYVN0cmVhbVRyYWNrIT09dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayx0aGlzLl91cGRhdGVQbGF5ZXJTb3VyY2UoKSk7fSk7fXVuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCl7dGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5yZW1vdmVBbGxMaXN0ZW5lcnModW4uT05fVFJBQ0spO31fZGVzdHJveSgpe3N1cGVyLl9kZXN0cm95KCksdGhpcy51bmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpO31fb25TZWkodCl7dGhpcy5lbWl0KEtvLlNFSV9SRUNFSVZFRCx0KTt9fSkucHJvdG90eXBlLFwicGxheVwiLFtNSV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih6bi5wcm90b3R5cGUsXCJwbGF5XCIpLHpuLnByb3RvdHlwZSksRXQoem4ucHJvdG90eXBlLFwic3RvcFwiLFtVSV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih6bi5wcm90b3R5cGUsXCJzdG9wXCIpLHpuLnByb3RvdHlwZSksRXQoem4ucHJvdG90eXBlLFwicGlwZVwiLFt4SV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih6bi5wcm90b3R5cGUsXCJwaXBlXCIpLHpuLnByb3RvdHlwZSksRXQoem4ucHJvdG90eXBlLFwidW5waXBlXCIsW1ZJXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHpuLnByb3RvdHlwZSxcInVucGlwZVwiKSx6bi5wcm90b3R5cGUpLHpuKSxLcz0oRkk9JCh7YXJnc01hcDoodCxlKT0+W3QuZ2V0VHJhY2tJZCgpLGVdLHRocm90dGxlVGltZTozMDB9KSxCST0kKHthcmdzTWFwOih0LGUpPT5bdC5nZXRUcmFja0lkKCksZV19KSxqST0kKHthcmdzTWFwOnQ9Plt0LmdldFRyYWNrSWQoKV19KSxHST0kKHthcmdzTWFwOnQ9Plt0LmdldFRyYWNrSWQoKV19KSxXST0kKHthcmdzTWFwOih0LGUpPT5bdC5nZXRUcmFja0lkKCksZS5uYW1lXX0pLEhJPSQoe2FyZ3NNYXA6dD0+W3QuZ2V0VHJhY2tJZCgpXX0pLEV0KCgkZT1jbGFzcyBleHRlbmRzIGF1e2dldCBpc1BsYXlpbmcoKXtyZXR1cm4gdGhpcy5fdXNlQXVkaW9FbGVtZW50P0VuLmlzUGxheWluZyh0aGlzLmdldFRyYWNrSWQoKSk6dGhpcy5fc291cmNlLmlzUGxheWVkfWdldCBfX2NsYXNzTmFtZV9fKCl7cmV0dXJuIFwiUmVtb3RlQXVkaW9UcmFja1wifWNvbnN0cnVjdG9yKHQsZSxuLGkpe3N1cGVyKHQsZSxuLGkpLFAodGhpcyxcInRyYWNrTWVkaWFUeXBlXCIsZmEuQVVESU8pLFAodGhpcyxcIl9zb3VyY2VcIix2b2lkIDApLFAodGhpcyxcIl91c2VBdWRpb0VsZW1lbnRcIiwhMCksUCh0aGlzLFwiX3ZvbHVtZVwiLDEwMCksUCh0aGlzLFwicHJvY2Vzc29yQ29udGV4dFwiLHZvaWQgMCksUCh0aGlzLFwicHJvY2Vzc29yRGVzdGluYXRpb25cIix2b2lkIDApLFAodGhpcyxcIl9wbGF5ZWRcIiwhMSksUCh0aGlzLFwiX2J5cGFzc1dlYkF1ZGlvXCIsITEpLHYoXCJESVNBQkxFX1dFQkFVRElPXCIpPyh0aGlzLl9zb3VyY2U9bmV3IFBjLHRoaXMuX2J5cGFzc1dlYkF1ZGlvPSEwLHRoaXMuX3VzZUF1ZGlvRWxlbWVudD0hMCk6KHRoaXMuX3NvdXJjZT1uZXcgJGwodCwhMCksdihcIlJFTU9URV9BVURJT19UUkFDS19VU0VTX1dFQl9BVURJT1wiKSYmKHRoaXMuX3VzZUF1ZGlvRWxlbWVudD0hMSkpLHRoaXMuX3NvdXJjZS5vbmNlKGpuLlJFQ0VJVkVfVFJBQ0tfQlVGRkVSLCgpPT57dGhpcy5zYWZlRW1pdChXcy5GSVJTVF9GUkFNRV9ERUNPREVEKTt9KSx0aGlzLnByb2Nlc3NvckNvbnRleHQ9bmV3IGl1KHRoaXMuX3NvdXJjZS5jb250ZXh0LHRoaXMuZ2V0VHJhY2tJZCgpLFwicmVtb3RlXCIpLHRoaXMucHJvY2Vzc29yRGVzdGluYXRpb249bmV3IG51KHRoaXMucHJvY2Vzc29yQ29udGV4dCksdGhpcy5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKSx0aGlzLl9zb3VyY2Uub24oam4uVVBEQVRFX1NPVVJDRSwoKT0+e3RoaXMucHJvY2Vzc29yJiZ0aGlzLnByb2Nlc3Nvci51cGRhdGVJbnB1dCh7bm9kZTp0aGlzLl9zb3VyY2UucHJvY2Vzc1NvdXJjZU5vZGUsY29udGV4dDp0aGlzLnByb2Nlc3NvckNvbnRleHR9KTt9KTt9c2V0QXVkaW9GcmFtZUNhbGxiYWNrKHQpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTo0MDk2O2lmKCF0KXJldHVybiB0aGlzLl9zb3VyY2UucmVtb3ZlQWxsTGlzdGVuZXJzKGpuLk9OX0FVRElPX0JVRkZFUiksdm9pZCB0aGlzLl9zb3VyY2Uuc3RvcEdldEF1ZGlvQnVmZmVyKCk7dGhpcy5fc291cmNlLnN0YXJ0R2V0QXVkaW9CdWZmZXIoZSksdGhpcy5fc291cmNlLnJlbW92ZUFsbExpc3RlbmVycyhqbi5PTl9BVURJT19CVUZGRVIpLHRoaXMuX3NvdXJjZS5vbihqbi5PTl9BVURJT19CVUZGRVIsbj0+dChuKSk7fXNldFZvbHVtZSh0KXt0aGlzLl92b2x1bWU9dCx0aGlzLl91c2VBdWRpb0VsZW1lbnQ/RW4uc2V0Vm9sdW1lKHRoaXMuZ2V0VHJhY2tJZCgpLHQpOnRoaXMuX3NvdXJjZS5zZXRWb2x1bWUodC8xMDApO31hc3luYyBzZXRQbGF5YmFja0RldmljZSh0KXtpZighdGhpcy5fdXNlQXVkaW9FbGVtZW50fHwhak8oKSl0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJ5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzZXR0aW5nIHRoZSBhdWRpbyBvdXRwdXQgZGV2aWNlXCIpO2F3YWl0IEVuLnNldFNpbmtJRCh0aGlzLmdldFRyYWNrSWQoKSx0KTt9Z2V0Vm9sdW1lTGV2ZWwoKXtyZXR1cm4gdGhpcy5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKX1nZXRTdGF0cygpe3JldHVybiBwbygoKT0+e18ud2FybmluZyhcIltkZXByZWNhdGVkXSBSZW1vdGVBdWRpb1RyYWNrLmdldFN0YXRzIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCB1c2UgQWdvcmFSVENDbGllbnQuZ2V0UmVtb3RlQXVkaW9TdGF0cyBpbnN0ZWFkXCIpO30sXCJyZW1vdGVBdWRpb1RyYWNrR2V0U3RhdHNXYXJuaW5nXCIpLG5pKHRoaXMsSC5HRVRfU1RBVFMpfHxLdCh7fSxHTyl9cGxheSgpe18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBhdWRpbyBwbGF5YmFja1wiKSksdGhpcy5fcGxheWVkPSEwLHRoaXMuX3VzZUF1ZGlvRWxlbWVudD8oXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHVzZSBhdWRpbyBlbGVtZW50IHRvIHBsYXlcIikpLEVuLnBsYXkodGhpcy5fbWVkaWFTdHJlYW1UcmFjayx0aGlzLmdldFRyYWNrSWQoKSx0aGlzLl92b2x1bWUsdGhpcy5zdG9yZS5zZXNzaW9uSWR8fHZvaWQgMCkpOnRoaXMuX3NvdXJjZS5wbGF5KCk7fXN0b3AoKXtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RvcCBhdWRpbyBwbGF5YmFja1wiKSksdGhpcy5fcGxheWVkPSExLHRoaXMuX3VzZUF1ZGlvRWxlbWVudD9Fbi5zdG9wKHRoaXMuZ2V0VHJhY2tJZCgpKTp0aGlzLl9zb3VyY2Uuc3RvcCgpO31fZGVzdHJveSgpe3N1cGVyLl9kZXN0cm95KCksdGhpcy5fcGxheWVkPSExLHRoaXMudW5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKSx0aGlzLl9zb3VyY2UuZGVzdHJveSgpO31faXNGcmVlemUoKXtyZXR1cm4gdGhpcy5fc291cmNlLmlzRnJlZXplfV91cGRhdGVQbGF5ZXJTb3VyY2UoKXtsZXQgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwKXx8YXJndW1lbnRzWzBdO18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSB1cGRhdGUgcGxheWVyIHNvdXJjZSB0cmFja1wiKSksdCYmdGhpcy5fc291cmNlLnVwZGF0ZVRyYWNrKHRoaXMuX21lZGlhU3RyZWFtVHJhY2spLHRoaXMuX3VzZUF1ZGlvRWxlbWVudCYmRW4udXBkYXRlVHJhY2sodGhpcy5nZXRUcmFja0lkKCksdGhpcy5fbWVkaWFTdHJlYW1UcmFjayk7fXBpcGUodCl7aWYodGhpcy5fYnlwYXNzV2ViQXVkaW8pdGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwiY2FuIG5vdCBwaXBlIGV4dGVuc2lvbiB3aGVuIFdlYkF1ZGlvIGRpc2FibGVkXCIpO2lmKHRoaXMucHJvY2Vzc29yPT09dClyZXR1cm4gdDtpZih0Ll9zb3VyY2UpdGhyb3cgbmV3IE4oUi5JTlZBTElEX09QRVJBVElPTixcIlByb2Nlc3NvciBcIi5jb25jYXQodC5uYW1lLFwiIGFscmVhZHkgcGlwZWQsIHBsZWFzZSBjYWxsIHVucGlwZSBiZWZvcmVoYW5kLlwiKSk7cmV0dXJuIHRoaXMudW5waXBlKCksdGhpcy5wcm9jZXNzb3I9dCx0aGlzLnByb2Nlc3Nvci5fc291cmNlPXRoaXMsdC51cGRhdGVJbnB1dCh7dHJhY2s6dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayxub2RlOnRoaXMuX3NvdXJjZS5wcm9jZXNzU291cmNlTm9kZSxjb250ZXh0OnRoaXMucHJvY2Vzc29yQ29udGV4dH0pLHR9dW5waXBlKCl7dmFyIHQ7aWYodGhpcy5fYnlwYXNzV2ViQXVkaW8pdGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwiY2FuIG5vdCB1bnBpcGUgZXh0ZW5zaW9uIHdoZW4gV2ViQXVkaW8gZGlzYWJsZWRcIik7aWYoIXRoaXMucHJvY2Vzc29yKXJldHVybjtsZXQgZT10aGlzLnByb2Nlc3NvcjsodD10aGlzLl9zb3VyY2UucHJvY2Vzc1NvdXJjZU5vZGUpPT09bnVsbHx8dD09PXZvaWQgMHx8dC5kaXNjb25uZWN0KCksdGhpcy5wcm9jZXNzb3IuX3NvdXJjZT0hMSx0aGlzLnByb2Nlc3Nvcj12b2lkIDAsZS5yZXNldCgpO31iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKXt0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLm9uKHVuLk9OX1RSQUNLLGFzeW5jIHQ9Pnt0P3QhPT10aGlzLl9tZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10LHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSghMSksdGhpcy5fc291cmNlLnByb2Nlc3NlZE5vZGU9dGhpcy5fc291cmNlLmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlTm9kZSh0KSk6dGhpcy5fbWVkaWFTdHJlYW1UcmFjayE9PXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCkpO30pLHRoaXMucHJvY2Vzc29yRGVzdGluYXRpb24ub24odW4uT05fTk9ERSx0PT57dGhpcy5fc291cmNlLnByb2Nlc3NlZE5vZGU9dDtsZXQgZT0hdDt0aGlzLl91c2VBdWRpb0VsZW1lbnQhPT1lJiYodGhpcy5fcGxheWVkPyh0aGlzLnN0b3AoKSx0aGlzLl91c2VBdWRpb0VsZW1lbnQ9ZSx0aGlzLnBsYXkoKSk6dGhpcy5fdXNlQXVkaW9FbGVtZW50PWUpO30pO311bmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpe3RoaXMucHJvY2Vzc29yRGVzdGluYXRpb24ucmVtb3ZlQWxsTGlzdGVuZXJzKHVuLk9OX1RSQUNLKSx0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLnJlbW92ZUFsbExpc3RlbmVycyh1bi5PTl9OT0RFKTt9fSkucHJvdG90eXBlLFwic2V0Vm9sdW1lXCIsW0ZJXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKCRlLnByb3RvdHlwZSxcInNldFZvbHVtZVwiKSwkZS5wcm90b3R5cGUpLEV0KCRlLnByb3RvdHlwZSxcInNldFBsYXliYWNrRGV2aWNlXCIsW0JJXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKCRlLnByb3RvdHlwZSxcInNldFBsYXliYWNrRGV2aWNlXCIpLCRlLnByb3RvdHlwZSksRXQoJGUucHJvdG90eXBlLFwicGxheVwiLFtqSV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcigkZS5wcm90b3R5cGUsXCJwbGF5XCIpLCRlLnByb3RvdHlwZSksRXQoJGUucHJvdG90eXBlLFwic3RvcFwiLFtHSV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcigkZS5wcm90b3R5cGUsXCJzdG9wXCIpLCRlLnByb3RvdHlwZSksRXQoJGUucHJvdG90eXBlLFwicGlwZVwiLFtXSV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcigkZS5wcm90b3R5cGUsXCJwaXBlXCIpLCRlLnByb3RvdHlwZSksRXQoJGUucHJvdG90eXBlLFwidW5waXBlXCIsW0hJXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKCRlLnByb3RvdHlwZSxcInVucGlwZVwiKSwkZS5wcm90b3R5cGUpLCRlKSx5cj1uZXcgY2xhc3MgZXh0ZW5kcyBYdHtnZXQgdmlzaWJpbGl0eSgpe3JldHVybiBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGV9Z2V0IGxhc3RIaWRkZW5UaW1lKCl7cmV0dXJuIHRoaXMuX2xhc3RIaWRkZW5UaW1lfWdldCBsYXN0VmlzaWJsZVRpbWUoKXtyZXR1cm4gdGhpcy5fbGFzdFZpc2libGVUaW1lfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSxQKHRoaXMsXCJfbGFzdEhpZGRlblRpbWVcIiwwKSxQKHRoaXMsXCJfbGFzdFZpc2libGVUaW1lXCIsMCksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwoKT0+e2RvY3VtZW50LnZpc2liaWxpdHlTdGF0ZT09PVwiaGlkZGVuXCI/dGhpcy5fbGFzdEhpZGRlblRpbWU9cGVyZm9ybWFuY2Uubm93KCk6dGhpcy5fbGFzdFZpc2libGVUaW1lPXBlcmZvcm1hbmNlLm5vdygpLF8uZGVidWcoXCJkb2N1bWVudCB2aXNpYmlsaXR5IHdlbnQgXCIuY29uY2F0KGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSkpLHRoaXMuZW1pdChcIlZJU0lCSUxJVFlfQ0hBTkdFXCIsZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlKTt9KTt9fSxjdT1jbGFzcyBleHRlbmRzIFh0e2NvbnN0cnVjdG9yKGUsbil7c3VwZXIoKSxQKHRoaXMsXCJ0cmFja01lZGlhVHlwZVwiLGZhLkRBVEEpLFAodGhpcyxcIl92ZXJzaW9uXCIsMSksUCh0aGlzLFwiX3R5cGVcIiwzKSxQKHRoaXMsXCJfY29uZmlnXCIsdm9pZCAwKSxQKHRoaXMsXCJfb3JpZ2luRGF0YUNoYW5uZWxcIix2b2lkIDApLFAodGhpcyxcIl9kYXRhU3RyZWFtUGFja2V0SGVhZGVyXCIsbmV3IEFycmF5QnVmZmVyKDQpKSxQKHRoaXMsXCJfZGF0YVN0cmVhbVBhY2tldEhhbmRsZXJcIix7c2VyaWFsaXplOmk9PmksZGVzZXJpYWxpemU6aT0+aX0pLFAodGhpcyxcIl9kYXRhY2hhbm5lbEV2ZW50TWFwXCIsbmV3IE1hcCksdGhpcy5fY29uZmlnPWUsbiYmKHRoaXMuX29yaWdpbkRhdGFDaGFubmVsPW4sdGhpcy5fYmFuZERhdGFDaGFubmVsRXZlbnRzKG4pKSx0aGlzLl9pbml0UGFja2V0SGVhZGVyKCk7fXVzZURhdGFTdHJlYW0oZSl7dGhpcy5fZGF0YVN0cmVhbVBhY2tldEhhbmRsZXI9ZTt9Z2V0IGlkKCl7cmV0dXJuIHRoaXMuX2NvbmZpZy5pZH1nZXQgb3JkZXJlZCgpe3JldHVybiB0aGlzLl9jb25maWcub3JkZXJlZH1nZXQgbWF4UmV0cmFuc21pdHMoKXtyZXR1cm4gdihcIkRBVEFTVFJFQU1fTUFYX1JFVFJBTlNNSVRTXCIpfWdldCBtZXRhZGF0YSgpe3JldHVybiB0aGlzLl9jb25maWcubWV0YWRhdGF9Z2V0IHJlYWR5U3RhdGUoKXt2YXIgZSxuO3JldHVybiAoZT0obj10aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbCk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLnJlYWR5U3RhdGUpIT09bnVsbCYmZSE9PXZvaWQgMD9lOlwiY29ubmVjdGluZ1wifWdldCBfb3JpZ2luRGF0YUNoYW5uZWxJZCgpe3ZhciBlLG47cmV0dXJuIChlPShuPXRoaXMuX29yaWdpbkRhdGFDaGFubmVsKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uaWQpIT09bnVsbCYmZSE9PXZvaWQgMD9lOm51bGx9Z2V0Q2hhbm5lbElkKCl7cmV0dXJuIHRoaXMuaWR9Z2V0Q29uZmlnKCl7cmV0dXJuIHRoaXMuX2NvbmZpZ31fY2xvc2UoKXt0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbCYmKHRoaXMuX3VuYmluZERhdGFDaGFubmVsRXZlbnRzKHRoaXMuX29yaWdpbkRhdGFDaGFubmVsKSx0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbD12b2lkIDApO31hc3luYyBfd2FpdFRpbGxPcGVuKCl7cmV0dXJuIG5ldyBqKChlLG4pPT57aWYodGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwpe3RoaXMuX29yaWdpbkRhdGFDaGFubmVsLnJlYWR5U3RhdGU9PT1cIm9wZW5cIiYmZSgpO2xldCBpPXNldFRpbWVvdXQoKCk9Pnt2YXIgcjtuKG5ldyBOKFIuREFUQUNIQU5ORUxfQ09OTkVDVElPTl9USU1FT1VULFwiQ2Fubm90IGNyZWF0ZSBkYXRhY2hhbm5lbCwgaWQ6IFwiLmNvbmNhdCgocj10aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbCk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLmlkKSkpO30sMWU0KTt0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbC5vbm9wZW49KCk9PntjbGVhclRpbWVvdXQoaSksdGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwmJnRoaXMuX2JhbmREYXRhQ2hhbm5lbEV2ZW50cyh0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbCksZSgpO30sdGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwub25lcnJvcj0oKT0+e3Rocm93IGNsZWFyVGltZW91dChpKSxuZXcgTihSLkRBVEFDSEFOTkVMX0NPTk5FQ1RJT05fVElNRU9VVCl9O31lbHNlIG4obmV3IE4oUi5EQVRBQ0hBTk5FTF9DT05ORUNUSU9OX1RJTUVPVVQsXCJjYW5ub3QgZmluZCBkYXRhQ2hhbm5lbFwiKSk7fSl9X3VwZGF0ZU9yaWdpbkRhdGFDaGFubmVsKGUpe3RoaXMuX29yaWdpbkRhdGFDaGFubmVsPWUsdGhpcy5fYmFuZERhdGFDaGFubmVsRXZlbnRzKGUpO31faW5pdFBhY2tldEhlYWRlcigpe2xldCBlPW5ldyBEYXRhVmlldyh0aGlzLl9kYXRhU3RyZWFtUGFja2V0SGVhZGVyKTtlLnNldFVpbnQxNigwLHRoaXMuX3ZlcnNpb24pLGUuc2V0VWludDgoMix0aGlzLl90eXBlKSxlLnNldFVpbnQ4KDMsdGhpcy5fY29uZmlnLmlkKTt9X2JhbmREYXRhQ2hhbm5lbEV2ZW50cyhlKXt0aGlzLl91bmJpbmREYXRhQ2hhbm5lbEV2ZW50cyhlKSxbQ2wuT1BFTixDbC5DTE9TRSxDbC5FUlJPUl0uZm9yRWFjaChuPT57bGV0IGk9KCk9Pnt0aGlzLmVtaXQobik7fTt0aGlzLl9kYXRhY2hhbm5lbEV2ZW50TWFwLnNldChuLGkpLGUuYWRkRXZlbnRMaXN0ZW5lcihuLGkpO30pO31fdW5iaW5kRGF0YUNoYW5uZWxFdmVudHMoZSl7QXJyYXkuZnJvbSh0aGlzLl9kYXRhY2hhbm5lbEV2ZW50TWFwLmVudHJpZXMoKSkuZm9yRWFjaChuPT57bGV0W2kscl09bjtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoaSxyKTt9KSx0aGlzLl9kYXRhY2hhbm5lbEV2ZW50TWFwLmNsZWFyKCk7fX0sUUU9Y2xhc3MgZXh0ZW5kcyBjdXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSxQKHRoaXMsXCJfbWVzc2FnZUxpc3RlbmVyXCIsdm9pZCAwKSx0aGlzLl9tZXNzYWdlTGlzdGVuZXI9bj0+e2lmKG4uZGF0YS5ieXRlTGVuZ3RoPHRoaXMuX2RhdGFTdHJlYW1QYWNrZXRIZWFkZXIuYnl0ZUxlbmd0aCl0aHJvdyBFcnJvcihcImludmFsaWQgYnl0ZUxlbmd0aDogdGhlIGJ5dGUgbGVuZ3RoIG11c3QgZXhjZWVkIFwiK3RoaXMuX2RhdGFTdHJlYW1QYWNrZXRIZWFkZXIuYnl0ZUxlbmd0aCk7bGV0IGk9bi5kYXRhLnNsaWNlKDAsdGhpcy5fZGF0YVN0cmVhbVBhY2tldEhlYWRlci5ieXRlTGVuZ3RoKSxyPW5ldyBEYXRhVmlldyhpKS5nZXRVaW50OCgzKTtpZihyIT09dGhpcy5pZClyZXR1cm4gdm9pZCh2KFwiU0hPV19EQVRBU1RSRUFNMl9MT0dcIikmJl8uZGVidWcoXCJpbnZhbGlkIGRhdGFjaGFubmVsIGlkOiBcIi5jb25jYXQocixcIiAhPT0gXCIpLmNvbmNhdCh0aGlzLmlkKSkpO2xldCBvPW4uZGF0YS5zbGljZSh0aGlzLl9kYXRhU3RyZWFtUGFja2V0SGVhZGVyLmJ5dGVMZW5ndGgpO289dGhpcy5fZGF0YVN0cmVhbVBhY2tldEhhbmRsZXIuZGVzZXJpYWxpemUobyksdGhpcy5lbWl0KENsLk1FU1NBR0Usbyk7fTt9X3VwZGF0ZU9yaWdpbkRhdGFDaGFubmVsKGUpe3N1cGVyLl91cGRhdGVPcmlnaW5EYXRhQ2hhbm5lbChlKSx0aGlzLl9iYW5kUmVtb3RlRGF0YUNoYW5uZWxFdmVudHMoKTt9X2Nsb3NlKCl7dGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwmJih0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMuX21lc3NhZ2VMaXN0ZW5lciksc3VwZXIuX2Nsb3NlKCkpO31fYmFuZFJlbW90ZURhdGFDaGFubmVsRXZlbnRzKCl7dGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwmJnRoaXMuX29yaWdpbkRhdGFDaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5fbWVzc2FnZUxpc3RlbmVyKTt9fSxaRT1jbGFzcyBleHRlbmRzIGN1e3NlbmQoZSl7aWYodGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwpe2xldCBuPWU7bj10aGlzLl9kYXRhU3RyZWFtUGFja2V0SGFuZGxlci5zZXJpYWxpemUoZSk7bGV0IGk9bmV3IFVpbnQ4QXJyYXkodGhpcy5fZGF0YVN0cmVhbVBhY2tldEhlYWRlci5ieXRlTGVuZ3RoK24uYnl0ZUxlbmd0aCk7aS5zZXQobmV3IFVpbnQ4QXJyYXkodGhpcy5fZGF0YVN0cmVhbVBhY2tldEhlYWRlciksMCksaS5zZXQobmV3IFVpbnQ4QXJyYXkobiksdGhpcy5fZGF0YVN0cmVhbVBhY2tldEhlYWRlci5ieXRlTGVuZ3RoKSx0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbC5zZW5kKGkuYnVmZmVyKTt9fX07ZnVuY3Rpb24gdmwoKXtsZXQgdD1uZXcgQmxvYihbYXRvYihcIlpuVnVZM1JwYjI0Z1pTaGxMSFFzYmlsN2JHVjBJSEk5Ym1WM0lGVnBiblE0UVhKeVlYa29aU3gwTEc0cExHRTlXMTBzYnowd08yWnZjaWc3WVM1c1pXNW5kR2c4YmpzcGJ5c3pQRzRtSmpBOVBUMXlXMjlkSmlZd1BUMDljbHR2S3pGZEppWXpQVDA5Y2x0dkt6SmRKaVlvTUQwOVBYSmJieXN6WFh4OE1UMDlQWEpiYnlzelhYeDhNajA5UFhKYmJ5c3pYWHg4TXowOVBYSmJieXN6WFNrL0tHRXVjSFZ6YUNoeVcyOWRMSEpiYnlzeFhTeHlXMjhyTTEwcExHOHJQVFFwT2loaExuQjFjMmdvY2x0dlhTa3NieXNyS1R0eVpYUjFjbTRnYm1WM0lGVnBiblE0UVhKeVlYa29ZU2w5Wm5WdVkzUnBiMjRnZENobExIUXBlMk52Ym5OMElHNDlablZ1WTNScGIyNG9aU2w3WTI5dWMzUWdkRDFsTG14bGJtZDBhRHRzWlhRZ2JqMWJYU3h5UFRBN1ptOXlLRHR5UEhRN0tYSXJNangwSmlZd1BUMDlaVnR5WFNZbU1EMDlQV1ZiY2lzeFhTWW1LREE5UFQxbFczSXJNbDE4ZkRFOVBUMWxXM0lyTWwxOGZESTlQVDFsVzNJck1sMThmRE05UFQxbFczSXJNbDBwUHlodUxuQjFjMmdvWlZ0eVhTeGxXM0lyTVYwc015eGxXM0lyTWwwcExISXJQVE1wT2lodUxuQjFjMmdvWlZ0eVhTa3NjaXNyS1R0eVpYUjFjbTRnYm1WM0lGVnBiblE0UVhKeVlYa29iaWw5S0hRcExISTliaTVzWlc1bmRHZ3NZVDFOWVhSb0xtWnNiMjl5S0hJdk1qVTFLU3h2UFhJbE1qVTFMSE05Ym1WM0lGVnBiblE0UVhKeVlYa29OaXRoS3pFcmNpdGxMbUo1ZEdWTVpXNW5kR2dwTzNOYk1GMDlNQ3h6V3pGZFBUQXNjMXN5WFQwd0xITmJNMTA5TVN4eld6UmRQVFlzYzFzMVhUMHhNREU3YkdWMElHazlNRHRtYjNJb08yazhZVHNwYzFzMksybGRQVEkxTlN4cEt5czdjbVYwZFhKdUlITmJOaXRwWFQxdkxHa3JLeXh6TG5ObGRDaHVMRFlyYVNrc2N5NXpaWFFvYm1WM0lGVnBiblE0UVhKeVlYa29aU2tzTml0cEszSXBMSE11WW5WbVptVnlmVzVoZG1sbllYUnZjaTUxYzJWeVFXZGxiblF1YVc1a1pYaFBaaWdpVTJGbVlYSnBJaWsrTFRFbUppMHhQVDA5Ym1GMmFXZGhkRzl5TG5WelpYSkJaMlZ1ZEM1cGJtUmxlRTltS0NKRGFISnZiV1VpS1NZbUtITmxiR1l1YjI1eWRHTjBjbUZ1YzJadmNtMDliajArZTJOdmJuTjBJSEk5Ymk1MGNtRnVjMlp2Y20xbGNqdHNaWFFnWVQxYlhUdHlMbTl3ZEdsdmJuTXVjRzl5ZEM1dmJtMWxjM05oWjJVOVpUMCtlMlV1WkdGMFlTNXpaV2ttSm1FdWNIVnphQ2hsTG1SaGRHRXVjMlZwS1gwc2MyVnNaaTV3YjNOMFRXVnpjMkZuWlNnaWMzUmhjblJsWkNJcE8yTnZibk4wSUc4OWNpNXlaV0ZrWVdKc1pTNW5aWFJTWldGa1pYSW9LU3h6UFhJdWQzSnBkR0ZpYkdVdVoyVjBWM0pwZEdWeUtDazdJbko0SWowOVBYSXViM0IwYVc5dWN5NXVZVzFsUDJaMWJtTjBhVzl1SUhRb2JpbDdieTV5WldGa0tDa3VkR2hsYmlnb2NqMCtlMmxtS0NGeUxtUnZibVVwZTJsbUtISXVkbUZzZFdVZ2FXNXpkR0Z1WTJWdlppQlNWRU5GYm1OdlpHVmtWbWxrWlc5R2NtRnRaU2w3WTI5dWMzUWdkRDFtZFc1amRHbHZiaWgwS1h0amIyNXpkQ0J1UFc1bGR5QkVZWFJoVm1sbGR5aDBMbVJoZEdFcE8yeGxkQ0J5UFRBN1ptOXlLRHR5S3pROGRDNWtZWFJoTG1KNWRHVk1aVzVuZEdnN0tYdHBaaWd3UFQwOWJpNW5aWFJWYVc1ME9DaHlLekFwSmlZd1BUMDliaTVuWlhSVmFXNTBPQ2h5S3pFcEppWXdQVDA5Ymk1blpYUlZhVzUwT0NoeUt6SXBKaVl4UFQwOWJpNW5aWFJWYVc1ME9DaHlLek1wSmlZMlBUMDliaTVuWlhSVmFXNTBPQ2h5S3pRcEtYdHNaWFFnWVQxeUt6WXNiejB3TEhNOU1EdG1iM0lvT3pJMU5UMDlQU2h6UFc0dVoyVjBWV2x1ZERnb1lTc3JLU2s3S1c4clBUSTFOVHR2S3oxek8yTnZibk4wSUdrOVpTaDBMbVJoZEdFc1lTeHZLVHR5WlhSMWNtNGdibVYzSUZWcGJuUTRRWEp5WVhrb2FTbDljaXNyZlhKbGRIVnliaUJ1ZFd4c2ZTaHlMblpoYkhWbEtUdDBKaVp1TG05d2RHbHZibk11Y0c5eWRDNXdiM04wVFdWemMyRm5aU2g3YzJWcE9uUjlLWDF6TG5keWFYUmxLSEl1ZG1Gc2RXVXBMRzR1YjNCMGFXOXVjeTV3YjNKMExuQnZjM1JOWlhOellXZGxLSHQwY21GdWMyWnZjbTFsWkRvaE1IMHBMSFFvYmlsOWZTa3BmU2h5S1RvaWRIZ2lQVDA5Y2k1dmNIUnBiMjV6TG01aGJXVW1KbVoxYm1OMGFXOXVJR1VvYmlsN2J5NXlaV0ZrS0NrdWRHaGxiaWdvY2owK2UybG1LQ0Z5TG1SdmJtVXBlMmxtS0hJdWRtRnNkV1VnYVc1emRHRnVZMlZ2WmlCU1ZFTkZibU52WkdWa1ZtbGtaVzlHY21GdFpTbDdZMjl1YzNRZ1pUMWhMbk5vYVdaMEtDazdaU1ltS0hJdWRtRnNkV1V1WkdGMFlUMTBLSEl1ZG1Gc2RXVXVaR0YwWVN4bEtTbDljeTUzY21sMFpTaHlMblpoYkhWbEtTeHVMbTl3ZEdsdmJuTXVjRzl5ZEM1d2IzTjBUV1Z6YzJGblpTaDdkSEpoYm5ObWIzSnRaV1E2SVRCOUtTeGxLRzRwZlgwcEtYMG9jaWw5TEhObGJHWXVjRzl6ZEUxbGMzTmhaMlVvSW5KbFoybHpkR1Z5WldRaUtTazdDZz09XCIpXSx7dHlwZTpcInRleHQvamF2YXNjcmlwdFwifSk7cmV0dXJuIHNldFRpbWVvdXQoKCk9PmhDLnJldm9rZU9iamVjdFVSTCh0KSwwKSxuZXcgV29ya2VyKGhDLmNyZWF0ZU9iamVjdFVSTCh0KSl9dmFyIEJkPW5ldyBNYXAsamQ9bmV3IE1hcDtmdW5jdGlvbiBGRyh0LGUsbil7bGV0IGk9bmV3IFVpbnQ4QXJyYXkodCxlLG4pLHI9W10sbz0wO2Zvcig7ci5sZW5ndGg8bjspbyszPG4mJmlbb109PT0wJiZpW28rMV09PT0wJiZpW28rMl09PT0zJiYoaVtvKzNdPT09MHx8aVtvKzNdPT09MXx8aVtvKzNdPT09Mnx8aVtvKzNdPT09Myk/KHIucHVzaChpW29dLGlbbysxXSxpW28rM10pLG8rPTQpOihyLnB1c2goaVtvXSksbysrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkocil9dmFyIEdkPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gQkcodCxlKXtpZighZnQoKS5zdXBwb3J0V2ViUlRDRW5jb2RlZFRyYW5zZm9ybSlyZXR1cm4gdm9pZCBfLndhcm5pbmcoXCJicm93c2VyIG5vdCBzdXBwb3J0IHZpZGVvIGVuY29kZWQgdHJhbnNmb3JtXCIpO2lmKEdkLmhhcyh0KXx8IXQudHJhY2spcmV0dXJuO2xldCBuPXt0cmFjazp0LnRyYWNrfTtpZihvbygpKXtpZighdC5jcmVhdGVFbmNvZGVkU3RyZWFtcylyZXR1cm4gdm9pZCBfLndhcm5pbmcoXCJicm93c2VyIG5vdCBzdXBwb3J0IGNyZWF0ZUVuY29kZWRTdHJlYW1zKCkgQVBJXCIpO2xldCByPW51bGw7dHJ5e3I9dC5jcmVhdGVFbmNvZGVkU3RyZWFtcygpO31jYXRjaChhKXtyZXR1cm4gdm9pZCBfLmVycm9yKFwiY3JlYXRlIHZpZGVvLWVuY29kZWQtc3RyZWFtcyBlcnJvclwiLGEmJmEubWVzc2FnZSl9bGV0IG89W107ZS5vbihcInNlaS10by1zZW5kXCIsYT0+e28ucHVzaChhKTt9KTtsZXQgcz1uZXcgVHJhbnNmb3JtU3RyZWFtKHt0cmFuc2Zvcm0oYSxjKXtuLmNvbnRyb2xsZXJ8fChuLmNvbnRyb2xsZXI9YyksdC50cmFjayYmdC50cmFjay5pZCE9PW4udHJhY2suaWQmJihfLmRlYnVnKFwidmlkZW8gdHJhY2sgY2hhbmdlZDogXCIuY29uY2F0KG4udHJhY2suaWQsXCIgPT4gXCIpLmNvbmNhdCh0LnRyYWNrLmlkKSksbi50cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixpKSxuLnRyYWNrPXQudHJhY2ssbi50cmFjay5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixpKSk7bGV0IGQ9by5zaGlmdCgpO2QmJihhLmRhdGE9ZnVuY3Rpb24obCx1KXtsZXQgaD1mdW5jdGlvbihDKXtsZXQgQT1DLmxlbmd0aCxiPVtdLHc9MDtmb3IoO3c8QTspdysyPEEmJkNbd109PT0wJiZDW3crMV09PT0wJiYoQ1t3KzJdPT09MHx8Q1t3KzJdPT09MXx8Q1t3KzJdPT09Mnx8Q1t3KzJdPT09Myk/KGIucHVzaChDW3ddLENbdysxXSwzLENbdysyXSksdys9Myk6KGIucHVzaChDW3ddKSx3KyspO3JldHVybiBuZXcgVWludDhBcnJheShiKX0odSkscD1oLmxlbmd0aCxnPU1hdGguZmxvb3IocC8yNTUpLEU9cCUyNTUsZj1uZXcgVWludDhBcnJheSg2K2crMStwK2wuYnl0ZUxlbmd0aCk7ZlswXT0wLGZbMV09MCxmWzJdPTAsZlszXT0xLGZbNF09NixmWzVdPTEwMTtsZXQgUz0wO2Zvcig7UzxnOylmWzYrU109MjU1LFMrKztyZXR1cm4gZls2K1NdPUUsUysrLGYuc2V0KGgsNitTKSxmLnNldChuZXcgVWludDhBcnJheShsKSw2K1MrcCksZi5idWZmZXJ9KGEuZGF0YSxkKSksYy5lbnF1ZXVlKGEpO319KTtyLnJlYWRhYmxlLnBpcGVUaHJvdWdoKHMpLnBpcGVUbyhyLndyaXRhYmxlKTt9ZWxzZSB7aWYoIWplKCkpcmV0dXJuO3tpZih0eXBlb2YgUlRDUnRwU2NyaXB0VHJhbnNmb3JtPlwidVwiKXJldHVybiB2b2lkIF8ud2FybmluZyhcImJyb3dzZXIgbm90IHN1cHBvcnQgUlRDUnRwU2NyaXB0VHJhbnNmb3JtXCIpO2xldCByPXZsKCksbz1uZXcgTWVzc2FnZUNoYW5uZWw7YXdhaXQgbmV3IGooYT0+ci5vbm1lc3NhZ2U9Yz0+e2MuZGF0YT09PVwicmVnaXN0ZXJlZFwiJiZhKHZvaWQgMCk7fSk7bGV0IHM9bmV3IFJUQ1J0cFNjcmlwdFRyYW5zZm9ybShyLHtuYW1lOlwidHhcIixwb3J0Om8ucG9ydDJ9LFtvLnBvcnQyXSk7dC50cmFuc2Zvcm09cyxhd2FpdCBuZXcgaihhPT5yLm9ubWVzc2FnZT1jPT57Yy5kYXRhPT09XCJzdGFydGVkXCImJmEodm9pZCAwKTt9KSxlLm9uKFwic2VpLXRvLXNlbmRcIixhPT57by5wb3J0MS5wb3N0TWVzc2FnZSh7c2VpOmF9KTt9KSxvLnBvcnQxLm9ubWVzc2FnZT1hPT57dmFyIGM7YS5kYXRhLnRyYW5zZm9ybWVkJiZ0LnRyYWNrJiYoKGM9dC50cmFjayk9PT1udWxsfHxjPT09dm9pZCAwP3ZvaWQgMDpjLmlkKSE9PW4udHJhY2suaWQmJihfLmRlYnVnKFwidmlkZW8gdHJhY2sgY2hhbmdlZDogXCIuY29uY2F0KG4udHJhY2suaWQsXCIgPT4gXCIpLmNvbmNhdCh0LnRyYWNrLmlkKSksbi50cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixpKSxuLnRyYWNrPXQudHJhY2ssbi50cmFjay5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixpKSk7fSxuLndvcmtlcj1yO319ZnVuY3Rpb24gaSgpe2lmKHQudHJhY2spe2lmKHRoaXMuaWQhPT10LnRyYWNrLmlkKXJldHVybjt0LnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLGkpO31sZXQgcj1HZC5nZXQodCk7aWYocil7R2QuZGVsZXRlKHQpO3RyeXt2YXIgbyxzOyhvPXIuY29udHJvbGxlcik9PT1udWxsfHxvPT09dm9pZCAwfHxvLnRlcm1pbmF0ZSgpLChzPXIud29ya2VyKT09PW51bGx8fHM9PT12b2lkIDB8fHMudGVybWluYXRlKCk7fWNhdGNoKGEpe18ud2FybmluZyhhJiZhLm1lc3NhZ2UpO319fUdkLnNldCh0LG4pLHQudHJhY2suYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsaSk7fXZhciB4YT1uZXcgTWFwOyhmdW5jdGlvbigpe2xldCB0PW10KCk7TmUuZ2V0RGlzcGxheU1lZGlhPSEoIW5hdmlnYXRvci5tZWRpYURldmljZXN8fCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYSksTmUuZ2V0U3RyZWFtRnJvbUV4dGVuc2lvbj10Lm5hbWU9PT1JdC5DSFJPTUUmJk51bWJlcih0LnZlcnNpb24pPjM0LE5lLnN1cHBvcnRVbmlmaWVkUGxhbj1mdW5jdGlvbigpe2lmKCF3aW5kb3cuUlRDUnRwVHJhbnNjZWl2ZXJ8fCEoXCJjdXJyZW50RGlyZWN0aW9uXCJpbiBSVENSdHBUcmFuc2NlaXZlci5wcm90b3R5cGUpKXJldHVybiAhMTtsZXQgZT1uZXcgUlRDUGVlckNvbm5lY3Rpb24sbj0hMTt0cnl7ZS5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIpLG49ITA7fWNhdGNoe31yZXR1cm4gZS5jbG9zZSgpLG59KCksTmUuc3VwcG9ydE1pbkJpdHJhdGU9dC5uYW1lPT09SXQuQ0hST01FfHx0Lm5hbWU9PT1JdC5FREdFLE5lLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7bGV0IGU9bXQoKTtyZXR1cm4gISEod2luZG93LlJUQ1J0cFNlbmRlciYmd2luZG93LlJUQ1J0cFNlbmRlci5wcm90b3R5cGUuc2V0UGFyYW1ldGVycyYmd2luZG93LlJUQ1J0cFNlbmRlci5wcm90b3R5cGUuZ2V0UGFyYW1ldGVycykmJighIWhvKCl8fCEoIWplKCkmJiFHbCgpKXx8ZS5uYW1lPT09SXQuRklSRUZPWCYmTnVtYmVyKGUudmVyc2lvbik+PTY0KX0oKSx0Lm5hbWU9PT1JdC5TQUZBUkkmJihOdW1iZXIodC52ZXJzaW9uKT49MTQ/TmUuc3VwcG9ydER1YWxTdHJlYW09ITA6TmUuc3VwcG9ydER1YWxTdHJlYW09ITEpLE5lLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0PWZ1bmN0aW9uKCl7bGV0IGU9bXQoKTtyZXR1cm4gIShlLm5hbWU9PT1JdC5TQUZBUkkmJk51bWJlcihlLnZlcnNpb24pPDEyKX0oKSxOZS5zdXBwb3J0UmVwbGFjZVRyYWNrPSEhd2luZG93LlJUQ1J0cFNlbmRlciYmdHlwZW9mIFJUQ1J0cFNlbmRlci5wcm90b3R5cGUucmVwbGFjZVRyYWNrPT1cImZ1bmN0aW9uXCIsTmUuc3VwcG9ydFdlYkdMPXR5cGVvZiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ8XCJ1XCIsTmUuc3VwcG9ydFJlcXVlc3RGcmFtZT0hIXdpbmRvdy5DYW52YXNDYXB0dXJlTWVkaWFTdHJlYW1UcmFjayxobygpfHwoTmUud2ViQXVkaW9XaXRoQUVDPSEwKSxOZS5zdXBwb3J0U2hhcmVBdWRpbz1mdW5jdGlvbigpe2xldCBlPW10KCk7cmV0dXJuIChlLm9zPT09eWUuV0lOXzEwfHxlLm9zPT09eWUuV0lOXzgxfHxlLm9zPT09eWUuV0lOXzd8fGUub3M9PT15ZS5MSU5VWHx8ZS5vcz09PXllLk1BQ19PU3x8ZS5vcz09PXllLkNIUk9NSVVNX09TKSYmZS5uYW1lPT09SXQuQ0hST01FJiZOdW1iZXIoZS52ZXJzaW9uKT49NzR9KCksTmUuc3VwcG9ydERhdGFDaGFubmVsPSEhKE9FKDc2KXx8ZnVuY3Rpb24oZSl7bGV0IG49bXQoKTtyZXR1cm4gIShuLm5hbWUhPT1JdC5GSVJFRk9YfHwhbi5vc1ZlcnNpb24pJiZOdW1iZXIobi52ZXJzaW9uKT49ZX0oNjgpfHxtTygxNCkpLE5lLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb249ZnVuY3Rpb24oKXtsZXQgZT13aW5kb3cuUlRDUGVlckNvbm5lY3Rpb247cmV0dXJuICEkdCgpJiYhIWUmJmUucHJvdG90eXBlLnNldENvbmZpZ3VyYXRpb24gaW5zdGFuY2VvZiBGdW5jdGlvbn0oKSxOZS5zdXBwb3J0V2ViUlRDRW5jb2RlZFRyYW5zZm9ybT1mdW5jdGlvbigpe2xldCBlPW10KCk7cmV0dXJuIGUubmFtZT09PVwiQ2hyb21lXCImJk51bWJlcihlLnZlcnNpb24pPj04Nnx8ZS5uYW1lPT09XCJTYWZhcmlcIiYmTnVtYmVyKGUudmVyc2lvbik+PTE1fSgpLE5lLnN1cHBvcnRXZWJSVENJbnNlcnRhYmxlU3RyZWFtPWZ1bmN0aW9uKCl7bGV0IGU9bXQoKTtyZXR1cm4gKGUubmFtZT09PUl0LkNIUk9NRXx8ZS5uYW1lPT09SXQuRURHRSkmJk51bWJlcihlLnZlcnNpb24pPj05NCYmXCJNZWRpYVN0cmVhbVRyYWNrR2VuZXJhdG9yXCJpbiB3aW5kb3cmJlwiTWVkaWFTdHJlYW1UcmFja1Byb2Nlc3NvclwiaW4gd2luZG93fSgpLE5lLnN1cHBvcnRSZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrPVwicmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFja1wiaW4gSFRNTFZpZGVvRWxlbWVudC5wcm90b3R5cGUsTmUuc3VwcG9ydFdlYkNyeXB0bz10eXBlb2Ygd2luZG93PFwidVwiJiZ3aW5kb3cuY3J5cHRvIT09dm9pZCAwJiZ3aW5kb3cuY3J5cHRvLnN1YnRsZSE9PXZvaWQgMCxxdSgoKT0+e05lLnN1cHBvcnREdWFsU3RyZWFtRW5jb2Rpbmc9ZnVuY3Rpb24oKXtsZXQgZT1tdCgpO3JldHVybiAhIXYoXCJESVNBQkxFX1dFQkFVRElPXCIpfHxlLm5hbWU9PT1cIlNhZmFyaVwiJiZOdW1iZXIoZS52ZXJzaW9uKT49MTR8fCEhKGUubmFtZT09PVwiQ2hyb21lXCImJi9XaW5kb3dzL2kudGVzdChlLm9zfHxcIlwiKSYmTnVtYmVyKGUudmVyc2lvbik+PTEwMCYmdihcIkNIUk9NRV9EVUFMX1NUUkVBTV9VU0VfRU5DT0RJTkdcIikpfSgpLF8uaW5mbyhcImJyb3dzZXIgY29tcGF0aWJpbGl0eVwiLEpTT04uc3RyaW5naWZ5KE5lKSxKU09OLnN0cmluZ2lmeSh0KSk7fSk7fSkoKTt2YXIgaWE9Y2xhc3MgdCBleHRlbmRzIFh0e2NvbnN0cnVjdG9yKGUsbil7c3VwZXIoKSxUKHRoaXMsXCJzaWduYWxcIix2b2lkIDApLFQodGhpcyxcInRva2VuXCIsdm9pZCAwKSxUKHRoaXMsXCJ0b2tlblRpbWVvdXRcIix2b2lkIDApLFQodGhpcyxcInRva2VuSW50ZXJ2YWxcIix2b2lkIDApLFQodGhpcyxcIl9zZXF1ZW5jZVwiLDApLFQodGhpcyxcInVzZXJNYXBcIixuZXcgTWFwKSxUKHRoaXMsXCJlbmNvZGVyXCIsbmV3IFRleHRFbmNvZGVyKSx0aGlzLnNpZ25hbD1lLHRoaXMudG9rZW49bjtsZXQgaT0oKT0+e3RoaXMuc2lnbmFsLmNvbm5lY3Rpb25TdGF0ZT09PUx0LkNPTk5FQ1RFRCYmdGhpcy5jaGVjaygpLHRoaXMudXNlck1hcC5zaXplPT09MD90aGlzLnRva2VuSW50ZXJ2YWw9d2luZG93LnNldFRpbWVvdXQoaSwxZTMpOnRoaXMudG9rZW5JbnRlcnZhbD13aW5kb3cuc2V0VGltZW91dChpLDMqdihcIlAyUF9UT0tFTl9JTlRFUlZBTFwiKSk7fTtpKCk7fWFzeW5jIHNlbmQoZSxuLGkscixvKXt2YXIgcyxhLGM7aWYodGhpcy51c2VyTWFwLnNpemU9PT0wKXJldHVybjtsZXQgZD1BcnJheS5mcm9tKFByKHM9dGhpcy51c2VyTWFwKS5jYWxsKHMpKVswXS50b2tlbjt0eXBlb2YgbiE9XCJzdHJpbmdcIiYmKG49SlNPTi5zdHJpbmdpZnkobikpLHI9KGE9cikhPT1udWxsJiZhIT09dm9pZCAwP2E6VXQoNixcIlwiKSxvPShjPW8pIT09bnVsbCYmYyE9PXZvaWQgMD9jOnRoaXMuX3NlcXVlbmNlKys7bGV0IGw9e19pZDpyLF90eXBlOmUsX3NlcTpvLF9tZXNzYWdlOm4sdG9rZW46XCJcIi5jb25jYXQodGhpcy50b2tlbixcIl9cIikuY29uY2F0KGQpfTt2KFwiU0hPV19QMlBfTE9HXCIpJiZfLmRlYnVnKFwic2VuZCBtZXNzYWdlXCIsbCxcIm5vTmVlZFJlc3BvbnNlIDogXCIuY29uY2F0KGkpKSx0aGlzLnNwbGl0TWVzc2FnZShKU09OLnN0cmluZ2lmeShsKSkuZm9yRWFjaChoPT57dGhpcy5zaWduYWwucmVxdWVzdChldC5EQVRBX1NUUkVBTSx7cGF5bG9hZDpzbyh0aGlzLmVuY29kZXIuZW5jb2RlKGgpKX0pO30pO2xldCB1PW5ldyBqKChoLHApPT57bGV0IGc9d2luZG93LnNldFRpbWVvdXQoKCk9Pnt0aGlzLm9mZihcInJlcy1AXCIuY29uY2F0KHIsXCJfYWNrXCIpLEUpLHRoaXMub2ZmKFwicmVzLUBcIi5jb25jYXQociksUyksdGhpcy5vZmYocHMuQUJPUlQsZiksXy5kZWJ1ZyhcIltleHRlcm5hbC1zaWduYWxdIHJlcXVlc3QgdGltZW91dCwgdHlwZTogXCIuY29uY2F0KGUsXCIsIHJlcXVlc3RJZDogXCIpLmNvbmNhdChyKSksdGhpcy51c2VyTWFwLnNpemU9PT0wP3AobmV3IE4oUi5JTlZBTElEX1JFTU9URV9VU0VSKSk6cChuZXcgTihSLlRJTUVPVVQpKTt9LHYoXCJFWFRFUk5BTF9TSUdOQUxfUkVRVUVTVF9USU1FT1VUXCIpKSxFPSgpPT57ZyYmd2luZG93LmNsZWFyVGltZW91dChnKSx0aGlzLm9mZihwcy5BQk9SVCxmKSxpJiZoKCk7fSxmPSgpPT57ZyYmd2luZG93LmNsZWFyVGltZW91dChnKSx0aGlzLm9mZihcInJlcy1AXCIuY29uY2F0KHIsXCJfYWNrXCIpLEUpLHRoaXMub2ZmKFwicmVzLUBcIi5jb25jYXQociksUykscChuZXcgTihSLkVYVEVSTkFMX1NJR05BTF9BQk9SVCxcInR5cGU6IFwiLmNvbmNhdChlLFwiLCByZXF1ZXN0SWQ6IFwiKS5jb25jYXQocikpKTt9O3RoaXMub25jZShwcy5BQk9SVCxmKSx0aGlzLm9uY2UoXCJyZXMtQFwiLmNvbmNhdChyLFwiX2Fja1wiKSxFKTtsZXQgUz0oQSxiKT0+e0M9ITAsZyYmd2luZG93LmNsZWFyVGltZW91dChnKSx0aGlzLm9mZihcInJlcy1AXCIuY29uY2F0KHIsXCJfYWNrXCIpLEUpLHRoaXMub2ZmKHBzLkFCT1JULGYpLEE9PT1cInN1Y2Nlc3NcIj9oKGIpOnAobmV3IE4oUi5QMlBfTUVTU0FHRV9GQUlMRUQsXCJyZXF1ZXN0IFwiLmNvbmNhdChlLFwiIGZhaWxlZCwgcmVxdWVzdElkOiBcIikuY29uY2F0KHIpKSk7fSxDPSExO2l8fCh0aGlzLm9uY2UoXCJyZXMtQFwiLmNvbmNhdChyKSxTKSxNZSh2KFwiU0lHTkFMX1JFUVVFU1RfVElNRU9VVFwiKSkudGhlbigoKT0+e0N8fF8ud2FybmluZyhcImV4dGVybmFsX3NpZ25hbCByZXF1ZXN0IHRpbWVvdXQsIHR5cGU6IFwiLmNvbmNhdChlLFwiLCByZXF1ZXN0SWQ6IFwiKS5jb25jYXQocixcIiwgXCIpLmNvbmNhdChsKSk7fSkpO30pO3RyeXtyZXR1cm4gYXdhaXQgdX1jYXRjaChoKXtpZihoLmNvZGU9PT1SLlRJTUVPVVQpcmV0dXJuIGF3YWl0IHRoaXMuc2VuZChlLG4saSxyLG8pO3Rocm93IGh9fW9uTWVzc2FnZShlKXt2YXIgbjtsZXR7X3VpZDppfT1lLHIsbz10aGlzLnVzZXJNYXAuZ2V0KGkpO2lmKG8pcj1vLnNwbGl0TWVzc2FnZU1hcDtlbHNlIHtpZih0aGlzLnVzZXJNYXAuc2l6ZT4wfHwhKFwiX3R5cGVcImluIGUpfHxlLl90eXBlIT09aWUuQ0hFQ0spcmV0dXJuO2xldHt0b2tlbjpkfT1lO3I9bmV3IE1hcCxvPXt1aWQ6aSxpc1N0YXJ0OiEwLHRva2VuOmQsc3BsaXRNZXNzYWdlTWFwOnIsbmV4dEV4cGVjdGVkU2VxdWVuY2VOdW1iZXI6MCxyZWNlaXZlZE1lc3NhZ2VzTWFwOm5ldyBNYXB9LHRoaXMudXNlck1hcC5zZXQoaSxvKSx0aGlzLnNpZ25hbC5lbWl0KGR0Lk9OX1VTRVJfT05MSU5FLHt1aWQ6aX0pLHRoaXMuaGFuZGxlVXNlck9ubGluZSgpO31pZihcImlkXCJpbiBlJiZcInRvdGFsXCJpbiBlKXt2YXIgcztsZXR7aWQ6ZCx0b3RhbDpsfT1lLHU9KHM9ci5nZXQoZCkpIT09bnVsbCYmcyE9PXZvaWQgMD9zOltdO2lmKHUucHVzaChlKSxyLmhhcyhkKXx8ci5zZXQoZCx1KSx1Lmxlbmd0aCE9PWwpcmV0dXJuO3tsZXQgaD1lZCh1KS5jYWxsKHUsKHAsZyk9PnAuaW5kZXgtZy5pbmRleCkubWFwKHA9PnAucGF5bG9hZCkuam9pbihcIlwiKTtyLmRlbGV0ZShkKSwoZT1KU09OLnBhcnNlKGgpKS5fdWlkPWk7fX1sZXR7X3R5cGU6YSx0b2tlbjpjfT1lO2lmKFcobj1baWUuQUNLLGllLkNIRUNLXSkuY2FsbChuLGEpKXJldHVybiBhPT09aWUuQ0hFQ0smJnRoaXMuaGFuZGxlQ2hlY2tUb2tlbihvLGMpLHZvaWQgdGhpcy5yZWNlaXZlTWVzc2FnZShlKTtjPT09XCJcIi5jb25jYXQoby50b2tlbixcIl9cIikuY29uY2F0KHRoaXMudG9rZW4pP3RoaXMuaGFuZGxlUmVjZWl2ZWRNZXNzYWdlKGUpOl8uZGVidWcoJ1JlY2VpdmUgdW5leHBlY3RlZCBtZXNzYWdlXCIsICcuY29uY2F0KGMsXCIsIGN1cl90b2tlbjogXCIpLmNvbmNhdChvLnRva2VuLFwiX1wiKS5jb25jYXQodGhpcy50b2tlbiksZSk7fWNoZWNrKCl7bGV0IGU9e19pZDpVdCg2LFwiXCIpLHRva2VuOnRoaXMudG9rZW4sX3R5cGU6aWUuQ0hFQ0t9O3YoXCJTSE9XX1AyUF9MT0dcIikmJl8uZGVidWcoXCJzZW5kIG1lc3NhZ2VcIixlKSx0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LkRBVEFfU1RSRUFNLHtwYXlsb2FkOnNvKHRoaXMuZW5jb2Rlci5lbmNvZGUoSlNPTi5zdHJpbmdpZnkoZSkpKX0pO31hY2soZSl7bGV0IG49e19pZDplLF90eXBlOmllLkFDSyx0b2tlbjp0aGlzLnRva2VufTt2KFwiU0hPV19QMlBfTE9HXCIpJiZfLmRlYnVnKFwic2VuZCBtZXNzYWdlXCIsbiksdGhpcy5zaWduYWwucmVxdWVzdChldC5EQVRBX1NUUkVBTSx7cGF5bG9hZDpzbyh0aGlzLmVuY29kZXIuZW5jb2RlKEpTT04uc3RyaW5naWZ5KG4pKSl9KTt9cmVzcG9uc2UoZSxuLGkpe3RoaXMuc2VuZChpZS5SRVNQT05TRSxKU09OLnN0cmluZ2lmeSh7c3VjY2VzczohaSxtZXNzYWdlOm59KSwhMCxlKTt9aGFuZGxlUmVjZWl2ZWRNZXNzYWdlKGUpe2xldCBuPSgpPT57dGhpcy51c2VyTWFwLmZvckVhY2goZD0+e2xldHtyZWNlaXZlZE1lc3NhZ2VzTWFwOmwsbmV4dEV4cGVjdGVkU2VxdWVuY2VOdW1iZXI6dX09ZDtmb3IoO2wuaGFzKHUpOyl7bGV0IGg9bC5nZXQodSk7bC5kZWxldGUodSksdGhpcy5yZWNlaXZlTWVzc2FnZShoKSxkLm5leHRFeHBlY3RlZFNlcXVlbmNlTnVtYmVyKys7fX0pO307aWYoIWUpcmV0dXJuIHZvaWQgbigpO2xldHtfdWlkOmksX3NlcTpyfT1lLG89dGhpcy51c2VyTWFwLmdldChpKSx7cmVjZWl2ZWRNZXNzYWdlc01hcDpzLGlzU3RhcnQ6YSxuZXh0RXhwZWN0ZWRTZXF1ZW5jZU51bWJlcjpjfT1vO2lmKHI8YylyZXR1cm4gdGhpcy5hY2soZS5faWQpLHZvaWQgXy5kZWJ1ZyhcIltleHRlcm5hbC1zaWduYWxdIHJlY2VpdmUgb2xkIG1lc3NhZ2UsIHNlcTogXCIuY29uY2F0KHIsXCIsIFwiKS5jb25jYXQoZS5fbWVzc2FnZSkpO3Muc2V0KHIsZSksYSYmcj09PWMmJih0aGlzLnJlY2VpdmVNZXNzYWdlKGUpLHMuZGVsZXRlKGMpLG8ubmV4dEV4cGVjdGVkU2VxdWVuY2VOdW1iZXIrKyxuKCkpO31yZWNlaXZlTWVzc2FnZShlKXtsZXR7X2lkOm4sX3R5cGU6aSxfbWVzc2FnZTpyLF91aWQ6b309ZTtpZih2KFwiU0hPV19QMlBfTE9HXCIpJiZfLmRlYnVnKFwicmVjZWl2ZSBtZXNzYWdlXCIsZSksbil7bGV0IHM7c3dpdGNoKGUuX3R5cGUhPT1pZS5BQ0smJihyJiYocz1KU09OLnBhcnNlKHIpKSx0aGlzLmFjayhlLl9pZCkpLGUuX3R5cGUpe2Nhc2UgaWUuQ0FORElEQVRFOmNhc2UgaWUuQ09OVFJPTDp0aGlzLnNpZ25hbC5lbWl0KGkscyxvKTticmVhaztjYXNlIGllLlBVQkxJU0g6Y2FzZSBpZS5VTlBVQkxJU0g6Y2FzZSBpZS5SRVNUQVJUX0lDRTpjYXNlIGllLkNBTEw6cy51aWQ9byxHZSh0aGlzLnNpZ25hbCxpLHMpLnRoZW4oYT0+e3RoaXMucmVzcG9uc2UoZS5faWQsYSk7fSkuY2F0Y2goKCk9Pnt0aGlzLnJlc3BvbnNlKGUuX2lkLHZvaWQgMCwhMCk7fSk7YnJlYWs7Y2FzZSBpZS5BQ0s6dGhpcy5nZXRMaXN0ZW5lcnMoXCJyZXMtQFwiLmNvbmNhdChuLFwiX2Fja1wiKSkubGVuZ3RoPjAmJnRoaXMuZW1pdChcInJlcy1AXCIuY29uY2F0KG4sXCJfYWNrXCIpKTticmVhaztjYXNlIGllLlJFU1BPTlNFOntsZXR7c3VjY2VzczphLG1lc3NhZ2U6Y309czt0aGlzLmVtaXQoXCJyZXMtQFwiLmNvbmNhdChuKSxhP1wic3VjY2Vzc1wiOlwiZmFpbGVkXCIsYyk7YnJlYWt9fX19c3BsaXRNZXNzYWdlKGUpe2lmKGUubGVuZ3RoPHQuTUFYX01FU1NBR0VfU0laRSlyZXR1cm4gW2VdO2xldCBuPVtdLHtyZW1vdGVUb2tlbjppfT1KU09OLnBhcnNlKGUpLHI9VXQoNixcIlwiKSxvPTAscz04MDAsYT1NYXRoLmNlaWwoZS5sZW5ndGgvcyk7Zm9yKDtlLmxlbmd0aD4wOyl7bysrO2xldCBjPXtpZDpyLGluZGV4Om8sdG90YWw6YSxwYXlsb2FkOmUuc2xpY2UoMCxzKSx0b2tlbjpcIlwiLmNvbmNhdCh0aGlzLnRva2VuLFwiX1wiKS5jb25jYXQoaSl9O0pTT04uc3RyaW5naWZ5KGMpLmxlbmd0aD50Lk1BWF9NRVNTQUdFX1NJWkU/cy09NTA6KG4ucHVzaChjKSxlPWUuc2xpY2UocykpO31yZXR1cm4gbi5tYXAoYz0+SlNPTi5zdHJpbmdpZnkoYykpfWhhbmRsZUNoZWNrVG9rZW4oZSxuKXtyZXR1cm4gZS50b2tlbiE9PW4/KF8uZGVidWcoXCJ0b2tlbiBjaGFuZ2VkLCBmcm9tIFwiLmNvbmNhdChlLnRva2VuLFwiIHRvIFwiKS5jb25jYXQobikpLHRoaXMucmVzZXQoZS51aWQsbiksITEpOih0aGlzLnRva2VuVGltZW91dCYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50b2tlblRpbWVvdXQpLHRoaXMudG9rZW5UaW1lb3V0PXZvaWQgMCksdGhpcy50b2tlblRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoKCk9PntfLmRlYnVnKFwidG9rZW4gdGltZW91dCwgXCIuY29uY2F0KG4pKSx0aGlzLnJlc2V0KGUudWlkKTt9LHYoXCJNQVhfUDJQX1RJTUVPVVRcIikpLCEwKX1hc3luYyBoYW5kbGVVc2VyT25saW5lKCl7bGV0IGU9YXdhaXQgR2UodGhpcy5zaWduYWwsaWUuQ0FMTCx2b2lkIDApLG49YXdhaXQgdGhpcy5zZW5kKGllLkNBTEwsZSk7dGhpcy5zaWduYWwuZW1pdChudC5QMlBfQ09OTkVDVElPTixuLCEwKTt9YXN5bmMgcmVzZXQoZSxuKXtsZXQgaT10aGlzLnVzZXJNYXAuZ2V0KGUpO2kmJih0aGlzLmVtaXQocHMuQUJPUlQpLHRoaXMuc2lnbmFsLmVtaXQoZHQuT05fVVNFUl9PRkZMSU5FLHt1aWQ6aS51aWQscmVhc29uOmNqLlAyUF9UT0tFTl9DSEFOR0VEfSksdGhpcy5fc2VxdWVuY2U9MCx0aGlzLnVzZXJNYXAuY2xlYXIoKSxufHwoXy5kZWJ1ZyhcImNoYW5nZSBsb2NhbCB0b2tlbiBmcm9tIFwiLmNvbmNhdChuLFwiIHRvIFwiKS5jb25jYXQobikpLHRoaXMudG9rZW49VXQoNixcIlwiKSkpO31jbGVhcigpe3RoaXMuX3NlcXVlbmNlPTAsdGhpcy51c2VyTWFwLmNsZWFyKCksdGhpcy50b2tlbkludGVydmFsJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudG9rZW5JbnRlcnZhbCksdGhpcy50b2tlbkludGVydmFsPXZvaWQgMCx0aGlzLnRva2VuVGltZW91dCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRva2VuVGltZW91dCksdGhpcy50b2tlblRpbWVvdXQ9dm9pZCAwLHRoaXMuZW1pdChwcy5BQk9SVCk7fX07VChpYSxcIk1BWF9TSVpFXCIsMSksVChpYSxcIk1BWF9NRVNTQUdFX1NJWkVcIiwxMDI0KTt2YXIgZHU9Y2xhc3MgZXh0ZW5kcyBYdHtnZXQgY29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZX1zZXQgY29ubmVjdGlvblN0YXRlKGUpe2UhPT10aGlzLl9jb25uZWN0aW9uU3RhdGUmJih0aGlzLl9jb25uZWN0aW9uU3RhdGU9ZSxlPT09THQuQ09OTkVDVEVEP3RoaXMuZW1pdChudC5XU19DT05ORUNURUQpOmU9PT1MdC5SRUNPTk5FQ1RJTkc/dGhpcy5lbWl0KG50LldTX1JFQ09OTkVDVElORyx0aGlzLl93ZWJzb2NrZXRSZWNvbm5lY3RSZWFzb24pOmU9PT1MdC5DTE9TRUQmJnRoaXMuZW1pdChudC5XU19DTE9TRUQsdGhpcy5fZGlzY29ubmVjdGVkUmVhc29uKSk7fWdldCBjdXJyZW50VVJMSW5kZXgoKXtyZXR1cm4gdGhpcy53ZWJzb2NrZXQuY3VycmVudFVSTEluZGV4fWdldCB1cmwoKXtyZXR1cm4gdGhpcy53ZWJzb2NrZXQmJnRoaXMud2Vic29ja2V0LnVybHx8bnVsbH1nZXQgcnR0KCl7cmV0dXJuIHRoaXMucnR0Um9sbGluZy5tZWFuKCl9Y29uc3RydWN0b3IoZSxuKXtzdXBlcigpLFQodGhpcyxcIl9kaXNjb25uZWN0ZWRSZWFzb25cIix2b2lkIDApLFQodGhpcyxcIl93ZWJzb2NrZXRSZWNvbm5lY3RSZWFzb25cIix2b2lkIDApLFQodGhpcyxcIl9jb25uZWN0aW9uU3RhdGVcIixMdC5DTE9TRUQpLFQodGhpcyxcInJlY29ubmVjdFRva2VuXCIsdm9pZCAwKSxUKHRoaXMsXCJwMnBUb2tlblwiLHZvaWQgMCksVCh0aGlzLFwid2Vic29ja2V0XCIsdm9pZCAwKSxUKHRoaXMsXCJvcGVuQ29ubmVjdGlvblRpbWVcIix2b2lkIDApLFQodGhpcyxcImNsaWVudElkXCIsdm9pZCAwKSxUKHRoaXMsXCJsYXN0TXNnVGltZVwiLERhdGUubm93KCkpLFQodGhpcyxcInVwbG9hZENhY2hlXCIsW10pLFQodGhpcyxcInVwbG9hZENhY2hlSW50ZXJ2YWxcIix2b2lkIDApLFQodGhpcyxcInJ0dFJvbGxpbmdcIixuZXcgSGwoNSkpLFQodGhpcyxcInBpbmdwb25nVGltZXJcIix2b2lkIDApLFQodGhpcyxcInBpbmdwb25nVGltZW91dENvdW50XCIsMCksVCh0aGlzLFwiam9pblJlc3BvbnNlXCIsdm9pZCAwKSxUKHRoaXMsXCJtdWx0aUlwT3B0aW9uXCIsdm9pZCAwKSxUKHRoaXMsXCJpbml0RXJyb3JcIix2b2lkIDApLFQodGhpcyxcInNwZWNcIix2b2lkIDApLFQodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxUKHRoaXMsXCJfZXh0ZXJuYWxfc2lnbmFsXCIsdm9pZCAwKSxUKHRoaXMsXCJvbldlYnNvY2tldE1lc3NhZ2VcIixpPT57aWYoaS5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuIHZvaWQgdGhpcy5lbWl0KG50Lk9OX0JJTkFSWV9EQVRBLGkuZGF0YSk7bGV0IHI9SlNPTi5wYXJzZShpLmRhdGEpO2lmKHRoaXMubGFzdE1zZ1RpbWU9RGF0ZS5ub3coKSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixcIl9pZFwiKSl7bGV0IG89XCJyZXMtQFwiLmNvbmNhdChyLl9pZCk7dGhpcy5lbWl0KG8sci5fcmVzdWx0LHIuX21lc3NhZ2UpO31lbHNlIGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLFwiX3R5cGVcIikpe3N3aXRjaChyLl90eXBlKXtjYXNlIGR0Lk9OX0RBVEFfU1RSRUFNOnJldHVybiB2b2lkIHRoaXMuaGFuZGxlRGF0YVN0cmVhbShyLl9tZXNzYWdlKTtjYXNlIGR0Lk1VVEVfQVVESU86Y2FzZSBkdC5NVVRFX1ZJREVPOmNhc2UgZHQuT05fUDJQX0xPU1Q6Y2FzZSBkdC5PTl9VU0VSX09OTElORTpyZXR1cm47Y2FzZSBkdC5PTl9VU0VSX09GRkxJTkU6bGV0e3VpZDpvfT1yLl9tZXNzYWdlO3JldHVybiBfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSB1c2VyLW9mZmxpbmUgdWlkOiBcIikuY29uY2F0KG8pKSx2b2lkIHRoaXMuX2V4dGVybmFsX3NpZ25hbC5yZXNldChvKX1pZih0aGlzLmVtaXQoci5fdHlwZSxyLl9tZXNzYWdlKSxyLl90eXBlPT09ZHQuT05fTk9USUZJQ0FUSU9OJiZ0aGlzLmhhbmRsZU5vdGlmaWNhdGlvbihyLl9tZXNzYWdlKSxyLl90eXBlPT09ZHQuT05fVVNFUl9CQU5ORUQpc3dpdGNoKHIuX21lc3NhZ2UuZXJyb3JfY29kZSl7Y2FzZSAxNDp0aGlzLmNsb3NlKEF0LlVJRF9CQU5ORUQpO2JyZWFrO2Nhc2UgMTU6dGhpcy5jbG9zZShBdC5JUF9CQU5ORUQpO2JyZWFrO2Nhc2UgMTY6dGhpcy5jbG9zZShBdC5DSEFOTkVMX0JBTk5FRCk7fWlmKHIuX3R5cGU9PT1kdC5PTl9VU0VSX0xJQ0VOU0VfQkFOTkVEKXN3aXRjaChyLl9tZXNzYWdlLmVycm9yX2NvZGUpe2Nhc2UgWi5FUlJfTElDRU5TRV9NSVNTSU5HOnRoaXMuY2xvc2UoQXQuTElDRU5TRV9NSVNTSU5HKTticmVhaztjYXNlIFouRVJSX0xJQ0VOU0VfRVhQSVJFRDp0aGlzLmNsb3NlKEF0LkxJQ0VOU0VfRVhQSVJFRCk7YnJlYWs7Y2FzZSBaLkVSUl9MSUNFTlNFX01JTlVURVNfRVhDRUVERUQ6dGhpcy5jbG9zZShBdC5MSUNFTlNFX01JTlVURVNfRVhDRUVERUQpO2JyZWFrO2Nhc2UgWi5FUlJfTElDRU5TRV9QRVJJT0RfSU5WQUxJRDp0aGlzLmNsb3NlKEF0LkxJQ0VOU0VfUEVSSU9EX0lOVkFMSUQpO2JyZWFrO2Nhc2UgWi5FUlJfTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRTp0aGlzLmNsb3NlKEF0LkxJQ0VOU0VfTVVMVElQTEVfU0RLX1NFUlZJQ0UpO2JyZWFrO2Nhc2UgWi5FUlJfTElDRU5TRV9JTExFR0FMOnRoaXMuY2xvc2UoQXQuTElDRU5TRV9JTExFR0FMKTticmVhaztkZWZhdWx0OnRoaXMuY2xvc2UoKTt9fX0pLHRoaXMuY2xpZW50SWQ9ZS5jbGllbnRJZCx0aGlzLnNwZWM9ZSx0aGlzLnN0b3JlPW4sdGhpcy53ZWJzb2NrZXQ9bmV3IE5jKFwiZ2F0ZXdheS1cIi5jb25jYXQodGhpcy5jbGllbnRJZCksdGhpcy5zcGVjLnJldHJ5Q29uZmlnLCEwLHYoXCJKT0lOX0dBVEVXQVlfVVNFX0RVQUxfRE9NQUlOXCIpLHYoXCJKT0lOX0dBVEVXQVlfVVNFXzQ0M1BPUlRfT05MWVwiKSxuKSx0aGlzLmhhbmRsZVdlYnNvY2tldEV2ZW50cygpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9PT1MdC5DT05ORUNURUQmJnRoaXMucmVjb25uZWN0KFwicmV0cnlcIixCZS5PRkZMSU5FKTt9KSx0aGlzLnAycFRva2VuPVV0KDYsXCJcIiksdGhpcy5fZXh0ZXJuYWxfc2lnbmFsPW5ldyBpYSh0aGlzLHRoaXMucDJwVG9rZW4pO31hc3luYyByZXF1ZXN0KGUsbixpLHIpe2xldCBvPVV0KDYsXCJcIikscz17X2lkOm8sX3R5cGU6ZSxfbWVzc2FnZTpufSxhPXRoaXMud2Vic29ja2V0LmNvbm5lY3Rpb25JRCxjPSgpPT5uZXcgaigoZyxFKT0+e2lmKHRoaXMuY29ubmVjdGlvblN0YXRlPT09THQuQ09OTkVDVEVEKXJldHVybiBnKCk7bGV0IGY9KCk9Pnt0aGlzLm9mZihudC5XU19DTE9TRUQsUyksZygpO30sUz0oKT0+e3RoaXMub2ZmKG50LldTX0NPTk5FQ1RFRCxmKSxFKG5ldyBOKFIuV1NfQUJPUlQpKTt9O3RoaXMub25jZShudC5XU19DT05ORUNURUQsZiksdGhpcy5vbmNlKG50LldTX0NMT1NFRCxTKTt9KTtpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PUx0LkNPTk5FQ1RJTkcmJnRoaXMuY29ubmVjdGlvblN0YXRlIT09THQuUkVDT05ORUNUSU5HfHxlPT09ZXQuSk9JTnx8ZT09PWV0LlJFSk9JTnx8YXdhaXQgYygpLHRoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKHMsITApLHIpcmV0dXJuO2xldCBkPW5ldyBqKChnLEUpPT57bGV0IGY9ITEsUz0oQSxiKT0+e2Y9ITAsZyh7aXNTdWNjZXNzOkE9PT1cInN1Y2Nlc3NcIixtZXNzYWdlOmJ8fHt9fSksdGhpcy5vZmYobnQuV1NfQ0xPU0VELEMpLHRoaXMub2ZmKG50LldTX1JFQ09OTkVDVElORyxDKSx0aGlzLmVtaXQobnQuUkVRVUVTVF9TVUNDRVNTLGUsbik7fTt0aGlzLm9uY2UoXCJyZXMtQFwiLmNvbmNhdChvKSxTKTtsZXQgQz0oKT0+e0UobmV3IE4oUi5XU19BQk9SVCxcInR5cGU6IFwiLmNvbmNhdChlKSkpLHRoaXMub2ZmKG50LldTX0NMT1NFRCxDKSx0aGlzLm9mZihudC5XU19SRUNPTk5FQ1RJTkcsQyksdGhpcy5vZmYoXCJyZXMtQFwiLmNvbmNhdChvKSxTKTt9O3RoaXMub25jZShudC5XU19DTE9TRUQsQyksdGhpcy5vbmNlKG50LldTX1JFQ09OTkVDVElORyxDKSxNZSh2KFwiU0lHTkFMX1JFUVVFU1RfVElNRU9VVFwiKSkudGhlbigoKT0+e3RoaXMud2Vic29ja2V0LmNvbm5lY3Rpb25JRCE9PWF8fGZ8fChfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHdzIHJlcXVlc3QgdGltZW91dCwgdHlwZTogXCIpLmNvbmNhdChlKSksdGhpcy5lbWl0KG50LlJFUVVFU1RfVElNRU9VVCxlLG4pKTt9KTt9KSxsPW51bGw7dHJ5e2w9YXdhaXQgZDt9Y2F0Y2goZyl7aWYodGhpcy5jb25uZWN0aW9uU3RhdGU9PT1MdC5DTE9TRUR8fGU9PT1ldC5MRUFWRSl0aHJvdyBuZXcgTihSLldTX0FCT1JUKTtyZXR1cm4gIXRoaXMuc3BlYy5mb3JjZVdhaXRHYXRld2F5UmVzcG9uc2V8fGk/Zy50aHJvdygpOmU9PT1ldC5KT0lOfHxlPT09ZXQuUkVKT0lOP251bGw6KGF3YWl0IGMoKSxhd2FpdCB0aGlzLnJlcXVlc3QoZSxuKSl9aWYobC5pc1N1Y2Nlc3MpcmV0dXJuIGwubWVzc2FnZTtsZXQgdT1OdW1iZXIobC5tZXNzYWdlLmVycm9yX2NvZGV8fGwubWVzc2FnZS5jb2RlKSxoPU9jKHUpLHA9bmV3IE4oUi5VTkVYUEVDVEVEX1JFU1BPTlNFLFwiXCIuY29uY2F0KGguZGVzYyxcIjogXCIpLmNvbmNhdChsLm1lc3NhZ2UuZXJyb3Jfc3RyKSx7Y29kZTp1LGRhdGE6bC5tZXNzYWdlLGRlc2M6aC5kZXNjfSk7cmV0dXJuIGguYWN0aW9uPT09XCJzdWNjZXNzXCI/bC5tZXNzYWdlOihfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIFtcIikuY29uY2F0KHRoaXMud2Vic29ja2V0LmNvbm5lY3Rpb25JRCxcIl0gdW5leHBlY3RlZCByZXNwb25zZSBmcm9tIHR5cGUgXCIpLmNvbmNhdChlLFwiLCBlcnJvcl9jb2RlOiBcIikuY29uY2F0KHUsXCIsIG1lc3NhZ2U6IFwiKS5jb25jYXQoaC5kZXNjLFwiLCBhY3Rpb246IFwiKS5jb25jYXQoaC5hY3Rpb24pKSx1PT09Wi5FUlJfVE9PX01BTllfQlJPQURDQVNURVJTPygoZT09PWV0LkpPSU58fGU9PT1ldC5SRUpPSU4pJiYodGhpcy5pbml0RXJyb3I9cCx0aGlzLmNsb3NlKCkpLHAudGhyb3coKSk6aC5hY3Rpb249PT1cImZhaWxlZFwiP3AudGhyb3coKTpoLmFjdGlvbj09PVwicXVpdFwiPyh0aGlzLmluaXRFcnJvcj1wLHRoaXMuY2xvc2UoKSxwLnRocm93KCkpOih1PT09Wi5FUlJfSk9JTl9CWV9NVUxUSV9JUD8odGhpcy5tdWx0aUlwT3B0aW9uPWwubWVzc2FnZS5vcHRpb24sXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBkZXRlY3QgbXVsdGkgaXAsIHJlY292ZXJcIikpLHRoaXMucmVjb25uZWN0KFwicmVjb3ZlclwiLEJlLk1VTFRJX0lQKSk6dGhpcy5yZWNvbm5lY3QoaC5hY3Rpb24sQmUuU0VSVkVSX0VSUk9SKSxlPT09ZXQuSk9JTnx8ZT09PWV0LlJFSk9JTj9udWxsOmF3YWl0IHRoaXMucmVxdWVzdChlLG4pKSl9d2FpdE1lc3NhZ2UoZSxuKXtyZXR1cm4gbmV3IGooaT0+e2xldCByPW89PnsoIW58fG4obykpJiYodGhpcy5vZmYoZSxyKSxpKG8pKTt9O3RoaXMub24oZSxyKTt9KX11cGxvYWRXUlRDU3RhdHMoZSl7aWYoIXRoaXMuc3RvcmUuc2Vzc2lvbklkKXJldHVybiB2b2lkIF8ud2FybihcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gbm8gc2Vzc2lvbiBpZCB3aGVuIHVwbG9hZCB3cnRjIHN0YXRzXCIpKTtsZXQgbj17bHRzOkRhdGUubm93KCksc2lkOnRoaXMuc3RvcmUuc2Vzc2lvbklkLHVpZDp0aGlzLnN0b3JlLmludFVpZCxzdGF0czplfTt0aGlzLnVwbG9hZCh3Yy5XUlRDX1NUQVRTLG4pO311cGxvYWQoZSxuKXtsZXQgaT17X3R5cGU6ZSxfbWVzc2FnZTpufTt0cnl7dGhpcy53ZWJzb2NrZXQuc2VuZE1lc3NhZ2UoaSk7fWNhdGNoe2xldCBvPXYoXCJNQVhfVVBMT0FEX0NBQ0hFXCIpfHw1MDt0aGlzLnVwbG9hZENhY2hlLnB1c2goaSksdGhpcy51cGxvYWRDYWNoZS5sZW5ndGg+byYmdGhpcy51cGxvYWRDYWNoZS5zcGxpY2UoMCwxKSx0aGlzLnVwbG9hZENhY2hlLmxlbmd0aD4wJiYhdGhpcy51cGxvYWRDYWNoZUludGVydmFsJiYodGhpcy51cGxvYWRDYWNoZUludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoKT0+e2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09THQuQ09OTkVDVEVEKXJldHVybjtsZXQgcz10aGlzLnVwbG9hZENhY2hlLnNwbGljZSgwLDEpWzBdO3RoaXMudXBsb2FkQ2FjaGUubGVuZ3RoPT09MCYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbCksdGhpcy51cGxvYWRDYWNoZUludGVydmFsPXZvaWQgMCksdGhpcy51cGxvYWQocy5fdHlwZSxzLl9tZXNzYWdlKTt9LHYoXCJVUExPQURfQ0FDSEVfSU5URVJWQUxcIil8fDJlMykpO319c2VuZChlLG4pe2xldCBpPXtfdHlwZTplLF9tZXNzYWdlOm59O3RoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKGkpO31hc3luYyBzZW5kRXh0ZW5zaW9uTWVzc2FnZShlLG4saSl7cmV0dXJuIGF3YWl0IHRoaXMuX2V4dGVybmFsX3NpZ25hbC5zZW5kKGUsbixpKX1pbml0KGUpe3JldHVybiB0aGlzLmluaXRFcnJvcj12b2lkIDAsdGhpcy5tdWx0aUlwT3B0aW9uPXZvaWQgMCx0aGlzLmpvaW5SZXNwb25zZT12b2lkIDAsdGhpcy5yZWNvbm5lY3RUb2tlbj12b2lkIDAsdGhpcy5vcGVuQ29ubmVjdGlvblRpbWU9dm9pZCAwLG5ldyBqKChuLGkpPT57dGhpcy5vbmNlKG50LldTX0NPTk5FQ1RFRCwoKT0+bih0aGlzLmpvaW5SZXNwb25zZSkpLHRoaXMub25jZShudC5XU19DTE9TRUQsKCk9PmkodGhpcy5pbml0RXJyb3J8fG5ldyBOKFIuV1NfQUJPUlQpKSksdGhpcy5jb25uZWN0aW9uU3RhdGU9THQuQ09OTkVDVElORyx0aGlzLndlYnNvY2tldC5pbml0KGUpLmNhdGNoKGkpO30pfWNsb3NlKGUpe3RoaXMucGluZ3BvbmdUaW1lciYmKHRoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ9MCx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj12b2lkIDApLHRoaXMucmVjb25uZWN0VG9rZW49dm9pZCAwLHRoaXMuam9pblJlc3BvbnNlPXZvaWQgMCx0aGlzLl9leHRlcm5hbF9zaWduYWwuY2xlYXIoKSx0aGlzLl9kaXNjb25uZWN0ZWRSZWFzb249ZXx8QXQuTEVBVkUsdGhpcy5jb25uZWN0aW9uU3RhdGU9THQuQ0xPU0VELF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIFwiKStcIndpbGwgY2xvc2Ugd2Vic29ja2V0IGluIHNpZ25hbFwiKSx0aGlzLndlYnNvY2tldC5jbG9zZSgpLHRoaXMucDJwVG9rZW49VXQoNixcIlwiKSx0aGlzLl9leHRlcm5hbF9zaWduYWwuY2xlYXIoKSx0aGlzLl9leHRlcm5hbF9zaWduYWw9bmV3IGlhKHRoaXMsdGhpcy5wMnBUb2tlbik7fWFzeW5jIGpvaW4oKXtpZighdGhpcy5qb2luUmVzcG9uc2Upe3RoaXMuZW1pdChudC5BQk9SVF9QMlBfRVhFQ1VUSU9OKTtsZXQgZT1hd2FpdCBHZSh0aGlzLG50LlJFUVVFU1RfSk9JTl9JTkZPKSxuPWF3YWl0IHRoaXMucmVxdWVzdChldC5KT0lOLGUpO2lmKCFuKXJldHVybiB0aGlzLmVtaXQobnQuUkVQT1JUX0pPSU5fR0FURVdBWSxSLlRJTUVPVVQsdGhpcy51cmx8fFwiXCIpLCExO3RoaXMuam9pblJlc3BvbnNlPW4sdGhpcy5lbWl0KG50LkpPSU5fUkVTUE9OU0UsdGhpcy5qb2luUmVzcG9uc2UpLHRoaXMucmVjb25uZWN0VG9rZW49dGhpcy5qb2luUmVzcG9uc2UucmVqb2luX3Rva2VuO31yZXR1cm4gdGhpcy5jb25uZWN0aW9uU3RhdGU9THQuQ09OTkVDVEVELHRoaXMucGluZ3BvbmdUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9d2luZG93LnNldEludGVydmFsKHRoaXMuaGFuZGxlUGluZ1BvbmcuYmluZCh0aGlzKSwzZTMpLCEwfXJlY29ubmVjdChlLG4pe3RoaXMucGluZ3BvbmdUaW1lciYmKHRoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ9MCx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj12b2lkIDApLHRoaXMud2Vic29ja2V0LnJlY29ubmVjdChlLG4pO31oYW5kbGVEYXRhU3RyZWFtKGUpe3RyeXt2YXIgbjtsZXQgaT1GbyhlLnBheWxvYWQpLHI9bmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKGkpLG89SlNPTi5wYXJzZShyKTtcInRvdGFsXCJpbiBvJiZcImlkXCJpbiBvfHxXKG49T2JqZWN0LnZhbHVlcyhpZSkpLmNhbGwobixvLl90eXBlKT8oby5fdWlkPWUudWlkLHRoaXMuX2V4dGVybmFsX3NpZ25hbC5vbk1lc3NhZ2UobykpOnRoaXMuZW1pdChkdC5PTl9EQVRBX1NUUkVBTSxlKTt9Y2F0Y2h7dGhpcy5lbWl0KGR0Lk9OX0RBVEFfU1RSRUFNLGUpO319aGFuZGxlTm90aWZpY2F0aW9uKGUpe18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHJlY2VpdmUgbm90aWZpY2F0aW9uOiBcIiksZSk7bGV0IG49T2MoZS5jb2RlKTtpZihuLmFjdGlvbiE9PVwic3VjY2Vzc1wiKXtpZihuLmFjdGlvbiE9PVwiZmFpbGVkXCIpcmV0dXJuIG4uYWN0aW9uPT09XCJxdWl0XCI/KG4uZGVzYz09PVwiRVJSX1JFUEVBVF9KT0lOX0NIQU5ORUxcIiYmdGhpcy5jbG9zZShBdC5VSURfQkFOTkVEKSx2b2lkIHRoaXMuY2xvc2UoKSk6dm9pZCB0aGlzLnJlY29ubmVjdChuLmFjdGlvbixCZS5TRVJWRVJfRVJST1IpO18uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGlnbm9yZSBlcnJvcjogXCIpLG4uZGVzYyk7fX1oYW5kbGVQaW5nUG9uZygpe2lmKCF0aGlzLndlYnNvY2tldHx8dGhpcy53ZWJzb2NrZXQuc3RhdGUhPT1cImNvbm5lY3RlZFwiKXJldHVybjt0aGlzLnBpbmdwb25nVGltZW91dENvdW50PjAmJnRoaXMucnR0Um9sbGluZy5hZGQoM2UzKSx0aGlzLnBpbmdwb25nVGltZW91dENvdW50Kz0xO2xldCBlPXYoXCJQSU5HX1BPTkdfVElNRV9PVVRcIiksbj1EYXRlLm5vdygpO3RoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ+PWUmJihfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIFBJTkdQT05HIFRpbWVvdXQuIExhc3QgU29ja2V0IE1lc3NhZ2U6IFwiKS5jb25jYXQobi10aGlzLmxhc3RNc2dUaW1lLFwibXNcIikpLG4tdGhpcy5sYXN0TXNnVGltZT52KFwiV0VCU09DS0VUX1RJTUVPVVRfTUlOXCIpKT90aGlzLnJlY29ubmVjdChcInJldHJ5XCIsQmUuVElNRU9VVCk6dGhpcy5yZXF1ZXN0KGV0LlBJTkcsdm9pZCAwLCEwKS50aGVuKCgpPT57dGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD0wO2xldCBpPURhdGUubm93KCktbjt0aGlzLnJ0dFJvbGxpbmcuYWRkKGkpLHYoXCJSRVBPUlRfU1RBVFNcIikmJnRoaXMuc2VuZChldC5QSU5HX0JBQ0sse3Bpbmdwb25nRWxhcHNlOml9KTt9KS5jYXRjaChpPT57fSk7fWhhbmRsZVdlYnNvY2tldEV2ZW50cygpe3RoaXMud2Vic29ja2V0Lm9uKGl0LlJFQ09OTkVDVF9XQUlUVElOR19GSU5JU0gsZT0+e3RoaXMuZW1pdChudC5XU19SRUNPTk5FQ1RfV0FJVFRJTkdfRklOSVNILGUpO30pLHRoaXMud2Vic29ja2V0Lm9uKGl0LlJFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTixlPT57dGhpcy5lbWl0KG50LldTX1JFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTixlKTt9KSx0aGlzLndlYnNvY2tldC5vbihpdC5PTl9NRVNTQUdFLHRoaXMub25XZWJzb2NrZXRNZXNzYWdlKSx0aGlzLndlYnNvY2tldC5vbihpdC5DTE9TRUQsKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT1MdC5DTE9TRUQ7fSksdGhpcy53ZWJzb2NrZXQub24oaXQuRkFJTEVELCgpPT57dGhpcy5fZGlzY29ubmVjdGVkUmVhc29uPUF0Lk5FVFdPUktfRVJST1IsdGhpcy5jb25uZWN0aW9uU3RhdGU9THQuQ0xPU0VEO30pLHRoaXMud2Vic29ja2V0Lm9uKGl0LlJFQ09OTkVDVElORyxlPT57dGhpcy5fd2Vic29ja2V0UmVjb25uZWN0UmVhc29uPWUsdGhpcy5qb2luUmVzcG9uc2U9dm9pZCAwLHRoaXMuY29ubmVjdGlvblN0YXRlPT09THQuQ09OTkVDVEVEP3RoaXMuY29ubmVjdGlvblN0YXRlPUx0LlJFQ09OTkVDVElORzp0aGlzLmNvbm5lY3Rpb25TdGF0ZT1MdC5DT05ORUNUSU5HO30pLHRoaXMud2Vic29ja2V0Lm9uKGl0LldJTExfUkVDT05ORUNULChlLG4saSk9PntlIT09XCJyZXRyeVwiPyhfLmRlYnVnKFwiXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCIgd2Vic29ja2V0IHdpbGxfY29ubmVjdCBldmVudCwgcmVuZXdTZXNzaW9uIHJlY29ubmVjdE1vZGUgaXMgXCIpLmNvbmNhdChlKSksdGhpcy5yZWNvbm5lY3RUb2tlbj12b2lkIDApOl8uZGVidWcoXCJcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIiByZWNvbm5lY3QgbW9kZSBpcyByZXRyeSwgbm8gbmVlZCB0byByZW5ldyBzZXNzaW9uXCIpKSxpKGUpO30pLHRoaXMud2Vic29ja2V0Lm9uKGl0LkNPTk5FQ1RFRCwoKT0+e3RoaXMub3BlbkNvbm5lY3Rpb25UaW1lPURhdGUubm93KCksdGhpcy5qb2luKCkuY2F0Y2goZT0+e2lmKHRoaXMuZW1pdChudC5SRVBPUlRfSk9JTl9HQVRFV0FZLGUsdGhpcy51cmx8fFwiXCIpLGUgaW5zdGFuY2VvZiBOJiZlLmNvZGU9PT1SLlVORVhQRUNURURfUkVTUE9OU0UmJmUuZGF0YS5jb2RlPT09Wi5FUlJfTk9fQVVUSE9SSVpFRClyZXR1cm4gXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSByZWNvbm5lY3Qgbm8gYXV0aG9yaXplZCwgcmVjb3ZlclwiKSksdm9pZCB0aGlzLnJlY29ubmVjdChcInJlY292ZXJcIixCZS5TRVJWRVJfRVJST1IpO18uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGpvaW4gZ2F0ZXdheSByZXF1ZXN0IGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpLHRoaXMuc3BlYy5mb3JjZVdhaXRHYXRld2F5UmVzcG9uc2U/dGhpcy5yZWNvbm5lY3QoXCJ0cnlOZXh0XCIsQmUuU0VSVkVSX0VSUk9SKToodGhpcy5pbml0RXJyb3I9ZSx0aGlzLmNsb3NlKCkpO30pO30pLHRoaXMud2Vic29ja2V0Lm9uKGl0LlJFUVVFU1RfTkVXX1VSTFMsKGUsbik9PntHZSh0aGlzLG50LlJFUVVFU1RfUkVDT1ZFUix0aGlzLm11bHRpSXBPcHRpb24pLnRoZW4oZSkuY2F0Y2gobik7fSksdGhpcy53ZWJzb2NrZXQub24oaXQuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkUsKCk9Pnt0aGlzLmVtaXQoZHQuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkUpO30pO319LGUwPXtleHBvcnRzOnt9fTtlMC5leHBvcnRzPSgoKT0+e3ZhciB0PXs4OihpLHIsbyk9PntvLnIociksby5kKHIse1BhcnNlcjooKT0+VixQcmludGVyOigpPT5jZSxwYXJzZTooKT0+RixwcmludDooKT0+WX0pO2xldCBzPWBcbmAsYT1cIlwiLmNvbmNhdChcIlxcclwiKS5jb25jYXQocyksYz1cIiBcIixkO2Z1bmN0aW9uIGwoTSl7cmV0dXJuIE0+PVwiMFwiJiZNPD1cIjlcIn1mdW5jdGlvbiB1KE0pe3JldHVybiBNPj1cIiFcIiYmTTw9XCJ+XCJ9ZnVuY3Rpb24gaChNKXtyZXR1cm4gdShNKXx8TT49XCJcXHg4MFwiJiZNPD1cIlxceEZGXCJ9ZnVuY3Rpb24gcChNKXtyZXR1cm4gTT09PVwiIVwifHxNPj1cIiNcIiYmTTw9XCInXCJ8fE0+PVwiKlwiJiZNPD1cIitcInx8TT49XCItXCImJk08PVwiLlwifHxNPj1cIjBcIiYmTTw9XCI5XCJ8fE0+PVwiQVwiJiZNPD1cIlpcInx8TT49XCJeXCImJk08PVwiflwifWZ1bmN0aW9uIGcoTSl7cmV0dXJuIE0+PVwiMVwiJiZNPD1cIjlcIn1mdW5jdGlvbiBFKE0pe3JldHVybiBNPj1cIkFcIiYmTTw9XCJaXCJ8fE0+PVwiYVwiJiZNPD1cInpcIn1mdW5jdGlvbiBmKE0pe3JldHVybiBNPT09XCJkXCJ8fE09PT1cImhcInx8TT09PVwibVwifHxNPT09XCJzXCJ9ZnVuY3Rpb24gUyhNKXtyZXR1cm4gTT5cIlx1MDAwMVwiJiZNPFwiXHRcInx8TT5cIlxcdlwiJiZNPFwiXFxmXCJ8fE0+XCJcdTAwMGVcIiYmTTxcIlxceEZGXCJ9ZnVuY3Rpb24gQyhNKXtyZXR1cm4gRShNKXx8bChNKXx8TT09PVwiK1wifHxNPT09XCIvXCJ9ZnVuY3Rpb24gQShNKXtyZXR1cm4gbChNKXx8RShNKXx8TT09PVwiK1wifHxNPT09XCIvXCJ8fE09PT1cIi1cInx8TT09PVwiX1wifWZ1bmN0aW9uIGIoTSl7cmV0dXJuIEUoTSl8fGwoTSl8fE09PT1cIitcInx8TT09PVwiL1wifWZ1bmN0aW9uIHcoTSxtKXt2YXIgST1PYmplY3Qua2V5cyhNKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgeT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKE0pO20mJih5PXkuZmlsdGVyKGZ1bmN0aW9uKHgpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE0seCkuZW51bWVyYWJsZX0pKSxJLnB1c2guYXBwbHkoSSx5KTt9cmV0dXJuIEl9ZnVuY3Rpb24gRChNKXtmb3IodmFyIG09MTttPGFyZ3VtZW50cy5sZW5ndGg7bSsrKXt2YXIgST1hcmd1bWVudHNbbV0hPW51bGw/YXJndW1lbnRzW21dOnt9O20lMj93KE9iamVjdChJKSwhMCkuZm9yRWFjaChmdW5jdGlvbih5KXtrKE0seSxJW3ldKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhNLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKEkpKTp3KE9iamVjdChJKSkuZm9yRWFjaChmdW5jdGlvbih5KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoTSx5LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSSx5KSk7fSk7fXJldHVybiBNfWZ1bmN0aW9uIGsoTSxtLEkpe3JldHVybiBtIGluIE0/T2JqZWN0LmRlZmluZVByb3BlcnR5KE0sbSx7dmFsdWU6SSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOk1bbV09SSxNfShmdW5jdGlvbihNKXtNLlZFUlNJT049XCJ2XCIsTS5PUklHSU49XCJvXCIsTS5TRVNTSU9OX05BTUU9XCJzXCIsTS5JTkZPUk1BVElPTj1cImlcIixNLlVSST1cInVcIixNLkVNQUlMPVwiZVwiLE0uUEhPTkU9XCJwXCIsTS5DT05ORUNUSU9OPVwiY1wiLE0uQkFORFdJRFRIPVwiYlwiLE0uVElNRT1cInRcIixNLlJFUEVBVD1cInJcIixNLlpPTkVfQURKVVNUTUVOVFM9XCJ6XCIsTS5LRVk9XCJrXCIsTS5BVFRSSUJVVEU9XCJhXCIsTS5NRURJQT1cIm1cIjt9KShkfHwoZD17fSkpO2NsYXNzIEJ7Y29uc3VtZVRleHQobSxJKXtsZXQgeT1JO2Zvcig7eTxtLmxlbmd0aDspe2xldCB4PW1beV07aWYoeD09PVwiXFwwXCJ8fHg9PT1cIlxcclwifHx4PT09cylicmVhazt5Kz0xO31pZih5LUk9PTApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0ZXh0LCBhdCBcIi5jb25jYXQobSkpO3JldHVybiB5fWNvbnN1bWVVbmljYXN0QWRkcmVzcyhtLEkseSl7cmV0dXJuIHRoaXMuY29uc3VtZVRpbGwobSxJLGMpfWNvbnN1bWVPbmVPck1vcmUobSxJLHkpe2xldCB4PUk7Zm9yKDt5KG1beF0pOyl4Kys7aWYoeC1JPT0wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcnVsZSBhdCBcIi5jb25jYXQoSSxcIi5cIikpO3JldHVybiB4fWNvbnN1bWVTcGFjZShtLEkpe2lmKG1bSV09PT1jKXJldHVybiBJKzE7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzcGFjZSBhdCBcIi5jb25jYXQoSSxcIi5cIikpfWNvbnN1bWVJUDRBZGRyZXNzKG0sSSl7bGV0IHk9STtmb3IobGV0IHg9MDt4PDQ7eCsrKWlmKHk9dGhpcy5jb25zdW1lRGVjaW1hbFVDaGFyKG0seSkseCE9PTMpe2lmKG1beV0hPT1cIi5cIil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIElQNCBhZGRyZXNzLlwiKTt5Kys7fXJldHVybiB5fWNvbnN1bWVEZWNpbWFsVUNoYXIobSxJKXtsZXQgeT1JO2ZvcihsZXQgcnQ9MDtydDwzJiZsKG1beV0pO3J0KysseSsrKTtpZih5LUk9PTApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkZWNpbWFsIHVjaGFyLlwiKTtsZXQgeD1wYXJzZUludChtLnNsaWNlKEkseSkpO2lmKHg+PTAmJng8PTI1NSlyZXR1cm4geTt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRlY2ltYWwgdWNoYXJcIil9Y29uc3VtZUlQNkFkZHJlc3MobSxJKXtsZXQgeT10aGlzLmNvbnN1bWVIZXhwYXJ0KG0sSSk7cmV0dXJuIG1beV09PT1cIjpcIiYmKHkrPTEseT10aGlzLmNvbnN1bWVJUDRBZGRyZXNzKG0seSkpLHl9Y29uc3VtZUhleHBhcnQobSxJKXtsZXQgeT1JO2lmKG1beV09PT1cIjpcIiYmbVt5KzFdPT09XCI6XCIpe3krPTI7dHJ5e3k9dGhpcy5jb25zdW1lSGV4c2VxKG0seSk7fWNhdGNoe31yZXR1cm4geX1pZih5PXRoaXMuY29uc3VtZUhleHNlcShtLHkpLG1beV09PT1cIjpcIiYmbVt5KzFdPT09XCI6XCIpe3krPTI7dHJ5e3k9dGhpcy5jb25zdW1lSGV4c2VxKG0seSk7fWNhdGNoe31yZXR1cm4geX1yZXR1cm4geX1jb25zdW1lSGV4c2VxKG0sSSl7bGV0IHk9STtmb3IoO3k9dGhpcy5jb25zdW1lSGV4NChtLHkpLG1beV09PT1cIjpcIiYmbVt5KzFdIT09XCI6XCI7KXkrPTE7cmV0dXJuIHl9Y29uc3VtZUhleDQobSxJKXtsZXQgeT0wO2Zvcig7eTw0O3krKylpZighKCh4PW1bSSt5XSk+PVwiMFwiJiZ4PD1cIjlcInx8eD49XCJhXCImJng8PVwiZlwifHx4Pj1cIkFcIiYmeDw9XCJGXCIpKXtpZih5PT09MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGhleCA0XCIpO2JyZWFrfXZhciB4O3JldHVybiBJK3l9Y29uc3VtZUZRRE4obSxJKXtsZXQgeT1JO2Zvcig7bChtW3ldKXx8RShtW3ldKXx8bVt5XT09PVwiLVwifHxtW3ldPT09XCIuXCI7KXkrPTE7aWYoeS1JPDQpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBGUUROXCIpO3JldHVybiB5fWNvbnN1bWVFeHRuQWRkcihtLEkpe3JldHVybiB0aGlzLmNvbnN1bWVPbmVPck1vcmUobSxJLGgpfWNvbnN1bWVNdWx0aWNhc3RBZGRyZXNzKG0sSSx5KXtzd2l0Y2goeSl7Y2FzZVwiSVA0XCI6Y2FzZVwiaXA0XCI6cmV0dXJuIHRoaXMuY29uc3VtZUlQNE11bHRpY2FzdEFkZHJlc3MobSxJKTtjYXNlXCJJUDZcIjpjYXNlXCJpcDZcIjpyZXR1cm4gdGhpcy5jb25zdW1lSVA2TXVsdGljYXN0QWRkcmVzcyhtLEkpO2RlZmF1bHQ6dHJ5e3JldHVybiB0aGlzLmNvbnN1bWVGUUROKG0sSSl9Y2F0Y2h7cmV0dXJuIHRoaXMuY29uc3VtZUV4dG5BZGRyKG0sSSl9fX1jb25zdW1lSVA2TXVsdGljYXN0QWRkcmVzcyhtLEkpe2xldCB5PXRoaXMuY29uc3VtZUhleHBhcnQobSxJKTtyZXR1cm4gbVt5XT09PVwiL1wiP3RoaXMuY29uc3VtZUludGVnZXIobSx5KzEpOnl9Y29uc3VtZUlQNE11bHRpY2FzdEFkZHJlc3MobSxJKXtsZXQgeT1JKzMseD1tLnNsaWNlKEkseSkscnQ9cGFyc2VJbnQoeCk7aWYocnQ8MjI0fHxydD4yMzkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBJUDQgbXVsdGljYXN0IGFkZHJlc3MsIElQdjQgbXVsdGljYXN0IGFkZHJlc3NlcyBtYXkgYmUgaW4gdGhlIHJhbmdlIDIyNC4wLjAuMCB0byAyMzkuMjU1LjI1NS4yNTUuXCIpO2ZvcihsZXQgYnQ9MDtidDwzO2J0Kyspe2lmKG1beV0hPT1cIi5cIil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIElQNCBtdWx0aWNhc3QgYWRkcmVzcy5cIik7eSs9MSx5PXRoaXMuY29uc3VtZURlY2ltYWxVQ2hhcihtLHkpO31yZXR1cm4gbVt5XT09PVwiL1wiJiYoeSs9MSkseT10aGlzLmNvbnN1bWVUVEwobSx5KSxtW3ldPT09XCIvXCImJih5PXRoaXMuY29uc3VtZUludGVnZXIobSx5KSkseX1jb25zdW1lSW50ZWdlcihtLEkpe2lmKCFnKG1bSV0pKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW50ZWdlci5cIik7Zm9yKEkrPTE7bChtW0ldKTspSSs9MTtyZXR1cm4gSX1jb25zdW1lVFRMKG0sSSl7aWYobVtJXT09PVwiMFwiKXJldHVybiBJKzE7aWYoIWcobVtJXSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBUVEwuXCIpO0krPTE7Zm9yKGxldCB5PTA7eTwyJiZsKG1bSV0pO3krKylJKz0xO3JldHVybiBJfWNvbnN1bWVUb2tlbihtLEkpe3JldHVybiB0aGlzLmNvbnN1bWVPbmVPck1vcmUobSxJLHApfWNvbnN1bWVUaW1lKG0sSSl7bGV0IHk9STtpZihtW3ldPT09XCIwXCIpcmV0dXJuIHkrMTtmb3IoZyhtW3ldKSYmKHkrPTEpO2wobVt5XSk7KXkrKztpZih5LUk8MTApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0aW1lXCIpO3JldHVybiB5fWNvbnN1bWVBZGRyZXNzKG0sSSl7cmV0dXJuIHRoaXMuY29uc3VtZVRpbGwobSxJLGMpfWNvbnN1bWVUeXBlZFRpbWUobSxJKXtsZXQgeT1JO3JldHVybiB5PXRoaXMuY29uc3VtZU9uZU9yTW9yZShtLHksbCksZihtW3ldKT95KzE6eX1jb25zdW1lUmVwZWF0SW50ZXJ2YWwobSxJKXtpZighZyhtW0ldKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJlcGVhdCBpbnRlcnZhbFwiKTtmb3IoSSs9MTtsKG1bSV0pOylJKz0xO3JldHVybiBmKG1bSV0pJiYoSSs9MSksSX1jb25zdW1lUG9ydChtLEkpe3JldHVybiB0aGlzLmNvbnN1bWVPbmVPck1vcmUobSxJLGwpfWNvbnN1bWUobSxJLHkpe2ZvcihsZXQgeD0wO3g8eS5sZW5ndGg7eCsrKXtpZihJK3g+PW0ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImNvbnN1bWUgZXhjZWVkaW5nIHZhbHVlIGxlbmd0aFwiKTtpZihtW0kreF0hPT15W3hdKXRocm93IG5ldyBFcnJvcihcImNvbnN1bWUgXCIuY29uY2F0KHksXCIgZmFpbGVkIGF0IFwiKS5jb25jYXQoeCkpfXJldHVybiBJK3kubGVuZ3RofWNvbnN1bWVUaWxsKG0sSSx5KXtsZXQgeD1JO2Zvcig7eDxtLmxlbmd0aCYmKHR5cGVvZiB5IT1cInN0cmluZ1wifHxtW3hdIT09eSkmJih0eXBlb2YgeSE9XCJmdW5jdGlvblwifHwheShtW3hdKSk7KXgrKztyZXR1cm4geH19Y2xhc3MgViBleHRlbmRzIEJ7Y29uc3RydWN0b3IoKXtzdXBlcigpLGsodGhpcyxcInJlY29yZHNcIixbXSksayh0aGlzLFwiY3VycmVudExpbmVcIiwwKTt9cGFyc2UobSl7bGV0IEk9dGhpcy5wcm9iZUVPTChtKTt0aGlzLnJlY29yZHM9bS5zcGxpdChJKS5maWx0ZXIoX2U9PiEhcm4oX2UpLmNhbGwoX2UpKS5tYXAodGhpcy5wYXJzZUxpbmUpLHRoaXMuY3VycmVudExpbmU9MDtsZXQgeT10aGlzLnBhcnNlVmVyc2lvbigpLHg9dGhpcy5wYXJzZU9yaWdpbigpLHJ0PXRoaXMucGFyc2VTZXNzaW9uTmFtZSgpLGJ0PXRoaXMucGFyc2VJbmZvcm1hdGlvbigpLFJlPXRoaXMucGFyc2VVcmkoKSxmbj10aGlzLnBhcnNlRW1haWwoKSxncj10aGlzLnBhcnNlUGhvbmUoKSxzZD10aGlzLnBhcnNlQ29ubmVjdGlvbigpLGFkPXRoaXMucGFyc2VCYW5kV2lkdGgoKSxxbj10aGlzLnBhcnNlVGltZUZpZWxkcygpLE1yPXRoaXMucGFyc2VLZXkoKSxycz10aGlzLnBhcnNlU2Vzc2lvbkF0dHJpYnV0ZSgpLGVlPXRoaXMucGFyc2VNZWRpYURlc2NyaXB0aW9uKCk7aWYodGhpcy5jdXJyZW50TGluZSE9PXRoaXMucmVjb3Jkcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwicGFyc2luZyBmYWlsZWQsIG5vbiBleGhhdXN0aXZlIHNkcCBsaW5lcy5cIik7cmV0dXJuIHt2ZXJzaW9uOnksb3JpZ2luOngsc2Vzc2lvbk5hbWU6cnQsaW5mb3JtYXRpb246YnQsdXJpOlJlLGVtYWlsczpmbixwaG9uZXM6Z3IsY29ubmVjdGlvbjpzZCxiYW5kd2lkdGhzOmFkLHRpbWVGaWVsZHM6cW4sa2V5Ok1yLGF0dHJpYnV0ZXM6cnMsbWVkaWFEZXNjcmlwdGlvbnM6ZWV9fWdldEN1cnJlbnRSZWNvcmQoKXtsZXQgbT10aGlzLnJlY29yZHNbdGhpcy5jdXJyZW50TGluZV07aWYoIW0pdGhyb3cgbmV3IEVycm9yKFwiUmVjb3JkIGRvZXNuJ3QgZXhpdC5cIik7cmV0dXJuIG19cHJvYmVFT0wobSl7Zm9yKGxldCBJPTA7STxtLmxlbmd0aDtJKyspaWYobVtJXT09PXMpcmV0dXJuIG1bSS0xXT09PVwiXFxyXCI/YTpzO3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgbmV3bGluZSBjaGFyYWN0ZXIuXCIpfXBhcnNlTGluZShtLEkpe2lmKG0ubGVuZ3RoPDIpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzZHAgbGluZSwgc2RwIGxpbmUgc2hvdWxkIGJlIG9mIGZvcm0gPHR5cGU+PTx2YWx1ZT4uXCIpO2xldCB5PW1bMF07aWYobVsxXSE9PVwiPVwiKXRocm93IG5ldyBFcnJvcignSW52YWxpZCBzZHAgbGluZSwgPHR5cGU+IHNob3VsZCBiZSBhIHNpbmdsZSBjaGFyYWN0ZXIgZm9sbG93ZWQgYnkgYW4gXCI9XCIgc2lnbi4nKTtyZXR1cm4ge3R5cGU6eSx2YWx1ZTptLnNsaWNlKDIpLGxpbmU6SSxjdXI6MH19cGFyc2VTZXNzaW9uQXR0cmlidXRlKCl7bGV0IG09bmV3IGx0O2Zvcig7dGhpcy5jdXJyZW50TGluZTx0aGlzLnJlY29yZHMubGVuZ3RoOyl7bGV0IEk9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYoSS50eXBlIT09ZC5BVFRSSUJVVEUpYnJlYWs7bGV0IHk9e2F0dEZpZWxkOnRoaXMuZXh0cmFjdE9uZU9yTW9yZShJLHg9PnAoeCkmJnghPT1cIjpcIiksX2N1cjowfTtJLnZhbHVlW0kuY3VyXT09PVwiOlwiJiYoSS5jdXIrPTEseS5hdHRWYWx1ZT10aGlzLmV4dHJhY3RPbmVPck1vcmUoSSxTKSksbS5wYXJzZSh5KSx0aGlzLmN1cnJlbnRMaW5lKys7fXJldHVybiBtLmRpZ2VzdCgpfXBhcnNlTWVkaWFBdHRyaWJ1dGVzKG0pe2xldCBJPW5ldyB2dChtKTtmb3IoO3RoaXMuY3VycmVudExpbmU8dGhpcy5yZWNvcmRzLmxlbmd0aDspe2xldCB5PXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKHkudHlwZSE9PWQuQVRUUklCVVRFKWJyZWFrO2xldCB4PXthdHRGaWVsZDp0aGlzLmV4dHJhY3RPbmVPck1vcmUoeSxydD0+cChydCkmJnJ0IT09XCI6XCIpLF9jdXI6MH07eS52YWx1ZVt5LmN1cl09PT1cIjpcIiYmKHkuY3VyKz0xLHguYXR0VmFsdWU9dGhpcy5leHRyYWN0T25lT3JNb3JlKHksUykpLEkucGFyc2UoeCksdGhpcy5jdXJyZW50TGluZSsrO31yZXR1cm4gSS5kaWdlc3QoKX1wYXJzZUtleSgpe2xldCBtPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKG0udHlwZT09PWQuS0VZKXtpZihtLnZhbHVlPT09XCJwcm9tcHRcInx8bS52YWx1ZT09PVwiY2xlYXI6XCJ8fG0udmFsdWU9PT1cImJhc2U2NDpcInx8bS52YWx1ZT09PVwidXJpOlwiKXJldHVybiBtLnZhbHVlO3Rocm93IHRoaXMuY3VycmVudExpbmUrKyxuZXcgRXJyb3IoXCJJbnZhbGlkIGtleS5cIil9fXBhcnNlWm9uZSgpe2xldCBtPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKG0udHlwZT09PWQuWk9ORV9BREpVU1RNRU5UUyl7bGV0IEk9W107Zm9yKDs7KXRyeXtsZXQgeT10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUaW1lKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChtKTtsZXQgeD0hMTttLnZhbHVlW20uY3VyXT09PVwiLVwiJiYoeD0hMCxtLmN1cis9MSk7bGV0IHJ0PXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVR5cGVkVGltZSk7SS5wdXNoKHt0aW1lOnksdHlwZWRUaW1lOnJ0LGJhY2s6eH0pO31jYXRjaHticmVha31pZihJLmxlbmd0aD09PTApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB6b25lIGFkanVzdG1lbnRzXCIpO3JldHVybiB0aGlzLmN1cnJlbnRMaW5lKyssSX1yZXR1cm4gW119cGFyc2VSZXBlYXQoKXtsZXQgbT1bXTtmb3IoOzspe2xldCBJPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKEkudHlwZSE9PWQuUkVQRUFUKWJyZWFrO3tsZXQgeT10aGlzLmV4dHJhY3QoSSx0aGlzLmNvbnN1bWVSZXBlYXRJbnRlcnZhbCkseD10aGlzLnBhcnNlVHlwZWRUaW1lKEkpO20ucHVzaCh7cmVwZWF0SW50ZXJ2YWw6eSx0eXBlZFRpbWVzOnh9KSx0aGlzLmN1cnJlbnRMaW5lKys7fX1yZXR1cm4gbX1wYXJzZVR5cGVkVGltZShtKXtsZXQgST1bXTtmb3IoOzspdHJ5e3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKG0pLEkucHVzaCh0aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUeXBlZFRpbWUpKTt9Y2F0Y2h7YnJlYWt9aWYoSS5sZW5ndGg9PT0wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdHlwZWQgdGltZS5cIik7cmV0dXJuIEl9cGFyc2VUaW1lKCl7bGV0IG09dGhpcy5nZXRDdXJyZW50UmVjb3JkKCksST10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUaW1lKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChtKTtsZXQgeT10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUaW1lKTtyZXR1cm4gdGhpcy5jdXJyZW50TGluZSsrLHtzdGFydFRpbWU6SSxzdG9wVGltZTp5fX1wYXJzZUJhbmRXaWR0aCgpe2xldCBtPVtdO2Zvcig7dGhpcy5jdXJyZW50TGluZTx0aGlzLnJlY29yZHMubGVuZ3RoOyl7bGV0IEk9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYoSS50eXBlIT09ZC5CQU5EV0lEVEgpYnJlYWs7e2xldCB5PXRoaXMuZXh0cmFjdE9uZU9yTW9yZShJLHApO2lmKEkudmFsdWVbSS5jdXJdIT09XCI6XCIpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBiYW5kd2lkdGggZmllbGQuXCIpO0kuY3VyKys7bGV0IHg9dGhpcy5leHRyYWN0T25lT3JNb3JlKEksbCk7bS5wdXNoKHtid3R5cGU6eSxiYW5kd2lkdGg6eH0pLHRoaXMuY3VycmVudExpbmUrKzt9fXJldHVybiBtfXBhcnNlVmVyc2lvbigpe2xldCBtPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKG0udHlwZSE9PWQuVkVSU0lPTil0aHJvdyBuZXcgRXJyb3IoXCJmaXJzdCBzZHAgcmVjb3JkIG11c3QgYmUgdmVyc2lvblwiKTtsZXQgST1tLnZhbHVlLnNsaWNlKDAsdGhpcy5jb25zdW1lT25lT3JNb3JlKG0udmFsdWUsMCxsKSk7aWYoSS5sZW5ndGghPT1tLnZhbHVlLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgcHJvdG8gdmVyc2lvbiwgXCJ2PScuY29uY2F0KG0udmFsdWUsJ1wiJykpO3JldHVybiB0aGlzLmN1cnJlbnRMaW5lKyssSX1wYXJzZU9yaWdpbigpe2xldCBtPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKG0udHlwZSE9PWQuT1JJR0lOKXRocm93IG5ldyBFcnJvcihcInNlY29uZCBsaW5lIG9mIHNkcCBtdXN0IGJlIG9yaWdpblwiKTtsZXQgST10aGlzLmV4dHJhY3RPbmVPck1vcmUobSxoKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChtKTtsZXQgeT10aGlzLmV4dHJhY3RPbmVPck1vcmUobSxsKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChtKTtsZXQgeD10aGlzLmV4dHJhY3RPbmVPck1vcmUobSxsKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChtKTtsZXQgcnQ9dGhpcy5leHRyYWN0T25lT3JNb3JlKG0scCk7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQobSk7bGV0IGJ0PXRoaXMuZXh0cmFjdE9uZU9yTW9yZShtLHApO3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKG0pO2xldCBSZT10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVVbmljYXN0QWRkcmVzcyk7cmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyx7dXNlcm5hbWU6SSxzZXNzSWQ6eSxzZXNzVmVyc2lvbjp4LG5ldHR5cGU6cnQsYWRkcnR5cGU6YnQsdW5pY2FzdEFkZHJlc3M6UmV9fXBhcnNlU2Vzc2lvbk5hbWUoKXtsZXQgbT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihtLnR5cGU9PT1kLlNFU1NJT05fTkFNRSl7bGV0IEk9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGV4dCk7cmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyxJfX1wYXJzZUluZm9ybWF0aW9uKCl7bGV0IG09dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYobS50eXBlIT09ZC5JTkZPUk1BVElPTilyZXR1cm47bGV0IEk9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGV4dCk7cmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyxJfXBhcnNlVXJpKCl7bGV0IG09dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYobS50eXBlPT09ZC5VUkkpcmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyxtLnZhbHVlfXBhcnNlRW1haWwoKXtsZXQgbT1bXTtmb3IoOzspe2xldCBJPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKEkudHlwZSE9PWQuRU1BSUwpYnJlYWs7bS5wdXNoKEkudmFsdWUpLHRoaXMuY3VycmVudExpbmUrKzt9cmV0dXJuIG19cGFyc2VQaG9uZSgpe2xldCBtPVtdO2Zvcig7Oyl7bGV0IEk9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYoSS50eXBlIT09ZC5QSE9ORSlicmVhazttLnB1c2goSS52YWx1ZSksdGhpcy5jdXJyZW50TGluZSsrO31yZXR1cm4gbX1wYXJzZUNvbm5lY3Rpb24oKXtsZXQgbT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihtLnR5cGU9PT1kLkNPTk5FQ1RJT04pe2xldCBJPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShtLHApO3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKG0pO2xldCB5PXRoaXMuZXh0cmFjdE9uZU9yTW9yZShtLHApO3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKG0pO2xldCB4PXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZUFkZHJlc3MpO3JldHVybiB0aGlzLmN1cnJlbnRMaW5lKysse25ldHR5cGU6SSxhZGRydHlwZTp5LGFkZHJlc3M6eH19fXBhcnNlTWVkaWEoKXtsZXQgbT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKSxJPXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRva2VuKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChtKTtsZXQgeT10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVQb3J0KTttLnZhbHVlW20uY3VyXT09PVwiL1wiJiYobS5jdXIrPTEseSs9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lSW50ZWdlcikpLHRoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKG0pO2xldCB4PVtdO2Zvcih4LnB1c2godGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVG9rZW4pKTttLnZhbHVlW20uY3VyXT09PVwiL1wiOyltLmN1cis9MSx4LnB1c2godGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVG9rZW4pKTtpZih4Lmxlbmd0aD09PTApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwcm90b1wiKTtsZXQgcnQ9dGhpcy5wYXJzZUZtdChtKTtyZXR1cm4gdGhpcy5jdXJyZW50TGluZSsrLHttZWRpYVR5cGU6SSxwb3J0OnkscHJvdG9zOngsZm10czpydH19cGFyc2VUaW1lRmllbGRzKCl7bGV0IG09W107Zm9yKDt0aGlzLmdldEN1cnJlbnRSZWNvcmQoKS50eXBlPT09ZC5USU1FOyl7bGV0IEk9dGhpcy5wYXJzZVRpbWUoKSx5PXRoaXMucGFyc2VSZXBlYXQoKSx4PXRoaXMucGFyc2Vab25lKCk7bS5wdXNoKHt0aW1lOkkscmVwZWF0czp5LHpvbmVzOnh9KTt9cmV0dXJuIG19cGFyc2VNZWRpYURlc2NyaXB0aW9uKCl7bGV0IG09W107Zm9yKDt0aGlzLmN1cnJlbnRMaW5lPHRoaXMucmVjb3Jkcy5sZW5ndGgmJnRoaXMuZ2V0Q3VycmVudFJlY29yZCgpLnR5cGU9PT1kLk1FRElBOyl7bGV0IEk9dGhpcy5wYXJzZU1lZGlhKCkseT10aGlzLnBhcnNlSW5mb3JtYXRpb24oKSx4PXRoaXMucGFyc2VDb25uZWN0aW9ucygpLHJ0PXRoaXMucGFyc2VCYW5kV2lkdGgoKSxidD10aGlzLnBhcnNlS2V5KCksUmU9dGhpcy5wYXJzZU1lZGlhQXR0cmlidXRlcyhJKTttLnB1c2goe21lZGlhOkksaW5mb3JtYXRpb246eSxjb25uZWN0aW9uczp4LGJhbmR3aWR0aHM6cnQsa2V5OmJ0LGF0dHJpYnV0ZXM6UmV9KTt9cmV0dXJuIG19cGFyc2VDb25uZWN0aW9ucygpe2xldCBtPVtdO2Zvcig7dGhpcy5jdXJyZW50TGluZTx0aGlzLnJlY29yZHMubGVuZ3RoJiZ0aGlzLmdldEN1cnJlbnRSZWNvcmQoKS50eXBlPT09ZC5DT05ORUNUSU9OOyltLnB1c2godGhpcy5wYXJzZUNvbm5lY3Rpb24oKSk7cmV0dXJuIG19cGFyc2VGbXQobSl7bGV0IEk9W107Zm9yKDs7KXRyeXt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChtKSxJLnB1c2godGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVG9rZW4pKTt9Y2F0Y2h7YnJlYWt9aWYoSS5sZW5ndGg9PT0wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZm10c1wiKTtyZXR1cm4gSX1leHRyYWN0KG0sSSl7Zm9yKHZhciB5PWFyZ3VtZW50cy5sZW5ndGgseD1uZXcgQXJyYXkoeT4yP3ktMjowKSxydD0yO3J0PHk7cnQrKyl4W3J0LTJdPWFyZ3VtZW50c1tydF07bGV0IGJ0PUkuY2FsbCh0aGlzLG0udmFsdWUsbS5jdXIsLi4ueCksUmU9bS52YWx1ZS5zbGljZShtLmN1cixidCk7cmV0dXJuIG0uY3VyPWJ0LFJlfWV4dHJhY3RPbmVPck1vcmUobSxJKXtsZXQgeT10aGlzLmNvbnN1bWVPbmVPck1vcmUobS52YWx1ZSxtLmN1cixJKSx4PW0udmFsdWUuc2xpY2UobS5jdXIseSk7cmV0dXJuIG0uY3VyPXkseH1jb25zdW1lU3BhY2VGb3JSZWNvcmQobSl7aWYobS52YWx1ZVttLmN1cl0hPT1jKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3BhY2UgYXQgXCIuY29uY2F0KG0uY3VyLFwiLlwiKSk7bS5jdXIrPTE7fX1jbGFzcyB6IGV4dGVuZHMgQntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksayh0aGlzLFwiYXR0cmlidXRlc1wiLHZvaWQgMCksayh0aGlzLFwiZGlnZXN0ZWRcIiwhMSk7fWV4dHJhY3RPbmVPck1vcmUobSxJLHkpe2xldCB4PXRoaXMuY29uc3VtZU9uZU9yTW9yZShtLmF0dFZhbHVlLG0uX2N1cixJKSxydD1tLmF0dFZhbHVlLnNsaWNlKG0uX2N1cix4KSxbYnQsUmVdPXl8fFtdO2lmKHR5cGVvZiBidD09XCJudW1iZXJcIiYmcnQubGVuZ3RoPGJ0KXRocm93IG5ldyBFcnJvcihcImVycm9yIGluIGxlbmd0aCwgc2hvdWxkIGJlIG1vcmUgb3IgZXF1YWwgdGhhbiBcIi5jb25jYXQoYnQsXCIgY2hhcmFjdGVycy5cIikpO2lmKHR5cGVvZiBSZT09XCJudW1iZXJcIiYmcnQubGVuZ3RoPlJlKXRocm93IG5ldyBFcnJvcihcImVycm9yIGluIGxlbmd0aCwgc2hvdWxkIGJlIGxlc3Mgb3IgZXF1YWwgdGhhbiBcIi5jb25jYXQoUmUsXCIgY2hhcmFjdGVycy5cIikpO3JldHVybiBtLl9jdXI9eCxydH1jb25zdW1lQXR0cmlidXRlU3BhY2UobSl7aWYobS5hdHRWYWx1ZVttLl9jdXJdIT09Yyl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNwYWNlIGF0IFwiLmNvbmNhdChtLl9jdXIsXCIuXCIpKTttLl9jdXIrPTE7fWV4dHJhY3QobSxJKXtpZighbS5hdHRWYWx1ZSl0aHJvdyBuZXcgRXJyb3IoXCJOb3RoaW5nIHRvIGV4dHJhY3QgZnJvbSBhdHRWYWx1ZS5cIik7Zm9yKHZhciB5PWFyZ3VtZW50cy5sZW5ndGgseD1uZXcgQXJyYXkoeT4yP3ktMjowKSxydD0yO3J0PHk7cnQrKyl4W3J0LTJdPWFyZ3VtZW50c1tydF07bGV0IGJ0PUkuY2FsbCh0aGlzLG0uYXR0VmFsdWUsbS5fY3VyLC4uLngpLFJlPW0uYXR0VmFsdWUuc2xpY2UobS5fY3VyLGJ0KTtyZXR1cm4gbS5fY3VyPWJ0LFJlfWF0RW5kKG0pe2lmKCFtLmF0dFZhbHVlKXRocm93IG5ldyBFcnJvcjtyZXR1cm4gbS5fY3VyPj1tLmF0dFZhbHVlLmxlbmd0aH1wZWVrQ2hhcihtKXtpZighbS5hdHRWYWx1ZSl0aHJvdyBuZXcgRXJyb3I7cmV0dXJuIG0uYXR0VmFsdWVbbS5fY3VyXX1wZWVrKG0sSSl7aWYoIW0uYXR0VmFsdWUpdGhyb3cgbmV3IEVycm9yO2ZvcihsZXQgeT0wO3k8SS5sZW5ndGg7eSsrKWlmKElbeV0hPT1tLmF0dFZhbHVlW20uX2N1cit5XSlyZXR1cm4gITE7cmV0dXJuICEwfXBhcnNlSWNlVWZyYWcobSl7aWYodGhpcy5hdHRyaWJ1dGVzLmljZVVmcmFnKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaWNlLXVmcmFnLCBzaG91bGQgYmUgb25seSBhIHNpbmdsZSBsaW5lIGlmICdhPWljZS11ZnJhZydcIik7dGhpcy5hdHRyaWJ1dGVzLmljZVVmcmFnPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShtLEMsWzQsMjU2XSk7fXBhcnNlSWNlUHdkKG0pe2lmKHRoaXMuYXR0cmlidXRlcy5pY2VQd2QpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpY2UtcHdkLCBzaG91bGQgYmUgb25seSBhIHNpbmdsZSBsaW5lIGlmICdhPWljZS1wd2QnXCIpO3RoaXMuYXR0cmlidXRlcy5pY2VQd2Q9dGhpcy5leHRyYWN0T25lT3JNb3JlKG0sQyxbMjIsMjU2XSk7fXBhcnNlSWNlT3B0aW9ucyhtKXtpZih0aGlzLmF0dHJpYnV0ZXMuaWNlT3B0aW9ucyl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGljZS1vcHRpb25zLCBzaG91bGQgYmUgb25seSBvbmUgJ2ljZS1vcHRpb25zJyBsaW5lXCIpO2xldCBJPVtdO2Zvcig7IXRoaXMuYXRFbmQobSk7KXtJLnB1c2godGhpcy5leHRyYWN0T25lT3JNb3JlKG0sQykpO3RyeXt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKTt9Y2F0Y2goeSl7aWYodGhpcy5hdEVuZChtKSlicmVhazt0aHJvdyB5fX10aGlzLmF0dHJpYnV0ZXMuaWNlT3B0aW9ucz1JO31wYXJzZUZpbmdlcnByaW50KG0pe2xldCBJPXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRva2VuKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKTtsZXQgeT10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUaWxsKTt0aGlzLmF0dHJpYnV0ZXMuZmluZ2VycHJpbnRzLnB1c2goe2hhc2hGdW5jdGlvbjpJLGZpbmdlcnByaW50Onl9KTt9cGFyc2VFeHRtYXAobSl7bGV0IEk9dGhpcy5leHRyYWN0T25lT3JNb3JlKG0sbCkseTt0aGlzLnBlZWtDaGFyKG0pPT09XCIvXCImJih0aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWUsXCIvXCIpLHk9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVG9rZW4pKSx0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKTtsZXQgeD10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUaWxsLGMpLHJ0PUQoRCh7ZW50cnk6cGFyc2VJbnQoSSwxMCl9LHkmJntkaXJlY3Rpb246eX0pLHt9LHtleHRlbnNpb25OYW1lOnh9KTt0aGlzLnBlZWtDaGFyKG0pPT09YyYmKHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pLHJ0LmV4dGVuc2lvbkF0dHJpYnV0ZXM9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGlsbCkpLHRoaXMuYXR0cmlidXRlcy5leHRtYXBzLnB1c2gocnQpO31wYXJzZVNldHVwKG0pe2lmKHRoaXMuYXR0cmlidXRlcy5zZXR1cCl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IG9ubHkgYmUgb25lIHNpbmdsZSAnYT1zZXR1cCcgbGluZS5cIik7bGV0IEk9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGlsbCk7aWYoSSE9PVwiYWN0aXZlXCImJkkhPT1cInBhc3NpdmVcIiYmSSE9PVwiYWN0cGFzc1wiJiZJIT09XCJob2xkY29ublwiKXRocm93IG5ldyBFcnJvcihcInJvbGUgbXVzdCBiZSBvbmUgb2YgJ2FjdGl2ZScsICdwYXNzaXZlJywgJ2FjdHBhc3MnLCAnaG9sZGNvbm4nLlwiKTt0aGlzLmF0dHJpYnV0ZXMuc2V0dXA9STt9fWNsYXNzIGx0IGV4dGVuZHMgentjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksayh0aGlzLFwiYXR0cmlidXRlc1wiLHt1bnJlY29nbml6ZWQ6W10sZ3JvdXBzOltdLGV4dG1hcHM6W10sZmluZ2VycHJpbnRzOltdLGlkZW50aXRpZXM6W119KTt9cGFyc2UobSl7aWYodGhpcy5kaWdlc3RlZCl0aHJvdyBuZXcgRXJyb3IoXCJhbHJlYWR5IGRpZ2VzdGVkXCIpO3RyeXtzd2l0Y2gobS5hdHRGaWVsZCl7Y2FzZVwiZ3JvdXBcIjp0aGlzLnBhcnNlR3JvdXAobSk7YnJlYWs7Y2FzZVwiaWNlLWxpdGVcIjp0aGlzLnBhcnNlSWNlTGl0ZSgpO2JyZWFrO2Nhc2VcImljZS11ZnJhZ1wiOnRoaXMucGFyc2VJY2VVZnJhZyhtKTticmVhaztjYXNlXCJpY2UtcHdkXCI6dGhpcy5wYXJzZUljZVB3ZChtKTticmVhaztjYXNlXCJpY2Utb3B0aW9uc1wiOnRoaXMucGFyc2VJY2VPcHRpb25zKG0pO2JyZWFrO2Nhc2VcImZpbmdlcnByaW50XCI6dGhpcy5wYXJzZUZpbmdlcnByaW50KG0pO2JyZWFrO2Nhc2VcInNldHVwXCI6dGhpcy5wYXJzZVNldHVwKG0pO2JyZWFrO2Nhc2VcInRscy1pZFwiOnRoaXMucGFyc2VUbHNJZChtKTticmVhaztjYXNlXCJpZGVudGl0eVwiOnRoaXMucGFyc2VJZGVudGl0eShtKTticmVhaztjYXNlXCJleHRtYXBcIjp0aGlzLnBhcnNlRXh0bWFwKG0pO2JyZWFrO2Nhc2VcIm1zaWQtc2VtYW50aWNcIjp0aGlzLnBhcnNlTXNpZFNlbWFudGljKG0pO2JyZWFrO2RlZmF1bHQ6bS5pZ25vcmVkPSEwLHRoaXMuYXR0cmlidXRlcy51bnJlY29nbml6ZWQucHVzaChtKTt9fWNhdGNoKEkpe3Rocm93IGNvbnNvbGUuZXJyb3IoXCJwYXJzaW5nIHNlc3Npb24gYXR0cmlidXRlIFwiLmNvbmNhdChtLmF0dEZpZWxkLCcgZXJyb3IsIFwiYT0nKS5jb25jYXQobS5hdHRGaWVsZCxcIjpcIikuY29uY2F0KG0uYXR0VmFsdWUsJ1wiJykpLEl9aWYoIW0uaWdub3JlZCYmbS5hdHRWYWx1ZSYmIXRoaXMuYXRFbmQobSkpdGhyb3cgbmV3IEVycm9yKFwiYXR0cmlidXRlIHBhcnNpbmcgZXJyb3JcIil9ZGlnZXN0KCl7cmV0dXJuIHRoaXMuZGlnZXN0ZWQ9ITAsdGhpcy5hdHRyaWJ1dGVzfXBhcnNlR3JvdXAobSl7bGV0IEk9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVG9rZW4pLHk9W107Zm9yKDshdGhpcy5hdEVuZChtKSYmdGhpcy5wZWVrQ2hhcihtKT09PWM7KXRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pLHkucHVzaCh0aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUb2tlbikpO3RoaXMuYXR0cmlidXRlcy5ncm91cHMucHVzaCh7c2VtYW50aWM6SSxpZGVudGlmaWNhdGlvblRhZzp5fSk7fXBhcnNlSWNlTGl0ZSgpe2lmKHRoaXMuYXR0cmlidXRlcy5pY2VMaXRlKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaWNlLWxpdGUsIHNob3VsZCBiZSBvbmx5IGEgc2luZ2xlIGxpbmUgb2YgJ2E9aWNlLWxpdGUnXCIpO3RoaXMuYXR0cmlidXRlcy5pY2VMaXRlPSEwO31wYXJzZVRsc0lkKG0pe2lmKHRoaXMuYXR0cmlidXRlcy50bHNJZCl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIG9ubHkgb25lIHRsZC1pZCBsaW5lXCIpO3RoaXMuYXR0cmlidXRlcy50bHNJZD10aGlzLmV4dHJhY3RPbmVPck1vcmUobSxBKTt9cGFyc2VJZGVudGl0eShtKXtsZXQgST10aGlzLmV4dHJhY3RPbmVPck1vcmUobSxiKSx5PVtdO2Zvcig7IXRoaXMuYXRFbmQobSkmJnRoaXMucGVla0NoYXIobSk9PT1jOyl7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSk7bGV0IHg9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVG9rZW4pO3RoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZSxcIj1cIik7bGV0IHJ0PXRoaXMuZXh0cmFjdE9uZU9yTW9yZShtLGJ0PT5idCE9PWMmJlMoYnQpKTt5LnB1c2goe25hbWU6eCx2YWx1ZTpydH0pO310aGlzLmF0dHJpYnV0ZXMuaWRlbnRpdGllcy5wdXNoKHthc3NlcnRpb25WYWx1ZTpJLGV4dGVuc2lvbnM6eX0pO31wYXJzZU1zaWRTZW1hbnRpYyhtKXt0aGlzLnBlZWtDaGFyKG0pPT09YyYmdGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSk7bGV0IEk9e3NlbWFudGljOnRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRva2VuKSxpZGVudGlmaWVyTGlzdDpbXX07Zm9yKDs7KXt0cnl7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSk7fWNhdGNoe2JyZWFrfWlmKHRoaXMucGVla0NoYXIobSk9PT1cIipcIil7dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lLFwiKlwiKSxJLmFwcGx5Rm9yQWxsPSEwO2JyZWFrfXtsZXQgeT10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUaWxsLGMpO0kuaWRlbnRpZmllckxpc3QucHVzaCh5KTt9fXRoaXMuYXR0cmlidXRlcy5tc2lkU2VtYW50aWM9STt9fWNsYXNzIHZ0IGV4dGVuZHMgentjb25zdHJ1Y3RvcihtKXtzdXBlcigpLGsodGhpcyxcImF0dHJpYnV0ZXNcIix2b2lkIDApLG0ucHJvdG9zLmluZGV4T2YoXCJSVFBcIikhPT0tMXx8bS5wcm90b3MuaW5kZXhPZihcInJ0cFwiKSx0aGlzLmF0dHJpYnV0ZXM9e3VucmVjb2duaXplZDpbXSxjYW5kaWRhdGVzOltdLGV4dG1hcHM6W10sZmluZ2VycHJpbnRzOltdLGltYWdlYXR0cjpbXSxtc2lkczpbXSxyZW1vdGVDYW5kaWRhdGVzTGlzdDpbXSxyaWRzOltdLHNzcmNzOltdLHNzcmNHcm91cHM6W10scnRjcEZlZWRiYWNrV2lsZGNhcmRzOltdLHBheWxvYWRzOltdfTt9cGFyc2UobSl7aWYodGhpcy5kaWdlc3RlZCl0aHJvdyBuZXcgRXJyb3IoXCJhbHJlYWR5IGRpZ2VzdGVkXCIpO3RyeXtzd2l0Y2gobS5hdHRGaWVsZCl7Y2FzZVwiZXh0bWFwXCI6dGhpcy5wYXJzZUV4dG1hcChtKTticmVhaztjYXNlXCJzZXR1cFwiOnRoaXMucGFyc2VTZXR1cChtKTticmVhaztjYXNlXCJpY2UtdWZyYWdcIjp0aGlzLnBhcnNlSWNlVWZyYWcobSk7YnJlYWs7Y2FzZVwiaWNlLXB3ZFwiOnRoaXMucGFyc2VJY2VQd2QobSk7YnJlYWs7Y2FzZVwiaWNlLW9wdGlvbnNcIjp0aGlzLnBhcnNlSWNlT3B0aW9ucyhtKTticmVhaztjYXNlXCJjYW5kaWRhdGVcIjp0aGlzLnBhcnNlQ2FuZGlkYXRlKG0pO2JyZWFrO2Nhc2VcInJlbW90ZS1jYW5kaWRhdGVcIjp0aGlzLnBhcnNlUmVtb3RlQ2FuZGlkYXRlKG0pO2JyZWFrO2Nhc2VcImVuZC1vZi1jYW5kaWRhdGVzXCI6dGhpcy5wYXJzZUVuZE9mQ2FuZGlkYXRlcygpO2JyZWFrO2Nhc2VcImZpbmdlcnByaW50XCI6dGhpcy5wYXJzZUZpbmdlcnByaW50KG0pO2JyZWFrO2Nhc2VcInJ0cG1hcFwiOnRoaXMucGFyc2VSdHBtYXAobSk7YnJlYWs7Y2FzZVwicHRpbWVcIjp0aGlzLnBhcnNlUHRpbWUobSk7YnJlYWs7Y2FzZVwibWF4cHRpbWVcIjp0aGlzLnBhcnNlTWF4UHRpbWUobSk7YnJlYWs7Y2FzZVwic2VuZHJlY3ZcIjpjYXNlXCJyZWN2b25seVwiOmNhc2VcInNlbmRvbmx5XCI6Y2FzZVwiaW5hY3RpdmVcIjp0aGlzLnBhcnNlRGlyZWN0aW9uKG0pO2JyZWFrO2Nhc2VcInNzcmNcIjp0aGlzLnBhcnNlU1NSQyhtKTticmVhaztjYXNlXCJmbXRwXCI6dGhpcy5wYXJzZUZtdHAobSk7YnJlYWs7Y2FzZVwicnRjcC1mYlwiOnRoaXMucGFyc2VSdGNwRmIobSk7YnJlYWs7Y2FzZVwicnRjcC1tdXhcIjp0aGlzLnBhcnNlUlRDUE11eCgpO2JyZWFrO2Nhc2VcInJ0Y3AtbXV4LW9ubHlcIjp0aGlzLnBhcnNlUlRDUE11eE9ubHkoKTticmVhaztjYXNlXCJydGNwLXJzaXplXCI6dGhpcy5wYXJzZVJUQ1BSc2l6ZSgpO2JyZWFrO2Nhc2VcInJ0Y3BcIjp0aGlzLnBhcnNlUlRDUChtKTticmVhaztjYXNlXCJtaWRcIjp0aGlzLnBhcnNlTWlkKG0pO2JyZWFrO2Nhc2VcIm1zaWRcIjp0aGlzLnBhcnNlTXNpZChtKTticmVhaztjYXNlXCJpbWFnZWF0dHJcIjp0aGlzLnBhcnNlSW1hZ2VBdHRyKG0pO2JyZWFrO2Nhc2VcInJpZFwiOnRoaXMucGFyc2VSaWQobSk7YnJlYWs7Y2FzZVwic2ltdWxjYXN0XCI6dGhpcy5wYXJzZVNpbXVsY2FzdChtKTticmVhaztjYXNlXCJzY3RwLXBvcnRcIjp0aGlzLnBhcnNlU2N0cFBvcnQobSk7YnJlYWs7Y2FzZVwibWF4LW1lc3NhZ2Utc2l6ZVwiOnRoaXMucGFyc2VNYXhNZXNzYWdlU2l6ZShtKTticmVhaztjYXNlXCJzc3JjLWdyb3VwXCI6dGhpcy5wYXJzZVNTUkNHcm91cChtKTticmVhaztkZWZhdWx0Om0uaWdub3JlZD0hMCx0aGlzLmF0dHJpYnV0ZXMudW5yZWNvZ25pemVkLnB1c2gobSk7fX1jYXRjaChJKXt0aHJvdyBjb25zb2xlLmVycm9yKFwicGFyc2luZyBtZWRpYSBhdHRyaWJ1dGUgXCIuY29uY2F0KG0uYXR0RmllbGQsJyBlcnJvciwgXCJhPScpLmNvbmNhdChtLmF0dEZpZWxkLFwiOlwiKS5jb25jYXQobS5hdHRWYWx1ZSwnXCInKSksSX1pZighbS5pZ25vcmVkJiZtLmF0dFZhbHVlJiYhdGhpcy5hdEVuZChtKSl0aHJvdyBuZXcgRXJyb3IoXCJhdHRyaWJ1dGUgcGFyc2luZyBlcnJvclwiKX1wYXJzZUNhbmRpZGF0ZShtKXtsZXQgST10aGlzLmV4dHJhY3RPbmVPck1vcmUobSxDLFsxLDMyXSk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSk7bGV0IHk9dGhpcy5leHRyYWN0T25lT3JNb3JlKG0sbCxbMSw1XSk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSk7bGV0IHg9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVG9rZW4pO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pO2xldCBydD10aGlzLmV4dHJhY3RPbmVPck1vcmUobSxsLFsxLDEwXSk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSk7bGV0IGJ0PXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZUFkZHJlc3MpO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pO2xldCBSZT10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVQb3J0KTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKSx0aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWUsXCJ0eXBcIiksdGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSk7bGV0IGZuPXtmb3VuZGF0aW9uOkksY29tcG9uZW50SWQ6eSx0cmFuc3BvcnQ6eCxwcmlvcml0eTpydCxjb25uZWN0aW9uQWRkcmVzczpidCxwb3J0OlJlLHR5cGU6dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVG9rZW4pLGV4dGVuc2lvbjp7fX07Zm9yKHRoaXMucGVlayhtLFwiIHJhZGRyXCIpJiYodGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lLFwiIHJhZGRyXCIpLHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pLGZuLnJlbEFkZHI9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lQWRkcmVzcykpLHRoaXMucGVlayhtLFwiIHJwb3J0XCIpJiYodGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lLFwiIHJwb3J0XCIpLHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pLGZuLnJlbFBvcnQ9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lUG9ydCkpO3RoaXMucGVla0NoYXIobSk9PT1jOyl7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSk7bGV0IGdyPXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRva2VuKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKSxmbi5leHRlbnNpb25bZ3JdPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShtLHUpO310aGlzLmF0dHJpYnV0ZXMuY2FuZGlkYXRlcy5wdXNoKGZuKTt9cGFyc2VSZW1vdGVDYW5kaWRhdGUobSl7bGV0IEk9W107Zm9yKDs7KXtsZXQgeT10aGlzLmV4dHJhY3RPbmVPck1vcmUobSxsLFsxLDVdKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKTtsZXQgeD10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVBZGRyZXNzKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKTtsZXQgcnQ9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lUG9ydCk7SS5wdXNoKHtjb21wb25lbnRJZDp5LGNvbm5lY3Rpb25BZGRyZXNzOngscG9ydDpydH0pO3RyeXt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKTt9Y2F0Y2h7YnJlYWt9fXRoaXMuYXR0cmlidXRlcy5yZW1vdGVDYW5kaWRhdGVzTGlzdC5wdXNoKEkpO31wYXJzZUVuZE9mQ2FuZGlkYXRlcygpe2lmKHRoaXMuYXR0cmlidXRlcy5lbmRPZkNhbmRpZGF0ZXMpdGhyb3cgbmV3IEVycm9yKFwibXVzdCBiZSBvbmx5IG9uZSBsaW5lIG9mIGVuZC1vZi1jYW5kaWRhdGVzXCIpO3RoaXMuYXR0cmlidXRlcy5lbmRPZkNhbmRpZGF0ZXM9ITA7fXBhcnNlUnRwbWFwKG0pe2xldCBJPXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRva2VuKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKTtsZXQgeT10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUaWxsLFwiL1wiKTt0aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWUsXCIvXCIpO2xldCB4PXtlbmNvZGluZ05hbWU6eSxjbG9ja1JhdGU6dGhpcy5leHRyYWN0T25lT3JNb3JlKG0sbCl9O3RoaXMuYXRFbmQobSl8fHRoaXMucGVla0NoYXIobSkhPT1cIi9cInx8KHRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZSxcIi9cIikseC5lbmNvZGluZ1BhcmFtZXRlcnM9cGFyc2VJbnQodGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGlsbCksMTApKTtsZXQgcnQ9dGhpcy5hdHRyaWJ1dGVzLnBheWxvYWRzLmZpbmQoYnQ9PmJ0LnBheWxvYWRUeXBlPT09cGFyc2VJbnQoSSwxMCkpO3J0P3J0LnJ0cE1hcD14OnRoaXMuYXR0cmlidXRlcy5wYXlsb2Fkcy5wdXNoKHtwYXlsb2FkVHlwZTpwYXJzZUludChJLDEwKSxydHBNYXA6eCxydGNwRmVlZGJhY2tzOltdfSk7fXBhcnNlUHRpbWUobSl7aWYodGhpcy5hdHRyaWJ1dGVzLnB0aW1lKXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgb25seSBvbmUgbGluZSBvZiBwdGltZVwiKTt0aGlzLmF0dHJpYnV0ZXMucHRpbWU9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGlsbCk7fXBhcnNlTWF4UHRpbWUobSl7aWYodGhpcy5hdHRyaWJ1dGVzLm1heFB0aW1lKXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgb25seSBvbmUgbGluZSBvZiBwdGltZVwiKTt0aGlzLmF0dHJpYnV0ZXMubWF4UHRpbWU9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGlsbCk7fXBhcnNlRGlyZWN0aW9uKG0pe2lmKHRoaXMuYXR0cmlidXRlcy5kaXJlY3Rpb24pdGhyb3cgbmV3IEVycm9yKFwibXVzdCBiZSBvbmx5IG9uZSBsaW5lIG9mIGRpcmVjdGlvbiBpbmZvXCIpO3RoaXMuYXR0cmlidXRlcy5kaXJlY3Rpb249bS5hdHRGaWVsZDt9cGFyc2VTU1JDKG0pe2xldCBJPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShtLGwpO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pO2xldCB5PXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRpbGwsXCI6XCIpLHg7dGhpcy5wZWVrQ2hhcihtKT09PVwiOlwiJiYodGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lLFwiOlwiKSx4PXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRpbGwpKTtsZXQgcnQ9dGhpcy5hdHRyaWJ1dGVzLnNzcmNzLmZpbmQoYnQ9PmJ0LnNzcmNJZD09PXBhcnNlSW50KEksMTApKTtydD9ydC5hdHRyaWJ1dGVzW3ldPXg6dGhpcy5hdHRyaWJ1dGVzLnNzcmNzLnB1c2goe3NzcmNJZDpwYXJzZUludChJLDEwKSxhdHRyaWJ1dGVzOntbeV06eH19KTt9cGFyc2VGbXRwKG0pe2xldCBJPXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRpbGwsYyk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSk7bGV0IHk9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGlsbCkseD17fTt5LnNwbGl0KFwiO1wiKS5mb3JFYWNoKGJ0PT57bGV0W1JlLGZuXT1idC5zcGxpdChcIj1cIik7UmU9cm4oUmUpLmNhbGwoUmUpO2xldCBncj10eXBlb2YgZm49PVwic3RyaW5nXCI/cm4oZm4pLmNhbGwoZm4pOm51bGw7dHlwZW9mIFJlPT1cInN0cmluZ1wiJiZSZS5sZW5ndGg+MCYmKHhbUmVdPWdyKTt9KTtsZXQgcnQ9dGhpcy5hdHRyaWJ1dGVzLnBheWxvYWRzLmZpbmQoYnQ9PmJ0LnBheWxvYWRUeXBlPT09cGFyc2VJbnQoSSwxMCkpO3J0P3J0LmZtdHA9e3BhcmFtZXRlcnM6eH06dGhpcy5hdHRyaWJ1dGVzLnBheWxvYWRzLnB1c2goe3BheWxvYWRUeXBlOnBhcnNlSW50KEksMTApLHJ0Y3BGZWVkYmFja3M6W10sZm10cDp7cGFyYW1ldGVyczp4fX0pO31wYXJzZUZtdFBhcmFtZXRlcnMobSl7bGV0IEk9e30seT10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUaWxsLFwiPVwiKTttLl9jdXIrKztsZXQgeD10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUaWxsLFwiO1wiKTtmb3IoSVt5XT14O20uYXR0VmFsdWVbbS5fY3VyXT09PVwiO1wiOyl7bGV0IHJ0PXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRpbGwsXCI9XCIpO20uX2N1cisrO2xldCBidD10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUaWxsLFwiO1wiKTtJW3J0XT1idDt9cmV0dXJuIEl9cGFyc2VSdGNwRmIobSl7bGV0IEk9XCJcIjtJPXRoaXMucGVla0NoYXIobSk9PT1cIipcIj90aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWUsXCIqXCIpOnRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRpbGwsYyksdGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSk7bGV0IHk9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGlsbCxjKSx4O2lmKHk9PT1cInRyci1pbnRcIil4PXt0eXBlOnksaW50ZXJ2YWw6dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVGlsbCl9O2Vsc2Uge2xldCBydD17dHlwZTp5fTt0aGlzLnBlZWtDaGFyKG0pPT09YyYmKHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pLHJ0LnBhcmFtZXRlcj10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUb2tlbiksdGhpcy5wZWVrQ2hhcihtKT09PWMmJihydC5hZGRpdGlvbmFsPXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRpbGwpKSkseD1ydDt9aWYoST09PVwiKlwiKXRoaXMuYXR0cmlidXRlcy5ydGNwRmVlZGJhY2tXaWxkY2FyZHMucHVzaCh4KTtlbHNlIHtsZXQgcnQ9dGhpcy5hdHRyaWJ1dGVzLnBheWxvYWRzLmZpbmQoYnQ9PmJ0LnBheWxvYWRUeXBlPT09cGFyc2VJbnQoSSwxMCkpO3J0P3J0LnJ0Y3BGZWVkYmFja3MucHVzaCh4KTp0aGlzLmF0dHJpYnV0ZXMucGF5bG9hZHMucHVzaCh7cGF5bG9hZFR5cGU6cGFyc2VJbnQoSSwxMCkscnRjcEZlZWRiYWNrczpbeF19KTt9fXBhcnNlUlRDUE11eCgpe2lmKHRoaXMuYXR0cmlidXRlcy5ydGNwTXV4KXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgc2luZ2xlIGxpbmUgb2YgcnRjcC1tdXhcIik7dGhpcy5hdHRyaWJ1dGVzLnJ0Y3BNdXg9ITA7fXBhcnNlUlRDUE11eE9ubHkoKXtpZih0aGlzLmF0dHJpYnV0ZXMucnRjcE11eE9ubHkpdGhyb3cgbmV3IEVycm9yKFwibXVzdCBiZSBzaW5nbGUgbGluZSBvZiBydGNwLW9ubHlcIik7dGhpcy5hdHRyaWJ1dGVzLnJ0Y3BNdXhPbmx5PSEwO31wYXJzZVJUQ1BSc2l6ZSgpe2lmKHRoaXMuYXR0cmlidXRlcy5ydGNwUnNpemUpdGhyb3cgbmV3IEVycm9yKFwibXVzdCBiZSBzaW5nbGUgbGluZSBvZiBydGNwLXJzaXplXCIpO3RoaXMuYXR0cmlidXRlcy5ydGNwUnNpemU9ITA7fXBhcnNlUlRDUChtKXtpZih0aGlzLmF0dHJpYnV0ZXMucnRjcCl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIHNpbmdsZSBsaW5lIG9mIHJ0Y3BcIik7bGV0IEk9e3BvcnQ6dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lUG9ydCl9O3RoaXMucGVla0NoYXIobSk9PT1jJiYodGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSksSS5uZXRUeXBlPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShtLHApLHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pLEkuYWRkcmVzc1R5cGU9dGhpcy5leHRyYWN0T25lT3JNb3JlKG0scCksdGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSksSS5hZGRyZXNzPXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZUFkZHJlc3MpKSx0aGlzLmF0dHJpYnV0ZXMucnRjcD1JO31wYXJzZU1zaWQobSl7bGV0IEk9e2lkOnRoaXMuZXh0cmFjdE9uZU9yTW9yZShtLHAsWzEsNjRdKX07dGhpcy5wZWVrQ2hhcihtKT09PWMmJih0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKSxJLmFwcGRhdGE9dGhpcy5leHRyYWN0T25lT3JNb3JlKG0scCxbMSw2NF0pKSx0aGlzLmF0dHJpYnV0ZXMubXNpZHMucHVzaChJKTt9cGFyc2VJbWFnZUF0dHIobSl7dGhpcy5hdHRyaWJ1dGVzLmltYWdlYXR0ci5wdXNoKG0uYXR0VmFsdWUpO31wYXJzZVJpZChtKXtsZXQgST10aGlzLmV4dHJhY3RPbmVPck1vcmUobSx4PT5FKHgpfHxsKHgpfHx4PT09XCJfXCJ8fHg9PT1cIi1cIik7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UobSk7bGV0IHk9e2lkOkksZGlyZWN0aW9uOnRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRva2VuKSxwYXJhbXM6W119O2lmKHRoaXMucGVla0NoYXIobSk9PT1jKXtpZih0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShtKSx0aGlzLnBlZWsobSxcInB0PVwiKSl7dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lLFwicHQ9XCIpO2xldCB4PVtdO2Zvcig7Oyl7bGV0IHJ0PXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRva2VuKTt4LnB1c2gocnQpO3RyeXt0aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWUsXCIsXCIpO31jYXRjaHticmVha319eS5wYXlsb2Fkcz14LHRoaXMucGVla0NoYXIobSk9PT1jJiZ0aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWUsYyk7fWZvcig7Oyl7bGV0IHg9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVG9rZW4pO3N3aXRjaCh4KXtjYXNlXCJkZXBlbmRcIjp7bGV0IHJ0PXt0eXBlOngscmlkczp0aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWUsXCI9XCIpLnNwbGl0KFwiLFwiKX07eS5wYXJhbXMucHVzaChydCk7YnJlYWt9ZGVmYXVsdDp7bGV0IHJ0PXt0eXBlOnh9O3RoaXMucGVla0NoYXIobSk9PT1cIj1cIiYmKHRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZSxcIj1cIikscnQudmFsPXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRpbGwsXCI7XCIpKSx5LnBhcmFtcy5wdXNoKHJ0KTt9fXRyeXt0aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWUsXCI7XCIpO31jYXRjaHticmVha319fXRoaXMuYXR0cmlidXRlcy5yaWRzLnB1c2goeSk7fXBhcnNlU2ltdWxjYXN0KG0pe2lmKHRoaXMuYXR0cmlidXRlcy5zaW11bGNhc3QpdGhyb3cgbmV3IEVycm9yKFwibXVzdCBiZSBzaW5nbGUgbGluZSBvZiBzaW11bGNhc3RcIik7dGhpcy5hdHRyaWJ1dGVzLnNpbXVsY2FzdD1tLmF0dFZhbHVlLHRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZVRpbGwpO31wYXJzZVNjdHBQb3J0KG0pe3RoaXMuYXR0cmlidXRlcy5zY3RwUG9ydD10aGlzLmV4dHJhY3RPbmVPck1vcmUobSxsLFsxLDVdKTt9cGFyc2VNYXhNZXNzYWdlU2l6ZShtKXt0aGlzLmF0dHJpYnV0ZXMubWF4TWVzc2FnZVNpemU9dGhpcy5leHRyYWN0T25lT3JNb3JlKG0sbCxbMSx2b2lkIDBdKTt9ZGlnZXN0KCl7cmV0dXJuIHRoaXMuZGlnZXN0ZWQ9ITAsdGhpcy5hdHRyaWJ1dGVzfXBhcnNlTWlkKG0pe3RoaXMuYXR0cmlidXRlcy5taWQ9dGhpcy5leHRyYWN0KG0sdGhpcy5jb25zdW1lVG9rZW4pO31wYXJzZVNTUkNHcm91cChtKXtsZXQgST10aGlzLmV4dHJhY3QobSx0aGlzLmNvbnN1bWVUb2tlbikseT1bXTtmb3IoOzspdHJ5e3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKG0pO2xldCB4PXRoaXMuZXh0cmFjdChtLHRoaXMuY29uc3VtZUludGVnZXIpO3kucHVzaChwYXJzZUludCh4LDEwKSk7fWNhdGNoe2JyZWFrfXRoaXMuYXR0cmlidXRlcy5zc3JjR3JvdXBzLnB1c2goe3NlbWFudGljOkksc3NyY0lkczp5fSk7fX1mdW5jdGlvbiBEdChNLG0sSSl7cmV0dXJuIG0gaW4gTT9PYmplY3QuZGVmaW5lUHJvcGVydHkoTSxtLHt2YWx1ZTpJLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6TVttXT1JLE19Y2xhc3MgY2V7Y29uc3RydWN0b3IoKXtEdCh0aGlzLFwiZW9sXCIsYSk7fXByaW50KG0sSSl7bGV0IHk9XCJcIjtyZXR1cm4gSSYmKHRoaXMuZW9sPUkpLHkrPXRoaXMucHJpbnRWZXJzaW9uKG0udmVyc2lvbikseSs9dGhpcy5wcmludE9yaWdpbihtLm9yaWdpbikseSs9dGhpcy5wcmludFNlc3Npb25OYW1lKG0uc2Vzc2lvbk5hbWUpLHkrPXRoaXMucHJpbnRJbmZvcm1hdGlvbihtLmluZm9ybWF0aW9uKSx5Kz10aGlzLnByaW50VXJpKG0udXJpKSx5Kz10aGlzLnByaW50RW1haWwobS5lbWFpbHMpLHkrPXRoaXMucHJpbnRQaG9uZShtLnBob25lcykseSs9dGhpcy5wcmludENvbm5lY3Rpb24obS5jb25uZWN0aW9uKSx5Kz10aGlzLnByaW50QmFuZHdpZHRoKG0uYmFuZHdpZHRocykseSs9dGhpcy5wcmludFRpbWVGaWVsZHMobS50aW1lRmllbGRzKSx5Kz10aGlzLnByaW50S2V5KG0ua2V5KSx5Kz10aGlzLnByaW50U2Vzc2lvbkF0dHJpYnV0ZXMobS5hdHRyaWJ1dGVzKSx5Kz10aGlzLnByaW50TWVkaWFEZXNjcmlwdGlvbihtLm1lZGlhRGVzY3JpcHRpb25zKSx5fXByaW50VmVyc2lvbihtKXtyZXR1cm4gXCJ2PVwiLmNvbmNhdChtKS5jb25jYXQodGhpcy5lb2wpfXByaW50T3JpZ2luKG0pe3JldHVybiBcIm89XCIuY29uY2F0KG0udXNlcm5hbWUsXCIgXCIpLmNvbmNhdChtLnNlc3NJZCxcIiBcIikuY29uY2F0KG0uc2Vzc1ZlcnNpb24sXCIgXCIpLmNvbmNhdChtLm5ldHR5cGUsXCIgXCIpLmNvbmNhdChtLmFkZHJ0eXBlLFwiIFwiKS5jb25jYXQobS51bmljYXN0QWRkcmVzcykuY29uY2F0KHRoaXMuZW9sKX1wcmludFNlc3Npb25OYW1lKG0pe3JldHVybiBtP1wicz1cIi5jb25jYXQobSkuY29uY2F0KHRoaXMuZW9sKTpcIlwifXByaW50SW5mb3JtYXRpb24obSl7cmV0dXJuIG0/XCJpPVwiLmNvbmNhdChtKS5jb25jYXQodGhpcy5lb2wpOlwiXCJ9cHJpbnRVcmkobSl7cmV0dXJuIG0/XCJ1PVwiLmNvbmNhdChtKS5jb25jYXQodGhpcy5lb2wpOlwiXCJ9cHJpbnRFbWFpbChtKXtsZXQgST1cIlwiO2ZvcihsZXQgeSBvZiBtKUkrPVwiZT1cIi5jb25jYXQoeSkuY29uY2F0KHRoaXMuZW9sKTtyZXR1cm4gSX1wcmludFBob25lKG0pe2xldCBJPVwiXCI7Zm9yKGxldCB5IG9mIG0pSSs9XCJlPVwiLmNvbmNhdCh5KS5jb25jYXQodGhpcy5lb2wpO3JldHVybiBJfXByaW50Q29ubmVjdGlvbihtKXtyZXR1cm4gbT9cImM9XCIuY29uY2F0KG0ubmV0dHlwZSxcIiBcIikuY29uY2F0KG0uYWRkcnR5cGUsXCIgXCIpLmNvbmNhdChtLmFkZHJlc3MpLmNvbmNhdCh0aGlzLmVvbCk6XCJcIn1wcmludEJhbmR3aWR0aChtKXtsZXQgST1cIlwiO2ZvcihsZXQgeSBvZiBtKUkrPVwiYj1cIi5jb25jYXQoeS5id3R5cGUsXCI6XCIpLmNvbmNhdCh5LmJhbmR3aWR0aCkuY29uY2F0KHRoaXMuZW9sKTtyZXR1cm4gSX1wcmludFRpbWVGaWVsZHMobSl7bGV0IEk9XCJcIjtmb3IobGV0IHkgb2YgbSl7SSs9XCJ0PVwiLmNvbmNhdCh5LnRpbWUuc3RhcnRUaW1lLFwiIFwiKS5jb25jYXQoeS50aW1lLnN0YXJ0VGltZSkuY29uY2F0KHRoaXMuZW9sKTtmb3IobGV0IHggb2YgeS5yZXBlYXRzKUkrPVwicj1cIi5jb25jYXQoeC5yZXBlYXRJbnRlcnZhbCxcIiBcIikuY29uY2F0KHgudHlwZWRUaW1lcy5qb2luKFwiIFwiKSkuY29uY2F0KHRoaXMuZW9sKTt5LnpvbmVBZGp1c3RtZW50cyYmKEkrPVwiej1cIixJKz1cIno9XCIuY29uY2F0KHkuem9uZUFkanVzdG1lbnRzLm1hcCh4PT5cIlwiLmNvbmNhdCh4LnRpbWUsXCIgXCIpLmNvbmNhdCh4LmJhY2s/XCItXCI6XCJcIixcIiBcIikuY29uY2F0KHgudHlwZWRUaW1lKSkuam9pbihcIiBcIikpLmNvbmNhdCh0aGlzLmVvbCksSSs9dGhpcy5lb2wpO31yZXR1cm4gSX1wcmludEtleShtKXtyZXR1cm4gbT9cIms9XCIuY29uY2F0KG0pLmNvbmNhdCh0aGlzLmVvbCk6XCJcIn1wcmludEF0dHJpYnV0ZXMobSl7bGV0IEk9XCJcIjtmb3IobGV0IHkgb2YgbSlJKz1cImE9XCIuY29uY2F0KHkuYXR0RmllbGQpLmNvbmNhdCh5LmF0dFZhbHVlP1wiOlwiLmNvbmNhdCh5LmF0dFZhbHVlKTpcIlwiKS5jb25jYXQodGhpcy5lb2wpO3JldHVybiBJfXByaW50TWVkaWFEZXNjcmlwdGlvbihtKXtsZXQgST1cIlwiO2ZvcihsZXQgeSBvZiBtKUkrPXRoaXMucHJpbnRNZWRpYSh5Lm1lZGlhKSxJKz10aGlzLnByaW50SW5mb3JtYXRpb24oeS5pbmZvcm1hdGlvbiksSSs9dGhpcy5wcmludENvbm5lY3Rpb25zKHkuY29ubmVjdGlvbnMpLEkrPXRoaXMucHJpbnRCYW5kd2lkdGgoeS5iYW5kd2lkdGhzKSxJKz10aGlzLnByaW50S2V5KHkua2V5KSxJKz10aGlzLnByaW50TWVkaWFBdHRyaWJ1dGVzKHkpO3JldHVybiBJfXByaW50Q29ubmVjdGlvbnMobSl7bGV0IEk9XCJcIjtmb3IobGV0IHkgb2YgbSlJKz10aGlzLnByaW50Q29ubmVjdGlvbih5KTtyZXR1cm4gSX1wcmludE1lZGlhKG0pe3JldHVybiBcIm09XCIuY29uY2F0KG0ubWVkaWFUeXBlLFwiIFwiKS5jb25jYXQobS5wb3J0LFwiIFwiKS5jb25jYXQobS5wcm90b3Muam9pbihcIi9cIiksXCIgXCIpLmNvbmNhdChtLmZtdHMuam9pbihcIiBcIikpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRTZXNzaW9uQXR0cmlidXRlcyhtKXtyZXR1cm4gbmV3IHNpKHRoaXMuZW9sKS5wcmludChtKX1wcmludE1lZGlhQXR0cmlidXRlcyhtKXtyZXR1cm4gbmV3IEwodGhpcy5lb2wpLnByaW50KG0pfX1jbGFzcyBXdHtjb25zdHJ1Y3RvcihtKXtEdCh0aGlzLFwiZW9sXCIsdm9pZCAwKSx0aGlzLmVvbD1tO31wcmludEljZVVmcmFnKG0pe3JldHVybiBtPT09dm9pZCAwP1wiXCI6XCJhPWljZS11ZnJhZzpcIi5jb25jYXQobSkuY29uY2F0KHRoaXMuZW9sKX1wcmludEljZVB3ZChtKXtyZXR1cm4gbT09PXZvaWQgMD9cIlwiOlwiYT1pY2UtcHdkOlwiLmNvbmNhdChtKS5jb25jYXQodGhpcy5lb2wpfXByaW50SWNlT3B0aW9ucyhtKXtyZXR1cm4gbT09PXZvaWQgMD9cIlwiOlwiYT1pY2Utb3B0aW9uczpcIi5jb25jYXQobS5qb2luKGMpKS5jb25jYXQodGhpcy5lb2wpfXByaW50RmluZ2VycHJpbnRzKG0pe3JldHVybiBtLmxlbmd0aD4wP20ubWFwKEk9PlwiYT1maW5nZXJwcmludDpcIi5jb25jYXQoSS5oYXNoRnVuY3Rpb24pLmNvbmNhdChjKS5jb25jYXQoSS5maW5nZXJwcmludCkpLmpvaW4odGhpcy5lb2wpK3RoaXMuZW9sOlwiXCJ9cHJpbnRFeHRtYXAobSl7cmV0dXJuIG0ubWFwKEk9PlwiYT1leHRtYXA6XCIuY29uY2F0KEkuZW50cnkpLmNvbmNhdChJLmRpcmVjdGlvbj9cIi9cIi5jb25jYXQoSS5kaXJlY3Rpb24pOlwiXCIpLmNvbmNhdChjKS5jb25jYXQoSS5leHRlbnNpb25OYW1lKS5jb25jYXQoSS5leHRlbnNpb25BdHRyaWJ1dGVzP1wiXCIuY29uY2F0KGMpLmNvbmNhdChJLmV4dGVuc2lvbkF0dHJpYnV0ZXMpOlwiXCIpLmNvbmNhdCh0aGlzLmVvbCkpLmpvaW4oXCJcIil9cHJpbnRTZXR1cChtKXtyZXR1cm4gbT09PXZvaWQgMD9cIlwiOlwiYT1zZXR1cDpcIi5jb25jYXQobSkuY29uY2F0KHRoaXMuZW9sKX1wcmludFVucmVjb2duaXplZChtKXtyZXR1cm4gbS5tYXAoST0+XCJhPVwiLmNvbmNhdChJLmF0dEZpZWxkKS5jb25jYXQoSS5hdHRWYWx1ZT9cIjpcIi5jb25jYXQoSS5hdHRWYWx1ZSk6XCJcIikuY29uY2F0KHRoaXMuZW9sKSkuam9pbihcIlwiKX19Y2xhc3Mgc2kgZXh0ZW5kcyBXdHtwcmludChtKXtsZXQgST1cIlwiO3JldHVybiBJKz10aGlzLnByaW50R3JvdXBzKG0uZ3JvdXBzKSxJKz10aGlzLnByaW50TXNpZFNlbWFudGljKG0ubXNpZFNlbWFudGljKSxJKz10aGlzLnByaW50SWNlTGl0ZShtLmljZUxpdGUpLEkrPXRoaXMucHJpbnRJY2VVZnJhZyhtLmljZVVmcmFnKSxJKz10aGlzLnByaW50SWNlUHdkKG0uaWNlUHdkKSxJKz10aGlzLnByaW50SWNlT3B0aW9ucyhtLmljZU9wdGlvbnMpLEkrPXRoaXMucHJpbnRGaW5nZXJwcmludHMobS5maW5nZXJwcmludHMpLEkrPXRoaXMucHJpbnRTZXR1cChtLnNldHVwKSxJKz10aGlzLnByaW50VGxzSWQobS50bHNJZCksSSs9dGhpcy5wcmludElkZW50aXR5KG0uaWRlbnRpdGllcyksSSs9dGhpcy5wcmludEV4dG1hcChtLmV4dG1hcHMpLEkrPXRoaXMucHJpbnRVbnJlY29nbml6ZWQobS51bnJlY29nbml6ZWQpLEl9cHJpbnRHcm91cHMobSl7bGV0IEk9XCJcIjtyZXR1cm4gbS5sZW5ndGg+MCYmKEkrPW0ubWFwKHk9PlwiYT1ncm91cDpcIi5jb25jYXQoeS5zZW1hbnRpYykuY29uY2F0KHkuaWRlbnRpZmljYXRpb25UYWcubWFwKHg9PlwiXCIuY29uY2F0KGMpLmNvbmNhdCh4KSkuam9pbihcIlwiKSkuY29uY2F0KHRoaXMuZW9sKSkuam9pbihcIlwiKSksSX1wcmludEljZUxpdGUobSl7cmV0dXJuIG09PT12b2lkIDA/XCJcIjpcImE9aWNlLWxpdGVcIit0aGlzLmVvbH1wcmludFRsc0lkKG0pe3JldHVybiBtP1wiYT10bHMtaWQ6XCIuY29uY2F0KG0pLmNvbmNhdCh0aGlzLmVvbCk6XCJcIn1wcmludElkZW50aXR5KG0pe3JldHVybiBtLmxlbmd0aD09PTA/XCJcIjptLm1hcChJPT5cImE9aWRlbnRpdHk6XCIuY29uY2F0KEkuYXNzZXJ0aW9uVmFsdWUpLmNvbmNhdChJLmV4dGVuc2lvbnMubWFwKHk9PlwiXCIuY29uY2F0KGMpLmNvbmNhdCh5Lm5hbWUpLmNvbmNhdCh5LnZhbHVlP1wiPVwiLmNvbmNhdCh5LnZhbHVlKTpcIlwiKSkpKS5qb2luKHRoaXMuZW9sKSt0aGlzLmVvbH1wcmludE1zaWRTZW1hbnRpYyhtKXtpZighbSlyZXR1cm4gXCJcIjtsZXQgST1cImE9bXNpZC1zZW1hbnRpYzpcIi5jb25jYXQobS5zZW1hbnRpYyk7cmV0dXJuIG0uYXBwbHlGb3JBbGw/SSs9XCJcIi5jb25jYXQoYyxcIipcIik6bS5pZGVudGlmaWVyTGlzdC5sZW5ndGg+MCYmKEkrPW0uaWRlbnRpZmllckxpc3QubWFwKHk9PlwiXCIuY29uY2F0KGMpLmNvbmNhdCh5KSkpLEkrdGhpcy5lb2x9fWNsYXNzIEwgZXh0ZW5kcyBXdHtwcmludChtKXtsZXQgST1tLmF0dHJpYnV0ZXMseT1cIlwiO3JldHVybiB5Kz10aGlzLnByaW50UlRDUChJLnJ0Y3ApLHkrPXRoaXMucHJpbnRJY2VVZnJhZyhJLmljZVVmcmFnKSx5Kz10aGlzLnByaW50SWNlUHdkKEkuaWNlUHdkKSx5Kz10aGlzLnByaW50SWNlT3B0aW9ucyhJLmljZU9wdGlvbnMpLHkrPXRoaXMucHJpbnRDYW5kaWRhdGVzKEkuY2FuZGlkYXRlcykseSs9dGhpcy5wcmludFJlbW90ZUNhbmRpZGF0ZXNMaXN0KEkucmVtb3RlQ2FuZGlkYXRlc0xpc3QpLHkrPXRoaXMucHJpbnRFbmRPZkNhbmRpZGF0ZXMoSS5lbmRPZkNhbmRpZGF0ZXMpLHkrPXRoaXMucHJpbnRGaW5nZXJwcmludHMoSS5maW5nZXJwcmludHMpLHkrPXRoaXMucHJpbnRTZXR1cChJLnNldHVwKSx5Kz10aGlzLnByaW50TWlkKEkubWlkKSx5Kz10aGlzLnByaW50RXh0bWFwKEkuZXh0bWFwcykseSs9dGhpcy5wcmludFJUUFJlbGF0ZWQoSSkseSs9dGhpcy5wcmludFB0aW1lKEkucHRpbWUpLHkrPXRoaXMucHJpbnRNYXhQdGltZShJLm1heFB0aW1lKSx5Kz10aGlzLnByaW50RGlyZWN0aW9uKEkuZGlyZWN0aW9uKSx5Kz10aGlzLnByaW50U1NSQ0dyb3VwcyhJLnNzcmNHcm91cHMpLHkrPXRoaXMucHJpbnRTU1JDKEkuc3NyY3MpLHkrPXRoaXMucHJpbnRSVENQTXV4KEkucnRjcE11eCkseSs9dGhpcy5wcmludFJUQ1BNdXhPbmx5KEkucnRjcE11eE9ubHkpLHkrPXRoaXMucHJpbnRSVENQUnNpemUoSS5ydGNwUnNpemUpLHkrPXRoaXMucHJpbnRNU0lkKEkubXNpZHMpLHkrPXRoaXMucHJpbnRJbWFnZWF0dHIoSS5pbWFnZWF0dHIpLHkrPXRoaXMucHJpbnRSaWQoSS5yaWRzKSx5Kz10aGlzLnByaW50U2ltdWxjYXN0KEkuc2ltdWxjYXN0KSx5Kz10aGlzLnByaW50U0NUUFBvcnQoSS5zY3RwUG9ydCkseSs9dGhpcy5wcmludE1heE1lc3NhZ2VTaXplKEkubWF4TWVzc2FnZVNpemUpLHkrPXRoaXMucHJpbnRVbnJlY29nbml6ZWQoSS51bnJlY29nbml6ZWQpLHl9cHJpbnRDYW5kaWRhdGVzKG0pe3JldHVybiBtLm1hcChJPT5cImE9Y2FuZGlkYXRlOlwiLmNvbmNhdChJLmZvdW5kYXRpb24pLmNvbmNhdChjKS5jb25jYXQoSS5jb21wb25lbnRJZCkuY29uY2F0KGMpLmNvbmNhdChJLnRyYW5zcG9ydCkuY29uY2F0KGMpLmNvbmNhdChJLnByaW9yaXR5KS5jb25jYXQoYykuY29uY2F0KEkuY29ubmVjdGlvbkFkZHJlc3MpLmNvbmNhdChjKS5jb25jYXQoSS5wb3J0KS5jb25jYXQoYyxcInR5cFwiKS5jb25jYXQoYykuY29uY2F0KEkudHlwZSkuY29uY2F0KEkucmVsQWRkcj9cIlwiLmNvbmNhdChjLFwicmFkZHJcIikuY29uY2F0KGMpLmNvbmNhdChJLnJlbEFkZHIpOlwiXCIpLmNvbmNhdChJLnJlbFBvcnQ/XCJcIi5jb25jYXQoYyxcInJwb3J0XCIpLmNvbmNhdChjKS5jb25jYXQoSS5yZWxQb3J0KTpcIlwiKS5jb25jYXQoT2JqZWN0LmtleXMoSS5leHRlbnNpb24pLm1hcCh5PT5cIlwiLmNvbmNhdChjKS5jb25jYXQoeSkuY29uY2F0KGMpLmNvbmNhdChJLmV4dGVuc2lvblt5XSkpLmpvaW4oXCJcIikpLmNvbmNhdCh0aGlzLmVvbCkpLmpvaW4oXCJcIil9cHJpbnRSZW1vdGVDYW5kaWRhdGVzTGlzdChtKXtyZXR1cm4gbS5tYXAoST0+XCJhPXJlbW90ZS1jYW5kaWRhdGVzOlwiLmNvbmNhdChJLmpvaW4oYykpLmNvbmNhdCh0aGlzLmVvbCkpLmpvaW4oXCJcIil9cHJpbnRFbmRPZkNhbmRpZGF0ZXMobSl7cmV0dXJuIG09PT12b2lkIDA/XCJcIjpcImE9ZW5kLW9mLWNhbmRpZGF0ZXNcIit0aGlzLmVvbH1wcmludFJUUFJlbGF0ZWQobSl7aWYoIW0ucGF5bG9hZHMpcmV0dXJuIFwiXCI7bGV0IEk9bS5wYXlsb2Fkcyx5PVwiXCI7eSs9bS5ydGNwRmVlZGJhY2tXaWxkY2FyZHMubWFwKHg9PnRoaXMucHJpbnRSVENQRmVlZGJhY2soXCIqXCIseCkpLmpvaW4oXCJcIik7Zm9yKGxldCB4IG9mIEkpeSs9dGhpcy5wcmludFJ0cE1hcCh4LnBheWxvYWRUeXBlLHgucnRwTWFwKSx5Kz10aGlzLnByaW50Rm10cCh4LnBheWxvYWRUeXBlLHguZm10cCkseSs9eC5ydGNwRmVlZGJhY2tzLm1hcChydD0+dGhpcy5wcmludFJUQ1BGZWVkYmFjayh4LnBheWxvYWRUeXBlLHJ0KSkuam9pbihcIlwiKTtyZXR1cm4geX1wcmludEZtdHAobSxJKXtpZighSSlyZXR1cm4gXCJcIjtsZXQgeT1PYmplY3Qua2V5cyhJLnBhcmFtZXRlcnMpO3JldHVybiB5Lmxlbmd0aD09PTEmJkkucGFyYW1ldGVyc1t5WzBdXT09PW51bGw/XCJhPWZtdHA6XCIuY29uY2F0KG0pLmNvbmNhdChjKS5jb25jYXQoeVswXSkuY29uY2F0KHRoaXMuZW9sKTpcImE9Zm10cDpcIi5jb25jYXQobSkuY29uY2F0KGMpLmNvbmNhdChPYmplY3Qua2V5cyhJLnBhcmFtZXRlcnMpLm1hcCh4PT5cIlwiLmNvbmNhdCh4LFwiPVwiKS5jb25jYXQoSS5wYXJhbWV0ZXJzW3hdKSkuam9pbihcIjtcIikpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRSdHBNYXAobSxJKXtyZXR1cm4gST9cImE9cnRwbWFwOlwiLmNvbmNhdChtKS5jb25jYXQoYykuY29uY2F0KEkuZW5jb2RpbmdOYW1lLFwiL1wiKS5jb25jYXQoSS5jbG9ja1JhdGUpLmNvbmNhdChJLmVuY29kaW5nUGFyYW1ldGVycz9cIi9cIi5jb25jYXQoSS5lbmNvZGluZ1BhcmFtZXRlcnMpOlwiXCIpLmNvbmNhdCh0aGlzLmVvbCk6XCJcIn1wcmludFJUQ1BGZWVkYmFjayhtLEkpe2xldCB5PVwiYT1ydGNwLWZiOlwiLmNvbmNhdChtKS5jb25jYXQoYykseD1JO3JldHVybiB4LnR5cGU9PT1cInRyci1pbnRcIj95Kz1cInR0ci1pbnRcIi5jb25jYXQoYykuY29uY2F0KHguaW50ZXJ2YWwpOih5Kz1cIlwiLmNvbmNhdCh4LnR5cGUpLHgucGFyYW1ldGVyJiYoeSs9XCJcIi5jb25jYXQoYykuY29uY2F0KHgucGFyYW1ldGVyKSx4LmFkZGl0aW9uYWwmJih5Kz1cIlwiLmNvbmNhdChjKS5jb25jYXQoeC5hZGRpdGlvbmFsKSkpKSx5K3RoaXMuZW9sfXByaW50UHRpbWUobSl7cmV0dXJuIG09PT12b2lkIDA/XCJcIjpcImE9cHRpbWU6XCIuY29uY2F0KG0pLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRNYXhQdGltZShtKXtyZXR1cm4gbT09PXZvaWQgMD9cIlwiOlwiYT1tYXhwdGltZTpcIi5jb25jYXQobSkuY29uY2F0KHRoaXMuZW9sKX1wcmludERpcmVjdGlvbihtKXtyZXR1cm4gbT09PXZvaWQgMD9cIlwiOlwiYT1cIi5jb25jYXQobSkuY29uY2F0KHRoaXMuZW9sKX1wcmludFNTUkMobSl7cmV0dXJuIG0ubWFwKEk9Pk9iamVjdC5rZXlzKEkuYXR0cmlidXRlcykubWFwKHk9PlwiYT1zc3JjOlwiLmNvbmNhdChJLnNzcmNJZC50b1N0cmluZygxMCkpLmNvbmNhdChjKS5jb25jYXQoeSkuY29uY2F0KEkuYXR0cmlidXRlc1t5XT9cIjpcIi5jb25jYXQoSS5hdHRyaWJ1dGVzW3ldKTpcIlwiKS5jb25jYXQodGhpcy5lb2wpKS5qb2luKFwiXCIpKS5qb2luKFwiXCIpfXByaW50UlRDUE11eChtKXtyZXR1cm4gbT09PXZvaWQgMD9cIlwiOlwiYT1ydGNwLW11eFwiLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRSVENQTXV4T25seShtKXtyZXR1cm4gbT09PXZvaWQgMD9cIlwiOlwiYT1ydGNwLW11eC1vbmx5XCIuY29uY2F0KHRoaXMuZW9sKX1wcmludFJUQ1BSc2l6ZShtKXtyZXR1cm4gbT09PXZvaWQgMD9cIlwiOlwiYT1ydGNwLXJzaXplXCIuY29uY2F0KHRoaXMuZW9sKX1wcmludFJUQ1AobSl7aWYobT09PXZvaWQgMClyZXR1cm4gXCJcIjtsZXQgST1cImE9cnRjcDpcIi5jb25jYXQobS5wb3J0KTtyZXR1cm4gbS5uZXRUeXBlJiYoSSs9XCJcIi5jb25jYXQoYykuY29uY2F0KG0ubmV0VHlwZSkpLG0uYWRkcmVzc1R5cGUmJihJKz1cIlwiLmNvbmNhdChjKS5jb25jYXQobS5hZGRyZXNzVHlwZSkpLG0uYWRkcmVzcyYmKEkrPVwiXCIuY29uY2F0KGMpLmNvbmNhdChtLmFkZHJlc3MpKSxJK3RoaXMuZW9sfXByaW50TVNJZChtKXtyZXR1cm4gbS5tYXAoST0+XCJhPW1zaWQ6XCIuY29uY2F0KEkuaWQpLmNvbmNhdChJLmFwcGRhdGE/XCJcIi5jb25jYXQoYykuY29uY2F0KEkuYXBwZGF0YSk6XCJcIikuY29uY2F0KHRoaXMuZW9sKSkuam9pbihcIlwiKX1wcmludEltYWdlYXR0cihtKXtyZXR1cm4gbS5tYXAoST0+XCJhPWltYWdlYXR0cjpcIi5jb25jYXQoSSkuY29uY2F0KHRoaXMuZW9sKSkuam9pbihcIlwiKX1wcmludFJpZChtKXtyZXR1cm4gbS5tYXAoST0+e2xldCB5PVwiYT1yaWQ6XCIuY29uY2F0KEkuaWQpLmNvbmNhdChjKS5jb25jYXQoSS5kaXJlY3Rpb24pO3JldHVybiBJLnBheWxvYWRzJiYoeSs9XCJcIi5jb25jYXQoYyxcInB0PVwiKS5jb25jYXQoSS5wYXlsb2Fkcy5qb2luKFwiLFwiKSkpLEkucGFyYW1zLmxlbmd0aD4wJiYoeSs9XCJcIi5jb25jYXQoYykuY29uY2F0KEkucGFyYW1zLm1hcCh4PT54LnR5cGU9PT1cImRlcGVuZFwiP1wiZGVwZW5kPVwiLmNvbmNhdCh4LnJpZHMuam9pbihcIixcIikpOlwiXCIuY29uY2F0KHgudHlwZSxcIj1cIikuY29uY2F0KHgudmFsKSkuam9pbihcIjtcIikpKSx5K3RoaXMuZW9sfSkuam9pbihcIlwiKX1wcmludFNpbXVsY2FzdChtKXtyZXR1cm4gbT09PXZvaWQgMD9cIlwiOlwiYT1zaW11bGNhc3Q6XCIuY29uY2F0KG0pLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRTQ1RQUG9ydChtKXtyZXR1cm4gbT09PXZvaWQgMD9cIlwiOlwiYT1zY3RwLXBvcnQ6XCIuY29uY2F0KG0pLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRNYXhNZXNzYWdlU2l6ZShtKXtyZXR1cm4gbT09PXZvaWQgMD9cIlwiOlwiYT1tYXgtbWVzc2FnZS1zaXplOlwiLmNvbmNhdChtKS5jb25jYXQodGhpcy5lb2wpfXByaW50TWlkKG0pe3JldHVybiBtPT09dm9pZCAwP1wiXCI6XCJhPW1pZDpcIi5jb25jYXQobSkuY29uY2F0KHRoaXMuZW9sKX1wcmludFNTUkNHcm91cHMobSl7cmV0dXJuIG0ubWFwKEk9PlwiYT1zc3JjLWdyb3VwOlwiLmNvbmNhdChJLnNlbWFudGljKS5jb25jYXQoSS5zc3JjSWRzLm1hcCh5PT5cIlwiLmNvbmNhdChjKS5jb25jYXQoeS50b1N0cmluZygxMCkpKS5qb2luKFwiXCIpKS5jb25jYXQodGhpcy5lb2wpKS5qb2luKFwiXCIpfX1mdW5jdGlvbiBGKE0pe3JldHVybiBuZXcgVigpLnBhcnNlKE0pfWZ1bmN0aW9uIFkoTSxtKXtyZXR1cm4gbmV3IGNlKCkucHJpbnQoTSxtKX19fSxlPXt9O2Z1bmN0aW9uIG4oaSl7aWYoZVtpXSlyZXR1cm4gZVtpXS5leHBvcnRzO3ZhciByPWVbaV09e2V4cG9ydHM6e319O3JldHVybiB0W2ldKHIsci5leHBvcnRzLG4pLHIuZXhwb3J0c31yZXR1cm4gbi5kPShpLHIpPT57Zm9yKHZhciBvIGluIHIpbi5vKHIsbykmJiFuLm8oaSxvKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGksbyx7ZW51bWVyYWJsZTohMCxnZXQ6cltvXX0pO30sbi5vPShpLHIpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxyKSxuLnI9aT0+e3R5cGVvZiBTeW1ib2w8XCJ1XCImJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGksU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7fSxuKDgpfSkoKTt2YXIgTGU9ZTAuZXhwb3J0cztmdW5jdGlvbiAkRSgpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTp2KFwiU1ZDX01PREVcIik7aWYodihcIkVOQUJMRV9TVkNcIikpcmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlIGluIHhFfSh0KT90OnhFLkwxVDN9ZnVuY3Rpb24gS0kodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59ZnVuY3Rpb24gWUkodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdIT1udWxsP2FyZ3VtZW50c1tlXTp7fTtlJTI/S0koT2JqZWN0KG4pLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe1QodCxpLG5baV0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOktJKE9iamVjdChuKSkuZm9yRWFjaChmdW5jdGlvbihpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixpKSk7fSk7fXJldHVybiB0fWZ1bmN0aW9uIExjKHQpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fSxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dm9pZCAwP2FyZ3VtZW50c1syXTp7fSxpPWFyZ3VtZW50cy5sZW5ndGg+Mz9hcmd1bWVudHNbM106dm9pZCAwLHtmaWx0ZXJSVFg6cixmaWx0ZXJWaWRlb0ZlYzpvLGZpbHRlckF1ZGlvRmVjOnMsZmlsdGVyQXVkaW9Db2RlYzphLGZpbHRlclZpZGVvQ29kZWM6Y309ZSx7dXNlWFI6ZH09bixsPVtdLHU9W10saD1bXSxwPVtdLGc9ITEsRT0hMTtpZihMZS5wYXJzZSh0KS5tZWRpYURlc2NyaXB0aW9ucy5mb3JFYWNoKFM9PntpJiZpIT09Uy5hdHRyaWJ1dGVzLmRpcmVjdGlvbnx8KFMubWVkaWEubWVkaWFUeXBlIT09XCJ2aWRlb1wifHxnfHwodT1TLmF0dHJpYnV0ZXMucGF5bG9hZHMscD1TLmF0dHJpYnV0ZXMuZXh0bWFwcyxnPSEwKSxTLm1lZGlhLm1lZGlhVHlwZSE9PVwiYXVkaW9cInx8RXx8KGw9Uy5hdHRyaWJ1dGVzLnBheWxvYWRzLGg9Uy5hdHRyaWJ1dGVzLmV4dG1hcHMsRT0hMCkpO30pLCFwfHx1Lmxlbmd0aD09PTApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCB2aWRlbyBjYXBhYmlsaXRpZXMgZnJvbSBTRFAuXCIpO2lmKCFofHxsLmxlbmd0aD09PTApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBhdWRpbyBjYXBhYmlsaXRpZXMgZnJvbSBTRFAuXCIpO2lmKHUuZm9yRWFjaChTPT57dmFyIEM7KEM9Uy5ydHBNYXApIT09bnVsbCYmQyE9PXZvaWQgMCYmQy5jbG9ja1JhdGUmJihTLnJ0cE1hcC5jbG9ja1JhdGU9cGFyc2VJbnQoUy5ydHBNYXAuY2xvY2tSYXRlKSksZCYmUy5ydGNwRmVlZGJhY2tzLnB1c2goe3R5cGU6XCJycnRyXCJ9KTt9KSxsLmZvckVhY2goUz0+e3ZhciBDOyhDPVMucnRwTWFwKSE9PW51bGwmJkMhPT12b2lkIDAmJkMuY2xvY2tSYXRlJiYoUy5ydHBNYXAuY2xvY2tSYXRlPXBhcnNlSW50KFMucnRwTWFwLmNsb2NrUmF0ZSkpLGQmJlMucnRjcEZlZWRiYWNrcy5wdXNoKHt0eXBlOlwicnJ0clwifSk7fSksciYmKGw9bC5maWx0ZXIoUz0+e3ZhciBDO3JldHVybiAoKEM9Uy5ydHBNYXApPT09bnVsbHx8Qz09PXZvaWQgMD92b2lkIDA6Qy5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSkhPT1cInJ0eFwifSksdT11LmZpbHRlcihTPT57dmFyIEM7cmV0dXJuICgoQz1TLnJ0cE1hcCk9PT1udWxsfHxDPT09dm9pZCAwP3ZvaWQgMDpDLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKSE9PVwicnR4XCJ9KSksbyYmKHU9dS5maWx0ZXIoUz0+e3ZhciBDO3JldHVybiAhLyhyZWQpfCh1bHBmZWMpfChmbGV4ZmVjKS9pLnRlc3QoKChDPVMucnRwTWFwKT09PW51bGx8fEM9PT12b2lkIDA/dm9pZCAwOkMuZW5jb2RpbmdOYW1lKXx8XCJcIil9KSkscyYmKGw9bC5maWx0ZXIoUz0+e3ZhciBDO3JldHVybiAhLyhyZWQpfCh1bHBmZWMpfChmbGV4ZmVjKS9pLnRlc3QoKChDPVMucnRwTWFwKT09PW51bGx8fEM9PT12b2lkIDA/dm9pZCAwOkMuZW5jb2RpbmdOYW1lKXx8XCJcIil9KSksYSYmYT8ubGVuZ3RoPjAmJihsPWwuZmlsdGVyKFM9Pnt2YXIgQztyZXR1cm4gVyhhKS5jYWxsKGEsKChDPVMucnRwTWFwKT09PW51bGx8fEM9PT12b2lkIDA/dm9pZCAwOkMuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpfHxcIlwiKX0pKSxjJiZjPy5sZW5ndGg+MCl7bGV0IFM9dS5maWx0ZXIoQz0+e3ZhciBBO3JldHVybiBXKGMpLmNhbGwoYywoKEE9Qy5ydHBNYXApPT09bnVsbHx8QT09PXZvaWQgMD92b2lkIDA6QS5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSl8fFwiXCIpfSk7dT1TLmNvbmNhdChyP1tdOnlmKFMsdSkpO31sZXQgZj12KFwiVU5TVVBQT1JURURfVklERU9fQ09ERUNcIik7cmV0dXJuIGYmJmYubGVuZ3RoPjAmJih1PXUuZmlsdGVyKFM9PiEoUy5ydHBNYXAmJlcoZikuY2FsbChmLFMucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKSkpKSx7YXVkaW9Db2RlY3M6bCx2aWRlb0NvZGVjczp1LGF1ZGlvRXh0ZW5zaW9uczpoLHZpZGVvRXh0ZW5zaW9uczpwfX1mdW5jdGlvbiBpbyh0KXtsZXQgZT1MZS5wYXJzZSh0KSxuLGk7Zm9yKGxldCByIG9mIGUubWVkaWFEZXNjcmlwdGlvbnMpe2lmKCFuKXtsZXQgbz1yLmF0dHJpYnV0ZXMuaWNlVWZyYWcscz1yLmF0dHJpYnV0ZXMuaWNlUHdkO2lmKCFvfHwhcyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGljZVVmcmFnIG9yIGljZVB3ZCBmcm9tIFNEUC5cIik7bj17aWNlVWZyYWc6byxpY2VQd2Q6c307fWlmKCFpKXtsZXQgbz1yLmF0dHJpYnV0ZXMuZmluZ2VycHJpbnRzO28ubGVuZ3RoPjAmJihpPXtmaW5nZXJwcmludHM6b30pO319aWYoIWkmJmUuYXR0cmlidXRlcy5maW5nZXJwcmludHMubGVuZ3RoPjAmJihpPXtmaW5nZXJwcmludHM6ZS5hdHRyaWJ1dGVzLmZpbmdlcnByaW50c30pLCFpfHwhbil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGljZVBhcmFtZXRlcnMgb3IgZHRsc1BhcmFtZXRlcnMgZnJvbSBTRFAuXCIpO3JldHVybiB7aWNlUGFyYW1ldGVyczpuLGR0bHNQYXJhbWV0ZXJzOml9fWZ1bmN0aW9uIG4wKHQsZSl7bGV0IG49W10saT10LmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcy5maWx0ZXIocz0+cy5zZW1hbnRpYz09PVwiRklEXCIpLHI9dC5hdHRyaWJ1dGVzLnNzcmNHcm91cHMuZmluZChzPT5zLnNlbWFudGljPT09XCJTSU1cIiksbz10LmF0dHJpYnV0ZXMuc3NyY3M7aWYocilyLnNzcmNJZHMuZm9yRWFjaChzPT57dmFyIGE7bGV0IGM9KGE9aS5maW5kKGQ9PmQuc3NyY0lkc1swXT09PXMpKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEuc3NyY0lkc1sxXTtuLnB1c2goe3NzcmNJZDpzLHJ0eDplP2M6dm9pZCAwfSk7fSk7ZWxzZSBpZihpLmxlbmd0aD4wKXtsZXQgcz1pWzBdLnNzcmNJZHNbMF0sYT1pWzBdLnNzcmNJZHNbMV07bi5wdXNoKHtzc3JjSWQ6cyxydHg6ZT9hOnZvaWQgMH0pO31lbHNlIHtpZihvLmxlbmd0aD09PTApdGhyb3cgbmV3IEVycm9yKFwiTm8gc3NyY3MgZm91bmQgb24gbG9jYWwgbWVkaWEgZGVzY3JpcHRpb24uXCIpO24ucHVzaCh7c3NyY0lkOm9bMF0uc3NyY0lkfSk7fXJldHVybiBufWZ1bmN0aW9uIHFJKHQsZSxuKXtsZXR7Y25hbWU6aX09dCxyO2U/cj1pMChlKToocj10LmljZVBhcmFtZXRlcnMuY2FuZGlkYXRlcy5tYXAobD0+KHtmb3VuZGF0aW9uOmwuZm91bmRhdGlvbixjb21wb25lbnRJZDpcIjFcIix0cmFuc3BvcnQ6bC5wcm90b2NvbCxwcmlvcml0eTpsLnByaW9yaXR5LnRvU3RyaW5nKCksY29ubmVjdGlvbkFkZHJlc3M6bC5pcCxwb3J0OmwucG9ydC50b1N0cmluZygpLHR5cGU6bC50eXBlLGV4dGVuc2lvbjp7fX0pKSxfLmRlYnVnKFwiVXNpbmcgY2FuZGlkYXRlcyBmcm9tIGdhdGV3YXkuXCIpKTtsZXQgbz17ZmluZ2VycHJpbnRzOnQuZHRsc1BhcmFtZXRlcnMuZmluZ2VycHJpbnRzLm1hcChsPT4oe2hhc2hGdW5jdGlvbjpsLmFsZ29yaXRobSxmaW5nZXJwcmludDpsLmZpbmdlcnByaW50fSkpfSxzPXtpY2VVZnJhZzp0LmljZVBhcmFtZXRlcnMuaWNlVWZyYWcsaWNlUHdkOnQuaWNlUGFyYW1ldGVycy5pY2VQd2R9LGE7c3dpdGNoKHQuZHRsc1BhcmFtZXRlcnMucm9sZSl7Y2FzZVwic2VydmVyXCI6YT1cInBhc3NpdmVcIjticmVhaztjYXNlXCJjbGllbnRcIjphPVwiYWN0aXZlXCI7YnJlYWs7Y2FzZVwiYXV0b1wiOmE9XCJhY3RwYXNzXCI7fWxldCBjPXV1KHQucnRwQ2FwYWJpbGl0aWVzKSxkPVtdO3JldHVybiBBcnJheS5pc0FycmF5KG4pJiZuLmxlbmd0aD4wJiZuLmZvckVhY2gobD0+e2QucHVzaCh7a2luZDpRLlZJREVPLHNzcmNJZDpsLnYscnR4Omwudl9ydHgsbXNsYWJlbDpcIlwiLmNvbmNhdChsLnYsXCJfXCIpLmNvbmNhdChsLmEpfSx7a2luZDpRLkFVRElPLHNzcmNJZDpsLmEsbXNsYWJlbDpcIlwiLmNvbmNhdChsLnYsXCJfXCIpLmNvbmNhdChsLmEpfSk7fSkse2R0bHNQYXJhbWV0ZXJzOm8saWNlUGFyYW1ldGVyczpzLGNhbmRpZGF0ZXM6cixydHBDYXBhYmlsaXRpZXM6YyxzZXR1cDphLGNuYW1lOmkscHJlU1NSQ3M6ZH19ZnVuY3Rpb24gaTAodCl7bGV0IGU9W107cmV0dXJuIHQuaXAmJnR5cGVvZiB0LnBvcnQ9PVwibnVtYmVyXCImJihlPVt7Zm91bmRhdGlvbjpcInVkcGNhbmRpZGF0ZVwiLGNvbXBvbmVudElkOlwiMVwiLHRyYW5zcG9ydDpcInVkcFwiLHByaW9yaXR5OlwiMjEwMzI2NjMyM1wiLGNvbm5lY3Rpb25BZGRyZXNzOnQuaXAscG9ydDp0LnBvcnQudG9TdHJpbmcoKSx0eXBlOlwiaG9zdFwiLGV4dGVuc2lvbjp7fX1dLF8uZGVidWcoXCJVc2luZyByZW1vdGUgY2FuZGlkYXRlIGZyb20gQVAgXCIuY29uY2F0KHQuaXAsXCI6XCIpLmNvbmNhdCh0LnBvcnQpKSx0LmlwNiYmKGUucHVzaCh7Zm91bmRhdGlvbjpcInVkcGNhbmRpZGF0ZVwiLGNvbXBvbmVudElkOlwiMVwiLHRyYW5zcG9ydDpcInVkcFwiLHByaW9yaXR5OlwiMjEwMzI2NjMyM1wiLGNvbm5lY3Rpb25BZGRyZXNzOnQuaXA2LHBvcnQ6dC5wb3J0LnRvU3RyaW5nKCksdHlwZTpcImhvc3RcIixleHRlbnNpb246e319KSxfLmRlYnVnKFwiVXNpbmcgSVBWNiByZW1vdGUgY2FuZGlkYXRlIGZyb20gQVAgXCIuY29uY2F0KHQuaXA2LFwiOlwiKS5jb25jYXQodC5wb3J0KSkpKSxlfWZ1bmN0aW9uIExvKHQsZSxuKXtsZXQgaT1bXSxyPVtdO3JldHVybiB0LmZvckVhY2gobz0+e2xldHtzc3JjSWQ6cyxydHg6YX09byxjPVV0KDgsXCJ0cmFjay1cIiksZD17c3NyY0lkOnMsYXR0cmlidXRlczpZSSh7bGFiZWw6Yyxtc2xhYmVsOm49bnx8VXQoMTAsXCJcIiksbXNpZDpcIlwiLmNvbmNhdChuLFwiIFwiKS5jb25jYXQoYyl9LGUmJntjbmFtZTplfSl9O2lmKGkucHVzaChkKSxhIT09dm9pZCAwKXtsZXQgbD17c3NyY0lkOmEsYXR0cmlidXRlczpZSSh7bGFiZWw6Yyxtc2xhYmVsOm4sbXNpZDpcIlwiLmNvbmNhdChuLFwiIFwiKS5jb25jYXQoYyl9LGUmJntjbmFtZTplfSl9O2kucHVzaChsKSxyLnB1c2goe3NlbWFudGljOlwiRklEXCIsc3NyY0lkczpbcyxhXX0pO319KSx0Lmxlbmd0aD4xJiZyLnB1c2goe3NlbWFudGljOlwiU0lNXCIsc3NyY0lkczp0Lm1hcChvPT57bGV0e3NzcmNJZDpzfT1vO3JldHVybiBzfSl9KSx7c3NyY3M6aSxzc3JjR3JvdXBzOnJ9fWZ1bmN0aW9uIHJhKHQsZSl7ZSBpbnN0YW5jZW9mIFF0JiZ0LmF0dHJpYnV0ZXMucGF5bG9hZHMuZm9yRWFjaChuPT57dmFyIGk7bGV0IHI9KGk9bi5ydHBNYXApPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKTtpZighcnx8W1wib3B1c1wiLFwicGNtdVwiLFwicGNtYVwiLFwiZzcyMlwiXS5pbmRleE9mKHIpPT09LTEpcmV0dXJuO24uZm10cHx8KG4uZm10cD17cGFyYW1ldGVyczp7fX0pLG4uZm10cC5wYXJhbWV0ZXJzLm1pbnB0aW1lPVwiMTBcIixuLmZtdHAucGFyYW1ldGVycy51c2VpbmJhbmRmZWM9XCIxXCI7bGV0IG89ZS5fZW5jb2RlckNvbmZpZztvJiZyIT09XCJwY211XCImJnIhPT1cInBjbWFcIiYmciE9PVwiZzcyMlwiJiYoby5iaXRyYXRlJiYhJHQoKSYmKG4uZm10cC5wYXJhbWV0ZXJzLm1heGF2ZXJhZ2ViaXRyYXRlPVwiXCIuY29uY2F0KE1hdGguZmxvb3IoMWUzKm8uYml0cmF0ZSkpKSxvLnNhbXBsZVJhdGUmJihuLmZtdHAucGFyYW1ldGVycy5tYXhwbGF5YmFja3JhdGU9XCJcIi5jb25jYXQoby5zYW1wbGVSYXRlKSxuLmZtdHAucGFyYW1ldGVyc1tcInNwcm9wLW1heGNhcHR1cmVyYXRlXCJdPVwiXCIuY29uY2F0KG8uc2FtcGxlUmF0ZSkpLG8uc3RlcmVvJiYobi5mbXRwLnBhcmFtZXRlcnMuc3RlcmVvPVwiMVwiLG4uZm10cC5wYXJhbWV0ZXJzW1wic3Byb3Atc3RlcmVvXCJdPVwiMVwiKSk7fSk7fWZ1bmN0aW9uIElmKHQpe2xldCBlPXQuYXR0cmlidXRlcy51bnJlY29nbml6ZWQuZmluZEluZGV4KG49Pm4uYXR0RmllbGQ9PT1cIngtZ29vZ2xlLWZsYWdcIiYmbi5hdHRWYWx1ZT09PVwiY29uZmVyZW5jZVwiKTtlIT09LTEmJnQuYXR0cmlidXRlcy51bnJlY29nbml6ZWQuc3BsaWNlKGUsMSk7fWZ1bmN0aW9uIHZmKHQsZSl7dmFyIG47aWYoIShlIGluc3RhbmNlb2YgRnQmJmUuX2VuY29kZXJDb25maWcmJmUuX2hpbnRzLmluZGV4T2YoR3QuU0NSRUVOX1RSQUNLKT09PS0xKSlyZXR1cm47bGV0IGk9ZS5fZW5jb2RlckNvbmZpZztmdCgpLnN1cHBvcnRNaW5CaXRyYXRlJiZpLmJpdHJhdGVNaW4mJnQuYXR0cmlidXRlcy5wYXlsb2Fkcy5mb3JFYWNoKHI9Pnt2YXIgbyxzO1cobz1bXCJoMjY0XCIsXCJoMjY1XCIsXCJ2cDhcIixcInZwOVwiLFwiYXYxXCJdKS5jYWxsKG8sKChzPXIucnRwTWFwKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpfHxcIlwiKSYmKHIuZm10cHx8KHIuZm10cD17cGFyYW1ldGVyczp7fX0pLHIuZm10cC5wYXJhbWV0ZXJzW1wieC1nb29nbGUtbWluLWJpdHJhdGVcIl09XCJcIi5jb25jYXQoaS5iaXRyYXRlTWluKSk7fSksZnQoKS5zdXBwb3J0TWluQml0cmF0ZSYmIVcobj1lLl9oaW50cykuY2FsbChuLEd0LkxPV19TVFJFQU0pJiZpLmJpdHJhdGVNYXgmJnQuYXR0cmlidXRlcy5wYXlsb2Fkcy5mb3JFYWNoKHI9Pnt2YXIgbyxzO1cobz1bXCJoMjY0XCIsXCJoMjY1XCIsXCJ2cDhcIixcInZwOVwiLFwiYXYxXCJdKS5jYWxsKG8sKChzPXIucnRwTWFwKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpfHxcIlwiKSYmKHIuZm10cHx8KHIuZm10cD17cGFyYW1ldGVyczp7fX0pLHIuZm10cC5wYXJhbWV0ZXJzW1wieC1nb29nbGUtc3RhcnQtYml0cmF0ZVwiXT1cIlwiLmNvbmNhdCh2KFwiWF9HT09HTEVfU1RBUlRfQklUUkFURVwiKXx8TWF0aC5mbG9vcihpLmJpdHJhdGVNYXgpKSk7fSk7fWZ1bmN0aW9uIHIwKHQpe2lmKHQubWVkaWEubWVkaWFUeXBlIT09XCJ2aWRlb1wiKXJldHVybjtsZXQgZT1tdCgpO2lmKGUubmFtZSE9PUl0LlNBRkFSSSYmZS5vcyE9PXllLklPUylyZXR1cm47bGV0IG49dC5hdHRyaWJ1dGVzLmV4dG1hcHMuZmluZEluZGV4KGk9Pi92aWRlby1vcmllbnRhdGlvbi9nLnRlc3QoaS5leHRlbnNpb25OYW1lKSk7biE9PS0xJiZ0LmF0dHJpYnV0ZXMuZXh0bWFwcy5zcGxpY2UobiwxKTt9ZnVuY3Rpb24gbHUodCxlLG4pe2lmKCFlKXJldHVybjtsZXQgaSxyO2lmKHQubWVkaWEubWVkaWFUeXBlPT09XCJ2aWRlb1wiPyhpPW4udmlkZW9FeHRlbnNpb25zLHI9bi52aWRlb0NvZGVjcyk6KGk9bi5hdWRpb0V4dGVuc2lvbnMscj1uLmF1ZGlvQ29kZWNzKSxlLnR3Y2M9PT0hMCl7bGV0IG89aS5maW5kKHM9PnMuZXh0ZW5zaW9uTmFtZT09PVwiaHR0cDovL3d3dy5pZXRmLm9yZy9pZC9kcmFmdC1ob2xtZXItcm1jYXQtdHJhbnNwb3J0LXdpZGUtY2MtZXh0ZW5zaW9ucy0wMVwiKTtvJiYodC5hdHRyaWJ1dGVzLmV4dG1hcHMuZmluZChhPT5hLmV4dGVuc2lvbk5hbWU9PT1cImh0dHA6Ly93d3cuaWV0Zi5vcmcvaWQvZHJhZnQtaG9sbWVyLXJtY2F0LXRyYW5zcG9ydC13aWRlLWNjLWV4dGVuc2lvbnMtMDFcIil8fHQuYXR0cmlidXRlcy5leHRtYXBzLnB1c2goe2VudHJ5Om8uZW50cnksZXh0ZW5zaW9uTmFtZTpcImh0dHA6Ly93d3cuaWV0Zi5vcmcvaWQvZHJhZnQtaG9sbWVyLXJtY2F0LXRyYW5zcG9ydC13aWRlLWNjLWV4dGVuc2lvbnMtMDFcIn0pLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGMuZmlsdGVyKGQ9PiEhYS5maW5kKGw9PmwucGF5bG9hZFR5cGU9PT1kLnBheWxvYWRUeXBlJiYhIWwucnRjcEZlZWRiYWNrcy5maW5kKHU9PnUudHlwZT09PVwidHJhbnNwb3J0LWNjXCIpKSl9KHIsdC5hdHRyaWJ1dGVzLnBheWxvYWRzKS5mb3JFYWNoKGE9PnthLnJ0Y3BGZWVkYmFja3MuZmluZChjPT5jLnR5cGU9PT1cInRyYW5zcG9ydC1jY1wiKXx8YS5ydGNwRmVlZGJhY2tzLnB1c2goe3R5cGU6XCJ0cmFuc3BvcnQtY2NcIn0pO30pKTt9ZWxzZSBpZihlLnR3Y2M9PT0hMSl7bGV0IG89dC5hdHRyaWJ1dGVzLmV4dG1hcHMuZmluZEluZGV4KHM9PnMuZXh0ZW5zaW9uTmFtZT09PVwiaHR0cDovL3d3dy5pZXRmLm9yZy9pZC9kcmFmdC1ob2xtZXItcm1jYXQtdHJhbnNwb3J0LXdpZGUtY2MtZXh0ZW5zaW9ucy0wMVwiKTtvIT09LTEmJnQuYXR0cmlidXRlcy5leHRtYXBzLnNwbGljZShvLDEpLHQuYXR0cmlidXRlcy5wYXlsb2Fkcy5mb3JFYWNoKHM9PntsZXQgYT1zLnJ0Y3BGZWVkYmFja3MuZmluZEluZGV4KGM9PmMudHlwZT09PVwidHJhbnNwb3J0LWNjXCIpO2EhPT0tMSYmcy5ydGNwRmVlZGJhY2tzLnNwbGljZShhLDEpO30pO31pZihlLnJlbWI9PT0hMCl7bGV0IG89aS5maW5kKHM9PnMuZXh0ZW5zaW9uTmFtZT09PVwiaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvYWJzLXNlbmQtdGltZVwiKTtvJiYodC5hdHRyaWJ1dGVzLmV4dG1hcHMuZmluZChhPT5hLmV4dGVuc2lvbk5hbWU9PT1cImh0dHA6Ly93d3cud2VicnRjLm9yZy9leHBlcmltZW50cy9ydHAtaGRyZXh0L2Ficy1zZW5kLXRpbWVcIil8fHQuYXR0cmlidXRlcy5leHRtYXBzLnB1c2goe2VudHJ5Om8uZW50cnksZXh0ZW5zaW9uTmFtZTpcImh0dHA6Ly93d3cud2VicnRjLm9yZy9leHBlcmltZW50cy9ydHAtaGRyZXh0L2Ficy1zZW5kLXRpbWVcIn0pLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGMuZmlsdGVyKGQ9PiEhYS5maW5kKGw9PmwucGF5bG9hZFR5cGU9PT1kLnBheWxvYWRUeXBlJiYhIWwucnRjcEZlZWRiYWNrcy5maW5kKHU9PnUudHlwZT09PVwiZ29vZy1yZW1iXCIpKSl9KHIsdC5hdHRyaWJ1dGVzLnBheWxvYWRzKS5mb3JFYWNoKGE9PnthLnJ0Y3BGZWVkYmFja3MuZmluZChjPT5jLnR5cGU9PT1cImdvb2ctcmVtYlwiKXx8YS5ydGNwRmVlZGJhY2tzLnB1c2goe3R5cGU6XCJnb29nLXJlbWJcIn0pO30pKTt9ZWxzZSBpZihlLnJlbWI9PT0hMSl7bGV0IG89dC5hdHRyaWJ1dGVzLmV4dG1hcHMuZmluZEluZGV4KHM9PnMuZXh0ZW5zaW9uTmFtZT09PVwiaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvYWJzLXNlbmQtdGltZVwiKTtvIT09LTEmJnQuYXR0cmlidXRlcy5leHRtYXBzLnNwbGljZShvLDEpLHQuYXR0cmlidXRlcy5wYXlsb2Fkcy5mb3JFYWNoKHM9PntsZXQgYT1zLnJ0Y3BGZWVkYmFja3MuZmluZEluZGV4KGM9PmMudHlwZT09PVwiZ29vZy1yZW1iXCIpO2EhPT0tMSYmcy5ydGNwRmVlZGJhY2tzLnNwbGljZShhLDEpO30pO319ZnVuY3Rpb24gbzAodCxlLG4pe2lmKCR0KCl8fHQubWVkaWEubWVkaWFUeXBlIT09XCJ2aWRlb1wifHwhKGUgaW5zdGFuY2VvZiBGdCl8fG4hPT1cInZwOVwiJiZuIT09XCJ2cDhcInx8bj09PVwidnA4XCImJiF2KFwiU0lNVUxDQVNUXCIpfHxuPT09XCJ2cDlcIiYmdihcIkVOQUJMRV9TVkNcIil8fGUuX3NjYWxhYmlsaXR5TW9kZT09PXZvaWQgMHx8ZS5fc2NhbGFiaWxpdHlNb2RlLm51bVNwYXRpYWxMYXllcnM8PTEpcmV0dXJuO2xldCBpPW49PT1cInZwOFwiPzI6ZS5fc2NhbGFiaWxpdHlNb2RlLm51bVNwYXRpYWxMYXllcnMscj10LmF0dHJpYnV0ZXMuc3NyY3NbMF0sbz10LmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcy5maW5kKGE9PmEuc2VtYW50aWM9PT1cIkZJRFwiJiZhLnNzcmNJZHNbMF09PT1yLnNzcmNJZCkscz17c2VtYW50aWM6XCJTSU1cIixzc3JjSWRzOltyLnNzcmNJZF19O2ZvcihsZXQgYT0xO2E8aTthKyspdC5hdHRyaWJ1dGVzLnNzcmNzLnB1c2goe3NzcmNJZDpyLnNzcmNJZCthLGF0dHJpYnV0ZXM6bGUoci5hdHRyaWJ1dGVzKX0pLHMuc3NyY0lkcy5wdXNoKHIuc3NyY0lkK2EpLG8mJih0LmF0dHJpYnV0ZXMuc3NyY3MucHVzaCh7c3NyY0lkOm8uc3NyY0lkc1sxXSthLGF0dHJpYnV0ZXM6bGUoci5hdHRyaWJ1dGVzKX0pLHQuYXR0cmlidXRlcy5zc3JjR3JvdXBzLnB1c2goe3NlbWFudGljOlwiRklEXCIsc3NyY0lkczpbci5zc3JjSWQrYSxvLnNzcmNJZHNbMV0rYV19KSk7dC5hdHRyaWJ1dGVzLnNzcmNHcm91cHMudW5zaGlmdChzKTt9YXN5bmMgZnVuY3Rpb24gczAoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e30sZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e30sbj1uZXcgUlRDUGVlckNvbm5lY3Rpb247bi5hZGRUcmFuc2NlaXZlcihcInZpZGVvXCIse2RpcmVjdGlvbjpcInNlbmRvbmx5XCJ9KSxuLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIix7ZGlyZWN0aW9uOlwic2VuZG9ubHlcIn0pLG4uYWRkVHJhbnNjZWl2ZXIoXCJ2aWRlb1wiLHtkaXJlY3Rpb246XCJyZWN2b25seVwifSksbi5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIse2RpcmVjdGlvbjpcInJlY3Zvbmx5XCJ9KTtsZXQgaT0oYXdhaXQgbi5jcmVhdGVPZmZlcigpKS5zZHAse3NlbmQ6cixyZWN2Om8sc2VuZHJlY3Y6c309ZnVuY3Rpb24oKXtsZXQgYT1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e30sYz1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e30sZD1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxsPUxjKGQsYSxjLFwic2VuZG9ubHlcIiksdT1MYyhkLGEsYyxcInJlY3Zvbmx5XCIpLGg9e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LHA9e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LGc9e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119O2lmKElpKGwsdSxcInZpZGVvRXh0ZW5zaW9uc1wiLGgscCxnKSxJaShsLHUsXCJ2aWRlb0NvZGVjc1wiLGgscCxnKSxJaShsLHUsXCJhdWRpb0V4dGVuc2lvbnNcIixoLHAsZyksSWkobCx1LFwiYXVkaW9Db2RlY3NcIixoLHAsZyksdihcIlJBSVNFX0gyNjRfQkFTRUxJTkVfUFJJT1JJVFlcIikpe2xldCBFPWcudmlkZW9Db2RlY3MuZmluZEluZGV4KGY9Pnt2YXIgUyxDO3JldHVybiAoKFM9Zi5ydHBNYXApPT09bnVsbHx8Uz09PXZvaWQgMD92b2lkIDA6Uy5lbmNvZGluZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSk9PT1cImgyNjRcIiYmKChDPWYuZm10cCk9PT1udWxsfHxDPT09dm9pZCAwP3ZvaWQgMDpDLnBhcmFtZXRlcnNbXCJwcm9maWxlLWxldmVsLWlkXCJdKT09PVwiNDIwMDFmXCJ9KTtpZihFIT09LTEpe2xldCBmPWcudmlkZW9Db2RlY3MuZmluZEluZGV4KFM9Pnt2YXIgQztyZXR1cm4gKChDPVMucnRwTWFwKT09PW51bGx8fEM9PT12b2lkIDA/dm9pZCAwOkMuZW5jb2RpbmdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkpPT09XCJoMjY0XCJ9KTtpZihmPEUpe18uZGVidWcoXCJyYWlzaW5nIEgyNjQgYmFzZWxpbmUgcHJvZmlsZSBwcmlvcml0eVwiKTtsZXQgUz1nLnZpZGVvQ29kZWNzW0VdO2cudmlkZW9Db2RlY3Muc3BsaWNlKEUsMSksZy52aWRlb0NvZGVjcy5zcGxpY2UoZiwwLFMpO31mIT09LTEmJihwLnZpZGVvQ29kZWNzPXAudmlkZW9Db2RlY3MuZmlsdGVyKFM9Pnt2YXIgQyxBO3JldHVybiAhKCgoQz1TLnJ0cE1hcCk9PT1udWxsfHxDPT09dm9pZCAwP3ZvaWQgMDpDLmVuY29kaW5nTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpKT09PVwiaDI2NFwiJiYoKEE9Uy5mbXRwKT09PW51bGx8fEE9PT12b2lkIDA/dm9pZCAwOkEucGFyYW1ldGVyc1tcInByb2ZpbGUtbGV2ZWwtaWRcIl0pIT09XCI0MjAwMWZcIil9KSksZiE9PS0xJiZ2KFwiRklMVEVSX1NFTkRfSDI2NF9CQVNFTElORVwiKSYmKGgudmlkZW9Db2RlY3M9aC52aWRlb0NvZGVjcy5maWx0ZXIoUz0+e3ZhciBDLEE7cmV0dXJuICEoKChDPVMucnRwTWFwKT09PW51bGx8fEM9PT12b2lkIDA/dm9pZCAwOkMuZW5jb2RpbmdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkpPT09XCJoMjY0XCImJigoQT1TLmZtdHApPT09bnVsbHx8QT09PXZvaWQgMD92b2lkIDA6QS5wYXJhbWV0ZXJzW1wicHJvZmlsZS1sZXZlbC1pZFwiXSkhPT1cIjQyMDAxZlwiKX0pKTt9fXJldHVybiB7c2VuZDpoLHJlY3Y6cCxzZW5kcmVjdjpnfX0odCxlLGkpO3RyeXtuLmNsb3NlKCk7fWNhdGNoe31yZXR1cm4ge3NlbmQ6cixyZWN2Om8sc2VuZHJlY3Y6c319ZnVuY3Rpb24gekkoKXtsZXQgdD17YXVkaW9Db2RlY3M6W10sdmlkZW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvRXh0ZW5zaW9uczpbXX0sZT1MYyhhcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxhcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e30sYXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOnt9LFwicmVjdm9ubHlcIiksbj17YXVkaW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvQ29kZWNzOltdLHZpZGVvRXh0ZW5zaW9uczpbXX0saT17YXVkaW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvQ29kZWNzOltdLHZpZGVvRXh0ZW5zaW9uczpbXX0scj17YXVkaW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvQ29kZWNzOltdLHZpZGVvRXh0ZW5zaW9uczpbXX07aWYoSWkodCxlLFwidmlkZW9FeHRlbnNpb25zXCIsbixpLHIpLElpKHQsZSxcInZpZGVvQ29kZWNzXCIsbixpLHIpLElpKHQsZSxcImF1ZGlvRXh0ZW5zaW9uc1wiLG4saSxyKSxJaSh0LGUsXCJhdWRpb0NvZGVjc1wiLG4saSxyKSx2KFwiUkFJU0VfSDI2NF9CQVNFTElORV9QUklPUklUWVwiKSl7bGV0IG89ci52aWRlb0NvZGVjcy5maW5kSW5kZXgocz0+cy5ydHBNYXAmJnMucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpPT09XCJoMjY0XCImJnMuZm10cCYmcy5mbXRwLnBhcmFtZXRlcnNbXCJwcm9maWxlLWxldmVsLWlkXCJdPT09XCI0MjAwMWZcIik7aWYobyE9PS0xKXtsZXQgcz1yLnZpZGVvQ29kZWNzLmZpbmRJbmRleChhPT5hLnJ0cE1hcCYmYS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk9PT1cImgyNjRcIik7aWYoczxvKXtfLmRlYnVnKFwicmFpc2luZyBIMjY0IGJhc2VsaW5lIHByb2ZpbGUgcHJpb3JpdHlcIik7bGV0IGE9ci52aWRlb0NvZGVjc1tvXTtyLnZpZGVvQ29kZWNzLnNwbGljZShvLDEpLHIudmlkZW9Db2RlY3Muc3BsaWNlKHMsMCxhKTt9cyE9PS0xJiYoaS52aWRlb0NvZGVjcz1pLnZpZGVvQ29kZWNzLmZpbHRlcihhPT4hKGEucnRwTWFwJiZhLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKT09PVwiaDI2NFwiJiZhLmZtdHAmJmEuZm10cC5wYXJhbWV0ZXJzW1wicHJvZmlsZS1sZXZlbC1pZFwiXSE9PVwiNDIwMDFmXCIpKSk7fX1yZXR1cm4ge3NlbmQ6bixyZWN2Omksc2VuZHJlY3Y6cn19ZnVuY3Rpb24gSWkodCxlLG4saSxyLG8pe2lmKG49PT1cInZpZGVvRXh0ZW5zaW9uc1wifHxuPT09XCJhdWRpb0V4dGVuc2lvbnNcIil7bGV0IHM9W107cmV0dXJuIHRbbl0uZm9yRWFjaChhPT57ZVtuXS5zb21lKChjLGQpPT57aWYoYS5lbnRyeT09PWMuZW50cnkmJmEuZXh0ZW5zaW9uTmFtZT09PWMuZXh0ZW5zaW9uTmFtZSlyZXR1cm4gcy5wdXNoKGQpLCEwfSk/b1tuXS5wdXNoKGEpOmlbbl0ucHVzaChhKTt9KSx2b2lkIGVbbl0uZm9yRWFjaCgoYSxjKT0+e3MuaW5kZXhPZihjKT09PS0xJiZyW25dLnB1c2goYSk7fSl9aWYobj09PVwidmlkZW9Db2RlY3NcInx8bj09PVwiYXVkaW9Db2RlY3NcIil7bGV0IHM9W107cmV0dXJuIHRbbl0uZm9yRWFjaChhPT57ZVtuXS5zb21lKChjLGQpPT57aWYoYS5wYXlsb2FkVHlwZT09PWMucGF5bG9hZFR5cGUmJkpTT04uc3RyaW5naWZ5KGEpPT09SlNPTi5zdHJpbmdpZnkoYykpcmV0dXJuIHMucHVzaChkKSwhMH0pP29bbl0ucHVzaChhKTppW25dLnB1c2goYSk7fSksdm9pZCBlW25dLmZvckVhY2goKGEsYyk9PntzLmluZGV4T2YoYyk9PT0tMSYmcltuXS5wdXNoKGEpO30pfX1mdW5jdGlvbiB1dSh0KXtsZXR7c2VuZDplLHJlY3Y6bixzZW5kcmVjdjppfT10O2lmKCFpKXtpZighZXx8IW4pdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IG1lcmdlIHJ0cCBjYXBhYmlsaXRpZXMgYmVjYXVzZSBvbmUgb2Ygc2VuZCBvciByZWN2IGlzIGVtcHR5IVwiKTtyZXR1cm4ge3NlbmQ6ZSxyZWN2Om59fWxldCByLG87cmV0dXJuIGU/KHI9e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LHIuYXVkaW9Db2RlY3M9Wy4uLmUuYXVkaW9Db2RlY3MsLi4uaS5hdWRpb0NvZGVjc10sci52aWRlb0NvZGVjcz1bLi4uZS52aWRlb0NvZGVjcywuLi5pLnZpZGVvQ29kZWNzXSxyLmF1ZGlvRXh0ZW5zaW9ucz1bLi4uZS5hdWRpb0V4dGVuc2lvbnMsLi4uaS5hdWRpb0V4dGVuc2lvbnNdLHIudmlkZW9FeHRlbnNpb25zPVsuLi5lLnZpZGVvRXh0ZW5zaW9ucywuLi5pLnZpZGVvRXh0ZW5zaW9uc10pOnI9aSxuPyhvPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfSxvLmF1ZGlvQ29kZWNzPVsuLi5uLmF1ZGlvQ29kZWNzLC4uLmkuYXVkaW9Db2RlY3NdLG8udmlkZW9Db2RlY3M9Wy4uLm4udmlkZW9Db2RlY3MsLi4uaS52aWRlb0NvZGVjc10sby5hdWRpb0V4dGVuc2lvbnM9Wy4uLm4uYXVkaW9FeHRlbnNpb25zLC4uLmkuYXVkaW9FeHRlbnNpb25zXSxvLnZpZGVvRXh0ZW5zaW9ucz1bLi4ubi52aWRlb0V4dGVuc2lvbnMsLi4uaS52aWRlb0V4dGVuc2lvbnNdKTpvPWkse3NlbmQ6cixyZWN2Om99fWZ1bmN0aW9uIG9hKHQpe3QubWVkaWEubWVkaWFUeXBlPT09XCJhdWRpb1wiJiZ0LmF0dHJpYnV0ZXMucGF5bG9hZHMuZmlsdGVyKGU9Pnt2YXIgbjtyZXR1cm4gKChuPWUucnRwTWFwKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpPT09XCJvcHVzXCJ9KS5mb3JFYWNoKGU9PntlLmZtdHB8fChlLmZtdHA9e3BhcmFtZXRlcnM6e319KSxlLmZtdHAucGFyYW1ldGVycy5zdGVyZW89XCIxXCIsZS5mbXRwLnBhcmFtZXRlcnNbXCJzcHJvcC1zdGVyZW9cIl09XCIxXCI7fSk7fWZ1bmN0aW9uIGFjKHQsZSxuLGkpe2xldCByPVtdO2lmKHQ9PT1RLlZJREVPKXtpZih2KFwiSDI2NF9QUk9GSUxFX0xFVkVMX0lEXCIpJiZpPT09XCJoMjY0XCImJihyPWUudmlkZW9Db2RlY3MuZmlsdGVyKG89Pnt2YXIgcztyZXR1cm4gVyhzPW8ucnRwTWFwJiZvLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJcIikuY2FsbChzLGkpJiZvJiZvLmZtdHAmJm8uZm10cC5wYXJhbWV0ZXJzW1wicHJvZmlsZS1sZXZlbC1pZFwiXT09PXYoXCJIMjY0X1BST0ZJTEVfTEVWRUxfSURcIil9KSksIUFycmF5LmlzQXJyYXkocil8fHIubGVuZ3RoPT09MCl7bGV0IG89W10scz1bXSxhPVtdLGM9W107aWYobi52aWRlb0NvZGVjcy5mb3JFYWNoKGQ9PntsZXQgbD1kLnJ0cE1hcCYmZC5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiXCI7VyhsKS5jYWxsKGwsaSk/by5wdXNoKGQpOlcobCkuY2FsbChsLFwidnA5XCIpP3MucHVzaChkKTpXKGwpLmNhbGwobCxcInZwOFwiKT9hLnB1c2goZCk6VyhsKS5jYWxsKGwsXCJoMjY0XCIpJiZjLnB1c2goZCk7fSksby5sZW5ndGg9PT0wKXtsZXQgZD1cIlwiO3MubGVuZ3RoIT09MD8obz1zLGQ9XCJ2cDlcIik6YS5sZW5ndGghPT0wPyhvPWEsZD1cInZwOFwiKTpjLmxlbmd0aCE9PTAmJihvPWMsZD1cImgyNjRcIiksXy53YXJuaW5nKFwiY29kZWMgXCIuY29uY2F0KGksXCIgbm90IGluY2x1ZGVkIGluIHJ0cENhcGFiaWxpdGllcywgZmFsbGJhY2sgdG8gZGVmYXVsdCBwYXlsb2FkczogXCIpLmNvbmNhdChkKSk7fW8ubGVuZ3RoIT09MCYmKHI9ZS52aWRlb0NvZGVjcy5maWx0ZXIoZD0+by5zb21lKGw9PmwucGF5bG9hZFR5cGU9PT1kLnBheWxvYWRUeXBlKSkpO31pZihyLmxlbmd0aD09PTAmJihfLndhcm5pbmcoXCJjb2RlYyBcIi5jb25jYXQoaSxcIiBub3QgaW5jbHVkZWQgaW4gcnRwQ2FwYWJpbGl0aWVzLCBmYWxsYmFjayB0byBkZWZhdWx0IHBheWxvYWRzOiBcIikuY29uY2F0KGUudmlkZW9Db2RlY3NbMF0ucnRwTWFwJiZlLnZpZGVvQ29kZWNzWzBdLnJ0cE1hcC5lbmNvZGluZ05hbWUpKSxyPWUudmlkZW9Db2RlY3MpLHYoXCJVU0VfUFVCX1JUWFwiKXx8dihcIlVTRV9TVUJfUlRYXCIpKXtsZXQgbz15ZihyLGUudmlkZW9Db2RlY3MpO3I9Wy4uLnIsLi4ub107fX1lbHNlIHI9ZS5hdWRpb0NvZGVjcy5maWx0ZXIobz0+e3ZhciBzO3JldHVybiBXKHM9by5ydHBNYXAmJm8ucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpfHxcIlwiKS5jYWxsKHMsaSl9KSxyLmxlbmd0aD09PTAmJihfLndhcm5pbmcoXCJjb2RlYyBcIi5jb25jYXQoaSxcIiBub3QgaW5jbHVkZWQgaW4gcnRwQ2FwYWJpbGl0aWVzLCBmYWxsYmFjayB0byBvcHVzXCIpKSxyPWUuYXVkaW9Db2RlY3MuZmlsdGVyKG89Pnt2YXIgcztyZXR1cm4gVyhzPW8ucnRwTWFwJiZvLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJcIikuY2FsbChzLFwib3B1c1wiKX0pKTtyZXR1cm4gcn1mdW5jdGlvbiB5Zih0LGUpe2xldCBuPXQubWFwKGk9PmkucGF5bG9hZFR5cGUudG9TdHJpbmcoKSk7cmV0dXJuIGUuZmlsdGVyKGk9PmkucnRwTWFwJiZpLnJ0cE1hcC5lbmNvZGluZ05hbWU9PT1cInJ0eFwiJiZpLmZtdHAmJmkuZm10cC5wYXJhbWV0ZXJzLmFwdCYmVyhuKS5jYWxsKG4saS5mbXRwJiZpLmZtdHAucGFyYW1ldGVycy5hcHQpKX1hc3luYyBmdW5jdGlvbiBXZCh0LGUsbil7bGV0IGk9ZS50b1N0cmluZygpLHI9YzAoaSxcIm9mZmVyXCIsXCJyZW1vdGVcIixcImV4Y2hhbmdlU0RQXCIpO2F3YWl0IHQuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDppfSk7bGV0IG89YXdhaXQgdC5jcmVhdGVBbnN3ZXIoKTtpZighby5zZHApdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IGdldCBhbnN3ZXIgc2RwXCIpO2xldCBzPW8uc2RwO3M9YTAocyxufHx7fSkscj8uKHN8fFwiXCIpLGF3YWl0IHQuc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpzfSk7fWZ1bmN0aW9uIGEwKHQsZSxuKXtsZXQgaT1MZS5wYXJzZSh0KSx7dXNlWFI6cn09ZTtyZXR1cm4gaS5tZWRpYURlc2NyaXB0aW9ucy5mb3JFYWNoKG89Pnt2YXIgcztvLmF0dHJpYnV0ZXMubWlkJiYoQXJyYXkuaXNBcnJheShuKSYmIVcobikuY2FsbChuLG8uYXR0cmlidXRlcy5taWQpfHwoby5tZWRpYS5tZWRpYVR5cGU9PT1cImF1ZGlvXCImJm9hKG8pLHImJlcocz1bXCJhdWRpb1wiLFwidmlkZW9cIl0pLmNhbGwocyxvLm1lZGlhLm1lZGlhVHlwZSkmJm8uYXR0cmlidXRlcy5wYXlsb2Fkcy5mb3JFYWNoKGE9PnthLnJ0Y3BGZWVkYmFja3MuZmluZEluZGV4KGM9PmMudHlwZT09PVwicnJ0clwiKT09PS0xJiZhLnJ0Y3BGZWVkYmFja3MucHVzaCh7dHlwZTpcInJydHJcIn0pO30pKSk7fSksTGUucHJpbnQoaSl9ZnVuY3Rpb24gYzAodCxlLG4saSl7aWYodihcIlNEUF9MT0dHSU5HXCIpKXJldHVybiBfLnVwbG9hZChcImV4Y2hhbmdpbmcgXCIuY29uY2F0KG4sXCIgXCIpLmNvbmNhdChlLFwiIFNEUCBkdXJpbmcgUDJQQ29ubmVjdGlvbi5cIikuY29uY2F0KGksYFxuYCksdCksZT09PVwib2ZmZXJcIj9yPT57YzAocixcImFuc3dlclwiLG49PT1cImxvY2FsXCI/XCJyZW1vdGVcIjpcImxvY2FsXCIsaSk7fTp2b2lkIDB9ZnVuY3Rpb24gWGkodCxlKXtyZXR1cm4gdHlwZW9mIHYodCk9PT1lP3YodCk6dm9pZCAwfWZ1bmN0aW9uIEpJKHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4saSk7fXJldHVybiBufWZ1bmN0aW9uIGpyKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXSE9bnVsbD9hcmd1bWVudHNbZV06e307ZSUyP0pJKE9iamVjdChuKSwhMCkuZm9yRWFjaChmdW5jdGlvbihpKXtUKHQsaSxuW2ldKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpKSShPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24oaSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSkpO30pO31yZXR1cm4gdH12YXIgZF89bmV3IE1hcCx0bT1jbGFzcyBleHRlbmRzIFh0e2dldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1zZXQgc3RhdGUoZSl7aWYoZT09PXRoaXMuX3N0YXRlKXJldHVybjtsZXQgbj10aGlzLl9zdGF0ZTt0aGlzLl9zdGF0ZT1lLGU9PT1cIkRJU0NPTk5FQ1RFRFwiJiZ0aGlzLl9kaXNjb25uZWN0ZWRSZWFzb24/dGhpcy5lbWl0KHhlLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLGUsbix0aGlzLl9kaXNjb25uZWN0ZWRSZWFzb24pOnRoaXMuZW1pdCh4ZS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSxlLG4pO31nZXQgam9pbkdhdGV3YXlTdGFydFRpbWUoKXtyZXR1cm4gdGhpcy5fam9pbkdhdGV3YXlTdGFydFRpbWV9c2V0IGpvaW5HYXRld2F5U3RhcnRUaW1lKGUpe18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHNldCBqb2luR2F0ZXdheVN0YXJ0VGltZSBhdCBcIikuY29uY2F0KGUpKSx0aGlzLl9qb2luR2F0ZXdheVN0YXJ0VGltZT1lO31jb25zdHJ1Y3RvcihlLG4pe3N1cGVyKCksVCh0aGlzLFwic3RvcmVcIix2b2lkIDApLFQodGhpcyxcImpvaW5JbmZvXCIsdm9pZCAwKSxUKHRoaXMsXCJrZXlcIix2b2lkIDApLFQodGhpcyxcIm50cE9mZnNldFwiLDApLFQodGhpcyxcInNpZ25hbFwiLHZvaWQgMCksVCh0aGlzLFwicm9sZVwiLHZvaWQgMCksVCh0aGlzLFwiaW5DaGFubmVsSW5mb1wiLHtqb2luQXQ6bnVsbCxkdXJhdGlvbjowfSksVCh0aGlzLFwic3BlY1wiLHZvaWQgMCksVCh0aGlzLFwiX3N0YXRlXCIsXCJESVNDT05ORUNURURcIiksVCh0aGlzLFwiX3N0YXRzQ29sbGVjdG9yXCIsdm9pZCAwKSxUKHRoaXMsXCJfZGlzY29ubmVjdGVkUmVhc29uXCIsdm9pZCAwKSxUKHRoaXMsXCJpc1NpZ25hbFJlY292ZXJcIiwhMSksVCh0aGlzLFwiaGFzQ2hhbmdlQkdQQWRkcmVzc1wiLCExKSxUKHRoaXMsXCJ0cmFmZmljU3RhdHNJbnRlcnZhbFwiLHZvaWQgMCksVCh0aGlzLFwibmV0d29ya1F1YWxpdHlJbnRlcnZhbFwiLHZvaWQgMCksVCh0aGlzLFwiX2pvaW5HYXRld2F5U3RhcnRUaW1lXCIsMCksVCh0aGlzLFwiX3NpZ25hbFRpbWVvdXRcIiwhMSksVCh0aGlzLFwiX2NsaWVudFJvbGVPcHRpb25zXCIsdm9pZCAwKSxUKHRoaXMsXCJfaXNQcm9hY3RpdmVKb2luXCIsITEpLHRoaXMuc3RvcmU9ZSx0aGlzLnNwZWM9bix0aGlzLnNpZ25hbD10aGlzLnN0b3JlLnVzZVAyUD9uZXcgZHUoanIoanIoe30sbikse30se3JldHJ5Q29uZmlnOm4ud2Vic29ja2V0UmV0cnlDb25maWd9KSxlKTpuZXcgakUoanIoanIoe30sbikse30se3JldHJ5Q29uZmlnOm4ud2Vic29ja2V0UmV0cnlDb25maWd9KSxlKSx0aGlzLl9zdGF0c0NvbGxlY3Rvcj1uLnN0YXRzQ29sbGVjdG9yLHRoaXMucm9sZT1uLnJvbGV8fFwiYXVkaWVuY2VcIix0aGlzLl9jbGllbnRSb2xlT3B0aW9ucz1uLmNsaWVudFJvbGVPcHRpb25zLHRoaXMuaGFuZGxlU2lnbmFsRXZlbnRzKCk7fWFzeW5jIGpvaW4oZSxuLGkpe3RoaXMuc3RvcmUuam9pbkdhdGV3YXlTdGFydCgpLGUuY2xvdWRQcm94eVNlcnZlciE9PVwiZGlzYWJsZWRcIiYmKHRoaXMuaGFzQ2hhbmdlQkdQQWRkcmVzcz0hMCk7bGV0IHI9RGF0ZS5ub3coKSxvPWRfLmdldChlLmNuYW1lKTtpZihvfHwobz1uZXcgTWFwLGRfLnNldChlLmNuYW1lLG8pKSx0aGlzLl9pc1Byb2FjdGl2ZUpvaW49ITAsby5oYXMoZS51aWQpKXtsZXQgZD1uZXcgTyhSLlVJRF9DT05GTElDVCk7dGhyb3cgWC5qb2luR2F0ZXdheShlLnNpZCx7bHRzOnIsc3VjYzohMSxlYzpkLmNvZGUsYWRkcjpudWxsLHVpZDplLnVpZCxjaWQ6ZS5jaWQsZmlyc3RTdWNjZXNzOnRoaXMuX2lzUHJvYWN0aXZlSm9pbixhdm9pZEpvaW5TdGFydFRpbWU6dGhpcy5zdG9yZS5hdm9pZEpvaW5TdGFydCxpc1Byb3h5OiEhZS5wcm94eVNlcnZlcixzaWduYWxDaGFubmVsOlwiMFwiLHByZWxvYWQ6ZS5wcmVsb2FkfSksdGhpcy5faXNQcm9hY3RpdmVKb2luPSExLGR9by5zZXQoZS51aWQsITApLHRoaXMuam9pbkluZm89ZSx0aGlzLmtleT1uO2xldCBzPTA7dGhpcy5qb2luR2F0ZXdheVN0YXJ0VGltZT1yO2xldCBhPWUucHJveHlTZXJ2ZXI7dHJ5e18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHVzZSB3ZWJzb2NrZXQgam9pbiB1aWQgXCIpLmNvbmNhdChzKSk7bGV0IGQ9ZS5nYXRld2F5QWRkcnMubWFwKGw9PntsZXR7YWRkcmVzczp1fT1sLFtoLHBdPXUuc3BsaXQoXCI6XCIpLGc9e2hvc3Q6aCxwb3J0OnB9O3JldHVybiBlLnByb3h5U2VydmVyJiYoZy5wcm94eT1lLnByb3h5U2VydmVyKSxnfSk7cz0oYXdhaXQgdGhpcy5zaWduYWwuaW5pdChkLGkpKS51aWQsXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gd2Vic29ja2V0IGpvaW4gdWlkIFwiKS5jb25jYXQocyxcIiBjb3N0IFwiKS5jb25jYXQoRGF0ZS5ub3coKS10aGlzLmpvaW5HYXRld2F5U3RhcnRUaW1lKSk7fWNhdGNoKGQpe3ZhciBjO3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFVzZXIgam9pbiBmYWlsZWRcIiksZC50b1N0cmluZygpKSxYLmpvaW5HYXRld2F5KGUuc2lkLHtsdHM6cixzdWNjOiExLGVjOigoYz1kLmRhdGEpPT09bnVsbHx8Yz09PXZvaWQgMD92b2lkIDA6Yy5kZXNjKXx8ZC5jb2RlLGVycm9yTXNnOmQubWVzc2FnZSxhZGRyOnRoaXMuc2lnbmFsLnVybCx1aWQ6ZS51aWQsY2lkOmUuY2lkLGZpcnN0U3VjY2Vzczp0aGlzLl9pc1Byb2FjdGl2ZUpvaW4sYXZvaWRKb2luU3RhcnRUaW1lOnRoaXMuc3RvcmUuYXZvaWRKb2luU3RhcnQsaXNQcm94eTohIWEsc2lnbmFsQ2hhbm5lbDpcIjBcIixwcmVsb2FkOmUucHJlbG9hZH0pLHRoaXMuX2lzUHJvYWN0aXZlSm9pbj0hMSxvLmRlbGV0ZShlLnVpZCksdGhpcy5zaWduYWwuY2xvc2UoKSxkfXJldHVybiB0aGlzLnN0YXRlPVwiQ09OTkVDVEVEXCIsdGhpcy5pbkNoYW5uZWxJbmZvLmpvaW5BdD1EYXRlLm5vdygpLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIENvbm5lY3RlZCB0byBnYXRld2F5IHNlcnZlclwiKSksdGhpcy50cmFmZmljU3RhdHNJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCk9Pnt0aGlzLnVwZGF0ZVRyYWZmaWNTdGF0cygpLmNhdGNoKGQ9PntfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGdldCB0cmFmZmljIHN0YXRzIGVycm9yXCIpLGQudG9TdHJpbmcoKSk7fSk7fSwzZTMpLHRoaXMubmV0d29ya1F1YWxpdHlJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCk9PntuYXZpZ2F0b3ImJm5hdmlnYXRvci5vbkxpbmUhPT12b2lkIDAmJiFuYXZpZ2F0b3Iub25MaW5lP3RoaXMuZW1pdCh4ZS5ORVRXT1JLX1FVQUxJVFkse2Rvd25saW5rTmV0d29ya1F1YWxpdHk6Nix1cGxpbmtOZXR3b3JrUXVhbGl0eTo2fSk6dGhpcy5fc2lnbmFsVGltZW91dD90aGlzLmVtaXQoeGUuTkVUV09SS19RVUFMSVRZLHtkb3dubGlua05ldHdvcmtRdWFsaXR5OjUsdXBsaW5rTmV0d29ya1F1YWxpdHk6NX0pOnRoaXMuc3RhdGU9PT1cIkNPTk5FQ1RFRFwiJiZ0aGlzLl9zdGF0c0NvbGxlY3Rvci50cmFmZmljU3RhdHM/dGhpcy5lbWl0KHhlLk5FVFdPUktfUVVBTElUWSx7dXBsaW5rTmV0d29ya1F1YWxpdHk6V1IodGhpcy5fc3RhdHNDb2xsZWN0b3IudHJhZmZpY1N0YXRzLkJfdW5xKSxkb3dubGlua05ldHdvcmtRdWFsaXR5OldSKHRoaXMuX3N0YXRzQ29sbGVjdG9yLnRyYWZmaWNTdGF0cy5CX2RucSl9KTp0aGlzLmVtaXQoeGUuTkVUV09SS19RVUFMSVRZLHt1cGxpbmtOZXR3b3JrUXVhbGl0eTowLGRvd25saW5rTmV0d29ya1F1YWxpdHk6MH0pO30sMmUzKSx0aGlzLnN0b3JlLmpvaW5HYXRld2F5RW5kKCksc31hc3luYyBsZWF2ZSgpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwJiZhcmd1bWVudHNbMF0sbj1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDtpZih0aGlzLnN0YXRlIT09XCJESVNDT05ORUNURURcIil7biE9PUF0LkZBTExCQUNLJiYodGhpcy5zdGF0ZT1cIkRJU0NPTk5FQ1RJTkdcIik7dHJ5e2V8fHRoaXMuc2lnbmFsLmNvbm5lY3Rpb25TdGF0ZSE9PUx0LkNPTk5FQ1RFRHx8YXdhaXQgZnVuY3Rpb24oaSxyKXtyZXR1cm4gcj09PTEvMD9pOmoucmFjZShbaSxtQihyKV0pfSh0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LkxFQVZFLHZvaWQgMCwhMCksM2UzKTt9Y2F0Y2goaSl7Xy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBsZWF2ZSByZXF1ZXN0IGZhaWxlZCwgaWdub3JlXCIpLGkpO310aGlzLnNpZ25hbC5jbG9zZShuKSxuIT09QXQuRkFMTEJBQ0smJih0aGlzLnN0YXRlPVwiRElTQ09OTkVDVEVEXCIpLHRoaXMucmVzZXQoKTt9fWFzeW5jIHB1Ymxpc2goZSxuLGkpe2lmKHRoaXMuc3RhdGUhPT1cIkNPTk5FQ1RFRFwiJiZ0aGlzLnN0YXRlIT09XCJSRUNPTk5FQ1RJTkdcIil0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBwdWJsaXNoIHdoZW4gY29ubmVjdGlvbiBzdGF0ZSBpcyBcIi5jb25jYXQodGhpcy5zdGF0ZSkpO2xldCByPXtzdGF0ZTpcIm9mZmVyXCIscDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsb3J0YzpuLG1vZGU6dGhpcy5zcGVjLm1vZGUsZXh0ZW5kOnYoXCJQVUJfRVhURU5EXCIpLHR3Y2M6ISF2KFwiUFVCTElTSF9UV0NDXCIpLHJ0eDohIXYoXCJVU0VfUFVCX1JUWFwiKX07dHJ5e3JldHVybiAoYXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5QVUJMSVNILHIsITApKS5fbWVzc2FnZX1jYXRjaChvKXtpZihpJiZvLmRhdGEmJm8uZGF0YS5jb2RlPT09Wi5FUlJfUFVCTElTSF9SRVFVRVNUX0lOVkFMSUQpcmV0dXJuIF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gcmVjZWl2ZSBwdWJsaXNoIGVycm9yIGNvZGUsIHJldHJ5XCIpLG8udG9TdHJpbmcoKSksYXdhaXQgdGhpcy50cnlVbnB1YkJlZm9yZVJlcHViKGUsbiksdGhpcy5wdWJsaXNoKGUsbiwhMSk7dGhyb3cgb319YXN5bmMgcHVibGlzaERhdGFDaGFubmVsKGUsbixpKXt2YXIgcjtpZih0aGlzLnN0YXRlIT09XCJDT05ORUNURURcIiYmdGhpcy5zdGF0ZSE9PVwiUkVDT05ORUNUSU5HXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgcHVibGlzaCB3aGVuIGNvbm5lY3Rpb24gc3RhdGUgaXMgXCIuY29uY2F0KHRoaXMuc3RhdGUpKTtsZXQgbz17c3RyZWFtX2lkOm4uc3RyZWFtSWQsb3JkZXJlZDpuLm9yZGVyZWQ/MTowLG1heF9yZXRyYW5zX3RpbWVzOihyPW4ubWF4UmV0cmFuc21pdHMpIT09bnVsbCYmciE9PXZvaWQgMD9yOjEwLGNoYW5uZWxfaWQ6bi5jaGFubmVsSWQsbWV0YWRhdGE6bi5tZXRhZGF0YX07dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuUFVCTElTSF9EQVRBU1RSRUFNLG8sITApO31jYXRjaChzKXtpZihpJiZzLmRhdGEmJnMuZGF0YS5jb2RlPT09Wi5FUlJfUFVCTElTSF9SRVFVRVNUX0lOVkFMSUQpcmV0dXJuIF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gcmVjZWl2ZSBwdWJsaXNoIGRhdGFjaGFubmVscyBlcnJvciBjb2RlLCByZXRyeVwiKSxzLnRvU3RyaW5nKCkpLGF3YWl0IHRoaXMudHJ5VW5wdWJEYXRhQ2hhbm5lbEJlZm9yZVJlcHViKGUsbiksdGhpcy5wdWJsaXNoRGF0YUNoYW5uZWwoZSxuLCExKTt0aHJvdyBzfX1hc3luYyB1bnB1Ymxpc2goZSxuKXt0cnl7aWYodGhpcy5zdGF0ZSE9PVwiQ09OTkVDVEVEXCImJnRoaXMuc3RhdGUhPT1cIlJFQ09OTkVDVElOR1wiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHB1Ymxpc2ggd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5VTlBVQkxJU0gse3N0cmVhbV9pZDpuLG9ydGM6ZX0sITApO31jYXRjaChpKXtfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHVucHVibGlzaCB3YXJuaW5nOiBcIiksaSk7fX1hc3luYyB1bnB1Ymxpc2hEYXRhQ2hhbm5lbChlKXt0cnl7aWYodGhpcy5zdGF0ZSE9PVwiQ09OTkVDVEVEXCImJnRoaXMuc3RhdGUhPT1cIlJFQ09OTkVDVElOR1wiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHB1Ymxpc2ggd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7YXdhaXQgai5hbGwoZS5tYXAobj0+dGhpcy5zaWduYWwucmVxdWVzdChldC5VTlBVQkxJU0hfREFUQVNUUkVBTSx7Y2hhbm5lbF9pZDpufSwhMCkpKTt9Y2F0Y2gobil7Xy53YXJuaW5nKFwidW5wdWJsaXNoIGRhdGFjaGFubmVscyB3YXJuaW5nOiBcIixuKTt9fWFzeW5jIHByZXN1YnNjcmliZShlLG4saSl7aWYodGhpcy5zdGF0ZSE9PVwiQ09OTkVDVEVEXCImJnRoaXMuc3RhdGUhPT1cIlJFQ09OTkVDVElOR1wiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHByZXN1YnNjcmliZSB3aGVuIGNvbm5lY3Rpb24gc3RhdGUgaXMgXCIuY29uY2F0KHRoaXMuc3RhdGUpKTtsZXQgcj17c3RyZWFtX2lkOmUsc3RyZWFtX3R5cGU6bixtb2RlOnRoaXMuc3BlYy5tb2RlLGNvZGVjOnRoaXMuc3BlYy5jb2RlYyxwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCx0d2NjOiEhdihcIlNVQlNDUklCRV9UV0NDXCIpLHJ0eDohIXYoXCJVU0VfU1VCX1JUWFwiKXx8dm9pZCAwLGV4dGVuZDp2KFwiU1VCX0VYVEVORFwiKSxzdmM6QXJyYXkuaXNBcnJheSh2KFwiU1ZDXCIpKSYmdihcIlNWQ1wiKS5sZW5ndGghPT0wP3YoXCJTVkNcIik6dm9pZCAwfTt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuUFJFX1NVQlNDUklCRSxyLCEwKX1jYXRjaChvKXtpZihpJiZvLmRhdGEmJm8uZGF0YS5jb2RlPT09Wi5FUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRClyZXR1cm4gXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBwcmUtc3Vic2NyaWJlIGVycm9yLCByZXRyeVwiKSxvLnRvU3RyaW5nKCkpLHRoaXMucHJlc3Vic2NyaWJlKGUsbiwhMSk7dGhyb3cgb319YXN5bmMgc3Vic2NyaWJlKGUsbixpKXtpZih0aGlzLnN0YXRlIT09XCJDT05ORUNURURcIiYmdGhpcy5zdGF0ZSE9PVwiUkVDT05ORUNUSU5HXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3Qgc3Vic2NyaWJlIHdoZW4gY29ubmVjdGlvbiBzdGF0ZSBpcyBcIi5jb25jYXQodGhpcy5zdGF0ZSkpO2xldCByPXtzdHJlYW1faWQ6ZSxzdHJlYW1fdHlwZTpuLnN0cmVhbV90eXBlLG1vZGU6dGhpcy5zcGVjLm1vZGUsY29kZWM6dGhpcy5zcGVjLmNvZGVjLHAycF9pZDp0aGlzLnN0b3JlLnAycElkLHR3Y2M6ISF2KFwiU1VCU0NSSUJFX1RXQ0NcIikscnR4OiEhdihcIlVTRV9TVUJfUlRYXCIpLGV4dGVuZDp2KFwiU1VCX0VYVEVORFwiKSxzc3JjSWQ6bi5zc3JjSWQsc3ZjOkFycmF5LmlzQXJyYXkodihcIlNWQ1wiKSkmJnYoXCJTVkNcIikubGVuZ3RoIT09MD92KFwiU1ZDXCIpOnZvaWQgMH07dHJ5e3JldHVybiAoYXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5TVUJTQ1JJQkUsciwhMCkpLl9tZXNzYWdlfWNhdGNoKG8pe2lmKGkmJm8uZGF0YSYmby5kYXRhLmNvZGU9PT1aLkVSUl9TVUJTQ1JJQkVfUkVRVUVTVF9JTlZBTElEKXJldHVybiBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHJlY2VpdmVyIHN1YnNjcmliZSBlcnJvciBjb2RlLCByZXRyeVwiKSxvLnRvU3RyaW5nKCkpLGF3YWl0IHRoaXMudHJ5VW5zdWJCZWZvcmVSZXN1YihlLG4pLGF3YWl0IHRoaXMuc3Vic2NyaWJlKGUsbiwhMSk7dGhyb3cgb319YXN5bmMgc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSxuLGkpe2lmKHRoaXMuc3RhdGUhPT1cIkNPTk5FQ1RFRFwiJiZ0aGlzLnN0YXRlIT09XCJSRUNPTk5FQ1RJTkdcIil0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBzdWJzY3JpYmUgZGF0YWNoYW5uZWwgd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7bGV0IHI9e3VpZDplLHN0cmVhbV9pZDpuLmlkLGNoYW5uZWxfaWQ6bi5kYXRhY2hhbm5lbElkfTt0cnl7cmV0dXJuIHZvaWQgYXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5TVUJTQ1JJQkVfREFUQVNUUkVBTSxyLCEwKX1jYXRjaChvKXtpZihpJiZvLmRhdGEmJm8uZGF0YS5jb2RlPT09Wi5FUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRClyZXR1cm4gXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSByZWNlaXZlciBzdWJzY3JpYmUgZGF0YWNoYW5uZWwgZXJyb3IgY29kZSwgcmV0cnlcIiksby50b1N0cmluZygpKSxhd2FpdCB0aGlzLnRyeVVuc3ViRGF0YUNoYW5uZWxCZWZvcmVSZXN1YihlLG4pLGF3YWl0IHRoaXMuc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSxuLCExKTt0aHJvdyBvfX1hc3luYyBzdWJzY3JpYmVBbGwoZSxuKXtpZih0aGlzLnN0YXRlIT09XCJDT05ORUNURURcIiYmdGhpcy5zdGF0ZSE9PVwiUkVDT05ORUNUSU5HXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgbWFzc1N1YnNjcmliZSB3aGVuIGNvbm5lY3Rpb24gc3RhdGUgaXMgXCIuY29uY2F0KHRoaXMuc3RhdGUpKTtsZXQgaT17cDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsdXNlcnM6ZSxkdHg6ITEscnR4OiEhdihcIlVTRV9TVUJfUlRYXCIpLHR3Y2M6ISF2KFwiU1VCU0NSSUJFX1RXQ0NcIiksc3ZjOkFycmF5LmlzQXJyYXkodihcIlNWQ1wiKSkmJnYoXCJTVkNcIikubGVuZ3RoIT09MD92KFwiU1ZDXCIpOnZvaWQgMH07dHJ5e3JldHVybiBhd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LlNVQlNDUklCRV9TVFJFQU1TLGksITApfWNhdGNoKHIpe2lmKG4mJnIuZGF0YSYmci5kYXRhLmNvZGU9PT1aLkVSUl9TVUJTQ1JJQkVfUkVRVUVTVF9JTlZBTElEKXJldHVybiBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHJlY2VpdmVyIG1hc3NTdWJzY3JpYmUgZXJyb3IgY29kZSwgcmV0cnlcIiksci50b1N0cmluZygpKSxhd2FpdCB0aGlzLnRyeU1hc3NVbnN1YkJlZm9yZVJlc3ViKGUpLGF3YWl0IHRoaXMuc3Vic2NyaWJlQWxsKGUsITEpO3Rocm93IHJ9fWFzeW5jIHNldFZpZGVvUHJvZmlsZShlKXtsZXQgbj1mdW5jdGlvbihpKXtpZighKGkuYml0cmF0ZU1heCYmaS5iaXRyYXRlTWluJiZpLmZyYW1lUmF0ZSYmaS5oZWlnaHQmJmkud2lkdGgpKXJldHVybjtsZXQgcj1pLmZyYW1lUmF0ZSxvPWkud2lkdGgscz1pLmhlaWdodCxhPSEwO3JldHVybiB0eXBlb2YgciE9XCJudW1iZXJcIiYmKHI9ci5leGFjdHx8ci5pZGVhbHx8ci5tYXh8fHIubWlufHwwLHJ8fChhPSExKSksdHlwZW9mIG8hPVwibnVtYmVyXCImJihvPW8uZXhhY3R8fG8uaWRlYWx8fG8ubWF4fHxvLm1pbnx8MCxvfHwoYT0hMSkpLHR5cGVvZiBzIT1cIm51bWJlclwiJiYocz1zLmV4YWN0fHxzLmlkZWFsfHxzLm1heHx8cy5taW58fDAscnx8KGE9ITEpKSxhP3tzdHJlYW1fdHlwZTowLHdpZHRoOm8saGVpZ2h0OnMsZnBzOnIsc3RhcnRfYnBzOjFlMyppLmJpdHJhdGVNYXgsbWluX2JwczoxZTMqaS5iaXRyYXRlTWluLHRhcmdldF9icHM6MWUzKmkuYml0cmF0ZU1heH06dm9pZCAwfShlKTtpZihuKXJldHVybiB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LlNFVF9WSURFT19QUk9GSUxFLG4pO18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGVuY29kZXIgY29uZmlnIGlzIG5vdCBjb21wbGV0ZSwgZG8gbm90IHJlcG9ydCB0byBnYXRld2F5XCIpKTt9YXN5bmMgdW5zdWJzY3JpYmUoZSxuKXt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5VTlNVQlNDUklCRSx7cDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsb3J0YzplLHN0cmVhbV9pZDpufSwhMCk7fWNhdGNoKGkpe18ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gdW5zdWJzY3JpYmUgd2FybmluZzogXCIpLGkpO319YXN5bmMgdW5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLG4pe3RyeXtpZih0aGlzLnN0YXRlIT09XCJDT05ORUNURURcIiYmdGhpcy5zdGF0ZSE9PVwiUkVDT05ORUNUSU5HXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgcHVibGlzaCB3aGVuIGNvbm5lY3Rpb24gc3RhdGUgaXMgXCIuY29uY2F0KHRoaXMuc3RhdGUpKTthd2FpdCBqLmFsbChlLm1hcChpPT50aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LlVOU1VCU0NSSUJFX0RBVEFTVFJFQU0se3N0cmVhbV9pZDppLHVpZDpufSwhMCkpKTt9Y2F0Y2goaSl7Xy53YXJuaW5nKFwidW5zdWJzY3JpYmVEYXRhQ2hhbm5lbCB3YXJuaW5nOiBcIixpKTt9fWFzeW5jIG1hc3NVbnN1YnNjcmliZShlKXt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5VTlNVQlNDUklCRV9TVFJFQU1TLGUsITApO31jYXRjaChuKXtfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIG1hc3NVbnN1YnNjcmliZUFsbCB3YXJuaW5nOiBcIiksbik7fX1hc3luYyByZWNvbm5lY3RQQyhlKXtsZXR7aWNlUGFyYW1ldGVyczpuLGR0bHNQYXJhbWV0ZXJzOmkscnRwQ2FwYWJpbGl0aWVzOnJ9PWU7cmV0dXJuIHtnYXRld2F5RXN0YWJsaXNoUGFyYW1zOmF3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuQ09OTkVDVF9QQyx7cDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsc3RyZWFtX2lkOnRoaXMuc3RvcmUudWlkLG9ydGM6e2ljZVBhcmFtZXRlcnM6bixkdGxzUGFyYW1ldGVyczppLHJ0cENhcGFiaWxpdGllczpyfX0sITApLGdhdGV3YXlBZGRyZXNzOnRoaXMuZ2V0Q3VycmVudEdhdGV3YXlBZGRyZXNzKCl9fWdldEdhdGV3YXlJbmZvKCl7cmV0dXJuIHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuR0FURVdBWV9JTkZPKX1hc3luYyByZW5ld1Rva2VuKGUpe2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuUkVORVdfVE9LRU4sZSksdGhpcy5rZXk9ZS50b2tlbjt9YXN5bmMgc2V0Q2xpZW50Um9sZShlLG4pe2lmKG4mJih0aGlzLl9jbGllbnRSb2xlT3B0aW9ucz1PYmplY3QuYXNzaWduKHt9LG4pKSx0aGlzLnN0YXRlIT09XCJDT05ORUNURURcIilyZXR1cm4gdm9pZCh0aGlzLnJvbGU9ZSk7bGV0IGkscj0wO2U9PT1cImF1ZGllbmNlXCI/dGhpcy5fY2xpZW50Um9sZU9wdGlvbnMmJnRoaXMuX2NsaWVudFJvbGVPcHRpb25zLmRlbGF5PyhpPXRoaXMuX2NsaWVudFJvbGVPcHRpb25zLmRlbGF5LHI9MSk6cj10aGlzLl9jbGllbnRSb2xlT3B0aW9ucyYmdGhpcy5fY2xpZW50Um9sZU9wdGlvbnMubGV2ZWw/dGhpcy5fY2xpZW50Um9sZU9wdGlvbnMubGV2ZWw6MjpyPTAsYXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5TRVRfQ0xJRU5UX1JPTEUse3JvbGU6ZSxsZXZlbDpyLGRlbGF5OmksY2xpZW50X3RzOkRhdGUubm93KCl9KSx0aGlzLnJvbGU9ZTt9YXN5bmMgc2V0UmVtb3RlVmlkZW9TdHJlYW1UeXBlKGUsbil7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5TV0lUQ0hfVklERU9fU1RSRUFNLHtzdHJlYW1faWQ6ZSxzdHJlYW1fdHlwZTpufSk7fWFzeW5jIHNldERlZmF1bHRSZW1vdGVWaWRlb1N0cmVhbVR5cGUoZSl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5ERUZBVUxUX1ZJREVPX1NUUkVBTSx7c3RyZWFtX3R5cGU6ZX0pO31hc3luYyBzZXRTdHJlYW1GYWxsYmFja09wdGlvbihlLG4pe2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuU0VUX0ZBTExCQUNLX09QVElPTix7c3RyZWFtX2lkOmUsZmFsbGJhY2tfdHlwZTpufSk7fWFzeW5jIHBpY2tTVkNMYXllcihlLG4pe2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuUElDS19TVkNfTEFZRVIse3N0cmVhbV9pZDplLHNwYXRpYWxfbGF5ZXI6bi5zcGF0aWFsTGF5ZXIsdGVtcG9yYWxfbGF5ZXI6bi50ZW1wb3JhbExheWVyfSk7fWFzeW5jIHNldFJUTTJGbGFnKGUpe2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuU0VUX1JUTTJfRkxBRyx7cnRtMl9mbGFnOmV9KTt9YXN5bmMgc2VuZEV4dGVuc2lvbk1lc3NhZ2UoZSxuLGkpe2lmKHRoaXMuc2lnbmFsIGluc3RhbmNlb2YgZHUpcmV0dXJuIHRoaXMuc2lnbmFsLnNlbmRFeHRlbnNpb25NZXNzYWdlKGUsbixpKX1nZXRJbkNoYW5uZWxJbmZvKCl7cmV0dXJuIHRoaXMuaW5DaGFubmVsSW5mby5qb2luQXQmJih0aGlzLmluQ2hhbm5lbEluZm8uZHVyYXRpb249RGF0ZS5ub3coKS10aGlzLmluQ2hhbm5lbEluZm8uam9pbkF0KSxqcih7fSx0aGlzLmluQ2hhbm5lbEluZm8pfWFzeW5jIGdldEdhdGV3YXlWZXJzaW9uKCl7cmV0dXJuIChhd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LkdBVEVXQVlfSU5GTykpLnZlcnNpb259cmVzZXQoKXtpZih0aGlzLmluQ2hhbm5lbEluZm8uam9pbkF0JiYodGhpcy5pbkNoYW5uZWxJbmZvLmR1cmF0aW9uPURhdGUubm93KCktdGhpcy5pbkNoYW5uZWxJbmZvLmpvaW5BdCx0aGlzLmluQ2hhbm5lbEluZm8uam9pbkF0PW51bGwpLHRoaXMudHJhZmZpY1N0YXRzSW50ZXJ2YWwmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnRyYWZmaWNTdGF0c0ludGVydmFsKSx0aGlzLnRyYWZmaWNTdGF0c0ludGVydmFsPXZvaWQgMCksdGhpcy5qb2luSW5mbyl7bGV0IGU9ZF8uZ2V0KHRoaXMuam9pbkluZm8uY25hbWUpO2UmJmUuZGVsZXRlKHRoaXMuam9pbkluZm8udWlkKTt9dGhpcy5qb2luSW5mbz12b2lkIDAsdGhpcy5rZXk9dm9pZCAwLHRoaXMubmV0d29ya1F1YWxpdHlJbnRlcnZhbCYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMubmV0d29ya1F1YWxpdHlJbnRlcnZhbCksdGhpcy5uZXR3b3JrUXVhbGl0eUludGVydmFsPXZvaWQgMCk7fXVwZGF0ZVR1cm5Db25maWdGcm9tU2lnbmFsKCl7aWYoIXRoaXMuam9pbkluZm8pcmV0dXJuO2xldCBlPWZ1bmN0aW9uKG4pe2xldCBpO3JldHVybiBpPW4uc3RhcnRzV2l0aChcImRjXCIpP24ubWF0Y2goLyhkY1xcOlxcL1xcLyk/KFteOl0rKTooXFxkKykvKTpuLm1hdGNoKC8od3NzXFw6XFwvXFwvKT8oW146XSspOihcXGQrKS8pLGk/e3VzZXJuYW1lOlZlLnVzZXJuYW1lLHBhc3N3b3JkOlZlLnBhc3N3b3JkLHR1cm5TZXJ2ZXJVUkw6aVsyXSx0Y3Bwb3J0OnBhcnNlSW50KGlbM10pKzMwLHVkcHBvcnQ6cGFyc2VJbnQoaVszXSkrMzAsZm9yY2V0dXJuOiExfTpudWxsfSgodGhpcy5qb2luSW5mby5jbG91ZFByb3h5U2VydmVyPT09XCJkaXNhYmxlZFwiP3RoaXMuc2lnbmFsLnVybDp0aGlzLmpvaW5JbmZvLmdhdGV3YXlBZGRyc1t0aGlzLnNpZ25hbC5jdXJyZW50VVJMSW5kZXhdLmFkZHJlc3MpfHxcIlwiKTt0aGlzLmpvaW5JbmZvLnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5PVtdLGUmJnRoaXMuam9pbkluZm8udHVyblNlcnZlci5tb2RlIT09XCJvZmZcIiYmdGhpcy5qb2luSW5mby5jbG91ZFByb3h5U2VydmVyPT09XCJkaXNhYmxlZFwiJiZ0aGlzLmpvaW5JbmZvLnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5LnB1c2goanIoanIoe30sVmUpLHt9LHt0dXJuU2VydmVyVVJMOmUudHVyblNlcnZlclVSTCx0Y3Bwb3J0OmUudGNwcG9ydCx1ZHBwb3J0OmUudWRwcG9ydCx1c2VybmFtZTp0aGlzLmpvaW5JbmZvLnVpZC50b1N0cmluZygpLHBhc3N3b3JkOnRoaXMuam9pbkluZm8udG9rZW59KSk7fWFzeW5jIHVwZGF0ZVRyYWZmaWNTdGF0cygpe2lmKHRoaXMuc3RhdGUhPT1cIkNPTk5FQ1RFRFwiKXJldHVybjtsZXQgZT1hd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LlRSQUZGSUNfU1RBVFMsdm9pZCAwLCEwKTtlLnRpbWVzdGFtcD1EYXRlLm5vdygpLGUubnRwX29mZnNldCE9bnVsbCYmKHRoaXMubnRwT2Zmc2V0PWUubnRwX29mZnNldCksZS5wZWVyX2RlbGF5LmZvckVhY2gobj0+e2xldCBpPXRoaXMuX3N0YXRzQ29sbGVjdG9yLnRyYWZmaWNTdGF0cyYmdGhpcy5fc3RhdHNDb2xsZWN0b3IudHJhZmZpY1N0YXRzLnBlZXJfZGVsYXkuZmluZChyPT5yLnBlZXJfdWlkPT09bi5wZWVyX3VpZCk7aSYmaS5CX3N0IT09bi5CX3N0JiZxdSgoKT0+e3RoaXMuZW1pdCh4ZS5TVFJFQU1fVFlQRV9DSEFOR0Usbi5wZWVyX3VpZCxuLkJfc3QpO30pO30pLHRoaXMuX3N0YXRzQ29sbGVjdG9yLnVwZGF0ZVRyYWZmaWNTdGF0cyhlKTt9Z2V0Sm9pbk1lc3NhZ2UoZSl7aWYoIXRoaXMuam9pbkluZm98fCF0aGlzLmtleSl0aHJvdyBuZXcgTyhSLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGdlbmVyYXRlIGpvaW4gbWVzc2FnZSwgbm8gam9pbiBpbmZvXCIpO2xldCBuPU9iamVjdC5hc3NpZ24oe30sdGhpcy5qb2luSW5mby5hcFJlc3BvbnNlKSxpPXYoXCJSRVBPUlRfQVBQX1NDRU5BUklPXCIpO2lmKHR5cGVvZiBpIT1cInN0cmluZ1wiKXRyeXtpPUpTT04uc3RyaW5naWZ5KGkpO31jYXRjaHtpPXZvaWQgMDt9aSYmaS5sZW5ndGg+MTI4JiYoaT12b2lkIDApO2xldCByPSEoJHQoKXx8RU8oODcpfHxwQygpKSYmdHlwZW9mIHYoXCJFTkFCTEVfUFJFX1NVQlwiKT09XCJib29sZWFuXCImJnYoXCJFTkFCTEVfUFJFX1NVQlwiKSxvPSFwQygpJiZYaShcIkVOQUJMRV9QUkVBTExPQ19QQ1wiLFwiYm9vbGVhblwiKSxzPWpyKHtsaWNlbnNlOnRoaXMuam9pbkluZm8ubGljZW5zZSxwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxzZXNzaW9uX2lkOnRoaXMuam9pbkluZm8uc2lkLGFwcF9pZDp0aGlzLmpvaW5JbmZvLmFwcElkLGNoYW5uZWxfa2V5OnRoaXMua2V5LGNoYW5uZWxfbmFtZTp0aGlzLmpvaW5JbmZvLmNuYW1lLHNka192ZXJzaW9uOmlpLGJyb3dzZXI6bmF2aWdhdG9yLnVzZXJBZ2VudCxwcm9jZXNzX2lkOnYoXCJQUk9DRVNTX0lEXCIpLG1vZGU6dGhpcy5zdG9yZS51c2VQMlA/XCJwMnBcIjp0aGlzLnNwZWMubW9kZSxjb2RlYzp0aGlzLnNwZWMuY29kZWMscm9sZTp0aGlzLnJvbGUsaGFzX2NoYW5nZWRfZ2F0ZXdheTp0aGlzLmhhc0NoYW5nZUJHUEFkZHJlc3MsYXBfcmVzcG9uc2U6bixleHRlbmQ6dihcIkpPSU5fRVhURU5EXCIpLGRldGFpbHM6ezY6dGhpcy5qb2luSW5mby5zdHJpbmdVaWQsY3NlcnZpY2VfbWFwOnRoaXMuam9pbkluZm8uY2xvdWRQcm94eVNlcnZlcj09PVwicHJveHkzXCI/XCIxXCI6dGhpcy5qb2luSW5mby5jbG91ZFByb3h5U2VydmVyPT09XCJwcm94eTVcIj9cIjJcIjp2b2lkIDB9LGZlYXR1cmVzOntyZWpvaW46ITB9LG9wdGlvbmFsSW5mbzp0aGlzLmpvaW5JbmZvLm9wdGlvbmFsSW5mbyxhcHBTY2VuYXJpbzppLGF0dHJpYnV0ZXM6e3VzZXJBdHRyaWJ1dGVzOntlbmFibGVQdWJsaXNoZWRVc2VyTGlzdDp2KFwiRU5BQkxFX1BVQkxJU0hFRF9VU0VSX0xJU1RcIiksbWF4U3Vic2NyaXB0aW9uOnYoXCJNQVhfU1VCU0NSSVBUSU9OXCIpLHN1YnNjcmliZUF1ZGlvRmlsdGVyVG9wTjp0eXBlb2YgdihcIlNVQlNDUklCRV9BVURJT19GSUxURVJfVE9QTlwiKT09XCJudW1iZXJcIj92KFwiU1VCU0NSSUJFX0FVRElPX0ZJTFRFUl9UT1BOXCIpOnZvaWQgMCxlbmFibGVQdWJsaXNoQXVkaW9GaWx0ZXI6dHlwZW9mIHYoXCJFTkFCTEVfUFVCTElTSF9BVURJT19GSUxURVJcIik9PVwiYm9vbGVhblwiP3YoXCJFTkFCTEVfUFVCTElTSF9BVURJT19GSUxURVJcIik6dm9pZCAwLGVuYWJsZVVzZXJMaWNlbnNlQ2hlY2s6dHlwZW9mIHYoXCJFTkFCTEVfVVNFUl9MSUNFTlNFX0NIRUNLXCIpPT1cImJvb2xlYW5cIj92KFwiRU5BQkxFX1VTRVJfTElDRU5TRV9DSEVDS1wiKTp2b2lkIDAsZW5hYmxlUlRYOnYoXCJVU0VfUFVCX1JUWFwiKT09PSEwfHx2KFwiVVNFX1NVQl9SVFhcIik9PT0hMHx8dm9pZCAwLGRpc2FibGVGRUM6dihcIkRJU0FCTEVfRkVDXCIpLGVuYWJsZU5UUFJlcG9ydDohIXYoXCJFTkFCTEVfTlRQX1JFUE9SVFwiKXx8dm9pZCAwLGVuYWJsZUluc3RhbnRWaWRlbzohIXYoXCJFTkFCTEVfSU5TVEFOVF9WSURFT1wiKXx8dm9pZCAwLGVuYWJsZUZ1bGxsaW5rQXZTeW5jOiEhdihcIkVOQUJMRV9GVUxMX0xJTktfQVZfU1lOQ1wiKXx8dm9pZCAwLGVuYWJsZURhdGFTdHJlYW0yOlhpKFwiRU5BQkxFX0RBVEFTVFJFQU1fMlwiLFwiYm9vbGVhblwiKSxlbmFibGVBdXRGZWVkYmFjazohIXYoXCJFTkFCTEVfQVVUX0ZFRURCQUNLXCIpfHx2b2lkIDAscnRtMkZsYWc6dHlwZW9mIHRoaXMuam9pbkluZm8ucnRtRmxhZz09XCJudW1iZXJcIj90aGlzLmpvaW5JbmZvLnJ0bUZsYWc6dm9pZCAwLGVuYWJsZVVzZXJBdXRvUmViYWxhbmNlQ2hlY2s6ISF2KFwiRU5BQkxFX1VTRVJfQVVUT19SRUJBTEFOQ0VfQ0hFQ0tcIiksZW5hYmxlWFI6WGkoXCJVU0VfWFJcIixcImJvb2xlYW5cIiksZW5hYmxlTG9zc2Jhc2VkQndlOlhpKFwiRU5BQkxFX0xPU1NCQVNFRF9CV0VcIixcImJvb2xlYW5cIiksZW5hYmxlQXV0Q0M6ISF2KFwiRU5BQkxFX0FVVF9DQ1wiKXx8dm9pZCAwLGVuYWJsZUNDRmFsbGJhY2s6WGkoXCJFTkFCTEVfQ0NfRkFMTEJBQ0tcIixcImJvb2xlYW5cIiksZW5hYmxlUHJlYWxsb2NQQzpvLHByZVN1Yk51bTpyP1hpKFwiUFJFX1NVQl9OVU1cIixcIm51bWJlclwiKTp2b2lkIDAsZW5hYmxlUHViVFdDQzpYaShcIlBVQkxJU0hfVFdDQ1wiLFwiYm9vbGVhblwiKSxlbmFibGVTdWJUV0NDOlhpKFwiU1VCU0NSSUJFX1RXQ0NcIixcImJvb2xlYW5cIiksZW5hYmxlUHViUlRYOlhpKFwiVVNFX1BVQl9SVFhcIixcImJvb2xlYW5cIiksZW5hYmxlU3ViUlRYOlhpKFwiVVNFX1NVQl9SVFhcIixcImJvb2xlYW5cIiksZW5hYmxlU3ViU1ZDOnYoXCJFTkFCTEVfU1ZDXCIpP3YoXCJFTkFCTEVfU1ZDX0RFRkFVTFRfQ09ERUNTXCIpOkFycmF5LmlzQXJyYXkodihcIlNWQ1wiKSkmJnYoXCJTVkNcIikubGVuZ3RoIT09MD92KFwiU1ZDXCIpOnZvaWQgMH19LGpvaW5fdHM6dGhpcy5qb2luR2F0ZXdheVN0YXJ0VGltZX0sZSk7cmV0dXJuIHRoaXMuam9pbkluZm8uc3RyaW5nVWlkJiYocy5zdHJpbmdfdWlkPXRoaXMuam9pbkluZm8uc3RyaW5nVWlkKSx0aGlzLmpvaW5JbmZvLmFlc21vZGUmJnRoaXMuam9pbkluZm8uYWVzcGFzc3dvcmQmJihzLmFlc19tb2RlPXRoaXMuam9pbkluZm8uYWVzbW9kZSx2KFwiRU5DUllQVF9BRVNcIik/KHMuYWVzX3NlY3JldD10aGlzLmpvaW5JbmZvLmFlc3Bhc3N3b3JkLHMuYWVzX2VuY3J5cHQ9ITApOnMuYWVzX3NlY3JldD10aGlzLmpvaW5JbmZvLmFlc3Bhc3N3b3JkLHRoaXMuam9pbkluZm8uYWVzc2FsdCYmKHMuYWVzX3NhbHQ9dGhpcy5qb2luSW5mby5hZXNzYWx0KSksbi5hZGRyZXNzZXNbdGhpcy5zaWduYWwud2Vic29ja2V0LmN1cnJlbnRVUkxJbmRleF0mJihzLmFwX3Jlc3BvbnNlLnRpY2tldD1uLmFkZHJlc3Nlc1t0aGlzLnNpZ25hbC53ZWJzb2NrZXQuY3VycmVudFVSTEluZGV4XS50aWNrZXQsZGVsZXRlIG4uYWRkcmVzc2VzKSx0aGlzLmpvaW5JbmZvLmRlZmF1bHRWaWRlb1N0cmVhbSE9PXZvaWQgMCYmKHMuZGVmYXVsdF92aWRlb19zdHJlYW09dGhpcy5qb2luSW5mby5kZWZhdWx0VmlkZW9TdHJlYW0pLHN9Z2V0UmVqb2luTWVzc2FnZSgpe2lmKCF0aGlzLmpvaW5JbmZvKXRocm93IG5ldyBPKFIuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZ2VuZXJhdGUgcmVqb2luIG1lc3NhZ2UsIG5vIGpvaW4gaW5mb1wiKTtyZXR1cm4ge3Nlc3Npb25faWQ6dGhpcy5qb2luSW5mby5zaWQsY2hhbm5lbF9uYW1lOnRoaXMuam9pbkluZm8uY25hbWUsY2lkOnRoaXMuam9pbkluZm8uY2lkLHVpZDp0aGlzLmpvaW5JbmZvLnVpZCx2aWQ6TnVtYmVyKHRoaXMuam9pbkluZm8udmlkKX19aGFuZGxlU2lnbmFsRXZlbnRzKCl7dGhpcy5zaWduYWwub24obnQuV1NfUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSCxlPT57dmFyIG47VyhuPVtcInRyeU5leHRcIixcInJlY292ZXJcIl0pLmNhbGwobixlKSYmdGhpcy5qb2luSW5mbyYmWC5hZGp1c3RTZXNzaW9uU3RhcnRUaW1lKHRoaXMuam9pbkluZm8uc2lkKTt9KSx0aGlzLnNpZ25hbC5vbihudC5XU19SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT04sZT0+e3RoaXMuam9pbkdhdGV3YXlTdGFydFRpbWU9RGF0ZS5ub3coKTt9KSx0aGlzLnNpZ25hbC5vbihudC5XU19SRUNPTk5FQ1RJTkcsZT0+e3RoaXMuam9pbkluZm8mJlguV2ViU29ja2V0UXVpdCh0aGlzLmpvaW5JbmZvLnNpZCx7bHRzOkRhdGUubm93KCksc3VjYzotMSxjbmFtZTp0aGlzLmpvaW5JbmZvLmNuYW1lLHVpZDp0aGlzLmpvaW5JbmZvLnVpZCxjaWQ6dGhpcy5qb2luSW5mby5jaWQsZXJyb3JDb2RlOmV8fEJlLk5FVFdPUktfRVJST1J9KSx0aGlzLmpvaW5JbmZvJiYodGhpcy5zdGF0ZT1cIlJFQ09OTkVDVElOR1wiLFguc2Vzc2lvbkluaXQodGhpcy5qb2luSW5mby5zaWQse2x0czpuZXcgRGF0ZSgpLmdldFRpbWUoKSxleHRlbmQ6dGhpcy5pc1NpZ25hbFJlY292ZXI/e3JlY292ZXI6ITB9OntyZWpvaW46ITB9LGNuYW1lOnRoaXMuam9pbkluZm8uY25hbWUsYXBwaWQ6dGhpcy5qb2luSW5mby5hcHBJZCxtb2RlOnRoaXMuc3BlYy5tb2RlLHN0cmluZ1VpZDp0aGlzLmpvaW5JbmZvLnN0cmluZ1VpZCxjaGFubmVsUHJvZmlsZTp0aGlzLnNwZWMubW9kZT09PVwibGl2ZVwiPzE6MCxjaGFubmVsTW9kZTowLGxzaWQ6dGhpcy5qb2luSW5mby5zaWQsY2xpZW50Um9sZTp0aGlzLnJvbGU9PT1cImF1ZGllbmNlXCI/MjoxLGJ1aWxkRm9ybWF0OjJ9KSx0aGlzLmlzU2lnbmFsUmVjb3Zlcj0hMSx0aGlzLmpvaW5HYXRld2F5U3RhcnRUaW1lPURhdGUubm93KCkpO30pLHRoaXMuc2lnbmFsLm9uKG50LldTX0NMT1NFRCxlPT57bGV0IG47c3dpdGNoKGUpe2Nhc2UgQXQuTEVBVkU6bj1CZS5MRUFWRTticmVhaztjYXNlIEF0LlVJRF9CQU5ORUQ6Y2FzZSBBdC5JUF9CQU5ORUQ6Y2FzZSBBdC5DSEFOTkVMX0JBTk5FRDpjYXNlIEF0LlNFUlZFUl9FUlJPUjpuPUJlLlNFUlZFUl9FUlJPUjticmVhaztjYXNlIEF0LkZBTExCQUNLOm49QmUuRkFMTEJBQ0s7YnJlYWs7Y2FzZSBBdC5MSUNFTlNFX01JU1NJTkc6Y2FzZSBBdC5MSUNFTlNFX0VYUElSRUQ6Y2FzZSBBdC5MSUNFTlNFX01JTlVURVNfRVhDRUVERUQ6Y2FzZSBBdC5MSUNFTlNFX1BFUklPRF9JTlZBTElEOmNhc2UgQXQuTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRTpjYXNlIEF0LkxJQ0VOU0VfSUxMRUdBTDpjYXNlIEF0LlRPS0VOX0VYUElSRTpuPWU7YnJlYWs7ZGVmYXVsdDpuPUJlLk5FVFdPUktfRVJST1I7fV8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtzaWduYWxdIHdlYnNvY2tldCBjbG9zZWQsIHJlYXNvbjogXCIpLmNvbmNhdChufHxcInVuZGVmaW5lZCAtPiBcIitCZS5ORVRXT1JLX0VSUk9SKSksdGhpcy5qb2luSW5mbyYmWC5XZWJTb2NrZXRRdWl0KHRoaXMuam9pbkluZm8uc2lkLHtsdHM6RGF0ZS5ub3coKSxzdWNjOmU9PT1BdC5MRUFWRT8xOi0xLGNuYW1lOnRoaXMuam9pbkluZm8uY25hbWUsdWlkOnRoaXMuam9pbkluZm8udWlkLGNpZDp0aGlzLmpvaW5JbmZvLmNpZCxlcnJvckNvZGU6bn0pLHRoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbj1lLGUhPT1BdC5GQUxMQkFDSyYmKHRoaXMuc3RhdGU9XCJESVNDT05ORUNURURcIiksdGhpcy5yZXNldCgpO30pLHRoaXMuc2lnbmFsLm9uKG50LldTX0NPTk5FQ1RFRCwoKT0+e2lmKHRoaXMudXBkYXRlVHVybkNvbmZpZ0Zyb21TaWduYWwoKSx0aGlzLnN0YXRlPVwiQ09OTkVDVEVEXCIsdGhpcy5qb2luSW5mbyYmKHRoaXMucm9sZT09PVwiYXVkaWVuY2VcIiYmdGhpcy5fY2xpZW50Um9sZU9wdGlvbnMmJih0aGlzLl9jbGllbnRSb2xlT3B0aW9ucy5sZXZlbHx8dGhpcy5fY2xpZW50Um9sZU9wdGlvbnMuZGVsYXkpJiYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gcGF0Y2ggdG8gc2VuZCBzZXQgY2xpZW50IHJvbGUsIHJvbGU6IFwiKS5jb25jYXQodGhpcy5yb2xlLFwiLCBtb2RlOiBcIikuY29uY2F0KHRoaXMuc3BlYy5tb2RlLFwiLCBsZXZlbDogXCIpLmNvbmNhdCh0aGlzLl9jbGllbnRSb2xlT3B0aW9ucy5sZXZlbCxcIiwgZGVsYXk6IFwiKS5jb25jYXQodGhpcy5fY2xpZW50Um9sZU9wdGlvbnMuZGVsYXkpKSx0aGlzLnNldENsaWVudFJvbGUodGhpcy5yb2xlLHRoaXMuX2NsaWVudFJvbGVPcHRpb25zKSksWC5qb2luR2F0ZXdheSh0aGlzLmpvaW5JbmZvLnNpZCx7bHRzOnRoaXMuam9pbkdhdGV3YXlTdGFydFRpbWUsc3VjYzohMCxlYzpudWxsLHZpZDp0aGlzLmpvaW5JbmZvLnZpZCxhZGRyOnRoaXMuc2lnbmFsLnVybCx1aWQ6dGhpcy5qb2luSW5mby51aWQsY2lkOnRoaXMuam9pbkluZm8uY2lkLGZpcnN0U3VjY2Vzczp0aGlzLl9pc1Byb2FjdGl2ZUpvaW4sYXZvaWRKb2luU3RhcnRUaW1lOnRoaXMuc3RvcmUuYXZvaWRKb2luU3RhcnQsaXNQcm94eTohIXRoaXMuam9pbkluZm8ucHJveHlTZXJ2ZXIsc2lnbmFsQ2hhbm5lbDpcIjBcIixwcmVsb2FkOnRoaXMuam9pbkluZm8ucHJlbG9hZH0pLHRoaXMuX2lzUHJvYWN0aXZlSm9pbj0hMSx0aGlzLmpvaW5JbmZvLnVzZUxvY2FsQWNjZXNzUG9pbnQmJnRoaXMuam9pbkluZm8uc2V0TG9jYWxBUFZlcnNpb249PT0xKSl7bGV0IGU9dGhpcy5zaWduYWwudXJsJiZ0aGlzLnNpZ25hbC51cmwubWF0Y2goL3dzc1xcOlxcL1xcLyhbXjpdKyk6KFxcZCspLyk7aWYoIWUpcmV0dXJuIHZvaWQgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gc2V0IGxvY2FsIGFjY2VzcyBwb2ludCBhZnRlciBqb2luZWQgZmFpbGVkOiBcIikuY29uY2F0KGUpKTtPdChcIkVWRU5UX1JFUE9SVF9ET01BSU5cIixlWzFdKSxPdChcIkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOXCIsZVsxXSksT3QoXCJMT0dfVVBMT0FEX1NFUlZFUlwiLFwiXCIuY29uY2F0KGVbMV0sXCI6NjQ0NFwiKSk7fX0pLHRoaXMuc2lnbmFsLm9uKGR0Lk9OX1VQTElOS19TVEFUUyxlPT57dGhpcy5fc3RhdHNDb2xsZWN0b3IudXBkYXRlVXBsaW5rU3RhdHMoZSk7fSksdGhpcy5zaWduYWwub24obnQuUkVRVUVTVF9SRUNPVkVSLChlLG4saSk9PntpZighdGhpcy5qb2luSW5mbylyZXR1cm4gaShuZXcgTyhSLlVORVhQRUNURURfRVJST1IsXCJnYXRld2F5OiBjYW4gbm90IHJlY292ZXIsIG5vIGpvaW4gaW5mb1wiKSk7ZSYmKHRoaXMuam9pbkluZm8ubXVsdGlJUD1lLHRoaXMuaGFzQ2hhbmdlQkdQQWRkcmVzcz0hMCksdGhpcy5pc1NpZ25hbFJlY292ZXI9ITAsR2UodGhpcyx4ZS5SRVFVRVNUX05FV19HQVRFV0FZX0xJU1QpLnRoZW4obikuY2F0Y2goaSk7fSksdGhpcy5zaWduYWwub24obnQuUkVRVUVTVF9KT0lOX0lORk8sYXN5bmMgZT0+e3ZhciBuO2lmKHRoaXMudXBkYXRlVHVybkNvbmZpZ0Zyb21TaWduYWwoKSx0aGlzLnN0b3JlLnVzZVAyUClyZXR1cm4gdm9pZCBlKHRoaXMuZ2V0Sm9pbk1lc3NhZ2Uoe29ydGM6e319KSk7bGV0e2ljZVBhcmFtZXRlcnM6aSxkdGxzUGFyYW1ldGVyczpyLHJ0cENhcGFiaWxpdGllczpvfT1hd2FpdCBHZSh0aGlzLHhlLlJFUVVFU1RfUDJQX0NPTk5FQ1RJT05fUEFSQU1TLHt0dXJuU2VydmVyOihuPXRoaXMuam9pbkluZm8pPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi50dXJuU2VydmVyfSk7ZSh0aGlzLmdldEpvaW5NZXNzYWdlKHtvcnRjOntpY2VQYXJhbWV0ZXJzOmksZHRsc1BhcmFtZXRlcnM6cixydHBDYXBhYmlsaXRpZXM6byx2ZXJzaW9uOlwiMlwifX0pKTt9KSx0aGlzLnNpZ25hbC5vbihudC5SRVFVRVNUX1JFSk9JTl9JTkZPLGU9PntlKHRoaXMuZ2V0UmVqb2luTWVzc2FnZSgpKTt9KSx0aGlzLnNpZ25hbC5vbihudC5SRVBPUlRfSk9JTl9HQVRFV0FZLChlLG4pPT57aWYoIXRoaXMuam9pbkluZm8pcmV0dXJuO2xldCBpLHI9XCJcIjt2YXIgbztlIGluc3RhbmNlb2YgTz8oaT0oKG89ZS5kYXRhKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8uZGVzYyl8fGUuY29kZSxyPWUubWVzc2FnZSk6aT1lLFguam9pbkdhdGV3YXkodGhpcy5qb2luSW5mby5zaWQse2x0czp0aGlzLmpvaW5HYXRld2F5U3RhcnRUaW1lLHN1Y2M6ITEsZWM6aSxlcnJvck1zZzpyLGFkZHI6bix1aWQ6dGhpcy5qb2luSW5mby51aWQsY2lkOnRoaXMuam9pbkluZm8uY2lkLGZpcnN0U3VjY2Vzczp0aGlzLl9pc1Byb2FjdGl2ZUpvaW4sYXZvaWRKb2luU3RhcnRUaW1lOnRoaXMuc3RvcmUuYXZvaWRKb2luU3RhcnQsaXNQcm94eTohIXRoaXMuam9pbkluZm8ucHJveHlTZXJ2ZXIsc2lnbmFsQ2hhbm5lbDpcIjBcIixwcmVsb2FkOnRoaXMuam9pbkluZm8ucHJlbG9hZH0pLHRoaXMuX2lzUHJvYWN0aXZlSm9pbj0hMTt9KSx0aGlzLnNpZ25hbC5vbihudC5JU19QMlBfRElTQ09OTkVDVEVELGU9PntlKEFjKHRoaXMseGUuSVNfUDJQX0RJU0NPTk5FQ1RFRCkpO30pLHRoaXMuc2lnbmFsLm9uKG50LkRJU0NPTk5FQ1RfUDJQLCgpPT57dGhpcy5lbWl0KHhlLkRJU0NPTk5FQ1RfUDJQKTt9KSx0aGlzLnNpZ25hbC5vbihudC5SRVFVRVNUX1NVQ0NFU1MsKCk9Pnt0aGlzLl9zaWduYWxUaW1lb3V0PSExO30pLHRoaXMuc2lnbmFsLm9uKG50LlJFUVVFU1RfVElNRU9VVCwoKT0+e3RoaXMuX3NpZ25hbFRpbWVvdXQ9ITA7fSksdGhpcy5zaWduYWwub24obnQuSk9JTl9SRVNQT05TRSxlPT57bGV0IG49dGhpcy5nZXRDdXJyZW50R2F0ZXdheUFkZHJlc3MoKTt0aGlzLmVtaXQoeGUuSk9JTl9SRVNQT05TRSxlLG4pO30pLHRoaXMuc2lnbmFsLm9uKG50LlBSRV9DT05ORUNUX1BDLGFzeW5jKCk9PntpZih0aGlzLmpvaW5JbmZvKXt0aGlzLnVwZGF0ZVR1cm5Db25maWdGcm9tU2lnbmFsKCk7bGV0IGU9dGhpcy5nZXRDdXJyZW50R2F0ZXdheUFkZHJlc3MoKSxuPXYoXCJGSU5HRVJQUklOVFwiKXx8dGhpcy5qb2luSW5mby5hcFJlc3BvbnNlLmFkZHJlc3Nlc1t0aGlzLnNpZ25hbC5jdXJyZW50VVJMSW5kZXhdLmZpbmdlcnByaW50O2lmKGUmJm4pe2xldCBpPWkwKGUpO3RoaXMuZW1pdCh4ZS5QUkVfQ09OTkVDVF9QQyx7Y2FuZGlkYXRlczppLGZpbmdlcnByaW50Om59KTt9fX0pO31hc3luYyB0cnlVbnN1YkJlZm9yZVJlc3ViKGUsbil7dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuVU5TVUJTQ1JJQkUse3AycF9pZDp0aGlzLnN0b3JlLnAycElkLHN0cmVhbV9pZDplLG9ydGM6W25dfSwhMCk7fWNhdGNoKGkpe3Rocm93IF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gdHJ5VW5zdWJCZWZvcmVSZXN1YiB3YXJuaW5nXCIpLGkpLGl9fWFzeW5jIHRyeVVuc3ViRGF0YUNoYW5uZWxCZWZvcmVSZXN1YihlLG4pe3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LlVOU1VCU0NSSUJFLHtzdHJlYW1faWQ6bi5pZH0sITApO31jYXRjaChpKXt0aHJvdyBfLndhcm5pbmcoXCJ1bnN1YnNjcmliZSBkYXRhY2hhbm5lbCB3YXJuaW5nXCIsaSksaX19YXN5bmMgdHJ5VW5wdWJCZWZvcmVSZXB1YihlLG4pe3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LlVOUFVCTElTSCx7c3RyZWFtX2lkOmUsb3J0YzpufSwhMCk7fWNhdGNoKGkpe3Rocm93IF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gdHJ5VW5wdWJCZWZvcmVSZXB1YiB3YXJuaW5nOiBcIiksaSksaX19YXN5bmMgdHJ5VW5wdWJEYXRhQ2hhbm5lbEJlZm9yZVJlcHViKGUsbil7dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuVU5QVUJMSVNIX0RBVEFTVFJFQU0se2NoYW5ubmVsX2lkOm4uY2hhbm5lbElkfSwhMCk7fWNhdGNoKGkpe3Rocm93IF8ud2FybmluZyhcInVucHVibGlzaCBkYXRhc3RyZWFtIHdhcm5pbmc6IFwiLGkpLGl9fWFzeW5jIHRyeU1hc3NVbnN1YkJlZm9yZVJlc3ViKGUpe2xldCBuPXt1c2VyczplLm1hcChpPT4oe3N0cmVhbV9pZDppLnN0cmVhbV9pZCxzdHJlYW1fdHlwZTppLnN0cmVhbV90eXBlfSkpfTt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5VTlNVQlNDUklCRV9TVFJFQU1TLG4sITApO31jYXRjaChpKXt0aHJvdyBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHRyeU1hc3NVbnN1YkJlZm9yZVJlc3ViIHdhcm5pbmdcIiksaSksaX19YXN5bmMgbXV0ZUxvY2FsKGUsbil7bGV0IGk9e2FjdGlvbjplLmZpbmQocj0+ci5zdHJlYW1fdHlwZT09PUN0LkF1ZGlvKT9cIm11dGVfbG9jYWxfYXVkaW9cIjpcIm11dGVfbG9jYWxfdmlkZW9cIixwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxvcnRjOmUsc3RyZWFtX2lkOm59O3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LkNPTlRST0wsaSwhMCwhMCk7fWNhdGNoKHIpe3Rocm93IF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gZ2F0ZXdheSBtdXRlTG9jYWwgd2FybmluZzogXCIpLHIpLHJ9fWFzeW5jIHVubXV0ZUxvY2FsKGUsbil7bGV0IGk9e2FjdGlvbjplLmZpbmQocj0+ci5zdHJlYW1fdHlwZT09PUN0LkF1ZGlvKT9cInVubXV0ZV9sb2NhbF9hdWRpb1wiOlwidW5tdXRlX2xvY2FsX3ZpZGVvXCIscDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsb3J0YzplLHN0cmVhbV9pZDpufTt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5DT05UUk9MLGksITAsITApO31jYXRjaChyKXt0aHJvdyBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGdhdGV3YXkgdW5tdXRlTG9jYWwgd2FybmluZzogXCIpLHIpLHJ9fWFzeW5jIG11dGVSZW1vdGUoZSxuKXtsZXQgaT17YWN0aW9uOmU9PT1RLkFVRElPP1wibXV0ZV9yZW1vdGVfYXVkaW9cIjpcIm11dGVfcmVtb3RlX3ZpZGVvXCIscDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsc3RyZWFtX2lkOm59O3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LkNPTlRST0wsaSwhMCwhMCk7fWNhdGNoKHIpe3Rocm93IF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gZ2F0ZXdheSBtdXRlUmVtb3RlIHdhcm5pbmc6IFwiKSxyKSxyfX1hc3luYyB1bm11dGVSZW1vdGUoZSxuKXtsZXQgaT17YWN0aW9uOmU9PT1RLkFVRElPP1widW5tdXRlX3JlbW90ZV9hdWRpb1wiOlwidW5tdXRlX3JlbW90ZV92aWRlb1wiLHAycF9pZDp0aGlzLnN0b3JlLnAycElkLHN0cmVhbV9pZDpufTt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChldC5DT05UUk9MLGksITAsITApO31jYXRjaChyKXt0aHJvdyBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGdhdGV3YXkgdW5tdXRlUmVtb3RlIHdhcm5pbmc6IFwiKSxyKSxyfX11cGxvYWRXUlRDU3RhdHMoZSl7dGhpcy5zaWduYWwudXBsb2FkV1JUQ1N0YXRzKGUpO311cGxvYWQoZSxuKXt0aGlzLnNpZ25hbC51cGxvYWQoZSxuKTt9Z2V0U2lnbmFsUlRUKCl7cmV0dXJuIHRoaXMuc2lnbmFsLnJ0dH1hc3luYyByZXN0YXJ0SUNFKGUpe2xldCBuPXtwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxzdHJlYW1faWQ6dGhpcy5zdG9yZS51aWQsb3J0YzplfTt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZXQuUkVTVEFSVF9JQ0UsbiwhMCl9Y2F0Y2goaSl7dGhyb3cgXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLnJlc3RhcnRJQ0Ugd2FybmluZzogXCIpLGkpLGl9fXJlY29ubmVjdCgpe3RoaXMuc3RhdGU9PT1cIkNPTk5FQ1RFRFwiJiZ0aGlzLnNpZ25hbC5yZWNvbm5lY3Qodm9pZCAwLEJlLlAyUF9GQUlMRUQpO31nZXRDdXJyZW50R2F0ZXdheUFkZHJlc3MoKXt2YXIgZSxuO2lmKCF2KFwiR0FURVdBWV9XU1NfQUREUkVTU1wiKSlyZXR1cm4gdihcIlVTRV9DQU5ESURBVEVfRlJPTV9BUF9ERVRBSUxcIikmJihlPXRoaXMuam9pbkluZm8pIT09bnVsbCYmZSE9PXZvaWQgMCYmZS5hcEdhdGV3YXlBZGRyZXNzPyhfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSB1c2UgY2FuZGlkYXRlIGZyb20gYXAgZGV0YWlsLCBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHRoaXMuam9pbkluZm8uYXBHYXRld2F5QWRkcmVzcykpKSx0aGlzLmpvaW5JbmZvLmFwR2F0ZXdheUFkZHJlc3MpOihuPXRoaXMuam9pbkluZm8pIT09bnVsbCYmbiE9PXZvaWQgMCYmbi5nYXRld2F5QWRkcnM/dGhpcy5qb2luSW5mby5nYXRld2F5QWRkcnNbdGhpcy5zaWduYWwuY3VycmVudFVSTEluZGV4XTp2b2lkIDB9YXN5bmMgc2V0UHVibGlzaEF1ZGlvRmlsdGVyRW5hYmxlZChlKXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGV0LlNFVF9QQVJBTUVURVIse2VuYWJsZVB1Ymxpc2hBdWRpb0ZpbHRlcjplfSk7fX0sSGQ9MCxsXz0wO2Z1bmN0aW9uIEhpKHQsZSxuLGkpe3JldHVybiBuZXcgaigocixvKT0+e2UudGltZW91dD1lLnRpbWVvdXR8fHYoXCJIVFRQX0NPTk5FQ1RfVElNRU9VVFwiKSxlLnJlc3BvbnNlVHlwZT1lLnJlc3BvbnNlVHlwZXx8XCJqc29uXCIsZS5kYXRhJiYhbj8oZS5kYXRhPUpTT04uc3RyaW5naWZ5KGUuZGF0YSksSGQrPWFyKGUuZGF0YSkpOm4mJihlLmRhdGEuc2l6ZT9IZCs9ZS5kYXRhLnNpemU6ZS5kYXRhIGluc3RhbmNlb2YgRm9ybURhdGE/SGQrPUFPKGUuZGF0YSk6SGQrPWFyKEpTT04uc3RyaW5naWZ5KGUuZGF0YSkpKSxlLmhlYWRlcnM9ZS5oZWFkZXJzfHx7fSxlLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl09ZS5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdfHxcImFwcGxpY2F0aW9uL2pzb25cIixlLm1ldGhvZD1cIlBPU1RcIixlLnVybD10LG1uLnJlcXVlc3QoZSkudGhlbihzPT57dHlwZW9mIHMuZGF0YT09XCJzdHJpbmdcIj9sXys9YXIocy5kYXRhKTpzLmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8cy5kYXRhIGluc3RhbmNlb2YgVWludDhBcnJheT9sXys9cy5kYXRhLmJ5dGVMZW5ndGg6bF8rPWFyKEpTT04uc3RyaW5naWZ5KHMuZGF0YSkpLGkmJnIoe2RhdGE6cy5kYXRhLGhlYWRlcnM6cy5oZWFkZXJzfSkscihzLmRhdGEpO30pLmNhdGNoKHM9Pnttbi5pc0NhbmNlbChzKT9vKG5ldyBPKFIuT1BFUkFUSU9OX0FCT1JURUQsXCJjYW5jZWwgdG9rZW4gY2FuY2VsZWRcIikpOnMuY29kZT09PVwiRUNPTk5BQk9SVEVEXCI/byhuZXcgTyhSLk5FVFdPUktfVElNRU9VVCxzLm1lc3NhZ2UpKTpzLnJlc3BvbnNlP28obmV3IE8oUi5ORVRXT1JLX1JFU1BPTlNFX0VSUk9SLHMucmVzcG9uc2Uuc3RhdHVzKSk6byhuZXcgTyhSLk5FVFdPUktfRVJST1Iscy5tZXNzYWdlKSk7fSk7fSl9KGZ1bmN0aW9uKCl7dmFyIHQ7ZnVuY3Rpb24gZShMKXt2YXIgRj0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBGPEwubGVuZ3RoP3tkb25lOiExLHZhbHVlOkxbRisrXX06e2RvbmU6ITB9fX12YXIgbj10eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnRpZXM9PVwiZnVuY3Rpb25cIj9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oTCxGLFkpe3JldHVybiBMPT1BcnJheS5wcm90b3R5cGV8fEw9PU9iamVjdC5wcm90b3R5cGV8fChMW0ZdPVkudmFsdWUpLEx9LGkscj1mdW5jdGlvbihMKXtMPVt0eXBlb2YgZ2xvYmFsVGhpcz09XCJvYmplY3RcIiYmZ2xvYmFsVGhpcyxMLHR5cGVvZiB3aW5kb3c9PVwib2JqZWN0XCImJndpbmRvdyx0eXBlb2Ygc2VsZj09XCJvYmplY3RcIiYmc2VsZix0eXBlb2YgVnM9PVwib2JqZWN0XCImJlZzXTtmb3IodmFyIEY9MDtGPEwubGVuZ3RoOysrRil7dmFyIFk9TFtGXTtpZihZJiZZLk1hdGg9PU1hdGgpcmV0dXJuIFl9dGhyb3cgRXJyb3IoXCJDYW5ub3QgZmluZCBnbG9iYWwgb2JqZWN0XCIpfSh0aGlzKTtmdW5jdGlvbiBvKEwsRil7aWYoRil0Ont2YXIgWT1yO0w9TC5zcGxpdChcIi5cIik7Zm9yKHZhciBNPTA7TTxMLmxlbmd0aC0xO00rKyl7dmFyIG09TFtNXTtpZighKG0gaW4gWSkpYnJlYWsgdDtZPVlbbV07fShGPUYoTT1ZW0w9TFtMLmxlbmd0aC0xXV0pKSE9TSYmRiE9bnVsbCYmbihZLEwse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpGfSk7fX1mdW5jdGlvbiBzKEwpe3JldHVybiAoTD17bmV4dDpMfSlbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxMfWZ1bmN0aW9uIGEoTCl7dmFyIEY9dHlwZW9mIFN5bWJvbDxcInVcIiYmU3ltYm9sLml0ZXJhdG9yJiZMW1N5bWJvbC5pdGVyYXRvcl07cmV0dXJuIEY/Ri5jYWxsKEwpOntuZXh0OmUoTCl9fWlmKG8oXCJTeW1ib2xcIixmdW5jdGlvbihMKXtmdW5jdGlvbiBGKG0sSSl7dGhpcy5BPW0sbih0aGlzLFwiZGVzY3JpcHRpb25cIix7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOkl9KTt9aWYoTClyZXR1cm4gTDtGLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkF9O3ZhciBZPVwianNjb21wX3N5bWJvbF9cIisoMWU5Kk1hdGgucmFuZG9tKCk+Pj4wKStcIl9cIixNPTA7cmV0dXJuIGZ1bmN0aW9uIG0oSSl7aWYodGhpcyBpbnN0YW5jZW9mIG0pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKTtyZXR1cm4gbmV3IEYoWSsoSXx8XCJcIikrXCJfXCIrTSsrLEkpfX0pLG8oXCJTeW1ib2wuaXRlcmF0b3JcIixmdW5jdGlvbihMKXtpZihMKXJldHVybiBMO0w9U3ltYm9sKFwiU3ltYm9sLml0ZXJhdG9yXCIpO2Zvcih2YXIgRj1cIkFycmF5IEludDhBcnJheSBVaW50OEFycmF5IFVpbnQ4Q2xhbXBlZEFycmF5IEludDE2QXJyYXkgVWludDE2QXJyYXkgSW50MzJBcnJheSBVaW50MzJBcnJheSBGbG9hdDMyQXJyYXkgRmxvYXQ2NEFycmF5XCIuc3BsaXQoXCIgXCIpLFk9MDtZPEYubGVuZ3RoO1krKyl7dmFyIE09cltGW1ldXTt0eXBlb2YgTT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgTS5wcm90b3R5cGVbTF0hPVwiZnVuY3Rpb25cIiYmbihNLnByb3RvdHlwZSxMLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gcyhlKHRoaXMpKX19KTt9cmV0dXJuIEx9KSx0eXBlb2YgT2JqZWN0LnNldFByb3RvdHlwZU9mPT1cImZ1bmN0aW9uXCIpaT1PYmplY3Quc2V0UHJvdG90eXBlT2Y7ZWxzZSB7dmFyIGM7dDp7dmFyIGQ9e307dHJ5e2QuX19wcm90b19fPXthOiEwfSxjPWQuYTticmVhayB0fWNhdGNoe31jPSExO31pPWM/ZnVuY3Rpb24oTCxGKXtpZihMLl9fcHJvdG9fXz1GLEwuX19wcm90b19fIT09Ril0aHJvdyBuZXcgVHlwZUVycm9yKEwrXCIgaXMgbm90IGV4dGVuc2libGVcIik7cmV0dXJuIEx9Om51bGw7fXZhciBsPWk7ZnVuY3Rpb24gdSgpe3RoaXMubT0hMSx0aGlzLmo9bnVsbCx0aGlzLnY9dm9pZCAwLHRoaXMuaD0xLHRoaXMudT10aGlzLkM9MCx0aGlzLmw9bnVsbDt9ZnVuY3Rpb24gaChMKXtpZihMLm0pdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7TC5tPSEwO31mdW5jdGlvbiBwKEwsRil7cmV0dXJuIEwuaD0zLHt2YWx1ZTpGfX1mdW5jdGlvbiBnKEwpe3RoaXMuZz1uZXcgdSx0aGlzLkc9TDt9ZnVuY3Rpb24gRShMLEYsWSxNKXt0cnl7dmFyIG09Ri5jYWxsKEwuZy5qLFkpO2lmKCEobSBpbnN0YW5jZW9mIE9iamVjdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkl0ZXJhdG9yIHJlc3VsdCBcIittK1wiIGlzIG5vdCBhbiBvYmplY3RcIik7aWYoIW0uZG9uZSlyZXR1cm4gTC5nLm09ITEsbTt2YXIgST1tLnZhbHVlO31jYXRjaCh5KXtyZXR1cm4gTC5nLmo9bnVsbCxMLmcucyh5KSxmKEwpfXJldHVybiBMLmcuaj1udWxsLE0uY2FsbChMLmcsSSksZihMKX1mdW5jdGlvbiBmKEwpe2Zvcig7TC5nLmg7KXRyeXt2YXIgRj1MLkcoTC5nKTtpZihGKXJldHVybiBMLmcubT0hMSx7dmFsdWU6Ri52YWx1ZSxkb25lOiExfX1jYXRjaChZKXtMLmcudj12b2lkIDAsTC5nLnMoWSk7fWlmKEwuZy5tPSExLEwuZy5sKXtpZihGPUwuZy5sLEwuZy5sPW51bGwsRi5GKXRocm93IEYuRDtyZXR1cm4ge3ZhbHVlOkYucmV0dXJuLGRvbmU6ITB9fXJldHVybiB7dmFsdWU6dm9pZCAwLGRvbmU6ITB9fWZ1bmN0aW9uIFMoTCl7dGhpcy5uZXh0PWZ1bmN0aW9uKEYpe3JldHVybiBMLm8oRil9LHRoaXMudGhyb3c9ZnVuY3Rpb24oRil7cmV0dXJuIEwucyhGKX0sdGhpcy5yZXR1cm49ZnVuY3Rpb24oRil7cmV0dXJuIGZ1bmN0aW9uKFksTSl7aChZLmcpO3ZhciBtPVkuZy5qO3JldHVybiBtP0UoWSxcInJldHVyblwiaW4gbT9tLnJldHVybjpmdW5jdGlvbihJKXtyZXR1cm4ge3ZhbHVlOkksZG9uZTohMH19LE0sWS5nLnJldHVybik6KFkuZy5yZXR1cm4oTSksZihZKSl9KEwsRil9LHRoaXNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt9ZnVuY3Rpb24gQyhMLEYpe3JldHVybiBGPW5ldyBTKG5ldyBnKEYpKSxsJiZMLnByb3RvdHlwZSYmbChGLEwucHJvdG90eXBlKSxGfWlmKHUucHJvdG90eXBlLm89ZnVuY3Rpb24oTCl7dGhpcy52PUw7fSx1LnByb3RvdHlwZS5zPWZ1bmN0aW9uKEwpe3RoaXMubD17RDpMLEY6ITB9LHRoaXMuaD10aGlzLkN8fHRoaXMudTt9LHUucHJvdG90eXBlLnJldHVybj1mdW5jdGlvbihMKXt0aGlzLmw9e3JldHVybjpMfSx0aGlzLmg9dGhpcy51O30sZy5wcm90b3R5cGUubz1mdW5jdGlvbihMKXtyZXR1cm4gaCh0aGlzLmcpLHRoaXMuZy5qP0UodGhpcyx0aGlzLmcuai5uZXh0LEwsdGhpcy5nLm8pOih0aGlzLmcubyhMKSxmKHRoaXMpKX0sZy5wcm90b3R5cGUucz1mdW5jdGlvbihMKXtyZXR1cm4gaCh0aGlzLmcpLHRoaXMuZy5qP0UodGhpcyx0aGlzLmcuai50aHJvdyxMLHRoaXMuZy5vKToodGhpcy5nLnMoTCksZih0aGlzKSl9LG8oXCJBcnJheS5wcm90b3R5cGUuZW50cmllc1wiLGZ1bmN0aW9uKEwpe3JldHVybiBMfHxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihGLFkpe0YgaW5zdGFuY2VvZiBTdHJpbmcmJihGKz1cIlwiKTt2YXIgTT0wLG09ITEsST17bmV4dDpmdW5jdGlvbigpe2lmKCFtJiZNPEYubGVuZ3RoKXt2YXIgeT1NKys7cmV0dXJuIHt2YWx1ZTpZKHksRlt5XSksZG9uZTohMX19cmV0dXJuIG09ITAse2RvbmU6ITAsdmFsdWU6dm9pZCAwfX19O3JldHVybiBJW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gSX0sSX0odGhpcyxmdW5jdGlvbihGLFkpe3JldHVybiBbRixZXX0pfX0pLHR5cGVvZiBCbG9iPFwidVwiJiYodHlwZW9mIEZvcm1EYXRhPlwidVwifHwhRm9ybURhdGEucHJvdG90eXBlLmtleXMpKXt2YXIgQT1mdW5jdGlvbihMLEYpe2Zvcih2YXIgWT0wO1k8TC5sZW5ndGg7WSsrKUYoTFtZXSk7fSxiPWZ1bmN0aW9uKEwpe3JldHVybiBMLnJlcGxhY2UoL1xccj9cXG58XFxyL2csYFxcclxuYCl9LHc9ZnVuY3Rpb24oTCxGLFkpe3JldHVybiBGIGluc3RhbmNlb2YgQmxvYj8oWT1ZIT09dm9pZCAwP1krXCJcIjp0eXBlb2YgRi5uYW1lPT1cInN0cmluZ1wiP0YubmFtZTpcImJsb2JcIixGLm5hbWU9PT1ZJiZPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoRikhPT1cIltvYmplY3QgQmxvYl1cInx8KEY9bmV3IEZpbGUoW0ZdLFkpKSxbU3RyaW5nKEwpLEZdKTpbU3RyaW5nKEwpLFN0cmluZyhGKV19LEQ9ZnVuY3Rpb24oTCxGKXtpZihMLmxlbmd0aDxGKXRocm93IG5ldyBUeXBlRXJyb3IoRitcIiBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgXCIrTC5sZW5ndGgrXCIgcHJlc2VudC5cIil9LGs9dHlwZW9mIGdsb2JhbFRoaXM9PVwib2JqZWN0XCI/Z2xvYmFsVGhpczp0eXBlb2Ygd2luZG93PT1cIm9iamVjdFwiP3dpbmRvdzp0eXBlb2Ygc2VsZj09XCJvYmplY3RcIj9zZWxmOnRoaXMsQj1rLkZvcm1EYXRhLFY9ay5YTUxIdHRwUmVxdWVzdCYmay5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2VuZCx6PWsuUmVxdWVzdCYmay5mZXRjaCxsdD1rLm5hdmlnYXRvciYmay5uYXZpZ2F0b3Iuc2VuZEJlYWNvbix2dD1rLkVsZW1lbnQmJmsuRWxlbWVudC5wcm90b3R5cGUsRHQ9ay5TeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZztEdCYmKEJsb2IucHJvdG90eXBlW0R0XXx8KEJsb2IucHJvdG90eXBlW0R0XT1cIkJsb2JcIiksXCJGaWxlXCJpbiBrJiYhRmlsZS5wcm90b3R5cGVbRHRdJiYoRmlsZS5wcm90b3R5cGVbRHRdPVwiRmlsZVwiKSk7dHJ5e25ldyBGaWxlKFtdLFwiXCIpO31jYXRjaHtrLkZpbGU9ZnVuY3Rpb24oRixZLE0pe3JldHVybiBGPW5ldyBCbG9iKEYsTXx8e30pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEYse25hbWU6e3ZhbHVlOll9LGxhc3RNb2RpZmllZDp7dmFsdWU6KyhNJiZNLmxhc3RNb2RpZmllZCE9PXZvaWQgMD9uZXcgRGF0ZShNLmxhc3RNb2RpZmllZCk6bmV3IERhdGUpfSx0b1N0cmluZzp7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gXCJbb2JqZWN0IEZpbGVdXCJ9fX0pLER0JiZPYmplY3QuZGVmaW5lUHJvcGVydHkoRixEdCx7dmFsdWU6XCJGaWxlXCJ9KSxGfTt9dmFyIGNlPWZ1bmN0aW9uKEwpe3JldHVybiBMLnJlcGxhY2UoL1xcbi9nLFwiJTBBXCIpLnJlcGxhY2UoL1xcci9nLFwiJTBEXCIpLnJlcGxhY2UoL1wiL2csXCIlMjJcIil9LFd0PWZ1bmN0aW9uKEwpe3RoaXMuaT1bXTt2YXIgRj10aGlzO0wmJkEoTC5lbGVtZW50cyxmdW5jdGlvbihZKXtpZihZLm5hbWUmJiFZLmRpc2FibGVkJiZZLnR5cGUhPT1cInN1Ym1pdFwiJiZZLnR5cGUhPT1cImJ1dHRvblwiJiYhWS5tYXRjaGVzKFwiZm9ybSBmaWVsZHNldFtkaXNhYmxlZF0gKlwiKSlpZihZLnR5cGU9PT1cImZpbGVcIil7dmFyIE09WS5maWxlcyYmWS5maWxlcy5sZW5ndGg/WS5maWxlczpbbmV3IEZpbGUoW10sXCJcIix7dHlwZTpcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwifSldO0EoTSxmdW5jdGlvbihtKXtGLmFwcGVuZChZLm5hbWUsbSk7fSk7fWVsc2UgWS50eXBlPT09XCJzZWxlY3QtbXVsdGlwbGVcInx8WS50eXBlPT09XCJzZWxlY3Qtb25lXCI/QShZLm9wdGlvbnMsZnVuY3Rpb24obSl7IW0uZGlzYWJsZWQmJm0uc2VsZWN0ZWQmJkYuYXBwZW5kKFkubmFtZSxtLnZhbHVlKTt9KTpZLnR5cGU9PT1cImNoZWNrYm94XCJ8fFkudHlwZT09PVwicmFkaW9cIj9ZLmNoZWNrZWQmJkYuYXBwZW5kKFkubmFtZSxZLnZhbHVlKTooTT1ZLnR5cGU9PT1cInRleHRhcmVhXCI/YihZLnZhbHVlKTpZLnZhbHVlLEYuYXBwZW5kKFkubmFtZSxNKSk7fSk7fTtpZigodD1XdC5wcm90b3R5cGUpLmFwcGVuZD1mdW5jdGlvbihMLEYsWSl7RChhcmd1bWVudHMsMiksdGhpcy5pLnB1c2godyhMLEYsWSkpO30sdC5kZWxldGU9ZnVuY3Rpb24oTCl7RChhcmd1bWVudHMsMSk7dmFyIEY9W107TD1TdHJpbmcoTCksQSh0aGlzLmksZnVuY3Rpb24oWSl7WVswXSE9PUwmJkYucHVzaChZKTt9KSx0aGlzLmk9Rjt9LHQuZW50cmllcz1mdW5jdGlvbiBMKCl7dmFyIEYsWT10aGlzO3JldHVybiBDKEwsZnVuY3Rpb24oTSl7aWYoTS5oPT0xJiYoRj0wKSxNLmghPTMpcmV0dXJuIEY8WS5pLmxlbmd0aD9NPXAoTSxZLmlbRl0pOihNLmg9MCxNPXZvaWQgMCksTTtGKyssTS5oPTI7fSl9LHQuZm9yRWFjaD1mdW5jdGlvbihMLEYpe0QoYXJndW1lbnRzLDEpO2Zvcih2YXIgWT1hKHRoaXMpLE09WS5uZXh0KCk7IU0uZG9uZTtNPVkubmV4dCgpKXt2YXIgbT1hKE0udmFsdWUpO009bS5uZXh0KCkudmFsdWUsbT1tLm5leHQoKS52YWx1ZSxMLmNhbGwoRixtLE0sdGhpcyk7fX0sdC5nZXQ9ZnVuY3Rpb24oTCl7RChhcmd1bWVudHMsMSk7dmFyIEY9dGhpcy5pO0w9U3RyaW5nKEwpO2Zvcih2YXIgWT0wO1k8Ri5sZW5ndGg7WSsrKWlmKEZbWV1bMF09PT1MKXJldHVybiBGW1ldWzFdO3JldHVybiBudWxsfSx0LmdldEFsbD1mdW5jdGlvbihMKXtEKGFyZ3VtZW50cywxKTt2YXIgRj1bXTtyZXR1cm4gTD1TdHJpbmcoTCksQSh0aGlzLmksZnVuY3Rpb24oWSl7WVswXT09PUwmJkYucHVzaChZWzFdKTt9KSxGfSx0Lmhhcz1mdW5jdGlvbihMKXtEKGFyZ3VtZW50cywxKSxMPVN0cmluZyhMKTtmb3IodmFyIEY9MDtGPHRoaXMuaS5sZW5ndGg7RisrKWlmKHRoaXMuaVtGXVswXT09PUwpcmV0dXJuICEwO3JldHVybiAhMX0sdC5rZXlzPWZ1bmN0aW9uIEwoKXt2YXIgRixZLE0sbSxJPXRoaXM7cmV0dXJuIEMoTCxmdW5jdGlvbih5KXtpZih5Lmg9PTEmJihGPWEoSSksWT1GLm5leHQoKSkseS5oIT0zKXJldHVybiBZLmRvbmU/dm9pZCh5Lmg9MCk6KE09WS52YWx1ZSxtPWEoTSkscCh5LG0ubmV4dCgpLnZhbHVlKSk7WT1GLm5leHQoKSx5Lmg9Mjt9KX0sdC5zZXQ9ZnVuY3Rpb24oTCxGLFkpe0QoYXJndW1lbnRzLDIpLEw9U3RyaW5nKEwpO3ZhciBNPVtdLG09dyhMLEYsWSksST0hMDtBKHRoaXMuaSxmdW5jdGlvbih5KXt5WzBdPT09TD9JJiYoST0hTS5wdXNoKG0pKTpNLnB1c2goeSk7fSksSSYmTS5wdXNoKG0pLHRoaXMuaT1NO30sdC52YWx1ZXM9ZnVuY3Rpb24gTCgpe3ZhciBGLFksTSxtLEk9dGhpcztyZXR1cm4gQyhMLGZ1bmN0aW9uKHkpe2lmKHkuaD09MSYmKEY9YShJKSxZPUYubmV4dCgpKSx5LmghPTMpcmV0dXJuIFkuZG9uZT92b2lkKHkuaD0wKTooTT1ZLnZhbHVlLChtPWEoTSkpLm5leHQoKSxwKHksbS5uZXh0KCkudmFsdWUpKTtZPUYubmV4dCgpLHkuaD0yO30pfSxXdC5wcm90b3R5cGUuX2FzTmF0aXZlPWZ1bmN0aW9uKCl7Zm9yKHZhciBMPW5ldyBCLEY9YSh0aGlzKSxZPUYubmV4dCgpOyFZLmRvbmU7WT1GLm5leHQoKSl7dmFyIE09YShZLnZhbHVlKTtZPU0ubmV4dCgpLnZhbHVlLE09TS5uZXh0KCkudmFsdWUsTC5hcHBlbmQoWSxNKTt9cmV0dXJuIEx9LFd0LnByb3RvdHlwZS5fYmxvYj1mdW5jdGlvbigpe3ZhciBMPVwiLS0tLWZvcm1kYXRhLXBvbHlmaWxsLVwiK01hdGgucmFuZG9tKCksRj1bXSxZPVwiLS1cIitMK2BcXHJcbkNvbnRlbnQtRGlzcG9zaXRpb246IGZvcm0tZGF0YTsgbmFtZT1cImA7cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihNLG0pe3JldHVybiB0eXBlb2YgTT09XCJzdHJpbmdcIj9GLnB1c2goWStjZShiKG0pKStgXCJcXHJcblxcclxuYCtiKE0pK2BcXHJcbmApOkYucHVzaChZK2NlKGIobSkpKydcIjsgZmlsZW5hbWU9XCInK2NlKE0ubmFtZSkrYFwiXFxyXG5Db250ZW50LVR5cGU6IGArKE0udHlwZXx8XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIikrYFxcclxuXFxyXG5gLE0sYFxcclxuYCl9KSxGLnB1c2goXCItLVwiK0wrXCItLVwiKSxuZXcgQmxvYihGLHt0eXBlOlwibXVsdGlwYXJ0L2Zvcm0tZGF0YTsgYm91bmRhcnk9XCIrTH0pfSxXdC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVudHJpZXMoKX0sV3QucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIFwiW29iamVjdCBGb3JtRGF0YV1cIn0sdnQmJiF2dC5tYXRjaGVzJiYodnQubWF0Y2hlcz12dC5tYXRjaGVzU2VsZWN0b3J8fHZ0Lm1vek1hdGNoZXNTZWxlY3Rvcnx8dnQubXNNYXRjaGVzU2VsZWN0b3J8fHZ0Lm9NYXRjaGVzU2VsZWN0b3J8fHZ0LndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8ZnVuY3Rpb24oTCl7Zm9yKHZhciBGPShMPSh0aGlzLmRvY3VtZW50fHx0aGlzLm93bmVyRG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwoTCkpLmxlbmd0aDswPD0tLUYmJkwuaXRlbShGKSE9PXRoaXM7KTtyZXR1cm4gLTE8Rn0pLER0JiYoV3QucHJvdG90eXBlW0R0XT1cIkZvcm1EYXRhXCIpLFYpe3ZhciBzaT1rLlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZXRSZXF1ZXN0SGVhZGVyO2suWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNldFJlcXVlc3RIZWFkZXI9ZnVuY3Rpb24oTCxGKXtzaS5jYWxsKHRoaXMsTCxGKSxMLnRvTG93ZXJDYXNlKCk9PT1cImNvbnRlbnQtdHlwZVwiJiYodGhpcy5CPSEwKTt9LGsuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oTCl7TCBpbnN0YW5jZW9mIFd0PyhMPUwuX2Jsb2IoKSx0aGlzLkJ8fHRoaXMuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLEwudHlwZSksVi5jYWxsKHRoaXMsTCkpOlYuY2FsbCh0aGlzLEwpO307fXomJihrLmZldGNoPWZ1bmN0aW9uKEwsRil7cmV0dXJuIEYmJkYuYm9keSYmRi5ib2R5IGluc3RhbmNlb2YgV3QmJihGLmJvZHk9Ri5ib2R5Ll9ibG9iKCkpLHouY2FsbCh0aGlzLEwsRil9KSxsdCYmKGsubmF2aWdhdG9yLnNlbmRCZWFjb249ZnVuY3Rpb24oTCxGKXtyZXR1cm4gRiBpbnN0YW5jZW9mIFd0JiYoRj1GLl9hc05hdGl2ZSgpKSxsdC5jYWxsKHRoaXMsTCxGKX0pLGsuRm9ybURhdGE9V3Q7fX0pKCk7dmFyIE1jPSgpPT57bGV0IHQ9dihcIkFSRUFTXCIpO3JldHVybiB0Lmxlbmd0aD09PTAmJnQucHVzaChTdC5HTE9CQUwpLGppKHQpLmNhbGwodCwoZSxuLGkpPT57bGV0IHI9ZDAobik7cmV0dXJuIHI/aT09PTA/cjpcIlwiLmNvbmNhdChlLFwiLFwiKS5jb25jYXQocik6ZX0sXCJcIil9LGQwPXQ9PnQ9PT1TdC5PVkVSU0VBP1wiXCIuY29uY2F0KFllLkFTSUEsXCIsXCIpLmNvbmNhdChZZS5FVVJPUEUsXCIsXCIpLmNvbmNhdChZZS5BRlJJQ0EsXCIsXCIpLmNvbmNhdChZZS5OT1JUSF9BTUVSSUNBLFwiLFwiKS5jb25jYXQoWWUuU09VVEhfQU1FUklDQSxcIixcIikuY29uY2F0KFllLk9DRUFOSUEpOlllW3RdLGpHPXQ9PntsZXQgZT17Q09ERTpcIlwiLFdFQkNTX0RPTUFJTjpbXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W10sUFJPWFlfQ1M6W10sQ0RTX0FQOltdLEFDQ09VTlRfUkVHSVNURVI6W10sVUFQX0FQOltdLEVWRU5UX1JFUE9SVF9ET01BSU46W10sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W10sTE9HX1VQTE9BRF9TRVJWRVI6W10sUFJPWFlfU0VSVkVSX1RZUEUzOltdfTtyZXR1cm4gdC5tYXAobj0+e2xldCBpPVp1W25dLHI9T2JqZWN0LmtleXMoaSk7ciYmci5tYXAobz0+e28hPT1cIkNPREVcIiYmKGVbb109ZVtvXS5jb25jYXQoaVtvXSkpO30pO30pLGV9LHlsPXtHTE9CQUw6e0FTSUE6W1N0LkNISU5BLFN0LkpBUEFOLFN0LklORElBLFN0LktPUkVBLFN0LkhLTUNdLEVVUk9QRTpbXSxOT1JUSF9BTUVSSUNBOltTdC5VU10sU09VVEhfQU1FUklDQTpbXSxPQ0VBTklBOltdLEFGUklDQTpbXX19LEtkPU9iamVjdC5rZXlzKHlsW1N0LkdMT0JBTF0pLHVfPVtTdC5DSElOQSxTdC5OT1JUSF9BTUVSSUNBLFN0LkVVUk9QRSxTdC5BU0lBLFN0LkpBUEFOLFN0LklORElBLFN0Lk9DRUFOSUEsU3QuU09VVEhfQU1FUklDQSxTdC5BRlJJQ0EsU3QuS09SRUEsU3QuSEtNQyxTdC5VU10sR0c9ZnVuY3Rpb24odCxlKXtsZXQgbj1bXTtpZihXKHQpLmNhbGwodCxTdC5HTE9CQUwpKXtsZXQgbz1bU3QuR0xPQkFMLFN0Lk9WRVJTRUFdLHM9T2JqZWN0LmtleXMoWnUpO2lmKGU9PT1TdC5HTE9CQUwpdGhyb3cgbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxcIkdMT0JBTCBpcyBhbiBpbnZhbGlkIGV4Y2x1ZGVkQXJlYSB2YWx1ZVwiKTtpZihlPT09U3QuQ0hJTkEpbj1bU3QuT1ZFUlNFQV07ZWxzZSBpZihyPWUsVyhLZCkuY2FsbChLZCxyKSl7bGV0IGE9KGk9ZSx5bFtTdC5HTE9CQUxdW2ldfHxbXSksYz1bLi4ubyxlLC4uLmFdO249cy5maWx0ZXIoZD0+IVcoYykuY2FsbChjLGQpKTt9ZWxzZSBpZihmdW5jdGlvbihhKXtsZXQgYz0hMTtyZXR1cm4gS2QuZm9yRWFjaChkPT57dmFyIGw7VyhsPXlsW1N0LkdMT0JBTF1bZF0pLmNhbGwobCxhKSYmKGM9ITApO30pLGN9KGUpKXtsZXQgYT1mdW5jdGlvbihkKXtsZXQgbDtyZXR1cm4gS2QuZm9yRWFjaCh1PT57dmFyIGg7VyhoPXlsW1N0LkdMT0JBTF1bdV0pLmNhbGwoaCxkKSYmKGw9dSk7fSksbH0oZSksYz1bLi4ubyxhLGVdO249cy5maWx0ZXIoZD0+IVcoYykuY2FsbChjLGQpKTt9ZWxzZSBuPXQ7bj1mdW5jdGlvbihhKXtsZXQgYz1bXTtyZXR1cm4gdV8uZm9yRWFjaChkPT57VyhhKS5jYWxsKGEsZCkmJmMucHVzaChkKTt9KSxjLmNvbmNhdChhLmZpbHRlcihkPT4hVyh1XykuY2FsbCh1XyxkKSkpfShuKTt9ZWxzZSBuPXQ7dmFyIGkscjtyZXR1cm4gbn07ZnVuY3Rpb24gWEkodCl7dmFyIGUsbjtpZighdCYmVyhlPXYoXCJBUkVBU1wiKSkuY2FsbChlLFN0LkVYVEVOU0lPTlMpKXJldHVybiBfLmRlYnVnKFwidXBkYXRlIGFyZWEgZnJvbSBhcCA6IHJlc2V0XCIpLHZvaWQgQWYodkIsITApO2lmKCFXKG49dihcIkFSRUFTXCIpKS5jYWxsKG4sU3QuR0xPQkFMKXx8IXQpcmV0dXJuO2xldCBpPVp1LkVYVEVOU0lPTlM7aSYmKGk9e0NPREU6ZDAoU3QuRVhURU5TSU9OUyksV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLVwiLmNvbmNhdCh0LFwiLmFnb3JhLmlvXCIpXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItXCIuY29uY2F0KHQsXCIuYXAuc2QtcnRuLmNvbVwiKV0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLVwiLmNvbmNhdCh0LFwiLmFnb3JhLmlvXCIpXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi0xLVwiLmNvbmNhdCh0LFwiLmFnb3JhLmlvXCIpLFwiY2RzLWFwLXdlYi0yLVwiLmNvbmNhdCh0LFwiLmFwLnNkLXJ0bi5jb21cIildLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi0xLVwiLmNvbmNhdCh0LFwiLmFnb3JhLmlvXCIpLFwic3VhLWFwLXdlYi0yLVwiLmNvbmNhdCh0LFwiLmFwLnNkLXJ0bi5jb21cIildLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLTEtXCIuY29uY2F0KHQsXCIuYWdvcmEuaW9cIiksXCJ1YXAtYXAtd2ViLTItXCIuY29uY2F0KHQsXCIuYXAuc2QtcnRuLmNvbVwiKV0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLVwiLmNvbmNhdCh0LFwiLmFnb3JhLmlvXCIpXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLVwiLmNvbmNhdCh0LFwiLmFnb3JhLmlvXCIpXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLVwiLmNvbmNhdCh0LFwiLmFnb3JhLmlvXCIpXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wid2VicnRjLWNsb3VkLXByb3h5LVwiLmNvbmNhdCh0LFwiLmFnb3JhLmlvXCIpXX0sXy5kZWJ1ZyhcInVwZGF0ZSBhcmVhIGZyb20gYXAgc3VjY2VzczogXCIuY29uY2F0KHQsXCIsY29uZmlnIGlzIFwiKSxpKSxPdChcIkFSRUFTXCIsW1N0LkVYVEVOU0lPTlNdLCEwKSxPYmplY3Qua2V5cyhpKS5tYXAocj0+e3I9PT1cIkxPR19VUExPQURfU0VSVkVSXCJ8fHI9PT1cIkVWRU5UX1JFUE9SVF9ET01BSU5cInx8cj09PVwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cInx8cj09PVwiUFJPWFlfU0VSVkVSX1RZUEUzXCI/T3QocixpW3JdWzBdKTpPdChyLGlbcl0pO30pKTt9ZnVuY3Rpb24gQWYodCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDAmJmFyZ3VtZW50c1sxXSxuPVgucmVwb3J0QXBpSW52b2tlKG51bGwse25hbWU6VGUuU0VUX0FSRUEsb3B0aW9uczp0LHRhZzpadC5UUkFDRVJ9KTt0cnl7bGV0IGk9W107aWYodHlwZW9mIHQ9PVwic3RyaW5nXCImJihpPVt0XSksQXJyYXkuaXNBcnJheSh0KSYmKHQuZm9yRWFjaChvPT57aWYoIVcoVVIpLmNhbGwoVVIsbykpdGhyb3cgbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxcImludmFsaWQgYXJlYSBjb2RlXCIpfSksaT10KSxPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCk9PT1cIltvYmplY3QgT2JqZWN0XVwiKXtsZXR7YXJlYUNvZGU6byxleGNsdWRlZEFyZWE6c309dDtpZighbyl0aHJvdyBuZXcgTyhSLklOVkFMSURfUEFSQU1TLFwiYXJlYSBjb2RlIGlzIG5lZWRlZFwiKTtsZXQgYT1vO3R5cGVvZiBvPT1cInN0cmluZ1wiJiYoYT1bb10pLGk9cz9HRyhhLHMpOmE7fWlmKCFlKXtpZigkci5BUkVBUyl7bGV0IG89bmV3IE8oUi5QUk9ISUJJVEVEX09QRVJBVElPTixcInNldEFyZWEgaXMgcHJvaGliaXRlZCBiZWNhdXNlIG9mIGNvbmZpZy1kaXN0cmlidXRlXCIpO3JldHVybiBuLm9uRXJyb3Iobyksdm9pZCBfLndhcm5pbmcoXCJzZXRBcmVhIGlzIHByb2hpYml0ZWQgYmVjYXVzZSBvZiBjb25maWctZGlzdHJpYnV0ZVwiKX1pZihXKGkpLmNhbGwoaSxTdC5HTE9CQUwpJiZ2KFwiQVJFQVNcIik9PT1TdC5FWFRFTlNJT05TKXtsZXQgbz1uZXcgTyhSLlBST0hJQklURURfT1BFUkFUSU9OLFwic2V0QXJlYSBpcyBwcm9oaWJpdGVkIGJlY2F1c2Ugb2YgYXAgZXh0ZW5zaW9uc1wiKTtyZXR1cm4gbi5vbkVycm9yKG8pLHZvaWQgXy53YXJuaW5nKFwic2V0QXJlYSBpcyBwcm9oaWJpdGVkIGJlY2F1c2Ugb2YgYXAgZXh0ZW5zaW9uc1wiKX19T3QoXCJBUkVBU1wiLGksZSk7bGV0IHI9akcoaSk7T2JqZWN0LmtleXMocikubWFwKG89PntvPT09XCJMT0dfVVBMT0FEX1NFUlZFUlwifHxvPT09XCJFVkVOVF9SRVBPUlRfRE9NQUlOXCJ8fG89PT1cIkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOXCJ8fG89PT1cIlBST1hZX1NFUlZFUl9UWVBFM1wiP090KG8scltvXVswXSk6T3QobyxyW29dKTt9KSxfLmRlYnVnKFwic2V0IGFyZWEgc3VjY2VzczpcIixpLmpvaW4oXCIsXCIpKTt9Y2F0Y2goaSl7dGhyb3cgbi5vbkVycm9yKGkpLGl9bi5vblN1Y2Nlc3MoKTt9ZnVuY3Rpb24gUUkodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59ZnVuY3Rpb24gZW0odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdIT1udWxsP2FyZ3VtZW50c1tlXTp7fTtlJTI/UUkoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe1QodCxpLG5baV0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOlFJKE9iamVjdChuKSkuZm9yRWFjaChmdW5jdGlvbihpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixpKSk7fSk7fXJldHVybiB0fXZhciBoXz0xO2Z1bmN0aW9uIFdHKHQsZSxuLGkscil7aF8rPTE7bGV0IG89e3NpZDpuLnNpZCxjb21tYW5kOlwiY29udmVyZ2VBbGxvY2F0ZUVkZ2VcIix1aWQ6XCI2NjZcIixhcHBJZDpuLmFwcElkLHRzOk1hdGguZmxvb3IoRGF0ZS5ub3coKS8xZTMpLHNlcTpoXyxyZXF1ZXN0SWQ6aF8sdmVyc2lvbjppaSxjbmFtZTpuLmNuYW1lfSxzPXtzZXJ2aWNlX25hbWU6ZSxqc29uX2JvZHk6SlNPTi5zdHJpbmdpZnkobyl9LGEsYyxkPXRbMF07cmV0dXJuIFdpKGFzeW5jKCk9PnthPURhdGUubm93KCk7bGV0IGw9YXdhaXQgSGkoZCx7ZGF0YTpzLGNhbmNlbFRva2VuOmksaGVhZGVyczp7XCJYLVBhY2tldC1TZXJ2aWNlLVR5cGVcIjpcIjBcIixcIlgtUGFja2V0LVVSSVwiOlwiNjFcIn19KTtpZihjPURhdGUubm93KCktYSxsLmNvZGUhPT0wKXtsZXQgcD1uZXcgTyhSLlVORVhQRUNURURfUkVTUE9OU0UsXCJsaXZlIHN0cmVhbWluZyBhcCBlcnJvciwgY29kZVwiK2wuY29kZSx7cmV0cnk6ITAscmVzcG9uc2VUaW1lOmN9KTt0aHJvdyBfLmVycm9yKHAudG9TdHJpbmcoKSkscH1sZXQgdT1KU09OLnBhcnNlKGwuanNvbl9ib2R5KTtpZih1LmNvZGUhPT0yMDApe2xldCBwPW5ldyBPKFIuVU5FWFBFQ1RFRF9SRVNQT05TRSxcImxpdmUgc3RyZWFtaW5nIGFwcCBjZW50ZXIgZXJyb3IsIGNvZGU6IFwiLmNvbmNhdCh1LmNvZGUsXCIsIHJlYXNvbjogXCIpLmNvbmNhdCh1LnJlYXNvbikse2NvZGU6dS5jb2RlLHJlc3BvbnNlVGltZTpjfSk7dGhyb3cgXy5lcnJvcihwLnRvU3RyaW5nKCkpLHB9aWYoIXUuc2VydmVyc3x8dS5zZXJ2ZXJzLmxlbmd0aD09PTApe2xldCBwPW5ldyBPKFIuVU5FWFBFQ1RFRF9SRVNQT05TRSxcImxpdmUgc3RyZWFtaW5nIGFwcCBjZW50ZXIgZW1wdHkgc2VydmVyXCIse2NvZGU6dS5jb2RlLHJlc3BvbnNlVGltZTpjfSk7dGhyb3cgXy5lcnJvcihwLnRvU3RyaW5nKCkpLHB9bGV0IGg9ZnVuY3Rpb24ocCxnKXtyZXR1cm4ge2FkZHJlc3NMaXN0OnAuc2VydmVycy5tYXAoRT0+XCJ3c3M6Ly9cIi5jb25jYXQoRS5hZGRyZXNzLnJlcGxhY2UoL1xcLi9nLFwiLVwiKSxcIi5cIikuY29uY2F0KHYoXCJXT1JLRVJfRE9NQUlOXCIpLFwiOlwiKS5jb25jYXQoRS53c3MsXCI/c2VydmljZU5hbWU9XCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZykpKSx3b3JrZXJUb2tlbjpwLndvcmtlclRva2VuLHZpZDpwLnZpZH19KHUsZSk7cmV0dXJuIHYoXCJMSVZFX1NUUkVBTUlOR19BRERSRVNTXCIpJiYoaC5hZGRyZXNzTGlzdD12KFwiTElWRV9TVFJFQU1JTkdfQUREUkVTU1wiKWluc3RhbmNlb2YgQXJyYXk/dihcIkxJVkVfU1RSRUFNSU5HX0FERFJFU1NcIik6W3YoXCJMSVZFX1NUUkVBTUlOR19BRERSRVNTXCIpXSksZW0oZW0oe30saCkse30se3Jlc3BvbnNlVGltZTpjfSl9LChsLHUpPT4oWC5hcHdvcmtlckV2ZW50KG4uc2lkLHtzdWNjZXNzOiEwLHNjOjIwMCxzZXJ2aWNlTmFtZTplLHJlc3BvbnNlRGV0YWlsOkpTT04uc3RyaW5naWZ5KGwuYWRkcmVzc0xpc3QpLGZpcnN0U3VjY2Vzczp1PT09MCxyZXNwb25zZVRpbWU6YyxzZXJ2ZXJJcDp0W3UldC5sZW5ndGhdfSksITEpLChsLHUpPT4oWC5hcHdvcmtlckV2ZW50KG4uc2lkLHtzdWNjZXNzOiExLHNjOmwuZGF0YSYmbC5kYXRhLmNvZGV8fDIwMCxzZXJ2aWNlTmFtZTplLHJlc3BvbnNlVGltZTpjLHNlcnZlcklwOnRbdSV0Lmxlbmd0aF19KSwhIShsLmNvZGUhPT1SLk9QRVJBVElPTl9BQk9SVEVEJiZsLmNvZGUhPT1SLlVORVhQRUNURURfUkVTUE9OU0V8fGwuZGF0YSYmbC5kYXRhLnJldHJ5KSYmKGQ9dFsodSsxKSV0Lmxlbmd0aF0sITApKSxyKX12YXIgcF89MTtmdW5jdGlvbiBaSSh0LGUsbixpKXtsZXR7dXJsOnIsYXJlYUNvZGU6b309dCx7Y2xpZW50SWQ6cyxzaWQ6YX09ZSxjPURhdGUubm93KCksZCxbbCx1XT13ZihlLG8sW3VlLkNIT09TRV9TRVJWRVJdKSxoPWhlLm5ldHdvcmtTdGF0ZTtyZXR1cm4gV2koYXN5bmMoKT0+e2gmJmhlLm5ldHdvcmtTdGF0ZT09PXduLk9GRkxJTkUmJmhlLm9ubGluZVdhaXRlciYmYXdhaXQgai5yYWNlKFtoZS5vbmxpbmVXYWl0ZXIsTWUoaSYmaS5tYXhSZXRyeVRpbWVvdXR8fEVlLm1heFJldHJ5VGltZW91dCldKSxoPWhlLm5ldHdvcmtTdGF0ZTtsZXR7ZGF0YTpwLGhlYWRlcnM6Z309YXdhaXQgSGkocix7ZGF0YTpsLGNhbmNlbFRva2VuOm4saGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcIm11bHRpcGFydC9mb3JtLWRhdGE7XCJ9fSwhMCwhMCk7ZD1nLmh0dHAzPT09XCIxXCI/MTotMSxYLnJlcG9ydFJlc291cmNlVGltaW5nKHIsYSksbDAocCxyLGUsYyxbdWUuQ0hPT1NFX1NFUlZFUl0sZCk7bGV0IEU9RGMocCx1ZS5DSE9PU0VfU0VSVkVSKTtyZXR1cm4gYmYoRSksbWYoRSxyKX0scD0+KHAmJlguam9pbkNob29zZVNlcnZlcihhLHtsdHM6YyxzdWNjOiEwLGNzQWRkcjpyLG9waWQ6dSxzZXJ2ZXJMaXN0OnAuZ2F0ZXdheUFkZHJzLm1hcChnPT5nLmFkZHJlc3MpLGVjOm51bGwsY2lkOnAuY2lkLnRvU3RyaW5nKCksdWlkOnAudWlkLnRvU3RyaW5nKCksY3NJcDpwLmNzSXAsdW5pbGJzU2VydmVySWRzOlt1ZS5DSE9PU0VfU0VSVkVSXS50b1N0cmluZygpLGlzSHR0cDM6ZH0pLCExKSxwPT5wLmNvZGUhPT1SLk9QRVJBVElPTl9BQk9SVEVEJiYocC5jb2RlPT09Ui5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUj9wLmRhdGEucmV0cnk6KFguam9pbkNob29zZVNlcnZlcihhLHtsdHM6YyxzdWNjOiExLGNzQWRkcjpyLHNlcnZlckxpc3Q6bnVsbCxvcGlkOnUsZWM6cC5jb2RlLGNzSXA6cC5kYXRhJiZwLmRhdGEuY3NJcCx1bmlsYnNTZXJ2ZXJJZHM6W3VlLkNIT09TRV9TRVJWRVJdLnRvU3RyaW5nKCksZXh0ZW5kOkpTT04uc3RyaW5naWZ5KHtuZXR3b3JrU3RhdGU6aH0pLGlzSHR0cDM6ZH0pLF8ud2FybmluZyhcIltcIi5jb25jYXQoc3x8XCJzaWQtXCIuY29uY2F0KGEuc2xpY2UoMCw2KSksXCJdIENob29zZSBzZXJ2ZXIgbmV0d29yayBlcnJvciwgcmV0cnlcIikscCksITApKSxpKX1mdW5jdGlvbiAkSSh0LGUsbixpKXtsZXQgcix7dXJsOm8sYXJlYUNvZGU6cyxzZXJ2aWNlSWRzOmF9PXQsYz1EYXRlLm5vdygpLFtkLGxdPXdmKGUscyxhKSx1O3JldHVybiBXaShhc3luYygpPT57dSYmaGUubmV0d29ya1N0YXRlPT09d24uT0ZGTElORSYmaGUub25saW5lV2FpdGVyJiZhd2FpdCBqLnJhY2UoW2hlLm9ubGluZVdhaXRlcixNZShpJiZpLm1heFJldHJ5VGltZW91dHx8RWUubWF4UmV0cnlUaW1lb3V0KV0pLHU9aGUubmV0d29ya1N0YXRlO2xldHtkYXRhOmgsaGVhZGVyczpwfT1hd2FpdCBIaShvLHtkYXRhOmQsY2FuY2VsVG9rZW46bixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwibXVsdGlwYXJ0L2Zvcm0tZGF0YTtcIn19LCEwLCEwKTtyPXAuaHR0cDM9PT1cIjFcIj8xOi0xLFgucmVwb3J0UmVzb3VyY2VUaW1pbmcobyxlLnNpZCksbDAoaCxvLGUsYyxhLHIpO2xldCBnPURjKGgsdWUuQ0hPT1NFX1NFUlZFUiksRT1EYyhoLGUuY2xvdWRQcm94eVNlcnZlcj09PVwicHJveHk1XCI/dWUuQ0xPVURfUFJPWFlfNTplLmNsb3VkUHJveHlTZXJ2ZXI9PT1cInByb3h5M1wifHxlLmNsb3VkUHJveHlTZXJ2ZXI9PT1cInByb3h5NFwiP3VlLkNMT1VEX1BST1hZOnVlLkNMT1VEX1BST1hZX0ZBTExCQUNLKTtyZXR1cm4gYmYoZykse2dhdGV3YXlJbmZvOm1mKGcsbykscHJveHlJbmZvOkUsdXJsOm99fSxoPT4oaC5nYXRld2F5SW5mbyYmWC5qb2luQ2hvb3NlU2VydmVyKGUuc2lkLHtsdHM6YyxzdWNjOiEwLGNzQWRkcjpvLHNlcnZlckxpc3Q6aC5nYXRld2F5SW5mby5nYXRld2F5QWRkcnMubWFwKHA9PnAuYWRkcmVzcyksZWM6bnVsbCxvcGlkOmwsY2lkOmguZ2F0ZXdheUluZm8uY2lkLnRvU3RyaW5nKCksdWlkOmguZ2F0ZXdheUluZm8udWlkLnRvU3RyaW5nKCksY3NJcDpoLmdhdGV3YXlJbmZvLmNzSXAsdW5pbGJzU2VydmVySWRzOmEudG9TdHJpbmcoKSxpc0h0dHAzOnJ9KSxoLnByb3h5SW5mbyYmWC5qb2luV2ViUHJveHlBUChlLnNpZCx7bHRzOmMsc3VjZXNzOjEsYXBTZXJ2ZXJBZGRyOm8sdHVyblNlcnZlckFkZHJMaXN0OmgucHJveHlJbmZvLmFkZHJlc3Nlcy5tYXAocD0+cC5pcCkuam9pbihcIixcIiksZXJyb3JDb2RlOm51bGwsZXZlbnRUeXBlOmUuY2xvdWRQcm94eVNlcnZlcix1bmlsYnNTZXJ2ZXJJZHM6YS50b1N0cmluZygpfSksITEpLGg9PmguY29kZSE9PVIuT1BFUkFUSU9OX0FCT1JURUQmJihoLmNvZGU9PT1SLkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSP2guZGF0YS5yZXRyeTooWC5qb2luV2ViUHJveHlBUChlLnNpZCx7bHRzOmMsc3VjZXNzOjAsYXBTZXJ2ZXJBZGRyOm8sdHVyblNlcnZlckFkZHJMaXN0Om51bGwsZXJyb3JDb2RlOmguY29kZSxldmVudFR5cGU6ZS5jbG91ZFByb3h5U2VydmVyLHVuaWxic1NlcnZlcklkczphLnRvU3RyaW5nKCksZXh0ZW5kOkpTT04uc3RyaW5naWZ5KHtuZXR3b3JrU3RhdGU6dX0pfSksXy53YXJuaW5nKFwiW1wiLmNvbmNhdChlLmNsaWVudElkLFwiXSBtdWx0aSB1bmlsYnMgbmV0d29yayBlcnJvciwgcmV0cnlcIiksaCksITApKSxpKX12YXIgbDA9KHQsZSxuLGkscixvKT0+e2xldHtzaWQ6cyxjbGllbnRJZDphLGNsb3VkUHJveHlTZXJ2ZXI6Y309bixkPVtdLGw9dT0+e3UuZmxhZz09PTQwOTY/WC5qb2luQ2hvb3NlU2VydmVyKHMse2x0czppLHN1Y2M6ITEsY3NBZGRyOmUsb3BpZDp0Lm9waWQsc2VydmVyTGlzdDpudWxsLGVjOnUuZXJyb3IubWVzc2FnZSxjc0lwOnUuZXJyb3IuZGF0YSYmdS5lcnJvci5kYXRhLmNzSXAsdW5pbGJzU2VydmVySWRzOnIudG9TdHJpbmcoKSxpc0h0dHAzOm99KTp1LmZsYWchPT0xMDQ4NTc2JiZ1LmZsYWchPT00MTk0MzA0JiZ1LmZsYWchPT00MTk0MzEwfHxYLmpvaW5XZWJQcm94eUFQKHMse2x0czppLHN1Y2VzczowLGFwU2VydmVyQWRkcjplLHR1cm5TZXJ2ZXJBZGRyTGlzdDpudWxsLGVycm9yQ29kZTp1LmVycm9yLmNvZGUsZXZlbnRUeXBlOmMsdW5pbGJzU2VydmVySWRzOnIudG9TdHJpbmcoKX0pO307aWYodC5yZXNwb25zZV9ib2R5LmZvckVhY2godT0+e2xldCBoPXUuYnVmZmVyLmNvZGU7aWYodS51cmk9PT0yMyYmaD09PTAmJiF1LmJ1ZmZlci5lZGdlc19zZXJ2aWNlcylpZih1LmJ1ZmZlci5mbGFnPT09NDE5NDMxMClfLndhcm5pbmcoXCJubyBlZGdlIHNlcnZpY2VzIGluIGFwIHJlc3BvbnNlIG9mIHByb3h5IGZhbGxiYWNrLCB3aWxsIG5vdCBzZXQgcHJveHkgaW4gaWNlU2VydmVyc1wiKSx1LmJ1ZmZlci5lZGdlc19zZXJ2aWNlcz1bXTtlbHNlIHtsZXQgcD17ZXJyb3I6bmV3IE8oUi5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUixcIm5vIGVkZ2Ugc2VydmljZXMgaW4gYXAgcmVzcG9uc2VcIix7cmV0cnk6ITAsY3NJcDp0LmRldGFpbFs1MDJdfSksZmxhZzp1LmJ1ZmZlci5mbGFnfTtkLnB1c2gocCksbChwKTt9aWYoaCE9PTApe2xldCBwPXRhKGgpLGc9e2Vycm9yOm5ldyBPKFIuQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVIscC5kZXNjLHtkZXNjOnAuZGVzYyxyZXRyeTpwLnJldHJ5LGNzSXA6dC5kZXRhaWxbNTAyXX0pLGZsYWc6dS5idWZmZXIuZmxhZ307dS5idWZmZXIuZmxhZz09PTQxOTQzMTA/Xy53YXJuaW5nKGcuZXJyb3IudG9TdHJpbmcoKSk6ZC5wdXNoKGcpLGwoZyk7fX0pLGQubGVuZ3RoKXRocm93IF8ud2FybmluZyhcIltcIi5jb25jYXQoYXx8XCJzaWQtXCIuY29uY2F0KHMuc2xpY2UoMCw2KSksXCJdIG11bHRpIHVuaWxicyBcIikuY29uY2F0KGUsXCIgZmFpbGVkLCBcIikuY29uY2F0KGQubWFwKHU9PlwiZmxhZzogXCIuY29uY2F0KHUuZmxhZyxcIiwgbWVzc2FnZTogXCIpLmNvbmNhdCh1LmVycm9yLm1lc3NhZ2UsXCIsIHJldHJ5OiBcIikuY29uY2F0KHUuZXJyb3IuZGF0YS5yZXRyeSkpLmpvaW4oXCIgfCBcIikpKSxuZXcgTyhSLkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSLGQubWFwKHU9PlwiZmxhZzogXCIuY29uY2F0KHUuZmxhZyxcIiwgbWVzc2FnZTogXCIpLmNvbmNhdCh1LmVycm9yLm1lc3NhZ2UpKS5qb2luKFwiIHwgXCIpLHtyZXRyeTohIWQuZmluZCh1PT51LmVycm9yLmRhdGEucmV0cnkpLGNzSXA6dC5kZXRhaWxbNTAyXSxkZXNjOlsuLi5uZXcgU2V0KGQubWFwKHU9Pnt2YXIgaDtyZXR1cm4gdT09bnVsbHx8KGg9dS5lcnJvcik9PT1udWxsfHxoPT09dm9pZCAwfHwoaD1oLmRhdGEpPT09bnVsbHx8aD09PXZvaWQgMD92b2lkIDA6aC5kZXNjfSkuZmlsdGVyKHU9PiEhdSkpXX0pfSxiZj10PT57dmFyIGUsbixpLHI7aWYodC5hZGRyZXNzZXMmJnQuYWRkcmVzc2VzLmxlbmd0aD09PTAmJnQuY29kZT09PTApdGhyb3cgbmV3IE8oUi5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUixcInZvaWQgZ2F0ZXdheSBhZGRyZXNzXCIse3JldHJ5OiEwLGNzSXA6dC5kZXRhaWwmJnQuZGV0YWlsWzUwMl19KTtpZih2KFwiQVBfQVJFQVwiKSYmKChpPXQuZGV0YWlsKSE9PW51bGwmJmkhPT12b2lkIDAmJmlbMjNdJiZ0eXBlb2YoKHI9dC5kZXRhaWwpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6clsyM10pPT1cInN0cmluZ1wiP1hJKHQuZGV0YWlsWzIzXS50b0xvd2VyQ2FzZSgpKTpYSSgpKSwoZT10LmRldGFpbCkhPT1udWxsJiZlIT09dm9pZCAwJiZlWzE5XSYmdHlwZW9mKChuPXQuZGV0YWlsKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm5bMTldKT09XCJzdHJpbmdcIil7bGV0IHM9dC5kZXRhaWxbMTldLGE9cz8uc3BsaXQoXCI7XCIpO2ZvcihsZXQgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgbztsZXQgZD1ybihvPWFbY10pLmNhbGwobyk7dC5hZGRyZXNzZXNbY10mJmEmJih0LmFkZHJlc3Nlc1tjXS5maW5nZXJwcmludD1kKTt9fWlmKHYoXCJHQVRFV0FZX0FERFJFU1NcIikmJnYoXCJHQVRFV0FZX0FERFJFU1NcIikubGVuZ3RoPjApe18uZGVidWcoXCJhc3NpZ24gZ2F0ZXdheSBhZGRyZXNzIHRvXCIsdihcIkdBVEVXQVlfQUREUkVTU1wiKSk7bGV0IHM9dihcIkdBVEVXQVlfQUREUkVTU1wiKS5tYXAoYT0+e3ZhciBjLGQ7bGV0IGw9KGM9KGQ9dC5hZGRyZXNzZXMuZmluZCh1PT51LmlwPT09YS5pcCYmdS5wb3J0PT09YS5wb3J0KSk9PT1udWxsfHxkPT09dm9pZCAwP3ZvaWQgMDpkLmZpbmdlcnByaW50KSE9PW51bGwmJmMhPT12b2lkIDA/YzpcIlwiO3JldHVybiB7aXA6YS5pcCxwb3J0OmEucG9ydCx0aWNrZXQ6dC5hZGRyZXNzZXNbMF0mJnQuYWRkcmVzc2VzWzBdLnRpY2tldCxmaW5nZXJwcmludDpsfX0pO3QuYWRkcmVzc2VzPXM7fX0sSEc9KHQsZSk9PntpZih0LnJlc3BvbnNlX2JvZHkmJnQucmVzcG9uc2VfYm9keS5sZW5ndGgpe2xldCBuPXQucmVzcG9uc2VfYm9keVswXTtpZihuLmJ1ZmZlci5jb2RlIT09MCl7bGV0IGk9dGEobi5idWZmZXIuY29kZSk7dGhyb3cgbmV3IE8oUi5VUERBVEVfVElDS0VUX0ZBSUxFRCxcIltcIi5jb25jYXQobi5idWZmZXIuY29kZSxcIl06IFwiKS5jb25jYXQoaS5kZXNjKSx7cmV0cnk6aS5yZXRyeX0pfXJldHVybiBuLmJ1ZmZlci50aWNrZXR9dGhyb3cgXy5kZWJ1ZyhcInVwZGF0ZSB0aWNrZXQgcmVxdWVzdCByZWNlaXZlZCBhcCByZXNwb25zZSB3aXRob3V0IHJlc3BvbnNlIGJvZHk6XCIsZSksbmV3IE8oUi5VUERBVEVfVElDS0VUX0ZBSUxFRCxcImNhbm5vdCBmaW5kIHJlc3BvbnNlIGJvZHkgZnJvbSBhcCByZXNwb25zZVwiLHtyZXRyeTohMX0pfSx3Zj0odCxlLG4pPT57bGV0IGk9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjFlMTIpLHI9e2FwcGlkOnQuYXBwSWQsY2xpZW50X3RzOkRhdGUubm93KCksb3BpZDppLHNpZDp0LnNpZCxyZXF1ZXN0X2JvZGllczpbe3VyaToyMixidWZmZXI6e2NuYW1lOnQuY25hbWUsZGV0YWlsOmVtKHs2OnQuc3RyaW5nVWlkLDExOmUsMTI6dihcIlVTRV9ORVdfVE9LRU5cIik/XCIxXCI6dm9pZCAwLDIyOmV9LHQuYXBSVE0/ezI2OlwiUlRNMlwifTp7fSksa2V5OnQudG9rZW4sc2VydmljZV9pZHM6bix1aWQ6dC51aWR8fDB9fV19O3IucmVxdWVzdF9ib2RpZXMuZm9yRWFjaChzPT57dC5tdWx0aUlQJiZ0Lm11bHRpSVAuZ2F0ZXdheV9pcCYmKHMuYnVmZmVyLmRldGFpbFs1XT1KU09OLnN0cmluZ2lmeSh7dm9jc19pcDpbdC5tdWx0aUlQLnVuaV9sYnNfaXBdLHZvc19pcDpbdC5tdWx0aUlQLmdhdGV3YXlfaXBdfSkpO30pO2xldCBvPW5ldyBGb3JtRGF0YTtyZXR1cm4gby5hcHBlbmQoXCJyZXF1ZXN0XCIsSlNPTi5zdHJpbmdpZnkocikpLFtvLGldfSxLRz0odCxlKT0+e2xldCBuPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxZTEyKSxpPXthcHBpZDp0LmFwcElkLGNsaWVudF90czpEYXRlLm5vdygpLG9waWQ6bixzaWQ6dC5zaWQscmVxdWVzdF9ib2RpZXM6W3t1cmk6MjgsYnVmZmVyOntjbmFtZTp0LmNuYW1lLGRldGFpbDp7MTpcIlwiLDY6dC5zdHJpbmdVaWQsMTI6XCIxXCJ9LHRva2VuOnQudG9rZW4sc2VydmljZV9pZHM6ZSx1aWQ6dC51aWR8fDAsZWRnZXNfc2VydmljZXM6dC5hcFJlc3BvbnNlLmFkZHJlc3Nlcy5tYXAobz0+KHtpcDpvLmlwLHBvcnQ6by5wb3J0fSkpfX1dfSxyPW5ldyBGb3JtRGF0YTtyZXR1cm4gci5hcHBlbmQoXCJyZXF1ZXN0XCIsSlNPTi5zdHJpbmdpZnkoaSkpLFtyLG5dfSxZcz0wO2Z1bmN0aW9uIFRhKHQpe3JldHVybiBqLmFsbCh0Lm1hcChlPT5lLnRoZW4obj0+e3Rocm93IG59LG49Pm4pKSkudGhlbihlPT57dGhyb3cgZX0sZT0+ZSl9dmFyIFVjPWFzeW5jIHQ9PntsZXR7ZnJhZ2VtZW50TGVuZ3RoOmUscmVmZXJlbmNlTGlzdDpuLGFzeW5jTWFwSGFuZGxlcjppLGFsbEZhaWxlZGhhbmRsZXI6cixwcm9taXNlc0NvbGxlY3RvcjpvfT10LHM9MCxhPWUsYyxkPTAsbD1hc3luYygpPT57bGV0IHU9KCgpPT57bGV0IGg9cyphLHA9aCthO3JldHVybiBuLnNsaWNlKGgscCkubWFwKGkpfSkoKTtvJiZvLnB1c2goLi4udSk7dHJ5e2M9YXdhaXQgVGEodSk7fWNhdGNoKGgpe2lmKGQrPWEscysrLCEoZD49bi5sZW5ndGgpKXJldHVybiB2b2lkIGF3YWl0IGwoKTtyKGgpO311LmZvckVhY2goaD0+aC5jYW5jZWwoKSk7fTtyZXR1cm4gYXdhaXQgbCgpLGN9LHUwPWFzeW5jIHQ9PntsZXR7cmVmZXJlbmNlTGlzdDplLGFzeW5jTWFwSGFuZGxlcjpuLGNsb3NlRm46aX09dCxyPWUubGVuZ3RoLG89MCxzPWFzeW5jKCk9PntsZXQgYT1uKGUuc2hpZnQoKSk7dHJ5e3JldHVybiBhd2FpdCBhfWNhdGNoKGMpe2lmKG8rKyxvPj1yfHxpIT1udWxsJiZpKGMpKXRocm93IGM7cmV0dXJuIHMoKX19O3JldHVybiBzKCl9O2FzeW5jIGZ1bmN0aW9uIG5tKHQsZSxuLGkpe3JldHVybiB7Z2F0ZXdheUluZm86YXdhaXQgYXN5bmMgZnVuY3Rpb24obyxzLGEsYyl7bGV0IGQ9bnVsbCxsPVtdLHU9YXN5bmMoKT0+e2xldCBwPXYoXCJXRUJDU19ET01BSU5cIikuc2xpY2UoMCx2KFwiQUpBWF9SRVFVRVNUX0NPTkNVUlJFTlRcIikpLm1hcChmPT4oe3VybDpvLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQoby5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQoZitcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIik6XCJodHRwczovL1wiLmNvbmNhdChmLFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxhcmVhQ29kZTpNYygpfSkpLGc9Yy5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe3N0YXJ0VHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJwZW5kaW5nXCIsc2VydmljZTpcImNob29zZVNlcnZlclwiLHVybHM6cC5tYXAoZj0+Zi51cmwpfSksRT1hd2FpdCBVYyh7ZnJhZ2VtZW50TGVuZ3RoOnYoXCJGUkFHRU1FTlRfTEVOR1RIXCIpLHJlZmVyZW5jZUxpc3Q6cCxhc3luY01hcEhhbmRsZXI6Zj0+KF8uZGVidWcoXCJbXCIuY29uY2F0KG8uY2xpZW50SWQsXCJdIENvbm5lY3QgdG8gY2hvb3NlX3NlcnZlcjpcIiksZi51cmwpLFpJKGYsbyxzLGEpKSxhbGxGYWlsZWRoYW5kbGVyOmY9Pnt0aHJvdyBjLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJlcnJvclwiLGVycm9yczpmfSxnKSxmWzBdfSxwcm9taXNlc0NvbGxlY3RvcjpsfSk7cmV0dXJuIGMucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpcInN1Y2Nlc3NcIn0sZyksRX0saD1hc3luYygpPT57aWYoYXdhaXQgTWUoMWUzKSxkIT09bnVsbClyZXR1cm4gZDtsZXQgcD12KFwiV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUXCIpLm1hcChmPT4oe3VybDpvLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQoby5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQoZitcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIik6XCJodHRwczovL1wiLmNvbmNhdChmLFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxhcmVhQ29kZTpNYygpfSkpLGc9Yy5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOnZvaWQgMCxzdGFydFRzOkRhdGUubm93KCksc3RhdHVzOlwicGVuZGluZ1wiLHNlcnZpY2U6XCJjaG9vc2VTZXJ2ZXJcIix1cmxzOnAubWFwKGY9PmYudXJsKX0pLEU9YXdhaXQgVWMoe2ZyYWdlbWVudExlbmd0aDp2KFwiRlJBR0VNRU5UX0xFTkdUSFwiKSxyZWZlcmVuY2VMaXN0OnAsYXN5bmNNYXBIYW5kbGVyOmY9PihfLmRlYnVnKFwiW1wiLmNvbmNhdChvLmNsaWVudElkLFwiXSBDb25uZWN0IHRvIGJhY2t1cCBjaG9vc2Vfc2VydmVyOlwiKSxmLnVybCksWkkoZixvLHMsYSkpLGFsbEZhaWxlZGhhbmRsZXI6Zj0+e3Rocm93IGMucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpcImVycm9yXCIsZXJyb3JzOmZ9LGcpLGZbMF19LHByb21pc2VzQ29sbGVjdG9yOmx9KTtyZXR1cm4gYy5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOlwic3VjY2Vzc1wifSxnKSxFfTt0cnl7cmV0dXJuIGQ9YXdhaXQgVGEoW3UoKSxoKCldKSxsLmxlbmd0aCYmbC5mb3JFYWNoKHA9PnAuY2FuY2VsJiZ0eXBlb2YgcC5jYW5jZWw9PVwiZnVuY3Rpb25cIiYmcC5jYW5jZWwoKSksZH1jYXRjaChwKXt0aHJvdyBwWzBdfX0odCxlLG4saSl9fWFzeW5jIGZ1bmN0aW9uIHR2KHQsZSxuLGkscil7bGV0IG89dC5jbG91ZFByb3h5U2VydmVyO2lmKG89PT1cImRpc2FibGVkXCIpe2lmKHQudXNlTG9jYWxBY2Nlc3NQb2ludClyZXR1cm4gYXdhaXQgbm0odCxlLG4scik7aWYodihcIkpPSU5fV0lUSF9GQUxMQkFDS19NRURJQV9QUk9YWVwiKSl7bGV0e2dhdGV3YXlJbmZvOmgscHJveHlJbmZvOnB9PWF3YWl0IG52KHQsZSxuLHIpO2lmKHQudHVyblNlcnZlciYmdC50dXJuU2VydmVyLm1vZGUhPT1cImF1dG9cIilyZXR1cm4ge2dhdGV3YXlJbmZvOmh9O2xldCBnPXAubWFwKEU9Pih7dHVyblNlcnZlclVSTDpFLmFkZHJlc3MsdGNwcG9ydDpFLnRjcHBvcnR8fFZlLnRjcHBvcnQsdWRwcG9ydDpFLnVkcHBvcnR8fFZlLnVkcHBvcnQsdXNlcm5hbWU6RS51c2VybmFtZXx8VmUudXNlcm5hbWUscGFzc3dvcmQ6RS5wYXNzd29yZHx8VmUucGFzc3dvcmQsZm9yY2V0dXJuOiExLHNlY3VyaXR5OiEwfSkpO2lmKHIudXNlUDJQKXt2YXIgcztsZXQgRT0ocz10LnVpZCkhPT1udWxsJiZzIT09dm9pZCAwP3M6aC51aWQsZj1cImdsYjpcIi5jb25jYXQoRS50b1N0cmluZygpKSxTPWF3YWl0IFBFKGYpLEM9cC5tYXAoQT0+KHt0dXJuU2VydmVyVVJMOkEuYWRkcmVzcyx0Y3Bwb3J0OkEudGNwcG9ydHx8VmUudGNwcG9ydCx1ZHBwb3J0OkEudWRwcG9ydHx8VmUudWRwcG9ydCx1c2VybmFtZTpmLHBhc3N3b3JkOlMsZm9yY2V0dXJuOiExLHNlY3VyaXR5OiEwfSkpO2cucHVzaCguLi5DKTt9cmV0dXJuIHQudHVyblNlcnZlcj17bW9kZTpcIm1hbnVhbFwiLHNlcnZlcnM6Z30se2dhdGV3YXlJbmZvOmh9fXJldHVybiBhd2FpdCBubSh0LGUsbixyKX1sZXR7cHJveHlJbmZvOmEsZ2F0ZXdheUluZm86Y309YXdhaXQgbnYodCxlLG4sciksZD17Z2F0ZXdheUluZm86Y30sbD1hLm1hcChoPT4oe3R1cm5TZXJ2ZXJVUkw6aC5hZGRyZXNzLHRjcHBvcnQ6bz09PVwicHJveHkzXCI/dm9pZCAwOmgudGNwcG9ydD9oLnRjcHBvcnQ6VmUudGNwcG9ydCx1ZHBwb3J0Om89PT1cInByb3h5NFwiP3ZvaWQgMDpoLnVkcHBvcnQ/aC51ZHBwb3J0OlZlLnVkcHBvcnQsdXNlcm5hbWU6aC51c2VybmFtZXx8VmUudXNlcm5hbWUscGFzc3dvcmQ6aC5wYXNzd29yZHx8VmUucGFzc3dvcmQsZm9yY2V0dXJuOm8hPT1cInByb3h5NFwiLHNlY3VyaXR5Om89PT1cInByb3h5NVwifSkpO2lmKHIudXNlUDJQKXt2YXIgdTtsZXQgaD0odT10LnVpZCkhPT1udWxsJiZ1IT09dm9pZCAwP3U6Yy51aWQscD1cImdsYjpcIi5jb25jYXQoaC50b1N0cmluZygpKSxnPWF3YWl0IFBFKHApLEU9YS5tYXAoZj0+KHt0dXJuU2VydmVyVVJMOmYuYWRkcmVzcyx0Y3Bwb3J0Om89PT1cInByb3h5M1wiP3ZvaWQgMDpmLnRjcHBvcnR8fFZlLnRjcHBvcnQsdWRwcG9ydDpvPT09XCJwcm94eTRcIj92b2lkIDA6Zi51ZHBwb3J0fHxWZS51ZHBwb3J0LHVzZXJuYW1lOnAscGFzc3dvcmQ6Zyxmb3JjZXR1cm46byE9PVwicHJveHk0XCIsc2VjdXJpdHk6bz09PVwicHJveHk1XCJ9KSk7bC5wdXNoKC4uLkUpO31yZXR1cm4gdC50dXJuU2VydmVyPXttb2RlOlwibWFudWFsXCIsc2VydmVyczpsfSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBzZXQgcHJveHkgc2VydmVyOiBcIikuY29uY2F0KHQucHJveHlTZXJ2ZXIsXCIsIG1vZGU6IFwiKS5jb25jYXQobykpLGR9YXN5bmMgZnVuY3Rpb24gaDAodCxlLG4saSxyKXtsZXQgbz12KFwiQUNDT1VOVF9SRUdJU1RFUlwiKS5zbGljZSgwLHYoXCJBSkFYX1JFUVVFU1RfQ09OQ1VSUkVOVFwiKSkscz1bXTtzPWUucHJveHlTZXJ2ZXI/by5tYXAoYz0+XCJodHRwczovL1wiLmNvbmNhdChlLnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdChjK1wiL2FwaS92MVwiKSk6by5tYXAoYz0+XCJodHRwczovL1wiLmNvbmNhdChjLFwiL2FwaS92MVwiKSk7bGV0IGE9cj8ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGFydFRzOkRhdGUubm93KCksc3RhdHVzOlwicGVuZGluZ1wiLHNlcnZpY2U6XCJzdHJpbmdVSURcIix1cmxzOnN9KTt0cnl7bGV0IGM9YXdhaXQgYXN5bmMgZnVuY3Rpb24oZCxsLHUsaCxwKXtsZXQgZz1EYXRlLm5vdygpLEU9e3NpZDp1LnNpZCxvcGlkOjEwLGFwcGlkOnUuYXBwSWQsc3RyaW5nX3VpZDpsfSxmPWRbMF0sUz1hd2FpdCBXaSgoKT0+SGkoZitcIlwiLmNvbmNhdChmLmluZGV4T2YoXCI/XCIpPT09LTE/XCI/XCI6XCImXCIsXCJhY3Rpb249c3RyaW5ndWlkXCIpLHtkYXRhOkUsY2FuY2VsVG9rZW46aCxoZWFkZXJzOntcIlgtUGFja2V0LVNlcnZpY2UtVHlwZVwiOjAsXCJYLVBhY2tldC1VUklcIjo3Mn19KSwoQyxBKT0+e2lmKEMuY29kZT09PTApe2lmKEMudWlkPD0wfHxDLnVpZD49TWF0aC5wb3coMiwzMikpdGhyb3cgXy5lcnJvcihcIkludmFsaWQgVWludCBVaWQgXCIuY29uY2F0KGwsXCIgPT4gXCIpLmNvbmNhdChDLnVpZCksQyksWC5yZXFVc2VyQWNjb3VudChFLnNpZCx7bHRzOmcsc3VjY2VzczohMSxzZXJ2ZXJBZGRyOmYsc3RyaW5nVWlkOkUuc3RyaW5nX3VpZCx1aWQ6Qy51aWQsZXJyb3JDb2RlOlIuSU5WQUxJRF9VSU5UX1VJRF9GUk9NX1NUUklOR19VSUQsZXh0ZW5kOkV9KSxuZXcgTyhSLklOVkFMSURfVUlOVF9VSURfRlJPTV9TVFJJTkdfVUlEKTtyZXR1cm4gWC5yZXFVc2VyQWNjb3VudChFLnNpZCx7bHRzOmcsc3VjY2VzczohMCxzZXJ2ZXJBZGRyOmYsc3RyaW5nVWlkOkUuc3RyaW5nX3VpZCx1aWQ6Qy51aWQsZXJyb3JDb2RlOm51bGwsZXh0ZW5kOkV9KSwhMX1sZXQgYj10YShDLmNvZGUpO3JldHVybiBiLnJldHJ5JiYoZj1kWyhBKzEpJWQubGVuZ3RoXSksWC5yZXFVc2VyQWNjb3VudChFLnNpZCx7bHRzOmcsc3VjY2VzczohMSxzZXJ2ZXJBZGRyOmYsc3RyaW5nVWlkOkUuc3RyaW5nX3VpZCx1aWQ6Qy51aWQsZXJyb3JDb2RlOmIuZGVzYyxleHRlbmQ6RX0pLGIucmV0cnl9LChDLEEpPT5DLmNvZGUhPT1SLk9QRVJBVElPTl9BQk9SVEVEJiYoWC5yZXFVc2VyQWNjb3VudChFLnNpZCx7bHRzOmcsc3VjY2VzczohMSxzZXJ2ZXJBZGRyOmYsc3RyaW5nVWlkOkUuc3RyaW5nX3VpZCx1aWQ6bnVsbCxlcnJvckNvZGU6Qy5jb2RlLGV4dGVuZDpFfSksZj1kWyhBKzEpJWQubGVuZ3RoXSwhMCkscCk7aWYoUy5jb2RlIT09MCl7bGV0IEM9dGEoUy5jb2RlKTt0aHJvdyBuZXcgTyhSLlVORVhQRUNURURfUkVTUE9OU0UsQy5kZXNjKX1yZXR1cm4gU30ocyx0LGUsbixpKTtyZXR1cm4gcj8ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGF0dXM6XCJzdWNjZXNzXCIsZW5kVHM6RGF0ZS5ub3coKX0sYSksYy51aWR9Y2F0Y2goYyl7dGhyb3cgcj8ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGF0dXM6XCJlcnJvclwiLGVuZFRzOkRhdGUubm93KCksZXJyb3JzOltjXX0sYSksY319YXN5bmMgZnVuY3Rpb24gWUcodCxlLG4pe2xldCBpPXYoXCJBQ0NPVU5UX1JFR0lTVEVSXCIpLHI9W107cj1lLnByb3h5U2VydmVyP2kubWFwKG89PlwiaHR0cHM6Ly9cIi5jb25jYXQoZS5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQobytcIi9hcGkvdjFcIikpOmkubWFwKG89PlwiaHR0cHM6Ly9cIi5jb25jYXQobyxcIi9hcGkvdjFcIikpO3RyeXtyZXR1cm4gYXdhaXQgdTAoe3JlZmVyZW5jZUxpc3Q6cixhc3luY01hcEhhbmRsZXI6cz0+YXN5bmMgZnVuY3Rpb24oYSxjLGQsbCl7bGV0IHU9RGF0ZS5ub3coKSxoPXtzaWQ6ZC5zaWQsb3BpZDoxMCxhcHBpZDpkLmFwcElkLHN0cmluZ191aWQ6Y307dHJ5e2xldCBwPWF3YWl0IEhpKGErXCJcIi5jb25jYXQoYS5pbmRleE9mKFwiP1wiKT09PS0xP1wiP1wiOlwiJlwiLFwiYWN0aW9uPXN0cmluZ3VpZFwiKSx7ZGF0YTpoLGNhbmNlbFRva2VuOmwsaGVhZGVyczp7XCJYLVBhY2tldC1TZXJ2aWNlLVR5cGVcIjowLFwiWC1QYWNrZXQtVVJJXCI6NzJ9fSk7aWYocC5jb2RlIT09MCl7bGV0IGc9dGEocC5jb2RlKTt0aHJvdyBuZXcgTyhSLlVORVhQRUNURURfUkVTUE9OU0UsXCJwcmVsb2FkIHN1YSBlcnJvcjpcIi5jb25jYXQoZy5kZXNjKSxnKX1pZihwLnVpZDw9MHx8cC51aWQ+PU1hdGgucG93KDIsMzIpKXRocm93IG5ldyBPKFIuSU5WQUxJRF9VSU5UX1VJRF9GUk9NX1NUUklOR19VSUQpO3JldHVybiB7cmVxdWVzdFRpbWU6dSx1cmw6YSxyZXE6aCx1aWQ6cC51aWQsZWxhcHNlOkRhdGUubm93KCktdX19Y2F0Y2gocCl7dGhyb3cgcH19KHMsdCxlLG4pLGNsb3NlRm46cz0+cy5jb2RlPT09Ui5PUEVSQVRJT05fQUJPUlRFRHx8cy5jb2RlPT09Ui5VTkVYUEVDVEVEX1JFU1BPTlNFJiYhcy5kYXRhLnJldHJ5fSl9Y2F0Y2gobyl7dGhyb3cgb319YXN5bmMgZnVuY3Rpb24gcUcodCxlLG4pe2xldCBpPXYoXCJDRFNfQVBcIikuc2xpY2UoMCx2KFwiQUpBWF9SRVFVRVNUX0NPTkNVUlJFTlRcIikpLm1hcChjPT50LnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQodC5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQoYytcIi9hcGkvdjFcIik6XCJodHRwczovL1wiLmNvbmNhdChjLFwiL2FwaS92MT9hY3Rpb249Y29uZmlnXCIpKSxyPWkubWFwKGM9PmZ1bmN0aW9uKGQsbCx1LGgpe2xldCBwPW10KCksZz17ZmxhZzo2NCxjaXBoZXJfbWV0aG9kOjAsZmVhdHVyZXM6e2RldmljZTpwLm5hbWUsc3lzdGVtOnAub3Msc3lzdGVtX2dlbmVyYWw6bmF2aWdhdG9yLnVzZXJBZ2VudCx2ZW5kb3I6bC5hcHBJZCx2ZXJzaW9uOmlpLGNuYW1lOmwuY25hbWUsc2lkOmwuc2lkLHNlc3Npb25faWQ6bC5zaWQsZGV0YWlsOlwiXCIscHJveHlTZXJ2ZXI6bC5wcm94eVNlcnZlcn19O3JldHVybiBXaSgoKT0+SGkoZCx7ZGF0YTpnLHRpbWVvdXQ6MWUzLGNhbmNlbFRva2VuOnUsaGVhZGVyczp7XCJYLVBhY2tldC1TZXJ2aWNlLVR5cGVcIjowLFwiWC1QYWNrZXQtVVJJXCI6NTR9fSksdm9pZCAwLEU9PkUuY29kZSE9PVIuT1BFUkFUSU9OX0FCT1JURUQsaCl9KGMsdCxlLG4pKSxvPW51bGwscz1udWxsLGE9e307dHJ5e289YXdhaXQgVGEocik7fWNhdGNoKGMpe2lmKGMuY29kZT09PVIuT1BFUkFUSU9OX0FCT1JURUQpdGhyb3cgYztzPWM7fWlmKHIuZm9yRWFjaChjPT5jLmNhbmNlbCgpKSxYLnJlcG9ydEFwaUludm9rZSh0LnNpZCx7bmFtZTpUZS5SRVFVRVNUX0NPTkZJR19ESVNUUklCVVRFLG9wdGlvbnM6e2Vycm9yOnMscmVzOm99fSkub25TdWNjZXNzKCksbyYmby50ZXN0X3RhZ3MpdHJ5e2E9ZnVuY3Rpb24oYyl7aWYoIWMudGVzdF90YWdzKXJldHVybiB7fTtsZXQgZD1jLnRlc3RfdGFncyxsPU9iamVjdC5rZXlzKGQpLHU9e307cmV0dXJuIGwuZm9yRWFjaChoPT57dmFyIHA7bGV0IGc9cm4ocD1oLnNsaWNlKDQpKS5jYWxsKHApLEU9SlNPTi5wYXJzZShkW2hdKVsxXTt1W2ddPUU7fSksdX0obyk7fWNhdGNoe31yZXR1cm4gYX1hc3luYyBmdW5jdGlvbiBldih0LGUpe2xldCBuPXYoXCJXRUJDU19ET01BSU5cIikuY29uY2F0KHYoXCJXRUJDU19ET01BSU5fQkFDS1VQX0xJU1RcIikpLm1hcChpPT4oe3VybDpcImh0dHBzOi8vXCIuY29uY2F0KGksXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpLGFyZWFDb2RlOk1jKCksc2VydmljZUlkczpbdWUuQ0hPT1NFX1NFUlZFUix1ZS5DTE9VRF9QUk9YWV9GQUxMQkFDS119KSk7dHJ5e3JldHVybiBhd2FpdCB1MCh7cmVmZXJlbmNlTGlzdDpuLGFzeW5jTWFwSGFuZGxlcjpyPT5hc3luYyBmdW5jdGlvbihvLHMsYSl7bGV0IGMse3VybDpkLGFyZWFDb2RlOmwsc2VydmljZUlkczp1fT1vLGg9RGF0ZS5ub3coKSxbcCxnXT13ZihzLGwsdSksRT1oZS5uZXR3b3JrU3RhdGU7dHJ5e0UmJmhlLm5ldHdvcmtTdGF0ZT09PXduLk9GRkxJTkUmJmhlLm9ubGluZVdhaXRlciYmYXdhaXQgai5yYWNlKFtoZS5vbmxpbmVXYWl0ZXIsTWUoRWUubWF4UmV0cnlUaW1lb3V0KV0pLEU9aGUubmV0d29ya1N0YXRlO2xldHtkYXRhOmYsaGVhZGVyczpTfT1hd2FpdCBIaShkLHtkYXRhOnAsY2FuY2VsVG9rZW46YSxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwibXVsdGlwYXJ0L2Zvcm0tZGF0YTtcIn19LCEwLCEwKTtjPVMuaHR0cDM9PT1cIjFcIj8xOi0xLCh3PT57bGV0IEQ9W107aWYody5yZXNwb25zZV9ib2R5LmZvckVhY2goaz0+e2xldCBCPWsuYnVmZmVyLmNvZGU7aWYoay51cmk9PT0yMyYmQj09PTAmJiFrLmJ1ZmZlci5lZGdlc19zZXJ2aWNlcylpZihrLmJ1ZmZlci5mbGFnPT09NDE5NDMxMClrLmJ1ZmZlci5lZGdlc19zZXJ2aWNlcz1bXTtlbHNlIHtsZXQgVj17ZXJyb3I6bmV3IE8oUi5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUixcIm5vIGVkZ2Ugc2VydmljZXMgaW4gYXAgcmVzcG9uc2VcIix7cmV0cnk6ITAsY3NJcDp3LmRldGFpbFs1MDJdfSksZmxhZzprLmJ1ZmZlci5mbGFnfTtELnB1c2goVik7fWlmKEIhPT0wKXtsZXQgVj10YShCKSx6PXtlcnJvcjpuZXcgTyhSLkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSLFYuZGVzYyx7ZGVzYzpWLmRlc2MscmV0cnk6Vi5yZXRyeSxjc0lwOncuZGV0YWlsWzUwMl19KSxmbGFnOmsuYnVmZmVyLmZsYWd9O2suYnVmZmVyLmZsYWc9PT00MTk0MzEwP18ud2FybmluZyh6LmVycm9yLnRvU3RyaW5nKCkpOkQucHVzaCh6KTt9fSksRC5sZW5ndGgpdGhyb3cgbmV3IE8oUi5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUixELm1hcChrPT5cImZsYWc6IFwiLmNvbmNhdChrLmZsYWcsXCIsIG1lc3NhZ2U6IFwiKS5jb25jYXQoay5lcnJvci5tZXNzYWdlKSkuam9pbihcIiB8IFwiKSx7cmV0cnk6ISFELmZpbmQoaz0+ay5lcnJvci5kYXRhLnJldHJ5KSxjc0lwOncuZGV0YWlsWzUwMl0sZGVzYzpbLi4ubmV3IFNldChELm1hcChrPT57dmFyIEI7cmV0dXJuIGs9PW51bGx8fChCPWsuZXJyb3IpPT09bnVsbHx8Qj09PXZvaWQgMHx8KEI9Qi5kYXRhKT09PW51bGx8fEI9PT12b2lkIDA/dm9pZCAwOkIuZGVzY30pLmZpbHRlcihrPT4hIWspKV19KX0pKGYpO2xldCBBPURjKGYsdWUuQ0hPT1NFX1NFUlZFUiksYj1EYyhmLHVlLkNMT1VEX1BST1hZX0ZBTExCQUNLKTtyZXR1cm4gYmYoQSkse2dhdGV3YXlJbmZvOm1mKEEsZCkscHJveHlJbmZvOmIsb3BpZDpnLHJlcXVlc3RUaW1lOmgsdXJsOmQsaXNIdHRwMzpjLGVsYXBzZTpEYXRlLm5vdygpLWh9fWNhdGNoKGYpe3Rocm93IGZ9fShyLHQsZSksY2xvc2VGbjpyPT5yLmNvZGU9PT1SLk9QRVJBVElPTl9BQk9SVEVEfHxyLmNvZGU9PT1SLkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSJiYhci5kYXRhLnJldHJ5fSl9Y2F0Y2goaSl7dGhyb3cgaX19YXN5bmMgZnVuY3Rpb24gbnYodCxlLG4saSl7bGV0IHI9dihcIlBST1hZX1NFUlZFUl9UWVBFM1wiKSxvPShwLGcsRSk9PntsZXQgZj1FfHxyO3JldHVybiBBcnJheS5pc0FycmF5KGYpJiYoZj1nJTI9PTA/clsxXTpyWzBdKSxcImh0dHBzOi8vXCIuY29uY2F0KGYsXCIvYXAvP3VybD1cIikuY29uY2F0KHApfSxzPW51bGwsYT1bXSxjPWFzeW5jKCk9PntsZXQgcD12KFwiV0VCQ1NfRE9NQUlOXCIpLnNsaWNlKDAsdihcIkFKQVhfUkVRVUVTVF9DT05DVVJSRU5UXCIpKS5tYXAoKGYsUyk9PntsZXQgQztyZXR1cm4gQz10LmNsb3VkUHJveHlTZXJ2ZXI9PT1cImRpc2FibGVkXCImJnQucHJveHlTZXJ2ZXI/byhcIlwiLmNvbmNhdChmLFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxTLHQucHJveHlTZXJ2ZXIpOnQuY2xvdWRQcm94eVNlcnZlcj09PVwiZGlzYWJsZWRcInx8dC5jbG91ZFByb3h5U2VydmVyPT09XCJmYWxsYmFja1wiP1wiaHR0cHM6Ly9cIi5jb25jYXQoZixcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIik6byhcIlwiLmNvbmNhdChmLFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxTKSx7dXJsOkMsYXJlYUNvZGU6TWMoKSxzZXJ2aWNlSWRzOlt1ZS5DSE9PU0VfU0VSVkVSLHQuY2xvdWRQcm94eVNlcnZlcj09PVwicHJveHk1XCI/dWUuQ0xPVURfUFJPWFlfNTp0LmNsb3VkUHJveHlTZXJ2ZXI9PT1cInByb3h5M1wifHx0LmNsb3VkUHJveHlTZXJ2ZXI9PT1cInByb3h5NFwiP3VlLkNMT1VEX1BST1hZOnVlLkNMT1VEX1BST1hZX0ZBTExCQUNLXX19KSxnPWkucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGFydFRzOkRhdGUubm93KCksc3RhdHVzOlwicGVuZGluZ1wiLHNlcnZpY2U6XCJjaG9vc2VTZXJ2ZXJcIix1cmxzOnAubWFwKGY9PmYudXJsKX0pLEU9YXdhaXQgVWMoe2ZyYWdlbWVudExlbmd0aDp2KFwiRlJBR0VNRU5UX0xFTkdUSFwiKSxyZWZlcmVuY2VMaXN0OnAsYXN5bmNNYXBIYW5kbGVyOmY9PihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBDb25uZWN0IHRvIGNob29zZV9zZXJ2ZXI6XCIpLGYudXJsKSwkSShmLHQsZSxuKSksYWxsRmFpbGVkaGFuZGxlcjpmPT57dGhyb3cgaS5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOlwiZXJyb3JcIixlcnJvcnM6Zn0sZyksZlswXX0scHJvbWlzZXNDb2xsZWN0b3I6YX0pO3JldHVybiBpLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJzdWNjZXNzXCJ9LGcpLEV9LGQ9YXN5bmMoKT0+e2lmKGF3YWl0IE1lKDFlMykscyE9PW51bGwpcmV0dXJuIHM7bGV0IHA9dihcIldFQkNTX0RPTUFJTl9CQUNLVVBfTElTVFwiKS5tYXAoKGYsUyk9PntsZXQgQztyZXR1cm4gQz10LmNsb3VkUHJveHlTZXJ2ZXI9PT1cImRpc2FibGVkXCImJnQucHJveHlTZXJ2ZXI/byhcIlwiLmNvbmNhdChmLFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxTLHQucHJveHlTZXJ2ZXIpOnQuY2xvdWRQcm94eVNlcnZlcj09PVwiZGlzYWJsZWRcInx8dC5jbG91ZFByb3h5U2VydmVyPT09XCJmYWxsYmFja1wiP1wiaHR0cHM6Ly9cIi5jb25jYXQoZixcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIik6byhcIlwiLmNvbmNhdChmLFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxTKSx7dXJsOkMsYXJlYUNvZGU6TWMoKSxzZXJ2aWNlSWRzOlt1ZS5DSE9PU0VfU0VSVkVSLHQuY2xvdWRQcm94eVNlcnZlcj09PVwicHJveHk1XCI/dWUuQ0xPVURfUFJPWFlfNTp0LmNsb3VkUHJveHlTZXJ2ZXI9PT1cInByb3h5M1wifHx0LmNsb3VkUHJveHlTZXJ2ZXI9PT1cInByb3h5NFwiP3VlLkNMT1VEX1BST1hZOnVlLkNMT1VEX1BST1hZX0ZBTExCQUNLXX19KSxnPWkucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGFydFRzOkRhdGUubm93KCksc3RhdHVzOlwicGVuZGluZ1wiLHNlcnZpY2U6XCJjaG9vc2VTZXJ2ZXJcIix1cmxzOnAubWFwKGY9PmYudXJsKX0pLEU9YXdhaXQgVWMoe2ZyYWdlbWVudExlbmd0aDp2KFwiRlJBR0VNRU5UX0xFTkdUSFwiKSxyZWZlcmVuY2VMaXN0OnAsYXN5bmNNYXBIYW5kbGVyOmY9PihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSBDb25uZWN0IHRvIGJhY2t1cCBjaG9vc2Vfc2VydmVyOlwiKSxmLnVybCksJEkoZix0LGUsbikpLGFsbEZhaWxlZGhhbmRsZXI6Zj0+e3Rocm93IGkucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpcImVycm9yXCIsZXJyb3JzOmZ9LGcpLGZbMF19LHByb21pc2VzQ29sbGVjdG9yOmF9KTtyZXR1cm4gaS5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOlwic3VjY2Vzc1wifSxnKSxFfSxsLHUsaDt0cnl7KHtnYXRld2F5SW5mbzpsLHByb3h5SW5mbzp1LHVybDpofT1hd2FpdCBUYShbYygpLGQoKV0pKTt9Y2F0Y2gocCl7dGhyb3cgcFswXX1pZihhLmxlbmd0aCYmYS5mb3JFYWNoKHA9PnAuY2FuY2VsJiZ0eXBlb2YgcC5jYW5jZWw9PVwiZnVuY3Rpb25cIiYmcC5jYW5jZWwoKSksIWx8fCF1KXRocm93IG5ldyBPKFIuVU5FWFBFQ1RFRF9FUlJPUixcIm1pc3NpbmcgZ2F0ZXdheSBvciBwcm94eSByZXNwb25zZVwiKS5wcmludCgpO2lmKHQuYXBVcmw9aCx0LmNsb3VkUHJveHlTZXJ2ZXIhPT1cImRpc2FibGVkXCImJkFycmF5LmlzQXJyYXkocikmJmgpe2xldCBwPS9eaHR0cHM/OlxcL1xcLyguKz8pKFxcLy4qKT8kLy5leGVjKGgpWzFdO1cocikuY2FsbChyLHApJiYodC5wcm94eVNlcnZlcj1wLF8uc2V0UHJveHlTZXJ2ZXIocCksWC5zZXRQcm94eVNlcnZlcihwKSk7fXJldHVybiBzPXtnYXRld2F5SW5mbzpsLHByb3h5SW5mbzphd2FpdCBrTyh1LGwudWlkKX0sc31hc3luYyBmdW5jdGlvbiB6Ryh0LGUsbil7bGV0IGk9dihcIlVBUF9BUFwiKS5zbGljZSgwLHYoXCJBSkFYX1JFUVVFU1RfQ09OQ1VSUkVOVFwiKSkubWFwKG89PnQucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdCh0LnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdChvK1wiL2FwaS92MT9hY3Rpb249dWFwXCIpOlwiaHR0cHM6Ly9cIi5jb25jYXQobyxcIi9hcGkvdjE/YWN0aW9uPXVhcFwiKSkscj1pLm1hcChvPT5mdW5jdGlvbihzLGEsYyxkKXtsZXQgbD17Y29tbWFuZDpcImNvbnZlcmdlQWxsb2NhdGVFZGdlXCIsc2lkOmEuc2lkLGFwcElkOmEuYXBwSWQsdG9rZW46YS50b2tlbix0czpEYXRlLm5vdygpLHZlcnNpb246aWksY25hbWU6YS5jbmFtZSx1aWQ6YS51aWQudG9TdHJpbmcoKSxyZXF1ZXN0SWQ6cF8sc2VxOnBffTtwXys9MTtsZXQgdT17c2VydmljZV9uYW1lOlwidGVsZV9jaGFubmVsXCIsanNvbl9ib2R5OkpTT04uc3RyaW5naWZ5KGwpfTtyZXR1cm4gV2koYXN5bmMoKT0+e2xldCBoPWF3YWl0IEhpKHMse2RhdGE6dSxjYW5jZWxUb2tlbjpjLGhlYWRlcnM6e1wiWC1QYWNrZXQtU2VydmljZS1UeXBlXCI6MCxcIlgtUGFja2V0LVVSSVwiOjYxfX0pO2lmKGguY29kZSE9PTApe2xldCBnPW5ldyBPKFIuVU5FWFBFQ1RFRF9SRVNQT05TRSxcImNyb3NzIGNoYW5uZWwgYXAgZXJyb3IsIGNvZGVcIitoLmNvZGUse3JldHJ5OiEwfSk7dGhyb3cgXy5lcnJvcihnLnRvU3RyaW5nKCkpLGd9bGV0IHA9SlNPTi5wYXJzZShoLmpzb25fYm9keSk7aWYocC5jb2RlIT09MjAwKXtsZXQgZz1uZXcgTyhSLlVORVhQRUNURURfUkVTUE9OU0UsXCJjcm9zcyBjaGFubmVsIGFwcCBjZW50ZXIgZXJyb3IsIGNvZGU6IFwiLmNvbmNhdChwLmNvZGUsXCIsIHJlYXNvbjogXCIpLmNvbmNhdChwLnJlYXNvbikpO3Rocm93IF8uZXJyb3IoZy50b1N0cmluZygpKSxnfWlmKCFwLnNlcnZlcnN8fHAuc2VydmVycy5sZW5ndGg9PT0wKXtsZXQgZz1uZXcgTyhSLlVORVhQRUNURURfUkVTUE9OU0UsXCJjcm9zcyBjaGFubmVsIGFwcCBjZW50ZXIgZW1wdHkgc2VydmVyXCIpO3Rocm93IF8uZXJyb3IoZy50b1N0cmluZygpKSxnfXJldHVybiB7dmlkOnAudmlkLHdvcmtlclRva2VuOnAud29ya2VyVG9rZW4sYWRkcmVzc0xpc3Q6KHYoXCJDSEFOTkVMX01FRElBX1JFTEFZX1NFUlZFUlNcIil8fHAuc2VydmVycykubWFwKGc9Plwid3NzOi8vXCIuY29uY2F0KGcuYWRkcmVzcy5yZXBsYWNlKC9cXC4vZyxcIi1cIiksXCIuXCIpLmNvbmNhdCh2KFwiV09SS0VSX0RPTUFJTlwiKSxcIjpcIikuY29uY2F0KGcud3NzKSl9fSx2b2lkIDAsaD0+ISEoaC5jb2RlIT09Ui5PUEVSQVRJT05fQUJPUlRFRCYmaC5jb2RlIT09Ui5VTkVYUEVDVEVEX1JFU1BPTlNFfHxoLmRhdGEmJmguZGF0YS5yZXRyeSksZCl9KG8sdCxlLG4pKTt0cnl7bGV0IG89YXdhaXQgVGEocik7cmV0dXJuIHIuZm9yRWFjaChzPT5zLmNhbmNlbCgpKSxvfWNhdGNoKG8pe3Rocm93IG9bMF19fWFzeW5jIGZ1bmN0aW9uIEpHKHQsZSxuKXtsZXQgaT1udWxsLHI9W10sbz1hc3luYyBzPT57bGV0IGE9dihzP1wiV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUXCI6XCJXRUJDU19ET01BSU5cIikubWFwKGM9PnQucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdCh0LnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdChjK1wiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKTpcImh0dHBzOi8vXCIuY29uY2F0KGMsXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpKTtyZXR1cm4gcyYmKGF3YWl0IE1lKDFlMyksaSE9PW51bGwpP2k6YXdhaXQgVWMoe2ZyYWdlbWVudExlbmd0aDp2KFwiRlJBR0VNRU5UX0xFTkdUSFwiKSxyZWZlcmVuY2VMaXN0OmEsYXN5bmNNYXBIYW5kbGVyOmM9PihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSB1cGRhdGUgdGlja2V0LCBDb25uZWN0IHRvIFwiKS5jb25jYXQocz9cImJhY2t1cFwiOlwiXCIsXCIgY2hvb3NlX3NlcnZlcjpcIiksYyksZnVuY3Rpb24oZCxsLHUsaCl7bGV0W3BdPUtHKGwsW3VlLkNIT09TRV9TRVJWRVJdKSxnPWhlLm5ldHdvcmtTdGF0ZTtyZXR1cm4gV2koYXN5bmMoKT0+e2cmJmhlLm5ldHdvcmtTdGF0ZT09PXduLk9GRkxJTkUmJmhlLm9ubGluZVdhaXRlciYmYXdhaXQgai5yYWNlKFtoZS5vbmxpbmVXYWl0ZXIsTWUoaCYmaC5tYXhSZXRyeVRpbWVvdXR8fEVlLm1heFJldHJ5VGltZW91dCldKSxnPWhlLm5ldHdvcmtTdGF0ZTtsZXQgRT1hd2FpdCBIaShkLHtkYXRhOnAsY2FuY2VsVG9rZW46dSxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwibXVsdGlwYXJ0L2Zvcm0tZGF0YTtcIn19LCEwKTtyZXR1cm4gSEcoRSxkKX0sKCk9PiExLEU9PkUuY29kZSE9PVIuT1BFUkFUSU9OX0FCT1JURUQmJihFLmNvZGU9PT1SLlVQREFURV9USUNLRVRfRkFJTEVEP0UuZGF0YS5yZXRyeTooXy53YXJuaW5nKFwiW1wiLmNvbmNhdChsLmNsaWVudElkLFwiXSB1cGRhdGUgdGlja2V0IG5ldHdvcmsgZXJyb3IsIHJldHJ5XCIpLEUpLCEwKSksaCl9KGMsdCxlLG4pKSxhbGxGYWlsZWRoYW5kbGVyOmM9Pnt0aHJvdyBjWzBdfSxwcm9taXNlc0NvbGxlY3RvcjpyfSl9O3RyeXtyZXR1cm4gaT1hd2FpdCBUYShbbyghMSksbyghMCldKSxyLmxlbmd0aCYmci5mb3JFYWNoKHM9PnMuY2FuY2VsJiZ0eXBlb2Ygcy5jYW5jZWw9PVwiZnVuY3Rpb25cIiYmcy5jYW5jZWwoKSksaX1jYXRjaChzKXt0aHJvdyBzWzBdfX1mdW5jdGlvbiBpdih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiBydih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj9pdihPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6aXYoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9dmFyIGltPWNsYXNzIGV4dGVuZHMgWHR7Z2V0IGlzU3VjY2Vzcygpe3JldHVybiAhIXRoaXMuY29uZmlnc31jb25zdHJ1Y3Rvcigpe3N1cGVyKCksVCh0aGlzLFwiY29uZmlnc1wiLHZvaWQgMCksVCh0aGlzLFwiam9pbkluZm9cIix2b2lkIDApLFQodGhpcyxcImNhbmNlbFRva2VuXCIsdm9pZCAwKSxUKHRoaXMsXCJyZXRyeUNvbmZpZ1wiLHt0aW1lb3V0OjNlMyx0aW1lb3V0RmFjdG9yOjEuNSxtYXhSZXRyeUNvdW50OjEsbWF4UmV0cnlUaW1lb3V0OjFlNH0pLFQodGhpcyxcImludGVydmFsXCIsdm9pZCAwKSxUKHRoaXMsXCJtdXRleFwiLG5ldyB6ZShcImNvbmZpZy1kaXN0cmlidXRlXCIpKSxUKHRoaXMsXCJtdXRhYmxlUGFyYW1zUmVhZFwiLCExKTt9c3RhcnRHZXRDb25maWdEaXN0cmlidXRlKGUsbil7dGhpcy5qb2luSW5mbz1lLHRoaXMuY2FuY2VsVG9rZW49bix0aGlzLmludGVydmFsJiZ0aGlzLnN0b3BHZXRDb25maWdEaXN0cmlidXRlKCksdihcIkVOQUJMRV9DT05GSUdfRElTVFJJQlVURVwiKSYmKHRoaXMudXBkYXRlQ29uZmlnRGlzdHJpYnV0ZSgpLHRoaXMuaW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgpPT57dGhpcy51cGRhdGVDb25maWdEaXN0cmlidXRlKCk7fSx2KFwiQ09ORklHX0RJU1RSSUJVVEVfSU5URVJWQUxcIikpKTt9c3RvcEdldENvbmZpZ0Rpc3RyaWJ1dGUoKXt0aGlzLmludGVydmFsJiZjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpLHRoaXMuaW50ZXJ2YWw9dm9pZCAwLHRoaXMuam9pbkluZm89dm9pZCAwLHRoaXMuY2FuY2VsVG9rZW49dm9pZCAwO31hc3luYyBhd2FpdENvbmZpZ0Rpc3RyaWJ1dGVDb21wbGV0ZSgpe3RoaXMubXV0ZXguaXNMb2NrZWQmJihhd2FpdCB0aGlzLm11dGV4LmxvY2soKSkoKTt9YXN5bmMgdXBkYXRlQ29uZmlnRGlzdHJpYnV0ZSgpe2lmKHRoaXMubXV0YWJsZVBhcmFtc1JlYWR8fCh0aGlzLm11dGFibGVQYXJhbXNSZWFkPSEwLFgucmVwb3J0QXBpSW52b2tlKG51bGwse29wdGlvbnM6dm9pZCAwLG5hbWU6VGUuTE9BRF9DT05GSUdfRlJPTV9MT0NBTFNUT1JBR0UsdGFnOlp0LlRSQUNFUn0pLm9uU3VjY2VzcyhKU09OLnN0cmluZ2lmeSgkcikpKSwhdGhpcy5qb2luSW5mb3x8IXRoaXMuY2FuY2VsVG9rZW58fCF0aGlzLnJldHJ5Q29uZmlnKXJldHVybiB2b2lkIF8uZGVidWcoXCJbY29uZmlnLWRpc3RyaWJ1dGVdIGdldCBjb25maWcgZGlzdHJpYnV0ZSBpbnRlcnJ1cHRlZCBoYXZlIG5vIGpvaW5pbmZvXCIpO2xldCBlLG49YXdhaXQgdGhpcy5tdXRleC5sb2NrKCk7dHJ5e2U9YXdhaXQgcUcodGhpcy5qb2luSW5mbyx0aGlzLmNhbmNlbFRva2VuLHRoaXMucmV0cnlDb25maWcpLF8uZGVidWcoXCJbY29uZmlnLWRpc3RyaWJ1dGVdIGdldCBjb25maWcgZGlzdHJpYnV0ZVwiLEpTT04uc3RyaW5naWZ5KGUpKSxlLmxpbWl0X2JpdHJhdGUmJnRoaXMuaGFuZGxlQml0cmF0ZUxpbWl0KGUubGltaXRfYml0cmF0ZSksdGhpcy5jYWNoZUdsb2JhbFBhcmFtZXRlckNvbmZpZyhlKSx0aGlzLmNvbmZpZ3M9ZTt9Y2F0Y2goaSl7bGV0IHI9bmV3IE8oUi5ORVRXT1JLX1JFU1BPTlNFX0VSUk9SLGkpO18ud2FybmluZyhcIltjb25maWctZGlzdHJpYnV0ZV0gXCIuY29uY2F0KHIudG9TdHJpbmcoKSkpO31maW5hbGx5e24oKTt9fWdldEJpdHJhdGVMaW1pdCgpe3JldHVybiB0aGlzLmNvbmZpZ3M/dGhpcy5jb25maWdzLmxpbWl0X2JpdHJhdGU6dm9pZCAwfWhhbmRsZUJpdHJhdGVMaW1pdChlKXt2YXIgbjsobj1lKSYmbi51cGxpbmsmJm4uaWQmJm4udXBsaW5rLm1heF9iaXRyYXRlIT09dm9pZCAwJiZuLnVwbGluay5taW5fYml0cmF0ZSE9PXZvaWQgMCYmKHRoaXMuY29uZmlncyYmdGhpcy5jb25maWdzLmxpbWl0X2JpdHJhdGU/dGhpcy5jb25maWdzJiZ0aGlzLmNvbmZpZ3MubGltaXRfYml0cmF0ZSYmdGhpcy5jb25maWdzLmxpbWl0X2JpdHJhdGUuaWQhPT1lLmlkJiZ0aGlzLmVtaXQoRkUuVVBEQVRFX0JJVFJBVEVfTElNSVQsZSk6dGhpcy5lbWl0KEZFLlVQREFURV9CSVRSQVRFX0xJTUlULGUpKTt9Z2V0TG93U3RyZWFtQ29uZmlnRGlzdHJpYnV0ZSgpe3JldHVybiB0aGlzLmNvbmZpZ3MmJnRoaXMuY29uZmlncy5saW1pdF9iaXRyYXRlJiZydih7fSx0aGlzLmNvbmZpZ3MubGltaXRfYml0cmF0ZS5sb3dfc3RyZWFtX3VwbGluayl9Y2FjaGVHbG9iYWxQYXJhbWV0ZXJDb25maWcoZSl7dmFyIG47bGV0IGk9ZWQobj1PYmplY3Qua2V5cyhlKS5maWx0ZXIobz0+L153ZWJydGNfbmdfZ2xvYmFsX3BhcmFtZXRlci8udGVzdChvKSkpLmNhbGwobik7Zm9yKGxldCBvPTA7bzxpLmxlbmd0aDtvKyspZm9yKGxldCBzPWkubGVuZ3RoLTE7cz5vO3MtLSl7bGV0IGE9aVtzXTtpZih0eXBlb2YgZVthXS5fX3ByaW9yaXR5PT1cIm51bWJlclwiKXtsZXQgYz1lW2FdLl9fcHJpb3JpdHksZD1pW3MtMV07aWYodHlwZW9mIGVbZF0uX19wcmlvcml0eT09XCJudW1iZXJcIil7aWYoIShjPmVbZF0uX19wcmlvcml0eSkpY29udGludWU7e2xldCBsPWE7aVtzXT1pW3MtMV0saVtzLTFdPWw7fX1lbHNlIHtsZXQgbD1hO2lbc109aVtzLTFdLGlbcy0xXT1sO319fWxldCByPXt9O2kuZm9yRWFjaChvPT57bGV0IHM9ZVtvXSxhPXMuX19leHBpcmVzO09iamVjdC5rZXlzKHMpLmZvckVhY2goYz0+e2M9PT1cIl9fcHJpb3JpdHlcInx8Yz09PVwiX19leHBpcmVzXCJ8fE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLGMpfHwocltjXT1ydih7dmFsdWU6c1tjXX0sYSYme2V4cGlyZXM6YX0pKTt9KTt9KTt0cnl7KGZ1bmN0aW9uKGEpe3RyeXtsZXQgYz1EYXRlLm5vdygpO09iamVjdC5rZXlzKGEpLmZvckVhY2goZD0+e3N3aXRjaChkKXtjYXNlXCJFTkFCTEVfRVZFTlRfUkVQT1JUXCI6Y2FzZVwiVVBMT0FEX0xPR1wiOmNhc2VcIkVOQUJMRV9BR19BREFQVEFUSU9OXCI6Y2FzZVwiRk9SQ0VfQUdfSElHSF9GUkFNRVJBVEVcIjpjYXNlXCJGT1JDRV9TVVBQT1JUX0FHX0FEQVBUQVRJT05cIjpjYXNlXCJFTkNPREVSX0NPTkZJR19MSU1JVFwiOmNhc2VcIkNBTUVSQV9DQVBUVVJFX0NPTkZJR1wiOmNhc2VcIkVOQUJMRV9QUkVMT0FEXCI6aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9lLGQpKXtsZXR7dmFsdWU6bCxleHBpcmVzOnV9PWFbZF07aWYodSYmdTw9YylyZXR1cm47JHJbZF09bCxvZVtkXT1sLF8uZGVidWcoXCJVcGRhdGUgZ2xvYmFsIHBhcmFtZXRlcnMgZnJvbSBjb25maWcgZGlzdHJpYnV0ZVwiLGQsbCk7fX19KTt9Y2F0Y2goYyl7Xy5lcnJvcihcIkVycm9yIHVwZGF0ZSBjb25maWcgaW1tZWRpYXRlbHk6IFwiLmNvbmNhdChhKSxjLm1lc3NhZ2UpO319KShyKTtsZXQgbz1KU09OLnN0cmluZ2lmeShyKSxzPXdpbmRvdy5idG9hKG8pO3dpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIndlYnNka19uZ19nbG9iYWxfcGFyYW1ldGVyXCIscyksXy5kZWJ1ZyhcIkNhY2hpbmcgZ2xvYmFsIHBhcmFtZXRlcnMgXCIuY29uY2F0KG8pKTt9Y2F0Y2gobyl7Xy5lcnJvcihcIkVycm9yIGNhY2hpbmcgZ2xvYmFsIHBhcmFtZXRlcnM6XCIsby5tZXNzYWdlKTt9fX0scm09Y2xhc3MgZXh0ZW5kcyBYdHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksVCh0aGlzLFwicmVzdWx0U3RvcmFnZVwiLG5ldyBNYXApO31zZXRMb2NhbEF1ZGlvU3RhdHMoZSxuLGkpe3RoaXMucmVjb3JkKFwiQVVESU9fSU5QVVRfTEVWRUxfVE9PX0xPV1wiLGUsdGhpcy5jaGVja0F1ZGlvSW5wdXRMZXZlbChpLG4pKSx0aGlzLnJlY29yZChcIlNFTkRfQVVESU9fQklUUkFURV9UT09fTE9XXCIsZSx0aGlzLmNoZWNrU2VuZEF1ZGlvQml0cmF0ZShpLG4pKTt9c2V0TG9jYWxWaWRlb1N0YXRzKGUsbixpKXt0aGlzLnJlY29yZChcIlNFTkRfVklERU9fQklUUkFURV9UT09fTE9XXCIsZSx0aGlzLmNoZWNrU2VuZFZpZGVvQml0cmF0ZShpLG4pKSx0aGlzLnJlY29yZChcIkZSQU1FUkFURV9JTlBVVF9UT09fTE9XXCIsZSx0aGlzLmNoZWNrRnJhbWVyYXRlSW5wdXQoaSxuKSksdGhpcy5yZWNvcmQoXCJGUkFNRVJBVEVfU0VOVF9UT09fTE9XXCIsZSx0aGlzLmNoZWNrRnJhbWVyYXRlU2VudChpKSk7fXNldFJlbW90ZUF1ZGlvU3RhdHMoZSxuKXtsZXQgaT1lLmdldFVzZXJJZCgpO3RoaXMucmVjb3JkKFwiQVVESU9fT1VUUFVUX0xFVkVMX1RPT19MT1dcIixpLHRoaXMuY2hlY2tBdWRpb091dHB1dExldmVsKG4pKTt9c2V0UmVtb3RlVmlkZW9TdGF0cyhlLG4pe2xldCBpPWUuZ2V0VXNlcklkKCk7dGhpcy5yZWNvcmQoXCJSRUNWX1ZJREVPX0RFQ09ERV9GQUlMRURcIixpLHRoaXMuY2hlY2tWaWRlb0RlY29kZShuKSk7fXJlY29yZChlLG4saSl7aWYodihcIlNUQVRTX1VQREFURV9JTlRFUlZBTFwiKT41MDApcmV0dXJuO3RoaXMucmVzdWx0U3RvcmFnZS5oYXMoZSl8fHRoaXMucmVzdWx0U3RvcmFnZS5zZXQoZSx7cmVzdWx0OltdLGlzUHJldk5vcm1hbDohMH0pO2xldCByPXRoaXMucmVzdWx0U3RvcmFnZS5nZXQoZSk7aWYociYmKHIucmVzdWx0LnB1c2goaSksci5yZXN1bHQubGVuZ3RoPj01KSl7dmFyIG87bGV0IHM9VyhvPXIucmVzdWx0KS5jYWxsKG8sITApO3IuaXNQcmV2Tm9ybWFsJiYhcyYmdGhpcy5lbWl0KFwiZXhjZXB0aW9uXCIsb3ZbZV0sZSxuKSwhci5pc1ByZXZOb3JtYWwmJnMmJnRoaXMuZW1pdChcImV4Y2VwdGlvblwiLG92W2VdKzJlMyxlK1wiX1JFQ09WRVJcIixuKSxyLmlzUHJldk5vcm1hbD1zLHIucmVzdWx0PVtdO319Y2hlY2tBdWRpb091dHB1dExldmVsKGUpe3JldHVybiAhKGUucmVjZWl2ZUJpdHJhdGU+MCYmZS5yZWNlaXZlTGV2ZWw9PT0wKX1jaGVja0F1ZGlvSW5wdXRMZXZlbChlLG4pe3JldHVybiBuIGluc3RhbmNlb2YgZ2UmJiFuLmlzQWN0aXZlfHwhIW4ubXV0ZWR8fGUuc2VuZFZvbHVtZUxldmVsIT09MH1jaGVja0ZyYW1lcmF0ZUlucHV0KGUsbil7bGV0IGk9bnVsbDtuLl9lbmNvZGVyQ29uZmlnJiZuLl9lbmNvZGVyQ29uZmlnLmZyYW1lUmF0ZSYmKGk9Tm4obi5fZW5jb2RlckNvbmZpZy5mcmFtZVJhdGUpKTtsZXQgcj1lLmNhcHR1cmVGcmFtZVJhdGU7cmV0dXJuICFpfHwhcnx8IShpPjEwJiZyPDV8fGk8MTAmJmk+PTUmJnI8PTEpfWNoZWNrRnJhbWVyYXRlU2VudChlKXtyZXR1cm4gIShlLmNhcHR1cmVGcmFtZVJhdGUmJmUuc2VuZEZyYW1lUmF0ZSYmZS5jYXB0dXJlRnJhbWVSYXRlPjUmJmUuc2VuZEZyYW1lUmF0ZTw9MSl9Y2hlY2tTZW5kVmlkZW9CaXRyYXRlKGUsbil7cmV0dXJuICEhbi5tdXRlZHx8ZS5zZW5kQml0cmF0ZSE9PTB9Y2hlY2tTZW5kQXVkaW9CaXRyYXRlKGUsbil7cmV0dXJuIG4gaW5zdGFuY2VvZiBnZSYmIW4uaXNBY3RpdmV8fCEhbi5tdXRlZHx8ZS5zZW5kQml0cmF0ZSE9PTB9Y2hlY2tWaWRlb0RlY29kZShlKXtyZXR1cm4gZS5yZWNlaXZlQml0cmF0ZT09PTB8fGUuZGVjb2RlRnJhbWVSYXRlIT09MH19LG92PXtGUkFNRVJBVEVfSU5QVVRfVE9PX0xPVzoxMDAxLEZSQU1FUkFURV9TRU5UX1RPT19MT1c6MTAwMixTRU5EX1ZJREVPX0JJVFJBVEVfVE9PX0xPVzoxMDAzLFJFQ1ZfVklERU9fREVDT0RFX0ZBSUxFRDoxMDA1LEFVRElPX0lOUFVUX0xFVkVMX1RPT19MT1c6MjAwMSxBVURJT19PVVRQVVRfTEVWRUxfVE9PX0xPVzoyMDAyLFNFTkRfQVVESU9fQklUUkFURV9UT09fTE9XOjIwMDN9LHFlPW5ldyBjbGFzc3ttYXJrU3Vic2NyaWJlU3RhcnQodCxlKXtwZXJmb3JtYW5jZS5tYXJrKFwiYWdvcmEtd2ViLXNkay9cIi5jb25jYXQodCxcIi9zdWJzY3JpYmUtXCIpLmNvbmNhdChlKSk7fW1hcmtQdWJsaXNoU3RhcnQodCxlKXtwZXJmb3JtYW5jZS5tYXJrKFwiYWdvcmEtd2ViLXNkay9cIi5jb25jYXQodCxcIi9wdWJsaXNoLVwiKS5jb25jYXQoZSkpO31tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHQsZSl7bGV0IG49cGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5TmFtZShcImFnb3JhLXdlYi1zZGsvXCIuY29uY2F0KHQsXCIvc3Vic2NyaWJlLVwiKS5jb25jYXQoZSkpO2lmKG4ubGVuZ3RoPjApe2xldCBpPW5bbi5sZW5ndGgtMV07cmV0dXJuIE1hdGgucm91bmQocGVyZm9ybWFuY2Uubm93KCktaS5zdGFydFRpbWUpfXJldHVybiAwfW1lYXN1cmVGcm9tUHVibGlzaFN0YXJ0KHQsZSl7bGV0IG49cGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5TmFtZShcImFnb3JhLXdlYi1zZGsvXCIuY29uY2F0KHQsXCIvcHVibGlzaC1cIikuY29uY2F0KGUpKTtpZihuLmxlbmd0aD4wKXtsZXQgaT1uW24ubGVuZ3RoLTFdO3JldHVybiBNYXRoLnJvdW5kKHBlcmZvcm1hbmNlLm5vdygpLWkuc3RhcnRUaW1lKX1yZXR1cm4gMH19O2Z1bmN0aW9uIE9mKHQsZSl7dGhpcy52PXQsdGhpcy5rPWU7fWZ1bmN0aW9uIFR0KHQpe3JldHVybiBuZXcgT2YodCwwKX12YXIgWEc9TGIsUUc9bXI7eHQoe3RhcmdldDpcIlByb21pc2VcIixzdGF0OiEwLGZvcmNlZDohMH0se3dpdGhSZXNvbHZlcnM6ZnVuY3Rpb24oKXt2YXIgdD1RRy5mKHRoaXMpO3JldHVybiB7cHJvbWlzZTp0LnByb21pc2UscmVzb2x2ZTp0LnJlc29sdmUscmVqZWN0OnQucmVqZWN0fX19KTt2YXIgWkc9bXIsJEc9X2E7eHQoe3RhcmdldDpcIlByb21pc2VcIixzdGF0OiEwLGZvcmNlZDohMH0se3RyeTpmdW5jdGlvbih0KXt2YXIgZT1aRy5mKHRoaXMpLG49JEcodCk7cmV0dXJuIChuLmVycm9yP2UucmVqZWN0OmUucmVzb2x2ZSkobi52YWx1ZSksZS5wcm9taXNlfX0pO3ZhciBvbT1hZShYRykscDA9RWEuZihcImFzeW5jSXRlcmF0b3JcIiksdFc9YWUocDApO2Z1bmN0aW9uIEphKHQpe3ZhciBlLG47ZnVuY3Rpb24gaShvLHMpe3RyeXt2YXIgYT10W29dKHMpLGM9YS52YWx1ZSxkPWMgaW5zdGFuY2VvZiBPZjtvbS5yZXNvbHZlKGQ/Yy52OmMpLnRoZW4oZnVuY3Rpb24obCl7aWYoZCl7dmFyIHU9bz09PVwicmV0dXJuXCI/XCJyZXR1cm5cIjpcIm5leHRcIjtpZighYy5rfHxsLmRvbmUpcmV0dXJuIGkodSxsKTtsPXRbdV0obCkudmFsdWU7fXIoYS5kb25lP1wicmV0dXJuXCI6XCJub3JtYWxcIixsKTt9LGZ1bmN0aW9uKGwpe2koXCJ0aHJvd1wiLGwpO30pO31jYXRjaChsKXtyKFwidGhyb3dcIixsKTt9fWZ1bmN0aW9uIHIobyxzKXtzd2l0Y2gobyl7Y2FzZVwicmV0dXJuXCI6ZS5yZXNvbHZlKHt2YWx1ZTpzLGRvbmU6ITB9KTticmVhaztjYXNlXCJ0aHJvd1wiOmUucmVqZWN0KHMpO2JyZWFrO2RlZmF1bHQ6ZS5yZXNvbHZlKHt2YWx1ZTpzLGRvbmU6ITF9KTt9KGU9ZS5uZXh0KT9pKGUua2V5LGUuYXJnKTpuPW51bGw7fXRoaXMuX2ludm9rZT1mdW5jdGlvbihvLHMpe3JldHVybiBuZXcgb20oZnVuY3Rpb24oYSxjKXt2YXIgZD17a2V5Om8sYXJnOnMscmVzb2x2ZTphLHJlamVjdDpjLG5leHQ6bnVsbH07bj9uPW4ubmV4dD1kOihlPW49ZCxpKG8scykpO30pfSx0eXBlb2YgdC5yZXR1cm4hPVwiZnVuY3Rpb25cIiYmKHRoaXMucmV0dXJuPXZvaWQgMCk7fWZ1bmN0aW9uIEJpKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgSmEodC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfX1KYS5wcm90b3R5cGVbdHlwZW9mIERzPT1cImZ1bmN0aW9uXCImJnRXfHxcIkBAYXN5bmNJdGVyYXRvclwiXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxKYS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faW52b2tlKFwibmV4dFwiLHQpfSxKYS5wcm90b3R5cGUudGhyb3c9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ludm9rZShcInRocm93XCIsdCl9LEphLnByb3RvdHlwZS5yZXR1cm49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2ludm9rZShcInJldHVyblwiLHQpfTt2YXIgc3Y9YWUoR2kuT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyksZVc9eHQsblc9Tm0uaW5kZXhPZixpVz1OdSxzbT1nYyhbXS5pbmRleE9mKSxhdj0hIXNtJiYxL3NtKFsxXSwxLC0wKTwwO2VXKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDphdnx8IWlXKFwiaW5kZXhPZlwiKX0se2luZGV4T2Y6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7cmV0dXJuIGF2P3NtKHRoaXMsdCxlKXx8MDpuVyh0aGlzLHQsZSl9fSk7dmFyIHJXPWJpKFwiQXJyYXlcIikuaW5kZXhPZixvVz1obixzVz1yVyxfXz1BcnJheS5wcm90b3R5cGUsYVc9ZnVuY3Rpb24odCl7dmFyIGU9dC5pbmRleE9mO3JldHVybiB0PT09X198fG9XKF9fLHQpJiZlPT09X18uaW5kZXhPZj9zVzplfSxjdj1hZShhVyk7ZnVuY3Rpb24gY1codCxlKXtpZih0PT1udWxsKXJldHVybiB7fTt2YXIgbixpLHI9ZnVuY3Rpb24ocyxhKXtpZihzPT1udWxsKXJldHVybiB7fTt2YXIgYyxkLGw9e30sdT1OTyhzKTtmb3IoZD0wO2Q8dS5sZW5ndGg7ZCsrKWM9dVtkXSxjdihhKS5jYWxsKGEsYyk+PTB8fChsW2NdPXNbY10pO3JldHVybiBsfSh0LGUpO2lmKHN2KXt2YXIgbz1zdih0KTtmb3IoaT0wO2k8by5sZW5ndGg7aSsrKW49b1tpXSxjdihlKS5jYWxsKGUsbik+PTB8fE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0LG4pJiYocltuXT10W25dKTt9cmV0dXJuIHJ9ZnVuY3Rpb24gU2kodCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdC5tYXAobj0+bik7aWYoIWR2KHQpKXJldHVybiB0O2xldCBlPXt9O2ZvcihsZXQgbiBpbiB0KXtsZXQgaT10W25dO2R2KGkpfHxBcnJheS5pc0FycmF5KGkpP2Vbbl09U2koaSk6ZVtuXT1pO31yZXR1cm4gZX1mdW5jdGlvbiBkdih0KXtyZXR1cm4gISh0eXBlb2YgdCE9XCJvYmplY3RcInx8QXJyYXkuaXNBcnJheSh0KXx8IXQpfXZhciBjYz1jbGFzc3tjb25zdHJ1Y3RvcihlKXtUKHRoaXMsXCJpbnB1dFwiLFtdKSxUKHRoaXMsXCJzaXplXCIsdm9pZCAwKSx0aGlzLnNpemU9ZTt9YWRkKGUpe3RoaXMuaW5wdXQucHVzaChlKSx0aGlzLmlucHV0Lmxlbmd0aD50aGlzLnNpemUmJnRoaXMuaW5wdXQuc3BsaWNlKDAsMSk7fWRpZmZNZWFuKCl7cmV0dXJuIHRoaXMuaW5wdXQubGVuZ3RoPT09MD8wOih0aGlzLmlucHV0W3RoaXMuaW5wdXQubGVuZ3RoLTFdLXRoaXMuaW5wdXRbMF0pL3RoaXMuaW5wdXQubGVuZ3RofX0saHI9e2FkZHJlc3M6XCJ1bmtub3duXCIsY2FuZGlkYXRlVHlwZTpcInVua25vd25cIixpZDpcInVua25vd25cIixwb3J0OjAscHJpb3JpdHk6MCxwcm90b2NvbDpcInVua25vd25cIix0eXBlOlwidW5rbm93blwifSx4Yz17dGltZXN0YW1wOjAsYml0cmF0ZTp7YWN0dWFsRW5jb2RlZDowLHRyYW5zbWl0OjB9LHNlbmRQYWNrZXRMb3NzUmF0ZTowLHJlY3ZQYWNrZXRMb3NzUmF0ZTowLHZpZGVvUmVjdjpbXSx2aWRlb1NlbmQ6W10sYXVkaW9SZWN2OltdLGF1ZGlvU2VuZDpbXSxzZWxlY3RlZENhbmRpZGF0ZVBhaXI6e2lkOlwidW5rbm93blwiLGxvY2FsQ2FuZGlkYXRlOmhyLHJlbW90ZUNhbmRpZGF0ZTpocn19LF8wPXtmaXJzQ291bnQ6MCxuYWNrc0NvdW50OjAscGxpc0NvdW50OjAsZnJhbWVzRGVjb2RlQ291bnQ6MCxmcmFtZXNEZWNvZGVJbnRlcnZhbDowLGZyYW1lc0RlY29kZUZyZWV6ZVRpbWU6MCxkZWNvZGVGcmFtZVJhdGU6MCxieXRlczowLHBhY2tldHNMb3N0OjAscGFja2V0TG9zdFJhdGU6MCxwYWNrZXRzOjAsc3NyYzowLHFwU3VtUGVyRnJhbWU6MCxmcmFtZXNEcm9wcGVkQ291bnQ6MCxvdXRwdXRGcmFtZVJhdGU6MH0sRTA9e2ZpcnNDb3VudDowLG5hY2tzQ291bnQ6MCxwbGlzQ291bnQ6MCxmcmFtZUNvdW50OjAsYnl0ZXM6MCxwYWNrZXRzOjAscGFja2V0c0xvc3Q6MCxwYWNrZXRMb3N0UmF0ZTowLHNzcmM6MCxydHRNczowLGppdHRlck1zOjAscXBTdW1QZXJGcmFtZTowfSxtMD17Ynl0ZXM6MCxwYWNrZXRzOjAscGFja2V0c0xvc3Q6MCxwYWNrZXRMb3N0UmF0ZTowLHNzcmM6MCxydHRNczowLGppdHRlck1zOjB9LGYwPXtqaXR0ZXJCdWZmZXJNczowLGppdHRlck1zOjAsYnl0ZXM6MCxwYWNrZXRzTG9zdDowLHBhY2tldExvc3RSYXRlOjAscGFja2V0c0Rpc2NhcmRlZDowLHBhY2tldHM6MCxzc3JjOjAscmVjZWl2ZWRGcmFtZXM6MCxkcm9wcGVkRnJhbWVzOjAsY29uY2VhbGVkU2FtcGxlczowfTtmdW5jdGlvbiBsdih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiB1dih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj9sdihPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6bHYoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9dmFyIFZjPWNsYXNze2NvbnN0cnVjdG9yKGUsbil7VCh0aGlzLFwib25GaXJzdFZpZGVvUmVjZWl2ZWRcIix2b2lkIDApLFQodGhpcyxcIm9uRmlyc3RWaWRlb0RlY29kZWRcIix2b2lkIDApLFQodGhpcyxcIm9uRmlyc3RBdWRpb1JlY2VpdmVkXCIsdm9pZCAwKSxUKHRoaXMsXCJvbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dFwiLHZvaWQgMCksVCh0aGlzLFwib25GaXJzdEF1ZGlvRGVjb2RlZFwiLHZvaWQgMCksVCh0aGlzLFwib25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZFwiLHZvaWQgMCksVCh0aGlzLFwib25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWRcIix2b2lkIDApLFQodGhpcyxcInZpZGVvSXNSZWFkeVwiLCExKSxUKHRoaXMsXCJ2aWRlb0lzUmVhZHkyXCIse30pLFQodGhpcyxcInBjXCIsdm9pZCAwKSxUKHRoaXMsXCJvcHRpb25zXCIsdm9pZCAwKSxUKHRoaXMsXCJpbnRlcnZhbFRpbWVyXCIsdm9pZCAwKSxUKHRoaXMsXCJzdGF0c1wiLFNpKHhjKSksVCh0aGlzLFwiaXNGaXJzdFZpZGVvUmVjZWl2ZWRcIix7fSksVCh0aGlzLFwiaXNGaXJzdFZpZGVvRGVjb2RlZFwiLHt9KSxUKHRoaXMsXCJpc0ZpcnN0QXVkaW9SZWNlaXZlZFwiLHt9KSxUKHRoaXMsXCJpc0ZpcnN0QXVkaW9EZWNvZGVkXCIse30pLFQodGhpcyxcImlzRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0XCIse30pLFQodGhpcyxcImxvc3NSYXRlV2luZG93U3RhdHNcIixbXSksdGhpcy5wYz1lLHRoaXMub3B0aW9ucz1uLHRoaXMuaW50ZXJ2YWxUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoYXN5bmMoKT0+e3RoaXMudXBkYXRlU3RhdHMoKTt9LHRoaXMub3B0aW9ucy51cGRhdGVJbnRlcnZhbCk7fWdldFN0YXRzKCl7cmV0dXJuIHRoaXMuc3RhdHN9Z2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCl7cmV0dXJuIG5ldyBqKGU9PntlKHtsb2NhbDp1dih7fSxocikscmVtb3RlOnV2KHt9LGhyKX0pO30pfXNldFZpZGVvSXNSZWFkeShlKXt0aGlzLnZpZGVvSXNSZWFkeT1lO31zZXRWaWRlb0lzUmVhZHkyKGUsbil7dGhpcy52aWRlb0lzUmVhZHkyW2VdPW47fWdldFZpZGVvSXNSZWFkeShlKXtyZXR1cm4gdGhpcy52aWRlb0lzUmVhZHkyW2VdfHwhMX1zZXRJc0ZpcnN0QXVkaW9EZWNvZGVkKGUpe31kZXN0cm95KCl7d2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbFRpbWVyKSx0aGlzLnBjPXZvaWQgMDt9Y2FsY0xvc3NSYXRlKGUpe3RoaXMubG9zc1JhdGVXaW5kb3dTdGF0cy5wdXNoKGUpLHRoaXMubG9zc1JhdGVXaW5kb3dTdGF0cy5sZW5ndGg+dGhpcy5vcHRpb25zLmxvc3NSYXRlSW50ZXJ2YWwmJnRoaXMubG9zc1JhdGVXaW5kb3dTdGF0cy5zcGxpY2UoMCwxKTtsZXQgbj10aGlzLmxvc3NSYXRlV2luZG93U3RhdHMubGVuZ3RoLGk9W1widmlkZW9TZW5kXCIsXCJhdWRpb1NlbmRcIixcInZpZGVvUmVjdlwiLFwiYXVkaW9SZWN2XCJdLHI9MCxvPTAscz0wLGE9MDtmb3IobGV0IGMgb2YgaSllW2NdLmZvckVhY2goKGQsbCk9PntpZighdGhpcy5sb3NzUmF0ZVdpbmRvd1N0YXRzW24tMV1bY11bbF18fCF0aGlzLmxvc3NSYXRlV2luZG93U3RhdHNbMF1bY11bbF0pcmV0dXJuO2xldCB1PXRoaXMubG9zc1JhdGVXaW5kb3dTdGF0c1tuLTFdW2NdW2xdLnBhY2tldHMtdGhpcy5sb3NzUmF0ZVdpbmRvd1N0YXRzWzBdW2NdW2xdLnBhY2tldHMsaD10aGlzLmxvc3NSYXRlV2luZG93U3RhdHNbbi0xXVtjXVtsXS5wYWNrZXRzTG9zdC10aGlzLmxvc3NSYXRlV2luZG93U3RhdHNbMF1bY11bbF0ucGFja2V0c0xvc3Q7Yz09PVwidmlkZW9TZW5kXCJ8fGM9PT1cImF1ZGlvU2VuZFwiPyhyKz11LHMrPWgpOihvKz11LGErPWgpLE51bWJlci5pc05hTih1KXx8TnVtYmVyLmlzTmFOKHUpP2QucGFja2V0TG9zdFJhdGU9MDpkLnBhY2tldExvc3RSYXRlPXU8PTB8fGg8PTA/MDpoLyh1K2gpO30pO2Uuc2VuZFBhY2tldExvc3NSYXRlPXI8PTB8fHM8PTA/MDpzLyhyK3MpLGUucmVjdlBhY2tldExvc3NSYXRlPW88PTB8fGE8PTA/MDphLyhvK2EpO319O2Z1bmN0aW9uIGh2KHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4saSk7fXJldHVybiBufWZ1bmN0aW9uIGRXKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXSE9bnVsbD9hcmd1bWVudHNbZV06e307ZSUyP2h2KE9iamVjdChuKSwhMCkuZm9yRWFjaChmdW5jdGlvbihpKXtUKHQsaSxuW2ldKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpodihPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24oaSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSkpO30pO31yZXR1cm4gdH12YXIgYW09Y2xhc3MgZXh0ZW5kcyBWY3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksVCh0aGlzLFwiX3N0YXRzXCIseGMpLFQodGhpcyxcImxhc3REZWNvZGVWaWRlb1JlY2VpdmVyU3RhdHNcIixuZXcgTWFwKTt9YXN5bmMgdXBkYXRlU3RhdHMoKXtsZXQgZT1hd2FpdCB0aGlzLl9nZXRTdGF0cygpLG49dGhpcy5zdGF0c1Jlc3BvbnNlc1RvT2JqZWN0cyhlKTt0aGlzLl9zdGF0cz1TaSh4Yyk7bGV0IGk9bi5maWx0ZXIobz0+by50eXBlPT09XCJzc3JjXCIpO3RoaXMucHJvY2Vzc1NTUkNTdGF0cyhpKTtsZXQgcj1uLmZpbmQobz0+by50eXBlPT09XCJWaWRlb0J3ZVwiKTtyJiZ0aGlzLnByb2Nlc3NCYW5kd2lkdGhTdGF0cyhyKSx0aGlzLl9zdGF0cy50aW1lc3RhbXA9RGF0ZS5ub3coKSx0aGlzLmNhbGNMb3NzUmF0ZSh0aGlzLl9zdGF0cyksdGhpcy5zdGF0cz10aGlzLl9zdGF0czt9cHJvY2Vzc0JhbmR3aWR0aFN0YXRzKGUpe3RoaXMuX3N0YXRzLmJpdHJhdGU9e2FjdHVhbEVuY29kZWQ6TnVtYmVyKGUuZ29vZ0FjdHVhbEVuY0JpdHJhdGUpLHRhcmdldEVuY29kZWQ6TnVtYmVyKGUuZ29vZ1RhcmdldEVuY0JpdHJhdGUpLHJldHJhbnNtaXQ6TnVtYmVyKGUuZ29vZ1JldHJhbnNtaXRCaXRyYXRlKSx0cmFuc21pdDpOdW1iZXIoZS5nb29nVHJhbnNtaXRCaXRyYXRlKX0sdGhpcy5fc3RhdHMuc2VuZEJhbmR3aWR0aD1OdW1iZXIoZS5nb29nQXZhaWxhYmxlU2VuZEJhbmR3aWR0aCk7fXByb2Nlc3NTU1JDU3RhdHMoZSl7ZS5mb3JFYWNoKG49Pnt2YXIgaTtsZXQgcj1XKGk9bi5pZCkuY2FsbChpLFwic2VuZFwiKTtzd2l0Y2goXCJcIi5jb25jYXQobi5tZWRpYVR5cGUsXCJfXCIpLmNvbmNhdChyP1wic2VuZFwiOlwicmVjdlwiKSl7Y2FzZVwidmlkZW9fc2VuZFwiOntsZXQgbz1TaShFMCk7by5jb2RlYz1uLmdvb2dDb2RlY05hbWUsby5hZGFwdGlvbkNoYW5nZVJlYXNvbj1cIm5vbmVcIixuLmdvb2dDcHVMaW1pdGVkUmVzb2x1dGlvbiYmKG8uYWRhcHRpb25DaGFuZ2VSZWFzb249XCJjcHVcIiksbi5nb29nQmFuZHdpZHRoTGltaXRlZFJlc29sdXRpb24mJihvLmFkYXB0aW9uQ2hhbmdlUmVhc29uPVwiYmFuZHdpZHRoXCIpLG8uYXZnRW5jb2RlTXM9TnVtYmVyKG4uZ29vZ0F2Z0VuY29kZU1zKSxvLmlucHV0RnJhbWU9e3dpZHRoOk51bWJlcihuLmdvb2dGcmFtZVdpZHRoSW5wdXQpfHxOdW1iZXIobi5nb29nRnJhbWVXaWR0aFNlbnQpLGhlaWdodDpOdW1iZXIobi5nb29nRnJhbWVIZWlnaHRJbnB1dCl8fE51bWJlcihuLmdvb2dGcmFtZUhlaWdodFNlbnQpLGZyYW1lUmF0ZTpOdW1iZXIobi5nb29nRnJhbWVSYXRlSW5wdXQpfSxvLnNlbnRGcmFtZT17d2lkdGg6TnVtYmVyKG4uZ29vZ0ZyYW1lV2lkdGhTZW50KSxoZWlnaHQ6TnVtYmVyKG4uZ29vZ0ZyYW1lSGVpZ2h0U2VudCksZnJhbWVSYXRlOk51bWJlcihuLmdvb2dGcmFtZVJhdGVJbnB1dCl9LG8uZmlyc0NvdW50PU51bWJlcihuLmdvb2dGaXJSZWNlaXZlZCksby5uYWNrc0NvdW50PU51bWJlcihuLmdvb2dOYWNrc1JlY2VpdmVkKSxvLnBsaXNDb3VudD1OdW1iZXIobi5nb29nUGxpc1JlY2VpdmVkKSxvLmZyYW1lQ291bnQ9TnVtYmVyKG4uZnJhbWVzRW5jb2RlZCksby5ieXRlcz1OdW1iZXIobi5ieXRlc1NlbnQpLG8ucGFja2V0cz1OdW1iZXIobi5wYWNrZXRzU2VudCksby5wYWNrZXRzTG9zdD1OdW1iZXIobi5wYWNrZXRzTG9zdCksby5zc3JjPU51bWJlcihuLnNzcmMpLG8ucnR0TXM9TnVtYmVyKG4uZ29vZ1J0dHx8MCksdGhpcy5fc3RhdHMudmlkZW9TZW5kLnB1c2gobyksdGhpcy5fc3RhdHMucnR0PW8ucnR0TXM7YnJlYWt9Y2FzZVwidmlkZW9fcmVjdlwiOntsZXQgbz1TaShfMCkscz10aGlzLmxhc3REZWNvZGVWaWRlb1JlY2VpdmVyU3RhdHMuZ2V0KE51bWJlcihuLnNzcmMpKTtpZihvLmNvZGVjPW4uZ29vZ0NvZGVjTmFtZSxvLnRhcmdldERlbGF5TXM9TnVtYmVyKG4uZ29vZ1RhcmdldERlbGF5TXMpLG8ucmVuZGVyRGVsYXlNcz1OdW1iZXIobi5nb29nUmVuZGVyRGVsYXlNcyksby5jdXJyZW50RGVsYXlNcz1OdW1iZXIobi5nb29nQ3VycmVudERlbGF5TXMpLG8ubWluUGxheW91dERlbGF5TXM9TnVtYmVyKG4uZ29vZ01pblBsYXlvdXREZWxheU1zKSxvLmRlY29kZU1zPU51bWJlcihuLmdvb2dEZWNvZGVNcyksby5tYXhEZWNvZGVNcz1OdW1iZXIobi5nb29nTWF4RGVjb2RlTXMpLG8ucmVjZWl2ZWRGcmFtZT17d2lkdGg6TnVtYmVyKG4uZ29vZ0ZyYW1lV2lkdGhSZWNlaXZlZCksaGVpZ2h0Ok51bWJlcihuLmdvb2dGcmFtZUhlaWdodFJlY2VpdmVkKSxmcmFtZVJhdGU6TnVtYmVyKG4uZ29vZ0ZyYW1lUmF0ZVJlY2VpdmVkKX0sby5kZWNvZGVkRnJhbWU9e3dpZHRoOk51bWJlcihuLmdvb2dGcmFtZVdpZHRoUmVjZWl2ZWQpLGhlaWdodDpOdW1iZXIobi5nb29nRnJhbWVIZWlnaHRSZWNlaXZlZCksZnJhbWVSYXRlOk51bWJlcihuLmdvb2dGcmFtZVJhdGVEZWNvZGVkKX0sby5kZWNvZGVGcmFtZVJhdGU9TnVtYmVyKG4uZ29vZ0ZyYW1lUmF0ZURlY29kZWQpLG8ub3V0cHV0RnJhbWU9e3dpZHRoOk51bWJlcihuLmdvb2dGcmFtZVdpZHRoUmVjZWl2ZWQpLGhlaWdodDpOdW1iZXIobi5nb29nRnJhbWVIZWlnaHRSZWNlaXZlZCksZnJhbWVSYXRlOk51bWJlcihuLmdvb2dGcmFtZVJhdGVPdXRwdXQpfSxvLmppdHRlckJ1ZmZlck1zPU51bWJlcihuLmdvb2dKaXR0ZXJCdWZmZXJNcyksby5maXJzQ291bnQ9TnVtYmVyKG4uZ29vZ0ZpcnNTZW50KSxvLm5hY2tzQ291bnQ9TnVtYmVyKG4uZ29vZ05hY2tzU2VudCksby5wbGlzQ291bnQ9TnVtYmVyKG4uZ29vZ1BsaXNTZW50KSxvLmZyYW1lc0RlY29kZUNvdW50PU51bWJlcihuLmZyYW1lc0RlY29kZWQpLG8uYnl0ZXM9TnVtYmVyKG4uYnl0ZXNSZWNlaXZlZCksby5wYWNrZXRzPU51bWJlcihuLnBhY2tldHNSZWNlaXZlZCksby5wYWNrZXRzTG9zdD1OdW1iZXIobi5wYWNrZXRzTG9zdCksby5zc3JjPU51bWJlcihuLnNzcmMpLG8ucGFja2V0cz4wJiYhdGhpcy5pc0ZpcnN0VmlkZW9SZWNlaXZlZFtvLnNzcmNdJiYodGhpcy5vbkZpcnN0VmlkZW9SZWNlaXZlZCYmdGhpcy5vbkZpcnN0VmlkZW9SZWNlaXZlZChvLnNzcmMpLHRoaXMuaXNGaXJzdFZpZGVvUmVjZWl2ZWRbby5zc3JjXT0hMCksby5mcmFtZXNEZWNvZGVDb3VudD4wJiYhdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkW28uc3NyY10mJih0aGlzLm9uRmlyc3RWaWRlb0RlY29kZWQmJnRoaXMub25GaXJzdFZpZGVvRGVjb2RlZChvLnNzcmMsby5kZWNvZGVkRnJhbWUud2lkdGgsby5kZWNvZGVkRnJhbWUuaGVpZ2h0KSx0aGlzLmlzRmlyc3RWaWRlb0RlY29kZWRbby5zc3JjXT0hMCkscyl7bGV0IGE9cy5zdGF0cyxjPURhdGUubm93KCktcy5sdHM7by5mcmFtZXNEZWNvZGVGcmVlemVUaW1lPWEuZnJhbWVzRGVjb2RlRnJlZXplVGltZSxvLmZyYW1lc0RlY29kZUludGVydmFsPWEuZnJhbWVzRGVjb2RlSW50ZXJ2YWwsby5mcmFtZXNEZWNvZGVDb3VudD5hLmZyYW1lc0RlY29kZUNvdW50JiZ0aGlzLmlzRmlyc3RWaWRlb0RlY29kZWRbby5zc3JjXT8ocy5sdHM9RGF0ZS5ub3coKSxvLmZyYW1lc0RlY29kZUludGVydmFsPWMsby5mcmFtZXNEZWNvZGVJbnRlcnZhbD49dGhpcy5vcHRpb25zLmZyZWV6ZVJhdGVMaW1pdCYmKHRoaXMuZ2V0VmlkZW9Jc1JlYWR5KHBhcnNlSW50KG4uc3NyYywxMCkpP28uZnJhbWVzRGVjb2RlRnJlZXplVGltZSs9by5mcmFtZXNEZWNvZGVJbnRlcnZhbDp0aGlzLnNldFZpZGVvSXNSZWFkeTIocGFyc2VJbnQobi5zc3JjLDEwKSwhMCkpKTpvLmZyYW1lc0RlY29kZUNvdW50PHMuc3RhdHMuZnJhbWVzRGVjb2RlQ291bnQmJihvLmZyYW1lc0RlY29kZUludGVydmFsPTApO310aGlzLmxhc3REZWNvZGVWaWRlb1JlY2VpdmVyU3RhdHMuc2V0KG8uc3NyYyx7c3RhdHM6ZFcoe30sbyksbHRzOkRhdGUubm93KCl9KSx0aGlzLl9zdGF0cy52aWRlb1JlY3YucHVzaChvKTticmVha31jYXNlXCJhdWRpb19yZWN2XCI6e2xldCBvPVNpKGYwKTtvLmNvZGVjPW4uZ29vZ0NvZGVjTmFtZSxvLm91dHB1dExldmVsPU1hdGguYWJzKE51bWJlcihuLmF1ZGlvT3V0cHV0TGV2ZWwpKS8zMjc2NyxvLmRlY29kaW5nQ05HPU51bWJlcihuLmdvb2dEZWNvZGluZ0NORyksby5kZWNvZGluZ0NUTj1OdW1iZXIobi5nb29nRGVjb2RpbmdDVE4pLG8uZGVjb2RpbmdDVFNHPU51bWJlcihuLmdvb2dEZWNvZGluZ0NUU0cpLG8uZGVjb2RpbmdOb3JtYWw9TnVtYmVyKG4uZ29vZ0RlY29kaW5nTm9ybWFsKSxvLmRlY29kaW5nUExDPU51bWJlcihuLmdvb2dEZWNvZGluZ1BMQyksby5kZWNvZGluZ1BMQ0NORz1OdW1iZXIobi5nb29nRGVjb2RpbmdQTENDTkcpLG8uZXhwYW5kUmF0ZT1OdW1iZXIobi5nb29nRXhwYW5kUmF0ZSksby5hY2NlbGVyYXRlUmF0ZT1OdW1iZXIobi5nb29nQWNjZWxlcmF0ZVJhdGUpLG8ucHJlZW1wdGl2ZUV4cGFuZFJhdGU9TnVtYmVyKG4uZ29vZ1ByZWVtcHRpdmVFeHBhbmRSYXRlKSxvLnNlY29uZGFyeURlY29kZWRSYXRlPU51bWJlcihuLmdvb2dTZWNvbmRhcnlEZWNvZGVkUmF0ZSksby5zcGVlY2hFeHBhbmRSYXRlPU51bWJlcihuLmdvb2dTcGVlY2hFeHBhbmRSYXRlKSxvLnByZWZlcnJlZEppdHRlckJ1ZmZlck1zPU51bWJlcihuLmdvb2dQcmVmZXJyZWRKaXR0ZXJCdWZmZXJNcyksby5qaXR0ZXJCdWZmZXJNcz1OdW1iZXIobi5nb29nSml0dGVyQnVmZmVyTXMpLG8uaml0dGVyTXM9TnVtYmVyKG4uZ29vZ0ppdHRlclJlY2VpdmVkKSxvLmJ5dGVzPU51bWJlcihuLmJ5dGVzUmVjZWl2ZWQpLG8ucGFja2V0cz1OdW1iZXIobi5wYWNrZXRzUmVjZWl2ZWQpLG8ucGFja2V0c0xvc3Q9TnVtYmVyKG4ucGFja2V0c0xvc3QpLG8uc3NyYz1OdW1iZXIobi5zc3JjKSxvLnJlY2VpdmVkRnJhbWVzPU51bWJlcihuLmdvb2dEZWNvZGluZ0NUTil8fE51bWJlcihuLnBhY2tldHNSZWNlaXZlZCksby5kcm9wcGVkRnJhbWVzPU51bWJlcihuLmdvb2dEZWNvZGluZ1BMQykrTnVtYmVyKG4uZ29vZ0RlY29kaW5nUExDQ05HKXx8TnVtYmVyKG4ucGFja2V0c0xvc3QpLG8ucmVjZWl2ZWRGcmFtZXM+MCYmIXRoaXMuaXNGaXJzdEF1ZGlvUmVjZWl2ZWRbby5zc3JjXSYmKHRoaXMub25GaXJzdEF1ZGlvUmVjZWl2ZWQmJnRoaXMub25GaXJzdEF1ZGlvUmVjZWl2ZWQoby5zc3JjKSx0aGlzLmlzRmlyc3RBdWRpb1JlY2VpdmVkW28uc3NyY109ITApLG8uZGVjb2RpbmdOb3JtYWw+MCYmIXRoaXMuaXNGaXJzdEF1ZGlvRGVjb2RlZFtvLnNzcmNdJiYodGhpcy5vbkZpcnN0QXVkaW9EZWNvZGVkJiZ0aGlzLm9uRmlyc3RBdWRpb0RlY29kZWQoby5zc3JjKSx0aGlzLmlzRmlyc3RBdWRpb0RlY29kZWRbby5zc3JjXT0hMCksdGhpcy5fc3RhdHMuYXVkaW9SZWN2LnB1c2gobyk7YnJlYWt9Y2FzZVwiYXVkaW9fc2VuZFwiOntsZXQgbz1TaShtMCk7by5jb2RlYz1uLmdvb2dDb2RlY05hbWUsby5pbnB1dExldmVsPU1hdGguYWJzKE51bWJlcihuLmF1ZGlvSW5wdXRMZXZlbCkpLzMyNzY3LG8uYWVjUmV0dXJuTG9zcz1OdW1iZXIobi5nb29nRWNob0NhbmNlbGxhdGlvblJldHVybkxvc3N8fDApLG8uYWVjUmV0dXJuTG9zc0VuaGFuY2VtZW50PU51bWJlcihuLmdvb2dFY2hvQ2FuY2VsbGF0aW9uUmV0dXJuTG9zc0VuaGFuY2VtZW50fHwwKSxvLnJlc2lkdWFsRWNob0xpa2VsaWhvb2Q9TnVtYmVyKG4uZ29vZ1Jlc2lkdWFsRWNob0xpa2VsaWhvb2R8fDApLG8ucmVzaWR1YWxFY2hvTGlrZWxpaG9vZFJlY2VudE1heD1OdW1iZXIobi5nb29nUmVzaWR1YWxFY2hvTGlrZWxpaG9vZFJlY2VudE1heHx8MCksby5ieXRlcz1OdW1iZXIobi5ieXRlc1NlbnQpLG8ucGFja2V0cz1OdW1iZXIobi5wYWNrZXRzU2VudCksby5wYWNrZXRzTG9zdD1OdW1iZXIobi5wYWNrZXRzTG9zdCksby5zc3JjPU51bWJlcihuLnNzcmMpLG8ucnR0TXM9TnVtYmVyKG4uZ29vZ1J0dHx8MCksdGhpcy5fc3RhdHMucnR0PW8ucnR0TXMsdGhpcy5fc3RhdHMuYXVkaW9TZW5kLnB1c2gobyk7YnJlYWt9fX0pO31fZ2V0U3RhdHMoKXtyZXR1cm4gbmV3IGooKGUsbik9Pnt0aGlzLnBjLmdldFN0YXRzKGUsbik7fSl9c3RhdHNSZXNwb25zZXNUb09iamVjdHMoZSl7bGV0IG49W107cmV0dXJuIGUucmVzdWx0KCkuZm9yRWFjaChpPT57bGV0IHI9e2lkOmkuaWQsdGltZXN0YW1wOmkudGltZXN0YW1wLnZhbHVlT2YoKS50b1N0cmluZygpLHR5cGU6aS50eXBlfTtpLm5hbWVzKCkuZm9yRWFjaChvPT57cltvXT1pLnN0YXQobyk7fSksbi5wdXNoKHIpO30pLG59fTtmdW5jdGlvbiBwdih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiBBbyh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj9wdihPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6cHYoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9dmFyIGh1PWNsYXNzIGV4dGVuZHMgVmN7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLFQodGhpcyxcIl9zdGF0c1wiLHhjKSxUKHRoaXMsXCJyZXBvcnRcIix2b2lkIDApLFQodGhpcyxcImxhc3REZWNvZGVWaWRlb1JlY2VpdmVyU3RhdHNcIixuZXcgTWFwKSxUKHRoaXMsXCJsYXN0VmlkZW9GcmFtZXNSZWN2XCIsbmV3IE1hcCksVCh0aGlzLFwibGFzdFZpZGVvRnJhbWVzU2VudFwiLG5ldyBNYXApLFQodGhpcyxcImxhc3RWaWRlb0ZyYW1lc0RlY29kZVwiLG5ldyBNYXApLFQodGhpcyxcImxhc3RWaWRlb0ZyYW1lc091dHB1dFwiLG5ldyBNYXApLFQodGhpcyxcImxhc3RWaWRlb0pCRGVsYXlcIixuZXcgTWFwKSxUKHRoaXMsXCJsYXN0QXVkaW9KQkRlbGF5XCIsbmV3IE1hcCksVCh0aGlzLFwibWVkaWFCeXRlc1NlbnRcIixuZXcgTWFwKSxUKHRoaXMsXCJtZWRpYUJ5dGVzUmV0cmFuc21pdFwiLG5ldyBNYXApLFQodGhpcyxcIm1lZGlhQnl0ZXNUYXJnZXRFbmNvZGVcIixuZXcgTWFwKSxUKHRoaXMsXCJsYXN0RW5jb2Rlck1zXCIsbmV3IE1hcCk7fWFzeW5jIHVwZGF0ZVN0YXRzKCl7dGhpcy5yZXBvcnQ9YXdhaXQgdGhpcy5wYy5nZXRTdGF0cygpLHRoaXMuX3N0YXRzPVNpKHhjKSx0aGlzLnJlcG9ydC5mb3JFYWNoKGU9Pntzd2l0Y2goZS50eXBlKXtjYXNlIGtuLk9VVEJPVU5EOmNhc2Uga24uSU5CT1VORDp7bGV0IG49ZS5tZWRpYVR5cGV8fGUua2luZCxpPSFuJiZcImZyYW1lV2lkdGhcImluIGUscj0hbiYmIShcImZyYW1lV2lkdGhcImluIGUpO2UudHlwZT09PWtuLk9VVEJPVU5EP249PT1cImF1ZGlvXCJ8fHI/dGhpcy5wcm9jZXNzQXVkaW9PdXRib3VuZFN0YXRzKGUpOihuPT09XCJ2aWRlb1wifHxpKSYmdGhpcy5wcm9jZXNzVmlkZW9PdXRib3VuZFN0YXRzKGUpOmUudHlwZT09PWtuLklOQk9VTkQmJihuPT09XCJhdWRpb1wifHxyP3RoaXMucHJvY2Vzc0F1ZGlvSW5ib3VuZFN0YXRzKGUpOihuPT09XCJ2aWRlb1wifHxpKSYmdGhpcy5wcm9jZXNzVmlkZW9JbmJvdW5kU3RhdHMoZSkpO2JyZWFrfWNhc2Uga24uVFJBTlNQT1JUOntsZXQgbj10aGlzLnJlcG9ydC5nZXQoZS5zZWxlY3RlZENhbmRpZGF0ZVBhaXJJZCk7biYmdGhpcy5wcm9jZXNzQ2FuZGlkYXRlUGFpclN0YXRzKG4pO2JyZWFrfWNhc2Uga24uQ0FORElEQVRFX1BBSVI6ZS5zZWxlY3RlZCYmdGhpcy5wcm9jZXNzQ2FuZGlkYXRlUGFpclN0YXRzKGUpO319KSx0aGlzLnVwZGF0ZVNlbmRCaXRyYXRlKCksdGhpcy5fc3RhdHMudGltZXN0YW1wPURhdGUubm93KCksdGhpcy5jYWxjTG9zc1JhdGUodGhpcy5fc3RhdHMpLHRoaXMuc3RhdHM9dGhpcy5fc3RhdHM7fWFzeW5jIGdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpe2xldCBlPWF3YWl0IHRoaXMucGMuZ2V0U3RhdHMoKSxuPXtsb2NhbDpBbyh7fSxocikscmVtb3RlOkFvKHt9LGhyKX07cmV0dXJuIGUuZm9yRWFjaChpPT57bGV0IHI7aWYoaS50eXBlPT09a24uVFJBTlNQT1JUJiYocj1lLmdldChpLnNlbGVjdGVkQ2FuZGlkYXRlUGFpcklkKSksaS50eXBlPT09a24uQ0FORElEQVRFX1BBSVImJmkuc2VsZWN0ZWQmJihyPWkpLHIpe2xldCBvPShzLGEpPT57cy50eXBlPWEudHlwZSxzLmlkPWEuaWQsYS5hZGRyZXNzJiYocy5hZGRyZXNzPWEuYWRkcmVzcyksYS5jYW5kaWRhdGVUeXBlJiYocy5jYW5kaWRhdGVUeXBlPWEuY2FuZGlkYXRlVHlwZSksYS5wb3J0JiYocy5wb3J0PWEucG9ydCksYS5wcmlvcml0eSYmKHMucHJpb3JpdHk9YS5wcmlvcml0eSksYS5wcm90b2NvbCYmKHMucHJvdG9jb2w9YS5wcm90b2NvbCksYS5yZWxheVByb3RvY29sJiYocy5yZWxheVByb3RvY29sPWEucmVsYXlQcm90b2NvbCk7fTtpZihyLmxvY2FsQ2FuZGlkYXRlSWQpe2xldCBzPWUuZ2V0KHIubG9jYWxDYW5kaWRhdGVJZCk7cyYmbyhuLmxvY2FsLHMpO31pZihyLnJlbW90ZUNhbmRpZGF0ZUlkKXtsZXQgcz1lLmdldChyLnJlbW90ZUNhbmRpZGF0ZUlkKTtzJiZvKG4ucmVtb3RlLHMpO319fSksbn1wcm9jZXNzQ2FuZGlkYXRlUGFpclN0YXRzKGUpe2lmKHRoaXMuX3N0YXRzLnNlbmRCYW5kd2lkdGg9ZS5hdmFpbGFibGVPdXRnb2luZ0JpdHJhdGV8fDAsZS5jdXJyZW50Um91bmRUcmlwVGltZSYmKHRoaXMuX3N0YXRzLnJ0dD0xZTMqZS5jdXJyZW50Um91bmRUcmlwVGltZSksdGhpcy5fc3RhdHMudmlkZW9TZW5kLmZvckVhY2gobj0+e2UuY3VycmVudFJvdW5kVHJpcFRpbWUmJihuLnJ0dE1zPTFlMyplLmN1cnJlbnRSb3VuZFRyaXBUaW1lKTt9KSx0aGlzLl9zdGF0cy5hdWRpb1NlbmQuZm9yRWFjaChuPT57ZS5jdXJyZW50Um91bmRUcmlwVGltZSYmKG4ucnR0TXM9MWUzKmUuY3VycmVudFJvdW5kVHJpcFRpbWUpO30pLHRoaXMuX3N0YXRzLnNlbGVjdGVkQ2FuZGlkYXRlUGFpci5pZD1lLmlkLGUubG9jYWxDYW5kaWRhdGVJZCl7bGV0IG49dGhpcy5yZXBvcnQuZ2V0KGUubG9jYWxDYW5kaWRhdGVJZCk7biYmdGhpcy5wcm9jZXNzQ2FuZGlkYXRlU3RhdHMobik7fWlmKGUucmVtb3RlQ2FuZGlkYXRlSWQpe2xldCBuPXRoaXMucmVwb3J0LmdldChlLnJlbW90ZUNhbmRpZGF0ZUlkKTtuJiZ0aGlzLnByb2Nlc3NDYW5kaWRhdGVTdGF0cyhuKTt9fXByb2Nlc3NDYW5kaWRhdGVTdGF0cyhlKXtsZXQgbjtlLnR5cGU9PT1rbi5MT0NBTF9DQU5ESURBVEUmJihuPXRoaXMuX3N0YXRzLnNlbGVjdGVkQ2FuZGlkYXRlUGFpci5sb2NhbENhbmRpZGF0ZSksZS50eXBlPT09a24uUkVNT1RFX0NBTkRJREFURSYmKG49dGhpcy5fc3RhdHMuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLnJlbW90ZUNhbmRpZGF0ZSksbiYmKG4udHlwZT1lLnR5cGUsbi5pZD1lLmlkLGUuYWRkcmVzcyYmKG4uYWRkcmVzcz1lLmFkZHJlc3MpLGUuY2FuZGlkYXRlVHlwZSYmKG4uY2FuZGlkYXRlVHlwZT1lLmNhbmRpZGF0ZVR5cGUpLGUucG9ydCYmKG4ucG9ydD1lLnBvcnQpLGUucHJpb3JpdHkmJihuLnByaW9yaXR5PWUucHJpb3JpdHkpLGUucHJvdG9jb2wmJihuLnByb3RvY29sPWUucHJvdG9jb2wpLGUucmVsYXlQcm90b2NvbCYmKG4ucmVsYXlQcm90b2NvbD1lLnJlbGF5UHJvdG9jb2wpLGUudHlwZT09PWtuLkxPQ0FMX0NBTkRJREFURSYmdGhpcy5zdGF0cy5zZWxlY3RlZENhbmRpZGF0ZVBhaXIubG9jYWxDYW5kaWRhdGUuaWQhPT1uLmlkJiZ0aGlzLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQmJnRoaXMub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZChBbyh7fSxuKSxBbyh7fSx0aGlzLnN0YXRzLnNlbGVjdGVkQ2FuZGlkYXRlUGFpci5sb2NhbENhbmRpZGF0ZSkpLGUudHlwZT09PWtuLlJFTU9URV9DQU5ESURBVEUmJnRoaXMuc3RhdHMuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLnJlbW90ZUNhbmRpZGF0ZS5pZCE9PW4uaWQmJnRoaXMub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQmJnRoaXMub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQoQW8oe30sbiksQW8oe30sdGhpcy5zdGF0cy5zZWxlY3RlZENhbmRpZGF0ZVBhaXIucmVtb3RlQ2FuZGlkYXRlKSkpO31wcm9jZXNzQXVkaW9JbmJvdW5kU3RhdHMoZSl7bGV0IG49dGhpcy5fc3RhdHMuYXVkaW9SZWN2LmZpbmQoaT0+aS5zc3JjPT09ZS5zc3JjKTtufHwobj1TaShmMCksdGhpcy5fc3RhdHMuYXVkaW9SZWN2LnB1c2gobikpLG4uc3NyYz1lLnNzcmMsbi5wYWNrZXRzPWUucGFja2V0c1JlY2VpdmVkLG4ucGFja2V0c0xvc3Q9ZS5wYWNrZXRzTG9zdCxuLnBhY2tldHNEaXNjYXJkZWQ9ZS5wYWNrZXRzRGlzY2FyZGVkLG4uYnl0ZXM9ZS5ieXRlc1JlY2VpdmVkLG4uaml0dGVyTXM9MWUzKmUuaml0dGVyLHRoaXMucHJvY2Vzc0F1ZGlvVHJhY2tSZWNlaXZlclN0YXRzKGUsZS50cmFja0lkLG4pLGUuY29kZWNJZCYmKG4uY29kZWM9dGhpcy5nZXRDb2RlY0Zyb21Db2RlY1N0YXRzKGUuY29kZWNJZCkpLG4ucmVjZWl2ZWRGcmFtZXN8fChuLnJlY2VpdmVkRnJhbWVzPWUucGFja2V0c1JlY2VpdmVkKSxuLmRyb3BwZWRGcmFtZXN8fChuLmRyb3BwZWRGcmFtZXM9ZS5wYWNrZXRzTG9zdCksbi5yZWNlaXZlZEZyYW1lcz4wJiYhdGhpcy5pc0ZpcnN0QXVkaW9SZWNlaXZlZFtuLnNzcmNdJiYodGhpcy5vbkZpcnN0QXVkaW9SZWNlaXZlZCYmdGhpcy5vbkZpcnN0QXVkaW9SZWNlaXZlZChuLnNzcmMpLHRoaXMuaXNGaXJzdEF1ZGlvUmVjZWl2ZWRbbi5zc3JjXT0hMCksbi5vdXRwdXRMZXZlbCYmbi5vdXRwdXRMZXZlbD4wJiYhdGhpcy5pc0ZpcnN0QXVkaW9EZWNvZGVkW24uc3NyY10mJih0aGlzLm9uRmlyc3RBdWRpb0RlY29kZWQmJnRoaXMub25GaXJzdEF1ZGlvRGVjb2RlZChuLnNzcmMpLHRoaXMuaXNGaXJzdEF1ZGlvRGVjb2RlZFtuLnNzcmNdPSEwKSx0eXBlb2YgZS5jb25jZWFsZWRTYW1wbGVzPT1cIm51bWJlclwiJiYobi5jb25jZWFsZWRTYW1wbGVzPWUuY29uY2VhbGVkU2FtcGxlcyk7fXByb2Nlc3NWaWRlb0luYm91bmRTdGF0cyhlKXtsZXQgbj10aGlzLl9zdGF0cy52aWRlb1JlY3YuZmluZChhPT5hLnNzcmM9PT1lLnNzcmMpO258fChuPVNpKF8wKSx0aGlzLl9zdGF0cy52aWRlb1JlY3YucHVzaChuKSksbi5zc3JjPWUuc3NyYyxuLnBhY2tldHM9ZS5wYWNrZXRzUmVjZWl2ZWQsbi5wYWNrZXRzTG9zdD1lLnBhY2tldHNMb3N0LG4uYnl0ZXM9ZS5ieXRlc1JlY2VpdmVkLG4uZmlyc0NvdW50PWUuZmlyQ291bnQsbi5uYWNrc0NvdW50PWUubmFja0NvdW50LG4ucGxpc0NvdW50PWUucGxpQ291bnQsbi5mcmFtZXNEZWNvZGVDb3VudD1lLmZyYW1lc0RlY29kZWQsbi5mcmFtZXNEcm9wcGVkQ291bnQ9ZS5mcmFtZXNEcm9wcGVkLG4udG90YWxJbnRlckZyYW1lRGVsYXk9ZS50b3RhbEludGVyRnJhbWVEZWxheSxuLnRvdGFsU3F1YXJlZEludGVyRnJhbWVEZWxheT1lLnRvdGFsU3F1YXJlZEludGVyRnJhbWVEZWxheSxuLnRvdGFsRnJlZXplc0R1cmF0aW9uPWUudG90YWxGcmVlemVzRHVyYXRpb247bGV0IGk9dGhpcy5sYXN0RGVjb2RlVmlkZW9SZWNlaXZlclN0YXRzLmdldChuLnNzcmMpLHI9dGhpcy5sYXN0VmlkZW9GcmFtZXNEZWNvZGUuZ2V0KG4uc3NyYyksbz10aGlzLmxhc3RWaWRlb0ZyYW1lc091dHB1dC5nZXQobi5zc3JjKSxzPURhdGUubm93KCk7aWYobi5mcmFtZXNEZWNvZGVDb3VudD4wJiYhdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkW24uc3NyY10pe2xldCBhPW4uZGVjb2RlZEZyYW1lP24uZGVjb2RlZEZyYW1lLndpZHRoOjAsYz1uLmRlY29kZWRGcmFtZT9uLmRlY29kZWRGcmFtZS5oZWlnaHQ6MDt0aGlzLm9uRmlyc3RWaWRlb0RlY29kZWQmJnRoaXMub25GaXJzdFZpZGVvRGVjb2RlZChuLnNzcmMsYSxjKSx0aGlzLmlzRmlyc3RWaWRlb0RlY29kZWRbbi5zc3JjXT0hMDt9aWYoaSl7bGV0IGE9aS5zdGF0cyxjPXMtaS5sdHM7bi5mcmFtZXNEZWNvZGVGcmVlemVUaW1lPWEuZnJhbWVzRGVjb2RlRnJlZXplVGltZSxuLmZyYW1lc0RlY29kZUludGVydmFsPWEuZnJhbWVzRGVjb2RlSW50ZXJ2YWwsIXRoaXMuaXNGaXJzdFZpZGVvRGVjb2RlZFtuLnNzcmNdJiZjPnRoaXMub3B0aW9ucy5maXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQmJiF0aGlzLmlzRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0W24uc3NyY10mJih0aGlzLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0JiZ0aGlzLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0KG4uc3NyYyksdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkVGltZW91dFtuLnNzcmNdPSEwKSxuLmZyYW1lc0RlY29kZUNvdW50PmEuZnJhbWVzRGVjb2RlQ291bnQmJnRoaXMuaXNGaXJzdFZpZGVvRGVjb2RlZFtuLnNzcmNdPyhpLmx0cz1EYXRlLm5vdygpLG4uZnJhbWVzRGVjb2RlSW50ZXJ2YWw9YyxuLmZyYW1lc0RlY29kZUludGVydmFsPj10aGlzLm9wdGlvbnMuZnJlZXplUmF0ZUxpbWl0JiYodGhpcy5nZXRWaWRlb0lzUmVhZHkocGFyc2VJbnQoZS5zc3JjKSk/bi5mcmFtZXNEZWNvZGVGcmVlemVUaW1lKz1uLmZyYW1lc0RlY29kZUludGVydmFsOnRoaXMuc2V0VmlkZW9Jc1JlYWR5MihwYXJzZUludChlLnNzcmMsMTApLCEwKSkpOm4uZnJhbWVzRGVjb2RlQ291bnQ8YS5mcmFtZXNEZWNvZGVDb3VudCYmKG4uZnJhbWVzRGVjb2RlSW50ZXJ2YWw9MCksZS5mcmFtZXNEZWNvZGVkJiZlLnFwU3VtJiYoaS5zdGF0cy5mcmFtZXNEZWNvZGVDb3VudD5lLmZyYW1lc0RlY29kZWQ/bi5xcFN1bVBlckZyYW1lPWUucXBTdW0vZS5mcmFtZXNEZWNvZGVkOm4ucXBTdW1QZXJGcmFtZT0oZS5xcFN1bS1pLnFwU3VtKS8oZS5mcmFtZXNEZWNvZGVkLWkuc3RhdHMuZnJhbWVzRGVjb2RlQ291bnQpKTt9ciYmcy1yLmx0cz49ODAwPyhuLmRlY29kZUZyYW1lUmF0ZT1NYXRoLnJvdW5kKChuLmZyYW1lc0RlY29kZUNvdW50LXIuY291bnQpLygocy1yLmx0cykvMWUzKSksdGhpcy5sYXN0VmlkZW9GcmFtZXNEZWNvZGUuc2V0KG4uc3NyYyx7Y291bnQ6bi5mcmFtZXNEZWNvZGVDb3VudCxsdHM6cyxyYXRlOm4uZGVjb2RlRnJhbWVSYXRlfSkpOnI/bi5kZWNvZGVGcmFtZVJhdGU9ci5yYXRlOnRoaXMubGFzdFZpZGVvRnJhbWVzRGVjb2RlLnNldChuLnNzcmMse2NvdW50Om4uZnJhbWVzRGVjb2RlQ291bnQsbHRzOnMscmF0ZTowfSksbi5mcmFtZXNEcm9wcGVkQ291bnQmJmUuZnJhbWVzUmVjZWl2ZWQmJihvJiZzLW8ubHRzPj04MDA/KG4ub3V0cHV0RnJhbWVSYXRlPU1hdGgucm91bmQoKGUuZnJhbWVzUmVjZWl2ZWQtbi5mcmFtZXNEcm9wcGVkQ291bnQtby5jb3VudCkvKChzLW8ubHRzKS8xZTMpKSx0aGlzLmxhc3RWaWRlb0ZyYW1lc091dHB1dC5zZXQobi5zc3JjLHtjb3VudDplLmZyYW1lc1JlY2VpdmVkLW4uZnJhbWVzRHJvcHBlZENvdW50LGx0czpzLHJhdGU6TWF0aC5tYXgobi5vdXRwdXRGcmFtZVJhdGUsMCl9KSk6bz9uLm91dHB1dEZyYW1lUmF0ZT1vLnJhdGU6dGhpcy5sYXN0VmlkZW9GcmFtZXNPdXRwdXQuc2V0KG4uc3NyYyx7Y291bnQ6ZS5mcmFtZXNSZWNlaXZlZC1uLmZyYW1lc0Ryb3BwZWRDb3VudCxsdHM6cyxyYXRlOjB9KSksZS50b3RhbERlY29kZVRpbWUmJihuLmRlY29kZU1zPTFlMyplLnRvdGFsRGVjb2RlVGltZSksdGhpcy5wcm9jZXNzVmlkZW9UcmFja1JlY2VpdmVyU3RhdHMoZSxlLnRyYWNrSWQsbiksZS5jb2RlY0lkJiYobi5jb2RlYz10aGlzLmdldENvZGVjRnJvbUNvZGVjU3RhdHMoZS5jb2RlY0lkKSksZS5mcmFtZXJhdGVNZWFuJiYobi5mcmFtZXNSYXRlRmlyZWZveD1lLmZyYW1lcmF0ZU1lYW4pLG4ucGFja2V0cz4wJiYhdGhpcy5pc0ZpcnN0VmlkZW9SZWNlaXZlZFtuLnNzcmNdJiYodGhpcy5vbkZpcnN0VmlkZW9SZWNlaXZlZCYmdGhpcy5vbkZpcnN0VmlkZW9SZWNlaXZlZChuLnNzcmMpLHRoaXMuaXNGaXJzdFZpZGVvUmVjZWl2ZWRbbi5zc3JjXT0hMCksdGhpcy5sYXN0RGVjb2RlVmlkZW9SZWNlaXZlclN0YXRzLnNldChuLnNzcmMse3N0YXRzOkFvKHt9LG4pLGx0czppP2kubHRzOkRhdGUubm93KCkscXBTdW06ZS5xcFN1bX0pO31wcm9jZXNzVmlkZW9PdXRib3VuZFN0YXRzKGUpe2xldCBuPXRoaXMuX3N0YXRzLnZpZGVvU2VuZC5maW5kKHI9PnIuc3NyYz09PWUuc3NyYyk7bnx8KG49U2koRTApLHRoaXMuX3N0YXRzLnZpZGVvU2VuZC5wdXNoKG4pKTtsZXQgaT10aGlzLm1lZGlhQnl0ZXNTZW50LmdldChlLnNzcmMpO2lmKGkpaS5hZGQoZS5ieXRlc1NlbnQpO2Vsc2Uge2xldCByPW5ldyBjYygxMCk7ci5hZGQoZS5ieXRlc1NlbnQpLHRoaXMubWVkaWFCeXRlc1NlbnQuc2V0KGUuc3NyYyxyKTt9aWYoZS5yZXRyYW5zbWl0dGVkQnl0ZXNTZW50IT09dm9pZCAwKXtsZXQgcj10aGlzLm1lZGlhQnl0ZXNSZXRyYW5zbWl0LmdldChlLnNzcmMpO2lmKHIpci5hZGQoZS5yZXRyYW5zbWl0dGVkQnl0ZXNTZW50KTtlbHNlIHtsZXQgbz1uZXcgY2MoMTApO28uYWRkKGUucmV0cmFuc21pdHRlZEJ5dGVzU2VudCksdGhpcy5tZWRpYUJ5dGVzUmV0cmFuc21pdC5zZXQoZS5zc3JjLG8pO319aWYoZS50b3RhbEVuY29kZWRCeXRlc1RhcmdldCl7bGV0IHI9dGhpcy5tZWRpYUJ5dGVzVGFyZ2V0RW5jb2RlLmdldChlLnNzcmMpO2lmKHIpci5hZGQoZS50b3RhbEVuY29kZWRCeXRlc1RhcmdldCk7ZWxzZSB7bGV0IG89bmV3IGNjKDEwKTtvLmFkZChlLnRvdGFsRW5jb2RlZEJ5dGVzVGFyZ2V0KSx0aGlzLm1lZGlhQnl0ZXNUYXJnZXRFbmNvZGUuc2V0KGUuc3NyYyxvKTt9fWlmKG4uc3NyYz1lLnNzcmMsbi5ieXRlcz1lLmJ5dGVzU2VudCxuLnBhY2tldHM9ZS5wYWNrZXRzU2VudCxuLmZpcnNDb3VudD1lLmZpckNvdW50LG4ubmFja3NDb3VudD1lLm5hY2tDb3VudCxuLnBsaXNDb3VudD1lLnBsaUNvdW50LG4uZnJhbWVDb3VudD1lLmZyYW1lc0VuY29kZWQsbi5hZGFwdGlvbkNoYW5nZVJlYXNvbj1lLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29uLG4uc2NhbGFiaWxpdHlNb2RlPWUuc2NhbGFiaWxpdHlNb2RlLGUudG90YWxFbmNvZGVUaW1lJiZlLmZyYW1lc0VuY29kZWQpe2xldCByPXRoaXMubGFzdEVuY29kZXJNcy5nZXQoZS5zc3JjKTtpZighcnx8ci5sYXN0RnJhbWVDb3VudD5lLmZyYW1lc0VuY29kZWQpbi5hdmdFbmNvZGVNcz0xZTMqZS50b3RhbEVuY29kZVRpbWUvZS5mcmFtZXNFbmNvZGVkO2Vsc2Uge2xldCBvPWUuZnJhbWVzRW5jb2RlZC1yLmxhc3RGcmFtZUNvdW50LHM9ZS50b3RhbEVuY29kZVRpbWUtci5sYXN0RW5jb2RlclRpbWU7bi5hdmdFbmNvZGVNcz0xZTMqcy9vO319aWYoZS5mcmFtZXNFbmNvZGVkJiZlLnFwU3VtKXtsZXQgcj10aGlzLmxhc3RFbmNvZGVyTXMuZ2V0KGUuc3NyYyk7IXJ8fHIubGFzdEZyYW1lQ291bnQ+ZS5mcmFtZXNFbmNvZGVkP24ucXBTdW1QZXJGcmFtZT1lLnFwU3VtL2UuZnJhbWVzRW5jb2RlZDpuLnFwU3VtUGVyRnJhbWU9KGUucXBTdW0tci5sYXN0UXBTdW0pLyhlLmZyYW1lc0VuY29kZWQtci5sYXN0RnJhbWVDb3VudCk7fWlmKHRoaXMubGFzdEVuY29kZXJNcy5zZXQoZS5zc3JjLHtsYXN0RnJhbWVDb3VudDplLmZyYW1lc0VuY29kZWQsbGFzdEVuY29kZXJUaW1lOmUudG90YWxFbmNvZGVUaW1lLGxhc3RRcFN1bTplLnFwU3VtLGx0czpEYXRlLm5vdygpfSksZS5jb2RlY0lkJiYobi5jb2RlYz10aGlzLmdldENvZGVjRnJvbUNvZGVjU3RhdHMoZS5jb2RlY0lkKSksZS5tZWRpYVNvdXJjZUlkJiZ0aGlzLnByb2Nlc3NWaWRlb01lZGlhU291cmNlKGUubWVkaWFTb3VyY2VJZCxuKSx0aGlzLnByb2Nlc3NWaWRlb1RyYWNrU2VuZGVyU3RhdHMoZSxlLnRyYWNrSWQsbiksZS5yZW1vdGVJZCl0aGlzLnByb2Nlc3NSZW1vdGVJbmJvdW5kU3RhdHMoZS5yZW1vdGVJZCxuKTtlbHNlIHtsZXQgcj10aGlzLmZpbmRSZW1vdGVTdGF0c0lkKGUuc3NyYyxrbi5SRU1PVEVfSU5CT1VORCk7ciYmdGhpcy5wcm9jZXNzUmVtb3RlSW5ib3VuZFN0YXRzKHIsbik7fX1wcm9jZXNzQXVkaW9PdXRib3VuZFN0YXRzKGUpe2xldCBuPXRoaXMuX3N0YXRzLmF1ZGlvU2VuZC5maW5kKGk9Pmkuc3NyYz09PWUuc3NyYyk7aWYobnx8KG49U2kobTApLHRoaXMuX3N0YXRzLmF1ZGlvU2VuZC5wdXNoKG4pKSxuLnNzcmM9ZS5zc3JjLG4ucGFja2V0cz1lLnBhY2tldHNTZW50LG4uYnl0ZXM9ZS5ieXRlc1NlbnQsZS5tZWRpYVNvdXJjZUlkJiZ0aGlzLnByb2Nlc3NBdWRpb01lZGlhU291cmNlKGUubWVkaWFTb3VyY2VJZCxuKSxlLmNvZGVjSWQmJihuLmNvZGVjPXRoaXMuZ2V0Q29kZWNGcm9tQ29kZWNTdGF0cyhlLmNvZGVjSWQpKSx0aGlzLnByb2Nlc3NBdWRpb1RyYWNrU2VuZGVyU3RhdHMoZSxlLnRyYWNrSWQsbiksZS5yZW1vdGVJZCl0aGlzLnByb2Nlc3NSZW1vdGVJbmJvdW5kU3RhdHMoZS5yZW1vdGVJZCxuKTtlbHNlIHtsZXQgaT10aGlzLmZpbmRSZW1vdGVTdGF0c0lkKGUuc3NyYyxrbi5SRU1PVEVfSU5CT1VORCk7aSYmdGhpcy5wcm9jZXNzUmVtb3RlSW5ib3VuZFN0YXRzKGksbik7fX1maW5kUmVtb3RlU3RhdHNJZChlLG4pe3ZhciBpO2xldCByPUFycmF5LmZyb20oUHIoaT10aGlzLnJlcG9ydCkuY2FsbChpKSkuZmluZChvPT5vLnR5cGU9PT1uJiZvLnNzcmM9PT1lKTtyZXR1cm4gcj9yLmlkOm51bGx9cHJvY2Vzc1ZpZGVvTWVkaWFTb3VyY2UoZSxuKXtsZXQgaT10aGlzLnJlcG9ydC5nZXQoZSk7aSYmaS53aWR0aCYmaS5oZWlnaHQmJmkuZnJhbWVzUGVyU2Vjb25kJiYobi5pbnB1dEZyYW1lPXt3aWR0aDppLndpZHRoLGhlaWdodDppLmhlaWdodCxmcmFtZVJhdGU6aS5mcmFtZXNQZXJTZWNvbmR9KTt9cHJvY2Vzc0F1ZGlvTWVkaWFTb3VyY2UoZSxuKXtsZXQgaT10aGlzLnJlcG9ydC5nZXQoZSk7aSYmKG4uaW5wdXRMZXZlbD1pLmF1ZGlvTGV2ZWwpO31wcm9jZXNzVmlkZW9UcmFja1NlbmRlclN0YXRzKGUsbixpKXt2YXIgcixvLHMsYTtsZXQgYz1uP3RoaXMucmVwb3J0LmdldChuKTp2b2lkIDAsZD0ocj1jPy5mcmFtZXNTZW50KSE9PW51bGwmJnIhPT12b2lkIDA/cjplLmZyYW1lc1NlbnQ7aWYodHlwZW9mIGQhPVwibnVtYmVyXCIpcmV0dXJuO2xldCBsPShvPWM/LmZyYW1lV2lkdGgpIT09bnVsbCYmbyE9PXZvaWQgMD9vOmUuZnJhbWVXaWR0aCx1PShzPWM/LmZyYW1lSGVpZ2h0KSE9PW51bGwmJnMhPT12b2lkIDA/czplLmZyYW1lSGVpZ2h0LGg9KGE9Yz8uZnJhbWVzUGVyU2Vjb25kKSE9PW51bGwmJmEhPT12b2lkIDA/YTplLmZyYW1lc1BlclNlY29uZDtpZih0eXBlb2YgbD09XCJudW1iZXJcIiYmdHlwZW9mIHU9PVwibnVtYmVyXCJ8fChsPTAsdT0wKSxoPT1udWxsKXtsZXQgcD1EYXRlLm5vdygpLGc9dGhpcy5sYXN0VmlkZW9GcmFtZXNTZW50LmdldChpLnNzcmMpO2cmJnAtZy5sdHM+PTgwMD8oaD1NYXRoLnJvdW5kKChkLWcuY291bnQpLygocC1nLmx0cykvMWUzKSksdGhpcy5sYXN0VmlkZW9GcmFtZXNTZW50LnNldChpLnNzcmMse2NvdW50OmQsbHRzOnAscmF0ZTpofSkpOmc/aD1nLnJhdGU6dGhpcy5sYXN0VmlkZW9GcmFtZXNTZW50LnNldChpLnNzcmMse2NvdW50OmQsbHRzOnAscmF0ZTowfSk7fWkuc2VudEZyYW1lPXt3aWR0aDpsLGhlaWdodDp1LGZyYW1lUmF0ZTpNYXRoLm1heCgwLGgpfTt9cHJvY2Vzc1ZpZGVvVHJhY2tSZWNlaXZlclN0YXRzKGUsbixpKXt2YXIgcixvLHMsYSxjO2xldCBkPW4/dGhpcy5yZXBvcnQuZ2V0KG4pOnZvaWQgMCxsPShyPWQ/LmZyYW1lc1JlY2VpdmVkKSE9PW51bGwmJnIhPT12b2lkIDA/cjplLmZyYW1lc1JlY2VpdmVkLHU9KG89ZD8uZnJhbWVXaWR0aCkhPT1udWxsJiZvIT09dm9pZCAwP286ZS5mcmFtZVdpZHRoLGg9KHM9ZD8uZnJhbWVIZWlnaHQpIT09bnVsbCYmcyE9PXZvaWQgMD9zOmUuZnJhbWVIZWlnaHQscD0oYT1kPy5qaXR0ZXJCdWZmZXJEZWxheSkhPT1udWxsJiZhIT09dm9pZCAwP2E6ZS5qaXR0ZXJCdWZmZXJEZWxheSxnPShjPWQ/LmppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudCkhPT1udWxsJiZjIT09dm9pZCAwP2M6ZS5qaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ7aWYodHlwZW9mIGw9PVwibnVtYmVyXCIpe2xldCBFPXRoaXMubGFzdFZpZGVvRnJhbWVzUmVjdi5nZXQoaS5zc3JjKSxmPURhdGUubm93KCk7aS5mcmFtZXNSZWNlaXZlZENvdW50PWw7bGV0IFM9MDtFJiZmLUUubHRzPj04MDA/KFM9TWF0aC5yb3VuZCgobC1FLmNvdW50KS8oKGYtRS5sdHMpLzFlMykpLHRoaXMubGFzdFZpZGVvRnJhbWVzUmVjdi5zZXQoaS5zc3JjLHtjb3VudDpsLGx0czpmLHJhdGU6U30pKTpFP1M9RS5yYXRlOnRoaXMubGFzdFZpZGVvRnJhbWVzUmVjdi5zZXQoaS5zc3JjLHtjb3VudDpsLGx0czpmLHJhdGU6MH0pLGkucmVjZWl2ZWRGcmFtZT17d2lkdGg6dXx8MCxoZWlnaHQ6aHx8MCxmcmFtZVJhdGU6U3x8MH0saS5kZWNvZGVkRnJhbWU9e3dpZHRoOnV8fDAsaGVpZ2h0Omh8fDAsZnJhbWVSYXRlOmkuZGVjb2RlRnJhbWVSYXRlfHwwfSxpLm91dHB1dEZyYW1lPXt3aWR0aDp1fHwwLGhlaWdodDpofHwwLGZyYW1lUmF0ZTppLm91dHB1dEZyYW1lUmF0ZXx8aS5kZWNvZGVGcmFtZVJhdGV8fDB9O31pZihwJiZnKXtsZXQgRT10aGlzLmxhc3RWaWRlb0pCRGVsYXkuZ2V0KGkuc3NyYyl8fHtqaXR0ZXJCdWZmZXJEZWxheTowLGppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudDowLGppdHRlckJ1ZmZlck1zOjB9LGY9RS5qaXR0ZXJCdWZmZXJNcyxTPWctRS5qaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ7Uz4wJiYoZj0xZTMqKHAtRS5qaXR0ZXJCdWZmZXJEZWxheSkvUyksaS5qaXR0ZXJCdWZmZXJNcz1mLGkuY3VycmVudERlbGF5TXM9TWF0aC5yb3VuZChmKSx0aGlzLmxhc3RWaWRlb0pCRGVsYXkuc2V0KGkuc3NyYyx7aml0dGVyQnVmZmVyRGVsYXk6cCxqaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ6ZyxqaXR0ZXJCdWZmZXJNczppLmN1cnJlbnREZWxheU1zfSk7fX1wcm9jZXNzQXVkaW9UcmFja1NlbmRlclN0YXRzKGUsbixpKXt2YXIgcixvLHMsYTtsZXQgYz1uP3RoaXMucmVwb3J0LmdldChuKTp2b2lkIDAsZD0ocj0obz1jPy5lY2hvUmV0dXJuTG9zcykhPT1udWxsJiZvIT09dm9pZCAwP286ZS5lY2hvUmV0dXJuTG9zcykhPT1udWxsJiZyIT09dm9pZCAwP3I6MCxsPShzPShhPWM/LmVjaG9SZXR1cm5Mb3NzRW5oYW5jZW1lbnQpIT09bnVsbCYmYSE9PXZvaWQgMD9hOmUuZWNob1JldHVybkxvc3NFbmhhbmNlbWVudCkhPT1udWxsJiZzIT09dm9pZCAwP3M6MDtpLmFlY1JldHVybkxvc3M9ZCxpLmFlY1JldHVybkxvc3NFbmhhbmNlbWVudD1sO31wcm9jZXNzQXVkaW9UcmFja1JlY2VpdmVyU3RhdHMoZSxuLGkpe3ZhciByLG8scyxhLGMsZCxsO2xldCB1PW4/dGhpcy5yZXBvcnQuZ2V0KG4pOnZvaWQgMCxoPShyPXU/LnJlbW92ZWRTYW1wbGVzRm9yQWNjZWxlcmF0aW9uKSE9PW51bGwmJnIhPT12b2lkIDA/cjplLnJlbW92ZWRTYW1wbGVzRm9yQWNjZWxlcmF0aW9uLHA9KG89dT8udG90YWxTYW1wbGVzUmVjZWl2ZWQpIT09bnVsbCYmbyE9PXZvaWQgMD9vOmUudG90YWxTYW1wbGVzUmVjZWl2ZWQsZz0ocz11Py5qaXR0ZXJCdWZmZXJEZWxheSkhPT1udWxsJiZzIT09dm9pZCAwP3M6ZS5qaXR0ZXJCdWZmZXJEZWxheSxFPShhPXU/LmppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudCkhPT1udWxsJiZhIT09dm9pZCAwP2E6ZS5qaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQsZj0oYz11Py5hdWRpb0xldmVsKSE9PW51bGwmJmMhPT12b2lkIDA/YzplPy5hdWRpb0xldmVsLFM9KGQ9dT8udG90YWxTYW1wbGVzRHVyYXRpb24pIT09bnVsbCYmZCE9PXZvaWQgMD9kOmU/LnRvdGFsU2FtcGxlc0R1cmF0aW9uLEM9KGw9dT8uY29uY2VhbGVkU2FtcGxlcykhPT1udWxsJiZsIT09dm9pZCAwP2w6ZS5jb25jZWFsZWRTYW1wbGVzO2lmKGgmJnAmJihpLmFjY2VsZXJhdGVSYXRlPWgvcCksZyYmRSl7bGV0IGI9dGhpcy5sYXN0QXVkaW9KQkRlbGF5LmdldChpLnNzcmMpfHx7aml0dGVyQnVmZmVyRGVsYXk6MCxqaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ6MCxqaXR0ZXJCdWZmZXJNczowfSx3PWIuaml0dGVyQnVmZmVyTXMsRD1FLWIuaml0dGVyQnVmZmVyRW1pdHRlZENvdW50O0Q+MCYmKHc9MWUzKihnLWIuaml0dGVyQnVmZmVyRGVsYXkpL0QpLGkuaml0dGVyQnVmZmVyTXM9TWF0aC5yb3VuZCh3KSx0aGlzLmxhc3RBdWRpb0pCRGVsYXkuc2V0KGkuc3NyYyx7aml0dGVyQnVmZmVyRGVsYXk6ZyxqaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ6RSxqaXR0ZXJCdWZmZXJNczppLmppdHRlckJ1ZmZlck1zfSk7fWkub3V0cHV0TGV2ZWw9ZjtsZXQgQT0xOTIwO1MmJnAmJihBPXAvUy81MCxpLnJlY2VpdmVkRnJhbWVzPU1hdGgucm91bmQocC9BKSksQyYmKGkuZHJvcHBlZEZyYW1lcz1NYXRoLnJvdW5kKEMvQSkpO31wcm9jZXNzUmVtb3RlSW5ib3VuZFN0YXRzKGUsbil7bGV0IGk9dGhpcy5yZXBvcnQuZ2V0KGUpO2kmJihuLnBhY2tldHNMb3N0PWkucGFja2V0c0xvc3QsaS5yb3VuZFRyaXBUaW1lJiYobi5ydHRNcz0xZTMqaS5yb3VuZFRyaXBUaW1lKSxpLmppdHRlciYmKG4uaml0dGVyTXM9MWUzKmkuaml0dGVyKSxpLnRpbWVzdGFtcCYmKG4udGltZXN0YW1wPWkudGltZXN0YW1wKSk7fWdldENvZGVjRnJvbUNvZGVjU3RhdHMoZSl7bGV0IG49dGhpcy5yZXBvcnQuZ2V0KGUpO2lmKCFuKXJldHVybiBcIlwiO2xldCBpPW4ubWltZVR5cGUubWF0Y2goL1xcLyguKikkLyk7cmV0dXJuIGkmJmlbMV0/aVsxXTpcIlwifXVwZGF0ZVNlbmRCaXRyYXRlKCl7bGV0IGU9MCxuPW51bGwsaT1udWxsO3RoaXMubWVkaWFCeXRlc1NlbnQuZm9yRWFjaChvPT57ZSs9by5kaWZmTWVhbigpO30pLHRoaXMubWVkaWFCeXRlc1JldHJhbnNtaXQuZm9yRWFjaChvPT57bj1uPT09bnVsbD9vLmRpZmZNZWFuKCk6bitvLmRpZmZNZWFuKCk7fSksdGhpcy5tZWRpYUJ5dGVzVGFyZ2V0RW5jb2RlLmZvckVhY2gobz0+e2k9aT09PW51bGw/by5kaWZmTWVhbigpOmkrby5kaWZmTWVhbigpO30pO2xldCByPW4hPT1udWxsP2UtbjplO3RoaXMuX3N0YXRzLmJpdHJhdGU9e2FjdHVhbEVuY29kZWQ6OCpyLyh0aGlzLm9wdGlvbnMudXBkYXRlSW50ZXJ2YWwvMWUzKSx0cmFuc21pdDo4KmUvKHRoaXMub3B0aW9ucy51cGRhdGVJbnRlcnZhbC8xZTMpfSxuIT09bnVsbCYmKHRoaXMuX3N0YXRzLmJpdHJhdGUucmV0cmFuc21pdD04Km4vKHRoaXMub3B0aW9ucy51cGRhdGVJbnRlcnZhbC8xZTMpKSxpIT09bnVsbCYmKHRoaXMuX3N0YXRzLmJpdHJhdGUudGFyZ2V0RW5jb2RlZD04KmkvKHRoaXMub3B0aW9ucy51cGRhdGVJbnRlcnZhbC8xZTMpKTt9fSxjbT1jbGFzcyBleHRlbmRzIFZje3VwZGF0ZVN0YXRzKCl7cmV0dXJuIGoucmVzb2x2ZSgpfX07ZnVuY3Rpb24gTmYodCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOjI1MCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dm9pZCAwP2FyZ3VtZW50c1syXTo4LGk9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT12b2lkIDA/YXJndW1lbnRzWzNdOjUwMCxyPWFyZ3VtZW50cy5sZW5ndGg+NCYmYXJndW1lbnRzWzRdIT09dm9pZCAwP2FyZ3VtZW50c1s0XToxZTQsbz1mdW5jdGlvbigpe2xldCBzPW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb2NhbGVMb3dlckNhc2UoKS5tYXRjaCgvY2hyb21lXFwvW1xcZF0qL2kpO3JldHVybiBzJiZzWzBdP051bWJlcihzWzBdLnNwbGl0KFwiL1wiKVsxXSk6bnVsbH0oKTtyZXR1cm4gbz9vPDc2P25ldyBhbSh0LHt1cGRhdGVJbnRlcnZhbDplLGxvc3NSYXRlSW50ZXJ2YWw6bixmcmVlemVSYXRlTGltaXQ6aSxmaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ6cn0pOm5ldyBodSh0LHt1cGRhdGVJbnRlcnZhbDplLGxvc3NSYXRlSW50ZXJ2YWw6bixmcmVlemVSYXRlTGltaXQ6aSxmaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ6cn0pOmZ1bmN0aW9uKHMpe2lmKCF3aW5kb3cuUlRDU3RhdHNSZXBvcnQpcmV0dXJuICExO2xldCBhPXMuZ2V0U3RhdHMoKTtyZXR1cm4gISEoYSBpbnN0YW5jZW9mIGp8fGZ1bmN0aW9uKGMpe3JldHVybiAhIWMmJih0eXBlb2YgYz09XCJvYmplY3RcInx8dHlwZW9mIGM9PVwiZnVuY3Rpb25cIikmJnR5cGVvZiBjLnRoZW49PVwiZnVuY3Rpb25cIn0oYSkpfSh0KT9uZXcgaHUodCx7dXBkYXRlSW50ZXJ2YWw6ZSxsb3NzUmF0ZUludGVydmFsOm4sZnJlZXplUmF0ZUxpbWl0OmksZmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0OnJ9KTpuZXcgY20odCx7dXBkYXRlSW50ZXJ2YWw6ZSxsb3NzUmF0ZUludGVydmFsOm4sZnJlZXplUmF0ZUxpbWl0OmksZmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0OnJ9KX12YXIgX3Y9Y2xhc3N7Z2V0IGxvY2FsQ2FwYWJpbGl0aWVzKCl7cmV0dXJuIGxlKHRoaXMuX2xvY2FsQ2FwYWJpbGl0aWVzKX1nZXQgcnRwQ2FwYWJpbGl0aWVzKCl7cmV0dXJuIGxlKHRoaXMuX3J0cENhcGFiaWxpdGllcyl9Z2V0IGNhbmRpZGF0ZXMoKXtyZXR1cm4gbGUodGhpcy5fY2FuZGlkYXRlcyl9Z2V0IGljZVBhcmFtZXRlcnMoKXtyZXR1cm4gbGUodGhpcy5faWNlUGFyYW1ldGVycyl9Z2V0IGR0bHNQYXJhbWV0ZXJzKCl7cmV0dXJuIGxlKHRoaXMuX2R0bHNQYXJhbWV0ZXJzKX1jb25zdHJ1Y3Rvcih0KXtUKHRoaXMsXCJzZXNzaW9uRGVzY1wiLHZvaWQgMCksVCh0aGlzLFwiX2xvY2FsQ2FwYWJpbGl0aWVzXCIsdm9pZCAwKSxUKHRoaXMsXCJfcnRwQ2FwYWJpbGl0aWVzXCIsdm9pZCAwKSxUKHRoaXMsXCJfY2FuZGlkYXRlc1wiLHZvaWQgMCksVCh0aGlzLFwiX2ljZVBhcmFtZXRlcnNcIix2b2lkIDApLFQodGhpcyxcIl9kdGxzUGFyYW1ldGVyc1wiLHZvaWQgMCksVCh0aGlzLFwic2V0dXBcIix2b2lkIDApLFQodGhpcyxcImN1cnJlbnRNaWRJbmRleFwiLHZvaWQgMCksVCh0aGlzLFwiY25hbWVcIixcIm8vaTE0dTlwSnJ4UktBc3VcIiksVCh0aGlzLFwiZmlyZWZveFNzcmNNaWRNYXBcIixuZXcgTWFwKSx0PWxlKHQpO2xldHtyZW1vdGVJY2VQYXJhbWV0ZXJzOmUscmVtb3RlRHRsc1BhcmFtZXRlcnM6bixjYW5kaWRhdGVzOmkscmVtb3RlUlRQQ2FwYWJpbGl0aWVzOnIsbG9jYWxDYXBhYmlsaXRpZXM6byxkaXJlY3Rpb246cyxzZXR1cDphLHZpZGVvQ29kZWM6YyxhdWRpb0NvZGVjOmR9PXQsbDt0aGlzLnNldHVwPWEsbD1zPT09Y24uUkVDRUlWRV9PTkxZP0xlLnBhcnNlKGB2PTBcbm89LSAwIDAgSU4gSVA0IDEyNy4wLjAuMVxucz1BZ29yYUdhdGV3YXlcbnQ9MCAwXG5hPWdyb3VwOkJVTkRMRSAwIDFcbmE9bXNpZC1zZW1hbnRpYzogV01TXG5hPWV4dG1hcC1hbGxvdy1taXhlZFxubT12aWRlbyA5IFVEUC9UTFMvUlRQL1NBVlBGIDBcbmM9SU4gSVA0IDEyNy4wLjAuMVxuYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcbmE9c2VuZG9ubHlcbmE9cnRjcC1tdXhcbmE9cnRjcC1yc2l6ZVxuYT1taWQ6MFxubT1hdWRpbyA5IFVEUC9UTFMvUlRQL1NBVlBGIDBcbmM9SU4gSVA0IDEyNy4wLjAuMVxuYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcbmE9c2VuZG9ubHlcbmE9cnRjcC1tdXhcbmE9cnRjcC1yc2l6ZVxuYT1taWQ6MVxuYCk6TGUucGFyc2UoYHY9MFxubz0tIDAgMCBJTiBJUDQgMTI3LjAuMC4xXG5zPUFnb3JhR2F0ZXdheVxudD0wIDBcbmE9Z3JvdXA6QlVORExFIDAgMVxuYT1tc2lkLXNlbWFudGljOiBXTVNcbmE9ZXh0bWFwLWFsbG93LW1peGVkXG5tPXZpZGVvIDkgVURQL1RMUy9SVFAvU0FWUEYgMFxuYz1JTiBJUDQgMTI3LjAuMC4xXG5hPXJ0Y3A6OSBJTiBJUDQgMC4wLjAuMFxuYT1yZWN2b25seVxuYT1ydGNwLW11eFxuYT1ydGNwLXJzaXplXG5hPW1pZDowXG5tPWF1ZGlvIDkgVURQL1RMUy9SVFAvU0FWUEYgMFxuYz1JTiBJUDQgMTI3LjAuMC4xXG5hPXJ0Y3A6OSBJTiBJUDQgMC4wLjAuMFxuYT1yZWN2b25seVxuYT1ydGNwLW11eFxuYT1ydGNwLXJzaXplXG5hPW1pZDoxXG5gKSx0aGlzLl9ydHBDYXBhYmlsaXRpZXM9cix0aGlzLl9jYW5kaWRhdGVzPWksdGhpcy5faWNlUGFyYW1ldGVycz1lLHRoaXMuX2R0bHNQYXJhbWV0ZXJzPW4sdGhpcy5fbG9jYWxDYXBhYmlsaXRpZXM9bztsZXQgdT1zPT09Y24uUkVDRUlWRV9PTkxZP3RoaXMucnRwQ2FwYWJpbGl0aWVzLnNlbmQ6dGhpcy5ydHBDYXBhYmlsaXRpZXMucmVjdixoPXM9PT1jbi5SRUNFSVZFX09OTFk/dGhpcy5fbG9jYWxDYXBhYmlsaXRpZXMucmVjdjp0aGlzLl9sb2NhbENhcGFiaWxpdGllcy5zZW5kLHA9cz09PWNuLlJFQ0VJVkVfT05MWT9yLnNlbmQudmlkZW9Db2RlY3M6YWMoUS5WSURFTyx1LGgsYyksZz1zPT09Y24uUkVDRUlWRV9PTkxZP3Iuc2VuZC5hdWRpb0NvZGVjczphYyhRLkFVRElPLHUsaCxkKTtmb3IobGV0IEUgb2YgbC5tZWRpYURlc2NyaXB0aW9ucylFLmF0dHJpYnV0ZXMuaWNlVWZyYWc9ZS5pY2VVZnJhZyxFLmF0dHJpYnV0ZXMuaWNlUHdkPWUuaWNlUHdkLEUuYXR0cmlidXRlcy5maW5nZXJwcmludHM9bi5maW5nZXJwcmludHMsRS5hdHRyaWJ1dGVzLmNhbmRpZGF0ZXM9aSxFLmF0dHJpYnV0ZXMuc2V0dXA9dGhpcy5zZXR1cCxFLm1lZGlhLm1lZGlhVHlwZT09PVwiYXBwbGljYXRpb25cIiYmKEUuYXR0cmlidXRlcy5zY3RwUG9ydD1cIjUwMDBcIiksRS5tZWRpYS5tZWRpYVR5cGU9PT1cInZpZGVvXCImJihFLm1lZGlhLmZtdHM9cC5tYXAoZj0+Zi5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpLEUuYXR0cmlidXRlcy5wYXlsb2Fkcz1wLEUuYXR0cmlidXRlcy5leHRtYXBzPXUudmlkZW9FeHRlbnNpb25zKSxFLm1lZGlhLm1lZGlhVHlwZT09PVwiYXVkaW9cIiYmKEUubWVkaWEuZm10cz1nLm1hcChmPT5mLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSksRS5hdHRyaWJ1dGVzLnBheWxvYWRzPWcsRS5hdHRyaWJ1dGVzLmV4dG1hcHM9dS5hdWRpb0V4dGVuc2lvbnMsb2EoRSkpO3RoaXMuc2Vzc2lvbkRlc2M9bCx0aGlzLmN1cnJlbnRNaWRJbmRleD1sLm1lZGlhRGVzY3JpcHRpb25zLmxlbmd0aC0xO310b1N0cmluZygpe3JldHVybiBMZS5wcmludCh0aGlzLnNlc3Npb25EZXNjKX1oYXNNaWQodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dC5ldmVyeShlPT50aGlzLmhhc01pZChlKSk6dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5zb21lKGU9PmUuYXR0cmlidXRlcy5taWQ9PT10KX1zZW5kKHQsZSxuLGkscil7bj1uLnJlcGxhY2UoLyAvZyxcIi1cIik7bGV0e3NzcmNzOm8sc3NyY0dyb3VwczpzfT1MbyhlLHRoaXMuY25hbWUsdihcIlNZTkNfR1JPVVBcIik/bjp2b2lkIDApLGE9dGhpcy5maW5kUHJlbG9hZE1lZGlhRGVzYyhvKTtpZihhKXtpZigkdCgpJiZ0aGlzLmZpcmVmb3hTc3JjTWlkTWFwLnNldChvWzBdLnNzcmNJZCxhLmF0dHJpYnV0ZXMubWlkKSxyJiYoci50d2NjfHxyLnJlbWIpKXtsZXQgYz10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmluZGV4T2YoYSk7cmV0dXJuIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbY109dGhpcy5tdW5nU2VuZE1lZGlhRGVzYyhhLHIpLHttaWQ6YS5hdHRyaWJ1dGVzLm1pZCxuZWVkRXhjaGFuZ2VTRFA6ITB9fXJldHVybiB7bWlkOmEuYXR0cmlidXRlcy5taWQsbmVlZEV4Y2hhbmdlU0RQOiExfX17bGV0IGM9dGhpcy5maW5kQXZhaWxhYmxlTWVkaWFJbmRleCh0LG8saSksZDtyZXR1cm4gYz09PS0xPyhkPXRoaXMuY3JlYXRlT3JSZWN5Y2xlU2VuZE1lZGlhKHQsbyxzLFwic2VuZG9ubHlcIixpLHIpLHRoaXMudXBkYXRlQnVuZGxlTWlkcygpKTooZD1sZSh0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2NdKSxkLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwic2VuZG9ubHlcIixkLmF0dHJpYnV0ZXMuc3NyY3M9byxkLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcz1zLHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbY109dGhpcy5tdW5nU2VuZE1lZGlhRGVzYyhkLHIpKSwkdCgpJiZ0aGlzLmZpcmVmb3hTc3JjTWlkTWFwLnNldChvWzBdLnNzcmNJZCxkLmF0dHJpYnV0ZXMubWlkKSx7bmVlZEV4Y2hhbmdlU0RQOiEwLG1pZDpkLmF0dHJpYnV0ZXMubWlkfX19c3RvcFNlbmRpbmcodCl7bGV0IGU9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIobj0+bi5hdHRyaWJ1dGVzLm1pZCYmdC5pbmRleE9mKG4uYXR0cmlidXRlcy5taWQpIT09LTEpO2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwibWVkaWFEZXNjcmlwdGlvbnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLnN0b3BTZW5kaW5nLlwiKTtlLmZvckVhY2gobj0+e24uYXR0cmlidXRlcy5zc3Jjcz1bXTt9KSx0aGlzLnVwZGF0ZUJ1bmRsZU1pZHMoKTt9cmVjZWl2ZSh0LGUsbil7bGV0IGk9W107cmV0dXJuIHQuZm9yRWFjaChyPT57bGV0IG89ci5fbWVkaWFTdHJlYW1UcmFjay5raW5kLHM9dGhpcy5maW5kQXZhaWxhYmxlUmVjdk1lZGlhSW5kZXgobyksYSxjPSExO3M9PT0tMT8oYz0hMCxhPXRoaXMuY3JlYXRlT3JSZWN5Y2xlUmVjdk1lZGlhKHIsW10sXCJyZWN2b25seVwiLGUsbiksdGhpcy51cGRhdGVCdW5kbGVNaWRzKCkpOihhPWxlKHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbc10pLGEuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJyZWN2b25seVwiKSxpLnB1c2goe21pZDphLmF0dHJpYnV0ZXMubWlkLG5lZWRDcmVhdGVUcmFuc2NlaXZlcjpjfSk7fSksaX1zdG9wUmVjZWl2aW5nKHQpe2xldCBlPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKG49PnQuaW5kZXhPZihuLmF0dHJpYnV0ZXMubWlkKSE9PS0xKTtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIk1lZGlhRGVzY3JpcHRpb25zJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJ3MgbGVuZ3RoIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAucmVjZWl2ZS5cIik7ZS5mb3JFYWNoKG49PntuLm1lZGlhLnBvcnQ9XCIwXCIsbi5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cImluYWN0aXZlXCI7fSksdGhpcy51cGRhdGVCdW5kbGVNaWRzKCk7fWFkZFJlbW90ZUNhbmRpZGF0ZSh0KXtsZXR7Zm91bmRhdGlvbjplLHByb3RvY29sOm4sYWRkcmVzczppLHBvcnQ6cix0eXBlOm8scmVsYXRlZEFkZHJlc3M6cyxyZWxhdGVkUG9ydDphLHByaW9yaXR5OmN9PW5ldyBSVENJY2VDYW5kaWRhdGUodCksZD17Zm91bmRhdGlvbjplPz9cIlwiLGNvbXBvbmVudElkOlwiMVwiLHRyYW5zcG9ydDpuPz9cIlwiLHByaW9yaXR5OmM/YytcIlwiOlwiXCIsY29ubmVjdGlvbkFkZHJlc3M6aT8/XCJcIixwb3J0OnI/citcIlwiOlwiXCIsdHlwZTpvP28rXCJcIjpcIlwiLHJlbEFkZHI6cz8/XCJcIixyZWxQb3J0OmE/YStcIlwiOlwiXCIsZXh0ZW5zaW9uOnt9fTt0aGlzLmNhbmRpZGF0ZXMuc29tZShsPT5sLnByaW9yaXR5PT09ZC5wcmlvcml0eSYmbC5jb25uZWN0aW9uQWRkcmVzcz09PWQuY29ubmVjdGlvbkFkZHJlc3MmJmwucG9ydD09PWQucG9ydCl8fCh0aGlzLl9jYW5kaWRhdGVzLnB1c2goZCksdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5mb3JFYWNoKGw9PntsLmF0dHJpYnV0ZXMuY2FuZGlkYXRlcz10aGlzLmNhbmRpZGF0ZXM7fSkpO31jbGVhclJlbW90ZUNhbmRpZGF0ZSgpe3RoaXMuX2NhbmRpZGF0ZXM9W10sdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1swXS5hdHRyaWJ1dGVzLmNhbmRpZGF0ZXM9dGhpcy5fY2FuZGlkYXRlczt9Y3JlYXRlT3JSZWN5Y2xlUmVjdk1lZGlhKHQsZSxuLGkscil7bGV0IG89dC5fbWVkaWFTdHJlYW1UcmFjay5raW5kLHM9dGhpcy5ydHBDYXBhYmlsaXRpZXMucmVjdixhPWFjKG8scyx0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnNlbmQsbz09PVEuQVVESU8/cjppKSxjPW89PT1RLlZJREVPP3MudmlkZW9FeHRlbnNpb25zOnMuYXVkaW9FeHRlbnNpb25zLGQ9XCJcIi5jb25jYXQoKyt0aGlzLmN1cnJlbnRNaWRJbmRleCksbD17bWVkaWE6e21lZGlhVHlwZTpvLHBvcnQ6XCI5XCIscHJvdG9zOltcIlVEUFwiLFwiVExTXCIsXCJSVFBcIixcIlNBVlBGXCJdLGZtdHM6YS5tYXAoaD0+aC5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpfSxjb25uZWN0aW9uczpbe25ldHR5cGU6XCJJTlwiLGFkZHJ0eXBlOlwiSVA0XCIsYWRkcmVzczpcIjEyNy4wLjAuMVwifV0sYmFuZHdpZHRoczpbXSxhdHRyaWJ1dGVzOntpY2VVZnJhZzp0aGlzLmljZVBhcmFtZXRlcnMuaWNlVWZyYWcsaWNlUHdkOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VQd2QsdW5yZWNvZ25pemVkOltdLGNhbmRpZGF0ZXM6W10sZXh0bWFwczpjLGZpbmdlcnByaW50czp0aGlzLmR0bHNQYXJhbWV0ZXJzLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3JjczplLHNzcmNHcm91cHM6W10scnRjcEZlZWRiYWNrV2lsZGNhcmRzOltdLHBheWxvYWRzOmEscnRjcDp7cG9ydDpcIjlcIixuZXRUeXBlOlwiSU5cIixhZGRyZXNzVHlwZTpcIklQNFwiLGFkZHJlc3M6XCIwLjAuMC4wXCJ9LHNldHVwOnRoaXMuc2V0dXAsZGlyZWN0aW9uOm4scnRjcE11eDohMCxydGNwUnNpemU6ITAsbWlkOlwiXCIuY29uY2F0KGQpfX07bD10aGlzLm11bmdSZWN2TWVkaWFEc2VjKGwsdCk7bGV0IHU9dGhpcy5maW5kRmlyc3RDbG9zZWRNZWRpYShvKTtpZih1KXtsZXQgaD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmluZGV4T2YodSk7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1toXT1sO31lbHNlIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMucHVzaChsKTtyZXR1cm4gbH1tdXRlUmVtb3RlKHQpe2xldCBlPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKG49PlcodCkuY2FsbCh0LG4uYXR0cmlidXRlcy5taWR8fFwiXCIpKTtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb25zJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5tdXRlUmVtb3RlLlwiKTtlLmZvckVhY2gobj0+e24uYXR0cmlidXRlcy5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiO30pO311bm11dGVSZW1vdGUodCl7bGV0IGU9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIobj0+Vyh0KS5jYWxsKHQsbi5hdHRyaWJ1dGVzLm1pZHx8XCJcIikpO2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwibWVkaWFEZXNjcmlwdGlvbnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLm11dGVSZW1vdGUuXCIpO2UuZm9yRWFjaChuPT57bi5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cInJlY3Zvbmx5XCI7fSk7fWZpbmRBdmFpbGFibGVNZWRpYUluZGV4KHQsZSxuKXtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kSW5kZXgoaT0+e2xldCByPWkubWVkaWEubWVkaWFUeXBlPT09dCYmaS5tZWRpYS5wb3J0IT09XCIwXCImJihpLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPT09XCJzZW5kb25seVwifHxpLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPT09XCJzZW5kcmVjdlwiKSYmaS5hdHRyaWJ1dGVzLnNzcmNzLmxlbmd0aD09PTA7aWYoJHQoKSl7aWYocil7bGV0IG89dGhpcy5maXJlZm94U3NyY01pZE1hcC5nZXQoZVswXS5zc3JjSWQpO3JldHVybiAhKG98fGkuYXR0cmlidXRlcy5taWQhPT1cIjBcIiYmaS5hdHRyaWJ1dGVzLm1pZCE9PVwiMVwiKXx8ISghb3x8byE9PWkuYXR0cmlidXRlcy5taWQpfXJldHVybiAhMX1yZXR1cm4gciYmaS5hdHRyaWJ1dGVzLm1pZD09PW59KX1maW5kQXZhaWxhYmxlUmVjdk1lZGlhSW5kZXgodCl7cmV0dXJuIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZEluZGV4KGU9PntsZXQgbj1lLm1lZGlhLm1lZGlhVHlwZT09PXQmJmUubWVkaWEucG9ydCE9PVwiMFwiJiYoZS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj09PVwicmVjdm9ubHlcInx8ZS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj09PVwic2VuZHJlY3ZcIik7cmV0dXJuIGUuYXR0cmlidXRlcy5taWQhPT1cIjBcIiYmZS5hdHRyaWJ1dGVzLm1pZCE9PVwiMVwiJiZufSl9cHJlZGljdFJlY2VpdmluZ01pZHModCl7bGV0IGU9W107Zm9yKGxldCBuPTA7bjx0O24rKyllLnB1c2goKHRoaXMuY3VycmVudE1pZEluZGV4K24rMSkudG9TdHJpbmcoMTApKTtyZXR1cm4gZX1yZXN0YXJ0SUNFKHQpe3Q9bGUodCksdGhpcy5faWNlUGFyYW1ldGVycz10LHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZm9yRWFjaChlPT57ZS5hdHRyaWJ1dGVzLmljZVVmcmFnPXQuaWNlVWZyYWcsZS5hdHRyaWJ1dGVzLmljZVB3ZD10LmljZVB3ZDt9KTt9Y3JlYXRlT3JSZWN5Y2xlU2VuZE1lZGlhKHQsZSxuLGkscixvKXtsZXQgcz10aGlzLnJ0cENhcGFiaWxpdGllcy5zZW5kLGE9dD09PVEuVklERU8/cy52aWRlb0NvZGVjczpzLmF1ZGlvQ29kZWNzLGM9dD09PVEuVklERU8/cy52aWRlb0V4dGVuc2lvbnM6cy5hdWRpb0V4dGVuc2lvbnM7JHQoKSYmKHI9XCJcIi5jb25jYXQoKyt0aGlzLmN1cnJlbnRNaWRJbmRleCkpO2xldCBkPXttZWRpYTp7bWVkaWFUeXBlOnQscG9ydDpcIjlcIixwcm90b3M6W1wiVURQXCIsXCJUTFNcIixcIlJUUFwiLFwiU0FWUEZcIl0sZm10czphLm1hcCh1PT51LnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSl9LGNvbm5lY3Rpb25zOlt7bmV0dHlwZTpcIklOXCIsYWRkcnR5cGU6XCJJUDRcIixhZGRyZXNzOlwiMTI3LjAuMC4xXCJ9XSxiYW5kd2lkdGhzOltdLGF0dHJpYnV0ZXM6e2ljZVVmcmFnOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VVZnJhZyxpY2VQd2Q6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVB3ZCx1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczpbXSxleHRtYXBzOmMsZmluZ2VycHJpbnRzOnRoaXMuZHRsc1BhcmFtZXRlcnMuZmluZ2VycHJpbnRzLGltYWdlYXR0cjpbXSxtc2lkczpbXSxyZW1vdGVDYW5kaWRhdGVzTGlzdDpbXSxyaWRzOltdLHNzcmNzOmUsc3NyY0dyb3VwczpuLHJ0Y3BGZWVkYmFja1dpbGRjYXJkczpbXSxwYXlsb2FkczphLHJ0Y3A6e3BvcnQ6XCI5XCIsbmV0VHlwZTpcIklOXCIsYWRkcmVzc1R5cGU6XCJJUDRcIixhZGRyZXNzOlwiMC4wLjAuMFwifSxzZXR1cDp0aGlzLnNldHVwLGRpcmVjdGlvbjppLHJ0Y3BNdXg6ITAscnRjcFJzaXplOiEwLG1pZDpyfX07ZD10aGlzLm11bmdTZW5kTWVkaWFEZXNjKGQsbyk7bGV0IGw9dGhpcy5maW5kRmlyc3RDbG9zZWRNZWRpYSh0KTtpZihsKXtsZXQgdT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmluZGV4T2YobCk7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1t1XT1kO31lbHNlIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMucHVzaChkKTtyZXR1cm4gZH1tdW5nUmVjdk1lZGlhRHNlYyh0LGUsbil7bGV0IGk9bGUodCk7cmV0dXJuIElmKGkpLHJhKGksZSksdmYoaSxlKSxyMChpKSxsdShpLG4sdGhpcy5sb2NhbENhcGFiaWxpdGllcy5zZW5kKSxpfW11bmdTZW5kTWVkaWFEZXNjKHQsZSl7bGV0IG49bGUodCk7cmV0dXJuIGx1KG4sZSx0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnJlY3YpLG9hKG4pLG59dXBkYXRlUmVjdk1lZGlhKHQsZSl7bGV0IG49dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kSW5kZXgoaT0+aS5hdHRyaWJ1dGVzLm1pZD09PXQpO2lmKG4hPT0tMSl7bGV0IGk9dGhpcy5tdW5nUmVjdk1lZGlhRHNlYyh0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW25dLGUpO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbbl09aTt9fXVwZGF0ZUJ1bmRsZU1pZHMoKXt0aGlzLnNlc3Npb25EZXNjLmF0dHJpYnV0ZXMuZ3JvdXBzWzBdLmlkZW50aWZpY2F0aW9uVGFnPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKHQ9PnQubWVkaWEucG9ydCE9PVwiMFwiKS5tYXAodD0+dC5hdHRyaWJ1dGVzLm1pZCk7fWZpbmRQcmVsb2FkTWVkaWFEZXNjKHQpe3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoZT0+e3ZhciBuO3JldHVybiAoKG49ZS5hdHRyaWJ1dGVzKT09PW51bGx8fG49PT12b2lkIDB8fChuPW4uc3NyY3NbMF0pPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5zc3JjSWQpPT09dFswXS5zc3JjSWR9KX1maW5kRmlyc3RDbG9zZWRNZWRpYSh0KXtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKGU9PiR0KCk/ZS5tZWRpYS5wb3J0PT09XCIwXCImJmUubWVkaWEubWVkaWFUeXBlPT09dDplLm1lZGlhLnBvcnQ9PT1cIjBcIil9fSxsVz1bXCJzZHBcIl0sVnQ7ZnVuY3Rpb24gRXYodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59ZnVuY3Rpb24gR3IodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdIT1udWxsP2FyZ3VtZW50c1tlXTp7fTtlJTI/RXYoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe1QodCxpLG5baV0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOkV2KE9iamVjdChuKSkuZm9yRWFjaChmdW5jdGlvbihpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixpKSk7fSk7fXJldHVybiB0fXZhciBtdj0oVnQ9Y2xhc3MgYnMgZXh0ZW5kcyBLbHtnZXQgY3VycmVudExvY2FsRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jdXJyZW50TG9jYWxEZXNjcmlwdGlvbn1nZXQgY3VycmVudFJlbW90ZURlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudFJlbW90ZURlc2NyaXB0aW9ufWdldCBwZWVyQ29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlfWdldCBpY2VDb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGV9Z2V0IGR0bHNUcmFuc3BvcnRTdGF0ZSgpe3ZhciBlLG47cmV0dXJuIChlPShuPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0UmVjZWl2ZXJzKClbMF0pPT09bnVsbHx8bj09PXZvaWQgMHx8KG49bi50cmFuc3BvcnQpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5zdGF0ZSkhPT1udWxsJiZlIT09dm9pZCAwP2U6bnVsbH1nZXQgbG9jYWxDb2RlY3MoKXtyZXR1cm4gW119c2V0IGlzSW5SZXN0YXJ0SWNlKGUpe3RoaXMuX2lzSW5SZXN0YXJ0SWNlPWU7fWdldCBpc0luUmVzdGFydEljZSgpe3JldHVybiB0aGlzLl9pc0luUmVzdGFydEljZX1jb25zdHJ1Y3RvcihlLG4saSl7c3VwZXIoZSxuKSxUKHRoaXMsXCJkaXJlY3Rpb25cIix2b2lkIDApLFQodGhpcyxcIm5hbWVcIix2b2lkIDApLFQodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxUKHRoaXMsXCJzcGVjXCIsdm9pZCAwKSxUKHRoaXMsXCJwZWVyQ29ubmVjdGlvblwiLHZvaWQgMCksVCh0aGlzLFwiaW5pdGlhbE9mZmVyXCIsdm9pZCAwKSxUKHRoaXMsXCJ0cmFuc3BvcnRcIix2b2lkIDApLFQodGhpcyxcInN0YXRzRmlsdGVyXCIsdm9pZCAwKSxUKHRoaXMsXCJsb2NhbENhbmRpZGF0ZUNvdW50XCIsMCksVCh0aGlzLFwiX2lzSW5SZXN0YXJ0SWNlXCIsITEpLFQodGhpcyxcIm11dGV4XCIsbmV3IHplKFwiUDJQQ29ubmVjdGlvbi1tdXRleFwiKSksVCh0aGlzLFwib25Mb2NhbENhbmRpZGF0ZVwiLHZvaWQgMCksVCh0aGlzLFwicmVtb3RlU0RQXCIsdm9pZCAwKSxUKHRoaXMsXCJwZW5kaW5nQ2FuZGlkYXRlc1wiLFtdKSxUKHRoaXMsXCJsb2NhbENhcGFiaWxpdGllc1wiLHZvaWQgMCksVCh0aGlzLFwiaXNSZWFkeVwiLCExKSxUKHRoaXMsXCJyZXN0YXJ0Q250XCIsMCksVCh0aGlzLFwiY3VyVHVyblNlcnZlckluZGV4XCIsMCksdGhpcy5zdG9yZT1uLHRoaXMuc3BlYz1lLHRoaXMucGVlckNvbm5lY3Rpb249bmV3IFJUQ1BlZXJDb25uZWN0aW9uKGJzLnJlc29sdmVQQ0NvbmZpZ3VyYXRpb24oZSxuLnAycFRyYW5zcG9ydCkse29wdGlvbmFsOlt7Z29vZ0RzY3A6ITB9XX0pLHRoaXMuZGlyZWN0aW9uPWk/P2NuLlNFTkRfT05MWSx0aGlzLm5hbWU9dGhpcy5kaXJlY3Rpb249PT1jbi5TRU5EX09OTFk/XCJzZW5kUDJQQ29ubmVjdGlvblwiOlwicmVjdlAyUENvbm5lY3Rpb25cIix0aGlzLnN0YXRzRmlsdGVyPU5mKHRoaXMucGVlckNvbm5lY3Rpb24sdihcIlNUQVRTX1VQREFURV9JTlRFUlZBTFwiKSx2b2lkIDAsJHQoKT8xMjAwOnZvaWQgMCksdGhpcy5iaW5kUENFdmVudHMoKSx0aGlzLmJpbmRTdGF0c0V2ZW50cygpLHRoaXMuc3RvcmUucDJwSWQ9dGhpcy5zdG9yZS5wMnBJZCsxO31hc3luYyBlc3RhYmxpc2goZSl7dHJ5e2xldCBuPWF3YWl0IHMwKCk7aWYodGhpcy5sb2NhbENhcGFiaWxpdGllcz11dShuKSxlKXtsZXR7c2RwOml9PWUscj1jVyhlLGxXKSxvPWZ1bmN0aW9uKCl7bGV0IGw9e2F1ZGlvQ29kZWNzOltdLHZpZGVvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LHU9TGMoYXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDAsYXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOnt9LGFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fSxcInNlbmRvbmx5XCIpLGg9e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LHA9e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LGc9e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119O2lmKElpKHUsbCxcInZpZGVvRXh0ZW5zaW9uc1wiLGgscCxnKSxJaSh1LGwsXCJ2aWRlb0NvZGVjc1wiLGgscCxnKSxJaSh1LGwsXCJhdWRpb0V4dGVuc2lvbnNcIixoLHAsZyksSWkodSxsLFwiYXVkaW9Db2RlY3NcIixoLHAsZyksdihcIlJBSVNFX0gyNjRfQkFTRUxJTkVfUFJJT1JJVFlcIikpe2xldCBFPWcudmlkZW9Db2RlY3MuZmluZEluZGV4KGY9PmYucnRwTWFwJiZmLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKT09PVwiaDI2NFwiJiZmLmZtdHAmJmYuZm10cC5wYXJhbWV0ZXJzW1wicHJvZmlsZS1sZXZlbC1pZFwiXT09PVwiNDIwMDFmXCIpO2lmKEUhPT0tMSl7bGV0IGY9Zy52aWRlb0NvZGVjcy5maW5kSW5kZXgoUz0+Uy5ydHBNYXAmJlMucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpPT09XCJoMjY0XCIpO2lmKGY8RSl7Xy5kZWJ1ZyhcInJhaXNpbmcgSDI2NCBiYXNlbGluZSBwcm9maWxlIHByaW9yaXR5XCIpO2xldCBTPWcudmlkZW9Db2RlY3NbRV07Zy52aWRlb0NvZGVjcy5zcGxpY2UoRSwxKSxnLnZpZGVvQ29kZWNzLnNwbGljZShmLDAsUyk7fWYhPT0tMSYmdihcIkZJTFRFUl9TRU5EX0gyNjRfQkFTRUxJTkVcIikmJihoLnZpZGVvQ29kZWNzPWgudmlkZW9Db2RlY3MuZmlsdGVyKFM9PiEoUy5ydHBNYXAmJlMucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpPT09XCJoMjY0XCImJlMuZm10cCYmUy5mbXRwLnBhcmFtZXRlcnNbXCJwcm9maWxlLWxldmVsLWlkXCJdIT09XCI0MjAwMWZcIikpKTt9fXJldHVybiB7c2VuZDpoLHJlY3Y6cCxzZW5kcmVjdjpnfX0oe30se30saSk7dGhpcy5yZW1vdGVTRFA9bmV3IF92KHtyZW1vdGVJY2VQYXJhbWV0ZXJzOnIuaWNlUGFyYW1ldGVycyxyZW1vdGVEdGxzUGFyYW1ldGVyczpyLmR0bHNQYXJhbWV0ZXJzLGNhbmRpZGF0ZXM6W10scmVtb3RlUlRQQ2FwYWJpbGl0aWVzOm8sbG9jYWxDYXBhYmlsaXRpZXM6dGhpcy5sb2NhbENhcGFiaWxpdGllcyxkaXJlY3Rpb246dGhpcy5kaXJlY3Rpb24sc2V0dXA6XCJhY3RwYXNzXCIsdmlkZW9Db2RlYzp0aGlzLnN0b3JlLmNvZGVjLGF1ZGlvQ29kZWM6dGhpcy5zdG9yZS5hdWRpb0NvZGVjfSksYXdhaXQgdGhpcy5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOnRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCl9KSx0aGlzLmlzUmVhZHk9ITA7bGV0IHM9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtpZighcy5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBhbnN3ZXIgc2RwIHdoZW4gdHJ5aW5nIHRvIGVzdGFibGlzaCBQZWVyQ29ubmVjdGlvbi5cIik7bGV0IGE9aW8ocy5zZHApO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihzKTtsZXQgYz1hd2FpdCB6SSh7fSx7fSxzLnNkcCk7dGhpcy5sb2NhbENhcGFiaWxpdGllcz11dShjKTtsZXQgZD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpWzBdO3JldHVybiBkIT1udWxsJiZkLnJlY2VpdmVyJiZkLnJlY2VpdmVyLnRyYW5zcG9ydCYmdGhpcy50cnlCaW5kVHJhbnNwb3J0RXZlbnRzKGQucmVjZWl2ZXIudHJhbnNwb3J0KSxHcihHcih7fSxhKSx7fSx7c2RwOnMuc2RwfSl9e3RoaXMucGVlckNvbm5lY3Rpb24uYWRkVHJhbnNjZWl2ZXIoXCJ2aWRlb1wiLHtkaXJlY3Rpb246XCJzZW5kb25seVwifSksdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIse2RpcmVjdGlvbjpcInNlbmRvbmx5XCJ9KTtsZXQgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCk7aWYoIWkuc2RwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgaW5pdGlhbE9mZmVyLnNkcCB3aGVuIHRyeWluZyB0byBlc3RhYmxpc2ggUGVlckNvbm5lY3Rpb24uXCIpO2xldCByPWlvKGkuc2RwKTtyZXR1cm4gdGhpcy5pbml0aWFsT2ZmZXI9aSxHcihHcih7fSxyKSx7fSx7c2RwOmkuc2RwfSl9fWNhdGNoKG4pe3Rocm93IG5ldyBOKFIuR0VUX0xPQ0FMX0NPTk5FQ1RJT05fUEFSQU1TX0ZBSUxFRCxuLnRvU3RyaW5nKCkpfX1hc3luYyBjb25uZWN0KGUpe3RyeXtpZighdGhpcy5pbml0aWFsT2ZmZXIpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGVzdGFibGlzaCBQMlBDb25uZWN0aW9uIHdpdGhvdXQgaW5pdGlhbCBvZmZlci5cIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHRoaXMuaW5pdGlhbE9mZmVyKTtsZXR7c2RwOm4saWNlUGFyYW1ldGVyczppLGR0bHNQYXJhbWV0ZXJzOnJ9PWUsbz1hd2FpdCB6SSh7fSx7fSxuKTt0aGlzLnJlbW90ZVNEUD1uZXcgX3Yoe3JlbW90ZUljZVBhcmFtZXRlcnM6aSxyZW1vdGVEdGxzUGFyYW1ldGVyczpyLGNhbmRpZGF0ZXM6W10scmVtb3RlUlRQQ2FwYWJpbGl0aWVzOm8sbG9jYWxDYXBhYmlsaXRpZXM6dGhpcy5sb2NhbENhcGFiaWxpdGllcyxkaXJlY3Rpb246dGhpcy5kaXJlY3Rpb24sc2V0dXA6XCJhY3RpdmVcIix2aWRlb0NvZGVjOnRoaXMuc3RvcmUuY29kZWMsYXVkaW9Db2RlYzp0aGlzLnN0b3JlLmF1ZGlvQ29kZWN9KSxhd2FpdCB0aGlzLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCl9KTtsZXQgcz10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpWzBdO3MhPW51bGwmJnMuc2VuZGVyJiZzLnNlbmRlci50cmFuc3BvcnQmJnRoaXMudHJ5QmluZFRyYW5zcG9ydEV2ZW50cyhzLnNlbmRlci50cmFuc3BvcnQpO31jYXRjaChuKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLmNvbm5lY3QgZmFpbGVkOyBcIi5jb25jYXQobi50b1N0cmluZygpKSl9fWFzeW5jIGFkZFJlbW90ZUNhbmRpZGF0ZShlKXt0cnl7ZSYmdGhpcy5wZW5kaW5nQ2FuZGlkYXRlcy5wdXNoKGUpLHRoaXMucGVlckNvbm5lY3Rpb24ucmVtb3RlRGVzY3JpcHRpb24mJnRoaXMuaXNSZWFkeSYmKHRoaXMucGVuZGluZ0NhbmRpZGF0ZXMuZm9yRWFjaChuPT57dGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUobik7fSksdGhpcy5wZW5kaW5nQ2FuZGlkYXRlcz1bXSk7fWNhdGNoKG4pe3Rocm93IG5ldyBOKFIuQUREX0NBTkRJREFURV9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLmFkZFJlbW90ZUNhbmRpZGF0ZSBmYWlsZWQ7IFwiLmNvbmNhdChuLnRvU3RyaW5nKCkpKX19c2VuZChlLG4saSl7dmFyIHI9dGhpcztyZXR1cm4gQmkoZnVuY3Rpb24qKCl7bGV0IG89eWllbGQgVHQoci5tdXRleC5sb2NrKFwiRnJvbSBQMlBDb25uZWN0aW9uLnNlbmRcIikpO3RyeXtpZighci5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5zZW5kIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWRcIik7bGV0IHM9W10sYT1yLnJlbW90ZVNEUC5yZWNlaXZlKGUsbixpKTtlLmZvckVhY2goKGYsUyk9PntpZihhW1NdLm5lZWRDcmVhdGVUcmFuc2NlaXZlcil7bGV0IEM9ci5wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihmLl9tZWRpYVN0cmVhbVRyYWNrLHtkaXJlY3Rpb246XCJzZW5kb25seVwifSk7cy5wdXNoKEMpLGYuX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKEMpO31lbHNlIHtsZXQgQz1yLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbmQoQT0+QS5taWQ9PT1hW1NdLm1pZCk7aWYoIUMpdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IGZpbmQgdHJhbnNjZWl2ZXIgd2hlbiBzZW5kUGVlcmNvbm5lY3Rpb24gc2VuZCwgbWlkIGlzIFwiLmNvbmNhdChhW1NdLm1pZCkpO3MucHVzaChDKSxmLl91cGRhdGVSdHBUcmFuc2NlaXZlcihDKTt9fSksJHQoKSYmdihcIlNJTVVMQ0FTVFwiKT09PSEwJiYoeWllbGQgVHQoci5hcHBseVNpbXVsY2FzdEZvckZpcmVmb3gocyxlKSkpO2xldCBjPWEubWFwKGY9PmYubWlkKSxkPXlpZWxkIFR0KHIucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSksbD1yLm11bmdTZW5kT2ZmZXJTRFAoZC5zZHAsZSxjKSx1PUxlLnBhcnNlKGwpLGg9Yy5tYXAoZj0+e2xldCBTPXUubWVkaWFEZXNjcmlwdGlvbnMuZmluZChDPT5DLmF0dHJpYnV0ZXMubWlkPT09Zik7aWYoIVMpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGV4dHJhY3Qgc3NyYyBmcm9tIG1lZGlhRGVzY3JpcHRpb24uXCIpO3JldHVybiBuMChTLHYoXCJVU0VfUFVCX1JUWFwiKSl9KSxwPXMubWFwKChmLFMpPT57bGV0IEM9Y1tTXTtyZXR1cm4ge2xvY2FsU1NSQzpoW1NdLGlkOkN9fSk7eWllbGQgVHQoci5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6bH0pKTt0cnl7eWllbGQgcDt9Y2F0Y2goZil7bGV0IFM9ci5yZW1vdGVTRFAudG9TdHJpbmcoKTt0aHJvdyB5aWVsZCBUdChyLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpsfSkpLHlpZWxkIFR0KHIucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6U30pKSx5aWVsZCBUdChyLnN0b3BTZW5kaW5nKGMsITApKSxmfXlpZWxkIFR0KHIuYXBwbHlTaW11bGNhc3RFbmNvZGluZ3MocyxlKSkseWllbGQgVHQoci5hcHBseVNlbmRFbmNvZGluZ3MocyxlKSk7bGV0IGc9ci5yZW1vdGVTRFAudG9TdHJpbmcoKSxFPXIubG9nU0RQRXhjaGFuZ2UobCxcIm9mZmVyXCIsXCJsb2NhbFwiLFwic2VuZFwiKTtyZXR1cm4gRT8uKGcpLHlpZWxkIFR0KHIuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6Z30pKSxzLm1hcCgoZixTKT0+e2xldCBDPWNbU107cmV0dXJuIHtsb2NhbFNTUkM6aFtTXSxpZDpDfX0pfWNhdGNoKHMpe3Rocm93IHMgaW5zdGFuY2VvZiBOP3M6bmV3IE4oUi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5zZW5kIGZhaWxlZDsgXCIuY29uY2F0KHMudG9TdHJpbmcoKSkpfWZpbmFsbHl7bygpO319KSgpfWFzeW5jIHN0b3BTZW5kaW5nKGUsbil7bGV0IGk9bj92b2lkIDA6YXdhaXQgdGhpcy5tdXRleC5sb2NrKFwiRnJvbSBQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nXCIpO3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2xldCByPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKGM9PmUuaW5kZXhPZihjLm1pZCkhPT0tMSk7aWYoci5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2NlaXZlcnMnIGxlbmd0aCAoXCIuY29uY2F0KHIubGVuZ3RoLFwiKSBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aCAoXCIpLmNvbmNhdChlLmxlbmd0aCxcIikgd2hlbiB0cnlpbmcgdG8gY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nLlwiKSk7ci5tYXAoYz0+e3ZhciBkO2MuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIiwoZD1jLnN0b3ApPT09bnVsbHx8ZD09PXZvaWQgMHx8ZC5jYWxsKGMpO30pO2xldCBvPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSxzPXRoaXMubG9nU0RQRXhjaGFuZ2Uoby5zZHB8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcInN0b3BTZW5kaW5nXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihvKSx0aGlzLnJlbW90ZVNEUC5zdG9wUmVjZWl2aW5nKGUpO2xldCBhPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7cz8uKGEpLGF3YWl0IHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6YX0pO31jYXRjaChyKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nIGZhaWxlZDsgXCIuY29uY2F0KHIudG9TdHJpbmcoKSkpfWZpbmFsbHl7aSYmaSgpO319YXN5bmMgcmVjZWl2ZShlLG4saSxyKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24ucmVjZWl2ZSBcIi5jb25jYXQoZSxcIiBiZWZvcmUgcmVtb3RlU0RQIGNyZWF0ZWQuXCIpKTtsZXR7bWlkOm8sbmVlZEV4Y2hhbmdlU0RQOnN9PXRoaXMucmVtb3RlU0RQLnNlbmQoZSxuLGkscik7aWYocyl7bGV0IGM9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxkPXRoaXMubG9nU0RQRXhjaGFuZ2UoYyxcIm9mZmVyXCIsXCJyZW1vdGVcIixcInJlY2VpdmVcIik7YXdhaXQgdGhpcy5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmN9KTtsZXQgbD1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpLHU9dGhpcy5tdW5nUmVjZWl2ZUFuc3dlclNEUChsLnNkcCxvLGUpO2Q/Lih1fHxcIlwiKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6dX0pLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtQMlBDb25uZWN0aW9uXSByZWNlaXZlIFwiKS5jb25jYXQoZSxcIiBieSBleGNoYW5naW5nIFNEUC5cIikpO31lbHNlIF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtQMlBDb25uZWN0aW9uXSByZWNlaXZlIFwiKS5jb25jYXQoZSxcIiBubyBuZWVkIHRvIGV4Y2hhbmdlIFNEUC5cIikpO2xldCBhPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZChjPT5jLm1pZD09PW8pO2lmKCFhfHxhLm1pZD09PW51bGwpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCB0cmFuc2NlaXZlciBhZnRlciBzZXRMb2NhbERlc2NyaXB0aW9uLlwiKTtyZXR1cm4ge3RyYWNrOmEucmVjZWl2ZXIudHJhY2ssbWlkOmEubWlkLHRyYW5zY2VpdmVyOmF9fWNhdGNoKG8pe3Rocm93IG5ldyBOKFIuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24ucmVjZWl2ZSBmYWlsZWQ7IFwiLmNvbmNhdChvLnRvU3RyaW5nKCkpKX19YXN5bmMgbW9ja1JlY2VpdmUoZSxuLGkscil7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnJlY2VpdmUgXCIuY29uY2F0KGUsXCIgYmVmb3JlIHJlbW90ZVNEUCBjcmVhdGVkLlwiKSk7bGV0e21pZDpvLG5lZWRFeGNoYW5nZVNEUDpzfT10aGlzLnJlbW90ZVNEUC5zZW5kKGUsbixpLHIpO2lmKHMpe2xldCBhPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksYz10aGlzLmxvZ1NEUEV4Y2hhbmdlKGEsXCJvZmZlclwiLFwicmVtb3RlXCIsXCJyZWNlaXZlXCIpO2F3YWl0IHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDphfSk7bGV0IGQ9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKSxsPXRoaXMubXVuZ1JlY2VpdmVBbnN3ZXJTRFAoZC5zZHAsbyxlKTtjPy4obHx8XCJcIiksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOmx9KSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ29ubmVjdGlvbl0gcmVjZWl2ZSBcIikuY29uY2F0KGUsXCIgYnkgZXhjaGFuZ2luZyBTRFAuXCIpKTt9ZWxzZSBfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ29ubmVjdGlvbl0gcmVjZWl2ZSBcIikuY29uY2F0KGUsXCIgbm8gbmVlZCB0byBleGNoYW5nZSBTRFAuXCIpKTt9Y2F0Y2gobyl7dGhyb3cgbmV3IE4oUi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5yZWNlaXZlIGZhaWxlZDsgXCIuY29uY2F0KG8udG9TdHJpbmcoKSkpfX1hc3luYyBzdG9wUmVjZWl2aW5nKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wUmVjZWl2aW5nIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO3RoaXMucmVtb3RlU0RQLnN0b3BTZW5kaW5nKGUpO2xldCBuPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksaT10aGlzLmxvZ1NEUEV4Y2hhbmdlKG4sXCJvZmZlclwiLFwicmVtb3RlXCIsXCJzdG9wUmVjZWl2aW5nXCIpO2F3YWl0IHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpufSk7bGV0IHI9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtpPy4oci5zZHB8fFwiXCIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihyKTt9Y2F0Y2gobil7dGhyb3cgbmV3IE4oUi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbiBzdG9wUmVjZWl2aW5nIGZhaWxlZDsgXCIuY29uY2F0KG4udG9TdHJpbmcoKSkpfX1hc3luYyByZXN0YXJ0SUNFKGUpe3RyeXtpZih0aGlzLnN0b3JlLnAycFRyYW5zcG9ydD09PU9vLkF1dG8mJih0aGlzLnN0b3JlLnAycFRyYW5zcG9ydD1Pby5TZFJ0bixmdCgpLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb24mJnRoaXMucGVlckNvbm5lY3Rpb24uc2V0Q29uZmlndXJhdGlvbihicy5yZXNvbHZlUENDb25maWd1cmF0aW9uKHRoaXMuc3BlYyx0aGlzLnN0b3JlLnAycFRyYW5zcG9ydCkpKSx0aGlzLnJlc3RhcnRDbnQ+MyYmKHRoaXMucmVzdGFydENudD0wLGZ0KCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbiYmdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRDb25maWd1cmF0aW9uKGJzLnJlc29sdmVQQ0NvbmZpZ3VyYXRpb24odGhpcy5zcGVjLHRoaXMuc3RvcmUucDJwVHJhbnNwb3J0LCsrdGhpcy5jdXJUdXJuU2VydmVySW5kZXgpKSksIWUpe3RoaXMucmVzdGFydENudCsrLHRoaXMuaXNSZWFkeT0hMTtsZXQgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKHtpY2VSZXN0YXJ0OiEwfSk7aWYoIW4uc2RwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXN0YXJ0SUNFIGJlY2F1c2UgcmVzdGFydCBvZmZlciBTRFAgZG9lcyBub3QgZXhpc3QuXCIpO2xldHtpY2VQYXJhbWV0ZXJzOml9PWlvKG4uc2RwKTtyZXR1cm4gdGhpcy5zdG9yZS5kZXNjcmlwdGlvblN0YXJ0KCksdGhpcy5kaXJlY3Rpb249PT1jbi5TRU5EX09OTFkmJmF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihuKSxpfWlmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BSZWNlaXZpbmcgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7aWYodGhpcy5yZW1vdGVTRFAucmVzdGFydElDRShlKSx0aGlzLnN0b3JlLmRlc2NyaXB0aW9uU3RhcnQoKSx0aGlzLmRpcmVjdGlvbj09PWNuLlJFQ0VJVkVfT05MWSl7dGhpcy5yZXN0YXJ0Q250KyssYXdhaXQgdGhpcy5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOnRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCl9KTtsZXQgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO2lmKCFuLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGFuc3dlciBzZHAgd2hlbiB0cnlpbmcgdG8gaWNlUmVzdGFydC5cIik7bGV0e2ljZVBhcmFtZXRlcnM6aX09aW8obi5zZHApO3JldHVybiBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obiksaX1hd2FpdCB0aGlzLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCl9KSx0aGlzLmlzUmVhZHk9ITA7fWNhdGNoKG4pe3Rocm93IG5ldyBOKFIuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24gc3RvcFJlY2VpdmluZyBmYWlsZWQ7IFwiLmNvbmNhdChuLnRvU3RyaW5nKCkpKX19Y2xvc2UoKXt2YXIgZTt0aGlzLnBlZXJDb25uZWN0aW9uLmNsb3NlKCksdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1udWxsLChlPXRoaXMub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5jYWxsKHRoaXMsXCJjbG9zZWRcIiksdGhpcy50cnlVbmJpbmRUcmFuc3BvcnRFdmVudHMoKSx0aGlzLnVuYmluZFBDRXZlbnRzKCksdGhpcy51bmJpbmRTdGF0c0V2ZW50cygpLHRoaXMudHJhbnNwb3J0PXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLmRlc3Ryb3koKTt9Z2V0U3RhdHMoKXtyZXR1cm4gdGhpcy5zdGF0c0ZpbHRlci5nZXRTdGF0cygpfWdldFJlbW90ZVZpZGVvSXNSZWFkeShlKXtyZXR1cm4gdGhpcy5zdGF0c0ZpbHRlci5nZXRWaWRlb0lzUmVhZHkoZSl9YXN5bmMgdXBkYXRlRW5jb2RlckNvbmZpZyhlLG4pe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi51cGRhdGVFbmNvZGVyQ29uZmlnIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2xldCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSxyPXRoaXMubXVuZ1NlbmRPZmZlclNEUChpLnNkcCxbbl0sW2VdKTt0aGlzLnJlbW90ZVNEUC51cGRhdGVSZWN2TWVkaWEoZSxuKTtsZXQgbz10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpLHM9dGhpcy5sb2dTRFBFeGNoYW5nZShyLFwib2ZmZXJcIixcImxvY2FsXCIsXCJ1cGRhdGVFbmNvZGVyQ29uZmlnXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOnJ9KSxzPy4obyksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpvfSk7fWNhdGNoKGkpe3Rocm93IG5ldyBOKFIuRVhDSEFOR0VfU0RQX0ZBSUxFRCxpLnRvU3RyaW5nKCkpfX1hc3luYyB1cGRhdGVTZW5kUGFyYW1ldGVycyhlLG4pe2xldCBpPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKHI9PnIubWlkPT09ZSk7aS5sZW5ndGg9PT0xJiYodGhpcy5pc1ZQOFNpbXVsY2FzdChuKT8kdCgpfHxhd2FpdCB0aGlzLmFwcGx5U2ltdWxjYXN0RW5jb2RpbmdzKGksW25dKTphd2FpdCB0aGlzLmFwcGx5U2VuZEVuY29kaW5ncyhpLFtuXSkpO31zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeShlLG4pe3RoaXMuc3RhdHNGaWx0ZXIuc2V0VmlkZW9Jc1JlYWR5MihlLG4pO31hc3luYyByZXBsYWNlVHJhY2soZSxuKXtsZXQgaT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbmQocj0+ci5taWQ9PT1uKTtpJiZhd2FpdCBpLnNlbmRlci5yZXBsYWNlVHJhY2soZS5fbWVkaWFTdHJlYW1UcmFjayk7fWFzeW5jIGdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpe2xldCBlPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0UmVjZWl2ZXJzKCk7aWYoZS5sZW5ndGg+MCYmZVswXS50cmFuc3BvcnQmJmVbMF0udHJhbnNwb3J0LmljZVRyYW5zcG9ydCYmZVswXS50cmFuc3BvcnQuaWNlVHJhbnNwb3J0LmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpciYmZVswXS50cmFuc3BvcnQuaWNlVHJhbnNwb3J0LmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpKXtsZXQgbj1lWzBdLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQse2xvY2FsOmkscmVtb3RlOnJ9PW4uZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCk7cmV0dXJuIHtsb2NhbDpHcihHcih7fSxocikse30se2NhbmRpZGF0ZVR5cGU6aS50eXBlLHByb3RvY29sOmkucHJvdG9jb2wsYWRkcmVzczppLmFkZHJlc3MscG9ydDppLnBvcnR9KSxyZW1vdGU6R3IoR3Ioe30saHIpLHt9LHtjYW5kaWRhdGVUeXBlOnIudHlwZSxwcm90b2NvbDpyLnByb3RvY29sLGFkZHJlc3M6ci5hZGRyZXNzLHBvcnQ6ci5wb3J0fSl9fXJldHVybiB0aGlzLnN0YXRzRmlsdGVyLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpfWJpbmRQQ0V2ZW50cygpe3RoaXMucGVlckNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9KCk9Pnt2YXIgZSxuO1coZT1bXCJjb25uZWN0ZWRcIixcImNvbXBsZXRlZFwiXSkuY2FsbChlLHRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlKSYmKHRoaXMuaXNSZWFkeT0hMSksKG49dGhpcy5vbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmNhbGwodGhpcyx0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSk7fSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlPSgpPT57dmFyIGU7dGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGU9PT1cImNvbm5lY3RlZFwiJiYodGhpcy5yZXN0YXJ0Q250PTApLChlPXRoaXMub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5jYWxsKHRoaXMsdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGUpO30sdGhpcy5zdGFydElDRUNhbmRpZGF0ZSgpO31zdGFydElDRUNhbmRpZGF0ZSgpe3RoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGV8fCh0aGlzLmxvY2FsQ2FuZGlkYXRlQ291bnQ9MCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPWU9PntpZihlLmNhbmRpZGF0ZSl7dmFyIG47ZS5jYW5kaWRhdGUuY2FuZGlkYXRlJiYoKG49dGhpcy5vbkxvY2FsQ2FuZGlkYXRlKT09PW51bGx8fG49PT12b2lkIDB8fG4uY2FsbCh0aGlzLGUuY2FuZGlkYXRlLnRvSlNPTigpKSksdGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50Kz0xO31lbHNlIF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwYy1cIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIGxvY2FsIGNhbmRpZGF0ZSBjb3VudFwiKSx0aGlzLmxvY2FsQ2FuZGlkYXRlQ291bnQpO30pO311bmJpbmRQQ0V2ZW50cygpe3RoaXMucGVlckNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZWVycm9yPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub250cmFjaz1udWxsO31zdGF0aWMgcmVzb2x2ZVBDQ29uZmlndXJhdGlvbihlLG4pe2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dm9pZCAwP2FyZ3VtZW50c1syXTowLHI9e2ljZVNlcnZlcnM6W119O3ZhciBvO3JldHVybiBlLmljZVNlcnZlcnM/ci5pY2VTZXJ2ZXJzPWUuaWNlU2VydmVyczplLnR1cm5TZXJ2ZXImJmUudHVyblNlcnZlci5tb2RlIT09XCJvZmZcIiYmKFl1KGUudHVyblNlcnZlci5zZXJ2ZXJzKT9yLmljZVNlcnZlcnM9ZS50dXJuU2VydmVyLnNlcnZlcnM6KHIuaWNlU2VydmVycyYmci5pY2VTZXJ2ZXJzLnB1c2goLi4uYnMudHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyhlLnR1cm5TZXJ2ZXIuc2VydmVycyxuLGkpKSx2KFwiVVNFX1RVUk5fU0VSVkVSX09GX0dBVEVXQVlcIikmJnIuaWNlU2VydmVycyYmZS50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheSYmci5pY2VTZXJ2ZXJzLnB1c2goLi4uYnMudHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyhlLnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5LG4saSkpLFcobz1bT28uUmVsYXksT28uU2RSdG5dKS5jYWxsKG8sbikmJihyLmljZVRyYW5zcG9ydFBvbGljeT1cInJlbGF5XCIpLHYoXCJGT1JDRV9UVVJOX1RDUFwiKT9yLmljZVRyYW5zcG9ydFBvbGljeT1cInJlbGF5XCI6ZS50dXJuU2VydmVyLnNlcnZlcnMuY29uY2F0KGUudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXl8fFtdKS5mb3JFYWNoKHM9PntzLmZvcmNldHVybiYmKHIuaWNlVHJhbnNwb3J0UG9saWN5PVwicmVsYXlcIik7fSkpKSx2KFwiRU5BQkxFX0VOQ09ERURfVFJBTlNGT1JNXCIpJiZmdCgpLnN1cHBvcnRXZWJSVENFbmNvZGVkVHJhbnNmb3JtJiYoci5lbmNvZGVkSW5zZXJ0YWJsZVN0cmVhbXM9ITApLF8uZGVidWcoXCJQMlBDb25uZWN0aW9uIHAycFRyYW5zcG9ydCBpcyBcIi5jb25jYXQobikpLHJ9c3RhdGljIHR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnMoZSxuKXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMD9hcmd1bWVudHNbMl06MCxyPVtdLG89ZS5maWx0ZXIoYT0+YS50Y3Bwb3J0KTtfLmRlYnVnKFwiUDJQQ29ubmVjdGlvbiB0dXJuU2VydmVycyBpcyBcIi5jb25jYXQobyxcIiwgY3VycmVudCBpbmRleCBpcyBcIikuY29uY2F0KGkpKTtsZXQgcz1vLmxlbmd0aD5pP29baV06b1swXTtzd2l0Y2gobil7Y2FzZSBPby5TZFJ0bjpsZXQgYT1lLmZpbHRlcihkPT57dmFyIGw7cmV0dXJuIFcobD1kLnVzZXJuYW1lKS5jYWxsKGwsXCJnbGI6XCIpJiZkLnR1cm5TZXJ2ZXJVUkw9PWQudHVyblNlcnZlclVSTH0pLGM9YS5sZW5ndGg+aT9hW2ldOmFbMF07YyYmKHIucHVzaCh7dXNlcm5hbWU6Yy51c2VybmFtZSxjcmVkZW50aWFsOmMucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuOlwiLmNvbmNhdChVcyhjLnR1cm5TZXJ2ZXJVUkwpLFwiOlwiKS5jb25jYXQoYy50Y3Bwb3J0LFwiP3RyYW5zcG9ydD11ZHBcIil9KSxyLnB1c2goe3VzZXJuYW1lOmMudXNlcm5hbWUsY3JlZGVudGlhbDpjLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybnM6XCIuY29uY2F0KFVzKGMudHVyblNlcnZlclVSTCksXCI6XCIpLmNvbmNhdChjLnRjcHBvcnQsXCI/dHJhbnNwb3J0PXRjcFwiKX0pKTticmVhaztjYXNlIE9vLlJlbGF5OnMmJihyLnB1c2goe3VzZXJuYW1lOnMudXNlcm5hbWUsY3JlZGVudGlhbDpzLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQocy50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQocy50Y3Bwb3J0LFwiP3RyYW5zcG9ydD11ZHBcIil9KSxyLnB1c2goe3VzZXJuYW1lOnMudXNlcm5hbWUsY3JlZGVudGlhbDpzLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybnM6XCIuY29uY2F0KFVzKHMudHVyblNlcnZlclVSTCksXCI6XCIpLmNvbmNhdChzLnRjcHBvcnQsXCI/dHJhbnNwb3J0PXRjcFwiKX0pKTticmVhaztkZWZhdWx0OnMmJihyLnB1c2goe3VzZXJuYW1lOnMudXNlcm5hbWUsY3JlZGVudGlhbDpzLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQocy50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQocy50Y3Bwb3J0LFwiP3RyYW5zcG9ydD11ZHBcIil9KSxyLnB1c2goe3VzZXJuYW1lOnMudXNlcm5hbWUsY3JlZGVudGlhbDpzLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybnM6XCIuY29uY2F0KFVzKHMudHVyblNlcnZlclVSTCksXCI6XCIpLmNvbmNhdChzLnRjcHBvcnQsXCI/dHJhbnNwb3J0PXRjcFwiKX0pLHIucHVzaCh7dXNlcm5hbWU6cy51c2VybmFtZSxjcmVkZW50aWFsOnMucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJzdHVuOlwiLmNvbmNhdChzLnR1cm5TZXJ2ZXJVUkwsXCI6XCIpLmNvbmNhdChzLnRjcHBvcnQpfSkpO31yZXR1cm4gcn10cnlCaW5kVHJhbnNwb3J0RXZlbnRzKGUpe2lmKGUpe3RoaXMudHJhbnNwb3J0PWUsZS5vbnN0YXRlY2hhbmdlPSgpPT57dmFyIGk7ZSE9bnVsbCYmZS5zdGF0ZSYmKChpPXRoaXMub25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2UpPT09bnVsbHx8aT09PXZvaWQgMHx8aS5jYWxsKHRoaXMsZS5zdGF0ZSkpO30sZS5vbmVycm9yPWk9Pnt2YXIgcjsocj10aGlzLm9uRFRMU1RyYW5zcG9ydEVycm9yKT09PW51bGx8fHI9PT12b2lkIDB8fHIuY2FsbCh0aGlzLFwiZXJyb3JcImluIGk/aS5lcnJvcjppKTt9O2xldCBuPWUuaWNlVHJhbnNwb3J0O24mJihuLm9uc3RhdGVjaGFuZ2U9KCk9PntsZXQgaT1lPy5pY2VUcmFuc3BvcnQuc3RhdGU7dmFyIHI7aSYmKChyPXRoaXMub25JQ0VUcmFuc3BvcnRTdGF0ZUNoYW5nZSk9PT1udWxsfHxyPT09dm9pZCAwfHxyLmNhbGwodGhpcyxpKSk7fSxuLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpciYmKG4ub25zZWxlY3RlZGNhbmRpZGF0ZXBhaXJjaGFuZ2U9KCk9PntpZihuLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpKXtsZXR7bG9jYWw6aSxyZW1vdGU6cn09bi5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKTtfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwYy1cIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIHNlbGVjdGVkY2FuZGlkYXRlcGFpcmNoYW5nZTogbG9jYWwgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh7Y2FuZGlkYXRlVHlwZTppLnR5cGUscHJvdG9jb2w6aS5wcm90b2NvbH0pLFwiLCByZW1vdGUgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh7Y2FuZGlkYXRlVHlwZTpyLnR5cGUscHJvdG9jb2w6ci5wcm90b2NvbCxhZGRyZXNzOnIuYWRkcmVzcyxwb3J0OnIucG9ydH0pLFwiIClcIikpO319KSk7fX10cnlVbmJpbmRUcmFuc3BvcnRFdmVudHMoKXt0aGlzLnRyYW5zcG9ydCYmKHRoaXMudHJhbnNwb3J0Lm9uc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnRyYW5zcG9ydC5vbmVycm9yPW51bGwsdGhpcy50cmFuc3BvcnQuaWNlVHJhbnNwb3J0JiYodGhpcy50cmFuc3BvcnQuaWNlVHJhbnNwb3J0Lm9uc3RhdGVjaGFuZ2U9bnVsbCkpO31hc3luYyB1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3MoZSxuKXt2YXIgaTtpZihufHwobj10aGlzLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maW5kKGw9PmwudHJhY2s9PT1lLl9tZWRpYVN0cmVhbVRyYWNrKSksIW4pcmV0dXJuIF8ud2FybihcIltcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCJdIG5vIHJ0cFNlbmRlciBmb3VuZH1cIikpO2lmKHRoaXMuaXNWUDhTaW11bGNhc3QoZSkpcmV0dXJuIF8ud2FybihcIlt1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3NdIFRyYWNrIGlzIFZQOCBzaW11bGNhc3QsIHBsZWFzZSBhcHBseSBzaW11bGNhc3QgZW5jb2RpbmdzXCIpO2lmKCFmdCgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKXJldHVybiBfLndhcm4oXCJbdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzXSBCcm93c2VyIG5vdCBzdXBwb3J0IHNldCBydHAtc2VuZGVyIHBhcmFtZXRlcnNcIik7bGV0IHI9e30sbz17fTtzd2l0Y2goZS5fb3B0aW1pemF0aW9uTW9kZSl7Y2FzZVwibW90aW9uXCI6ci5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJtYWludGFpbi1mcmFtZXJhdGVcIjticmVhaztjYXNlXCJkZXRhaWxcIjpyLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cIm1haW50YWluLXJlc29sdXRpb25cIjticmVhaztkZWZhdWx0OnIuZGVncmFkYXRpb25QcmVmZXJlbmNlPVwiYmFsYW5jZWRcIjt9aWYoZS5fZW5jb2RlckNvbmZpZyl7dmFyIHM7bGV0e2JpdHJhdGVNYXg6bCxmcmFtZVJhdGU6dSxzY2FsZVJlc29sdXRpb25Eb3duQnk6aH09ZS5fZW5jb2RlckNvbmZpZztsJiYoby5tYXhCaXRyYXRlPTFlMypsKSxXKHM9ZS5faGludHMpLmNhbGwocyxHdC5MT1dfU1RSRUFNKSYmKHUmJihvLm1heEZyYW1lcmF0ZT1Obih1KSksaCYmaD49MSYmKG8uc2NhbGVSZXNvbHV0aW9uRG93bkJ5PWgpKTt9aWYodihcIkRTQ1BfVFlQRVwiKSYmaG8oKSl7dmFyIGE7bGV0IGw9dihcIkRTQ1BfVFlQRVwiKTtXKGE9W1widmVyeS1sb3dcIixcImxvd1wiLFwibWVkaXVtXCIsXCJoaWdoXCJdKS5jYWxsKGEsbCkmJihvLm5ldHdvcmtQcmlvcml0eT1sKTt9bGV0IGM9bi5nZXRQYXJhbWV0ZXJzKCksZD0oaT1jLmVuY29kaW5ncyk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppWzBdOyR0KCkmJiFkJiYoci5lbmNvZGluZ3M9W29dKSxkJiZPYmplY3QuYXNzaWduKGQsbyksT2JqZWN0LmFzc2lnbihjLHIpLF8uZGVidWcoXCJbXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiXSB1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3M6IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoYy5lbmNvZGluZ3MpKSksYXdhaXQgbi5zZXRQYXJhbWV0ZXJzKGMpO31hc3luYyBhcHBseVNlbmRFbmNvZGluZ3MoZSxuKXt0cnl7aWYoIWZ0KCkuc3VwcG9ydFNldFJ0cFNlbmRlclBhcmFtZXRlcnN8fGUubGVuZ3RoIT09bi5sZW5ndGgpcmV0dXJuO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtsZXQgcj1lW2ldLG89bltpXTtvIGluc3RhbmNlb2YgRnQmJiF0aGlzLmlzVlA4U2ltdWxjYXN0KG8pJiZhd2FpdCB0aGlzLnVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyhvLHIuc2VuZGVyKTt9fWNhdGNoe18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIEFwcGx5IFJUUFNlbmRFbmNvZGluZ3MgZmFpbGVkLlwiKSk7fX1tdW5nU2VuZE9mZmVyU0RQKGUsbixpKXtsZXQgcj1MZS5wYXJzZShlKTtyZXR1cm4gbi5mb3JFYWNoKChvLHMpPT57bGV0IGE9aVtzXSxjPXIubWVkaWFEZXNjcmlwdGlvbnMuZmluZChkPT5kLmF0dHJpYnV0ZXMubWlkPT09YSk7YyYmKHJhKGMsbyksbzAoYyxvLHRoaXMuc3RvcmUuY29kZWMpKTt9KSxMZS5wcmludChyKX1iaW5kU3RhdHNFdmVudHMoKXt0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb1JlY2VpdmVkPWU9Pnt2YXIgbjsobj10aGlzLm9uRmlyc3RBdWRpb1JlY2VpdmVkKT09PW51bGx8fG49PT12b2lkIDB8fG4uY2FsbCh0aGlzLGUpO30sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9SZWNlaXZlZD1lPT57dmFyIG47KG49dGhpcy5vbkZpcnN0VmlkZW9SZWNlaXZlZCk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmNhbGwodGhpcyxlKTt9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvRGVjb2RlZD1lPT57dmFyIG47KG49dGhpcy5vbkZpcnN0QXVkaW9EZWNvZGVkKT09PW51bGx8fG49PT12b2lkIDB8fG4uY2FsbCh0aGlzLGUpO30sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkPShlLG4saSk9Pnt2YXIgcjsocj10aGlzLm9uRmlyc3RWaWRlb0RlY29kZWQpPT09bnVsbHx8cj09PXZvaWQgMHx8ci5jYWxsKHRoaXMsZSxuLGkpO30sdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPShlLG4pPT57dmFyIGk7KGk9dGhpcy5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkKT09PW51bGx8fGk9PT12b2lkIDB8fGkuY2FsbCh0aGlzLGUsbik7fSx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPShlLG4pPT57dmFyIGk7KGk9dGhpcy5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZCk9PT1udWxsfHxpPT09dm9pZCAwfHxpLmNhbGwodGhpcyxlLG4pO30sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD1lPT57dmFyIG47KG49dGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dCk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmNhbGwodGhpcyxlKTt9O311bmJpbmRTdGF0c0V2ZW50cygpe3RoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvUmVjZWl2ZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvRGVjb2RlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9dm9pZCAwO31hc3luYyBhcHBseVNpbXVsY2FzdEZvckZpcmVmb3goZSxuKXtpZihlLmxlbmd0aD09PW4ubGVuZ3RoKWZvcihsZXQgYz0wO2M8ZS5sZW5ndGg7YysrKXt2YXIgaSxyLG8scyxhO2xldCBkPWVbY10sbD1uW2NdO2lmKGwgaW5zdGFuY2VvZiBGdCYmIVcoaT1sLl9oaW50cykuY2FsbChpLEd0LkxPV19TVFJFQU0pJiYocj1sLl9lbmNvZGVyQ29uZmlnKSE9PW51bGwmJnIhPT12b2lkIDAmJnIuYml0cmF0ZU1heCYmKChvPWwuX2VuY29kZXJDb25maWcpPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by5iaXRyYXRlTWF4KT4yMDAmJihzPWwuX3NjYWxhYmlsaXR5TW9kZSkhPT1udWxsJiZzIT09dm9pZCAwJiZzLm51bVNwYXRpYWxMYXllcnMmJigoYT1sLl9zY2FsYWJpbGl0eU1vZGUpPT09bnVsbHx8YT09PXZvaWQgMD92b2lkIDA6YS5udW1TcGF0aWFsTGF5ZXJzKT4xJiZ0aGlzLnN0b3JlLmNvZGVjPT09XCJ2cDhcIil7bGV0IHU9e30saD17aGlnaDoxZTMqKGwuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heC01MCksbWVkaXVtOjVlNH07dS5lbmNvZGluZ3M9W3tyaWQ6XCJtXCIsYWN0aXZlOiEwLG1heEJpdHJhdGU6aC5tZWRpdW0sc2NhbGVSZXNvbHV0aW9uRG93bkJ5OjR9LHtyaWQ6XCJoXCIsYWN0aXZlOiEwLG1heEJpdHJhdGU6aC5oaWdofV07bGV0IHA9ZC5zZW5kZXIuZ2V0UGFyYW1ldGVycygpO2F3YWl0IGQuc2VuZGVyLnNldFBhcmFtZXRlcnMoT2JqZWN0LmFzc2lnbihwLHUpKTt9fX1hc3luYyBhcHBseVNpbXVsY2FzdEVuY29kaW5ncyhlLG4pe2lmKCEkdCgpJiZlLmxlbmd0aD09PW4ubGVuZ3RoKWZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtsZXQgcj1uW2ldO2lmKHIgaW5zdGFuY2VvZiBGdCYmdGhpcy5pc1ZQOFNpbXVsY2FzdChyKSl7bGV0IG89ZVtpXSxzPXt9LGE9e2hpZ2g6MWUzKihyLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXgtNTApLG1lZGl1bTo1ZTR9O3MuZW5jb2RpbmdzPVt7YWN0aXZlOiEwLGFkYXB0aXZlUHRpbWU6ITEsbmV0d29ya1ByaW9yaXR5OlwiaGlnaFwiLHByaW9yaXR5OlwiaGlnaFwiLG1heEJpdHJhdGU6YS5oaWdofSx7YWN0aXZlOiEwLGFkYXB0aXZlUHRpbWU6ITEsbmV0d29ya1ByaW9yaXR5OlwibG93XCIscHJpb3JpdHk6XCJsb3dcIixtYXhCaXRyYXRlOmEubWVkaXVtLHNjYWxlUmVzb2x1dGlvbkRvd25CeTo0fV07bGV0IGM9by5zZW5kZXIuZ2V0UGFyYW1ldGVycygpO2F3YWl0IG8uc2VuZGVyLnNldFBhcmFtZXRlcnMoT2JqZWN0LmFzc2lnbihjLHMpKTt9fX1pc1ZQOFNpbXVsY2FzdChlKXt2YXIgbixpLHIsbyxzO3JldHVybiAhIShlIGluc3RhbmNlb2YgRnQmJnYoXCJTSU1VTENBU1RcIikmJnRoaXMuc3RvcmUuY29kZWM9PT1cInZwOFwiJiYhVyhuPWUuX2hpbnRzKS5jYWxsKG4sR3QuTE9XX1NUUkVBTSkmJihpPWUuX2VuY29kZXJDb25maWcpIT09bnVsbCYmaSE9PXZvaWQgMCYmaS5iaXRyYXRlTWF4JiYoKHI9ZS5fZW5jb2RlckNvbmZpZyk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLmJpdHJhdGVNYXgpPjIwMCYmKG89ZS5fc2NhbGFiaWxpdHlNb2RlKSE9PW51bGwmJm8hPT12b2lkIDAmJm8ubnVtU3BhdGlhbExheWVycyYmKChzPWUuX3NjYWxhYmlsaXR5TW9kZSk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzLm51bVNwYXRpYWxMYXllcnMpPjEpfWxvZ1NEUEV4Y2hhbmdlKGUsbixpLHIpe2lmKHYoXCJTRFBfTE9HR0lOR1wiKSlyZXR1cm4gXy51cGxvYWQoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGV4Y2hhbmdpbmcgXCIpLmNvbmNhdChpLFwiIFwiKS5jb25jYXQobixcIiBTRFAgZHVyaW5nIFAyUENvbm5lY3Rpb24uXCIpLmNvbmNhdChyLGBcbmApLGUpLG49PT1cIm9mZmVyXCI/bz0+e3RoaXMubG9nU0RQRXhjaGFuZ2UobyxcImFuc3dlclwiLGk9PT1cImxvY2FsXCI/XCJyZW1vdGVcIjpcImxvY2FsXCIscik7fTp2b2lkIDB9YXN5bmMgbXV0ZUxvY2FsKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5tdXRlTG9jYWwgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7bGV0IG49dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIocz0+cy5taWQmJmUuaW5kZXhPZihzLm1pZCkhPT0tMSk7aWYobi5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2NlaXZlcnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aC5cIik7bi5tYXAocz0+e3MuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIjt9KTtsZXQgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkscj10aGlzLmxvZ1NEUEV4Y2hhbmdlKGkuc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJtdXRlTG9jYWxcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpLHRoaXMucmVtb3RlU0RQLm11dGVSZW1vdGUoZSk7bGV0IG89dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTtyPy4obyksYXdhaXQgdGhpcy5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpvfSk7fWNhdGNoKG4pe3Rocm93IG5ldyBOKFIuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24ubXV0ZUxvY2FsIGZhaWxlZDsgXCIuY29uY2F0KG4udG9TdHJpbmcoKSkpfX1hc3luYyB1bm11dGVMb2NhbChlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24udW5tdXRlTG9jYWwgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7bGV0IG49dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIocz0+cy5taWQmJmUuaW5kZXhPZihzLm1pZCkhPT0tMSk7aWYobi5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2NlaXZlcnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aC5cIik7bi5tYXAoYXN5bmMgcz0+e3MuZGlyZWN0aW9uPVwic2VuZG9ubHlcIjt9KTtsZXQgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkscj10aGlzLmxvZ1NEUEV4Y2hhbmdlKGkuc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJ1bm11dGVMb2NhbFwiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaSksdGhpcy5yZW1vdGVTRFAudW5tdXRlUmVtb3RlKGUpO2xldCBvPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7cj8uKG8pLGF3YWl0IHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6b30pO31jYXRjaChuKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnVubXV0ZUxvY2FsIGZhaWxlZDsgXCIuY29uY2F0KG4udG9TdHJpbmcoKSkpfX1hc3luYyBnZXRSZW1vdGVTU1JDKGUsbil7dmFyIGkscjtpZihuPShpPW4pIT09bnVsbCYmaSE9PXZvaWQgMD9pOihyPXRoaXMuY3VycmVudFJlbW90ZURlc2NyaXB0aW9uKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIuc2RwKXt2YXIgbztsZXQgcz0obz1MZS5wYXJzZShuKS5tZWRpYURlc2NyaXB0aW9ucy5maW5kKGE9PmEuYXR0cmlidXRlcy5taWQ9PT1lKSk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLmF0dHJpYnV0ZXMuc3NyY3M7cmV0dXJuIHM/LlswXS5zc3JjSWR9fWFzeW5jIHNldFJlbW90ZURlc2NyaXB0aW9uKGUpe3ZhciBuO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oZSksVyhuPVtcImNvbm5lY3RlZFwiLFwiY29tcGxldGVkXCJdKS5jYWxsKG4sdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpfHwodGhpcy5pc1JlYWR5PSEwLHRoaXMuYWRkUmVtb3RlQ2FuZGlkYXRlKCkpO31tdW5nUmVjZWl2ZUFuc3dlclNEUChlLG4saSl7bGV0IHI9TGUucGFyc2UoZSksbz1yLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQocz0+cy5hdHRyaWJ1dGVzLm1pZD09PW4pO3JldHVybiBvJiZpPT09US5BVURJTyYmby5tZWRpYS5tZWRpYVR5cGU9PT1cImF1ZGlvXCImJm9hKG8pLExlLnByaW50KHIpfX0scShWdC5wcm90b3R5cGUsXCJlc3RhYmxpc2hcIixbX2ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVnQucHJvdG90eXBlLFwiZXN0YWJsaXNoXCIpLFZ0LnByb3RvdHlwZSkscShWdC5wcm90b3R5cGUsXCJjb25uZWN0XCIsW19pXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFZ0LnByb3RvdHlwZSxcImNvbm5lY3RcIiksVnQucHJvdG90eXBlKSxxKFZ0LnByb3RvdHlwZSxcInJlY2VpdmVcIixbX2ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVnQucHJvdG90eXBlLFwicmVjZWl2ZVwiKSxWdC5wcm90b3R5cGUpLHEoVnQucHJvdG90eXBlLFwibW9ja1JlY2VpdmVcIixbX2ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVnQucHJvdG90eXBlLFwibW9ja1JlY2VpdmVcIiksVnQucHJvdG90eXBlKSxxKFZ0LnByb3RvdHlwZSxcInN0b3BSZWNlaXZpbmdcIixbX2ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVnQucHJvdG90eXBlLFwic3RvcFJlY2VpdmluZ1wiKSxWdC5wcm90b3R5cGUpLHEoVnQucHJvdG90eXBlLFwicmVzdGFydElDRVwiLFtfaV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihWdC5wcm90b3R5cGUsXCJyZXN0YXJ0SUNFXCIpLFZ0LnByb3RvdHlwZSkscShWdC5wcm90b3R5cGUsXCJjbG9zZVwiLFtfaV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihWdC5wcm90b3R5cGUsXCJjbG9zZVwiKSxWdC5wcm90b3R5cGUpLHEoVnQucHJvdG90eXBlLFwidXBkYXRlRW5jb2RlckNvbmZpZ1wiLFtfaV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihWdC5wcm90b3R5cGUsXCJ1cGRhdGVFbmNvZGVyQ29uZmlnXCIpLFZ0LnByb3RvdHlwZSkscShWdC5wcm90b3R5cGUsXCJ1cGRhdGVTZW5kUGFyYW1ldGVyc1wiLFtfaV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihWdC5wcm90b3R5cGUsXCJ1cGRhdGVTZW5kUGFyYW1ldGVyc1wiKSxWdC5wcm90b3R5cGUpLHEoVnQucHJvdG90eXBlLFwicmVwbGFjZVRyYWNrXCIsW19pXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFZ0LnByb3RvdHlwZSxcInJlcGxhY2VUcmFja1wiKSxWdC5wcm90b3R5cGUpLHEoVnQucHJvdG90eXBlLFwibXV0ZUxvY2FsXCIsW19pXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFZ0LnByb3RvdHlwZSxcIm11dGVMb2NhbFwiKSxWdC5wcm90b3R5cGUpLHEoVnQucHJvdG90eXBlLFwidW5tdXRlTG9jYWxcIixbX2ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVnQucHJvdG90eXBlLFwidW5tdXRlTG9jYWxcIiksVnQucHJvdG90eXBlKSxWdCk7ZnVuY3Rpb24gX2kodCxlLG4pe2xldCBpPXRbZV07aWYodHlwZW9mIGkhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIG11dGV4IG9uIG9iamVjdCBwcm9wZXJ0eS5cIik7cmV0dXJuIG4udmFsdWU9YXN5bmMgZnVuY3Rpb24oKXtsZXQgcj10aGlzLm11dGV4LG89YXdhaXQgci5sb2NrKFwiRnJvbSBQMlBDb25uZWN0aW9uLlwiLmNvbmNhdChlKSk7dHJ5e2Zvcih2YXIgcz1hcmd1bWVudHMubGVuZ3RoLGE9bmV3IEFycmF5KHMpLGM9MDtjPHM7YysrKWFbY109YXJndW1lbnRzW2NdO3JldHVybiBhd2FpdCBpLmFwcGx5KHRoaXMsYSl9ZmluYWxseXtvKCk7fX0sbn1mdW5jdGlvbiBkbSh0LGUpe2xldCBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7bi5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwiZGlzcGxheTpub25lXCIpLGkuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcImRpc3BsYXk6bm9uZVwiKSxuLnNldEF0dHJpYnV0ZShcIm11dGVkXCIsXCJcIiksbi5tdXRlZD0hMCxuLnNldEF0dHJpYnV0ZShcImF1dG9wbGF5XCIsXCJcIiksbi5hdXRvcGxheT0hMCxuLnNldEF0dHJpYnV0ZShcInBsYXlzaW5saW5lXCIsXCJcIiksaS53aWR0aD1ObihlLndpZHRoKSxpLmhlaWdodD1ObihlLmhlaWdodCk7bGV0IHI9Tm4oZS5mcmFtZXJhdGV8fDE1KTtkb2N1bWVudC5ib2R5LmFwcGVuZChuKSxkb2N1bWVudC5ib2R5LmFwcGVuZChpKTtsZXQgbz10Ll9tZWRpYVN0cmVhbVRyYWNrO24uc3JjT2JqZWN0PW5ldyBNZWRpYVN0cmVhbShbb10pLG4ucGxheSgpO2xldCBzPWkuZ2V0Q29udGV4dChcIjJkXCIpO2lmKCFzKXRocm93IG5ldyBPKFIuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZ2V0IGNhbnZhcyBjb250ZXh0XCIpO2xldCBhPWZ0KCksYz1pLmNhcHR1cmVTdHJlYW0oYS5zdXBwb3J0UmVxdWVzdEZyYW1lPzA6cikuZ2V0VmlkZW9UcmFja3MoKVswXTtjLmNhbnZhc3x8KGMuY2FudmFzPWkpLGkuc3RhcnRDYXB0dXJlPSgpPT57aWYoIW4pcmV0dXJuIGkuc3RvcENhcHR1cmUmJmkuc3RvcENhcHR1cmUoKTtpZihuLnBhdXNlZCYmbi5wbGF5KCksbi52aWRlb0hlaWdodD4yJiZuLnZpZGVvV2lkdGg+Mil7bGV0IGw9bi52aWRlb1dpZHRoLHU9bi52aWRlb0hlaWdodC9sLGg9aS53aWR0aCp1O01hdGguYWJzKGgtaS5oZWlnaHQpPj0yJiYoXy5kZWJ1ZyhcImFkanVzdCBsb3cgc3RyZWFtIHJlc29sdXRpb25cIixcIlwiLmNvbmNhdChpLndpZHRoLFwieFwiKS5jb25jYXQoaS5oZWlnaHQsXCIgLT4gXCIpLmNvbmNhdChpLndpZHRoLFwieFwiKS5jb25jYXQoaCkpLGkuaGVpZ2h0PWgpO31zLmRyYXdJbWFnZShuLDAsMCxpLndpZHRoLGkuaGVpZ2h0KSxjLnJlcXVlc3RGcmFtZSYmYy5yZXF1ZXN0RnJhbWUoKSxvIT09dC5fbWVkaWFTdHJlYW1UcmFjayYmKG89dC5fbWVkaWFTdHJlYW1UcmFjayxuLnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW29dKSk7fSxpLnN0b3BDYXB0dXJlPVJmKCgpPT5pLnN0YXJ0Q2FwdHVyZSYmaS5zdGFydENhcHR1cmUoKSxyKTtsZXQgZD1jLnN0b3A7cmV0dXJuIGMuc3RvcD0oKT0+e2QuY2FsbChjKSxuJiYobi5yZW1vdmUoKSxuLnNyY09iamVjdD1udWxsLG49bnVsbCksaSYmKGkud2lkdGg9MCxpLnJlbW92ZSgpLGkuc3RvcENhcHR1cmUmJmkuc3RvcENhcHR1cmUoKSxpLnN0YXJ0Q2FwdHVyZT12b2lkIDAsaS5zdG9wQ2FwdHVyZT12b2lkIDAsaT1udWxsKSxfLmRlYnVnKFwiY2xlYW4gbG93IHN0cmVhbSByZW5kZXJlclwiKTt9LGN9dmFyIEFsPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuSEVJR0hUPTIwMzNdPVwiSEVJR0hUXCIsdFt0LkZSQU1FX1JBVEU9MjAzNF09XCJGUkFNRV9SQVRFXCIsdFt0LldJRFRIPTIwMzVdPVwiV0lEVEhcIix0fShBbHx8e30pLEllPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuRlJBTUVfUkFURT0yMDAyXT1cIkZSQU1FX1JBVEVcIix0W3QuV0lEVEg9MjAwM109XCJXSURUSFwiLHRbdC5IRUlHSFQ9MjAwNF09XCJIRUlHSFRcIix0W3QuUEFDS0FHRV9MT1NUPTIwMDVdPVwiUEFDS0FHRV9MT1NUXCIsdFt0LkFWR19FTkNPREU9MjAwN109XCJBVkdfRU5DT0RFXCIsdFt0Lk5BQ0tTPTIwMDldPVwiTkFDS1NcIix0W3QuUExJUz0yMDEwXT1cIlBMSVNcIix0W3QuRklSUz0yMDExXT1cIkZJUlNcIix0W3QuQklUUkFURT0yMDEyXT1cIkJJVFJBVEVcIix0W3QuUEFDS0FHRV9SQVRFPTIwMzFdPVwiUEFDS0FHRV9SQVRFXCIsdFt0LkFEQVBUQVRJT049MjAzMl09XCJBREFQVEFUSU9OXCIsdFt0LkFDVFVBTF9FTkNPREVEPTIwNjBdPVwiQUNUVUFMX0VOQ09ERURcIix0W3QuQkFORFdJRFRIPTIwNjFdPVwiQkFORFdJRFRIXCIsdFt0LlJFVFJBTlNNSVQ9MjA2Ml09XCJSRVRSQU5TTUlUXCIsdFt0LlRBUkdFVF9FTkNPREVEPTIwNjRdPVwiVEFSR0VUX0VOQ09ERURcIix0W3QuVFJBTlNNSVQ9MjA2Nl09XCJUUkFOU01JVFwiLHRbdC5GUkVFWkU9MjA4Ml09XCJGUkVFWkVcIix0W3QuRElTQUJMRUQ9MjA5NV09XCJESVNBQkxFRFwiLHRbdC5QTEFZRVJfU1RBVFVTPTIxMjhdPVwiUExBWUVSX1NUQVRVU1wiLHRbdC5RUF9TVU09MjE0M109XCJRUF9TVU1cIix0fShJZXx8e30pLERvPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuQklUUkFURT0yMDY5XT1cIkJJVFJBVEVcIix0W3QuUEFDS0FHRV9MT1NUPTIwNzBdPVwiUEFDS0FHRV9MT1NUXCIsdFt0LlBBQ0tBR0VfUkFURT0yMDcxXT1cIlBBQ0tBR0VfUkFURVwiLHRbdC5IRUlHSFQ9MjA3M109XCJIRUlHSFRcIix0W3QuRlJBTUVfUkFURT0yMDc1XT1cIkZSQU1FX1JBVEVcIix0W3QuV0lEVEg9MjA3N109XCJXSURUSFwiLHR9KERvfHx7fSksUWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5KSVRURVI9LTFdPVwiSklUVEVSXCIsdFt0LlBBQ0tBR0VfTE9TVD0yMDE0XT1cIlBBQ0tBR0VfTE9TVFwiLHRbdC5XSURUSD0yMDE4XT1cIldJRFRIXCIsdFt0LkhFSUdIVD0yMDE5XT1cIkhFSUdIVFwiLHRbdC5GUkFNRV9SQVRFPTIwMjBdPVwiRlJBTUVfUkFURVwiLHRbdC5KSVRURVJfQlVGRkVSPTIwMjNdPVwiSklUVEVSX0JVRkZFUlwiLHRbdC5DVVJSRU5UX0RFTEFZPTIwMjRdPVwiQ1VSUkVOVF9ERUxBWVwiLHRbdC5OQUNLUz0yMDI2XT1cIk5BQ0tTXCIsdFt0LlBMSVM9MjAyN109XCJQTElTXCIsdFt0LkZJUlM9MjAyOF09XCJGSVJTXCIsdFt0LkJJVFJBVEU9MjAyOV09XCJCSVRSQVRFXCIsdFt0LlBBQ0tBR0VfUkFURT0yMDc4XT1cIlBBQ0tBR0VfUkFURVwiLHRbdC5GUkVFWkU9MjA4NF09XCJGUkVFWkVcIix0W3QuRElTQUJMRUQ9MjEwMV09XCJESVNBQkxFRFwiLHRbdC5QTEFZRVJfU1RBVFVTPTIxMjldPVwiUExBWUVSX1NUQVRVU1wiLHRbdC5RUF9TVU09MjE0NF09XCJRUF9TVU1cIix0W3QuSV9GUkFNRV9ERUxBWT0yMTQ5XT1cIklfRlJBTUVfREVMQVlcIix0fShRZXx8e30pLFBvPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuRlJBTUVfUkFURV9ERUNPREU9MjAyMV09XCJGUkFNRV9SQVRFX0RFQ09ERVwiLHRbdC5GUkFNRV9SQVRFX1JFTkRFUj0yMDIyXT1cIkZSQU1FX1JBVEVfUkVOREVSXCIsdFt0LkZSQU1FX1JBVEVfT1VUUFVUPTIxNTVdPVwiRlJBTUVfUkFURV9PVVRQVVRcIix0W3QuRlJFRVpFX1RJTUU9MjEwOV09XCJGUkVFWkVfVElNRVwiLHRbdC5GUkVFWkVfVElNRV9SRU5ERVI9MjE0N109XCJGUkVFWkVfVElNRV9SRU5ERVJcIix0W3QuRlJFRVpFX0RVUkFUSU9OPTIxNTZdPVwiRlJFRVpFX0RVUkFUSU9OXCIsdH0oUG98fHt9KSxnMD1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LlBDTV9MRVZFTD0yMTA0XT1cIlBDTV9MRVZFTFwiLHR9KGcwfHx7fSksenI9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5QQUNLQUdFX0xPU1Q9LTFdPVwiUEFDS0FHRV9MT1NUXCIsdFt0LkxFVkVMPTIwMzhdPVwiTEVWRUxcIix0W3QuQklUUkFURT0yMDM5XT1cIkJJVFJBVEVcIix0W3QuUEFDS0FHRV9SQVRFPTIwNDBdPVwiUEFDS0FHRV9SQVRFXCIsdFt0LkFFQ19SRVRVUk5fTE9TUz0yMDQxXT1cIkFFQ19SRVRVUk5fTE9TU1wiLHRbdC5BRUNfUkVUVVJOX0xPU1NfRU5IPTIwNDJdPVwiQUVDX1JFVFVSTl9MT1NTX0VOSFwiLHRbdC5GUkVFWkU9MjA4MV09XCJGUkVFWkVcIix0W3QuRElTQUJMRUQ9MjA5Nl09XCJESVNBQkxFRFwiLHR9KHpyfHx7fSksbWk9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5CSVRSQVRFPTIwNDRdPVwiQklUUkFURVwiLHRbdC5QQUNLQUdFX0xPU1Q9MjA0NV09XCJQQUNLQUdFX0xPU1RcIix0W3QuUEFDS0FHRV9SQVRFPTIwNDZdPVwiUEFDS0FHRV9SQVRFXCIsdFt0LkNVUlJFTlRfREVMQVk9MjA0N109XCJDVVJSRU5UX0RFTEFZXCIsdFt0LkpJVFRFUl9CVUZGRVI9MjA1NF09XCJKSVRURVJfQlVGRkVSXCIsdFt0LkpJVFRFUj0yMDU1XT1cIkpJVFRFUlwiLHRbdC5GUkVFWkU9MjA4M109XCJGUkVFWkVcIix0W3QuRElTQUJMRUQ9MjEwMl09XCJESVNBQkxFRFwiLHRbdC5QQ01fTEVWRUw9MjEwNV09XCJQQ01fTEVWRUxcIix0W3QuUExBWUVSX1NUQVRVUz0yMTMwXT1cIlBMQVlFUl9TVEFUVVNcIix0W3QuQ09OQ0VBTEVEX1NBTVBMRVM9MjE0OF09XCJDT05DRUFMRURfU0FNUExFU1wiLHR9KG1pfHx7fSksVDA9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5GUkVFWkVfVElNRT0tMV09XCJGUkVFWkVfVElNRVwiLHRbdC5MRVZFTD0yMDQzXT1cIkxFVkVMXCIsdH0oVDB8fHt9KSwkbj1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LlJUVD0yMDA2XT1cIlJUVFwiLHRbdC5DT05OX1RZUEU9ODAxXT1cIkNPTk5fVFlQRVwiLHR9KCRufHx7fSksUnI9MWUzLGJvPTM7ZnVuY3Rpb24gc3QodCxlLG4pe24hPW51bGwmJk51bWJlci5pc0Zpbml0ZShuKSYmKHRbZV09TWF0aC5yb3VuZChNYXRoLm1heCgwLG4pKSk7fWZ1bmN0aW9uIGZ2KHQpe2xldCBlPXtbJG4uQ09OTl9UWVBFXTowLFskbi5SVFRdOnQucnR0fTtzd2l0Y2godC5zZWxlY3RlZENhbmRpZGF0ZVBhaXIubG9jYWxDYW5kaWRhdGUuY2FuZGlkYXRlVHlwZSl7Y2FzZVwicmVsYXlcIjp7bGV0IG49dC5zZWxlY3RlZENhbmRpZGF0ZVBhaXIubG9jYWxDYW5kaWRhdGUucmVsYXlQcm90b2NvbDtuPT09XCJ1ZHBcIiYmKGVbJG4uQ09OTl9UWVBFXT0xKSxuPT09XCJ0Y3BcIiYmKGVbJG4uQ09OTl9UWVBFXT0zKSxuPT09XCJ0bHNcIiYmKGVbJG4uQ09OTl9UWVBFXT00KTticmVha31jYXNlXCJzcmZseFwiOmVbJG4uQ09OTl9UWVBFXT0yO31yZXR1cm4gZX1mdW5jdGlvbiBndih0KXtsZXQgZT0wO3N3aXRjaCh0KXtjYXNlXCJub25lXCI6ZT0wO2JyZWFrO2Nhc2VcImNwdVwiOmU9MTticmVhaztjYXNlXCJiYW5kd2lkdGhcIjplPTI7YnJlYWs7Y2FzZVwib3RoZXJcIjplPTM7fXJldHVybiBlfXZhciBwdT1jbGFzcyBleHRlbmRzIFh0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksVCh0aGlzLFwic3RvcmVcIix2b2lkIDApLFQodGhpcyxcInVwbG9hZFdSVENTdGF0c1RpbWVyXCIsdm9pZCAwKSxUKHRoaXMsXCJ1cGxvYWRPdXRib3VuZERlbm9pc2VyU3RhdHNUaW1lclwiLHZvaWQgMCksVCh0aGlzLFwidXBsb2FkRXh0U3RhdHNUaW1lclwiLHZvaWQgMCksVCh0aGlzLFwidXBsb2FkRXh0VXNhZ2VTdGF0c1RpbWVyXCIsdm9pZCAwKSxUKHRoaXMsXCJ1cGxvYWRJbmJvdW5kRXh0U3RhdHNUaW1lclwiLHZvaWQgMCksVCh0aGlzLFwicmVxdWVzdFN0YXRzXCIsdm9pZCAwKSxUKHRoaXMsXCJyZXF1ZXN0VHJhbnNwb3J0U3RhdHNcIix2b2lkIDApLFQodGhpcyxcInJlcXVlc3RMb2NhbE1lZGlhXCIsdm9pZCAwKSxUKHRoaXMsXCJyZXF1ZXN0UmVtb3RlTWVkaWFcIix2b2lkIDApLFQodGhpcyxcInJlcXVlc3RBbGxUcmFja3NcIix2b2lkIDApLFQodGhpcyxcInJlcXVlc3RWaWRlb0lzUmVhZHlcIix2b2lkIDApLFQodGhpcyxcInJlcXVlc3RVcGxvYWRTdGF0c1wiLHZvaWQgMCksVCh0aGlzLFwicmVxdWVzdFVwbG9hZFwiLHZvaWQgMCksVCh0aGlzLFwidXBsb2FkT3V0Ym91bmRTdGFydGVkXCIsITEpLFQodGhpcyxcInVwbG9hZEluYm91bmRTdGFydGVkXCIsITEpLFQodGhpcyxcInVwbG9hZFRyYW5zcG9ydFN0YXJ0ZWRcIiwhMSksVCh0aGlzLFwidXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGFydGVkXCIsITEpLFQodGhpcyxcImxhc3RSZWN2U3RhdHNcIix2b2lkIDApLFQodGhpcyxcImxhc3RTZW5kU3RhdHNcIix2b2lkIDApLFQodGhpcyxcImxhc3RGdWxsUmVjdlN0YXRzXCIsdm9pZCAwKSxUKHRoaXMsXCJsYXN0RnVsbFNlbmRTdGF0c1wiLHZvaWQgMCksVCh0aGlzLFwibmVlZFVwbG9hZFJlbmRlckZyZWV6ZVRpbWVcIiwhMCksdGhpcy5zdG9yZT1lO311cGxvYWRXUlRDU3RhdHMoZSl7aWYoIXRoaXMucmVxdWVzdFN0YXRzfHwhdGhpcy5yZXF1ZXN0VXBsb2FkU3RhdHMpcmV0dXJuO2xldCBuLGk7aWYodGhpcy51cGxvYWRUcmFuc3BvcnRTdGFydGVkJiYobj10aGlzLnJlcXVlc3RTdGF0cygpLHRoaXMuc3RvcmUudXNlUDJQJiYoaT10aGlzLnJlcXVlc3RTdGF0cyghMCkpKSwhbiYmdGhpcy51cGxvYWRPdXRib3VuZFN0YXJ0ZWQmJihuPXRoaXMucmVxdWVzdFN0YXRzKCkpLCFpJiZ0aGlzLnVwbG9hZEluYm91bmRTdGFydGVkJiYoaT10aGlzLnJlcXVlc3RTdGF0cyghMCkpLG58fGkpe2xldCByPXt9O2lmKHRoaXMudXBsb2FkVHJhbnNwb3J0U3RhcnRlZCYmbil7bGV0IG89dGhpcy5nZXRUcmFuc3BvcnRTdGF0cyhuLGksZSk7byYmKHIubWlzYz1bb10pO31pZih0aGlzLnVwbG9hZE91dGJvdW5kU3RhcnRlZCYmbil7bGV0IG89dGhpcy5nZXRPdXRib3VuZFN0YXRzKG4sZT90aGlzLmxhc3RTZW5kU3RhdHM6dGhpcy5sYXN0RnVsbFNlbmRTdGF0cyxlKTtvJiYoci5vdXRib3VuZD1bb10pO31pZih0aGlzLnVwbG9hZEluYm91bmRTdGFydGVkJiZpKXtsZXQgbz10aGlzLmdldEluYm91bmRTdGF0cyhpLGU/dGhpcy5sYXN0UmVjdlN0YXRzOnRoaXMubGFzdEZ1bGxSZWN2U3RhdHMsZSk7byYmKHIuaW5ib3VuZD1vKTt9dGhpcy5yZXF1ZXN0VXBsb2FkU3RhdHMocik7fXRoaXMubGFzdFJlY3ZTdGF0cz1pLHRoaXMubGFzdFNlbmRTdGF0cz1uLGV8fCh0aGlzLmxhc3RGdWxsUmVjdlN0YXRzPWksdGhpcy5sYXN0RnVsbFNlbmRTdGF0cz1uKTt9c3RhcnRVcGxvYWRXUlRDU3RhdHMoKXtpZih0aGlzLnVwbG9hZFdSVENTdGF0c1RpbWVyKXJldHVybjtsZXQgZT0xO3RoaXMudXBsb2FkV1JUQ1N0YXRzVGltZXI9d2luZG93LnNldEludGVydmFsKCgpPT57aWYoIXRoaXMudXBsb2FkVHJhbnNwb3J0U3RhcnRlZCYmIXRoaXMudXBsb2FkSW5ib3VuZFN0YXJ0ZWQmJiF0aGlzLnVwbG9hZE91dGJvdW5kU3RhcnRlZClyZXR1cm4gdGhpcy5zdG9wVXBsb2FkV1JUQ1N0YXRzKCk7dGhpcy51cGxvYWRXUlRDU3RhdHMoZSE9PWJvKSwrK2U9PT1ibysxJiYoZT0xKTt9LFJyKTt9c3RvcFVwbG9hZFdSVENTdGF0cygpe3dpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsb2FkV1JUQ1N0YXRzVGltZXIpLHRoaXMudXBsb2FkV1JUQ1N0YXRzVGltZXI9dm9pZCAwLHRoaXMubGFzdFNlbmRTdGF0cyYmKHRoaXMubGFzdFNlbmRTdGF0cy52aWRlb1NlbmQ9W10sdGhpcy5sYXN0U2VuZFN0YXRzLmF1ZGlvU2VuZD1bXSx0aGlzLmxhc3RTZW5kU3RhdHM9dm9pZCAwKSx0aGlzLmxhc3RSZWN2U3RhdHMmJih0aGlzLmxhc3RSZWN2U3RhdHMudmlkZW9SZWN2PVtdLHRoaXMubGFzdFJlY3ZTdGF0cy5hdWRpb1JlY3Y9W10sdGhpcy5sYXN0UmVjdlN0YXRzPXZvaWQgMCk7fWdldFRyYW5zcG9ydFN0YXRzKGUsbixpKXtpZighdGhpcy5yZXF1ZXN0U3RhdHMpcmV0dXJuO2lmKGkpcmV0dXJuIGUucnR0PT1udWxsP3ZvaWQgMDp7YWRkaXRpb246e1skbi5SVFRdOmUucnR0LFskbi5DT05OX1RZUEVdOnZvaWQgMH19O2xldCByPWZ2KGUpO2lmKHRoaXMuc3RvcmUudXNlUDJQKXtpZihuKXtsZXQgbz1mdihuKTtyWyRuLkNPTk5fVFlQRV0rPW9bJG4uQ09OTl9UWVBFXTw8Mzt9clskbi5DT05OX1RZUEVdKz0xMTA7fWVsc2Ugclskbi5DT05OX1RZUEVdKz0xMDA7cmV0dXJuIHthZGRpdGlvbjpyfX1nZXRPdXRib3VuZFN0YXRzKGUsbixpKXtpZighdGhpcy5yZXF1ZXN0VXBsb2FkU3RhdHN8fCF0aGlzLnJlcXVlc3RMb2NhbE1lZGlhKXJldHVybjtsZXQgcj10aGlzLnJlcXVlc3RMb2NhbE1lZGlhKCk7aWYoIXJ8fHIubGVuZ3RoPT09MClyZXR1cm47bGV0IG8scyxhO3JldHVybiByLmZvckVhY2goYz0+e2xldFtkLHt0cmFjazpsLHNzcmNzOnV9XT1jO3N3aXRjaChkKXtjYXNlIFUuTG9jYWxWaWRlb0xvd1RyYWNrOmNhc2UgVS5Mb2NhbFZpZGVvVHJhY2s6aWYoZD09PVUuTG9jYWxWaWRlb1RyYWNrKXtsZXQgaD1mdW5jdGlvbihFLGYsUyxDLEEpe2xldCBiPWYudmlkZW9TZW5kLmZpbmQoej0+ei5zc3JjPT09RSk7aWYoIWIpcmV0dXJuO2xldCB3PXt9LHtzZW50RnJhbWU6RCxpbnB1dEZyYW1lOmt9PWI7aWYoayYmRCl7bGV0IHo9ay5mcmFtZVJhdGUsbHQ9RC5mcmFtZVJhdGU7d1tJZS5GUkVFWkVdPWZ1bmN0aW9uKHZ0LER0KXtsZXQgY2U9ITA7cmV0dXJuIGNlPSEodnQ8PTUpJiYodnQ8PTEwP0R0PDM6dnQ8PTIwP0R0PDQ6RHQ8NSksY2V9KHosbHQpPzE6MDt9aWYoc3QodyxJZS5RUF9TVU0sYi5xcFN1bVBlckZyYW1lKSxBKXJldHVybiB3O3N3aXRjaChEJiYoc3QodyxJZS5IRUlHSFQsRC5oZWlnaHQpLHN0KHcsSWUuV0lEVEgsRC53aWR0aCksc3QodyxJZS5GUkFNRV9SQVRFLEQuZnJhbWVSYXRlKSksd1tJZS5ESVNBQkxFRF09Qy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmIUMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZHx8Qy5fbWVkaWFTdHJlYW1UcmFjayYmIUMuX21lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD8xOjAsYi5hZGFwdGlvbkNoYW5nZVJlYXNvbil7Y2FzZVwibm9uZVwiOndbSWUuQURBUFRBVElPTl09MDticmVhaztjYXNlXCJjcHVcIjp3W0llLkFEQVBUQVRJT05dPTE7YnJlYWs7Y2FzZVwiYmFuZHdpZHRoXCI6d1tJZS5BREFQVEFUSU9OXT0yO2JyZWFrO2Nhc2VcIm90aGVyXCI6d1tJZS5BREFQVEFUSU9OXT0zO31sZXQgQj0wO2IuYWRhcHRpb25DaGFuZ2VSZWFzb24mJihCKz1ndihiLmFkYXB0aW9uQ2hhbmdlUmVhc29uKSksZi5xdWFsaXR5TGltaXRhdGlvblJlYXNvbiYmKEIrPWd2KGYucXVhbGl0eUxpbWl0YXRpb25SZWFzb24pPDwzKSx3W0llLkFEQVBUQVRJT05dPUIsd1tJZS5QTEFZRVJfU1RBVFVTXT1vX1tDLl9wbGF5ZXI/Qy5fcGxheWVyLnZpZGVvRWxlbWVudFN0YXR1czpcInVuaW5pdFwiXSxzdCh3LEllLk5BQ0tTLGIubmFja3NDb3VudCksc3QodyxJZS5QTElTLGIucGxpc0NvdW50KSxzdCh3LEllLkZJUlMsYi5maXJzQ291bnQpLHN0KHcsSWUuQVZHX0VOQ09ERSxiLmF2Z0VuY29kZU1zKTtsZXQgVj1TJiZTLnZpZGVvU2VuZC5maW5kKHo9Pnouc3NyYz09PUUpO2lmKFYpe2xldCB6PUE/UnI6UnIqYm87Vi50aW1lc3RhbXAmJmIudGltZXN0YW1wJiYoej1iLnRpbWVzdGFtcC1WLnRpbWVzdGFtcCksVi5wYWNrZXRzIT1udWxsJiZiLnBhY2tldHMhPW51bGwmJnN0KHcsSWUuUEFDS0FHRV9SQVRFLDFlMyooYi5wYWNrZXRzLVYucGFja2V0cykveiksYi5wYWNrZXRzTG9zdCE9bnVsbCYmVi5wYWNrZXRzTG9zdCE9bnVsbCYmc3QodyxJZS5QQUNLQUdFX0xPU1QsYi5wYWNrZXRzTG9zdC1WLnBhY2tldHNMb3N0KSxWLmJ5dGVzIT1udWxsJiZiLmJ5dGVzIT1udWxsJiZzdCh3LEllLkJJVFJBVEUsOCooYi5ieXRlcy1WLmJ5dGVzKS96KTt9cmV0dXJuIHd9KHVbMF0uc3NyY0lkLGUsbixsLGkpLHA9aT9udWxsOmZ1bmN0aW9uKEUsZixTKXtsZXQgQz1mLnZpZGVvU2VuZC5maW5kKEI9PkIuc3NyYz09PUUpO2lmKCFDKXJldHVybiBudWxsO2xldCBBPXt9LGI9Qy5pbnB1dEZyYW1lLHc9YiYmYi5oZWlnaHR8fFMmJlMudmlkZW9IZWlnaHR8fDAsRD1iJiZiLndpZHRofHxTJiZTLnZpZGVvV2lkdGh8fDAsaz1iJiZiLmZyYW1lUmF0ZXx8MDtyZXR1cm4gc3QoQSxBbC5IRUlHSFQsdyksc3QoQSxBbC5XSURUSCxEKSxzdChBLEFsLkZSQU1FX1JBVEUsayksQX0odVswXS5zc3JjSWQsZSxsKSxnPWk/bnVsbDpmdW5jdGlvbihFKXtsZXQgZj17fTtyZXR1cm4gc3QoZixJZS5SRVRSQU5TTUlULEUuYml0cmF0ZS5yZXRyYW5zbWl0KSxzdChmLEllLlRBUkdFVF9FTkNPREVELEUuYml0cmF0ZS50YXJnZXRFbmNvZGVkKSxzdChmLEllLkFDVFVBTF9FTkNPREVELEUuYml0cmF0ZS5hY3R1YWxFbmNvZGVkKSxzdChmLEllLlRSQU5TTUlULEUuYml0cmF0ZS50cmFuc21pdCksc3QoZixJZS5CQU5EV0lEVEgsRS5zZW5kQmFuZHdpZHRoKSxmfShlKTtzPU9iamVjdC5hc3NpZ24oe30saCxwLGcpO31lbHNlIGE9aT92b2lkIDA6ZnVuY3Rpb24oaCxwLGcpe2xldCBFPXAudmlkZW9TZW5kLmZpbmQoQz0+Qy5zc3JjPT09aCk7aWYoIUUpcmV0dXJuO2xldCBmPXt9LFM9RS5zZW50RnJhbWU7aWYoUyYmKHN0KGYsRG8uSEVJR0hULFMuaGVpZ2h0KSxzdChmLERvLldJRFRILFMud2lkdGgpLHN0KGYsRG8uRlJBTUVfUkFURSxTLmZyYW1lUmF0ZSkpLGcpe2xldCBDPWcudmlkZW9TZW5kLmZpbmQoQT0+QS5zc3JjPT09aCk7aWYoQyl7bGV0IEE9UnIqYm87Qy50aW1lc3RhbXAmJkUudGltZXN0YW1wJiYoQT1FLnRpbWVzdGFtcC1DLnRpbWVzdGFtcCksQy5wYWNrZXRzIT1udWxsJiZFLnBhY2tldHMhPW51bGwmJnN0KGYsRG8uUEFDS0FHRV9SQVRFLDFlMyooRS5wYWNrZXRzLUMucGFja2V0cykvQSksRS5wYWNrZXRzTG9zdCE9bnVsbCYmQy5wYWNrZXRzTG9zdCE9bnVsbCYmc3QoZixEby5QQUNLQUdFX0xPU1QsRS5wYWNrZXRzTG9zdC1DLnBhY2tldHNMb3N0KSxDLmJ5dGVzIT1udWxsJiZFLmJ5dGVzIT1udWxsJiZzdChmLERvLkJJVFJBVEUsOCooRS5ieXRlcy1DLmJ5dGVzKS9BKTt9fXJldHVybiBmfSh1WzBdLnNzcmNJZCxlLG4pO2JyZWFrO2Nhc2UgVS5Mb2NhbEF1ZGlvVHJhY2s6bz1pP3ZvaWQgMDpmdW5jdGlvbihoLHAsZyxFKXtsZXQgZj1wLmF1ZGlvU2VuZC5maW5kKHc9Pncuc3NyYz09PWgpO2lmKCFmKXJldHVybjtsZXQgUz17fTtTW3pyLkRJU0FCTEVEXT1FLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrJiYhRS5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkfHxFLl9tZWRpYVN0cmVhbVRyYWNrJiYhRS5fbWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPzE6MDtsZXQgQz0xMDAqRS5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKSxBPWYuaW5wdXRMZXZlbDtpZihBIT1udWxsKXtsZXQgdz1NYXRoLmNlaWwoNTAqTWF0aC5sb2cxMCgxMDAqQSsxKSk7c3QoUyx6ci5MRVZFTCx3KTt9c3QoUyxnMC5QQ01fTEVWRUwsQyksc3QoUyx6ci5BRUNfUkVUVVJOX0xPU1MsZi5hZWNSZXR1cm5Mb3NzKSxzdChTLHpyLkFFQ19SRVRVUk5fTE9TU19FTkgsZi5hZWNSZXR1cm5Mb3NzRW5oYW5jZW1lbnQpLFNbenIuRlJFRVpFXT0wO2xldCBiPWcmJmcuYXVkaW9TZW5kLmZpbmQodz0+dy5zc3JjPT09aCk7aWYoYil7bGV0IHc9UnIqYm87Yi50aW1lc3RhbXAmJmYudGltZXN0YW1wJiYodz1mLnRpbWVzdGFtcC1iLnRpbWVzdGFtcCksYi5ieXRlcyE9bnVsbCYmZi5ieXRlcyE9bnVsbCYmc3QoUyx6ci5CSVRSQVRFLDgqKGYuYnl0ZXMtYi5ieXRlcykvdyksYi5wYWNrZXRzIT1udWxsJiZmLnBhY2tldHMhPW51bGwmJnN0KFMsenIuUEFDS0FHRV9SQVRFLDFlMyooZi5wYWNrZXRzLWIucGFja2V0cykvdyk7fXJldHVybiBTfSh1WzBdLnNzcmNJZCxlLG4sbCk7fX0pLHtoaWdoOnMsbG93OmEsYXVkaW86b319Z2V0SW5ib3VuZFN0YXRzKGUsbixpKXtpZighdGhpcy5yZXF1ZXN0UmVtb3RlTWVkaWEpcmV0dXJuO2xldCByPXRoaXMucmVxdWVzdFJlbW90ZU1lZGlhKCl8fFtdLG89W107cmV0dXJuIHIuZm9yRWFjaChzPT57bGV0W2EsY109cyxkPXtwZWVyOmEudWlkfTtpZihjLmhhcyhRLlZJREVPKSYmYS52aWRlb1RyYWNrKXtsZXQgbD1hLl92aWRlb1NTUkMmJnRoaXMucmVxdWVzdFZpZGVvSXNSZWFkeSYmdGhpcy5yZXF1ZXN0VmlkZW9Jc1JlYWR5KGEuX3ZpZGVvU1NSQyl8fCExLHU9YS52aWRlb1RyYWNrP2Z1bmN0aW9uKGgscCxnLEUsZixTLEMpe3ZhciBBO2xldCBiPXAudmlkZW9SZWN2LmZpbmQobHQ9Pmx0LnNzcmM9PT1oKTtpZighYilyZXR1cm47bGV0IHc9e30se3JlY2VpdmVkRnJhbWU6RCxvdXRwdXRGcmFtZTprLGRlY29kZUZyYW1lUmF0ZTpCfT1iLFY9ZyYmZy52aWRlb1JlY3YuZmluZChsdD0+bHQuc3NyYz09PWgpO2lmKHdbUWUuRlJFRVpFXT1mJiZfdS5pc1JlbW90ZVZpZGVvRnJlZXplKEUsYixWKT8xOjAsc3QodyxQby5GUkFNRV9SQVRFX0RFQ09ERSxCKSxzdCh3LFFlLlFQX1NVTSxiLnFwU3VtUGVyRnJhbWUpLGIuZnJhbWVzUmF0ZUZpcmVmb3gmJnN0KHcsUWUuRlJBTUVfUkFURSxiLmZyYW1lc1JhdGVGaXJlZm94KSxEJiZzdCh3LFFlLkZSQU1FX1JBVEUsRC5mcmFtZVJhdGUpLFYpe2xldCBsdD1wLnRpbWVzdGFtcC1nLnRpbWVzdGFtcHx8KEM/UnI6Ym8qUnIpO2IucGFja2V0c0xvc3QhPW51bGwmJlYucGFja2V0c0xvc3QhPW51bGwmJnN0KHcsUWUuUEFDS0FHRV9MT1NULGIucGFja2V0c0xvc3QtVi5wYWNrZXRzTG9zdCksVi5ieXRlcyE9bnVsbCYmYi5ieXRlcyE9bnVsbCYmc3QodyxRZS5CSVRSQVRFLDgqKGIuYnl0ZXMtVi5ieXRlcykvbHQpLFYucGFja2V0cyE9bnVsbCYmYi5wYWNrZXRzIT1udWxsJiZzdCh3LFFlLlBBQ0tBR0VfUkFURSwxZTMqKGIucGFja2V0cy1WLnBhY2tldHMpL2x0KTt9aWYoQylyZXR1cm4gdztEPyhzdCh3LFFlLkhFSUdIVCxELmhlaWdodCksc3QodyxRZS5XSURUSCxELndpZHRoKSk6RSYmKHN0KHcsUWUuSEVJR0hULEUuX3ZpZGVvSGVpZ2h0fHwwKSxzdCh3LFFlLldJRFRILEUuX3ZpZGVvV2lkdGh8fDApKSxrJiZzdCh3LFBvLkZSQU1FX1JBVEVfT1VUUFVULGsuZnJhbWVSYXRlKTtsZXQgej0oQT1FLl9wbGF5ZXIpPT09bnVsbHx8QT09PXZvaWQgMD92b2lkIDA6QS5yZW5kRnJhbWVSYXRlLnRvRml4ZWQoMCk7aWYoeiYmc3QodyxQby5GUkFNRV9SQVRFX1JFTkRFUiwreiksc3QodyxRZS5KSVRURVJfQlVGRkVSLGIuaml0dGVyQnVmZmVyTXMpLHN0KHcsUWUuQ1VSUkVOVF9ERUxBWSxiLmN1cnJlbnREZWxheU1zKSxzdCh3LFFlLkZJUlMsYi5maXJzQ291bnQpLHN0KHcsUWUuTkFDS1MsYi5uYWNrc0NvdW50KSxzdCh3LFFlLlBMSVMsYi5wbGlzQ291bnQpLEUpe3dbUWUuRElTQUJMRURdPUUuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZCYmRS5fbWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPzA6MTtsZXQgbHQ9RS5fcGxheWVyO2lmKGx0KXtsZXR7ZnJlZXplVGltZUNvdW50ZXJMaXN0OnZ0LHJlbmRlckZyZWV6ZUFjY1RpbWU6RHQsdmlkZW9FbGVtZW50U3RhdHVzOmNlfT1sdDtpZih2dCYmdnQubGVuZ3RoPjAmJnN0KHcsUG8uRlJFRVpFX1RJTUUsdnQuc3BsaWNlKDAsMSlbMF0pLFMmJnlyLnZpc2liaWxpdHk9PT1cInZpc2libGVcIiYmY2U9PT1ubi5QTEFZSU5HJiZmdCgpLnN1cHBvcnRSZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKXtsZXQgV3Q9TWF0aC5taW4oNmUzLER0KTtsdC5yZW5kZXJGcmVlemVBY2NUaW1lPU1hdGgubWF4KDAsRHQtV3QpLHN0KHcsUG8uRlJFRVpFX1RJTUVfUkVOREVSLFd0KTt9aWYodHlwZW9mIGIudG90YWxGcmVlemVzRHVyYXRpb249PVwibnVtYmVyXCIpe2xldCBXdD1WJiZWLnRvdGFsRnJlZXplc0R1cmF0aW9uP2IudG90YWxGcmVlemVzRHVyYXRpb24tVi50b3RhbEZyZWV6ZXNEdXJhdGlvbjpiLnRvdGFsRnJlZXplc0R1cmF0aW9uO3N0KHcsUG8uRlJFRVpFX0RVUkFUSU9OLDFlMypXdCk7fX19aWYod1tRZS5QTEFZRVJfU1RBVFVTXT1vX1tFLl9wbGF5ZXI/RS5fcGxheWVyLnZpZGVvRWxlbWVudFN0YXR1czpcInVuaW5pdFwiXSxWJiZiLnRvdGFsSW50ZXJGcmFtZURlbGF5IT09dm9pZCAwJiZiLnRvdGFsU3F1YXJlZEludGVyRnJhbWVEZWxheSE9PXZvaWQgMCYmVi50b3RhbEludGVyRnJhbWVEZWxheSE9PXZvaWQgMCYmVi50b3RhbFNxdWFyZWRJbnRlckZyYW1lRGVsYXkhPT12b2lkIDApe2xldCBsdD1iLnRvdGFsSW50ZXJGcmFtZURlbGF5LVYudG90YWxJbnRlckZyYW1lRGVsYXksdnQ9Yi50b3RhbFNxdWFyZWRJbnRlckZyYW1lRGVsYXktVi50b3RhbFNxdWFyZWRJbnRlckZyYW1lRGVsYXksRHQ9Yi5mcmFtZXNEZWNvZGVDb3VudC1WLmZyYW1lc0RlY29kZUNvdW50LGNlPWx0L0R0KjFlMyxXdD1NYXRoLnJvdW5kKDFlMypNYXRoLnNxcnQoKHZ0LU1hdGgucG93KGx0LDIpL0R0KS9EdCkpOyFpc05hTihXdCkmJmNlK1d0Pk1hdGgubWF4KDMqY2UsY2UrMTUwKSYmKHdbUWUuSV9GUkFNRV9ERUxBWV09V3QpO31yZXR1cm4gd30oYS5fdmlkZW9TU1JDLGUsbixhLnZpZGVvVHJhY2ssbD09PSEwLHRoaXMubmVlZFVwbG9hZFJlbmRlckZyZWV6ZVRpbWUsaSk6dm9pZCAwO3UmJihkLnZpZGVvPXUpO31pZihjLmhhcyhRLkFVRElPKSYmYS5hdWRpb1RyYWNrKXtsZXQgbD1hLmF1ZGlvVHJhY2s/ZnVuY3Rpb24odSxoLHAsZyxFKXtsZXQgZj1oLmF1ZGlvUmVjdi5maW5kKFY9PlYuc3NyYz09PXUpO2lmKCFmKXJldHVybjtsZXQgUz17fSxDPXAmJnAuYXVkaW9SZWN2LmZpbmQoVj0+Vi5zc3JjPT09dSkse3JlY2VpdmVkRnJhbWVzOkEsZHJvcHBlZEZyYW1lczpifT1mO3ZhciB3LEQ7aWYoc3QoUyxtaS5KSVRURVIsZi5qaXR0ZXJNcyksQSE9bnVsbCYmYiE9bnVsbCYmKFNbbWkuRlJFRVpFXT0oRD1iLCh3PUEpPT09MHx8MTAwKkQvdz4yMD8xOjApKSxDKXtsZXQgVj1oLnRpbWVzdGFtcC1wLnRpbWVzdGFtcHx8KEU/UnI6UnIqYm8pO2YucGFja2V0cyE9bnVsbCYmQy5wYWNrZXRzIT1udWxsJiZzdChTLG1pLlBBQ0tBR0VfUkFURSwxZTMqKGYucGFja2V0cy1DLnBhY2tldHMpL1YpLEMuYnl0ZXMhPW51bGwmJmYuYnl0ZXMhPW51bGwmJnN0KFMsbWkuQklUUkFURSw4KihmLmJ5dGVzLUMuYnl0ZXMpL1YpLGYucGFja2V0c0xvc3QhPW51bGwmJkMucGFja2V0c0xvc3QhPW51bGwmJnN0KFMsbWkuUEFDS0FHRV9MT1NULGYucGFja2V0c0xvc3QtQy5wYWNrZXRzTG9zdCk7fWlmKEUpcmV0dXJuIFM7bGV0IGs9MTAwKmcuX3NvdXJjZS5nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCksQj1mLm91dHB1dExldmVsO2lmKEIhPW51bGwpe2xldCBWPU1hdGguY2VpbCg1MCpNYXRoLmxvZzEwKDEwMCpCKzEpKTtzdChTLFQwLkxFVkVMLFYpO31pZihzdChTLG1pLlBDTV9MRVZFTCxrKSxnJiYoU1ttaS5ESVNBQkxFRF09Zy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkJiZnLl9tZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ/MDoxKSxzdChTLG1pLkpJVFRFUl9CVUZGRVIsZi5qaXR0ZXJCdWZmZXJNcyksc3QoUyxtaS5DVVJSRU5UX0RFTEFZLGYuaml0dGVyQnVmZmVyTXMpLFNbbWkuUExBWUVSX1NUQVRVU109b19bRW4uZ2V0UGxheWVyU3RhdGUoZy5nZXRUcmFja0lkKCkpXSxDKXtsZXQgVj1mLmNvbmNlYWxlZFNhbXBsZXMtQy5jb25jZWFsZWRTYW1wbGVzO1Y+MCYmc3QoUyxtaS5DT05DRUFMRURfU0FNUExFUyxWKTt9cmV0dXJuIFN9KGEuX2F1ZGlvU1NSQyxlLG4sYS5hdWRpb1RyYWNrLGkpOnZvaWQgMDtsJiYoZC5hdWRpbz1sKTt9KGQudmlkZW98fGQuYXVkaW8pJiZvLnB1c2goZCk7fSksdGhpcy5uZWVkVXBsb2FkUmVuZGVyRnJlZXplVGltZT0hdGhpcy5uZWVkVXBsb2FkUmVuZGVyRnJlZXplVGltZSxvfXN0YXJ0VXBsb2FkVHJhbnNwb3J0U3RhdHMoKXt0aGlzLnVwbG9hZFRyYW5zcG9ydFN0YXJ0ZWQ9ITAsdGhpcy51cGxvYWRXUlRDU3RhdHNUaW1lcnx8dGhpcy5zdGFydFVwbG9hZFdSVENTdGF0cygpO31zdG9wVXBsb2FkVHJhbnNwb3J0U3RhdHMoKXt0aGlzLnVwbG9hZFRyYW5zcG9ydFN0YXJ0ZWQ9ITE7fXN0YXJ0VXBsb2FkT3V0Ym91bmRTdGF0cygpe3RoaXMudXBsb2FkT3V0Ym91bmRTdGFydGVkfHwodGhpcy51cGxvYWRPdXRib3VuZFN0YXJ0ZWQ9ITAsdGhpcy51cGxvYWRXUlRDU3RhdHNUaW1lcnx8dGhpcy5zdGFydFVwbG9hZFdSVENTdGF0cygpLHRoaXMudXBsb2FkT3V0Ym91bmREZW5vaXNlclN0YXRzVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsb2FkT3V0Ym91bmREZW5vaXNlclN0YXRzVGltZXIpLHRoaXMudXBsb2FkT3V0Ym91bmREZW5vaXNlclN0YXRzVGltZXI9d2luZG93LnNldEludGVydmFsKCgpPT57aWYoIXRoaXMucmVxdWVzdEFsbFRyYWNrc3x8IXRoaXMucmVxdWVzdFVwbG9hZClyZXR1cm47bGV0IGU9KHRoaXMucmVxdWVzdEFsbFRyYWNrcygpfHxbXSkuZmluZChuPT5uIGluc3RhbmNlb2Ygb3UpO2lmKGUmJmUuX2V4dGVybmFsLmdldERlbm9pc2VyU3RhdHMpe2xldCBuPWUuX2V4dGVybmFsLmdldERlbm9pc2VyU3RhdHMoKTtuJiZ0aGlzLnJlcXVlc3RVcGxvYWQod2MuREVOT0lTRVJfU1RBVFMsbik7fX0sMmUzKSx0aGlzLnVwbG9hZEV4dFN0YXRzVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsb2FkRXh0U3RhdHNUaW1lciksdGhpcy51cGxvYWRFeHRTdGF0c1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKT0+eyF0aGlzLnJlcXVlc3RBbGxUcmFja3N8fCF0aGlzLnJlcXVlc3RVcGxvYWR8fHRoaXMucmVxdWVzdEFsbFRyYWNrcygpLmZvckVhY2goZT0+e2UuZ2V0UHJvY2Vzc29yU3RhdHMoKS5mb3JFYWNoKG49Pnt0aGlzLnJlcXVlc3RVcGxvYWQmJnRoaXMucmVxdWVzdFVwbG9hZChuLnR5cGUsbi5zdGF0cyk7fSk7fSk7fSwyZTMpKTt9c3RvcFVwbG9hZE91dGJvdW5kU3RhdHMoKXt0aGlzLnVwbG9hZE91dGJvdW5kU3RhcnRlZCYmKHRoaXMudXBsb2FkT3V0Ym91bmRTdGFydGVkPSExLHRoaXMubGFzdFNlbmRTdGF0cyYmKHRoaXMubGFzdFNlbmRTdGF0cy52aWRlb1NlbmQ9W10sdGhpcy5sYXN0U2VuZFN0YXRzLmF1ZGlvU2VuZD1bXSx0aGlzLmxhc3RTZW5kU3RhdHM9dm9pZCAwKSx0aGlzLnVwbG9hZE91dGJvdW5kRGVub2lzZXJTdGF0c1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbG9hZE91dGJvdW5kRGVub2lzZXJTdGF0c1RpbWVyKSx0aGlzLnVwbG9hZE91dGJvdW5kRGVub2lzZXJTdGF0c1RpbWVyPXZvaWQgMCk7fXN0YXJ0VXBsb2FkSW5ib3VuZFN0YXRzKCl7dGhpcy51cGxvYWRJbmJvdW5kU3RhcnRlZHx8KHRoaXMudXBsb2FkSW5ib3VuZFN0YXJ0ZWQ9ITAsdGhpcy51cGxvYWRXUlRDU3RhdHNUaW1lcnx8dGhpcy5zdGFydFVwbG9hZFdSVENTdGF0cygpLHRoaXMudXBsb2FkSW5ib3VuZEV4dFN0YXRzVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsb2FkSW5ib3VuZEV4dFN0YXRzVGltZXIpLHRoaXMudXBsb2FkSW5ib3VuZEV4dFN0YXRzVGltZXI9d2luZG93LnNldEludGVydmFsKCgpPT57IXRoaXMucmVxdWVzdFVwbG9hZHx8IXRoaXMucmVxdWVzdFJlbW90ZU1lZGlhfHwodGhpcy5yZXF1ZXN0UmVtb3RlTWVkaWEoKXx8W10pLmZvckVhY2goZT0+e2xldFtuLGldPWU7aS5oYXMoUS5WSURFTykmJm4udmlkZW9UcmFjayYmbi52aWRlb1RyYWNrLmdldFByb2Nlc3NvclN0YXRzKCkuZm9yRWFjaChyPT57dGhpcy5yZXF1ZXN0VXBsb2FkJiZ0aGlzLnJlcXVlc3RVcGxvYWQoci50eXBlLHIuc3RhdHMpO30pLGkuaGFzKFEuQVVESU8pJiZuLmF1ZGlvVHJhY2smJm4uYXVkaW9UcmFjay5nZXRQcm9jZXNzb3JTdGF0cygpLmZvckVhY2gocj0+e3RoaXMucmVxdWVzdFVwbG9hZCYmdGhpcy5yZXF1ZXN0VXBsb2FkKHIudHlwZSxyLnN0YXRzKTt9KTt9KTt9LDJlMykpO31zdG9wVXBsb2FkSW5ib3VuZFN0YXRzKCl7dGhpcy51cGxvYWRJbmJvdW5kU3RhcnRlZCYmKHRoaXMudXBsb2FkSW5ib3VuZFN0YXJ0ZWQ9ITEsdGhpcy5sYXN0UmVjdlN0YXRzJiYodGhpcy5sYXN0UmVjdlN0YXRzLnZpZGVvUmVjdj1bXSx0aGlzLmxhc3RSZWN2U3RhdHMuYXVkaW9SZWN2PVtdLHRoaXMubGFzdFJlY3ZTdGF0cz12b2lkIDApKTt9c3RhcnRVcGxvYWRFeHRlbnNpb25Vc2FnZVN0YXRzKCl7aWYodGhpcy51cGxvYWRFeHRlbnNpb25Vc2FnZVN0YXJ0ZWQpcmV0dXJuO3RoaXMudXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGFydGVkPSEwLHRoaXMudXBsb2FkRXh0VXNhZ2VTdGF0c1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbG9hZEV4dFVzYWdlU3RhdHNUaW1lcik7bGV0IGU9bmV3IE1hcDt0aGlzLnVwbG9hZEV4dFVzYWdlU3RhdHNUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoYXN5bmMoKT0+e2xldCBuPURhdGUubm93KCksaT17Y29ubmVjdGlvbkludGVydmFsOnYoXCJFWFRFTlNJT05fVVNBR0VfVVBMT0FEX0lOVEVSVkFMXCIpLzFlMyxkZXRhaWxzOltdLGx0czpufSxyPVtdLG89dGhpcy5yZXF1ZXN0QWxsVHJhY2tzJiZ0aGlzLnJlcXVlc3RBbGxUcmFja3MoKXx8W107Zm9yKGxldCBkIG9mIG8pIWQubXV0ZWQmJmQuZW5hYmxlZCYmKHI9ci5jb25jYXQoYXdhaXQgZC5nZXRQcm9jZXNzb3JVc2FnZSgpKSk7bGV0IHM9dGhpcy5yZXF1ZXN0UmVtb3RlTWVkaWEmJnRoaXMucmVxdWVzdFJlbW90ZU1lZGlhKCl8fFtdO2ZvcihsZXRbZCxsXW9mIHMpbC5oYXMoUS5WSURFTykmJmQudmlkZW9UcmFjayYmKHI9ci5jb25jYXQoYXdhaXQgZC52aWRlb1RyYWNrLmdldFByb2Nlc3NvclVzYWdlKCkpKSxsLmhhcyhRLkFVRElPKSYmZC5hdWRpb1RyYWNrJiYocj1yLmNvbmNhdChhd2FpdCBkLmF1ZGlvVHJhY2suZ2V0UHJvY2Vzc29yVXNhZ2UoKSkpO2lmKHIubGVuZ3RoPT09MClyZXR1cm47aS5kZXRhaWxzPWZ1bmN0aW9uKGQsbCl7bGV0IHU9e307Zm9yKGxldHtpZDpFLHZhbHVlOmYsbGV2ZWw6UyxkaXJlY3Rpb246Q31vZiBkKXt2YXIgaDtsZXQgQT0oaD1sLmdldChFKSkhPT1udWxsJiZoIT09dm9pZCAwP2g6MCxiPWY9PT0yP0ErdihcIkVYVEVOU0lPTl9VU0FHRV9VUExPQURfSU5URVJWQUxcIikvMWUzOkE7dmFyIHAsZztsLnNldChFLGIpLHVbRV0/KGY9PT0yJiYodVtFXS52YWx1ZT1mKSxTPnVbRV0ubGV2ZWwmJih1W0VdLmxldmVsPVMpLEM9PT1cInJlbW90ZVwiJiYodVtFXS5yZW1vdGVVaWRDb3VudCs9MSksdVtFXS50b3RhbFRzPShwPWwuZ2V0KEUpKSE9PW51bGwmJnAhPT12b2lkIDA/cDowKTp1W0VdPXt2YWx1ZTpmLGxldmVsOlMscmVtb3RlVWlkQ291bnQ6Qz09PVwibG9jYWxcIj8wOjEsdG90YWxUczooZz1sLmdldChFKSkhPT1udWxsJiZnIT09dm9pZCAwP2c6MH07fXJldHVybiBPYmplY3Qua2V5cyh1KS5tYXAoRT0+e2xldHtsZXZlbDpmLHZhbHVlOlMsdG90YWxUczpDfT11W0VdO3JldHVybiB7aWQ6RSxsZXZlbDpmLHZhbHVlOlMsdG90YWxUczpDfX0pfShyLGUpO2xldCBhPURhdGUubm93KCksYz1hPm4/YTpuKzE7dGhpcy5yZXF1ZXN0VXBsb2FkJiZ0aGlzLnJlcXVlc3RVcGxvYWQod2MuRVhURU5TSU9OX1VTQUdFX1NUQVRTLHt1c2FnZVN0YXRzOmksc2VuZFRzOmN9KTt9LHYoXCJFWFRFTlNJT05fVVNBR0VfVVBMT0FEX0lOVEVSVkFMXCIpKTt9c3RvcFVwbG9hZEV4dGVuc2lvblVzYWdlU3RhdHMoKXt0aGlzLnVwbG9hZEV4dGVuc2lvblVzYWdlU3RhcnRlZCYmKHRoaXMudXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGFydGVkPSExLHRoaXMudXBsb2FkRXh0VXNhZ2VTdGF0c1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbG9hZEV4dFVzYWdlU3RhdHNUaW1lciksdGhpcy51cGxvYWRFeHRVc2FnZVN0YXRzVGltZXI9dm9pZCAwKTt9fSxpcj1jbGFzc3tnZXQgaGFzVmlkZW8oKXtyZXR1cm4gdGhpcy5fdmlkZW9fZW5hYmxlZF8mJiF0aGlzLl92aWRlb19tdXRlZF8mJnRoaXMuX3ZpZGVvX2FkZGVkX31nZXQgaGFzQXVkaW8oKXtyZXR1cm4gdGhpcy5fYXVkaW9fZW5hYmxlZF8mJiF0aGlzLl9hdWRpb19tdXRlZF8mJnRoaXMuX2F1ZGlvX2FkZGVkX31nZXQgYXVkaW9UcmFjaygpe2lmKHRoaXMuaGFzQXVkaW98fHRoaXMuX2F1ZGlvX3ByZV9zdWJzY3JpYmVkKXJldHVybiB0aGlzLl9hdWRpb1RyYWNrfWdldCB2aWRlb1RyYWNrKCl7aWYodGhpcy5oYXNWaWRlb3x8dGhpcy5fdmlkZW9fcHJlX3N1YnNjcmliZWQpcmV0dXJuIHRoaXMuX3ZpZGVvVHJhY2t9Z2V0IGRhdGFDaGFubmVscygpe3JldHVybiB0aGlzLl9kYXRhQ2hhbm5lbHN9Y29uc3RydWN0b3IoZSxuKXtUKHRoaXMsXCJ1aWRcIix2b2lkIDApLFQodGhpcyxcIl91aW50aWRcIix2b2lkIDApLFQodGhpcyxcIl90cnVzdF9pbl9yb29tX1wiLCEwKSxUKHRoaXMsXCJfdHJ1c3RfYXVkaW9fZW5hYmxlZF9zdGF0ZV9cIiwhMCksVCh0aGlzLFwiX3RydXN0X3ZpZGVvX2VuYWJsZWRfc3RhdGVfXCIsITApLFQodGhpcyxcIl90cnVzdF9hdWRpb19tdXRlX3N0YXRlX1wiLCEwKSxUKHRoaXMsXCJfdHJ1c3RfdmlkZW9fbXV0ZV9zdGF0ZV9cIiwhMCksVCh0aGlzLFwiX2F1ZGlvX211dGVkX1wiLCExKSxUKHRoaXMsXCJfdmlkZW9fbXV0ZWRfXCIsITEpLFQodGhpcyxcIl9hdWRpb19lbmFibGVkX1wiLCEwKSxUKHRoaXMsXCJfdmlkZW9fZW5hYmxlZF9cIiwhMCksVCh0aGlzLFwiX2F1ZGlvX2FkZGVkX1wiLCExKSxUKHRoaXMsXCJfdmlkZW9fYWRkZWRfXCIsITEpLFQodGhpcyxcIl9pc19wcmVfY3JlYXRlZFwiLCExKSxUKHRoaXMsXCJfdmlkZW9fcHJlX3N1YnNjcmliZWRcIiwhMSksVCh0aGlzLFwiX2F1ZGlvX3ByZV9zdWJzY3JpYmVkXCIsITEpLFQodGhpcyxcIl90cnVzdF92aWRlb19zdHJlYW1fYWRkZWRfc3RhdGVfXCIsITApLFQodGhpcyxcIl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVfXCIsITApLFQodGhpcyxcIl9hdWRpb1RyYWNrXCIsdm9pZCAwKSxUKHRoaXMsXCJfdmlkZW9UcmFja1wiLHZvaWQgMCksVCh0aGlzLFwiX2RhdGFDaGFubmVsc1wiLFtdKSxUKHRoaXMsXCJfYXVkaW9TU1JDXCIsdm9pZCAwKSxUKHRoaXMsXCJfdmlkZW9TU1JDXCIsdm9pZCAwKSxUKHRoaXMsXCJfYXVkaW9PcnRjXCIsdm9pZCAwKSxUKHRoaXMsXCJfdmlkZW9PcnRjXCIsdm9pZCAwKSxUKHRoaXMsXCJfY25hbWVcIix2b2lkIDApLFQodGhpcyxcIl9ydHhTc3JjSWRcIix2b2lkIDApLFQodGhpcyxcIl92aWRlb01pZFwiLHZvaWQgMCksVCh0aGlzLFwiX2F1ZGlvTWlkXCIsdm9pZCAwKSx0aGlzLnVpZD1lLHRoaXMuX3VpbnRpZD1uO319LFVpPWZ1bmN0aW9uKHQpe3JldHVybiB0LlNFTkRfT05MWT1cIlNFTkRfT05MWVwiLHQuUkVDRUlWRV9PTkxZPVwiUkVDRUlWRV9PTkxZXCIsdH0oe30pO2Z1bmN0aW9uIHVXKHQsZSl7dmFyIG47bGV0IGk7c3dpdGNoKGUpe2Nhc2UgVS5Mb2NhbEF1ZGlvVHJhY2s6aT1DdC5BdWRpbzticmVhaztjYXNlIFUuTG9jYWxWaWRlb1RyYWNrOmk9VyhuPXQuX2hpbnRzKS5jYWxsKG4sR3QuU0NSRUVOX1RSQUNLKT9DdC5TY3JlZW46Q3QuSGlnaDticmVhaztjYXNlIFUuTG9jYWxWaWRlb0xvd1RyYWNrOmk9Q3QuTG93O31yZXR1cm4gaX1mdW5jdGlvbiBsbSh0KXtsZXQgZT1mdCgpO2lmKHQuc29tZShuPT5uLl9ieXBhc3NXZWJBdWRpbykpdGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpb1wiKTtpZighZS53ZWJBdWRpb01lZGlhU3RyZWFtRGVzdCl0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJjYW5ub3QgcHVibGlzaCBtdWx0aXBsZSB0cmFja3MgYmVjYXVzZSB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBhdWRpbyBtaXhpbmdcIil9ZnVuY3Rpb24gRV8odCxlKXtsbSh0KTtsZXQgbj1uZXcgZ2U7cmV0dXJuIHQuZm9yRWFjaChpPT5uLmFkZEF1ZGlvVHJhY2soaSkpLG59dmFyIFR2LFN2LFJ2LEN2LEl2LHZ2LHl2LEF2LGJ2LHd2LE92LEh0O2Z1bmN0aW9uIE52KHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4saSk7fXJldHVybiBufWZ1bmN0aW9uIFlkKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXSE9bnVsbD9hcmd1bWVudHNbZV06e307ZSUyP052KE9iamVjdChuKSwhMCkuZm9yRWFjaChmdW5jdGlvbihpKXtUKHQsaSxuW2ldKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpOdihPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24oaSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSkpO30pO31yZXR1cm4gdH12YXIgQW49KFR2PVBpKFVpLlNFTkRfT05MWSksU3Y9UGkoVWkuU0VORF9PTkxZKSxSdj1QaSgpLEN2PVBpKFVpLlJFQ0VJVkVfT05MWSksSXY9UGkoVWkuUkVDRUlWRV9PTkxZKSx2dj1QaShVaS5SRUNFSVZFX09OTFkpLHl2PVBpKFVpLlJFQ0VJVkVfT05MWSksQXY9UGkoVWkuUkVDRUlWRV9PTkxZKSxidj1QaShVaS5SRUNFSVZFX09OTFkpLHd2PVBpKCksT3Y9UGkoVWkuUkVDRUlWRV9PTkxZKSxIdD1jbGFzcyBleHRlbmRzIFh0e2dldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1zZXQgc3RhdGUodCl7bGV0IGU9dGhpcy5fc3RhdGU7dGhpcy5fc3RhdGU9dCx0aGlzLmVtaXQodHQuU3RhdGVDaGFuZ2UsZSx0aGlzLl9zdGF0ZSk7fWNvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSxUKHRoaXMsXCJpc1BsYW5CXCIsITEpLFQodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxUKHRoaXMsXCJzdGF0c1VwbG9hZGVyXCIsdm9pZCAwKSxUKHRoaXMsXCJzZW5kQ29ubmVjdGlvblwiLHZvaWQgMCksVCh0aGlzLFwicmVjdkNvbm5lY3Rpb25cIix2b2lkIDApLFQodGhpcyxcImxvY2FsVHJhY2tNYXBcIixuZXcgTWFwKSxUKHRoaXMsXCJyZW1vdGVVc2VyTWFwXCIsbmV3IE1hcCksVCh0aGlzLFwibG9jYWxEYXRhQ2hhbm5lbHNcIixbXSksVCh0aGlzLFwicGVuZGluZ0xvY2FsVHJhY2tzXCIsW10pLFQodGhpcyxcInBlbmRpbmdSZW1vdGVUcmFja3NcIixbXSksVCh0aGlzLFwic3RhdHNDb2xsZWN0b3JcIix2b2lkIDApLFQodGhpcyxcImR0bHNGYWlsZWRDb3VudFwiLDApLFQodGhpcyxcInNlbmRNdXRleFwiLG5ldyB6ZShcIlAyUENoYW5uZWwyLXNlbmQtbXV0ZXhcIikpLFQodGhpcyxcInJlY3ZNdXRleFwiLG5ldyB6ZShcIlAyUENoYW5uZWwyLXJlY3YtbXV0ZXhcIikpLFQodGhpcyxcIl9zdGF0ZVwiLFJ0LkRpc2Nvbm5lY3RlZCksVCh0aGlzLFwiX3Jlc3RhcnRTdGF0ZXNcIixbXCJkaXNjb25uZWN0ZWRcIixcImZhaWxlZFwiXSksVCh0aGlzLFwicmVjb25uZWN0SW50ZXJ2YWxcIix2b2lkIDApLFQodGhpcyxcInVwbG9hZFVucGxpbmtTdGFydGVkXCIsITEpLFQodGhpcyxcInVwbG9hZERvd25saW5rU3RhcnRlZFwiLCExKSxUKHRoaXMsXCJ1cGxpbmtTdGF0ZVVwbG9hZEludGVydmFsXCIsdm9pZCAwKSxUKHRoaXMsXCJkb3dubGlua1N0YXRzVXBsb2FkSW50ZXJ2YWxcIix2b2lkIDApLFQodGhpcyxcImhhbmRsZU11dGVMb2NhbFRyYWNrXCIsYXN5bmMobixpLHIpPT57bGV0IG89YXdhaXQgdGhpcy5zZW5kTXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsMi5oYW5kbGVNdXRlTG9jYWxUcmFja1wiKTt0cnl7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1SdC5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgcihuZXcgTihSLklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IGNhbGwgUDJQQ2hhbm5lbDIuaGFuZGxlTXV0ZUxvY2FsVHJhY2sgYmVmb3JlIHNlbmRDb25uZWN0aW9uIGVzdGFibGlzaGVkLlwiKSk7bGV0IGM9dGhpcy5maWx0ZXJUb2JlTXV0ZWRUcmFja3Mobik7aWYoYy5sZW5ndGg9PT0wKXJldHVybiB2b2lkIGkoKTtsZXQgZD1jLmZpbmQocD0+cFswXT09PVwidmlkZW9Mb3dUcmFja1wiKTtkJiZkWzFdLnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKSxhd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLm11dGVMb2NhbChjLm1hcChwPT57bGV0Wyx7aWQ6Z31dPXA7cmV0dXJuIGd9KSk7bGV0IGw9ITE7dmFyIHMsYTtuLnRyYWNrTWVkaWFUeXBlPT09XCJ2aWRlb1wiP2w9ISgocz10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxBdWRpb1RyYWNrKSk9PT1udWxsfHxzPT09dm9pZCAwfHwhcy50cmFjay5fbXV0ZWQpOmw9KChhPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbFZpZGVvVHJhY2spKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEuaWQpPT09dm9pZCAwO2xldCB1PXRoaXMuY3JlYXRlTXV0ZU1lc3NhZ2UoYyk7YXdhaXQga3QodGhpcyx0dC5SZXF1ZXN0TXV0ZUxvY2FsLHUpO2xldCBoPW4udHJhY2tNZWRpYVR5cGU9PT1cInZpZGVvXCI/dG8uTVVURV9MT0NBTF9WSURFTzp0by5NVVRFX0xPQ0FMX0FVRElPO2F3YWl0IGt0KHRoaXMsdHQuUmVxdWVzdFAyUE11dGVMb2NhbCx7YWN0aW9uOmgsbWVzc2FnZTp1LGlzTXV0ZUFsbDpsfSksaSgpO31jYXRjaChjKXtyKGMpO31maW5hbGx5e28oKTt9fSksVCh0aGlzLFwiaGFuZGxlVW5tdXRlTG9jYWxUcmFja1wiLGFzeW5jKG4saSxyKT0+e2xldCBvPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJMb2NraW5nIGZyb20gUDJQQ2hhbm5lbDIuaGFuZGxlVW5tdXRlTG9jYWxUcmFja1wiKTt0cnl7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1SdC5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgcihuZXcgTihSLklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IGNhbGwgUDJQQ2hhbm5lbDIuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayBiZWZvcmUgc2VuZENvbm5lY3Rpb24gZXN0YWJsaXNoZWQuXCIpKTtsZXQgcz10aGlzLmZpbHRlclRvYmVVbm11dGVkVHJhY2tzKG4pO2lmKHMubGVuZ3RoPT09MClyZXR1cm4gdm9pZCBpKCk7YXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi51bm11dGVMb2NhbChzLm1hcChkPT57bGV0Wyx7aWQ6bH1dPWQ7cmV0dXJuIGx9KSk7bGV0IGE9dGhpcy5jcmVhdGVVbm11dGVNZXNzYWdlKHMpLGM9bi50cmFja01lZGlhVHlwZT09PVwidmlkZW9cIj90by5VTk1VVEVfTE9DQUxfVklERU86dG8uVU5NVVRFX0xPQ0FMX0FVRElPO2F3YWl0IGt0KHRoaXMsdHQuUmVxdWVzdFAyUE11dGVMb2NhbCx7YWN0aW9uOmMsbWVzc2FnZTphfSksaSgpO31jYXRjaChzKXtyKHMpO31maW5hbGx5e28oKTt9fSksVCh0aGlzLFwiaGFuZGxlVXBkYXRlVmlkZW9FbmNvZGVyXCIsYXN5bmMobixpLHIpPT57bGV0IG89YXdhaXQgdGhpcy5zZW5kTXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsMi5oYW5kbGVTZXRWaWRlb0VuY29kZXJcIik7dHJ5e2xldCBzPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbFZpZGVvVHJhY2spO2lmKCF0aGlzLnNlbmRDb25uZWN0aW9ufHwhc3x8cy50cmFjayE9PW58fHRoaXMuc3RhdGUhPT1SdC5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgaSgpO2xldHtpZDphLHRyYWNrOmN9PXM7YSYmKGF3YWl0IHRoaXMuc2VuZENvbm5lY3Rpb24udXBkYXRlU2VuZFBhcmFtZXRlcnMoYSxjKSxhd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLnVwZGF0ZUVuY29kZXJDb25maWcoYSxjKSx0aGlzLmVtaXQodHQuVXBkYXRlVmlkZW9FbmNvZGVyLGMpKSxpKCk7fWNhdGNoKHMpe3Iocyk7fWZpbmFsbHl7bygpO319KSxUKHRoaXMsXCJoYW5kbGVVcGRhdGVWaWRlb1NlbmRQYXJhbWV0ZXJzXCIsYXN5bmMobixpLHIpPT57bGV0IG89YXdhaXQgdGhpcy5zZW5kTXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsMi5oYW5kbGVVcGRhdGVWaWRlb1NlbmRQYXJhbWV0ZXJzXCIpO3RyeXtsZXQgcz10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb1RyYWNrKTtpZighdGhpcy5zZW5kQ29ubmVjdGlvbnx8IXN8fHMudHJhY2shPT1ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXJldHVybiB2b2lkIGkoKTtsZXR7aWQ6YSx0cmFjazpjfT1zO2EmJmF3YWl0IHRoaXMuc2VuZENvbm5lY3Rpb24udXBkYXRlU2VuZFBhcmFtZXRlcnMoYSxjKSxpKCk7fWNhdGNoKHMpe3Iocyk7fWZpbmFsbHl7bygpO319KSxUKHRoaXMsXCJoYW5kbGVSZXBsYWNlVHJhY2tcIixhc3luYyhuLGkscixvKT0+e2xldCBzO18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyIGhhbmRsZVJlcGxhY2VUcmFjayBmb3IgW3RyYWNrLWlkLVwiKS5jb25jYXQobi5nZXRUcmFja0lkKCksXCJdXCIpKSx0eXBlb2Ygbz09XCJib29sZWFuXCImJm98fChzPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwyLmhhbmRsZVJlcGxhY2VUcmFja1wiKSk7dHJ5e3ZhciBhO2xldCBkPUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmluZChsPT57bGV0Wyx7dHJhY2s6dX1dPWw7cmV0dXJuIG49PT11fSk7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb258fCFkfHxkWzFdLmlkPT09dm9pZCAwfHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXJldHVybiB2b2lkIGkoKTtpZihhd2FpdCgoYT10aGlzLnNlbmRDb25uZWN0aW9uKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEucmVwbGFjZVRyYWNrKG4sZFsxXS5pZCkpLGRbMF09PT1VLkxvY2FsVmlkZW9UcmFjayYmZnQoKS5zdXBwb3J0RHVhbFN0cmVhbUVuY29kaW5nKXtsZXQgbD10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb0xvd1RyYWNrKTtpZihsKXtsZXQgdT1uLl9tZWRpYVN0cmVhbVRyYWNrLmNsb25lKCk7bC50cmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCksbC50cmFjay5fbWVkaWFTdHJlYW1UcmFjaz11LGwudHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2s9dSxhd2FpdCBuZXcgaigoaCxwKT0+e3RoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKGwudHJhY2ssaCxwLCEwKTt9KTt9fWkoKTt9Y2F0Y2goZCl7cihkKTt9ZmluYWxseXt2YXIgYzsoYz1zKT09PW51bGx8fGM9PT12b2lkIDB8fGMoKTt9fSksVCh0aGlzLFwiaGFuZGxlR2V0TG9jYWxWaWRlb1N0YXRzXCIsbj0+e24odGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRMb2NhbFZpZGVvVHJhY2tTdGF0cygpKTt9KSxUKHRoaXMsXCJoYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHNcIixuPT57bih0aGlzLnN0YXRzQ29sbGVjdG9yLmdldExvY2FsQXVkaW9UcmFja1N0YXRzKCkpO30pLFQodGhpcyxcImhhbmRsZUdldFJlbW90ZVZpZGVvU3RhdHNcIixuPT50aGlzLnN0YXRzQ29sbGVjdG9yLmdldFJlbW90ZVZpZGVvVHJhY2tTdGF0cyhuLnVpZClbbi51aWRdKSxUKHRoaXMsXCJoYW5kbGVHZXRSZW1vdGVBdWRpb1N0YXRzXCIsbj0+dGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRSZW1vdGVBdWRpb1RyYWNrU3RhdHMobi51aWQpW24udWlkXSksdGhpcy5zdG9yZT10LHRoaXMuc3RhdHNDb2xsZWN0b3I9ZSx0aGlzLnN0YXRzQ29sbGVjdG9yLmFkZFAyUENoYW5uZWwodGhpcyksdGhpcy5zdGF0c1VwbG9hZGVyPW5ldyBwdSh0KSx0aGlzLmJpbmRTdGF0c1VwbG9hZGVyRXZlbnRzKCksdGhpcy5yZWNvbm5lY3RJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCk9PntbdGhpcy5zZW5kQ29ubmVjdGlvbix0aGlzLnJlY3ZDb25uZWN0aW9uXS5mb3JFYWNoKG49PntuJiYobi5pY2VDb25uZWN0aW9uU3RhdGUhPT1cImRpc2Nvbm5lY3RlZFwiJiZuLmljZUNvbm5lY3Rpb25TdGF0ZSE9PVwiZmFpbGVkXCJ8fHRoaXMuaGFuZGxlRGlzY29ubmVjdChuLmRpcmVjdGlvbikpO30pO30sdihcIklDRV9SRVNUQVJUX0lOVEVSVkFMXCIpKTt9YXN5bmMgc3RhcnRQMlBDb25uZWN0aW9uKHQsZSl7dGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwicDJwIG1vZGUgZG9lcyBub3Qgc3VwcG9ydCBzdGFydFAyUENvbm5lY3Rpb24uXCIpfWFzeW5jIGNvbm5lY3QodCl7dGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwicDJwIG1vZGUgZG9lcyBub3Qgc3VwcG9ydCBjb25uZWN0LlwiKX1hc3luYyBzdGFydFAyUCh0LGUpe2xldCBuO3RyeXtpZihlKXt0aGlzLnJlY3ZDb25uZWN0aW9uJiYoXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLnN0YXJ0UDJQIHJlc2V0IHJlY3ZDb25uZWN0aW9uLlwiKSksdGhpcy5yZWN2Q29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLnJlY3ZDb25uZWN0aW9uKSksbj1hd2FpdCB0aGlzLnJlY3ZNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLnN0YXJ0UDJQXCIpLHRoaXMucmVjdkNvbm5lY3Rpb249bmV3IG12KHQsdGhpcy5zdG9yZSxjbi5SRUNFSVZFX09OTFkpLHRoaXMuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5yZWN2Q29ubmVjdGlvbik7bGV0IGk9YXdhaXQgdGhpcy5yZWN2Q29ubmVjdGlvbi5lc3RhYmxpc2goZSk7cmV0dXJuIHtpY2VQYXJhbWV0ZXJzOmkuaWNlUGFyYW1ldGVycyxkdGxzUGFyYW1ldGVyczppLmR0bHNQYXJhbWV0ZXJzLHNkcDppLnNkcH19e3RoaXMuc3RhdGU9UnQuTmV3LHRoaXMuc2VuZENvbm5lY3Rpb24mJihfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwuc3RhcnRQMlAgcmVzZXQgc2VuZENvbm5lY3Rpb24uXCIpKSx0aGlzLnNlbmRDb25uZWN0aW9uLmNsb3NlKCksdGhpcy51bmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuc2VuZENvbm5lY3Rpb24pKSxuPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwuc3RhcnRQMlBcIiksdGhpcy5zZW5kQ29ubmVjdGlvbj1uZXcgbXYodCx0aGlzLnN0b3JlKSx0aGlzLnN0b3JlLnBlZXJDb25uZWN0aW9uU3RhcnQoKSx0aGlzLmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuc2VuZENvbm5lY3Rpb24pO2xldCBpPWF3YWl0IHRoaXMuc2VuZENvbm5lY3Rpb24uZXN0YWJsaXNoKCk7cmV0dXJuIHtpY2VQYXJhbWV0ZXJzOmkuaWNlUGFyYW1ldGVycyxkdGxzUGFyYW1ldGVyczppLmR0bHNQYXJhbWV0ZXJzLHNkcDppLnNkcH19fWZpbmFsbHl7biYmbigpO319YXN5bmMgcDJwQ29ubmVjdCh0KXtpZighdGhpcy5zZW5kQ29ubmVjdGlvbil0aHJvdyBuZXcgTihSLlVORVhQRUNURURfRVJST1IsXCJDYW5ub3QgUDJQQ2hhbm5lbDIucDJwQ29ubmVjdCBiZWZvcmUgUDJQQ2hhbm5lbDIuc3RhcnRQMlBDb25uZWN0aW9uIC5cIik7dGhpcy5zdG9yZS5wZWVyQ29ubmVjdGlvblN0YXJ0KCksYXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi5jb25uZWN0KHQpLHRoaXMuc3RhdHNVcGxvYWRlci5zdGFydFVwbG9hZFRyYW5zcG9ydFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGF0cygpLHRoaXMuc3RhdGU9UnQuQ29ubmVjdGVkO31hc3luYyBhZGRSZW1vdGVDYW5kaWRhdGUodCxlKXtpZihlPT09Y24uUkVDRUlWRV9PTkxZKXtpZighdGhpcy5zZW5kQ29ubmVjdGlvbil0aHJvdyBuZXcgTihSLlVORVhQRUNURURfRVJST1IsXCJDYW5ub3QgUDJQQ2hhbm5lbDIuY29ubmVjdCBiZWZvcmUgUDJQQ2hhbm5lbDIuYWRkUmVtb3RlQ2FuZGlkYXRlIC5cIik7YXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi5hZGRSZW1vdGVDYW5kaWRhdGUodCk7fWVsc2Uge2lmKCF0aGlzLnJlY3ZDb25uZWN0aW9uKXRocm93IG5ldyBOKFIuVU5FWFBFQ1RFRF9FUlJPUixcIkNhbm5vdCBQMlBDaGFubmVsMi5jb25uZWN0IGJlZm9yZSBQMlBDaGFubmVsMi5hZGRSZW1vdGVDYW5kaWRhdGUgLlwiKTthd2FpdCB0aGlzLnJlY3ZDb25uZWN0aW9uLmFkZFJlbW90ZUNhbmRpZGF0ZSh0KTt9fXB1Ymxpc2godCxlLG4pe3ZhciBpPXRoaXM7cmV0dXJuIEJpKGZ1bmN0aW9uKigpe2xldCByPXlpZWxkIFR0KGkuc2VuZE11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwucHVibGlzaFwiKSk7dHJ5e2lmKCFpLnNlbmRDb25uZWN0aW9ufHxpLnN0YXRlIT09UnQuQ29ubmVjdGVkKXtpLnRocm93SWZUcmFja1R5cGVOb3RNYXRjaCh0KTtsZXQgZD10LmZpbHRlcihsPT5pLnBlbmRpbmdMb2NhbFRyYWNrcy5pbmRleE9mKGwpPT09LTEpO3JldHVybiB2b2lkKGkucGVuZGluZ0xvY2FsVHJhY2tzPWkucGVuZGluZ0xvY2FsVHJhY2tzLmNvbmNhdChkKSl9aS5zdG9yZS5wdWJJZD1pLnN0b3JlLnB1YklkKzEscWUubWFya1B1Ymxpc2hTdGFydChpLnN0b3JlLmNsaWVudElkLGkuc3RvcmUucHViSWQpO2xldCBvPWkuZmlsdGVyVG9iZVB1Ymxpc2hlZFRyYWNrcyh0LGUsbik7aWYoby5sZW5ndGg9PT0wKXJldHVybiB2b2lkKHlpZWxkIFR0KGkudHJ5VG9Vbm11dGVBdWRpbyh0KSkpO28uZm9yRWFjaChkPT57bGV0e3RyYWNrOmwsdHlwZTp1fT1kLGg9RGF0ZS5ub3coKTtpLnN0b3JlLnB1Ymxpc2gobC5nZXRUcmFja0lkKCksdT09PVUuTG9jYWxBdWRpb1RyYWNrP1wiYXVkaW9cIjpcInZpZGVvXCIsaCk7fSksaS5iaW5kTG9jYWxUcmFja0V2ZW50cyhvKTtsZXQgcz15aWVsZCBUdChpLnNlbmRDb25uZWN0aW9uLnNlbmQoby5tYXAoZD0+e2xldHt0cmFjazpsfT1kO3JldHVybiBsfSksaS5zdG9yZS5jb2RlYyxpLnN0b3JlLmF1ZGlvQ29kZWMpKSxhPSh5aWVsZCBUdChzLm5leHQoKSkpLnZhbHVlLGM9aS5jcmVhdGVHYXRld2F5UHVibGlzaE1lc3NhZ2UobyxhKTt0cnl7eWllbGQgYzt9Y2F0Y2goZCl7dGhyb3cgcy50aHJvdyhkKSxkPy5jb2RlPT09Ui5XU19BQk9SVCYmby5mb3JFYWNoKGw9PntsZXR7dHJhY2s6dX09bDtpLnBlbmRpbmdMb2NhbFRyYWNrcy5pbmRleE9mKHUpPT09LTEmJmkucGVuZGluZ0xvY2FsVHJhY2tzLnB1c2godSk7fSksaS51bmJpbmRMb2NhbFRyYWNrRXZlbnRzKG8pLGR9eWllbGQgVHQocy5uZXh0KCkpLG8uZm9yRWFjaChkPT57bGV0e3R5cGU6bH09ZDtpLnN0YXRzQ29sbGVjdG9yLmFkZExvY2FsU3RhdHMobCk7fSksaS5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkT3V0Ym91bmRTdGF0cygpLGkuYXNzaWduTG9jYWxUcmFja3MobyxhKSxvLmZvckVhY2goZD0+e2xldHt0cmFjazpsLHR5cGU6dX09ZCxoPURhdGUubm93KCk7aS5zdG9yZS5wdWJsaXNoKGwuZ2V0VHJhY2tJZCgpLHU9PT1VLkxvY2FsQXVkaW9UcmFjaz9cImF1ZGlvXCI6XCJ2aWRlb1wiLHZvaWQgMCxoKTt9KSxpLnN0YXJ0VXBsb2FkVXBsaW5rU3RhdGUoKTt9ZmluYWxseXtyKCk7fX0pKCl9YXN5bmMgdW5wdWJsaXNoKHQpe2lmKCF0aGlzLnNlbmRDb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXJldHVybiB2b2lkKHQubGVuZ3RoPT09MD90aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5sZW5ndGg9MDp0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcz10aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5maWx0ZXIocj0+IVcodCkuY2FsbCh0LHIpKSk7bGV0IGU9dGhpcy5maWx0ZXJUb2JlVW5wdWJsaXNoZWRUcmFja3ModCk7aWYoZS5sZW5ndGg9PT0wKXJldHVybjtsZXQgbj1lLmZpbmQocj0+clswXT09PVwidmlkZW9Mb3dUcmFja1wiKTtuJiZuWzFdLnRyYWNrLmNsb3NlKCk7bGV0IGk9dGhpcy5jcmVhdGVHYXRld2F5VW5wdWJsaXNoTWVzc2FnZShlKTtpZihhd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLnN0b3BTZW5kaW5nKGUubWFwKHI9PntsZXRbLHtpZDpvfV09cjtyZXR1cm4gb30pKSx0aGlzLndpdGhkcmF3TG9jYWxUcmFja3MoZSksdGhpcy51bmJpbmRMb2NhbFRyYWNrRXZlbnRzKGUubWFwKHI9PntsZXRbbyx7dHJhY2s6c31dPXI7cmV0dXJuIHt0eXBlOm8sdHJhY2s6c319KSksZS5mb3JFYWNoKHI9PntsZXRbb109cjt0aGlzLnN0YXRzQ29sbGVjdG9yLnJlbW92ZUxvY2FsU3RhdHMobyk7fSksdGhpcy5sb2NhbFRyYWNrTWFwLnNpemU9PT0wJiYodGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRPdXRib3VuZFN0YXRzKCksdGhpcy5zdG9wVXBsb2FkVXBsaW5rU3RhdGUoKSksdGhpcy5zZW5kQ29ubmVjdGlvbiYmdGhpcy5zdGF0ZT09PVJ0LkNvbm5lY3RlZClyZXR1cm4gbiYmblsxXS50cmFjay5jbG9zZSgpLGk7dC5mb3JFYWNoKHI9PntsZXQgbz10aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5pbmRleE9mKHIpO28hPT0tMSYmdGhpcy5wZW5kaW5nTG9jYWxUcmFja3Muc3BsaWNlKG8sMSk7fSk7fXN0YXJ0VXBsb2FkVXBsaW5rU3RhdGUoKXtpZih0aGlzLnVwbG9hZFVucGxpbmtTdGFydGVkKXJldHVybjt0aGlzLnVwbG9hZFVucGxpbmtTdGFydGVkPSEwLHRoaXMudXBsaW5rU3RhdGVVcGxvYWRJbnRlcnZhbCYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGxpbmtTdGF0ZVVwbG9hZEludGVydmFsKTtsZXQgdD0oKT0+e2xldCBlPVtdLG49W107QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5mb3JFYWNoKGk9PntsZXRbcix7dHJhY2s6byxzc3JjczpzfV09aSxhPXtzdHJlYW1fdHlwZTp1VyhvLHIpLHNzcmNzOnN9O28uX211dGVkfHwhby5fZW5hYmxlZD9lLnB1c2goYSk6bi5wdXNoKGEpO30pLGUubGVuZ3RoPjAmJmUuZm9yRWFjaChpPT57a3QodGhpcyx0dC5SZXF1ZXN0TXV0ZUxvY2FsLFtpXSk7fSksbi5sZW5ndGg+MCYmbi5mb3JFYWNoKGk9PntrdCh0aGlzLHR0LlJlcXVlc3RVbm11dGVMb2NhbCxbaV0pO30pO307dCgpLHRoaXMudXBsaW5rU3RhdGVVcGxvYWRJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCk9Pnt0KCk7fSwzZTMpO31zdG9wVXBsb2FkVXBsaW5rU3RhdGUoKXt0aGlzLnVwbG9hZFVucGxpbmtTdGFydGVkJiYodGhpcy51cGxvYWRVbnBsaW5rU3RhcnRlZD0hMSx0aGlzLnVwbGlua1N0YXRlVXBsb2FkSW50ZXJ2YWwmJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsaW5rU3RhdGVVcGxvYWRJbnRlcnZhbCkpO31wdWJsaXNoTG93U3RyZWFtKHQpe3JldHVybiBCaShmdW5jdGlvbiooKXt0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJwMnAgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IHB1Ymxpc2hMb3dTdHJlYW0uXCIpfSkoKX1hc3luYyByZXB1Ymxpc2goKXt0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5sZW5ndGg+MCYmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIEVtaXQgUDJQQ2hhbm5lbEV2ZW50cy5SZXF1ZXN0UmVQdWJsaXNoIHRvIHJlcHVibGlzaCB0cmFja3MuXCIpKSxhd2FpdCBHZSh0aGlzLHR0LlJlcXVlc3RSZVB1Ymxpc2gsdGhpcy5wZW5kaW5nTG9jYWxUcmFja3MpLHRoaXMuZW1pdCh0dC5NZWRpYVJlY29ubmVjdEVuZCx0aGlzLnN0b3JlLnVpZCksdGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9W10pO31hc3luYyB1bnB1Ymxpc2hMb3dTdHJlYW0oKXt0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJwMnAgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IHVucHVibGlzaExvd1N0cmVhbS5cIil9YXN5bmMgc3Vic2NyaWJlKHQsZSxuLGkpe3ZhciByO2lmKCF0aGlzLnJlY3ZDb25uZWN0aW9uKXRocm93IG5ldyBOKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW5ub3Qgc3Vic2NyaWJlIHJlbW90ZSB1c2VyIHdoZW4gcmVjdkNvbm5lY3Rpb24gZGlzY29ubmVjdGVkLlwiKTtpZigocj10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KHQpKSE9PW51bGwmJnIhPT12b2lkIDAmJnIuaGFzKGUpKXJldHVybjtsZXR7dHJhY2s6byxtaWQ6cyx0cmFuc2NlaXZlcjphfT1hd2FpdCB0aGlzLnJlY3ZDb25uZWN0aW9uLnJlY2VpdmUoZSxbe3NzcmNJZDpufV0sU3RyaW5nKHQudWlkKSxpKTtlPT09US5BVURJTz8odC5fYXVkaW9UcmFjaz90Ll9hdWRpb1RyYWNrLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKG8pOih0Ll9hdWRpb1RyYWNrPW5ldyBLcyhvLHQudWlkLHQuX3VpbnRpZCx0aGlzLnN0b3JlKSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIGNyZWF0ZSByZW1vdGUgYXVkaW8gdHJhY2s6IFwiKS5jb25jYXQodC5fYXVkaW9UcmFjay5nZXRUcmFja0lkKCkpKSksYSYmdC5fYXVkaW9UcmFjay5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIoYSksdGhpcy5iaW5kUmVtb3RlVHJhY2tFdmVudHModCx0Ll9hdWRpb1RyYWNrKSk6KHQuX3ZpZGVvU1NSQz1uLHQuX3ZpZGVvVHJhY2s/dC5fdmlkZW9UcmFjay5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhvKToodC5fdmlkZW9UcmFjaz1uZXcgSHMobyx0LnVpZCx0Ll91aW50aWQsdGhpcy5zdG9yZSksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBjcmVhdGUgcmVtb3RlIHZpZGVvIHRyYWNrOiBcIikuY29uY2F0KHQuX3ZpZGVvVHJhY2suZ2V0VHJhY2tJZCgpKSkpLGEmJnQuX3ZpZGVvVHJhY2suX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGEpLHRoaXMuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQsdC5fdmlkZW9UcmFjaykpO2xldCBjPXRoaXMucmVtb3RlVXNlck1hcC5nZXQodCk7Yz9jLnNldChlLHMpOnRoaXMucmVtb3RlVXNlck1hcC5zZXQodCxuZXcgTWFwKFtbZSxzXV0pKSx0aGlzLnN0YXRzQ29sbGVjdG9yLmFkZFJlbW90ZVN0YXRzKHQudWlkKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRJbmJvdW5kU3RhdHMoKSx0aGlzLnN0YXJ0VXBsb2FkRG93bmxpbmtTdGF0ZSgpO2xldCBkPXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5maW5kSW5kZXgobD0+e2xldHt1c2VyOnUsa2luZDpofT1sO3JldHVybiB1LnVpZD09PXQudWlkJiZlPT09aH0pO2QhPT0tMSYmKHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5zcGxpY2UoZCwxKSx0aGlzLmVtaXQodHQuTWVkaWFSZWNvbm5lY3RFbmQsdC51aWQpKTt9YXN5bmMgbW9ja1N1YnNjcmliZSh0LGUsbixpKXtpZighdGhpcy5yZWN2Q29ubmVjdGlvbil0aHJvdyBuZXcgTihSLklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IHN1YnNjcmliZSByZW1vdGUgdXNlciB3aGVuIHJlY3ZDb25uZWN0aW9uIGRpc2Nvbm5lY3RlZC5cIik7YXdhaXQgdGhpcy5yZWN2Q29ubmVjdGlvbi5tb2NrUmVjZWl2ZShlLFt7c3NyY0lkOm59XSxTdHJpbmcodC51aWQpLGkpO31hc3luYyB1bnN1YnNjcmliZSh0LGUsbil7bGV0IGk9dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmZpbHRlcihvPT57bGV0e3VzZXI6cyxraW5kOmF9PW87cmV0dXJuIGUhPT12b2lkIDA/cy51aWQ9PT10LnVpZCYmZT09PWE6cy51aWQ9PT10LnVpZH0pO2lmKGkuZm9yRWFjaChvPT57bGV0IHM9dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmluZGV4T2Yobyk7dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLnNwbGljZShzLDEpO30pLHRoaXMucmVjdkNvbm5lY3Rpb258fG58fGkuZm9yRWFjaChvPT57bGV0e2tpbmQ6c309bzt2YXIgYTtpZihzPT09US5BVURJTykoYT10Ll9hdWRpb1RyYWNrKT09PW51bGx8fGE9PT12b2lkIDB8fGEuX2Rlc3Ryb3koKSx0Ll9hdWRpb1RyYWNrPXZvaWQgMDtlbHNlIGlmKHM9PT1RLlZJREVPKXt2YXIgYzsoYz10Ll92aWRlb1RyYWNrKT09PW51bGx8fGM9PT12b2lkIDB8fGMuX2Rlc3Ryb3koKSx0Ll92aWRlb1RyYWNrPXZvaWQgMDt9fSksIXRoaXMucmVjdkNvbm5lY3Rpb24pcmV0dXJuO2xldCByPXRoaXMuZmlsdGVyVG9iZVVuU3Vic2NyaWJlZFRyYWNrcyh0LGUpO3IubGVuZ3RoIT09MCYmKGF3YWl0IHRoaXMucmVjdkNvbm5lY3Rpb24uc3RvcFJlY2VpdmluZyhyLm1hcChvPT57bGV0Wyx7aWQ6c31dPW87cmV0dXJuIHN9KSksdGhpcy53aXRoZHJhd1JlbW90ZVRyYWNrcyhyKSx0aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZT09PTAmJih0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZEluYm91bmRTdGF0cygpLHRoaXMuc3RvcFVwbG9hZERvd25saW5rU3RhdGUoKSksci5mb3JFYWNoKG89PntsZXRbcyx7a2luZDphfV09bzt2YXIgYyxkO2lmKGE9PT1RLlZJREVPJiZzLl92aWRlb1NTUkMmJigoYz10aGlzLnJlY3ZDb25uZWN0aW9uKT09PW51bGx8fGM9PT12b2lkIDB8fGMuc2V0U3RhdHNSZW1vdGVWaWRlb0lzUmVhZHkocy5fdmlkZW9TU1JDLCExKSksYT09PVEuVklERU8pdGhpcy51bmJpbmRSZW1vdGVUcmFja0V2ZW50cyhzLl92aWRlb1RyYWNrKSxufHwoKGQ9cy5fdmlkZW9UcmFjayk9PT1udWxsfHxkPT09dm9pZCAwfHxkLl9kZXN0cm95KCkscy5fdmlkZW9UcmFjaz12b2lkIDApO2Vsc2UgaWYoYT09PVEuQVVESU8pe3ZhciBsO3RoaXMudW5iaW5kUmVtb3RlVHJhY2tFdmVudHMocy5fYXVkaW9UcmFjayksIW4mJigobD1zLl9hdWRpb1RyYWNrKT09PW51bGx8fGw9PT12b2lkIDB8fGwuX2Rlc3Ryb3koKSxzLl9hdWRpb1RyYWNrPXZvaWQgMCk7fX0pLHIuZm9yRWFjaChvPT57bGV0Wyx7a2luZDpzfV09bztrdCh0aGlzLHR0LlJlcXVlc3RQMlBNdXRlUmVtb3RlLHMpO30pKTt9c3RhcnRVcGxvYWREb3dubGlua1N0YXRlKCl7aWYodGhpcy51cGxvYWREb3dubGlua1N0YXJ0ZWQpcmV0dXJuO3RoaXMudXBsb2FkRG93bmxpbmtTdGFydGVkPSEwLHRoaXMuZG93bmxpbmtTdGF0c1VwbG9hZEludGVydmFsJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmRvd25saW5rU3RhdHNVcGxvYWRJbnRlcnZhbCk7bGV0IHQ9KCk9PkFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkuZm9yRWFjaChlPT57bGV0WyxuXT1lO1tRLlZJREVPLFEuQVVESU9dLmZvckVhY2goaT0+e24uaGFzKGkpP2t0KHRoaXMsdHQuUmVxdWVzdFAyUFVubXV0ZVJlbW90ZSxpKTprdCh0aGlzLHR0LlJlcXVlc3RQMlBNdXRlUmVtb3RlLGkpO30pO30pO3QoKSx0aGlzLmRvd25saW5rU3RhdHNVcGxvYWRJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCk9Pnt0KCk7fSwzZTMpO31zdG9wVXBsb2FkRG93bmxpbmtTdGF0ZSgpe3RoaXMudXBsb2FkRG93bmxpbmtTdGFydGVkJiYodGhpcy51cGxvYWREb3dubGlua1N0YXJ0ZWQ9ITEsdGhpcy5kb3dubGlua1N0YXRzVXBsb2FkSW50ZXJ2YWwmJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMuZG93bmxpbmtTdGF0c1VwbG9hZEludGVydmFsKSk7fWdldEFsbERhdGFDaGFubmVscygpe3JldHVybiB0aGlzLmxvY2FsRGF0YUNoYW5uZWxzfWFzeW5jIG1hc3NTdWJzY3JpYmUodCl7dGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwicDJwIG1vZGUgZG9lcyBub3Qgc3VwcG9ydCBtYXNzU3Vic2NyaWJlLlwiKX1hc3luYyBtYXNzU3Vic2NyaWJlTm9Mb2NrKHQpe3Rocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcInAycCBtb2RlIGRvZXMgbm90IHN1cHBvcnQgbWFzc1N1YnNjcmliZU5vTG9jay5cIil9YXN5bmMgbWFzc1Vuc3Vic2NyaWJlKHQpe3Rocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcInAycCBtb2RlIGRvZXMgbm90IHN1cHBvcnQgbWFzc1Vuc3Vic2NyaWJlLlwiKX1hc3luYyBtYXNzVW5zdWJzY3JpYmVOb0xvY2sodCl7dGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwicDJwIG1vZGUgZG9lcyBub3Qgc3VwcG9ydCBtYXNzVW5zdWJzY3JpYmVOb0xvY2suXCIpfWFzeW5jIG11dGVSZW1vdGUodCxlKXtpZighdGhpcy5yZWN2Q29ubmVjdGlvbilyZXR1cm47bGV0IG49dGhpcy5yZW1vdGVVc2VyTWFwLmdldCh0KTtpZighbilyZXR1cm4gdm9pZCBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyLm11dGVSZW1vdGUgaGFzIG5vIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQodC51aWQsXCIuXCIpKTtpZighbi5nZXQoZSkpcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsMi5tdXRlUmVtb3RlIGhhcyBubyByZW1vdGUgdXNlciBcIikuY29uY2F0KHQudWlkLFwiIG1lZGlhIHR5cGUgXCIpLmNvbmNhdChlLFwiLlwiKSk7bGV0IGk9ZT09PVEuVklERU8/dC5fdmlkZW9TU1JDOnQuX2F1ZGlvU1NSQztpIT09dm9pZCAwJiZ0aGlzLnJlY3ZDb25uZWN0aW9uLnNldFN0YXRzUmVtb3RlVmlkZW9Jc1JlYWR5KGksITEpO31hc3luYyB1bm11dGVSZW1vdGUodCxlKXtyZXR1cm4gdGhpcy51bm11dGVSZW1vdGVOb0xvY2sodCxlKX1hc3luYyB1bm11dGVSZW1vdGVOb0xvY2sodCxlKXtpZighdGhpcy5yZWN2Q29ubmVjdGlvbilyZXR1cm47bGV0IG49dGhpcy5yZW1vdGVVc2VyTWFwLmdldCh0KTtpZighbilyZXR1cm4gdm9pZCBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyLnVubXV0ZVJlbW90ZSBoYXMgbm8gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdCh0LnVpZCxcIi5cIikpO24uZ2V0KGUpfHxfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyLnVubXV0ZVJlbW90ZSBoYXMgbm8gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdCh0LnVpZCxcIiBtZWRpYSB0eXBlIFwiKS5jb25jYXQoZSxcIi5cIikpO31nZXRBbGxUcmFja3ModCl7bGV0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsQXVkaW9UcmFjayk7aWYoZT8udHJhY2sgaW5zdGFuY2VvZiBnZSl7bGV0IG49ZS50cmFjaztyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maWx0ZXIoaT0+e2xldFtyXT1pO3JldHVybiByIT09VS5Mb2NhbEF1ZGlvVHJhY2t9KS5maWx0ZXIoaT0+e2xldFtyXT1pO3JldHVybiAhKHQmJnI9PT1VLkxvY2FsVmlkZW9Mb3dUcmFjayl9KS5tYXAoaT0+e2xldFsse3RyYWNrOnJ9XT1pO3JldHVybiByfSkuY29uY2F0KG4udHJhY2tMaXN0KX1yZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maWx0ZXIobj0+e2xldFtpXT1uO3JldHVybiAhKHQmJmk9PT1VLkxvY2FsVmlkZW9Mb3dUcmFjayl9KS5tYXAobj0+e2xldFsse3RyYWNrOml9XT1uO3JldHVybiBpfSl9cmVwb3J0UHVibGlzaEV2ZW50KHQsZSxuLGkscil7aWYodCl7bGV0IHM9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsQXVkaW9UcmFjayksYT1pP3RoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbFZpZGVvTG93VHJhY2spOnRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbFZpZGVvVHJhY2spO1gucHVibGlzaCh0aGlzLnN0b3JlLnNlc3Npb25JZCx7ZXZlbnRFbGFwc2U6cWUubWVhc3VyZUZyb21QdWJsaXNoU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCx0aGlzLnN0b3JlLnB1YklkKSxzdWNjOnQsZWM6ZSxhdWRpb05hbWU6cz8udHJhY2suZ2V0VHJhY2tMYWJlbCgpLHZpZGVvTmFtZTphPy50cmFjay5nZXRUcmFja0xhYmVsKCksc2NyZWVuc2hhcmU6YT8udHJhY2suX2hpbnRzLmluZGV4T2YoR3QuU0NSRUVOX1RSQUNLKSE9PS0xLGF1ZGlvOiEhcyx2aWRlbzohIWEscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxwdWJsaXNoUmVxdWVzdGlkOnRoaXMuc3RvcmUucHViSWQsZXh0ZW5kOnJ9KTt9ZWxzZSB7dmFyIG87bnx8KG49W10pO2xldCBzPW4uZmluZChjPT5jIGluc3RhbmNlb2YgUXQpLGE9aT8obz10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb1RyYWNrKSk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLnRyYWNrOm4uZmluZChjPT5jIGluc3RhbmNlb2YgRnQpO1gucHVibGlzaCh0aGlzLnN0b3JlLnNlc3Npb25JZCx7ZXZlbnRFbGFwc2U6cWUubWVhc3VyZUZyb21QdWJsaXNoU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCx0aGlzLnN0b3JlLnB1YklkKSxzdWNjOnQsZWM6ZSxhdWRpb05hbWU6cz8uZ2V0VHJhY2tMYWJlbCgpLHZpZGVvTmFtZTphPy5nZXRUcmFja0xhYmVsKCksc2NyZWVuc2hhcmU6YT8uX2hpbnRzLmluZGV4T2YoR3QuU0NSRUVOX1RSQUNLKSE9PS0xLGF1ZGlvOiEhcyx2aWRlbzohIWEscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxwdWJsaXNoUmVxdWVzdGlkOnRoaXMuc3RvcmUucHViSWQsZXh0ZW5kOnJ9KTt9fXJlcG9ydFN1YnNjcmliZUV2ZW50KHQsZSxuLGkpe2xldCByPWk9PT1RLlZJREVPP24uX3ZpZGVvU1NSQzpuLl9hdWRpb1NTUkM7ciYmWC5zdWJzY3JpYmUodGhpcy5zdG9yZS5zZXNzaW9uSWQse3N1Y2M6dCxlYzplLHZpZGVvOmk9PT1RLlZJREVPLGF1ZGlvOmk9PT1RLkFVRElPLHBlZXJpZDpuLnVpZCxzdWJzY3JpYmVSZXF1ZXN0aWQ6aT09PVEuVklERU8/bi5fdmlkZW9TU1JDOm4uX2F1ZGlvU1NSQyxwMnBpZDp0aGlzLnN0b3JlLnAycElkLGV2ZW50RWxhcHNlOnFlLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxyKX0pO31yZXNldCgpe18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyLnJlc2V0XCIpKSx0aGlzLnNlbmRNdXRleD1uZXcgemUoXCJQMlBDaGFubmVsMi1zZW5kLW11dGV4XCIpLHRoaXMuc2VuZE11dGV4PW5ldyB6ZShcIlAyUENoYW5uZWwyLXJlY3YtbXV0ZXhcIiksdGhpcy5zZW5kQ29ubmVjdGlvbiYmKHRoaXMuc2VuZENvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLnVuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5zZW5kQ29ubmVjdGlvbiksdGhpcy5zZW5kQ29ubmVjdGlvbj12b2lkIDApLHRoaXMucmVjdkNvbm5lY3Rpb24mJih0aGlzLnJlY3ZDb25uZWN0aW9uLmNsb3NlKCksdGhpcy51bmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMucmVjdkNvbm5lY3Rpb24pLHRoaXMucmVjdkNvbm5lY3Rpb249dm9pZCAwKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZE91dGJvdW5kU3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZEluYm91bmRTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkVHJhbnNwb3J0U3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZEV4dGVuc2lvblVzYWdlU3RhdHMoKSx0aGlzLnN0b3BVcGxvYWRVcGxpbmtTdGF0ZSgpLHRoaXMuc3RvcFVwbG9hZERvd25saW5rU3RhdGUoKSx0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHMoKSx0aGlzLnVuYmluZEFsbFJlbW90ZVRyYWNrRXZlbnRzKCksdGhpcy51bmJpbmRSdHBUcmFuc2NlaXZlcigpO2xldCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbEF1ZGlvVHJhY2spO2lmKHQ/LnRyYWNrIGluc3RhbmNlb2YgZ2Upe2lmKHQudHJhY2sudHJhY2tMaXN0Lmxlbmd0aD4wKXtsZXQgZT10LnRyYWNrO3QudHJhY2sudHJhY2tMaXN0LmZvckVhY2gobj0+e2UucmVtb3ZlQXVkaW9UcmFjayhuKTt9KTt9dC50cmFjay5jbG9zZSgpO310aGlzLmxvY2FsVHJhY2tNYXAuY2xlYXIoKSx0aGlzLnJlbW90ZVVzZXJNYXAuY2xlYXIoKSx0aGlzLnN0YXRzQ29sbGVjdG9yLnJlbW92ZVJlbW90ZVN0YXRzKCksdGhpcy5zdGF0c0NvbGxlY3Rvci5yZW1vdmVMb2NhbFN0YXRzKCksdGhpcy5kdGxzRmFpbGVkQ291bnQ9MCx0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcz1bXSx0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3M9W10sdGhpcy5yZWNvbm5lY3RJbnRlcnZhbCYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMucmVjb25uZWN0SW50ZXJ2YWwpLHRoaXMucmVjb25uZWN0SW50ZXJ2YWw9dm9pZCAwKSx0aGlzLnN0YXRlPVJ0LkRpc2Nvbm5lY3RlZDt9Z2V0U3RhdHModCl7dmFyIGUsbjtyZXR1cm4gdD8obj10aGlzLnJlY3ZDb25uZWN0aW9uKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uZ2V0U3RhdHMoKTooZT10aGlzLnNlbmRDb25uZWN0aW9uKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZ2V0U3RhdHMoKX1nZXRSZW1vdGVWaWRlb0lzUmVhZHkodCl7dmFyIGU7cmV0dXJuICgoZT10aGlzLnJlY3ZDb25uZWN0aW9uKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZ2V0UmVtb3RlVmlkZW9Jc1JlYWR5KHQpKXx8ITF9Z2V0TG9jYWxBdWRpb1ZvbHVtZSgpe2xldCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbEF1ZGlvVHJhY2spO2lmKHQpcmV0dXJuIHQudHJhY2suZ2V0Vm9sdW1lTGV2ZWwoKX1nZXRMb2NhbFZpZGVvU2l6ZSgpe2xldCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbFZpZGVvVHJhY2spO2lmKHQpcmV0dXJuIHt3aWR0aDp0LnRyYWNrLnZpZGVvV2lkdGh8fDAsaGVpZ2h0OnQudHJhY2sudmlkZW9IZWlnaHR8fDB9fWdldEVuY29kZXJDb25maWcodCl7bGV0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh0KTtyZXR1cm4gZSYmZS50cmFjayBpbnN0YW5jZW9mIEZ0fHxlJiZlLnRyYWNrIGluc3RhbmNlb2YgUXQ/ZS50cmFjay5fZW5jb2RlckNvbmZpZzp2b2lkIDB9Z2V0TG9jYWxNZWRpYSh0KXtyZXR1cm4gdGhpcy5sb2NhbFRyYWNrTWFwLmdldCh0KX1oYXNMb2NhbE1lZGlhKCl7cmV0dXJuIHRoaXMubG9jYWxUcmFja01hcC5zaXplPjB9aGFzUmVtb3RlTWVkaWEodCxlKXtpZighdClyZXR1cm4gdGhpcy5yZW1vdGVVc2VyTWFwLnNpemU+MDtsZXQgbj10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KHQpO3JldHVybiAhIW4mJighZXx8bi5oYXMoZSkpfWFzeW5jIGhhc1JlbW90ZU1lZGlhV2l0aExvY2sodCxlKXtpZighdClyZXR1cm4gdGhpcy5yZW1vdGVVc2VyTWFwLnNpemU+MDtsZXQgbj10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KHQpO3JldHVybiAhIW4mJighZXx8bi5oYXMoZSkpfWdldFJlbW90ZU1lZGlhKHQpe3ZhciBlO2xldCBuPUFycmF5LmZyb20oeG4oZT10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwoZSkpLmZpbmQoaT0+aS51aWQ9PT10KTtyZXR1cm4gbj97YXVkaW9UcmFjazpuLmF1ZGlvVHJhY2ssYXVkaW9TU1JDOm4uX2F1ZGlvU1NSQyx2aWRlb1RyYWNrOm4udmlkZW9UcmFjayx2aWRlb1NTUkM6bi5fdmlkZW9TU1JDfTp7fX1nZXRBdWRpb0xldmVscygpe2xldCB0PUFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkubWFwKG49PntsZXRbaV09bjtyZXR1cm4ge3VpZDppLnVpZCxsZXZlbDppLmF1ZGlvVHJhY2s/MTAwKmkuYXVkaW9UcmFjay5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKTowfX0pLGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsQXVkaW9UcmFjayk7cmV0dXJuIGUmJnQucHVzaCh7bGV2ZWw6MTAwKmUudHJhY2suX3NvdXJjZS5nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCksdWlkOnRoaXMuc3RvcmUudWlkfSksdD1lZCh0KS5jYWxsKHQsKG4saSk9Pm4ubGV2ZWwtaS5sZXZlbCksdH1hc3luYyBkaXNjb25uZWN0Rm9yUmVjb25uZWN0KCl7dGhpcy5zZW5kQ29ubmVjdGlvbiYmdGhpcy5yZWN2Q29ubmVjdGlvbiYmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyLmRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QgY2xvc2luZyBQMlBDb25uZWN0aW9uXCIpKSx0aGlzLnN0YXRlPVJ0LlJlY29ubmVjdGluZyx2KFwiS0VFUF9MQVNUX0ZSQU1FXCIpJiZ0aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZSE9PTAmJkFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkuZm9yRWFjaCh0PT57bGV0W2VdPXQ7dmFyIG47ZS5fdmlkZW9UcmFjayYmZS5fdmlkZW9UcmFjay5fcGxheWVyJiYoKG49ZS5fdmlkZW9UcmFjay5fcGxheWVyLmdldFZpZGVvRWxlbWVudCgpKT09PW51bGx8fG49PT12b2lkIDB8fG4ucGF1c2UoKSxlLl92aWRlb1RyYWNrLl9wbGF5ZXIuaXNLZWVwTGFzdEZyYW1lPSEwLGUuX3ZpZGVvVHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpKTt9KSx0aGlzLnNlbmRDb25uZWN0aW9uLmNsb3NlKCksdGhpcy51bmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuc2VuZENvbm5lY3Rpb24pLHRoaXMuc2VuZENvbm5lY3Rpb249dm9pZCAwLHRoaXMucmVjdkNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLnVuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5yZWN2Q29ubmVjdGlvbiksdGhpcy5yZWN2Q29ubmVjdGlvbj12b2lkIDAsdGhpcy5sb2NhbFRyYWNrTWFwLnNpemUhPT0wJiYoQXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5mb3JFYWNoKHQ9Pnt2YXIgZTtsZXRbbix7dHJhY2s6aX1dPXQ7c3dpdGNoKG4pe2Nhc2UgVS5Mb2NhbFZpZGVvVHJhY2s6VyhlPWkuX2hpbnRzKS5jYWxsKGUsR3QuTE9XX1NUUkVBTSk/aS5jbG9zZSgpOnRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnB1c2goaSk7YnJlYWs7Y2FzZSBVLkxvY2FsQXVkaW9UcmFjazppIGluc3RhbmNlb2YgZ2U/dGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MuY29uY2F0KGkudHJhY2tMaXN0KTp0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5wdXNoKGkpO2Nhc2UgVS5Mb2NhbFZpZGVvTG93VHJhY2s6fX0pLHRoaXMuZW1pdCh0dC5NZWRpYVJlY29ubmVjdFN0YXJ0LHRoaXMuc3RvcmUudWlkKSksdGhpcy51bmJpbmRMb2NhbFRyYWNrRXZlbnRzKCksdGhpcy5sb2NhbFRyYWNrTWFwLmNsZWFyKCksdGhpcy5yZW1vdGVVc2VyTWFwLnNpemUhPT0wJiZBcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLmZvckVhY2godD0+e2xldFtlLG5dPXQ7QXJyYXkuZnJvbSh4bihuKS5jYWxsKG4pKS5mb3JFYWNoKGk9Pnt0aGlzLnNldFBlbmRpbmdSZW1vdGVNZWRpYShlLGkpO30pLHRoaXMuZW1pdCh0dC5NZWRpYVJlY29ubmVjdFN0YXJ0LGUudWlkKTt9KSx0aGlzLnVuYmluZEFsbFJlbW90ZVRyYWNrRXZlbnRzKCksdGhpcy5yZW1vdGVVc2VyTWFwLmNsZWFyKCksdGhpcy5zdG9wVXBsb2FkVXBsaW5rU3RhdGUoKSx0aGlzLnN0b3BVcGxvYWREb3dubGlua1N0YXRlKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRPdXRib3VuZFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRJbmJvdW5kU3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZFRyYW5zcG9ydFN0YXRzKCksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbDIgZGlzY29ubmVjdGVkLCB3YWl0aW5nIHRvIHJlY29ubmVjdC5cIikpKTt9aGFzUGVuZGluZ1JlbW90ZU1lZGlhKHQsZSl7Zm9yKGxldCBuIG9mIHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcyl7bGV0e3VzZXI6aSxraW5kOnJ9PW47aWYoKHQgaW5zdGFuY2VvZiBpcj90LnVpZDp0KT09PWkudWlkJiZlPT09cilyZXR1cm4gITB9cmV0dXJuICExfXNldFBlbmRpbmdSZW1vdGVNZWRpYSh0LGUpe3RoaXMuaGFzUGVuZGluZ1JlbW90ZU1lZGlhKHQsZSl8fHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5wdXNoKHt1c2VyOnQsa2luZDplfSk7fWFzeW5jIHJlc3RhcnRJQ0UodCxlKXtsZXQgbixpO2lmKHQ9PT1jbi5TRU5EX09OTFkpe2lmKCF0aGlzLnNlbmRDb25uZWN0aW9uKXRocm93IG5ldyBOKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW5ub3QgY2FsbCBQMlBDaGFubmVsMi5oYW5kbGVNdXRlTG9jYWxUcmFjayBiZWZvcmUgc2VuZENvbm5lY3Rpb24gZXN0YWJsaXNoZWQuXCIpO249YXdhaXQgdGhpcy5zZW5kTXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbC5yZXN0YXJ0SUNFXCIpLGk9dGhpcy5zZW5kQ29ubmVjdGlvbjt9ZWxzZSB7aWYoIXRoaXMucmVjdkNvbm5lY3Rpb24pdGhyb3cgbmV3IE4oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBjYWxsIFAyUENoYW5uZWwyLmhhbmRsZU11dGVMb2NhbFRyYWNrIGJlZm9yZSByZWN2Q29ubmVjdGlvbiBlc3RhYmxpc2hlZC5cIik7bj1hd2FpdCB0aGlzLnJlY3ZNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLnJlc3RhcnRJQ0VcIiksaT10aGlzLnJlY3ZDb25uZWN0aW9uO310cnl7aWYoZSl7bGV0IHI9YXdhaXQgaS5yZXN0YXJ0SUNFKGUpO3JldHVybiBpLmlzSW5SZXN0YXJ0SWNlPSExLHJ9e2xldCByPWF3YWl0IGkucmVzdGFydElDRSgpO2lmKHIpe2xldCBvPWF3YWl0IEdlKHRoaXMsdHQuUmVxdWVzdFAyUFJlc3RhcnRJQ0Use2RpcmVjdGlvbjpjbi5SRUNFSVZFX09OTFksaWNlUGFyYW1ldGVyOnJ9KTthd2FpdCBpLnJlc3RhcnRJQ0UobyksaS5pc0luUmVzdGFydEljZT0hMTt9fX1maW5hbGx5e24oKTt9fWdldFVwbGlua05ldHdvcmtRdWFsaXR5KCl7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb24pcmV0dXJuIDA7bGV0IHQ9dGhpcy5zZW5kQ29ubmVjdGlvbi5nZXRTdGF0cygpLGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9UcmFjayksbj10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxBdWRpb1RyYWNrKSxpPXQudmlkZW9TZW5kLmZpbmQocD0+e3ZhciBnO3JldHVybiBwLnNzcmM9PT0oZT09bnVsbHx8KGc9ZS5zc3Jjcyk9PT1udWxsfHxnPT09dm9pZCAwP3ZvaWQgMDpnWzBdLnNzcmNJZCl9KSxyPXQuYXVkaW9TZW5kLmZpbmQocD0+e3ZhciBnO3JldHVybiBwLnNzcmM9PT0obj09bnVsbHx8KGc9bi5zc3Jjcyk9PT1udWxsfHxnPT09dm9pZCAwP3ZvaWQgMDpnWzBdLnNzcmNJZCl9KTtpZighaXx8IXIpcmV0dXJuIDE7bGV0IG89bmkodGhpcyx0dC5OZWVkU2lnbmFsUlRUKSxzPWk/aS5ydHRNczp2b2lkIDAsYT1yP3IucnR0TXM6dm9pZCAwLGM9cyYmYT8ocythKS8yOnN8fGEsZD0oYyYmbz8oYytvKS8yOmN8fG8pfHwwLGw9MTAwKnQuc2VuZFBhY2tldExvc3NSYXRlKi43LzUwKy4zKmQvMTUwMCx1PWw8LjE3PzE6bDwuMzY/MjpsPC41OT8zOmw8LjE/NDo1LGg9ZT8udHJhY2s7aWYoaCYmaC5fZW5jb2RlckNvbmZpZyYmaC5faGludHMuaW5kZXhPZihHdC5TQ1JFRU5fVFJBQ0spPT09LTEpe2xldCBwPWguX2VuY29kZXJDb25maWcuYml0cmF0ZU1heCxnPXQuYml0cmF0ZS5hY3R1YWxFbmNvZGVkO2lmKHAmJmcpe2xldCBFPSgxZTMqcC1nKS8oMWUzKnApO3JldHVybiBPT1tFPC4xNT8wOkU8LjM/MTpFPC40NT8yOkU8LjY/Mzo0XVt1XX19cmV0dXJuIHV9Z2V0RG93bmxpbmtOZXR3b3JrUXVhbGl0eSgpe2lmKCF0aGlzLnJlY3ZDb25uZWN0aW9uKXJldHVybiAwO2xldCB0PXRoaXMucmVjdkNvbm5lY3Rpb24uZ2V0U3RhdHMoKSxlPTA7cmV0dXJuIEFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkuZm9yRWFjaChuPT57bGV0W2ldPW4scj1pLl9hdWRpb1NTUkMsbz1pLl92aWRlb1NTUkMscz10LmF1ZGlvUmVjdi5maW5kKGc9Pmcuc3NyYz09PXIpLGE9dC52aWRlb1JlY3YuZmluZChnPT5nLnNzcmM9PT1vKTtpZighcyYmIWEpcmV0dXJuIHZvaWQoZSs9MSk7bGV0IGM9bmkodGhpcyx0dC5OZWVkU2lnbmFsUlRUKSxkPXQucnR0LGw9KGQmJmM/KGQrYykvMjpkfHxjKXx8MCx1PXM/cy5qaXR0ZXJNczp2b2lkIDAsaD10LnJlY3ZQYWNrZXRMb3NzUmF0ZSxwPS43KmgqMTAwLzUwKy4zKmwvMTUwMDt1JiYocD0uNipoKjEwMC81MCsuMipsLzE1MDArLjIqdS80MDApLGUrPXA8LjE/MTpwPC4xNz8yOnA8LjM2PzM6cDwuNTk/NDo1O30pLHRoaXMucmVtb3RlVXNlck1hcC5zaXplPjA/TWF0aC5yb3VuZChlL3RoaXMucmVtb3RlVXNlck1hcC5zaXplKTplfWFzeW5jIG11dGVMb2NhbFRyYWNrKHQpe3JldHVybiBuZXcgaigoZSxuKT0+e3RoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2sodCxlLG4pO30pfWZpbHRlclRvYmVQdWJsaXNoZWRUcmFja3ModCxlLG4pe2xldCBpPVtdLHI9ZnQoKSxvPXRoaXMuZ2V0QWxsVHJhY2tzKCk7dD1Mcyh0PXQuZmlsdGVyKGM9Pm8uaW5kZXhPZihjKT09PS0xKSk7bGV0IHM9ITEsYT0hMTtmb3IobGV0IGMgb2YgdCl7aWYoYyBpbnN0YW5jZW9mIEZ0JiYodGhpcy5sb2NhbFRyYWNrTWFwLmhhcyhVLkxvY2FsVmlkZW9UcmFjayl8fHM/bmV3IE4oUi5DQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTKS50aHJvdygpOihpLnB1c2goe3RyYWNrOmMsdHlwZTpVLkxvY2FsVmlkZW9UcmFja30pLHM9ITApLGUpKXtsZXQgZD10aGlzLmdldExvd1ZpZGVvVHJhY2soYyxuKTtpLnB1c2goe3RyYWNrOmQsdHlwZTpVLkxvY2FsVmlkZW9Mb3dUcmFja30pO31pZihjIGluc3RhbmNlb2YgUXQpe2xldCBkPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbEF1ZGlvVHJhY2spO2lmKGQpe2lmKCEoZC50cmFjayBpbnN0YW5jZW9mIGdlKSl0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJjYW5ub3QgcHVibGlzaCBtdWx0aXBsZSB0cmFja3Mgd2hpY2ggb25lIG9mIHRoZW0gY29uZmlndXJlZCB3aXRoIGJ5cGFzc1dlYkF1ZGlvIG9yIHlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGF1ZGlvIG1peGluZ1wiKTtpZihjLl9ieXBhc3NXZWJBdWRpbyl0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJjYW5ub3QgcHVibGlzaCBtdWx0aXBsZSB0cmFja3Mgd2hpY2ggb25lIG9mIHRoZW0gY29uZmlndXJlZCB3aXRoIGJ5cGFzc1dlYkF1ZGlvXCIpO2QudHJhY2suYWRkQXVkaW9UcmFjayhjKSx0aGlzLmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHMoYywhMCk7fWVsc2UgaWYoYSl7bGV0IGw9aS5maW5kKHU9PntsZXR7dHlwZTpofT11O3JldHVybiBoPT09VS5Mb2NhbEF1ZGlvVHJhY2t9KTtpZighKGwudHJhY2sgaW5zdGFuY2VvZiBnZSkpdGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpbyBvciB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBhdWRpbyBtaXhpbmdcIik7aWYoYy5fYnlwYXNzV2ViQXVkaW8pdGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpb1wiKTtsLnRyYWNrLmFkZEF1ZGlvVHJhY2soYyk7fWVsc2Uge2lmKCFyLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0fHxjIGluc3RhbmNlb2YgZ2V8fGMuX2J5cGFzc1dlYkF1ZGlvKWkucHVzaCh7dHJhY2s6Yyx0eXBlOlUuTG9jYWxBdWRpb1RyYWNrfSk7ZWxzZSB7bGV0IGw9bmV3IGdlO2wuYWRkQXVkaW9UcmFjayhjKSxpLnB1c2goe3RyYWNrOmwsdHlwZTpVLkxvY2FsQXVkaW9UcmFja30pO31hPSEwO319fXJldHVybiBpfWZpbHRlclRvYmVVbnB1Ymxpc2hlZFRyYWNrcyh0KXtsZXQgZT1bXSxuPXRoaXMuZ2V0QWxsVHJhY2tzKCk7dD1Mcyh0PXQuZmlsdGVyKGk9Pm4uaW5kZXhPZihpKSE9PS0xKSk7Zm9yKGxldCBpIG9mIHQpe2lmKGkgaW5zdGFuY2VvZiBRdCl7bGV0IHI9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsQXVkaW9UcmFjayk7aWYoIXIpY29udGludWU7ci50cmFjayBpbnN0YW5jZW9mIGdlPyhyLnRyYWNrLnJlbW92ZUF1ZGlvVHJhY2soaSksdGhpcy51bmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHMoaSksci50cmFjay50cmFja0xpc3QubGVuZ3RoPT09MCYmKGUucHVzaChbVS5Mb2NhbEF1ZGlvVHJhY2sscl0pLHIudHJhY2suY2xvc2UoKSkpOmUucHVzaChbVS5Mb2NhbEF1ZGlvVHJhY2sscl0pO31pZihpIGluc3RhbmNlb2YgRnQpe2xldCByPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbFZpZGVvVHJhY2spO2lmKCFyKWNvbnRpbnVlO2UucHVzaChbVS5Mb2NhbFZpZGVvVHJhY2sscl0pO2xldCBvPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbFZpZGVvTG93VHJhY2spO28mJmUucHVzaChbVS5Mb2NhbFZpZGVvTG93VHJhY2ssb10pO319cmV0dXJuIGV9YmluZExvY2FsVHJhY2tFdmVudHModCl7dC5mb3JFYWNoKGU9PntsZXR7dHJhY2s6bix0eXBlOml9PWU7c3dpdGNoKGkpe2Nhc2UgVS5Mb2NhbFZpZGVvVHJhY2s6bi5hZGRMaXN0ZW5lcihILkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsVmlkZW9TdGF0cyksbi5hZGRMaXN0ZW5lcihILk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxuLmFkZExpc3RlbmVyKEguTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSxuLmFkZExpc3RlbmVyKEguTkVFRF9VUERBVEVfVklERU9fRU5DT0RFUix0aGlzLmhhbmRsZVVwZGF0ZVZpZGVvRW5jb2Rlciksbi5hZGRMaXN0ZW5lcihILk5FRURfVVBEQVRFX1ZJREVPX1NFTkRfUEFSQU1FVEVSUyx0aGlzLmhhbmRsZVVwZGF0ZVZpZGVvU2VuZFBhcmFtZXRlcnMpLG4uYWRkTGlzdGVuZXIoSC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcy5oYW5kbGVSZXBsYWNlVHJhY2spLG4uYWRkTGlzdGVuZXIoSC5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksbi5hZGRMaXN0ZW5lcihILk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayk7YnJlYWs7Y2FzZSBVLkxvY2FsQXVkaW9UcmFjazp0aGlzLmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHMobik7Y2FzZSBVLkxvY2FsVmlkZW9Mb3dUcmFjazp9fSk7fWJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHModCxlKXt0IGluc3RhbmNlb2YgZ2U/dC50cmFja0xpc3QuZm9yRWFjaChuPT57bi5hZGRMaXN0ZW5lcihILk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxuLmFkZExpc3RlbmVyKEguTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSxuLmFkZExpc3RlbmVyKEguR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxBdWRpb1N0YXRzKSxuLmFkZExpc3RlbmVyKEguTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLG4uYWRkTGlzdGVuZXIoSC5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spO30pOih0LmFkZExpc3RlbmVyKEguR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxBdWRpb1N0YXRzKSx0LmFkZExpc3RlbmVyKEguTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLHQuYWRkTGlzdGVuZXIoSC5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLHQuYWRkTGlzdGVuZXIoSC5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksdC5hZGRMaXN0ZW5lcihILk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksZXx8dC5hZGRMaXN0ZW5lcihILk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzLmhhbmRsZVJlcGxhY2VUcmFjaykpO311bmJpbmRMb2NhbFRyYWNrRXZlbnRzKHQpe3R8fCh0PUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkubWFwKGU9PntsZXRbbix7dHJhY2s6aX1dPWU7cmV0dXJuIHt0cmFjazppLHR5cGU6bn19KSksdC5mb3JFYWNoKGU9PntsZXR7dHJhY2s6bix0eXBlOml9PWU7c3dpdGNoKGkpe2Nhc2UgVS5Mb2NhbFZpZGVvVHJhY2s6bi5vZmYoSC5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbFZpZGVvU3RhdHMpLG4ub2ZmKEguTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLG4ub2ZmKEguTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSxuLm9mZihILk5FRURfVVBEQVRFX1ZJREVPX0VOQ09ERVIsdGhpcy5oYW5kbGVVcGRhdGVWaWRlb0VuY29kZXIpLG4ub2ZmKEguTkVFRF9VUERBVEVfVklERU9fU0VORF9QQVJBTUVURVJTLHRoaXMuaGFuZGxlVXBkYXRlVmlkZW9TZW5kUGFyYW1ldGVycyksbi5vZmYoSC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcy5oYW5kbGVSZXBsYWNlVHJhY2spLG4ub2ZmKEguTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLG4ub2ZmKEguTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKTticmVhaztjYXNlIFUuTG9jYWxBdWRpb1RyYWNrOnRoaXMudW5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKG4pO2Nhc2UgVS5Mb2NhbFZpZGVvTG93VHJhY2s6fX0pO311bmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHModCl7dCBpbnN0YW5jZW9mIGdlP3QudHJhY2tMaXN0LmZvckVhY2goZT0+e2Uub2ZmKEguTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUub2ZmKEguTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSxlLm9mZihILkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsQXVkaW9TdGF0cyksZS5vZmYoSC5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5vZmYoSC5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spO30pOih0Lm9mZihILkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsQXVkaW9TdGF0cyksdC5vZmYoSC5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksdC5vZmYoSC5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLHQub2ZmKEguTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKSx0Lm9mZihILk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSx0Lm9mZihILk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjaykpO31iaW5kUmVtb3RlVHJhY2tFdmVudHModCxlKXtlIGluc3RhbmNlb2YgSHMmJmUuYWRkTGlzdGVuZXIoSC5HRVRfU1RBVFMsbj0+e24odGhpcy5oYW5kbGVHZXRSZW1vdGVWaWRlb1N0YXRzKHQpKTt9KSxlIGluc3RhbmNlb2YgS3MmJmUuYWRkTGlzdGVuZXIoSC5HRVRfU1RBVFMsbj0+e24odGhpcy5oYW5kbGVHZXRSZW1vdGVBdWRpb1N0YXRzKHQpKTt9KTt9dW5iaW5kUmVtb3RlVHJhY2tFdmVudHModCl7dCYmdC5yZW1vdmVBbGxMaXN0ZW5lcnMoSC5HRVRfU1RBVFMpO311bmJpbmRBbGxSZW1vdGVUcmFja0V2ZW50cygpe0FycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkuZm9yRWFjaCh0PT57bGV0W2Usbl09dDtuLmhhcyhRLkFVRElPKSYmdGhpcy51bmJpbmRSZW1vdGVUcmFja0V2ZW50cyhlLl9hdWRpb1RyYWNrKSxuLmhhcyhRLlZJREVPKSYmdGhpcy51bmJpbmRSZW1vdGVUcmFja0V2ZW50cyhlLl92aWRlb1RyYWNrKTt9KTt9Y3JlYXRlR2F0ZXdheVB1Ymxpc2hNZXNzYWdlKHQsZSl7cmV0dXJuIHQubWFwKChuLGkpPT57dmFyIHI7bGV0IG8se3RyYWNrOnMsdHlwZTphfT1uO3N3aXRjaChhKXtjYXNlIFUuTG9jYWxBdWRpb1RyYWNrOm89Q3QuQXVkaW87YnJlYWs7Y2FzZSBVLkxvY2FsVmlkZW9UcmFjazpvPVcocj1zLl9oaW50cykuY2FsbChyLEd0LlNDUkVFTl9UUkFDSyk/Q3QuU2NyZWVuOkN0LkhpZ2g7YnJlYWs7Y2FzZSBVLkxvY2FsVmlkZW9Mb3dUcmFjazpvPUN0Lkxvdzt9cmV0dXJuIHtraW5kOmE9PT1VLkxvY2FsQXVkaW9UcmFjaz9RLkFVRElPOlEuVklERU8sc3RyZWFtX3R5cGU6byxtaWQ6ZVtpXS5pZCxzc3JjczplW2ldLmxvY2FsU1NSQyxpc011dGVkOnMubXV0ZWR8fCFzLmVuYWJsZWR9fSl9Y3JlYXRlR2F0ZXdheVVucHVibGlzaE1lc3NhZ2UodCl7cmV0dXJuIHQubWFwKGU9Pnt2YXIgbjtsZXQgaSxbcix7dHJhY2s6byxzc3JjczpzLGlkOmF9XT1lO3N3aXRjaChyKXtjYXNlIFUuTG9jYWxWaWRlb1RyYWNrOmk9VyhuPW8uX2hpbnRzKS5jYWxsKG4sR3QuU0NSRUVOX1RSQUNLKT9DdC5TY3JlZW46Q3QuSGlnaDticmVhaztjYXNlIFUuTG9jYWxBdWRpb1RyYWNrOmk9Q3QuQXVkaW87YnJlYWs7Y2FzZSBVLkxvY2FsVmlkZW9Mb3dUcmFjazppPUN0Lkxvdzt9cmV0dXJuIHtzdHJlYW1fdHlwZTppLHNzcmNzOnMsbWlkOmF9fSl9YXNzaWduTG9jYWxUcmFja3ModCxlKXt0LmZvckVhY2goKG4saSk9PntsZXR7dHJhY2s6cix0eXBlOm99PW47dGhpcy5sb2NhbFRyYWNrTWFwLnNldChvLHt0cmFjazpyLGlkOmVbaV0uaWQsc3NyY3M6ZVtpXS5sb2NhbFNTUkN9KTt9KTt9d2l0aGRyYXdMb2NhbFRyYWNrcyh0KXt0LmZvckVhY2goZT0+e2xldFtuXT1lO3RoaXMubG9jYWxUcmFja01hcC5kZWxldGUobik7fSk7fWJpbmRDb25uZWN0aW9uRXZlbnRzKHQpe3Qub25Db25uZWN0aW9uU3RhdGVDaGFuZ2U9YXN5bmMgZT0+e3ZhciBuO18uaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBcIikuY29uY2F0KHQubmFtZSxcIi5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZShcIikuY29uY2F0KGUsXCIpXCIpKSx0aGlzLmVtaXQodHQuUGVlckNvbm5lY3Rpb25TdGF0ZUNoYW5nZSxlKSxlIT09XCJjb25uZWN0ZWRcInx8dGhpcy5zdG9yZS5rZXlNZXRyaWNzLnBlZXJDb25uZWN0aW9uRW5kfHx0aGlzLnN0b3JlLnBlZXJDb25uZWN0aW9uRW5kKCksZT09PVwiY29ubmVjdGVkXCImJih0LmlzSW5SZXN0YXJ0SWNlPSExKSxXKG49dGhpcy5fcmVzdGFydFN0YXRlcykuY2FsbChuLGUpJiYhdC5pc0luUmVzdGFydEljZSYmKGU9PT1cImRpc2Nvbm5lY3RlZFwiJiZhd2FpdCBNZSg4MDApLHQuaWNlQ29ubmVjdGlvblN0YXRlIT09XCJkaXNjb25uZWN0ZWRcIiYmdC5pY2VDb25uZWN0aW9uU3RhdGUhPT1cImZhaWxlZFwifHx0aGlzLmhhbmRsZURpc2Nvbm5lY3QodC5kaXJlY3Rpb24pKTt9LHQub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2U9ZT0+e2UhPT1cImNvbm5lY3RlZFwifHx0aGlzLnN0b3JlLmtleU1ldHJpY3MuaWNlQ29ubmVjdGlvbkVuZHx8dGhpcy5zdG9yZS5pY2VDb25uZWN0aW9uRW5kKCksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2UoXCIpLmNvbmNhdChlLFwiKVwiKSksWC5yZXBvcnRBcGlJbnZva2UodGhpcy5zdG9yZS5zZXNzaW9uSWQse25hbWU6XCJJQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2VcIixvcHRpb25zOmUsdGFnOlp0LlRSQUNFUn0pLm9uU3VjY2VzcygpLHRoaXMuZW1pdCh0dC5JY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2UsZSk7fSx0Lm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2U9ZT0+e18uaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2UoXCIpLmNvbmNhdChlLFwiKVwiKSk7fSx0Lm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlPWU9PntfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5vbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZShcIikuY29uY2F0KGUsXCIpXCIpKTt9LHQub25EVExTVHJhbnNwb3J0RXJyb3I9ZT0+e18uaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLm9uRFRMU1RyYW5zcG9ydEVycm9yKFwiKS5jb25jYXQoZSxcIilcIikpO30sdC5vbkZpcnN0QXVkaW9EZWNvZGVkPWU9Pnt2YXIgbjtsZXQgaT1BcnJheS5mcm9tKHhuKG49dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKG4pKS5maW5kKG89Pm8uX2F1ZGlvU1NSQz09PWUpO3ZhciByO2kmJih0aGlzLnN0b3JlLnN1YnNjcmliZShpLnVpZCxcImF1ZGlvXCIsdm9pZCAwLHZvaWQgMCx2b2lkIDAsRGF0ZS5ub3coKSksKHI9aS5hdWRpb1RyYWNrKT09PW51bGx8fHI9PT12b2lkIDB8fHIuZW1pdChXcy5GSVJTVF9GUkFNRV9ERUNPREVEKSxYLmZpcnN0UmVtb3RlRnJhbWUodGhpcy5zdG9yZS5zZXNzaW9uSWQsRGUuRklSU1RfQVVESU9fREVDT0RFLEp0LkZJUlNUX0FVRElPX0RFQ09ERSx7cGVlcjppLl91aW50aWQsc3Vic2NyaWJlRWxhcHNlOnFlLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxlKSxzdWJzY3JpYmVSZXF1ZXN0aWQ6ZSxwMnBpZDp0aGlzLnN0b3JlLnAycElkfSkpO30sdC5vbkZpcnN0QXVkaW9SZWNlaXZlZD1lPT57dmFyIG47bGV0IGk9QXJyYXkuZnJvbSh4bihuPXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbChuKSkuZmluZChyPT5yLl9hdWRpb1NTUkM9PT1lKTtpJiZYLmZpcnN0UmVtb3RlRnJhbWUodGhpcy5zdG9yZS5zZXNzaW9uSWQsRGUuRklSU1RfQVVESU9fUkVDRUlWRUQsSnQuRklSU1RfQVVESU9fUkVDRUlWRUQse3BlZXI6aS5fdWludGlkLHN1YnNjcmliZUVsYXBzZTpxZS5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsZSksc3Vic2NyaWJlUmVxdWVzdGlkOmUscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZH0pO30sdC5vbkZpcnN0VmlkZW9EZWNvZGVkPShlLG4saSk9Pnt0aGlzLnJlcG9ydFZpZGVvRmlyc3RGcmFtZURlY29kZWQoZSxuLGkpO30sdC5vbkZpcnN0VmlkZW9SZWNlaXZlZD1lPT57dmFyIG47bGV0IGk9QXJyYXkuZnJvbSh4bihuPXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbChuKSkuZmluZChyPT5yLl92aWRlb1NTUkM9PT1lKTtpJiZYLmZpcnN0UmVtb3RlRnJhbWUodGhpcy5zdG9yZS5zZXNzaW9uSWQsRGUuRklSU1RfVklERU9fUkVDRUlWRUQsSnQuRklSU1RfVklERU9fUkVDRUlWRUQse3BlZXI6aS5fdWludGlkLHN1YnNjcmliZUVsYXBzZTpxZS5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsZSksc3Vic2NyaWJlUmVxdWVzdGlkOmUscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZH0pO30sdC5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPShlLG4pPT57bGV0IGk9ZS5jYW5kaWRhdGVUeXBlPT09XCJyZWxheVwiLHI9bi5jYW5kaWRhdGVUeXBlPT09XCJyZWxheVwiO24uY2FuZGlkYXRlVHlwZSE9PVwidW5rbm93blwiJiZpPT09cnx8dGhpcy5lbWl0KHR0LkNvbm5lY3Rpb25UeXBlQ2hhbmdlLGkpLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLlNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkKFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZW8obikpLFwiIC0+IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZW8oZSkpLFwiKVwiKSk7fSx0Lm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPShlLG4pPT57Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkKFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZW8obikpLFwiIC0+IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZW8oZSkpLFwiKVwiKSk7fSx0Lm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0PWU9Pnt0aGlzLnJlcG9ydFZpZGVvRmlyc3RGcmFtZURlY29kZWQoZSx2b2lkIDAsdm9pZCAwLCEwKTt9LHQub25Mb2NhbENhbmRpZGF0ZT1lPT57dGhpcy5lbWl0KHR0LkxvY2FsQ2FuZGlkYXRlLHtjYW5kaWRhdGU6ZSxkaXJlY3Rpb246dC5kaXJlY3Rpb259KTt9O311bmJpbmRDb25uZWN0aW9uRXZlbnRzKHQpe3Qub25Db25uZWN0aW9uU3RhdGVDaGFuZ2U9dm9pZCAwLHQub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2U9dm9pZCAwLHQub25JQ0VUcmFuc3BvcnRTdGF0ZUNoYW5nZT12b2lkIDAsdC5vbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZT12b2lkIDAsdC5vbkRUTFNUcmFuc3BvcnRFcnJvcj12b2lkIDAsdC5vbkZpcnN0QXVkaW9EZWNvZGVkPXZvaWQgMCx0Lm9uRmlyc3RBdWRpb1JlY2VpdmVkPXZvaWQgMCx0Lm9uRmlyc3RWaWRlb0RlY29kZWQ9dm9pZCAwLHQub25GaXJzdFZpZGVvUmVjZWl2ZWQ9dm9pZCAwLHQub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsdC5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsdC5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD12b2lkIDAsdC5vbkxvY2FsQ2FuZGlkYXRlPXZvaWQgMDt9YXN5bmMgaGFuZGxlRGlzY29ubmVjdCh0KXtsZXQgZT10PT09Y24uU0VORF9PTkxZP3RoaXMuc2VuZENvbm5lY3Rpb246dGhpcy5yZWN2Q29ubmVjdGlvbjtlJiYhZS5pc0luUmVzdGFydEljZSYmKGUuaXNJblJlc3RhcnRJY2U9ITAsXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENoYW5uZWwtXCIpLmNvbmNhdChlLm5hbWUsXCJdIHN0YXJ0IHVzZSByZXN0YXJ0SUNFXCIpKSx0PT09Y24uU0VORF9PTkxZP3RoaXMucmVzdGFydElDRSh0KTpHZSh0aGlzLHR0LlJlcXVlc3RQMlBSZXN0YXJ0SUNFLHtkaXJlY3Rpb246Y24uU0VORF9PTkxZfSkpO31maWx0ZXJUb2JlTXV0ZWRUcmFja3ModCl7bGV0IGU9W107aWYodGhpcy5nZXRBbGxUcmFja3MoKS5pbmRleE9mKHQpPT09LTEpcmV0dXJuIGU7bGV0IG49dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsQXVkaW9UcmFjayk7aWYodCBpbnN0YW5jZW9mIFF0JiZuPy50cmFjayBpbnN0YW5jZW9mIGdlKXJldHVybiBuLnRyYWNrLmlzQWN0aXZlfHxlLnB1c2goW1UuTG9jYWxBdWRpb1RyYWNrLG5dKSxlO2xldCBpPUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmluZChyPT57bGV0Wyx7dHJhY2s6b31dPXI7cmV0dXJuIHQ9PT1vfSk7aWYoaSYmKGUucHVzaChpKSxpWzBdPT09VS5Mb2NhbFZpZGVvVHJhY2spKXtsZXQgcj10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb0xvd1RyYWNrKTtyJiZlLnB1c2goW1UuTG9jYWxWaWRlb0xvd1RyYWNrLHJdKTt9cmV0dXJuIGV9ZmlsdGVyVG9iZVVubXV0ZWRUcmFja3ModCl7bGV0IGU9W10sbj10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxBdWRpb1RyYWNrKTtpZih0IGluc3RhbmNlb2YgUXQmJm4/LnRyYWNrIGluc3RhbmNlb2YgZ2UpcmV0dXJuIG4udHJhY2suaXNBY3RpdmUmJmUucHVzaChbVS5Mb2NhbEF1ZGlvVHJhY2ssbl0pLGU7bGV0IGk9QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maW5kKHI9PntsZXRbLHt0cmFjazpvfV09cjtyZXR1cm4gdD09PW99KTtpZihpKWlmKGlbMF09PT1VLkxvY2FsVmlkZW9UcmFjayl7ZS5wdXNoKGkpO2xldCByPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbFZpZGVvTG93VHJhY2spO3ImJmUucHVzaChbVS5Mb2NhbFZpZGVvTG93VHJhY2sscl0pO31lbHNlIGUucHVzaChpKTtyZXR1cm4gZX1jcmVhdGVNdXRlTWVzc2FnZSh0KXtyZXR1cm4gdC5tYXAoZT0+e3ZhciBuO2xldCBpLFtyLHt0cmFjazpvLHNzcmNzOnMsaWQ6YX1dPWU7c3dpdGNoKHIpe2Nhc2UgVS5Mb2NhbEF1ZGlvVHJhY2s6aT1DdC5BdWRpbzticmVhaztjYXNlIFUuTG9jYWxWaWRlb1RyYWNrOmk9VyhuPW8uX2hpbnRzKS5jYWxsKG4sR3QuU0NSRUVOX1RSQUNLKT9DdC5TY3JlZW46Q3QuSGlnaDticmVhaztjYXNlIFUuTG9jYWxWaWRlb0xvd1RyYWNrOmk9Q3QuTG93O31yZXR1cm4ge3N0cmVhbV90eXBlOmksc3NyY3M6cyxtaWQ6YX19KX1jcmVhdGVVbm11dGVNZXNzYWdlKHQpe3JldHVybiB0Lm1hcChlPT57dmFyIG47bGV0IGksW3Ise3RyYWNrOm8sc3NyY3M6cyxpZDphfV09ZTtzd2l0Y2gocil7Y2FzZSBVLkxvY2FsQXVkaW9UcmFjazppPUN0LkF1ZGlvO2JyZWFrO2Nhc2UgVS5Mb2NhbFZpZGVvVHJhY2s6aT1XKG49by5faGludHMpLmNhbGwobixHdC5TQ1JFRU5fVFJBQ0spP0N0LlNjcmVlbjpDdC5IaWdoO2JyZWFrO2Nhc2UgVS5Mb2NhbFZpZGVvTG93VHJhY2s6aT1DdC5Mb3c7fXJldHVybiB7c3RyZWFtX3R5cGU6aSxzc3JjczpzLG1pZDphfX0pfWZpbHRlclRvYmVVblN1YnNjcmliZWRUcmFja3ModCxlKXtsZXQgbj1bXSxpPXRoaXMucmVtb3RlVXNlck1hcC5nZXQodCk7aWYoIWkpcmV0dXJuIG47aWYoZSl7bGV0IHI9aS5nZXQoZSk7aWYoIXIpcmV0dXJuIG47bi5wdXNoKFt0LHtraW5kOmUsaWQ6cn1dKTt9ZWxzZSBBcnJheS5mcm9tKGkuZW50cmllcygpKS5mb3JFYWNoKHI9PntsZXRbbyxzXT1yO24ucHVzaChbdCx7a2luZDpvLGlkOnN9XSk7fSk7cmV0dXJuIG59Y3JlYXRlVW5zdWJzY3JpYmVNZXNzYWdlKHQpe2xldCBlPVtdO3JldHVybiB0LmZvckVhY2gobj0+e2xldFtpLHtraW5kOnIsaWQ6b31dPW47c3dpdGNoKHIpe2Nhc2UgUS5WSURFTzpyZXR1cm4gdm9pZChpLl92aWRlb1NTUkMmJmUucHVzaCh7c3RyZWFtX3R5cGU6US5WSURFTyxzc3JjSWQ6aS5fdmlkZW9TU1JDfSkpO2Nhc2UgUS5BVURJTzpyZXR1cm4gdm9pZChpLl9hdWRpb1NTUkMmJmUucHVzaCh7c3RyZWFtX3R5cGU6US5BVURJTyxzc3JjSWQ6aS5fYXVkaW9TU1JDfSkpfX0pLGV9d2l0aGRyYXdSZW1vdGVUcmFja3ModCl7dC5mb3JFYWNoKGU9PntsZXRbbix7a2luZDppfV09ZSxyPXRoaXMucmVtb3RlVXNlck1hcC5nZXQobik7ciYmKHIuZGVsZXRlKGkpLEFycmF5LmZyb20oci5lbnRyaWVzKCkpLmxlbmd0aD09PTAmJnRoaXMucmVtb3RlVXNlck1hcC5kZWxldGUobikpO30pO31hc3luYyB1cGRhdGVCaXRyYXRlTGltaXQodCl7bGV0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9UcmFjayksbj10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb0xvd1RyYWNrKTtlJiZhd2FpdCBlLnRyYWNrLnNldEJpdHJhdGVMaW1pdCh0LnVwbGluayksbiYmdC5sb3dfc3RyZWFtX3VwbGluayYmYXdhaXQgbi50cmFjay5zZXRCaXRyYXRlTGltaXQoe21heF9iaXRyYXRlOnQubG93X3N0cmVhbV91cGxpbmsuYml0cmF0ZSxtaW5fYml0cmF0ZTp0Lmxvd19zdHJlYW1fdXBsaW5rLmJpdHJhdGV8fDB9KTt9aXNQMlBEaXNjb25uZWN0ZWQoKXtpZih0aGlzLnNlbmRDb25uZWN0aW9uJiZ0aGlzLnJlY3ZDb25uZWN0aW9uKXtsZXQgdD10aGlzLnNlbmRDb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uU3RhdGUsZT10aGlzLnJlY3ZDb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uU3RhdGU7cmV0dXJuIHQhPT1cImNvbm5lY3RlZFwiJiZlIT09XCJjb25uZWN0ZWRcIn1yZXR1cm4gITB9YXN5bmMgdHJ5VG9Vbm11dGVBdWRpbyh0KXtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylpZih0W2VdaW5zdGFuY2VvZiBRdCl7bGV0IG49dGhpcy5maWx0ZXJUb2JlVW5tdXRlZFRyYWNrcyh0W2VdKTtpZihuLmxlbmd0aD09PTApY29udGludWU7bGV0IGk9dGhpcy5jcmVhdGVVbm11dGVNZXNzYWdlKG4pO3JldHVybiB2b2lkIGF3YWl0IGt0KHRoaXMsdHQuUmVxdWVzdFVubXV0ZUxvY2FsLGkpfX1iaW5kU3RhdHNVcGxvYWRlckV2ZW50cygpe3RoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0U3RhdHM9dD0+dGhpcy5nZXRTdGF0cyh0KSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdExvY2FsTWVkaWE9KCk9PkFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmlsdGVyKHQ9PntsZXRbLHtzc3JjczplfV09dDtyZXR1cm4gISFlfSksdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RSZW1vdGVNZWRpYT0oKT0+QXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFZpZGVvSXNSZWFkeT10PT57dmFyIGU7cmV0dXJuICEoKGU9dGhpcy5yZWN2Q29ubmVjdGlvbik9PT1udWxsfHxlPT09dm9pZCAwfHwhZS5nZXRSZW1vdGVWaWRlb0lzUmVhZHkodCkpfSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFVwbG9hZD0odCxlKT0+dGhpcy5lbWl0KHR0LlJlcXVlc3RVcGxvYWQsdCxlKSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFVwbG9hZFN0YXRzPXQ9PnRoaXMuZW1pdCh0dC5SZXF1ZXN0VXBsb2FkU3RhdHMsdCksdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RBbGxUcmFja3M9KCk9PnRoaXMuZ2V0QWxsVHJhY2tzKCk7fXVuYmluZFN0YXRzVXBsb2FkZXJFdmVudHMoKXt0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFN0YXRzPXZvaWQgMCx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdExvY2FsTWVkaWE9dm9pZCAwLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0UmVtb3RlTWVkaWE9dm9pZCAwLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0VmlkZW9Jc1JlYWR5PXZvaWQgMDt9YXN5bmMgcmVxdWVzdFJlY29ubmVjdCgpe3RoaXMuZHRsc0ZhaWxlZENvdW50Kz0xLGF3YWl0IE1lKGhmKHRoaXMuZHRsc0ZhaWxlZENvdW50LEVlKSksdGhpcy5lbWl0KHR0LlJlcXVlc3RSZWNvbm5lY3QpO31hc3luYyByZWNvbm5lY3RQMlAoKXt9Y2FuUHVibGlzaExvd1N0cmVhbSgpe3JldHVybiB0aGlzLmxvY2FsVHJhY2tNYXAuaGFzKFUuTG9jYWxWaWRlb1RyYWNrKXx8dGhpcy5wZW5kaW5nTG9jYWxUcmFja3Muc29tZSh0PT50IGluc3RhbmNlb2YgRnQpfXRocm93SWZUcmFja1R5cGVOb3RNYXRjaCh0KXtpZih0LmZpbHRlcihlPT5lIGluc3RhbmNlb2YgRnQpLmxlbmd0aD4xKXRocm93IG5ldyBOKFIuQ0FOX05PVF9QVUJMSVNIX01VTFRJUExFX1ZJREVPX1RSQUNLUyk7aWYodC5maWx0ZXIoZT0+ZSBpbnN0YW5jZW9mIFF0KS5sZW5ndGg+MSYmKHQuc29tZShlPT5lIGluc3RhbmNlb2YgUXQmJmUuX2J5cGFzc1dlYkF1ZGlvKXx8IWZ0KCkud2ViQXVkaW9NZWRpYVN0cmVhbURlc3QpKXRocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW8gb3IgeW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBNZWRpYVN0cmVhbURlc3ROb2RlXCIpO2ZvcihsZXQgZSBvZiB0KXtpZihlIGluc3RhbmNlb2YgRnQmJnRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNvbWUobj0+biBpbnN0YW5jZW9mIEZ0KSl0aHJvdyBuZXcgTihSLkNBTl9OT1RfUFVCTElTSF9NVUxUSVBMRV9WSURFT19UUkFDS1MpO2lmKGUgaW5zdGFuY2VvZiBRdCYmdGhpcy5wZW5kaW5nTG9jYWxUcmFja3Muc29tZShuPT5uIGluc3RhbmNlb2YgUXQpJiYoIWZ0KCkud2ViQXVkaW9NZWRpYVN0cmVhbURlc3R8fGUuX2J5cGFzc1dlYkF1ZGlvfHx0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5zb21lKG49Pm4gaW5zdGFuY2VvZiBRdCYmbi5fYnlwYXNzV2ViQXVkaW8pKSl0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJjYW5ub3QgcHVibGlzaCBtdWx0aXBsZSB0cmFja3Mgd2hpY2ggb25lIG9mIHRoZW0gY29uZmlndXJlZCB3aXRoIGJ5cGFzc1dlYkF1ZGlvIG9yIHlvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgTWVkaWFTdHJlYW1EZXN0Tm9kZVwiKX19Z2V0TG93VmlkZW9UcmFjayh0LGUpe2xldCBuPSF2KFwiRElTQUJMRV9EVUFMX1NUUkVBTV9VU0VfRU5DT0RJTkdcIikmJmZ0KCkuc3VwcG9ydER1YWxTdHJlYW1FbmNvZGluZyxpPVlkKFlkKHt9LHt3aWR0aDoxNjAsaGVpZ2h0OjEyMCxmcmFtZXJhdGU6MTUsYml0cmF0ZTo1MH0pLGUpLHI7cj1uP3QuX21lZGlhU3RyZWFtVHJhY2suY2xvbmUoKTpkbSh0LGkpO2xldCBvPVV0KDgsXCJ0cmFjay1sb3ctXCIpLHM9bmV3IEZ0KHIsWWQoWWQoe30sbiYme3NjYWxlUmVzb2x1dGlvbkRvd25CeTpHRShpLHQpfSkse30se2ZyYW1lUmF0ZTppLmZyYW1lcmF0ZSxiaXRyYXRlTWF4OmkuYml0cmF0ZSxiaXRyYXRlTWluOmkuYml0cmF0ZX0pLHZvaWQgMCx2b2lkIDAsbyk7cmV0dXJuIHMub24oS28uVFJBTlNDRUlWRVJfVVBEQVRFRCxhPT57dC5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIoYSxuYS5MT1dfU1RSRUFNKTt9KSxzLl9oaW50cy5wdXNoKEd0LkxPV19TVFJFQU0pLHQuYWRkTGlzdGVuZXIoSC5ORUVEX0NMT1NFLCgpPT57cy5jbG9zZSgpO30pLHN9YXN5bmMgZ2xvYmFsTG9jaygpe3JldHVybiB0aGlzLnJlY3ZNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsMi5nbG9iYWxMb2NrXCIpfXJlcG9ydFZpZGVvRmlyc3RGcmFtZURlY29kZWQodCxlLG4saSl7dmFyIHI7bGV0IG89QXJyYXkuZnJvbSh4bihyPXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbChyKSkuZmluZChzPT5zLl92aWRlb1NTUkM9PT10KTtpZihvKXtpfHx0aGlzLnN0b3JlLnN1YnNjcmliZShvLnVpZCxcInZpZGVvXCIsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLERhdGUubm93KCkpO2xldCBzPXRoaXMuc3RvcmUua2V5TWV0cmljcyxhPXMuc3Vic2NyaWJlLmZpbmQoYz0+Yy51c2VySWQ9PT1vLnVpZCYmYy50eXBlPT09XCJ2aWRlb1wiKTtYLmZpcnN0UmVtb3RlVmlkZW9EZWNvZGUodGhpcy5zdG9yZS5zZXNzaW9uSWQsRGUuRklSU1RfVklERU9fREVDT0RFLEp0LkZJUlNUX1ZJREVPX0RFQ09ERSx7cGVlcjpvLl91aW50aWQsdmlkZW93aWR0aDplLHZpZGVvaGVpZ2h0Om4sc3Vic2NyaWJlRWxhcHNlOnFlLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCx0KSxzdWJzY3JpYmVSZXF1ZXN0aWQ6dCxwMnBpZDp0aGlzLnN0b3JlLnAycElkLGFwRW5kOnMucmVxdWVzdEFQRW5kfHwwLGFwU3RhcnQ6cy5yZXF1ZXN0QVBTdGFydHx8MCxqb2luR3dFbmQ6cy5qb2luR2F0ZXdheUVuZHx8MCxqb2luR3dTdGFydDpzLmpvaW5HYXRld2F5U3RhcnR8fDAscGNFbmQ6cy5wZWVyQ29ubmVjdGlvbkVuZHx8MCxwY1N0YXJ0OnMucGVlckNvbm5lY3Rpb25TdGFydHx8MCxzdWJzY3JpYmVyRW5kOmE/LnN1YnNjcmliZUVuZHx8MCxzdWJzY3JpYmVyU3RhcnQ6YT8uc3Vic2NyaWJlU3RhcnR8fDAsdmlkZW9BZGROb3RpZnk6YT8uc3RyZWFtQWRkZWR8fDAsc3RhdGU6aT8xOjB9KTt9fWFzeW5jIHJlbW90ZU1lZGlhU3NyY0NoYW5nZWQodCxlLG4pe2lmKCF0aGlzLnJlY3ZDb25uZWN0aW9uKXJldHVybiAhMTtsZXQgaT10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KHQpO2lmKCFpKXJldHVybiAhMTtsZXQgcj1pLmdldChlKTtpZighcilyZXR1cm4gITE7bGV0IG89YXdhaXQgdGhpcy5yZWN2Q29ubmVjdGlvbi5nZXRSZW1vdGVTU1JDKHIpO3JldHVybiBvIT09dm9pZCAwJiZvIT09bn1pc1ByZVN1YlNjcmliZSh0KXtyZXR1cm4gITF9YXN5bmMgcHVibGlzaERhdGFDaGFubmVsKHQpe3Rocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCl9YXN5bmMgdW5wdWJsaXNoRGF0YUNoYW5uZWwodCl7dGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVEKX1hc3luYyBzdWJzY3JpYmVEYXRhQ2hhbm5lbCh0LGUpe3Rocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCl9YXN5bmMgdW5zdWJzY3JpYmVEYXRhQ2hhbm5lbCh0LGUpe3Rocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCl9aGFzUGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKHQsZSl7dGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVEKX1zZXRQZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWwodCxlKXt0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQpfWFzeW5jIHByZUNvbm5lY3QodCl7dGhyb3cgbmV3IE4oUi5OT1RfU1VQUE9SVEVEKX1nZXRFc3RhYmxpc2hQYXJhbXMoKXt0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQpfWFzeW5jIHJlU3Vic2NyaWJlKHQpe3Rocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCl9YXN5bmMgdXBkYXRlVmlkZW9TdHJlYW1QYXJhbWV0ZXIodCxlKXt0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQpfXVuYmluZFJ0cFRyYW5zY2VpdmVyKCl7dGhpcy5sb2NhbFRyYWNrTWFwLnNpemUhPT0wJiZBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZvckVhY2godD0+e2xldFtlLHt0cmFjazpufV09dDtlPT09VS5Mb2NhbFZpZGVvTG93VHJhY2s/bi5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIodm9pZCAwLG5hLkxPV19TVFJFQU0pOm4uX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKHZvaWQgMCk7fSk7fX0scShIdC5wcm90b3R5cGUsXCJwMnBDb25uZWN0XCIsW1R2XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEh0LnByb3RvdHlwZSxcInAycENvbm5lY3RcIiksSHQucHJvdG90eXBlKSxxKEh0LnByb3RvdHlwZSxcInVucHVibGlzaFwiLFtTdl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihIdC5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hcIiksSHQucHJvdG90eXBlKSxxKEh0LnByb3RvdHlwZSxcInVucHVibGlzaExvd1N0cmVhbVwiLFtSdl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihIdC5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hMb3dTdHJlYW1cIiksSHQucHJvdG90eXBlKSxxKEh0LnByb3RvdHlwZSxcInN1YnNjcmliZVwiLFtDdl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihIdC5wcm90b3R5cGUsXCJzdWJzY3JpYmVcIiksSHQucHJvdG90eXBlKSxxKEh0LnByb3RvdHlwZSxcIm1vY2tTdWJzY3JpYmVcIixbSXZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSHQucHJvdG90eXBlLFwibW9ja1N1YnNjcmliZVwiKSxIdC5wcm90b3R5cGUpLHEoSHQucHJvdG90eXBlLFwidW5zdWJzY3JpYmVcIixbdnZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSHQucHJvdG90eXBlLFwidW5zdWJzY3JpYmVcIiksSHQucHJvdG90eXBlKSxxKEh0LnByb3RvdHlwZSxcIm11dGVSZW1vdGVcIixbeXZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSHQucHJvdG90eXBlLFwibXV0ZVJlbW90ZVwiKSxIdC5wcm90b3R5cGUpLHEoSHQucHJvdG90eXBlLFwidW5tdXRlUmVtb3RlXCIsW0F2XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEh0LnByb3RvdHlwZSxcInVubXV0ZVJlbW90ZVwiKSxIdC5wcm90b3R5cGUpLHEoSHQucHJvdG90eXBlLFwiaGFzUmVtb3RlTWVkaWFXaXRoTG9ja1wiLFtidl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihIdC5wcm90b3R5cGUsXCJoYXNSZW1vdGVNZWRpYVdpdGhMb2NrXCIpLEh0LnByb3RvdHlwZSkscShIdC5wcm90b3R5cGUsXCJkaXNjb25uZWN0Rm9yUmVjb25uZWN0XCIsW3d2XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEh0LnByb3RvdHlwZSxcImRpc2Nvbm5lY3RGb3JSZWNvbm5lY3RcIiksSHQucHJvdG90eXBlKSxxKEh0LnByb3RvdHlwZSxcInJlbW90ZU1lZGlhU3NyY0NoYW5nZWRcIixbT3ZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSHQucHJvdG90eXBlLFwicmVtb3RlTWVkaWFTc3JjQ2hhbmdlZFwiKSxIdC5wcm90b3R5cGUpLEh0KTtmdW5jdGlvbiBQaSh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLGkpe2xldCByPWVbbl07aWYodHlwZW9mIHIhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIG11dGV4IG9uIG9iamVjdCBwcm9wZXJ0eS5cIik7cmV0dXJuIGkudmFsdWU9YXN5bmMgZnVuY3Rpb24oKXtmb3IodmFyIG89YXJndW1lbnRzLmxlbmd0aCxzPW5ldyBBcnJheShvKSxhPTA7YTxvO2ErKylzW2FdPWFyZ3VtZW50c1thXTtzd2l0Y2godCl7Y2FzZSBVaS5TRU5EX09OTFk6e2xldCBjPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwyLlwiLmNvbmNhdChuKSk7dHJ5e3JldHVybiBhd2FpdCByLmFwcGx5KHRoaXMscyl9ZmluYWxseXtjKCk7fX1jYXNlIFVpLlJFQ0VJVkVfT05MWTp7bGV0IGM9YXdhaXQgdGhpcy5yZWN2TXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbDIuXCIuY29uY2F0KG4pKTt0cnl7cmV0dXJuIGF3YWl0IHIuYXBwbHkodGhpcyxzKX1maW5hbGx5e2MoKTt9fWRlZmF1bHQ6e2xldCBjPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwyLlwiLmNvbmNhdChuKSksZD1hd2FpdCB0aGlzLnJlY3ZNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsMi5cIi5jb25jYXQobikpO3RyeXtyZXR1cm4gYXdhaXQgci5hcHBseSh0aGlzLHMpfWZpbmFsbHl7YygpLGQoKTt9fX19LGl9fWZ1bmN0aW9uIER2KHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4saSk7fXJldHVybiBufWZ1bmN0aW9uIHdvKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXSE9bnVsbD9hcmd1bWVudHNbZV06e307ZSUyP0R2KE9iamVjdChuKSwhMCkuZm9yRWFjaChmdW5jdGlvbihpKXtUKHQsaSxuW2ldKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpEdihPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24oaSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSkpO30pO31yZXR1cm4gdH12YXIgX3U9Y2xhc3MgdHtjb25zdHJ1Y3RvcihlKXtUKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksVCh0aGlzLFwib25TdGF0c0V4Y2VwdGlvblwiLHZvaWQgMCksVCh0aGlzLFwib25VcGxvYWRQdWJsaXNoRHVyYXRpb25cIix2b2lkIDApLFQodGhpcyxcIm9uU3RhdHNDaGFuZ2VkXCIsdm9pZCAwKSxUKHRoaXMsXCJsb2NhbFN0YXRzXCIsbmV3IE1hcCksVCh0aGlzLFwicmVtb3RlU3RhdHNcIixuZXcgTWFwKSxUKHRoaXMsXCJ1cGRhdGVTdGF0c0ludGVydmFsXCIsdm9pZCAwKSxUKHRoaXMsXCJ0cmFmZmljU3RhdHNcIix2b2lkIDApLFQodGhpcyxcInRyYWZmaWNTdGF0c1BlZXJMaXN0XCIsW10pLFQodGhpcyxcInVwbGlua1N0YXRzXCIsdm9pZCAwKSxUKHRoaXMsXCJleGNlcHRpb25Nb25pdG9yXCIsdm9pZCAwKSxUKHRoaXMsXCJwMnBDaGFubmVsXCIsdm9pZCAwKSxUKHRoaXMsXCJzY2FsYWJpbGl0eU1vZGVcIix4RS5MMVQxKSxUKHRoaXMsXCJ1cGRhdGVTdGF0c1wiLCgpPT57dGhpcy5wMnBDaGFubmVsJiYodGhpcy51cGRhdGVSZW1vdGVTdGF0cyh0aGlzLnAycENoYW5uZWwpLHRoaXMudXBkYXRlTG9jYWxTdGF0cyh0aGlzLnAycENoYW5uZWwpKTt9KSx0aGlzLnN0b3JlPWUsdGhpcy5leGNlcHRpb25Nb25pdG9yPW5ldyBybSx0aGlzLmV4Y2VwdGlvbk1vbml0b3Iub24oXCJleGNlcHRpb25cIiwobixpLHIpPT57dGhpcy5vblN0YXRzRXhjZXB0aW9uJiZ0aGlzLm9uU3RhdHNFeGNlcHRpb24obixpLHIpO30pO31zdGFydFVwZGF0ZVN0YXRzKCl7dGhpcy51cGRhdGVTdGF0c0ludGVydmFsfHwodGhpcy51cGRhdGVTdGF0c0ludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLnVwZGF0ZVN0YXRzLDFlMykpO31zdG9wVXBkYXRlU3RhdHMoKXt0aGlzLnVwZGF0ZVN0YXRzSW50ZXJ2YWwmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwZGF0ZVN0YXRzSW50ZXJ2YWwpLHRoaXMudXBkYXRlU3RhdHNJbnRlcnZhbD12b2lkIDApO31yZXNldCgpe3RoaXMubG9jYWxTdGF0cz1uZXcgTWFwLHRoaXMucmVtb3RlU3RhdHM9bmV3IE1hcCx0aGlzLnRyYWZmaWNTdGF0cz12b2lkIDAsdGhpcy50cmFmZmljU3RhdHNQZWVyTGlzdD1bXSx0aGlzLnVwbGlua1N0YXRzPXZvaWQgMDt9Z2V0TG9jYWxBdWRpb1RyYWNrU3RhdHMoKXtyZXR1cm4gdGhpcy5sb2NhbFN0YXRzLmdldChVLkxvY2FsQXVkaW9UcmFjayl8fHdvKHt9LEtFKX1nZXRMb2NhbFZpZGVvVHJhY2tTdGF0cygpe3JldHVybiB0aGlzLmxvY2FsU3RhdHMuZ2V0KFUuTG9jYWxWaWRlb1RyYWNrKXx8d28oe30sWUUpfWdldFJlbW90ZUF1ZGlvVHJhY2tTdGF0cyhlKXtsZXQgbj0obyxzKT0+e2lmKCF0aGlzLnRyYWZmaWNTdGF0cylyZXR1cm4gcztsZXQgYT10aGlzLnRyYWZmaWNTdGF0cy5wZWVyX2RlbGF5LmZpbmQoYz0+Yy5wZWVyX3VpZD09PW8pO3JldHVybiBhJiYocy5wdWJsaXNoRHVyYXRpb249YS5CX3BwYWQrKERhdGUubm93KCktdGhpcy50cmFmZmljU3RhdHMudGltZXN0YW1wKSksc30saT17fTtpZihlKXt2YXIgcjtsZXQgbz0ocj10aGlzLnJlbW90ZVN0YXRzLmdldChlKSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLmF1ZGlvU3RhdHM7byYmKGlbZV09bihlLG8pKTt9ZWxzZSBBcnJheS5mcm9tKHRoaXMucmVtb3RlU3RhdHMuZW50cmllcygpKS5mb3JFYWNoKG89PntsZXRbcyx7YXVkaW9TdGF0czphfV09bzthJiYoaVtzXT1uKHMsYSkpO30pO3JldHVybiBpfWdldFJlbW90ZU5ldHdvcmtRdWFsaXR5U3RhdHMoZSl7bGV0IG49e307aWYoZSl7dmFyIGk7bGV0IHI9KGk9dGhpcy5yZW1vdGVTdGF0cy5nZXQoZSkpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5uZXR3b3JrU3RhdHM7ciYmKG5bZV09cik7fWVsc2UgQXJyYXkuZnJvbSh0aGlzLnJlbW90ZVN0YXRzLmVudHJpZXMoKSkuZm9yRWFjaChyPT57bGV0W28se25ldHdvcmtTdGF0czpzfV09cjtzJiYobltvXT1zKTt9KTtyZXR1cm4gbn1nZXRSZW1vdGVWaWRlb1RyYWNrU3RhdHMoZSl7bGV0IG49KG8scyk9PntpZighdGhpcy50cmFmZmljU3RhdHMpcmV0dXJuIHM7bGV0IGE9dGhpcy50cmFmZmljU3RhdHMucGVlcl9kZWxheS5maW5kKGM9PmMucGVlcl91aWQ9PT1vKTtyZXR1cm4gYSYmKHMucHVibGlzaER1cmF0aW9uPWEuQl9wcHZkKyhEYXRlLm5vdygpLXRoaXMudHJhZmZpY1N0YXRzLnRpbWVzdGFtcCkpLHN9LGk9e307aWYoZSl7dmFyIHI7bGV0IG89KHI9dGhpcy5yZW1vdGVTdGF0cy5nZXQoZSkpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci52aWRlb1N0YXRzO28mJihpW2VdPW4oZSxvKSk7fWVsc2UgQXJyYXkuZnJvbSh0aGlzLnJlbW90ZVN0YXRzLmVudHJpZXMoKSkuZm9yRWFjaChvPT57bGV0W3Mse3ZpZGVvU3RhdHM6YX1dPW87YSYmKGlbc109bihzLGEpKTt9KTtyZXR1cm4gaX1nZXRSVENTdGF0cygpe2xldCBlPTAsbj0wLGk9MCxyPTAsbz10aGlzLmxvY2FsU3RhdHMuZ2V0KFUuTG9jYWxBdWRpb1RyYWNrKTtvJiYoZSs9by5zZW5kQnl0ZXMsbis9by5zZW5kQml0cmF0ZSk7bGV0IHM9dGhpcy5sb2NhbFN0YXRzLmdldChVLkxvY2FsVmlkZW9UcmFjayk7cyYmKGUrPXMuc2VuZEJ5dGVzLG4rPXMuc2VuZEJpdHJhdGUpO2xldCBhPXRoaXMubG9jYWxTdGF0cy5nZXQoVS5Mb2NhbFZpZGVvTG93VHJhY2spO2EmJihlKz1hLnNlbmRCeXRlcyxuKz1hLnNlbmRCaXRyYXRlKSx0aGlzLnJlbW90ZVN0YXRzLmZvckVhY2goZD0+e2xldHthdWRpb1N0YXRzOmwsdmlkZW9TdGF0czp1fT1kO2wmJihpKz1sLnJlY2VpdmVCeXRlcyxyKz1sLnJlY2VpdmVCaXRyYXRlKSx1JiYoaSs9dS5yZWNlaXZlQnl0ZXMscis9dS5yZWNlaXZlQml0cmF0ZSk7fSk7bGV0IGM9MTtyZXR1cm4gdGhpcy50cmFmZmljU3RhdHMmJihjKz10aGlzLnRyYWZmaWNTdGF0cy5wZWVyX2RlbGF5Lmxlbmd0aCkse0R1cmF0aW9uOjAsVXNlckNvdW50OmMsU2VuZEJpdHJhdGU6bixTZW5kQnl0ZXM6ZSxSZWN2Qnl0ZXM6aSxSZWN2Qml0cmF0ZTpyLE91dGdvaW5nQXZhaWxhYmxlQmFuZHdpZHRoOnRoaXMudXBsaW5rU3RhdHM/dGhpcy51cGxpbmtTdGF0cy5CX3VhYi8xZTM6MCxSVFQ6dGhpcy50cmFmZmljU3RhdHM/Mip0aGlzLnRyYWZmaWNTdGF0cy5CX2FjZDowfX1hZGRMb2NhbFN0YXRzKGUpe3RoaXMubG9jYWxTdGF0cy5zZXQoZSx2b2lkIDApO31yZW1vdmVMb2NhbFN0YXRzKGUpe2U/dGhpcy5sb2NhbFN0YXRzLmRlbGV0ZShlKTp0aGlzLmxvY2FsU3RhdHMuY2xlYXIoKTt9YWRkUmVtb3RlU3RhdHMoZSl7dGhpcy5yZW1vdGVTdGF0cy5zZXQoZSx7fSk7fXJlbW92ZVJlbW90ZVN0YXRzKGUpe2U/dGhpcy5yZW1vdGVTdGF0cy5kZWxldGUoZSk6dGhpcy5yZW1vdGVTdGF0cy5jbGVhcigpO31hZGRQMlBDaGFubmVsKGUpe3RoaXMucDJwQ2hhbm5lbD1lO311cGRhdGVUcmFmZmljU3RhdHMoZSl7ZS5wZWVyX2RlbGF5PWUucGVlcl9kZWxheS5maWx0ZXIobj0+bi5CX3BwYWQhPT12b2lkIDB8fG4uQl9wcHZkIT09dm9pZCAwKSxlLnBlZXJfZGVsYXkuZmlsdGVyKG49PnRoaXMudHJhZmZpY1N0YXRzUGVlckxpc3QuaW5kZXhPZihuLnBlZXJfdWlkKT09PS0xKS5mb3JFYWNoKG49Pnt2YXIgaTtsZXQgcj0oaT10aGlzLnAycENoYW5uZWwpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5nZXRSZW1vdGVNZWRpYShuLnBlZXJfdWlkKSxvPXIhPW51bGwmJnIudmlkZW9TU1JDP3FlLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxyLnZpZGVvU1NSQyk6MCxzPXIhPW51bGwmJnIuYXVkaW9TU1JDP3FlLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxyLmF1ZGlvU1NSQyk6MDtuLkJfcHBhZCE9PXZvaWQgMCYmbi5CX3BwdmQhPT12b2lkIDAmJih0aGlzLm9uVXBsb2FkUHVibGlzaER1cmF0aW9uJiZ0aGlzLm9uVXBsb2FkUHVibGlzaER1cmF0aW9uKG4ucGVlcl91aWQsbi5CX3BwYWQsbi5CX3BwdmQsbz5zP286cyksdGhpcy50cmFmZmljU3RhdHNQZWVyTGlzdC5wdXNoKG4ucGVlcl91aWQpKTt9KSx0aGlzLnRyYWZmaWNTdGF0cz1lO311cGRhdGVVcGxpbmtTdGF0cyhlKXt0aGlzLnVwbGlua1N0YXRzJiZ0aGlzLnVwbGlua1N0YXRzLkJfZmlyIT09ZS5CX2ZpciYmXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl06IFBlcmlvZCBmaXIgY2hhbmdlcyB0byBcIikuY29uY2F0KGUuQl9maXIpKSx0aGlzLnVwbGlua1N0YXRzPWU7fXN0YXRpYyBpc1JlbW90ZVZpZGVvRnJlZXplKGUsbixpKXtpZighZSlyZXR1cm4gITE7bGV0IHI9ISFpJiZuLmZyYW1lc0RlY29kZUZyZWV6ZVRpbWU+aS5mcmFtZXNEZWNvZGVGcmVlemVUaW1lLG89IWl8fG4uZnJhbWVzRGVjb2RlQ291bnQ+aS5mcmFtZXNEZWNvZGVDb3VudDtyZXR1cm4gcnx8IW99c3RhdGljIGlzUmVtb3RlQXVkaW9GcmVlemUoZSl7cmV0dXJuICEhZSYmZS5faXNGcmVlemUoKX1pc0xvY2FsVmlkZW9GcmVlemUoZSl7cmV0dXJuICEoIWUuaW5wdXRGcmFtZXx8IWUuc2VudEZyYW1lKSYmZS5pbnB1dEZyYW1lLmZyYW1lUmF0ZT41JiZlLnNlbnRGcmFtZS5mcmFtZVJhdGU8M311cGRhdGVMb2NhbFN0YXRzKGUpe0FycmF5LmZyb20odGhpcy5sb2NhbFN0YXRzLmVudHJpZXMoKSkuZm9yRWFjaChuPT57bGV0W2kscl09bjtzd2l0Y2goaSl7Y2FzZSBVLkxvY2FsVmlkZW9UcmFjazpjYXNlIFUuTG9jYWxWaWRlb0xvd1RyYWNrOntsZXQgcz1yLGE9d28oe30sWUUpLGM9ZS5nZXRTdGF0cygpLGQ9ZS5nZXRMb2NhbE1lZGlhKGkpO2lmKGMpe2xldCBsPWMudmlkZW9TZW5kLmZpbmQodT0+dS5zc3JjPT09ZD8uc3NyY3NbMF0uc3NyY0lkKTtpZihsKXtsZXQgdT1lLmdldExvY2FsVmlkZW9TaXplKCksaD1lLmdldEVuY29kZXJDb25maWcoVS5Mb2NhbFZpZGVvVHJhY2spO2wuY29kZWMhPT1cIkgyNjRcIiYmbC5jb2RlYyE9PVwiSDI2NVwiJiZsLmNvZGVjIT09XCJWUDhcIiYmbC5jb2RlYyE9PVwiVlA5XCImJmwuY29kZWMhPT1cIkFWMVhcIiYmbC5jb2RlYyE9PVwiQVYxXCJ8fChhLmNvZGVjVHlwZT1sLmNvZGVjKSxhLnNlbmRCeXRlcz1sLmJ5dGVzLGEuc2VuZEJpdHJhdGU9cz84Kk1hdGgubWF4KDAsYS5zZW5kQnl0ZXMtcy5zZW5kQnl0ZXMpOjAsbC5pbnB1dEZyYW1lPyhhLmNhcHR1cmVGcmFtZVJhdGU9bC5pbnB1dEZyYW1lLmZyYW1lUmF0ZSxhLmNhcHR1cmVSZXNvbHV0aW9uSGVpZ2h0PWwuaW5wdXRGcmFtZS5oZWlnaHQsYS5jYXB0dXJlUmVzb2x1dGlvbldpZHRoPWwuaW5wdXRGcmFtZS53aWR0aCk6dSYmKGEuY2FwdHVyZVJlc29sdXRpb25XaWR0aD11LndpZHRoLGEuY2FwdHVyZVJlc29sdXRpb25IZWlnaHQ9dS5oZWlnaHQpLGwuc2VudEZyYW1lPyhhLnNlbmRGcmFtZVJhdGU9bC5zZW50RnJhbWUuZnJhbWVSYXRlLGEuc2VuZFJlc29sdXRpb25IZWlnaHQ9bC5zZW50RnJhbWUuaGVpZ2h0LGEuc2VuZFJlc29sdXRpb25XaWR0aD1sLnNlbnRGcmFtZS53aWR0aCk6dSYmKGEuc2VuZFJlc29sdXRpb25XaWR0aD11LndpZHRoLGEuc2VuZFJlc29sdXRpb25IZWlnaHQ9dS5oZWlnaHQpLGwuYXZnRW5jb2RlTXMmJihhLmVuY29kZURlbGF5PWwuYXZnRW5jb2RlTXMpLGgmJmguYml0cmF0ZU1heCYmKGEudGFyZ2V0U2VuZEJpdHJhdGU9MWUzKmguYml0cmF0ZU1heCksYS5zZW5kUGFja2V0cz1sLnBhY2tldHMsYS5zZW5kUGFja2V0c0xvc3Q9bC5wYWNrZXRzTG9zdCxhLnNlbmRKaXR0ZXJNcz1sLmppdHRlck1zLGEuc2VuZFJ0dE1zPWwucnR0TXMsYS50b3RhbER1cmF0aW9uPXM/cy50b3RhbER1cmF0aW9uKzE6MSxhLnRvdGFsRnJlZXplVGltZT1zP3MudG90YWxGcmVlemVUaW1lOjAsdGhpcy5pc0xvY2FsVmlkZW9GcmVlemUobCkmJihhLnRvdGFsRnJlZXplVGltZSs9MSksbC5zY2FsYWJpbGl0eU1vZGUmJnRoaXMuc2NhbGFiaWxpdHlNb2RlIT09bC5zY2FsYWJpbGl0eU1vZGUmJihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXTogVGhlIHNjYWxhYmlsaXR5TW9kZSBvZiB0aGUgdmlkZW8gc2VuZGluZyBzdHJlYW0gaXMgXCIpLmNvbmNhdChsLnNjYWxhYmlsaXR5TW9kZSkpLHRoaXMuc2NhbGFiaWxpdHlNb2RlPWwuc2NhbGFiaWxpdHlNb2RlKTt9dGhpcy50cmFmZmljU3RhdHMmJihhLmN1cnJlbnRQYWNrZXRMb3NzUmF0ZT0odGhpcy50cmFmZmljU3RhdHMuQl9wdmxyNHx8MCkvMTAwKTt9dmFyIG87dGhpcy5sb2NhbFN0YXRzLnNldChpLGEpLChzPy5zZW5kUmVzb2x1dGlvbldpZHRoIT09YS5zZW5kUmVzb2x1dGlvbldpZHRofHxzPy5zZW5kUmVzb2x1dGlvbkhlaWdodCE9PWEuc2VuZFJlc29sdXRpb25IZWlnaHQpJiYoKG89dGhpcy5vblN0YXRzQ2hhbmdlZCk9PT1udWxsfHxvPT09dm9pZCAwfHxvLmNhbGwodGhpcyxcInJlc29sdXRpb25cIix7d2lkdGg6YS5zZW5kUmVzb2x1dGlvbldpZHRoLGhlaWdodDphLnNlbmRSZXNvbHV0aW9uSGVpZ2h0fSkpLGEmJmQmJnRoaXMuZXhjZXB0aW9uTW9uaXRvci5zZXRMb2NhbFZpZGVvU3RhdHModGhpcy5zdG9yZS51aWQsZC50cmFjayxhKTticmVha31jYXNlIFUuTG9jYWxBdWRpb1RyYWNrOntsZXQgcz1yLGE9d28oe30sS0UpLGM9ZS5nZXRTdGF0cygpLGQ9ZS5nZXRMb2NhbE1lZGlhKGkpO2lmKGMpe2xldCBsPWMuYXVkaW9TZW5kLmZpbmQodT0+dS5zc3JjPT09ZD8uc3NyY3NbMF0uc3NyY0lkKTtpZihsKXtpZihsLmNvZGVjIT09XCJvcHVzXCImJmwuY29kZWMhPT1cImFhY1wiJiZsLmNvZGVjIT09XCJQQ01VXCImJmwuY29kZWMhPT1cIlBDTUFcIiYmbC5jb2RlYyE9PVwiRzcyMlwifHwoYS5jb2RlY1R5cGU9bC5jb2RlYyksbC5pbnB1dExldmVsKWEuc2VuZFZvbHVtZUxldmVsPU1hdGgucm91bmQoMzI3NjcqbC5pbnB1dExldmVsKTtlbHNlIHtsZXQgdT1lLmdldExvY2FsQXVkaW9Wb2x1bWUoKTt1JiYoYS5zZW5kVm9sdW1lTGV2ZWw9TWF0aC5yb3VuZCgzMjc2Nyp1KSk7fWEuc2VuZEJ5dGVzPWwuYnl0ZXMsYS5zZW5kUGFja2V0cz1sLnBhY2tldHMsYS5zZW5kUGFja2V0c0xvc3Q9bC5wYWNrZXRzTG9zdCxhLnNlbmRKaXR0ZXJNcz1sLmppdHRlck1zLGEuc2VuZFJ0dE1zPWwucnR0TXMsYS5zZW5kQml0cmF0ZT1zPzgqTWF0aC5tYXgoMCxhLnNlbmRCeXRlcy1zLnNlbmRCeXRlcyk6MDt9fXRoaXMudHJhZmZpY1N0YXRzJiYoYS5jdXJyZW50UGFja2V0TG9zc1JhdGU9KHRoaXMudHJhZmZpY1N0YXRzLkJfcGFscjR8fDApLzEwMCksdGhpcy5sb2NhbFN0YXRzLnNldChVLkxvY2FsQXVkaW9UcmFjayxhKSxhJiZkJiZ0aGlzLmV4Y2VwdGlvbk1vbml0b3Iuc2V0TG9jYWxBdWRpb1N0YXRzKHRoaXMuc3RvcmUudWlkLGQudHJhY2ssYSk7YnJlYWt9fX0pO311cGRhdGVSZW1vdGVTdGF0cyhlKXtBcnJheS5mcm9tKHRoaXMucmVtb3RlU3RhdHMuZW50cmllcygpKS5mb3JFYWNoKG49Pnt2YXIgaSxyO2xldFtvLHt2aWRlb1N0YXRzOnMsYXVkaW9TdGF0czphLHZpZGVvUGNTdGF0czpjfV09bixkPWEsbD1zLHU9YyxoPXdvKHt9LEdPKSxwPXdvKHt9LFdPKSxnPXdvKHt9LGtHKSx7YXVkaW9UcmFjazpFLHZpZGVvVHJhY2s6ZixhdWRpb1NTUkM6Uyx2aWRlb1NTUkM6Q309ZS5nZXRSZW1vdGVNZWRpYShvKSxBO0E9ZSBpbnN0YW5jZW9mIEFuP2UuZ2V0U3RhdHMoITApOmUuZ2V0U3RhdHMoKTtsZXQgYj0oaT1BKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkuYXVkaW9SZWN2LmZpbmQoaz0+ay5zc3JjPT09Uyksdz0ocj1BKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIudmlkZW9SZWN2LmZpbmQoaz0+ay5zc3JjPT09QyksRD10aGlzLnRyYWZmaWNTdGF0cyYmdGhpcy50cmFmZmljU3RhdHMucGVlcl9kZWxheS5maW5kKGs9PmsucGVlcl91aWQ9PT1vKTtpZihiJiYoYi5jb2RlYyE9PVwib3B1c1wiJiZiLmNvZGVjIT09XCJhYWNcIiYmYi5jb2RlYyE9PVwiUENNVVwiJiZiLmNvZGVjIT09XCJQQ01BXCImJmIuY29kZWMhPT1cIkc3MjJcInx8KGguY29kZWNUeXBlPWIuY29kZWMpLGIub3V0cHV0TGV2ZWw/aC5yZWNlaXZlTGV2ZWw9TWF0aC5yb3VuZCgzMjc2NypiLm91dHB1dExldmVsKTpFJiYoaC5yZWNlaXZlTGV2ZWw9TWF0aC5yb3VuZCgzMjc2NypFLmdldFZvbHVtZUxldmVsKCkpKSxoLnJlY2VpdmVCeXRlcz1iLmJ5dGVzLGgucmVjZWl2ZVBhY2tldHM9Yi5wYWNrZXRzLGgucmVjZWl2ZVBhY2tldHNMb3N0PWIucGFja2V0c0xvc3QsaC5yZWNlaXZlUGFja2V0c0Rpc2NhcmRlZD1iLnBhY2tldHNEaXNjYXJkZWQsaC5wYWNrZXRMb3NzUmF0ZT1oLnJlY2VpdmVQYWNrZXRzTG9zdC8oaC5yZWNlaXZlUGFja2V0cytoLnJlY2VpdmVQYWNrZXRzTG9zdCksaC5yZWNlaXZlQml0cmF0ZT1kPzgqTWF0aC5tYXgoMCxoLnJlY2VpdmVCeXRlcy1kLnJlY2VpdmVCeXRlcyk6MCxoLnRvdGFsRHVyYXRpb249ZD9kLnRvdGFsRHVyYXRpb24rMToxLGgudG90YWxGcmVlemVUaW1lPWQ/ZC50b3RhbEZyZWV6ZVRpbWU6MCxoLmZyZWV6ZVJhdGU9aC50b3RhbEZyZWV6ZVRpbWUvaC50b3RhbER1cmF0aW9uLGgucmVjZWl2ZURlbGF5PWIuaml0dGVyQnVmZmVyTXMsaC50b3RhbER1cmF0aW9uPjEwJiZ0LmlzUmVtb3RlQXVkaW9GcmVlemUoRSkmJihoLnRvdGFsRnJlZXplVGltZSs9MSkpLHcpe3cuY29kZWMhPT1cIkgyNjRcIiYmdy5jb2RlYyE9PVwiSDI2NVwiJiZ3LmNvZGVjIT09XCJWUDhcIiYmdy5jb2RlYyE9PVwiVlA5XCImJncuY29kZWMhPT1cIkFWMVhcIiYmdy5jb2RlYyE9PVwiQVYxXCJ8fChwLmNvZGVjVHlwZT13LmNvZGVjKSxwLnJlY2VpdmVCeXRlcz13LmJ5dGVzLHAucmVjZWl2ZUJpdHJhdGU9bD84Kk1hdGgubWF4KDAscC5yZWNlaXZlQnl0ZXMtbC5yZWNlaXZlQnl0ZXMpOjAscC5kZWNvZGVGcmFtZVJhdGU9dy5kZWNvZGVGcmFtZVJhdGU8MD8wOncuZGVjb2RlRnJhbWVSYXRlLHAucmVuZGVyRnJhbWVSYXRlPXcuZGVjb2RlRnJhbWVSYXRlPDA/MDp3LmRlY29kZUZyYW1lUmF0ZSx3Lm91dHB1dEZyYW1lJiYocC5yZW5kZXJGcmFtZVJhdGU9dy5vdXRwdXRGcmFtZS5mcmFtZVJhdGUpLHcucmVjZWl2ZWRGcmFtZT8ocC5yZWNlaXZlRnJhbWVSYXRlPXcucmVjZWl2ZWRGcmFtZS5mcmFtZVJhdGUscC5yZWNlaXZlUmVzb2x1dGlvbkhlaWdodD13LnJlY2VpdmVkRnJhbWUuaGVpZ2h0LHAucmVjZWl2ZVJlc29sdXRpb25XaWR0aD13LnJlY2VpdmVkRnJhbWUud2lkdGgpOmYmJihwLnJlY2VpdmVSZXNvbHV0aW9uSGVpZ2h0PWYuX3ZpZGVvSGVpZ2h0fHwwLHAucmVjZWl2ZVJlc29sdXRpb25XaWR0aD1mLl92aWRlb1dpZHRofHwwKSx3LmZyYW1lc1JhdGVGaXJlZm94IT09dm9pZCAwJiYocC5yZWNlaXZlRnJhbWVSYXRlPU1hdGgucm91bmQody5mcmFtZXNSYXRlRmlyZWZveCkpLHAucmVjZWl2ZVBhY2tldHM9dy5wYWNrZXRzLHAucmVjZWl2ZVBhY2tldHNMb3N0PXcucGFja2V0c0xvc3QscC5wYWNrZXRMb3NzUmF0ZT1wLnJlY2VpdmVQYWNrZXRzTG9zdC8ocC5yZWNlaXZlUGFja2V0cytwLnJlY2VpdmVQYWNrZXRzTG9zdCkscC50b3RhbER1cmF0aW9uPWw/bC50b3RhbER1cmF0aW9uKzE6MSxwLnRvdGFsRnJlZXplVGltZT1sP2wudG90YWxGcmVlemVUaW1lOjAscC5yZWNlaXZlRGVsYXk9dy5qaXR0ZXJCdWZmZXJNc3x8MDtsZXQgaz0hIUMmJmUuZ2V0UmVtb3RlVmlkZW9Jc1JlYWR5KEMpO2YmJmsmJnQuaXNSZW1vdGVWaWRlb0ZyZWV6ZShmLHcsdSkmJihwLnRvdGFsRnJlZXplVGltZSs9MSkscC5mcmVlemVSYXRlPXAudG90YWxGcmVlemVUaW1lL3AudG90YWxEdXJhdGlvbjt9RCYmKGguZW5kMkVuZERlbGF5PUQuQl9hZCxwLmVuZDJFbmREZWxheT1ELkJfdmQsaC50cmFuc3BvcnREZWxheT1ELkJfZWQscC50cmFuc3BvcnREZWxheT1ELkJfZWQsaC5jdXJyZW50UGFja2V0TG9zc1JhdGU9RC5CX2VhbHI0LzEwMCxwLmN1cnJlbnRQYWNrZXRMb3NzUmF0ZT1ELkJfZXZscjQvMTAwLGcudXBsaW5rTmV0d29ya1F1YWxpdHk9RC5CX3B1bnE/RC5CX3B1bnE6MCxnLmRvd25saW5rTmV0d29ya1F1YWxpdHk9RC5CX3BkbnE/RC5CX3BkbnE6MCksdGhpcy5yZW1vdGVTdGF0cy5zZXQobyx7YXVkaW9TdGF0czpoLHZpZGVvU3RhdHM6cCx2aWRlb1BjU3RhdHM6dyxuZXR3b3JrU3RhdHM6Z30pLEUmJnRoaXMuZXhjZXB0aW9uTW9uaXRvci5zZXRSZW1vdGVBdWRpb1N0YXRzKEUsaCksZiYmdGhpcy5leGNlcHRpb25Nb25pdG9yLnNldFJlbW90ZVZpZGVvU3RhdHMoZixwKTt9KTt9fSxFdT1jbGFzc3tjb25zdHJ1Y3Rvcigpe1QodGhpcyxcImRlc3RDaGFubmVsTWVkaWFJbmZvc1wiLG5ldyBNYXApLFQodGhpcyxcInNyY0NoYW5uZWxNZWRpYUluZm9cIix2b2lkIDApO31zZXRTcmNDaGFubmVsSW5mbyhlKXtNUihlKSx0aGlzLnNyY0NoYW5uZWxNZWRpYUluZm89ZTt9YWRkRGVzdENoYW5uZWxJbmZvKGUpe01SKGUpLHRoaXMuZGVzdENoYW5uZWxNZWRpYUluZm9zLnNldChlLmNoYW5uZWxOYW1lLGUpO31yZW1vdmVEZXN0Q2hhbm5lbEluZm8oZSl7WHUoZSksdGhpcy5kZXN0Q2hhbm5lbE1lZGlhSW5mb3MuZGVsZXRlKGUpO31nZXRTcmNDaGFubmVsTWVkaWFJbmZvKCl7cmV0dXJuIHRoaXMuc3JjQ2hhbm5lbE1lZGlhSW5mb31nZXREZXN0Q2hhbm5lbE1lZGlhSW5mbygpe3JldHVybiB0aGlzLmRlc3RDaGFubmVsTWVkaWFJbmZvc319O2Z1bmN0aW9uIFB2KHQpe2lmKCEodCBpbnN0YW5jZW9mIEV1KSlyZXR1cm4gbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxcIkNvbmZpZyBzaG91bGQgYmUgaW5zdGFuY2Ugb2YgW0NoYW5uZWxNZWRpYVJlbGF5Q29uZmlndXJhdGlvbl1cIikudGhyb3coKTtsZXQgZT10LmdldFNyY0NoYW5uZWxNZWRpYUluZm8oKSxuPXQuZ2V0RGVzdENoYW5uZWxNZWRpYUluZm8oKTtpZighZSlyZXR1cm4gbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxcInNyY0NoYW5uZWxNZWRpYUluZm8gc2hvdWxkIG5vdCBiZSBlbXB0eVwiKS50aHJvdygpO2lmKG4uc2l6ZT09PTApcmV0dXJuIG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJkZXN0Q2hhbm5lbE1lZGlhSW5mbyBzaG91bGQgbm90IGJlIGVtcHR5XCIpLnRocm93KCl9ZnVuY3Rpb24ga3YodCl7dmFyIGU9e30sbj0hMTtmdW5jdGlvbiBpKHIsbyl7cmV0dXJuIG49ITAse2RvbmU6ITEsdmFsdWU6bmV3IE9mKG89bmV3IG9tKGZ1bmN0aW9uKHMpe3ModFtyXShvKSk7fSksMSl9fXJldHVybiBlW0RzIT09dm9pZCAwJiZ6d3x8XCJAQGl0ZXJhdG9yXCJdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGUubmV4dD1mdW5jdGlvbihyKXtyZXR1cm4gbj8obj0hMSxyKTppKFwibmV4dFwiLHIpfSx0eXBlb2YgdC50aHJvdz09XCJmdW5jdGlvblwiJiYoZS50aHJvdz1mdW5jdGlvbihyKXtpZihuKXRocm93IG49ITEscjtyZXR1cm4gaShcInRocm93XCIscil9KSx0eXBlb2YgdC5yZXR1cm49PVwiZnVuY3Rpb25cIiYmKGUucmV0dXJuPWZ1bmN0aW9uKHIpe3JldHVybiBuPyhuPSExLHIpOmkoXCJyZXR1cm5cIixyKX0pLGV9dmFyIGhXPWFlKHAwKTtmdW5jdGlvbiBMdih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiBNdih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj9MdihPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6THYoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9dmFyIFB0O2Z1bmN0aW9uIFV2KHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4saSk7fXJldHVybiBufWZ1bmN0aW9uIHFkKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXSE9bnVsbD9hcmd1bWVudHNbZV06e307ZSUyP1V2KE9iamVjdChuKSwhMCkuZm9yRWFjaChmdW5jdGlvbihpKXtUKHQsaSxuW2ldKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpVdihPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24oaSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSkpO30pO31yZXR1cm4gdH12YXIgVmE9KFB0PWNsYXNzIFhhIGV4dGVuZHMgWWx7Z2V0IHBlZXJDb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGV9Z2V0IGljZUNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZX1nZXQgY3VycmVudExvY2FsRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jdXJyZW50TG9jYWxEZXNjcmlwdGlvbn1nZXQgY3VycmVudFJlbW90ZURlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudFJlbW90ZURlc2NyaXB0aW9ufWdldCBsb2NhbENvZGVjcygpe3JldHVybiBbLi4ubmV3IFNldCh0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzJiZ0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnZpZGVvQ29kZWNzLm1hcChlPT5lLnJ0cE1hcCYmZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiXCIpLmZpbHRlcihlPT57dmFyIG47cmV0dXJuIFcobj1PYmplY3Qua2V5cyhKdSkpLmNhbGwobixlKX0pKV19Y29uc3RydWN0b3IoZSxuKXtzdXBlcihlLG4pLFQodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxUKHRoaXMsXCJwZWVyQ29ubmVjdGlvblwiLHZvaWQgMCksVCh0aGlzLFwicmVtb3RlU0RQXCIsdm9pZCAwKSxUKHRoaXMsXCJpbml0aWFsT2ZmZXJcIix2b2lkIDApLFQodGhpcyxcInN0YXRzRmlsdGVyXCIsdm9pZCAwKSxUKHRoaXMsXCJ1c2VSVFhcIiwhMSksVCh0aGlzLFwibG9jYWxDYXBhYmlsaXRpZXNcIix2b2lkIDApLFQodGhpcyxcImxvY2FsQ2FuZGlkYXRlQ291bnRcIiwwKSxUKHRoaXMsXCJhbGxDYW5kaWRhdGVzUmVjZWl2ZWRcIiwhMSksVCh0aGlzLFwiZXN0YWJsaXNoUHJvbWlzZVwiLHZvaWQgMCksVCh0aGlzLFwibXV0ZXhcIixuZXcgemUoXCJQMlBDb25uZWN0aW9uLW11dGV4XCIpKSx0aGlzLnN0b3JlPW4sdGhpcy5wZWVyQ29ubmVjdGlvbj1uZXcgUlRDUGVlckNvbm5lY3Rpb24oWGEucmVzb2x2ZVBDQ29uZmlndXJhdGlvbihlKSx7b3B0aW9uYWw6W3tnb29nRHNjcDohMH1dfSksdGhpcy5zdGF0c0ZpbHRlcj1OZih0aGlzLnBlZXJDb25uZWN0aW9uLHYoXCJTVEFUU19VUERBVEVfSU5URVJWQUxcIiksdm9pZCAwLCR0KCk/MTIwMDp2b2lkIDApLHRoaXMuYmluZFBDRXZlbnRzKCksdGhpcy5iaW5kU3RhdHNFdmVudHMoKSx0aGlzLnN0b3JlLnAycElkPXRoaXMuc3RvcmUucDJwSWQrMSx0aGlzLmVzdGFibGlzaFByb21pc2U9dGhpcy5lc3RhYmxpc2goKTt9YXN5bmMgZXN0YWJsaXNoKCl7dHJ5e2xldCBlPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoe29mZmVyVG9SZWNlaXZlQXVkaW86ITAsb2ZmZXJUb1JlY2VpdmVWaWRlbzohMH0pO2lmKCFlLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGluaXRpYWxPZmZlci5zZHAgd2hlbiB0cnlpbmcgdG8gZXN0YWJsaXNoIFBlZXJDb25uZWN0aW9uLlwiKTtsZXQgbj1pbyhlLnNkcCksaT1MYyhlLnNkcCx7ZmlsdGVyUlRYOiF0aGlzLnVzZVJUWCxmaWx0ZXJWaWRlb0ZlYzp2KFwiRklMVEVSX1ZJREVPX0ZFQ1wiKSxmaWx0ZXJBdWRpb0ZlYzp2KFwiRklMVEVSX0FVRElPX0ZFQ1wiKSxmaWx0ZXJBdWRpb0NvZGVjOltcIm9wdXNcIl19KTtyZXR1cm4gdGhpcy5sb2NhbENhcGFiaWxpdGllcz1pLHRoaXMuaW5pdGlhbE9mZmVyPWUscWQocWQoe30sbikse30se3J0cENhcGFiaWxpdGllczp7c2VuZDp7YXVkaW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvQ29kZWNzOltdLHZpZGVvRXh0ZW5zaW9uczpbXX0scmVjdjp7YXVkaW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvQ29kZWNzOltdLHZpZGVvRXh0ZW5zaW9uczpbXX0sc2VuZHJlY3Y6aX0sb2ZmZXJTRFA6ZS5zZHB9KX1jYXRjaChlKXt0aHJvdyBuZXcgTihSLkdFVF9MT0NBTF9DT05ORUNUSU9OX1BBUkFNU19GQUlMRUQsZS50b1N0cmluZygpKX19YXN5bmMgdXBkYXRlUmVtb3RlQ29ubmVjdCgpe31hc3luYyBjb25uZWN0KGUpe3RyeXtpZighdGhpcy5pbml0aWFsT2ZmZXIpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGVzdGFibGlzaCBQMlBDb25uZWN0aW9uIHdpdGhvdXQgaW5pdGlhbCBvZmZlci5cIik7dGhpcy5yZW1vdGVTRFA9bmV3IGNsYXNze2NvbnN0cnVjdG9yKGkpe1QodGhpcyxcInNlc3Npb25EZXNjXCIsdm9pZCAwKSxUKHRoaXMsXCJsb2NhbENhcGFiaWxpdGllc1wiLHZvaWQgMCksVCh0aGlzLFwicnRwQ2FwYWJpbGl0aWVzXCIsdm9pZCAwKSxUKHRoaXMsXCJjYW5kaWRhdGVzXCIsdm9pZCAwKSxUKHRoaXMsXCJpY2VQYXJhbWV0ZXJzXCIsdm9pZCAwKSxUKHRoaXMsXCJkdGxzUGFyYW1ldGVyc1wiLHZvaWQgMCksVCh0aGlzLFwic2V0dXBcIix2b2lkIDApLFQodGhpcyxcImN1cnJlbnRNaWRJbmRleFwiLHZvaWQgMCksVCh0aGlzLFwiY25hbWVcIix2b2lkIDApLGk9bGUoaSk7bGV0e2ljZVBhcmFtZXRlcnM6cixkdGxzUGFyYW1ldGVyczpvLGNhbmRpZGF0ZXM6cyxydHBDYXBhYmlsaXRpZXM6YSxzZXR1cDpjLGxvY2FsQ2FwYWJpbGl0aWVzOmQsc2RrQ29kZWM6bCxjbmFtZTp1fT1pLGg9TGUucGFyc2UoYHY9MFxubz0tIDAgMCBJTiBJUDQgMTI3LjAuMC4xXG5zPUFnb3JhR2F0ZXdheVxudD0wIDBcbmE9Z3JvdXA6QlVORExFIGF1ZGlvIHZpZGVvXG5hPW1zaWQtc2VtYW50aWM6IFdNU1xuYT1pY2UtbGl0ZVxubT1hdWRpbyA5IFVEUC9UTFMvUlRQL1NBVlBGIDBcbmM9SU4gSVA0IDEyNy4wLjAuMVxuYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcbmE9c2VuZHJlY3ZcbmE9cnRjcC1tdXhcbmE9cnRjcC1yc2l6ZVxuYT1taWQ6YXVkaW9cbm09dmlkZW8gOSBVRFAvVExTL1JUUC9TQVZQRiAwXG5jPUlOIElQNCAxMjcuMC4wLjFcbmE9cnRjcDo5IElOIElQNCAwLjAuMC4wXG5hPXNlbmRyZWN2XG5hPXJ0Y3AtbXV4XG5hPXJ0Y3AtcnNpemVcbmE9bWlkOnZpZGVvXG5gKTt0aGlzLnJ0cENhcGFiaWxpdGllcz1hLHRoaXMuY2FuZGlkYXRlcz1zLHRoaXMuaWNlUGFyYW1ldGVycz1yLHRoaXMuZHRsc1BhcmFtZXRlcnM9byx0aGlzLnNldHVwPWMsdGhpcy5sb2NhbENhcGFiaWxpdGllcz1kLHRoaXMuY25hbWU9dTtmb3IobGV0IHA9MDtwPGgubWVkaWFEZXNjcmlwdGlvbnMubGVuZ3RoO3ArKyl7bGV0IGc9aC5tZWRpYURlc2NyaXB0aW9uc1twXTtpZihnLmF0dHJpYnV0ZXMuaWNlVWZyYWc9ci5pY2VVZnJhZyxnLmF0dHJpYnV0ZXMuaWNlUHdkPXIuaWNlUHdkLGcuYXR0cmlidXRlcy5maW5nZXJwcmludHM9by5maW5nZXJwcmludHMsZy5hdHRyaWJ1dGVzLmNhbmRpZGF0ZXM9cyxnLmF0dHJpYnV0ZXMuc2V0dXA9YyxnLm1lZGlhLm1lZGlhVHlwZT09PVwidmlkZW9cIil7Zy5tZWRpYS5mbXRzPWEudmlkZW9Db2RlY3MubWFwKGY9PmYucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKTtsZXQgRT1hLnZpZGVvQ29kZWNzLmZpbHRlcihmPT57dmFyIFMsQztyZXR1cm4gKFM9Zi5ydHBNYXApPT09bnVsbHx8Uz09PXZvaWQgMD92b2lkIDA6VyhDPVMuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpLmNhbGwoQyxsKX0pO0UubGVuZ3RoPT09MCYmKEU9YS52aWRlb0NvZGVjcyksZy5hdHRyaWJ1dGVzLnBheWxvYWRzPUUsZy5hdHRyaWJ1dGVzLmV4dG1hcHM9YS52aWRlb0V4dGVuc2lvbnM7fWcubWVkaWEubWVkaWFUeXBlPT09XCJhdWRpb1wiJiYoZy5tZWRpYS5mbXRzPWEuYXVkaW9Db2RlY3MubWFwKEU9PkUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSxnLmF0dHJpYnV0ZXMucGF5bG9hZHM9YS5hdWRpb0NvZGVjcyxnLmF0dHJpYnV0ZXMuZXh0bWFwcz1hLmF1ZGlvRXh0ZW5zaW9ucyksaC5tZWRpYURlc2NyaXB0aW9uc1twXT10aGlzLm11bmdNZWRpYURlc2MoZyk7fXRoaXMuc2Vzc2lvbkRlc2M9aCx0aGlzLmN1cnJlbnRNaWRJbmRleD1oLm1lZGlhRGVzY3JpcHRpb25zLmxlbmd0aC0xO310b1N0cmluZygpe3JldHVybiBMZS5wcmludCh0aGlzLnNlc3Npb25EZXNjKX1zZW5kKGkscixvKXtsZXR7c3NyY3M6cyxzc3JjR3JvdXBzOmF9PUxvKHIsdGhpcy5jbmFtZSksYz10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQodT0+aT09PVEuVklERU8/dS5tZWRpYS5tZWRpYVR5cGU9PT1cInZpZGVvXCI6dS5tZWRpYS5tZWRpYVR5cGU9PT1cImF1ZGlvXCIpLGQ9c1swXS5hdHRyaWJ1dGVzLmxhYmVsLGw9c1swXS5hdHRyaWJ1dGVzLm1zbGFiZWw7cmV0dXJuIGMuYXR0cmlidXRlcy5zc3Jjcz1jLmF0dHJpYnV0ZXMuc3NyY3MuY29uY2F0KHMpLGMuYXR0cmlidXRlcy5zc3JjR3JvdXBzPWMuYXR0cmlidXRlcy5zc3JjR3JvdXBzLmNvbmNhdChhKSx7aWQ6ZCxtc2xhYmVsOmx9fWJhdGNoU2VuZChpKXtyZXR1cm4gaS5tYXAocj0+e2xldHtraW5kOm8sc3NyY01zZzpzfT1yO3JldHVybiB0aGlzLnNlbmQobyxzLHZvaWQgMCl9KX1zdG9wU2VuZGluZyhpKXt0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZvckVhY2gocj0+e2xldCBvPVtdLHM9W10sYT1bXTtyLmF0dHJpYnV0ZXMuc3NyY3MuZm9yRWFjaChjPT57VyhpKS5jYWxsKGksYy5hdHRyaWJ1dGVzLmxhYmVsfHxcIlwiKT9hLnB1c2goYyk6by5wdXNoKGMpO30pLHIuYXR0cmlidXRlcy5zc3JjR3JvdXBzLmZvckVhY2goYz0+e3ZhciBkO1coZD1hLm1hcChsPT5sLnNzcmNJZCkpLmNhbGwoZCxjLnNzcmNJZHNbMF0pfHxzLnB1c2goYyk7fSksci5hdHRyaWJ1dGVzLnNzcmNzPW8sci5hdHRyaWJ1dGVzLnNzcmNHcm91cHM9czt9KTt9bXV0ZShpKXtsZXQgcj10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQobz0+by5hdHRyaWJ1dGVzLm1pZD09PWkpO2lmKCFyKXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb24gbm90IGZvdW5kIHdpdGggXCIuY29uY2F0KGksXCIgaW4gcmVtb3RlIFNEUCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLm11dGUuXCIpKTtyLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIjt9dW5tdXRlKGkpe2xldCByPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZChvPT5vLmF0dHJpYnV0ZXMubWlkPT09aSk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKFwibWVkaWFEZXNjcmlwdGlvbiBub3QgZm91bmQgd2l0aCBcIi5jb25jYXQoaSxcIiBpbiByZW1vdGUgU0RQIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAudW5tdXRlLlwiKSk7ci5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cInNlbmRvbmx5XCI7fXJlY2VpdmUoaSxyLG8pe2kuZm9yRWFjaCgocyxhKT0+e2xldCBjPXMuX21lZGlhU3RyZWFtVHJhY2ssZD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmRJbmRleCh1PT51LmF0dHJpYnV0ZXMubWlkPT09Yy5raW5kKSxsPXRoaXMubXVuZ1JlY3ZNZWRpYURzZWModGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tkXSxzKTt0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2RdPWw7fSk7fXN0b3BSZWNlaXZpbmcoaSl7fXVwZGF0ZUNhbmRpZGF0ZXMoaSl7aT09PU9uLlRDUD90aGlzLmNhbmRpZGF0ZXMuZm9yRWFjaChyPT57dGhpcy5jYW5kaWRhdGVzLmZpbmRJbmRleChvPT5vLnRyYW5zcG9ydD09PVwidGNwXCImJm8uY29ubmVjdGlvbkFkZHJlc3M9PT1yLmNvbm5lY3Rpb25BZGRyZXNzJiZvLnBvcnQ9PT1yLnBvcnQpPT09LTEmJnRoaXMuY2FuZGlkYXRlcy5wdXNoKE12KE12KHt9LHIpLHt9LHtmb3VuZGF0aW9uOlwidGNwY2FuZGlkYXRlXCIscHJpb3JpdHk6TnVtYmVyKHIucHJpb3JpdHkpLTErXCJcIix0cmFuc3BvcnQ6XCJ0Y3BcIixwb3J0Ok51bWJlcihyLnBvcnQpKzkwK1wiXCJ9KSk7fSk6dGhpcy5jYW5kaWRhdGVzPXRoaXMuY2FuZGlkYXRlcy5maWx0ZXIocj0+ci50cmFuc3BvcnQhPT1cInRjcFwiKTtmb3IobGV0IHIgb2YgdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucylyLmF0dHJpYnV0ZXMuY2FuZGlkYXRlcz10aGlzLmNhbmRpZGF0ZXM7fXJlc3RhcnRJQ0UoaSl7aT1sZShpKSx0aGlzLmljZVBhcmFtZXRlcnM9aSx0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZvckVhY2gocj0+e3IuYXR0cmlidXRlcy5pY2VVZnJhZz1pLmljZVVmcmFnLHIuYXR0cmlidXRlcy5pY2VQd2Q9aS5pY2VQd2Q7fSk7fXByZWRpY3RSZWNlaXZpbmdNaWRzKGkpe2xldCByPVtdO2ZvcihsZXQgbz0wO288aTtvKyspci5wdXNoKCh0aGlzLmN1cnJlbnRNaWRJbmRleCtvKzEpLnRvU3RyaW5nKDEwKSk7cmV0dXJuIHJ9bXVuZ1JlY3ZNZWRpYURzZWMoaSxyKXtsZXQgbz1sZShpKTtyZXR1cm4gcmEobyxyKSx2ZihvLHIpLG99dXBkYXRlUmVjdk1lZGlhKGkscil7bGV0IG89dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kSW5kZXgocz0+cy5hdHRyaWJ1dGVzLm1pZD09PWkpO2lmKG8hPT0tMSl7bGV0IHM9dGhpcy5tdW5nUmVjdk1lZGlhRHNlYyh0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW29dLHIpO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbb109czt9fWJ1bXBNaWQoaSl7dGhpcy5jdXJyZW50TWlkSW5kZXgrPWk7fXVwZGF0ZVRyYWNrTGFiZWwoaSxyLG8pe2xldCBzPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZChjPT5pPT09US5WSURFTz9jLmF0dHJpYnV0ZXMubWlkPT09XCJ2aWRlb1wiOmMuYXR0cmlidXRlcy5taWQ9PT1cImF1ZGlvXCIpO2lmKHMpe2xldCBjPXMuYXR0cmlidXRlcy5zc3Jjcy5maW5kKGQ9PmQuYXR0cmlidXRlcy5sYWJlbD09PXIpO3ZhciBhO2MmJihjLmF0dHJpYnV0ZXMubGFiZWw9bywoYT1jLmF0dHJpYnV0ZXMubXNpZCk9PT1udWxsfHxhPT09dm9pZCAwfHxhLnJlcGxhY2UocixvKSk7fX1tdW5nTWVkaWFEZXNjKGkpe2xldCByPWxlKGkpO3JldHVybiBJZihyKSxmdW5jdGlvbihvKXtsZXQgcz1vLmF0dHJpYnV0ZXMuZXh0bWFwcy5maW5kKGE9PmEuZXh0ZW5zaW9uTmFtZT09PVwiaHR0cDovL3d3dy5pZXRmLm9yZy9pZC9kcmFmdC1ob2xtZXItcm1jYXQtdHJhbnNwb3J0LXdpZGUtY2MtZXh0ZW5zaW9ucy0wMVwiKTtzJiZvLmF0dHJpYnV0ZXMuZXh0bWFwcy5zcGxpY2Uoby5hdHRyaWJ1dGVzLmV4dG1hcHMuaW5kZXhPZihzKSwxKSxvLmF0dHJpYnV0ZXMucGF5bG9hZHMuZm9yRWFjaChhPT57bGV0IGM9YS5ydGNwRmVlZGJhY2tzLmZpbmRJbmRleChkPT5kLnR5cGU9PT1cInRyYW5zcG9ydC1jY1wiKTtjIT09LTEmJmEucnRjcEZlZWRiYWNrcy5zcGxpY2UoYywxKTt9KTt9KHIpLHJ9Z2V0U1NSQyhpKXtmb3IobGV0IHIgb2YgdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucylmb3IobGV0IG8gb2Ygci5hdHRyaWJ1dGVzLnNzcmNzKWlmKG8uYXR0cmlidXRlcy5sYWJlbD09PWkpcmV0dXJuIFtvXX19KHFkKHFkKHt9LGUpLHt9LHtydHBDYXBhYmlsaXRpZXM6ZS5ydHBDYXBhYmlsaXRpZXMuc2VuZCxsb2NhbENhcGFiaWxpdGllczp0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLHNka0NvZGVjOnRoaXMuc3RvcmUuY29kZWN9KSk7bGV0IG49dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24odGhpcy5pbml0aWFsT2ZmZXIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6bn0pO31jYXRjaChuKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLmNvbm5lY3QgZmFpbGVkOyBcIi5jb25jYXQobi50b1N0cmluZygpKSl9fWFzeW5jIHVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhlLG4pe3Rocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcIlBsYW5iIG1vZGUgZG9lcyBub3Qgc3VwcG9ydCBjcmVhdGVEYXRhQ2hhbm5lbHMuXCIpfWdldFByZU1lZGlhKGUpe31zZW5kKGUsbil7dmFyIGk9dGhpcztyZXR1cm4gQmkoZnVuY3Rpb24qKCl7bGV0IHI9eWllbGQgVHQoaS5tdXRleC5sb2NrKCkpO3RyeXtpZighaS5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5zZW5kIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWRcIik7bGV0IG89ZS5tYXAoaD0+aS5wZWVyQ29ubmVjdGlvbi5hZGRUcmFjayhoLl9tZWRpYVN0cmVhbVRyYWNrKSkscz15aWVsZCBUdChpLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkpLGE9TGUucGFyc2Uocy5zZHApLGM9ZS5tYXAoaD0+e2xldCBwPWguX21lZGlhU3RyZWFtVHJhY2ssZz1hLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoRT0+RS5hdHRyaWJ1dGVzLm1pZD09PXAua2luZCk7aWYoIWcpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGV4dHJhY3Qgc3NyYyBmcm9tIG1lZGlhRGVzY3JpcHRpb24uXCIpO3JldHVybiBmdW5jdGlvbihFLGYsUyl7bGV0IEM9RS5hdHRyaWJ1dGVzLnNzcmNzLmZpbHRlcihiPT5iLmF0dHJpYnV0ZXMubGFiZWw9PT1mKSxBPUUuYXR0cmlidXRlcy5zc3JjR3JvdXBzO2lmKEMubGVuZ3RoPT09MCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZXh0cmFjdCBzc3JjIGZyb20gcGxhbi1iIFNEUC5cIik7aWYoQSYmQy5sZW5ndGg+MSl7bGV0IGI9QS5maW5kKHc9Pncuc3NyY0lkcy5pbmRleE9mKENbMF0uc3NyY0lkKSE9PS0xKTtyZXR1cm4gYj9be3NzcmNJZDpiLnNzcmNJZHNbMF0scnR4OlM/Yi5zc3JjSWRzWzFdOnZvaWQgMH1dOlt7c3NyY0lkOkNbMF0uc3NyY0lkfV19cmV0dXJuIFt7c3NyY0lkOkNbMF0uc3NyY0lkfV19KGcscC5pZCxpLnVzZVJUWCl9KSxkO3RyeXtkPXlpZWxkIGM7fWNhdGNoKGgpe3Rocm93IG8uZm9yRWFjaChwPT57amUoKSYmcC5yZXBsYWNlVHJhY2sobnVsbCksaS5wZWVyQ29ubmVjdGlvbi5yZW1vdmVUcmFjayhwKTt9KSxofWxldCBsPWkubXVuZ1NlbmRPZmZlclNEUChzLnNkcCxlKTtpLnJlbW90ZVNEUC5yZWNlaXZlKGUsbixkKTtsZXQgdT1pLnJlbW90ZVNEUC50b1N0cmluZygpO3JldHVybiB5aWVsZCBUdChpLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpsfSkpLHlpZWxkIFR0KGkuYXBwbHlTZW5kRW5jb2RpbmdzKG8sZSkpLHlpZWxkIFR0KGkucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6dX0pKSxlLm1hcCgoaCxwKT0+e2xldCBnPWguX21lZGlhU3RyZWFtVHJhY2suaWQ7cmV0dXJuIHtsb2NhbFNTUkM6Y1twXSxpZDpnfX0pfWNhdGNoKG8pe3Rocm93IG5ldyBOKFIuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uc2VuZCBmYWlsZWQ7IFwiLmNvbmNhdChvLnRvU3RyaW5nKCkpKX1maW5hbGx5e3IoKTt9fSkoKX1hc3luYyBzdG9wU2VuZGluZyhlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uc3RvcFNlbmRpbmcgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtsZXQgbj10aGlzLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maWx0ZXIobz0+e3ZhciBzO3JldHVybiBlLmluZGV4T2YoKChzPW8udHJhY2spPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy5pZCl8fFwiXCIpIT09LTF9KTtpZihuLmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRyYW5zY2VpdmVycycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoIHdoZW4gdHJ5aW5nIHRvIGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZy5cIik7bi5tYXAobz0+e2plKCkmJm8ucmVwbGFjZVRyYWNrKG51bGwpLHRoaXMucGVlckNvbm5lY3Rpb24ucmVtb3ZlVHJhY2sobyk7fSk7bGV0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihpKSx0aGlzLnJlbW90ZVNEUC5zdG9wUmVjZWl2aW5nKGUpO2xldCByPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpyfSk7fWNhdGNoKG4pe3Rocm93IG5ldyBOKFIuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uc3RvcFNlbmRpbmcgZmFpbGVkOyBcIi5jb25jYXQobi50b1N0cmluZygpKSl9fWFzeW5jIHJlY2VpdmUoZSxuLGkscil7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnJlY2VpdmUgXCIuY29uY2F0KGUsXCIgYmVmb3JlIHJlbW90ZVNEUCBjcmVhdGVkLlwiKSk7bGV0e2lkOm8sbXNsYWJlbDpzfT10aGlzLnJlbW90ZVNEUC5zZW5kKGUsbixyKSxhPW5ldyBqKChsLHUpPT57bGV0IGg9c2V0VGltZW91dCgoKT0+e3UobmV3IEVycm9yKFwiQ2Fubm90IHJlY2VpdmUgdHJhY2ssIGlkOiBcIi5jb25jYXQobykpKTt9LDFlNCkscD1nPT57bGV0IEU9bXQoKTtpZigoRS5uYW1lPT09XCJTYWZhcmlcIiYmTnVtYmVyKEUudmVyc2lvbik9PT0xMXx8bG4oKSkmJmcudHJhY2suaWQhPT1vJiZnLnN0cmVhbXNbMF0uaWQ9PT1zKXt2YXIgZjtsZXQgUz1nLnN0cmVhbXNbMF0uZ2V0VHJhY2tzKClbMF07cmV0dXJuIChmPXRoaXMucmVtb3RlU0RQKT09PW51bGx8fGY9PT12b2lkIDB8fGYudXBkYXRlVHJhY2tMYWJlbChlLG8sZy50cmFjay5pZCksdGhpcy5wZWVyQ29ubmVjdGlvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhY2tcIixwKSxjbGVhclRpbWVvdXQoaCksdm9pZCBsKFMpfWlmKGcudHJhY2suaWQ9PT1vKXJldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHApLGNsZWFyVGltZW91dChoKSx2b2lkIGwoZy50cmFjayl9O3RoaXMucGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIscCk7fSksYz10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpjfSk7bGV0IGQ9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtyZXR1cm4gYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGQpLHt0cmFjazphd2FpdCBhLGlkOm99fWNhdGNoKG8pe3Rocm93IG5ldyBOKFIuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24ucmVjZWl2ZSBmYWlsZWQ7IFwiLmNvbmNhdChvLnRvU3RyaW5nKCkpKX19YXN5bmMgc3RvcFJlY2VpdmluZyhlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uc3RvcFJlY2VpdmluZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTt0aGlzLnJlbW90ZVNEUC5zdG9wU2VuZGluZyhlKTtsZXQgbj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpufSk7bGV0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaSk7fWNhdGNoKG4pe3Rocm93IG5ldyBOKFIuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24gc3RvcFJlY2VpdmluZyBmYWlsZWQ7IFwiLmNvbmNhdChuLnRvU3RyaW5nKCkpKX19YXN5bmMgbXV0ZVJlbW90ZShlKXt9YXN5bmMgdW5tdXRlUmVtb3RlKGUpe31hc3luYyBtdXRlTG9jYWwoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLm11dGVMb2NhbCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtsZXQgbj10aGlzLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maWx0ZXIoaT0+e3ZhciByO3JldHVybiBlLmluZGV4T2YoKChyPWkudHJhY2spPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5pZCl8fFwiXCIpIT09LTF9KTtpZihuLmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInNlbmRlcicgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoLlwiKTtuLm1hcChpPT57aWYoamUoKSYmaS50cmFjaylpLnRyYWNrLmVuYWJsZWQ9ITE7ZWxzZSB7bGV0IHI9aS5nZXRQYXJhbWV0ZXJzKCk7ci5lbmNvZGluZ3MuZm9yRWFjaChvPT5vLmFjdGl2ZT0hMSksaS5zZXRQYXJhbWV0ZXJzKHIpO319KTt9Y2F0Y2gobil7dGhyb3cgbmV3IE4oUi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5tdXRlTG9jYWwgZmFpbGVkOyBcIi5jb25jYXQobi50b1N0cmluZygpKSl9fWFzeW5jIHVubXV0ZUxvY2FsKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi51bm11dGVMb2NhbCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtsZXQgbj10aGlzLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maWx0ZXIobz0+e3ZhciBzO3JldHVybiBlLmluZGV4T2YoKChzPW8udHJhY2spPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy5pZCl8fFwiXCIpIT09LTF9KTtpZihuLmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlNlbmRlcnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aC5cIik7bi5tYXAoYXN5bmMgbz0+e2lmKGplKCkmJm8udHJhY2spby50cmFjay5lbmFibGVkPSEwO2Vsc2Uge2xldCBzPW8uZ2V0UGFyYW1ldGVycygpO3MuZW5jb2RpbmdzLmZvckVhY2goYT0+YS5hY3RpdmU9ITApLGF3YWl0IG8uc2V0UGFyYW1ldGVycyhzKTt9fSk7bGV0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihpKTtsZXQgcj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6cn0pO31jYXRjaChuKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnVubXV0ZUxvY2FsIGZhaWxlZDsgXCIuY29uY2F0KG4udG9TdHJpbmcoKSkpfX1yZXN0YXJ0SUNFKGUpe3ZhciBuPXRoaXM7cmV0dXJuIEJpKGZ1bmN0aW9uKigpe2xldCBpPXlpZWxkIFR0KG4ubXV0ZXgubG9jayhcIkZyb20gUDJQQ29ubmVjdGlvbi5yZXN0YXJ0SUNFXCIpKTt0cnl7aWYoIW4ucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXN0YXJ0SUNFIGJlZm9yZSByZW1vdGVTRFAgY3JlYXRlZC5cIik7aWYoZnQoKS5zdXBwb3J0UENTZXRDb25maWd1cmF0aW9uKXtsZXQgYz1uLnBlZXJDb25uZWN0aW9uLmdldENvbmZpZ3VyYXRpb24oKSxkPWU9PT1Pbi5SRUxBWT9cInJlbGF5XCI6XCJhbGxcIjtjLmljZVRyYW5zcG9ydFBvbGljeSE9PWQmJihfLmRlYnVnKFwiW1wiLmNvbmNhdChuLnN0b3JlLmNsaWVudElkLFwiXSByZXN0YXJ0SUNFIGNoYW5nZSBpY2VUcmFuc3BvcnRQb2xpY3kgZnJvbSBbXCIpLmNvbmNhdChjLmljZVRyYW5zcG9ydFBvbGljeSxcIl0gdG8gW1wiKS5jb25jYXQoZCxcIl1cIikpLGMuaWNlVHJhbnNwb3J0UG9saWN5PWQsbi5wZWVyQ29ubmVjdGlvbi5zZXRDb25maWd1cmF0aW9uKGMpKTt9ZWxzZSBpZihlPT09T24uUkVMQVkpcmV0dXJuO2UhPT1Pbi5SRUxBWSYmbi5yZW1vdGVTRFAudXBkYXRlQ2FuZGlkYXRlcyhlKTtsZXQgcj15aWVsZCBUdChuLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKHtpY2VSZXN0YXJ0OiEwfSkpO2lmKCFyLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzdGFydElDRSBiZWNhdXNlIHJlc3RhcnQgb2ZmZXIgU0RQIGRvZXMgbm90IGV4aXN0LlwiKTtsZXQgbz1pbyhyLnNkcCkse3JlbW90ZUljZVBhcmFtZXRlcnM6c309eWllbGQgby5pY2VQYXJhbWV0ZXJzO24ucmVtb3RlU0RQLnJlc3RhcnRJQ0Uocyk7bGV0IGE9bi5yZW1vdGVTRFAudG9TdHJpbmcoKTt5aWVsZCBUdChuLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24ocikpLHlpZWxkIFR0KG4ucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6YX0pKTt9Y2F0Y2gocil7Xy53YXJuaW5nKFwiW1wiLmNvbmNhdChuLnN0b3JlLmNsaWVudElkLFwiXSByZXN0YXJ0IElDRSBmYWlsZWQsIGFib3J0IG9wZXJhdGlvblwiKSxyKTt9ZmluYWxseXtpKCk7fX0pKCl9Y2xvc2UoKXt2YXIgZTt0aGlzLnBlZXJDb25uZWN0aW9uLmNsb3NlKCksKGU9dGhpcy5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZSk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmNhbGwodGhpcyxcImNsb3NlZFwiKSx0aGlzLnVuYmluZFBDRXZlbnRzKCksdGhpcy51bmJpbmRTdGF0c0V2ZW50cygpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5zdGF0c0ZpbHRlci5kZXN0cm95KCk7fWdldFN0YXRzKCl7cmV0dXJuIHRoaXMuc3RhdHNGaWx0ZXIuZ2V0U3RhdHMoKX1nZXRSZW1vdGVWaWRlb0lzUmVhZHkoZSl7cmV0dXJuIHRoaXMuc3RhdHNGaWx0ZXIuZ2V0VmlkZW9Jc1JlYWR5KGUpfWFzeW5jIHVwZGF0ZUVuY29kZXJDb25maWcoZSxuKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24udXBkYXRlRW5jb2RlckNvbmZpZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtsZXQgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkscj10aGlzLm11bmdTZW5kT2ZmZXJTRFAoaS5zZHAsW25dKTt0aGlzLnJlbW90ZVNEUC51cGRhdGVSZWN2TWVkaWEobi5fbWVkaWFTdHJlYW1UcmFjay5raW5kLG4pO2xldCBvPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6cn0pLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6b30pO31jYXRjaChpKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsaS50b1N0cmluZygpKX19YXN5bmMgdXBkYXRlU2VuZFBhcmFtZXRlcnMoZSxuKXtsZXQgaT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maWx0ZXIocj0+e3ZhciBvO3JldHVybiAoKG89ci50cmFjayk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLmlkKT09PWV9KTtpLmxlbmd0aD09PTEmJmF3YWl0IHRoaXMuYXBwbHlTZW5kRW5jb2RpbmdzKGksW25dKTt9c2V0U3RhdHNSZW1vdGVWaWRlb0lzUmVhZHkoZSxuKXt0aGlzLnN0YXRzRmlsdGVyLnNldFZpZGVvSXNSZWFkeTIoZSxuKTt9YXN5bmMgcmVwbGFjZVRyYWNrKGUsbil7bGV0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmluZChyPT57dmFyIG87cmV0dXJuICgobz1yLnRyYWNrKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8uaWQpPT09bn0pO2kmJmF3YWl0IGkucmVwbGFjZVRyYWNrKGUuX21lZGlhU3RyZWFtVHJhY2spO31jcmVhdGVEYXRhQ2hhbm5lbHMoZSxuKXt0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJQbGFuYiBtb2RlIGRvZXMgbm90IHN1cHBvcnQgY3JlYXRlRGF0YUNoYW5uZWxzLlwiKX1zdG9wRGF0YUNoYW5uZWxzKGUpe3Rocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcIlBsYW5iIG1vZGUgZG9lcyBub3Qgc3VwcG9ydCBzdG9wRGF0YUNoYW5uZWxzLlwiKX1iaW5kUENFdmVudHMoKXt0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPSgpPT57dmFyIGU7KGU9dGhpcy5vbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmNhbGwodGhpcyx0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSk7fSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlPSgpPT57dmFyIGU7KGU9dGhpcy5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZSk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmNhbGwodGhpcyx0aGlzLnBlZXJDb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0ZSk7fSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPWU9PntlLmNhbmRpZGF0ZT90aGlzLmxvY2FsQ2FuZGlkYXRlQ291bnQrPTE6KHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9bnVsbCx0aGlzLmFsbENhbmRpZGF0ZXNSZWNlaXZlZD0hMCxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcGMtXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBsb2NhbCBjYW5kaWRhdGUgY291bnRcIiksdGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50KSk7fSxzZXRUaW1lb3V0KCgpPT57dGhpcy5hbGxDYW5kaWRhdGVzUmVjZWl2ZWR8fCh0aGlzLmFsbENhbmRpZGF0ZXNSZWNlaXZlZD0hMCxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcGMtXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBvbmljZWNhbmRpZGF0ZSB0aW1lb3V0LCBsb2NhbCBjYW5kaWRhdGUgY291bnRcIiksdGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50KSk7fSx2KFwiQ0FORElEQVRFX1RJTUVPVVRcIikpO311bmJpbmRQQ0V2ZW50cygpe3RoaXMucGVlckNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZWVycm9yPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub250cmFjaz1udWxsO31zdGF0aWMgcmVzb2x2ZVBDQ29uZmlndXJhdGlvbihlKXtsZXQgbj17aWNlU2VydmVyczpbXSxzZHBTZW1hbnRpY3M6XCJwbGFuLWJcIn07cmV0dXJuIGUuaWNlU2VydmVycz9uLmljZVNlcnZlcnM9ZS5pY2VTZXJ2ZXJzOmUudHVyblNlcnZlciYmZS50dXJuU2VydmVyLm1vZGUhPT1cIm9mZlwiJiYoWXUoZS50dXJuU2VydmVyLnNlcnZlcnMpP24uaWNlU2VydmVycz1lLnR1cm5TZXJ2ZXIuc2VydmVyczoobi5pY2VTZXJ2ZXJzJiZuLmljZVNlcnZlcnMucHVzaCguLi5YYS50dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKGUudHVyblNlcnZlci5zZXJ2ZXJzKSksdihcIlVTRV9UVVJOX1NFUlZFUl9PRl9HQVRFV0FZXCIpJiZuLmljZVNlcnZlcnMmJmUudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkmJm4uaWNlU2VydmVycy5wdXNoKC4uLlhhLnR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnMoZS50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheSkpLGUudHVyblNlcnZlci5zZXJ2ZXJzLmNvbmNhdChlLnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5fHxbXSkuZm9yRWFjaChpPT57aS5mb3JjZXR1cm4mJihuLmljZVRyYW5zcG9ydFBvbGljeT1cInJlbGF5XCIpO30pKSksbn1zdGF0aWMgdHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyhlKXtsZXQgbj1bXTtyZXR1cm4gZS5mb3JFYWNoKGk9PntpLnNlY3VyaXR5P2kudGNwcG9ydCYmbi5wdXNoKHt1c2VybmFtZTppLnVzZXJuYW1lLGNyZWRlbnRpYWw6aS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm5zOlwiLmNvbmNhdChpLnR1cm5TZXJ2ZXJVUkwsXCI6XCIpLmNvbmNhdChpLnRjcHBvcnQsXCI/dHJhbnNwb3J0PXRjcFwiKX0pOihpLnVkcHBvcnQmJm4ucHVzaCh7dXNlcm5hbWU6aS51c2VybmFtZSxjcmVkZW50aWFsOmkucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuOlwiLmNvbmNhdChpLnR1cm5TZXJ2ZXJVUkwsXCI6XCIpLmNvbmNhdChpLnVkcHBvcnQsXCI/dHJhbnNwb3J0PXVkcFwiKX0pLGkudGNwcG9ydCYmbi5wdXNoKHt1c2VybmFtZTppLnVzZXJuYW1lLGNyZWRlbnRpYWw6aS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KGkudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KGkudGNwcG9ydCxcIj90cmFuc3BvcnQ9dGNwXCIpfSkpO30pLG59YXN5bmMgdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzKGUsbil7dmFyIGk7aWYobnx8KG49dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmluZChkPT57dmFyIGw7cmV0dXJuICgobD1kLnRyYWNrKT09PW51bGx8fGw9PT12b2lkIDA/dm9pZCAwOmwuaWQpPT09ZS5fbWVkaWFTdHJlYW1UcmFjay5pZH0pKSwhbilyZXR1cm4gXy53YXJuKFwiW1wiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl0gbm8gcnRwU2VuZGVyIGZvdW5kfVwiKSk7aWYoIWZ0KCkuc3VwcG9ydFNldFJ0cFNlbmRlclBhcmFtZXRlcnMpcmV0dXJuIF8ud2FybihcIkJyb3dzZXIgbm90IHN1cHBvcnQgc2V0IHJ0cC1zZW5kZXIgcGFyYW1ldGVyc1wiKTtsZXQgcj17fSxvPXt9O2lmKGUgaW5zdGFuY2VvZiBGdClzd2l0Y2goZS5fb3B0aW1pemF0aW9uTW9kZSl7Y2FzZVwibW90aW9uXCI6ci5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJtYWludGFpbi1mcmFtZXJhdGVcIjticmVhaztjYXNlXCJkZXRhaWxcIjpyLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cIm1haW50YWluLXJlc29sdXRpb25cIjticmVhaztkZWZhdWx0OnIuZGVncmFkYXRpb25QcmVmZXJlbmNlPVwiYmFsYW5jZWRcIjt9aWYodihcIkRTQ1BfVFlQRVwiKSYmaG8oKSl7dmFyIHM7bGV0IGQ9dihcIkRTQ1BfVFlQRVwiKTtXKHM9W1widmVyeS1sb3dcIixcImxvd1wiLFwibWVkaXVtXCIsXCJoaWdoXCJdKS5jYWxsKHMsZCkmJihvLm5ldHdvcmtQcmlvcml0eT1kKTt9bGV0IGE9bi5nZXRQYXJhbWV0ZXJzKCksYz0oaT1hLmVuY29kaW5ncyk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppWzBdO2MmJk9iamVjdC5hc3NpZ24oYyxvKSxPYmplY3QuYXNzaWduKGEsciksXy5kZWJ1ZyhcIltcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCJdIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5nczogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShhLmVuY29kaW5ncykpKSxhd2FpdCBuLnNldFBhcmFtZXRlcnMoYSk7fWFzeW5jIGFwcGx5U2VuZEVuY29kaW5ncyhlLG4pe3RyeXtpZighZnQoKS5zdXBwb3J0U2V0UnRwU2VuZGVyUGFyYW1ldGVyc3x8ZS5sZW5ndGghPT1uLmxlbmd0aClyZXR1cm47Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2xldCByPWVbaV0sbz1uW2ldO3ImJm8mJmF3YWl0IHRoaXMudXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzKG8scik7fX1jYXRjaHtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBBcHBseSBSVFBTZW5kRW5jb2RpbmdzIGZhaWxlZC5cIikpO319bXVuZ1NlbmRPZmZlclNEUChlLG4pe2xldCBpPUxlLnBhcnNlKGUpO3JldHVybiBuLmZvckVhY2goKHIsbyk9PntsZXQgcz1yLl9tZWRpYVN0cmVhbVRyYWNrLGE9aS5tZWRpYURlc2NyaXB0aW9ucy5maW5kKGM9PmMuYXR0cmlidXRlcy5taWQ9PT1zLmtpbmQpO2EmJnJhKGEscik7fSksTGUucHJpbnQoaSl9YmluZFN0YXRzRXZlbnRzKCl7dGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0QXVkaW9SZWNlaXZlZD1lPT57dmFyIG47KG49dGhpcy5vbkZpcnN0QXVkaW9SZWNlaXZlZCk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmNhbGwodGhpcyxlKTt9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvUmVjZWl2ZWQ9ZT0+e3ZhciBuOyhuPXRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jYWxsKHRoaXMsZSk7fSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb0RlY29kZWQ9ZT0+e3ZhciBuOyhuPXRoaXMub25GaXJzdEF1ZGlvRGVjb2RlZCk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmNhbGwodGhpcyxlKTt9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZD0oZSxuLGkpPT57dmFyIHI7KHI9dGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkKT09PW51bGx8fHI9PT12b2lkIDB8fHIuY2FsbCh0aGlzLGUsbixpKTt9LHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD0oZSxuKT0+e3ZhciBpOyhpPXRoaXMub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZCk9PT1udWxsfHxpPT09dm9pZCAwfHxpLmNhbGwodGhpcyxlLG4pO30sdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD0oZSxuKT0+e3ZhciBpOyhpPXRoaXMub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQpPT09bnVsbHx8aT09PXZvaWQgMHx8aS5jYWxsKHRoaXMsZSxuKTt9O311bmJpbmRTdGF0c0V2ZW50cygpe3RoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvUmVjZWl2ZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvRGVjb2RlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwO31hc3luYyBiYXRjaFJlY2VpdmUoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLmJhdGNoUmVjZWl2ZSBiZWZvcmUgcmVtb3RlU0RQIGNyZWF0ZWQuXCIpO2xldCBuPXRoaXMucmVtb3RlU0RQLmJhdGNoU2VuZChlKS5tYXAoKG8scyk9PntsZXR7aWQ6YSxtc2xhYmVsOmN9PW8se2tpbmQ6ZH09ZVtzXTtyZXR1cm4gbmV3IGooKGwsdSk9PntsZXQgaD1zZXRUaW1lb3V0KCgpPT57dShuZXcgRXJyb3IoXCJDYW5ub3QgcmVjZWl2ZSB0cmFjaywgaWQ6IFwiLmNvbmNhdChhKSkpO30sMWU0KSxwPWc9PntsZXQgRT1tdCgpO2lmKEUubmFtZT09PVwiU2FmYXJpXCImJk51bWJlcihFLnZlcnNpb24pPT09MTEmJmcudHJhY2suaWQhPT1hJiZnLnN0cmVhbXNbMF0uaWQ9PT1jKXt2YXIgZjtsZXQgUz1nLnN0cmVhbXNbMF0uZ2V0VHJhY2tzKClbMF07cmV0dXJuIChmPXRoaXMucmVtb3RlU0RQKT09PW51bGx8fGY9PT12b2lkIDB8fGYudXBkYXRlVHJhY2tMYWJlbChkLGEsZy50cmFjay5pZCksdGhpcy5wZWVyQ29ubmVjdGlvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhY2tcIixwKSxjbGVhclRpbWVvdXQoaCksdm9pZCBsKHt0cmFjazpTLGlkOmF9KX1pZihnLnRyYWNrLmlkPT09YSlyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhY2tcIixwKSxjbGVhclRpbWVvdXQoaCksdm9pZCBsKHt0cmFjazpnLnRyYWNrLGlkOmF9KX07dGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwidHJhY2tcIixwKTt9KX0pLGk9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6aX0pO2xldCByPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7cmV0dXJuIGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihyKSxhd2FpdCBqLmFsbChuKX1jYXRjaChuKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnJlY2VpdmUgZmFpbGVkOyBcIi5jb25jYXQobi50b1N0cmluZygpKSl9fWFzeW5jIGdldFJlbW90ZVNTUkMoZSl7aWYoIXRoaXMucmVtb3RlU0RQKXJldHVybjtsZXQgbj10aGlzLnJlbW90ZVNEUC5nZXRTU1JDKGUpO3JldHVybiBuPy5bMF0uc3NyY0lkfXNldENvbmZpZ3VyYXRpb24oZSl7aWYoZnQoKS5zdXBwb3J0UENTZXRDb25maWd1cmF0aW9uKXtsZXQgbj1YYS5yZXNvbHZlUENDb25maWd1cmF0aW9uKGUpO3RoaXMucGVlckNvbm5lY3Rpb24uc2V0Q29uZmlndXJhdGlvbihuKTt9fX0scShQdC5wcm90b3R5cGUsXCJjb25uZWN0XCIsW0puXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFB0LnByb3RvdHlwZSxcImNvbm5lY3RcIiksUHQucHJvdG90eXBlKSxxKFB0LnByb3RvdHlwZSxcInN0b3BTZW5kaW5nXCIsW0puXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFB0LnByb3RvdHlwZSxcInN0b3BTZW5kaW5nXCIpLFB0LnByb3RvdHlwZSkscShQdC5wcm90b3R5cGUsXCJyZWNlaXZlXCIsW0puXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFB0LnByb3RvdHlwZSxcInJlY2VpdmVcIiksUHQucHJvdG90eXBlKSxxKFB0LnByb3RvdHlwZSxcInN0b3BSZWNlaXZpbmdcIixbSm5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUHQucHJvdG90eXBlLFwic3RvcFJlY2VpdmluZ1wiKSxQdC5wcm90b3R5cGUpLHEoUHQucHJvdG90eXBlLFwibXV0ZVJlbW90ZVwiLFtKbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihQdC5wcm90b3R5cGUsXCJtdXRlUmVtb3RlXCIpLFB0LnByb3RvdHlwZSkscShQdC5wcm90b3R5cGUsXCJ1bm11dGVSZW1vdGVcIixbSm5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUHQucHJvdG90eXBlLFwidW5tdXRlUmVtb3RlXCIpLFB0LnByb3RvdHlwZSkscShQdC5wcm90b3R5cGUsXCJtdXRlTG9jYWxcIixbSm5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUHQucHJvdG90eXBlLFwibXV0ZUxvY2FsXCIpLFB0LnByb3RvdHlwZSkscShQdC5wcm90b3R5cGUsXCJ1bm11dGVMb2NhbFwiLFtKbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihQdC5wcm90b3R5cGUsXCJ1bm11dGVMb2NhbFwiKSxQdC5wcm90b3R5cGUpLHEoUHQucHJvdG90eXBlLFwiY2xvc2VcIixbSm5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUHQucHJvdG90eXBlLFwiY2xvc2VcIiksUHQucHJvdG90eXBlKSxxKFB0LnByb3RvdHlwZSxcInVwZGF0ZUVuY29kZXJDb25maWdcIixbSm5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUHQucHJvdG90eXBlLFwidXBkYXRlRW5jb2RlckNvbmZpZ1wiKSxQdC5wcm90b3R5cGUpLHEoUHQucHJvdG90eXBlLFwidXBkYXRlU2VuZFBhcmFtZXRlcnNcIixbSm5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUHQucHJvdG90eXBlLFwidXBkYXRlU2VuZFBhcmFtZXRlcnNcIiksUHQucHJvdG90eXBlKSxxKFB0LnByb3RvdHlwZSxcInJlcGxhY2VUcmFja1wiLFtKbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihQdC5wcm90b3R5cGUsXCJyZXBsYWNlVHJhY2tcIiksUHQucHJvdG90eXBlKSxxKFB0LnByb3RvdHlwZSxcImdldFJlbW90ZVNTUkNcIixbSm5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUHQucHJvdG90eXBlLFwiZ2V0UmVtb3RlU1NSQ1wiKSxQdC5wcm90b3R5cGUpLFB0KTtmdW5jdGlvbiBKbih0LGUsbil7bGV0IGk9dFtlXTtpZih0eXBlb2YgaSE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgbXV0ZXggb24gb2JqZWN0IHByb3BlcnR5LlwiKTtyZXR1cm4gbi52YWx1ZT1hc3luYyBmdW5jdGlvbigpe2xldCByPXRoaXMubXV0ZXgsbz1hd2FpdCByLmxvY2soXCJMb2NraW5nIGZyb20gUDJQQ29ubmVjdGlvbi5cIi5jb25jYXQoZSkpO3RyeXtmb3IodmFyIHM9YXJndW1lbnRzLmxlbmd0aCxhPW5ldyBBcnJheShzKSxjPTA7YzxzO2MrKylhW2NdPWFyZ3VtZW50c1tjXTtyZXR1cm4gYXdhaXQgaS5hcHBseSh0aGlzLGEpfWZpbmFsbHl7bygpO319LG59ZnVuY3Rpb24geHYodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59ZnVuY3Rpb24gV3IodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdIT1udWxsP2FyZ3VtZW50c1tlXTp7fTtlJTI/eHYoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe1QodCxpLG5baV0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnh2KE9iamVjdChuKSkuZm9yRWFjaChmdW5jdGlvbihpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixpKSk7fSk7fXJldHVybiB0fXZhciBGYT1cIjlcIixWdj00ZTQsdW09Y2xhc3N7Z2V0IGxvY2FsQ2FwYWJpbGl0aWVzKCl7cmV0dXJuIGxlKHRoaXMuX2xvY2FsQ2FwYWJpbGl0aWVzKX1nZXQgcnRwQ2FwYWJpbGl0aWVzKCl7cmV0dXJuIGxlKHRoaXMuX3J0cENhcGFiaWxpdGllcyl9Z2V0IGNhbmRpZGF0ZXMoKXtyZXR1cm4gbGUodGhpcy5fY2FuZGlkYXRlcyl9Z2V0IGljZVBhcmFtZXRlcnMoKXtyZXR1cm4gbGUodGhpcy5faWNlUGFyYW1ldGVycyl9Z2V0IGR0bHNQYXJhbWV0ZXJzKCl7cmV0dXJuIGxlKHRoaXMuX2R0bHNQYXJhbWV0ZXJzKX1jb25zdHJ1Y3RvcihlKXtUKHRoaXMsXCJzZXNzaW9uRGVzY1wiLHZvaWQgMCksVCh0aGlzLFwiX2xvY2FsQ2FwYWJpbGl0aWVzXCIsdm9pZCAwKSxUKHRoaXMsXCJfcnRwQ2FwYWJpbGl0aWVzXCIsdm9pZCAwKSxUKHRoaXMsXCJfY2FuZGlkYXRlc1wiLHZvaWQgMCksVCh0aGlzLFwiX2ljZVBhcmFtZXRlcnNcIix2b2lkIDApLFQodGhpcyxcIl9kdGxzUGFyYW1ldGVyc1wiLHZvaWQgMCksVCh0aGlzLFwic2V0dXBcIix2b2lkIDApLFQodGhpcyxcImN1cnJlbnRNaWRJbmRleFwiLHZvaWQgMCksVCh0aGlzLFwiY25hbWVcIix2b2lkIDApLFQodGhpcyxcImZpcmVmb3hTc3JjTWlkTWFwXCIsbmV3IE1hcCksZT1sZShlKTtsZXR7aWNlUGFyYW1ldGVyczpuLGR0bHNQYXJhbWV0ZXJzOmksY2FuZGlkYXRlczpyLHJ0cENhcGFiaWxpdGllczpvLHNldHVwOnMsbG9jYWxDYXBhYmlsaXRpZXM6YSxjbmFtZTpjfT1lO3RoaXMuX3J0cENhcGFiaWxpdGllcz1vLHRoaXMuX2NhbmRpZGF0ZXM9cix0aGlzLl9pY2VQYXJhbWV0ZXJzPW4sdGhpcy5fZHRsc1BhcmFtZXRlcnM9aSx0aGlzLl9sb2NhbENhcGFiaWxpdGllcz1hLHRoaXMuc2V0dXA9cyx0aGlzLmNuYW1lPWMsdGhpcy5zZXNzaW9uRGVzYz10aGlzLnVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhvKSx0aGlzLmN1cnJlbnRNaWRJbmRleD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmxlbmd0aC0xO31wcmVsb2FkUmVtb3RlTWVkaWEoZSl7bGV0IG49dGhpcy5jYW5kaWRhdGVzLGk9dGhpcy5kdGxzUGFyYW1ldGVycyxyPXRoaXMuaWNlUGFyYW1ldGVycyxvPXRoaXMucnRwQ2FwYWJpbGl0aWVzLnNlbmQscz10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmxlbmd0aC0xO2ZvcihsZXQgYT0xO2E8ZTthKyspe2xldCBjPTIqYSsyZTQsZD0yKmErVnYse3NzcmNzOmwsc3NyY0dyb3Vwczp1fT1Mbyhbe3NzcmNJZDpjfV0sdGhpcy5jbmFtZSkse3NzcmNzOmgsc3NyY0dyb3VwczpwfT1Mbyhbe3NzcmNJZDpkLHJ0eDp2KFwiVVNFX1NVQl9SVFhcIik/ZCsxOnZvaWQgMH1dLHRoaXMuY25hbWUpO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMucHVzaCh7bWVkaWE6e21lZGlhVHlwZTpcInZpZGVvXCIscG9ydDpGYSxwcm90b3M6W1wiVURQXCIsXCJUTFNcIixcIlJUUFwiLFwiU0FWUEZcIl0sZm10czpvLnZpZGVvQ29kZWNzLm1hcChnPT5nLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSl9LGNvbm5lY3Rpb25zOlt7bmV0dHlwZTpcIklOXCIsYWRkcnR5cGU6XCJJUDRcIixhZGRyZXNzOlwiMTI3LjAuMC4xXCJ9XSxiYW5kd2lkdGhzOltdLGF0dHJpYnV0ZXM6e2ljZVVmcmFnOnIuaWNlVWZyYWcsaWNlUHdkOnIuaWNlUHdkLHVucmVjb2duaXplZDpbXSxjYW5kaWRhdGVzOm4sZXh0bWFwczpvLnZpZGVvRXh0ZW5zaW9ucyxmaW5nZXJwcmludHM6aS5maW5nZXJwcmludHMsaW1hZ2VhdHRyOltdLG1zaWRzOltdLHJlbW90ZUNhbmRpZGF0ZXNMaXN0OltdLHJpZHM6W10sc3NyY3M6aCxzc3JjR3JvdXBzOnAscnRjcEZlZWRiYWNrV2lsZGNhcmRzOltdLHBheWxvYWRzOm8udmlkZW9Db2RlY3MscnRjcDp7cG9ydDpcIjlcIixuZXRUeXBlOlwiSU5cIixhZGRyZXNzVHlwZTpcIklQNFwiLGFkZHJlc3M6XCIwLjAuMC4wXCJ9LHNldHVwOnRoaXMuc2V0dXAsZGlyZWN0aW9uOlwic2VuZG9ubHlcIixydGNwTXV4OiEwLHJ0Y3BSc2l6ZTohMCxtaWQ6XCJcIi5jb25jYXQoKytzKX19KSx0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLnB1c2goe21lZGlhOnttZWRpYVR5cGU6XCJhdWRpb1wiLHBvcnQ6RmEscHJvdG9zOltcIlVEUFwiLFwiVExTXCIsXCJSVFBcIixcIlNBVlBGXCJdLGZtdHM6by5hdWRpb0NvZGVjcy5tYXAoZz0+Zy5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpfSxjb25uZWN0aW9uczpbe25ldHR5cGU6XCJJTlwiLGFkZHJ0eXBlOlwiSVA0XCIsYWRkcmVzczpcIjEyNy4wLjAuMVwifV0sYmFuZHdpZHRoczpbXSxhdHRyaWJ1dGVzOntpY2VVZnJhZzpyLmljZVVmcmFnLGljZVB3ZDpyLmljZVB3ZCx1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczpuLGV4dG1hcHM6by5hdWRpb0V4dGVuc2lvbnMsZmluZ2VycHJpbnRzOmkuZmluZ2VycHJpbnRzLGltYWdlYXR0cjpbXSxtc2lkczpbXSxyZW1vdGVDYW5kaWRhdGVzTGlzdDpbXSxyaWRzOltdLHNzcmNzOmwsc3NyY0dyb3Vwczp1LHJ0Y3BGZWVkYmFja1dpbGRjYXJkczpbXSxwYXlsb2FkczpvLmF1ZGlvQ29kZWNzLHJ0Y3A6e3BvcnQ6XCI5XCIsbmV0VHlwZTpcIklOXCIsYWRkcmVzc1R5cGU6XCJJUDRcIixhZGRyZXNzOlwiMC4wLjAuMFwifSxzZXR1cDp0aGlzLnNldHVwLGRpcmVjdGlvbjpcInNlbmRvbmx5XCIscnRjcE11eDohMCxydGNwUnNpemU6ITAsbWlkOlwiXCIuY29uY2F0KCsrcyl9fSksdGhpcy5jdXJyZW50TWlkSW5kZXgrPTI7fXRoaXMudXBkYXRlQnVuZGxlTWlkcygpO310b1N0cmluZygpe3JldHVybiBMZS5wcmludCh0aGlzLnNlc3Npb25EZXNjKX1zZW5kKGUsbixpLHIpe2xldHtzc3JjczpvLHNzcmNHcm91cHM6c309TG8obix0aGlzLmNuYW1lLHYoXCJTWU5DX0dST1VQXCIpP2k6dm9pZCAwKSxhPXRoaXMuZmluZFByZWxvYWRNZWRpYURlc2Mobyk7aWYoYSl7aWYoJHQoKSYmdGhpcy5maXJlZm94U3NyY01pZE1hcC5zZXQob1swXS5zc3JjSWQsYS5hdHRyaWJ1dGVzLm1pZCksciYmKHIudHdjY3x8ci5yZW1iKSl7bGV0IGM9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5pbmRleE9mKGEpO3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2NdPXRoaXMubXVuZ1NlbmRNZWRpYURlc2MoYSxyKSx7bWlkOmEuYXR0cmlidXRlcy5taWQsbmVlZEV4Y2hhbmdlU0RQOiEwfX1yZXR1cm4ge21pZDphLmF0dHJpYnV0ZXMubWlkLG5lZWRFeGNoYW5nZVNEUDohMX19e2xldCBjPXRoaXMuZmluZEF2YWlsYWJsZU1lZGlhSW5kZXgoZSxvKSxkO3JldHVybiBjPT09LTF8fGM9PT0xJiYoamUoKXx8ZnVuY3Rpb24oKXtsZXQgbD1tdCgpO3JldHVybiAhKGwubmFtZSE9PUl0LkNIUk9NRXx8IWwub3NWZXJzaW9uKSYmTnVtYmVyKGwudmVyc2lvbik8PTkwfSgpKXx8Yz09PTAmJnYoXCJVU0VfU1VCX1JUWFwiKXx8aFIoKT8oZD10aGlzLmNyZWF0ZU9yUmVjeWNsZVNlbmRNZWRpYShlLG8scyxcInNlbmRvbmx5XCIsciksdGhpcy51cGRhdGVCdW5kbGVNaWRzKCkpOihkPWxlKHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbY10pLGQuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJzZW5kb25seVwiLGQuYXR0cmlidXRlcy5zc3Jjcz1vLGQuYXR0cmlidXRlcy5zc3JjR3JvdXBzPXMsdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tjXT10aGlzLm11bmdTZW5kTWVkaWFEZXNjKGQscikpLCR0KCkmJnRoaXMuZmlyZWZveFNzcmNNaWRNYXAuc2V0KG9bMF0uc3NyY0lkLGQuYXR0cmlidXRlcy5taWQpLHttaWQ6ZC5hdHRyaWJ1dGVzLm1pZCxuZWVkRXhjaGFuZ2VTRFA6ITB9fX1zZW5kRGF0YUNoYW5uZWwoKXtsZXR7bWVkaWFEZXNjOmUsbmVlZEV4Y2hhbmdlU0RQOm59PXRoaXMuY3JlYXRlT3JSZWN5Y2xlRGF0YUNoYW5uZWwoKTtyZXR1cm4gdGhpcy51cGRhdGVCdW5kbGVNaWRzKCkse21pZDplLmF0dHJpYnV0ZXMubWlkLG5lZWRFeGNoYW5nZVNEUDpufX1iYXRjaFNlbmQoZSl7bGV0IG49ZS5tYXAobz0+e2xldHtraW5kOnMsc3NyY01zZzphLG1zbGFiZWw6Y309bztyZXR1cm4gdGhpcy5zZW5kKHMsYSxjKX0pLGk9W10scj0hMTtyZXR1cm4gbi5mb3JFYWNoKG89PntsZXR7bWlkOnMsbmVlZEV4Y2hhbmdlU0RQOmF9PW87YSYmKHI9ITApLGkucHVzaChzKTt9KSx7bWlkczppLG5lZWRFeGNoYW5nZVNEUDpyfX1zdG9wU2VuZGluZyhlKXtsZXQgbj10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcihpPT5pLmF0dHJpYnV0ZXMubWlkJiZlLmluZGV4T2YoaS5hdHRyaWJ1dGVzLm1pZCkhPT0tMSk7aWYobi5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9ucycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAuc3RvcFNlbmRpbmcuXCIpO24uZm9yRWFjaChpPT57aS5hdHRyaWJ1dGVzLm1pZD09PVwiMFwifHwkdCgpfHxoUigpP2kuYXR0cmlidXRlcy5zc3Jjcz1bXTooaS5hdHRyaWJ1dGVzLnNzcmNzPVtdLGkuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiLGkubWVkaWEucG9ydD1cIjBcIik7fSksdGhpcy51cGRhdGVCdW5kbGVNaWRzKCk7fW11dGUoZSl7bGV0IG49dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKGk9PmkuYXR0cmlidXRlcy5taWQ9PT1lKTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9uIG5vdCBmb3VuZCB3aXRoIFwiLmNvbmNhdChlLFwiIGluIHJlbW90ZSBTRFAgd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5tdXRlLlwiKSk7bi5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cImluYWN0aXZlXCI7fXVubXV0ZShlKXtsZXQgbj10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoaT0+aS5hdHRyaWJ1dGVzLm1pZD09PWUpO2lmKCFuKXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb24gbm90IGZvdW5kIHdpdGggXCIuY29uY2F0KGUsXCIgaW4gcmVtb3RlIFNEUCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLnVubXV0ZS5cIikpO24uYXR0cmlidXRlcy5kaXJlY3Rpb249XCJzZW5kb25seVwiO31tdXRlUmVtb3RlKGUpe2xldCBuPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKGk9PlcoZSkuY2FsbChlLGkuYXR0cmlidXRlcy5taWR8fFwiXCIpKTtpZihuLmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb25zJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5tdXRlUmVtb3RlLlwiKTtuLmZvckVhY2goaT0+e2kuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiO30pO311bm11dGVSZW1vdGUoZSl7bGV0IG49dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIoaT0+VyhlKS5jYWxsKGUsaS5hdHRyaWJ1dGVzLm1pZHx8XCJcIikpO2lmKG4ubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwibWVkaWFEZXNjcmlwdGlvbnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLm11dGVSZW1vdGUuXCIpO24uZm9yRWFjaChpPT57aS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cInJlY3Zvbmx5XCI7fSk7fXJlY2VpdmUoZSxuLGkscil7ZS5mb3JFYWNoKChvLHMpPT57dGhpcy5jcmVhdGVPclJlY3ljbGVSZWN2TWVkaWEobyxbXSxcInJlY3Zvbmx5XCIsbixpLHJbc10pO30pLHRoaXMudXBkYXRlQnVuZGxlTWlkcygpO31zdG9wUmVjZWl2aW5nKGUpe2xldCBuPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKGk9PmUuaW5kZXhPZihpLmF0dHJpYnV0ZXMubWlkKSE9PS0xKTtpZihuLmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIk1lZGlhRGVzY3JpcHRpb25zJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJ3MgbGVuZ3RoIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAucmVjZWl2ZS5cIik7bi5mb3JFYWNoKGk9PntpLm1lZGlhLnBvcnQ9XCIwXCIsaS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cImluYWN0aXZlXCI7fSksdGhpcy51cGRhdGVCdW5kbGVNaWRzKCk7fXVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhlKXtsZXQgbj10aGlzLnNlc3Npb25EZXNjfHxMZS5wYXJzZShgdj0wXG5vPS0gMCAwIElOIElQNCAxMjcuMC4wLjFcbnM9QWdvcmFHYXRld2F5XG50PTAgMFxuYT1ncm91cDpCVU5ETEUgMCAxXG5hPW1zaWQtc2VtYW50aWM6IFdNU1xuYT1pY2UtbGl0ZVxubT12aWRlbyA5IFVEUC9UTFMvUlRQL1NBVlBGIDBcbmM9SU4gSVA0IDEyNy4wLjAuMVxuYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcbmE9c2VuZG9ubHlcbmE9cnRjcC1tdXhcbmE9cnRjcC1yc2l6ZVxuYT1taWQ6MFxubT1hdWRpbyA5IFVEUC9UTFMvUlRQL1NBVlBGIDBcbmM9SU4gSVA0IDEyNy4wLjAuMVxuYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcbmE9c2VuZG9ubHlcbmE9cnRjcC1tdXhcbmE9cnRjcC1yc2l6ZVxuYT1taWQ6MVxuYCk7dGhpcy5fcnRwQ2FwYWJpbGl0aWVzPWU7bGV0IGk9dGhpcy5ydHBDYXBhYmlsaXRpZXMuc2VuZCxyPXRoaXMubG9jYWxDYXBhYmlsaXRpZXMuc2VuZDtmb3IobGV0IG8gb2Ygbi5tZWRpYURlc2NyaXB0aW9ucyl7aWYoby5hdHRyaWJ1dGVzLmljZVVmcmFnPXRoaXMuX2ljZVBhcmFtZXRlcnMuaWNlVWZyYWcsby5hdHRyaWJ1dGVzLmljZVB3ZD10aGlzLl9pY2VQYXJhbWV0ZXJzLmljZVB3ZCxvLmF0dHJpYnV0ZXMuZmluZ2VycHJpbnRzPXRoaXMuX2R0bHNQYXJhbWV0ZXJzLmZpbmdlcnByaW50cyxvLmF0dHJpYnV0ZXMuY2FuZGlkYXRlcz10aGlzLl9jYW5kaWRhdGVzLG8uYXR0cmlidXRlcy5zZXR1cD10aGlzLnNldHVwLG8ubWVkaWEubWVkaWFUeXBlPT09XCJhcHBsaWNhdGlvblwiJiYoby5hdHRyaWJ1dGVzLnNjdHBQb3J0PVwiNTAwMFwiKSxvLm1lZGlhLm1lZGlhVHlwZT09PVwidmlkZW9cIil7aWYoaS52aWRlb0NvZGVjcy5sZW5ndGg9PT0wKXtsZXQgcz1yLnZpZGVvQ29kZWNzLmZpbHRlcihhPT57dmFyIGMsZDtyZXR1cm4gKGM9YS5ydHBNYXApPT09bnVsbHx8Yz09PXZvaWQgMD92b2lkIDA6VyhkPWMuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpLmNhbGwoZCxcInZwOFwiKX0pfHxbci52aWRlb0NvZGVjc1swXV07by5tZWRpYS5mbXRzPXMubWFwKGE9PmEucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSxvLmF0dHJpYnV0ZXMucGF5bG9hZHM9cyxvLmF0dHJpYnV0ZXMuZXh0bWFwcz1bXTt9ZWxzZSBpZihvLm1lZGlhLmZtdHM9aS52aWRlb0NvZGVjcy5tYXAocz0+cy5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpLG8uYXR0cmlidXRlcy5wYXlsb2Fkcz1pLnZpZGVvQ29kZWNzLG8uYXR0cmlidXRlcy5leHRtYXBzPWkudmlkZW9FeHRlbnNpb25zLHYoXCJQUkVMT0FEX01FRElBX0NPVU5UXCIpPjApe2xldHtzc3JjczpzLHNzcmNHcm91cHM6YX09TG8oW3tzc3JjSWQ6VnYscnR4OnYoXCJVU0VfU1VCX1JUWFwiKT80MDAwMTp2b2lkIDB9XSx0aGlzLmNuYW1lKTtvLmF0dHJpYnV0ZXMuc3NyY3M9cyxvLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcz1hO319aWYoby5tZWRpYS5tZWRpYVR5cGU9PT1cImF1ZGlvXCIpe2lmKGkuYXVkaW9Db2RlY3MubGVuZ3RoPT09MCl7bGV0IHM9ci5hdWRpb0NvZGVjcy5maWx0ZXIoYT0+e3ZhciBjLGQ7cmV0dXJuIChjPWEucnRwTWFwKT09PW51bGx8fGM9PT12b2lkIDA/dm9pZCAwOlcoZD1jLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKS5jYWxsKGQsXCJvcHVzXCIpfSl8fFtyLmF1ZGlvQ29kZWNzWzBdXTtvLm1lZGlhLmZtdHM9cy5tYXAoYT0+YS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpLG8uYXR0cmlidXRlcy5wYXlsb2Fkcz1zLG8uYXR0cmlidXRlcy5leHRtYXBzPVtdO31lbHNlIGlmKG8ubWVkaWEuZm10cz1pLmF1ZGlvQ29kZWNzLm1hcChzPT5zLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSksby5hdHRyaWJ1dGVzLnBheWxvYWRzPWkuYXVkaW9Db2RlY3Msby5hdHRyaWJ1dGVzLmV4dG1hcHM9aS5hdWRpb0V4dGVuc2lvbnMsb2EobyksdihcIlBSRUxPQURfTUVESUFfQ09VTlRcIik+MCl7bGV0e3NzcmNzOnMsc3NyY0dyb3VwczphfT1Mbyhbe3NzcmNJZDoyZTR9XSx0aGlzLmNuYW1lKTtvLmF0dHJpYnV0ZXMuc3NyY3M9cyxvLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcz1hO319fXJldHVybiB0aGlzLnNlc3Npb25EZXNjPW4sdGhpcy5jdXJyZW50TWlkSW5kZXg9bi5tZWRpYURlc2NyaXB0aW9ucy5sZW5ndGgtMSx0aGlzLnNlc3Npb25EZXNjfXVwZGF0ZUNhbmRpZGF0ZXMoZSl7bGV0IG49dGhpcy5fY2FuZGlkYXRlcy5maWx0ZXIoaT0+aS50cmFuc3BvcnQ9PT1cInVkcFwiKTtpZihlPT09T24uVENQKXtpZihuLmxlbmd0aD09PTApcmV0dXJuO2lmKHYoXCJUQ1BfQ0FORElEQVRFX09OTFlcIikpe2xldCBpPXRoaXMuX2NhbmRpZGF0ZXMuZmlsdGVyKHI9PnIudHJhbnNwb3J0PT09XCJ0Y3BcIik7bi5mb3JFYWNoKHI9PntpLmZpbmRJbmRleChvPT5vLmNvbm5lY3Rpb25BZGRyZXNzPT09ci5jb25uZWN0aW9uQWRkcmVzcyk9PT0tMSYmaS5wdXNoKFdyKFdyKHt9LHIpLHt9LHtmb3VuZGF0aW9uOlwidGNwY2FuZGlkYXRlXCIscHJpb3JpdHk6TnVtYmVyKHIucHJpb3JpdHkpLTErXCJcIix0cmFuc3BvcnQ6XCJ0Y3BcIixwb3J0Ok51bWJlcihyLnBvcnQpKzkwK1wiXCJ9KSk7fSksdGhpcy5fY2FuZGlkYXRlcz1pO31lbHNlIHtsZXQgaT1bXTtuLmZvckVhY2gocj0+e2kucHVzaChXcihXcih7fSxyKSx7fSx7Zm91bmRhdGlvbjpcInRjcGNhbmRpZGF0ZVwiLHByaW9yaXR5Ok51bWJlcihyLnByaW9yaXR5KS0xK1wiXCIsdHJhbnNwb3J0OlwidGNwXCIscG9ydDpOdW1iZXIoci5wb3J0KSs5MCtcIlwifSkpO30pLHRoaXMuX2NhbmRpZGF0ZXM9Wy4uLm4sLi4uaV07fX1lbHNlIGlmKGU9PT1Pbi5SRUxBWSl7aWYobi5sZW5ndGghPT0wKXJldHVybjt7bGV0IGk9dGhpcy5fY2FuZGlkYXRlcy5maWx0ZXIocj0+ci50cmFuc3BvcnQ9PT1cInRjcFwiKTtpLmZvckVhY2gocj0+e24ucHVzaChXcihXcih7fSxyKSx7fSx7Zm91bmRhdGlvbjpcInVkcGNhbmRpZGF0ZVwiLHByaW9yaXR5Ok51bWJlcihyLnByaW9yaXR5KSsxK1wiXCIsdHJhbnNwb3J0OlwidWRwXCIscG9ydDpOdW1iZXIoci5wb3J0KS05MCtcIlwifSkpO30pLHRoaXMuX2NhbmRpZGF0ZXM9Wy4uLm4sLi4uaV07fX1lbHNlIG4ubGVuZ3RoPT09MD8odGhpcy5fY2FuZGlkYXRlcy5maWx0ZXIoaT0+aS50cmFuc3BvcnQ9PT1cInRjcFwiKS5mb3JFYWNoKGk9PntuLnB1c2goV3IoV3Ioe30saSkse30se2ZvdW5kYXRpb246XCJ1ZHBjYW5kaWRhdGVcIixwcmlvcml0eTpOdW1iZXIoaS5wcmlvcml0eSkrMStcIlwiLHRyYW5zcG9ydDpcInVkcFwiLHBvcnQ6TnVtYmVyKGkucG9ydCktOTArXCJcIn0pKTt9KSx0aGlzLl9jYW5kaWRhdGVzPW4pOnRoaXMuX2NhbmRpZGF0ZXM9dGhpcy5fY2FuZGlkYXRlcy5maWx0ZXIoaT0+aS50cmFuc3BvcnQhPT1cInRjcFwiKTtmb3IobGV0IGkgb2YgdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucylpLmF0dHJpYnV0ZXMuY2FuZGlkYXRlcz10aGlzLmNhbmRpZGF0ZXM7fXJlc3RhcnRJQ0UoZSl7ZT1sZShlKSx0aGlzLl9pY2VQYXJhbWV0ZXJzPWUsdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5mb3JFYWNoKG49PntuLmF0dHJpYnV0ZXMuaWNlVWZyYWc9ZS5pY2VVZnJhZyxuLmF0dHJpYnV0ZXMuaWNlUHdkPWUuaWNlUHdkO30pO31wcmVkaWN0UmVjZWl2aW5nTWlkcyhlKXtsZXQgbj1bXTtmb3IobGV0IGk9MDtpPGU7aSsrKW4ucHVzaCgodGhpcy5jdXJyZW50TWlkSW5kZXgraSsxKS50b1N0cmluZygxMCkpO3JldHVybiBufWZpbmRBdmFpbGFibGVNZWRpYUluZGV4KGUsbil7cmV0dXJuIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZEluZGV4KGk9PntsZXQgcj1pLm1lZGlhLm1lZGlhVHlwZT09PWUmJmkubWVkaWEucG9ydCE9PVwiMFwiJiYoaS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj09PVwic2VuZG9ubHlcInx8aS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj09PVwic2VuZHJlY3ZcIikmJmkuYXR0cmlidXRlcy5zc3Jjcy5sZW5ndGg9PT0wO2lmKCR0KCkpe2lmKHIpe2xldCBvPXRoaXMuZmlyZWZveFNzcmNNaWRNYXAuZ2V0KG5bMF0uc3NyY0lkKTtyZXR1cm4gIShvfHxpLmF0dHJpYnV0ZXMubWlkIT09XCIwXCImJmkuYXR0cmlidXRlcy5taWQhPT1cIjFcIil8fCEoIW98fG8hPT1pLmF0dHJpYnV0ZXMubWlkKX1yZXR1cm4gITF9cmV0dXJuIHJ9KX1jcmVhdGVPclJlY3ljbGVEYXRhQ2hhbm5lbCgpe2ZvcihsZXQgaSBvZiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zKWlmKGkubWVkaWEubWVkaWFUeXBlPT09XCJhcHBsaWNhdGlvblwiKXJldHVybiB7bWVkaWFEZXNjOmksbmVlZEV4Y2hhbmdlU0RQOiExfTt0aGlzLmN1cnJlbnRNaWRJbmRleCs9MTtsZXQgZT1cIlwiLmNvbmNhdCh0aGlzLmN1cnJlbnRNaWRJbmRleCksbj17bWVkaWE6e21lZGlhVHlwZTpcImFwcGxpY2F0aW9uXCIscG9ydDpGYSxwcm90b3M6W1wiVURQXCIsXCJEVExTXCIsXCJTQ1RQXCJdLGZtdHM6W1wid2VicnRjLWRhdGFjaGFubmVsXCJdfSxjb25uZWN0aW9uczpbe25ldHR5cGU6XCJJTlwiLGFkZHJ0eXBlOlwiSVA0XCIsYWRkcmVzczpcIjEyNy4wLjAuMVwifV0sYmFuZHdpZHRoczpbXSxhdHRyaWJ1dGVzOntpY2VVZnJhZzp0aGlzLmljZVBhcmFtZXRlcnMuaWNlVWZyYWcsaWNlUHdkOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VQd2QsdW5yZWNvZ25pemVkOltdLGNhbmRpZGF0ZXM6dGhpcy5jYW5kaWRhdGVzLGV4dG1hcHM6W10sZmluZ2VycHJpbnRzOnRoaXMuZHRsc1BhcmFtZXRlcnMuZmluZ2VycHJpbnRzLGltYWdlYXR0cjpbXSxtc2lkczpbXSxyZW1vdGVDYW5kaWRhdGVzTGlzdDpbXSxyaWRzOltdLHNzcmNzOltdLHNzcmNHcm91cHM6W10scnRjcEZlZWRiYWNrV2lsZGNhcmRzOltdLHBheWxvYWRzOltdLHJ0Y3A6e3BvcnQ6XCI5XCIsbmV0VHlwZTpcIklOXCIsYWRkcmVzc1R5cGU6XCJJUDRcIixhZGRyZXNzOlwiMC4wLjAuMFwifSxzZXR1cDp0aGlzLnNldHVwLG1pZDpcIlwiLmNvbmNhdChlKSxzY3RwUG9ydDpcIjUwMDBcIn19O3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLnB1c2gobikse21lZGlhRGVzYzpuLG5lZWRFeGNoYW5nZVNEUDohMH19Y3JlYXRlT3JSZWN5Y2xlUmVjdk1lZGlhKGUsbixpLHIsbyxzKXtsZXQgYT1lLl9tZWRpYVN0cmVhbVRyYWNrLmtpbmQsYz10aGlzLnJ0cENhcGFiaWxpdGllcy5yZWN2LGQ9YWMoYSxjLHRoaXMubG9jYWxDYXBhYmlsaXRpZXMuc2VuZCxhPT09US5WSURFTz9yOm8pLGw9YT09PVEuVklERU8/Yy52aWRlb0V4dGVuc2lvbnM6Yy5hdWRpb0V4dGVuc2lvbnM7dGhpcy5jdXJyZW50TWlkSW5kZXgrPTE7bGV0IHU9XCJcIi5jb25jYXQodGhpcy5jdXJyZW50TWlkSW5kZXgpLGg9e21lZGlhOnttZWRpYVR5cGU6YSxwb3J0OkZhLHByb3RvczpbXCJVRFBcIixcIlRMU1wiLFwiUlRQXCIsXCJTQVZQRlwiXSxmbXRzOmQubWFwKGc9PmcucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKX0sY29ubmVjdGlvbnM6W3tuZXR0eXBlOlwiSU5cIixhZGRydHlwZTpcIklQNFwiLGFkZHJlc3M6XCIxMjcuMC4wLjFcIn1dLGJhbmR3aWR0aHM6W10sYXR0cmlidXRlczp7aWNlVWZyYWc6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVVmcmFnLGljZVB3ZDp0aGlzLmljZVBhcmFtZXRlcnMuaWNlUHdkLHVucmVjb2duaXplZDpbXSxjYW5kaWRhdGVzOnRoaXMuY2FuZGlkYXRlcyxleHRtYXBzOmwsZmluZ2VycHJpbnRzOnRoaXMuZHRsc1BhcmFtZXRlcnMuZmluZ2VycHJpbnRzLGltYWdlYXR0cjpbXSxtc2lkczpbXSxyZW1vdGVDYW5kaWRhdGVzTGlzdDpbXSxyaWRzOltdLHNzcmNzOm4sc3NyY0dyb3VwczpbXSxydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6ZCxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxkaXJlY3Rpb246aSxydGNwTXV4OiEwLHJ0Y3BSc2l6ZTohMCxtaWQ6XCJcIi5jb25jYXQodSl9fTtoPXRoaXMubXVuZ1JlY3ZNZWRpYURzZWMoaCxlLHMpO2xldCBwPXRoaXMuZmluZEZpcnN0Q2xvc2VkTWVkaWEoYSk7aWYocCl7bGV0IGc9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5pbmRleE9mKHApO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbZ109aDt9ZWxzZSB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLnB1c2goaCk7cmV0dXJuIGh9dXBkYXRlUmVtb3RlQ29kZWMoZSxuLGkpe2xldCByPVsuLi5uZXcgU2V0KHRoaXMuX3J0cENhcGFiaWxpdGllcy5yZWN2LnZpZGVvQ29kZWNzLm1hcChoPT5oLnJ0cE1hcCYmaC5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiXCIpLmZpbHRlcihoPT57dmFyIHA7cmV0dXJuIFcocD1PYmplY3Qua2V5cyhKdSkpLmNhbGwocCxoKX0pKV0sbz1uZXcgU2V0KG4pO2lmKHIuZXZlcnkoaD0+by5oYXMoaCkpKXJldHVybiBfLmRlYnVnKFwiY29kZWNzIGhhcyBub3QgY2hhbmdlZCwgbm8gbmVlZCB0byB1cGRhdGVSZW1vdGVDb2RlYywgY29kZWNzOiBcIi5jb25jYXQobikpLCExO2xldCBzPXRoaXMuX3J0cENhcGFiaWxpdGllcy5yZWN2LnZpZGVvQ29kZWNzLmZpbHRlcihoPT5uLnNvbWUocD0+e3ZhciBnO3JldHVybiBXKGc9aC5ydHBNYXAmJmgucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpfHxcIlwiKS5jYWxsKGcscCl9KSk7aWYocy5sZW5ndGg9PT0wKXJldHVybiBfLmRlYnVnKFwidXBkYXRlUmVtb3RlQ29kZWMgZmFpbGVkLCBiZWNhdXNlIGNhbm5vdCBmaW5kIG1hdGNoZWQgY29kZWMsIHJlbW90ZUNhcGFiaWxpdGllcyBjb2RlY3M6IFwiLmNvbmNhdChyLFwiIGNvZGVjczogXCIpLmNvbmNhdChuKSksITE7bGV0IGE9Wy4uLm5ldyBTZXQocy5tYXAoaD0+aC5ydHBNYXAmJmgucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpfHxcIlwiKSldLGM7aWYoXy5kZWJ1ZyhcInVwZGF0ZVJlbW90ZUNvZGVjLCBmcm9tIFwiLmNvbmNhdChyLFwiIHRvIFwiKS5jb25jYXQoYSkpLGUubGVuZ3RoPT09MCljPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKGg9PmgubWVkaWEubWVkaWFUeXBlPT09XCJ2aWRlb1wiJiZoLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPT09XCJyZWN2b25seVwiKTtlbHNlIGlmKGM9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIoaD0+aC5hdHRyaWJ1dGVzLm1pZCYmVyhlKS5jYWxsKGUsaC5hdHRyaWJ1dGVzLm1pZCkmJmguYXR0cmlidXRlcy5kaXJlY3Rpb249PT1cInJlY3Zvbmx5XCIpLGMubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuIF8uZGVidWcoXCJ1cGRhdGVSZW1vdGVDb2RlYyBmYWlsZWQsIGJlY2F1c2UgY2Fubm90IGZpbmQgbWlkcywgbWlkczogXCIuY29uY2F0KGUsXCIsIGNvZGVjczogXCIpLmNvbmNhdChuKSksITE7aWYodihcIlVTRV9QVUJfUlRYXCIpfHx2KFwiVVNFX1NVQl9SVFhcIikpe2xldCBoPXlmKHMsdGhpcy5ydHBDYXBhYmlsaXRpZXMucmVjdi52aWRlb0NvZGVjcyk7cy5wdXNoKC4uLmgpO310aGlzLl9ydHBDYXBhYmlsaXRpZXMucmVjdi52aWRlb0NvZGVjcz1zO2xldCBkPXRoaXMubG9jYWxDYXBhYmlsaXRpZXMuc2VuZCxsPXRoaXMucnRwQ2FwYWJpbGl0aWVzLnJlY3YsdT1hYyhRLlZJREVPLGwsZCxpKTtyZXR1cm4gYy5mb3JFYWNoKGg9PntsZXQgcD11Lm1hcChnPT5nLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSk7Xy5kZWJ1ZyhcInVwZGF0ZVJlbW90ZUNvZGVjIG1pZDogXCIuY29uY2F0KGguYXR0cmlidXRlcy5taWQsXCIsIGZyb20gXCIpLmNvbmNhdChoLmF0dHJpYnV0ZXMucGF5bG9hZHMsXCIgdG8gXCIpLmNvbmNhdCh1KSksaC5hdHRyaWJ1dGVzLnBheWxvYWRzPXUsaC5tZWRpYS5mbXRzPXA7fSksITB9Y3JlYXRlT3JSZWN5Y2xlU2VuZE1lZGlhKGUsbixpLHIsbyl7bGV0IHM9dGhpcy5ydHBDYXBhYmlsaXRpZXMuc2VuZCxhPWU9PT1RLlZJREVPP3MudmlkZW9Db2RlY3M6cy5hdWRpb0NvZGVjcyxjPWU9PT1RLlZJREVPP3MudmlkZW9FeHRlbnNpb25zOnMuYXVkaW9FeHRlbnNpb25zO3RoaXMuY3VycmVudE1pZEluZGV4Kz0xO2xldCBkPVwiXCIuY29uY2F0KHRoaXMuY3VycmVudE1pZEluZGV4KSxsPXttZWRpYTp7bWVkaWFUeXBlOmUscG9ydDpGYSxwcm90b3M6W1wiVURQXCIsXCJUTFNcIixcIlJUUFwiLFwiU0FWUEZcIl0sZm10czphLm1hcChoPT5oLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSl9LGNvbm5lY3Rpb25zOlt7bmV0dHlwZTpcIklOXCIsYWRkcnR5cGU6XCJJUDRcIixhZGRyZXNzOlwiMTI3LjAuMC4xXCJ9XSxiYW5kd2lkdGhzOltdLGF0dHJpYnV0ZXM6e2ljZVVmcmFnOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VVZnJhZyxpY2VQd2Q6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVB3ZCx1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczp0aGlzLmNhbmRpZGF0ZXMsZXh0bWFwczpjLGZpbmdlcnByaW50czp0aGlzLmR0bHNQYXJhbWV0ZXJzLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3JjczpuLHNzcmNHcm91cHM6aSxydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6YSxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxkaXJlY3Rpb246cixydGNwTXV4OiEwLHJ0Y3BSc2l6ZTohMCxtaWQ6XCJcIi5jb25jYXQoZCl9fTtsPXRoaXMubXVuZ1NlbmRNZWRpYURlc2MobCxvKTtsZXQgdT10aGlzLmZpbmRGaXJzdENsb3NlZE1lZGlhKGUpO2lmKHUpe2xldCBoPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuaW5kZXhPZih1KTt0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2hdPWw7fWVsc2UgdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5wdXNoKGwpO3JldHVybiBsfXVwZGF0ZUJ1bmRsZU1pZHMoKXt0aGlzLnNlc3Npb25EZXNjLmF0dHJpYnV0ZXMuZ3JvdXBzWzBdLmlkZW50aWZpY2F0aW9uVGFnPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKGU9PmUubWVkaWEucG9ydCE9PVwiMFwiKS5tYXAoZT0+ZS5hdHRyaWJ1dGVzLm1pZCk7fW11bmdSZWN2TWVkaWFEc2VjKGUsbixpKXtsZXQgcj1sZShlKTtyZXR1cm4gSWYocikscmEocixuKSx2ZihyLG4pLHIwKHIpLGx1KHIsaSx0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnNlbmQpLHJ9bXVuZ1NlbmRNZWRpYURlc2MoZSxuKXtsZXQgaT1sZShlKTtyZXR1cm4gbHUoaSxuLHRoaXMubG9jYWxDYXBhYmlsaXRpZXMucmVjdiksb2EoaSksaX11cGRhdGVSZWN2TWVkaWEoZSxuKXtsZXQgaT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmRJbmRleChyPT5yLmF0dHJpYnV0ZXMubWlkPT09ZSk7aWYoaSE9PS0xKXtsZXQgcj10aGlzLm11bmdSZWN2TWVkaWFEc2VjKHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbaV0sbik7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tpXT1yO319YnVtcE1pZChlKXt0aGlzLmN1cnJlbnRNaWRJbmRleCs9ZTt9ZmluZEZpcnN0Q2xvc2VkTWVkaWEoZSl7cmV0dXJuIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZChuPT4kdCgpP24ubWVkaWEucG9ydD09PVwiMFwiJiZuLm1lZGlhLm1lZGlhVHlwZT09PWU6bi5tZWRpYS5wb3J0PT09XCIwXCIpfWZpbmRQcmVsb2FkTWVkaWFEZXNjKGUpe3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQobj0+e3ZhciBpO3JldHVybiAoKGk9bi5hdHRyaWJ1dGVzKT09PW51bGx8fGk9PT12b2lkIDB8fChpPWkuc3NyY3NbMF0pPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5zc3JjSWQpPT09ZVswXS5zc3JjSWR9KX1nZXRTU1JDKGUpe3ZhciBuO3JldHVybiAobj10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoaT0+aS5hdHRyaWJ1dGVzLm1pZD09PWUpKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uYXR0cmlidXRlcy5zc3Jjc319O2Z1bmN0aW9uIEZ2KHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4saSk7fXJldHVybiBufWZ1bmN0aW9uIEFyKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXSE9bnVsbD9hcmd1bWVudHNbZV06e307ZSUyP0Z2KE9iamVjdChuKSwhMCkuZm9yRWFjaChmdW5jdGlvbihpKXtUKHQsaSxuW2ldKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpGdihPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24oaSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSkpO30pO31yZXR1cm4gdH12YXIgZGM9ZnVuY3Rpb24odCl7cmV0dXJuIHQuQkFORFdJRFRIPVwiYmFuZHdpZHRoXCIsdC5DUFU9XCJjcHVcIix0Lk5PTkU9XCJub25lXCIsdC5PVEhFUj1cIm90aGVyXCIsdH0oe30pLHFzPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuRE9XTj0wXT1cIkRPV05cIix0W3QuVVA9MV09XCJVUFwiLHR9KHFzfHx7fSksbXU9bmV3IE1hcDtmdW5jdGlvbiBCdih0LGUsbixpKXtsZXR7c2NhbGU6cn09dDtpZihyPT09MCYmaT09PXFzLlVQfHxyPj1lLmxlbmd0aC0xJiZpPT09cXMuRE9XTilyZXR1cm4gdDtsZXQgbz1BcihBcih7fSx0KSx7fSx7c2NhbGU6aT09PXFzLkRPV04/KytyOi0tcn0pO3N3aXRjaChuKXtjYXNlXCJtYWludGFpbi1mcmFtZXJhdGVcIjpvPUFyKEFyKHt9LG8pLGVbcl0ubW90aW9uKTticmVhaztjYXNlXCJtYWludGFpbi1yZXNvbHV0aW9uXCI6bz1BcihBcih7fSxvKSxlW3JdLmRldGFpbCk7YnJlYWs7Y2FzZVwiYmFsYW5jZWRcIjpvPUFyKEFyKHt9LG8pLGVbcl0uYmFsYW5jZWQpO31yZXR1cm4gb31mdW5jdGlvbiBTMCh0LGUpe2lmKGUpe2xldCBuPXtvdmVyVXNlOjAsdW5kZXJVc2U6MCxhZGFwdGF0aW9uTGlzdDpSMChlKX07bXUuc2V0KHQsbik7fWVsc2UgbXUuZGVsZXRlKHQpO31mdW5jdGlvbiBSMCh0KXtsZXQgZT1Bcih7fSx0KSx7Yml0cmF0ZU1heDpuLGZyYW1lUmF0ZTppLHNjYWxlUmVzb2x1dGlvbkRvd25CeTpyLGJpdHJhdGVNaW46b309ZSx7TUlOX0ZSQU1FX1JBVEU6cyxNQVhfVEhSRVNIT0xEX0ZSQU1FUkFURTphLE1BWF9TQ0FMRTpjLEJJVFJBVEVfTUlOX1RIUkVTSE9MRDpkLEJJVFJBVEVfTUFYX1RIUkVTSE9MRDpsLEJXRV9TQ0FMRV9VUF9USFJFU0hPTEQ6dSxCV0VfU0NBTEVfRE9XTl9USFJFU0hPTEQ6aCxQRVJGX1NDQUxFX0RPV05fVEhSRVNIT0xEOnAsUEVSRl9TQ0FMRV9VUF9USFJFU0hPTEQ6ZyxCQUxBTkNFX0JJVFJBVEVfRkFDVE9SOkUsQkFMQU5DRV9GUkFNRVJBVEVfRkFDVE9SOmYsQkFMQU5DRV9SRVNPTFVUSU9OX0ZBQ1RPUjpTLE1PVElPTl9SRVNPTFVUSU9OX0ZBQ1RPUjpDLE1PVElPTl9CSVRSQVRFX0ZBQ1RPUjpBLERFVEFJTF9GUkFNRVJBVEVfRkFDVE9SOmIsREVUQUlMX0JJVFJBVEVfRkFDVE9SOnd9PV9mLEQ9TWF0aC5taW4oZS5mcmFtZVJhdGUsYSksaz1be3NjYWxlOjAsdGhyZXNob2xkOntid2VfZG93bjpNYXRoLnJvdW5kKE1hdGgucG93KGgsMSkqbiksYndlX3VwOm4sZnBzX2Rvd246TWF0aC5yb3VuZChNYXRoLnBvdyhwLDEpKkQpLGZwc191cDppfSxiYWxhbmNlZDp7c2NhbGVSZXNvbHV0aW9uRG93bkJ5OjEsZnJhbWVSYXRlOmksYml0cmF0ZU1heDpuLGJpdHJhdGVNaW46b30sbW90aW9uOntzY2FsZVJlc29sdXRpb25Eb3duQnk6MSxmcmFtZVJhdGU6aSxiaXRyYXRlTWF4Om4sYml0cmF0ZU1pbjpvfSxkZXRhaWw6e3NjYWxlUmVzb2x1dGlvbkRvd25CeToxLGZyYW1lUmF0ZTppLGJpdHJhdGVNYXg6bixiaXRyYXRlTWluOm99fV07Zm9yKGxldCBCPTE7Qjw9YztCKyspe2xldCBWPXtid2VfdXA6TWF0aC5yb3VuZChNYXRoLnBvdyh1LEIpKm4pLGJ3ZV9kb3duOk1hdGgucm91bmQoTWF0aC5wb3coaCxCKzEpKm4pLGZwc191cDpNYXRoLnJvdW5kKE1hdGgucG93KGcsQikqRCksZnBzX2Rvd246TWF0aC5yb3VuZChNYXRoLnBvdyhwLEIrMSkqRCl9LHo9e3NjYWxlUmVzb2x1dGlvbkRvd25CeTpyL01hdGgucG93KFMsQiksZnJhbWVSYXRlOk1hdGgubWF4KE1hdGgucm91bmQoTWF0aC5wb3coZixCKSppKSxzKSxiaXRyYXRlTWF4Ok1hdGgubWF4KE1hdGgucm91bmQoTWF0aC5wb3coRSxCKSpuKSxsKSxiaXRyYXRlTWluOk1hdGgubWF4KE1hdGgucm91bmQoTWF0aC5wb3coRSxCKSpvKSxkKX0sbHQ9e3NjYWxlUmVzb2x1dGlvbkRvd25CeTpyL01hdGgucG93KEMsQiksZnJhbWVSYXRlOmksYml0cmF0ZU1heDpNYXRoLm1heChNYXRoLnJvdW5kKE1hdGgucG93KEEsQikqbiksbCksYml0cmF0ZU1pbjpNYXRoLm1heChNYXRoLnJvdW5kKE1hdGgucG93KEEsQikqbyksZCl9LHZ0PXtzY2FsZVJlc29sdXRpb25Eb3duQnk6MSxmcmFtZVJhdGU6TWF0aC5tYXgoTWF0aC5yb3VuZChNYXRoLnBvdyhiLEIpKmkpLHMpLGJpdHJhdGVNYXg6TWF0aC5tYXgoTWF0aC5yb3VuZChNYXRoLnBvdyh3LEIpKm4pLGwpLGJpdHJhdGVNaW46TWF0aC5tYXgoTWF0aC5yb3VuZChNYXRoLnBvdyh3LEIpKm8pLGQpfTtrLnB1c2goe3NjYWxlOkIsdGhyZXNob2xkOlYsYmFsYW5jZWQ6eixtb3Rpb246bHQsZGV0YWlsOnZ0fSk7fXJldHVybiBrfWZ1bmN0aW9uIHBXKHQsZSxuLGkscixvKXtsZXQgcz1tdS5nZXQodCl8fHtvdmVyVXNlOjAsdW5kZXJVc2U6MCxhZGFwdGF0aW9uTGlzdDpSMChyKX0se2FkYXB0YXRpb25MaXN0OmF9PXM7bXUuc2V0KHQscyk7bGV0e09WRVJVU0VfVElNRVNfVEhSRVNIT0xEOmMsVU5ERVJVU0VfVElNRVNfVEhSRVNIT0xEOmR9PV9mLHtzY2FsZTpsfT1pLHUsaDtyZXR1cm4gdHlwZW9mIGU9PVwibnVtYmVyXCImJmU+MCYmZnVuY3Rpb24ocCxnLEUsZil7aWYoZz49RS5sZW5ndGgpcmV0dXJuICExO2xldHt0aHJlc2hvbGQ6e2Zwc19kb3duOlN9fT1FW2ddO3JldHVybiB2KFwiRk9SQ0VfQUdfSElHSF9GUkFNRVJBVEVcIikmJmY9PT1cIm1haW50YWluLWZyYW1lcmF0ZVwiJiYoUz1FWzBdLnRocmVzaG9sZC5mcHNfZG93bikscDxTfShlLGwsYSxvKSYmKHMub3ZlclVzZSsrLGg9ZGMuQ1BVLHMub3ZlclVzZT5jKXx8dHlwZW9mIG49PVwibnVtYmVyXCImJm4+MCYmZnVuY3Rpb24ocCxnLEUpe2lmKGc+PUUubGVuZ3RoKXJldHVybiAhMTtsZXR7dGhyZXNob2xkOntid2VfZG93bjpmfX09RVtnXTtyZXR1cm4gcDxmfShuLGwsYSkmJihzLm92ZXJVc2UrKyxoPWRjLkJBTkRXSURUSCxzLm92ZXJVc2U+Yyk/KHMub3ZlclVzZT0wLHMudW5kZXJVc2U9MCx1PUJ2KGksYSxvLHFzLkRPV04pLFt1LGhdKToodHlwZW9mIGU9PVwibnVtYmVyXCImJmU+MCYmdHlwZW9mIG49PVwibnVtYmVyXCImJm4+MCYmZnVuY3Rpb24ocCxnLEUsZil7aWYoZz09PTApcmV0dXJuO2xldHt0aHJlc2hvbGQ6e2Zwc191cDpTfX09RVtnXTtyZXR1cm4gdihcIkZPUkNFX0FHX0hJR0hfRlJBTUVSQVRFXCIpJiZmPT09XCJtYWludGFpbi1mcmFtZXJhdGVcIiYmKFM9RVsxXS50aHJlc2hvbGQuZnBzX3VwKSxwPlN9KGUsbCxhLG8pJiZmdW5jdGlvbihwLGcsRSl7aWYoZz09PTApcmV0dXJuO2xldHt0aHJlc2hvbGQ6e2J3ZV91cDpmfX09RVtnXTtyZXR1cm4gcD5mfShuLGwsYSkmJihzLnVuZGVyVXNlKysscy51bmRlclVzZT5kJiYocy5vdmVyVXNlPTAscy51bmRlclVzZT0wLHU9QnYoaSxhLG8scXMuVVApLHUuc2NhbGU9PT0wJiYoaD1kYy5OT05FKSkpLFt1LGhdKX1mdW5jdGlvbiBqdih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiBtXyh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj9qdihPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6anYoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9ZnVuY3Rpb24gX1codCl7dmFyIGU7cmV0dXJuICEhdihcIkVOQUJMRV9BR19BREFQVEFUSU9OXCIpJiYhISh0IGluc3RhbmNlb2YgWEV8fFcoZT10Ll9oaW50cykuY2FsbChlLEd0LkNVU1RPTV9UUkFDSykpJiYoISF2KFwiRk9SQ0VfU1VQUE9SVF9BR19BREFQVEFUSU9OXCIpfHwhIShmdW5jdGlvbihuKXtsZXQgaT1tdCgpO2lmKGkub3MhPT15ZS5JT1N8fCFpLm9zVmVyc2lvbilyZXR1cm4gITE7bGV0IHI9aS5vc1ZlcnNpb24uc3BsaXQoXCIuXCIpO3JldHVybiBOdW1iZXIoclswXSk+PW59KDE0KSYmZk8oMTcsNCl8fG1PKDE0KSYmZ08oMTcsNCkpKX12YXIgZnU9bmV3IE1hcDtmdW5jdGlvbiB6ZCh0LGUpe2xldCBuPWZ1LmdldCh0KTtpZihuKXtsZXR7dGltZXI6aX09bjt3aW5kb3cuY2xlYXJUaW1lb3V0KGkpLGZ1LmRlbGV0ZSh0KTt9ZS5xdWFsaXR5TGltaXRhdGlvblJlYXNvbj1kYy5OT05FLFMwKHQpO312YXIgcHQ7ZnVuY3Rpb24gR3YodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59ZnVuY3Rpb24gUWkodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdIT1udWxsP2FyZ3VtZW50c1tlXTp7fTtlJTI/R3YoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe1QodCxpLG5baV0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOkd2KE9iamVjdChuKSkuZm9yRWFjaChmdW5jdGlvbihpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixpKSk7fSk7fXJldHVybiB0fXZhciBraT0ocHQ9Y2xhc3MgUWEgZXh0ZW5kcyBZbHtnZXQgY3VycmVudExvY2FsRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jdXJyZW50TG9jYWxEZXNjcmlwdGlvbn1nZXQgY3VycmVudFJlbW90ZURlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudFJlbW90ZURlc2NyaXB0aW9ufWdldCBwZWVyQ29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlfWdldCBpY2VDb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGV9Z2V0IGR0bHNUcmFuc3BvcnRTdGF0ZSgpe3ZhciBlLG47cmV0dXJuIChlPShuPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0UmVjZWl2ZXJzKClbMF0pPT09bnVsbHx8bj09PXZvaWQgMHx8KG49bi50cmFuc3BvcnQpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5zdGF0ZSkhPT1udWxsJiZlIT09dm9pZCAwP2U6bnVsbH1nZXQgbG9jYWxDb2RlY3MoKXtyZXR1cm4gWy4uLm5ldyBTZXQodGhpcy5sb2NhbENhcGFiaWxpdGllcyYmdGhpcy5sb2NhbENhcGFiaWxpdGllcy5zZW5kLnZpZGVvQ29kZWNzLm1hcChlPT5lLnJ0cE1hcCYmZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiXCIpLmZpbHRlcihlPT57dmFyIG47cmV0dXJuIFcobj1PYmplY3Qua2V5cyhKdSkpLmNhbGwobixlKX0pKV19Y29uc3RydWN0b3IoZSxuKXtzdXBlcihlLG4pLFQodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxUKHRoaXMsXCJwZWVyQ29ubmVjdGlvblwiLHZvaWQgMCksVCh0aGlzLFwiaWRcIixVdCg1LFwiY29ubmVjdGlvbi1cIikpLFQodGhpcyxcInJlbW90ZVNEUFwiLHZvaWQgMCksVCh0aGlzLFwiaW5pdGlhbE9mZmVyXCIsdm9pZCAwKSxUKHRoaXMsXCJ0cmFuc3BvcnRFdmVudFJlY2VpdmVyXCIsdm9pZCAwKSxUKHRoaXMsXCJzdGF0c0ZpbHRlclwiLHZvaWQgMCksVCh0aGlzLFwiZXh0ZW5zaW9uXCIse3VzZVhSOnYoXCJVU0VfWFJcIil9KSxUKHRoaXMsXCJsb2NhbENhcGFiaWxpdGllc1wiLHZvaWQgMCksVCh0aGlzLFwicmVtb3RlQ29kZWNzXCIsdm9pZCAwKSxUKHRoaXMsXCJsb2NhbENhbmRpZGF0ZUNvdW50XCIsMCksVCh0aGlzLFwiYWxsQ2FuZGlkYXRlc1JlY2VpdmVkXCIsITEpLFQodGhpcyxcImlzUHJlYWxsb2NhdGlvblwiLCExKSxUKHRoaXMsXCJwcmVTU1JDTWFwXCIsbmV3IE1hcCksVCh0aGlzLFwiZGF0YVN0cmVhbUNoYW5uZWxNYXBcIixuZXcgTWFwKSxUKHRoaXMsXCJlc3RhYmxpc2hQcm9taXNlXCIsdm9pZCAwKSxUKHRoaXMsXCJyZWNvdmVyZWREYXRhQ2hhbm5lbElkc1wiLFtdKSxUKHRoaXMsXCJjdXJyZW50RGF0YUNoYW5uZWxJZFwiLDEpLFQodGhpcyxcIm11dGV4XCIsbmV3IHplKFwiUDJQQ29ubmVjdGlvbi1tdXRleFwiKSksVCh0aGlzLFwicXVhbGl0eUxpbWl0YXRpb25SZWFzb25cIixkYy5OT05FKSx0aGlzLnN0b3JlPW4sdGhpcy5wZWVyQ29ubmVjdGlvbj1uZXcgUlRDUGVlckNvbm5lY3Rpb24oUWEucmVzb2x2ZVBDQ29uZmlndXJhdGlvbihlKSx7b3B0aW9uYWw6W3tnb29nRHNjcDohMH1dfSksdGhpcy5zdGF0c0ZpbHRlcj1OZih0aGlzLnBlZXJDb25uZWN0aW9uLHYoXCJTVEFUU19VUERBVEVfSU5URVJWQUxcIiksdm9pZCAwLCR0KCk/MTIwMDp2b2lkIDApLHRoaXMuYmluZFBDRXZlbnRzKCksdGhpcy5iaW5kU3RhdHNFdmVudHMoKSx0aGlzLnN0b3JlLnAycElkPXRoaXMuc3RvcmUucDJwSWQrMSx0aGlzLmVzdGFibGlzaFByb21pc2U9dGhpcy5lc3RhYmxpc2goKTt9Z2V0UHJlTWVkaWEoZSl7bGV0IG49dGhpcy5wcmVTU1JDTWFwLmdldChlKTtpZihuIT09dm9pZCAwKXtsZXQgaT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbmQocj0+ci5taWQ9PT1uKTtpZihpKXJldHVybiB7dHJhbnNjZWl2ZXI6aSx0cmFjazppLnJlY2VpdmVyLnRyYWNrLGlkOm59fX1hc3luYyB1cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXMoZSxuKXtpZih0aGlzLnJlbW90ZUNvZGVjcz1uLCF0aGlzLnJlbW90ZVNEUClyZXR1cm4gdm9pZCBfLmRlYnVnKFwiW1AyUENvbm5lY3Rpb25dIGNhbm5vdCB1cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXMgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZCwgbG9jYWwgY29kZWNzOiBcIi5jb25jYXQodGhpcy5sb2NhbENvZGVjcyxcIiwgY29kZWNzOiBcIikuY29uY2F0KG4pKTtpZih0aGlzLnJlbW90ZVNEUC51cGRhdGVSZW1vdGVDb2RlYyhlLG4sdGhpcy5zdG9yZS5jb2RlYykpe2xldCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSxyPXRoaXMubG9nU0RQRXhjaGFuZ2UoaS5zZHB8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcIm11dGVMb2NhbFwiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaSk7bGV0IG89dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTtyPy4obyksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpvfSk7fWVsc2UgXy5kZWJ1ZyhcIltQMlBDb25uZWN0aW9uXSB1cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXMgbm8gbmVlZCB0byBleGNoYW5nZSBTRFAuXCIpO31hc3luYyBlc3RhYmxpc2goKXt0cnl7dGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihcInZpZGVvXCIse2RpcmVjdGlvbjpcInJlY3Zvbmx5XCJ9KSx0aGlzLnBlZXJDb25uZWN0aW9uLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pO2xldCBlPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKTtpZighZS5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBpbml0aWFsT2ZmZXIuc2RwIHdoZW4gdHJ5aW5nIHRvIGVzdGFibGlzaCBQZWVyQ29ubmVjdGlvbi5cIik7bGV0IG49aW8oZS5zZHApLGk9YXdhaXQgczAoe2ZpbHRlclJUWDohdihcIlVTRV9QVUJfUlRYXCIpJiYhdihcIlVTRV9TVUJfUlRYXCIpLGZpbHRlclZpZGVvRmVjOnYoXCJGSUxURVJfVklERU9fRkVDXCIpLGZpbHRlckF1ZGlvRmVjOnYoXCJGSUxURVJfQVVESU9fRkVDXCIpLGZpbHRlclZpZGVvQ29kZWM6dihcIkZJTFRFUl9WSURFT19DT0RFQ1wiKX0sdGhpcy5leHRlbnNpb24pO3JldHVybiB0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzPXV1KGkpLHRoaXMuaW5pdGlhbE9mZmVyPWUsUWkoUWkoe30sbikse30se3J0cENhcGFiaWxpdGllczppLG9mZmVyU0RQOmUuc2RwfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IE4oUi5HRVRfTE9DQUxfQ09OTkVDVElPTl9QQVJBTVNfRkFJTEVELGUudG9TdHJpbmcoKSl9fWFzeW5jIGNvbm5lY3QoZSl7dHJ5e2lmKCF0aGlzLmluaXRpYWxPZmZlcil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZXN0YWJsaXNoIFAyUENvbm5lY3Rpb24gd2l0aG91dCBpbml0aWFsIG9mZmVyLlwiKTt0aGlzLnJlbW90ZVNEUD1uZXcgdW0oUWkoUWkoe30sZSkse30se2xvY2FsQ2FwYWJpbGl0aWVzOnRoaXMubG9jYWxDYXBhYmlsaXRpZXN9KSksZS5wcmVhbGxvY2F0aW9uJiYodGhpcy5pc1ByZWFsbG9jYXRpb249ITApLEFycmF5LmlzQXJyYXkodGhpcy5yZW1vdGVDb2RlY3MpJiZ0aGlzLnJlbW90ZUNvZGVjcy5sZW5ndGg+MCYmdGhpcy5yZW1vdGVTRFAudXBkYXRlUmVtb3RlQ29kZWMoW10sdGhpcy5yZW1vdGVDb2RlY3MsdGhpcy5zdG9yZS5jb2RlYyk7bGV0IG49dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxpPWEwKHRoaXMuaW5pdGlhbE9mZmVyLnNkcCx0aGlzLmV4dGVuc2lvbikscj10aGlzLmxvZ1NEUEV4Y2hhbmdlKGl8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcImNvbm5lY3RcIik7dGhpcy5zdG9yZS5kZXNjcmlwdGlvblN0YXJ0KCksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6aX0pLHI/LihuKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOm59KTtsZXQgbz10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpWzBdO2lmKG8hPW51bGwmJm8ucmVjZWl2ZXImJnRoaXMudHJ5QmluZFRyYW5zcG9ydEV2ZW50cyhvLnJlY2VpdmVyKSx2KFwiUFJFTE9BRF9NRURJQV9DT1VOVFwiKT4wKXt0aGlzLnJlbW90ZVNEUC5wcmVsb2FkUmVtb3RlTWVkaWEodihcIlBSRUxPQURfTUVESUFfQ09VTlRcIikpO2xldCBhPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmF9KTtsZXQgYz1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihjKTt9bGV0e3ByZVNTUkNzOnN9PWU7aWYoQXJyYXkuaXNBcnJheShzKSYmcy5sZW5ndGg+MCl7bGV0e21pZHM6YX09dGhpcy5yZW1vdGVTRFAuYmF0Y2hTZW5kKHMubWFwKGM9Pih7a2luZDpjLmtpbmQsc3NyY01zZzpbe3NzcmNJZDpjLnNzcmNJZCxydHg6Yy5ydHh9XSxtc2xhYmVsOmMubXNsYWJlbH0pKSk7YS5mb3JFYWNoKChjLGQpPT57dGhpcy5wcmVTU1JDTWFwLnNldChzW2RdLnNzcmNJZCxjKTt9KSxhd2FpdCBXZCh0aGlzLnBlZXJDb25uZWN0aW9uLHRoaXMucmVtb3RlU0RQLHRoaXMuZXh0ZW5zaW9uKSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ29ubmVjdGlvbl0gcHJlLWJhdGNoUmVjZWl2ZSBleGNoYW5nZSBTRFAuXCIpKTt9fWNhdGNoKG4pe3Rocm93IG5ldyBOKFIuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uY29ubmVjdCBmYWlsZWQ7IFwiLmNvbmNhdChuLnRvU3RyaW5nKCkpKX19YXN5bmMgdXBkYXRlUmVtb3RlQ29ubmVjdChlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24udXBkYXRlUmVtb3RlQ29ubmVjdCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2xldHtydHBDYXBhYmlsaXRpZXM6bn09ZTt0aGlzLnJlbW90ZVNEUC51cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXMobiksQXJyYXkuaXNBcnJheSh0aGlzLnJlbW90ZUNvZGVjcykmJnRoaXMucmVtb3RlQ29kZWNzLmxlbmd0aD4wJiZ0aGlzLnJlbW90ZVNEUC51cGRhdGVSZW1vdGVDb2RlYyhbXSx0aGlzLnJlbW90ZUNvZGVjcyx0aGlzLnN0b3JlLmNvZGVjKTtsZXR7cHJlU1NSQ3M6aX09ZTtpZihBcnJheS5pc0FycmF5KGkpJiZpLmxlbmd0aD4wKXtsZXR7bWlkczpyfT10aGlzLnJlbW90ZVNEUC5iYXRjaFNlbmQoaS5tYXAobz0+T2JqZWN0LmFzc2lnbih7fSx7a2luZDpvLmtpbmQsc3NyY01zZzpbe3NzcmNJZDpvLnNzcmNJZCxydHg6by5ydHh9XSxtc2xhYmVsOm8ubXNsYWJlbH0pKSk7ci5mb3JFYWNoKChvLHMpPT57dGhpcy5wcmVTU1JDTWFwLnNldChpW3NdLnNzcmNJZCxvKTt9KTt9YXdhaXQgV2QodGhpcy5wZWVyQ29ubmVjdGlvbix0aGlzLnJlbW90ZVNEUCx0aGlzLmV4dGVuc2lvbiksXy5kZWJ1ZyhcIltQMlBDb25uZWN0aW9uXSB1cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXMgYnkgZXhjaGFuZ2luZyBTRFAuXCIpO31jYXRjaChuKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnVwZGF0ZVJlbW90ZUNvbm5lY3QgZmFpbGVkOyBcIi5jb25jYXQobi50b1N0cmluZygpKSl9fXNlbmQoZSxuLGkpe3ZhciByPXRoaXM7cmV0dXJuIEJpKGZ1bmN0aW9uKigpe2xldCBvPXlpZWxkIFR0KHIubXV0ZXgubG9jayhcIkZyb20gUDJQQ29ubmVjdGlvbi5zZW5kXCIpKTt0cnl7aWYoIXIucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uc2VuZCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2xldCBzPVtdO2UuZm9yRWFjaChFPT57bGV0IGY9ci5wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihFLl9tZWRpYVN0cmVhbVRyYWNrLHtkaXJlY3Rpb246XCJzZW5kb25seVwifSk7cy5wdXNoKGYpLEUuX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGYpO30pLCR0KCkmJnYoXCJTSU1VTENBU1RcIik9PT0hMCYmKHlpZWxkIFR0KHIuYXBwbHlTaW11bGNhc3RGb3JGaXJlZm94KHMsZSkpKTtsZXQgYT15aWVsZCBUdChyLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkpLGM9ci5yZW1vdGVTRFAucHJlZGljdFJlY2VpdmluZ01pZHMoZS5sZW5ndGgpLGQ9ci5tdW5nU2VuZE9mZmVyU0RQKGEuc2RwLGUsYyksbD1MZS5wYXJzZShkKSx1PWMubWFwKEU9PntsZXQgZj1sLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoUz0+Uy5hdHRyaWJ1dGVzLm1pZD09PUUpO2lmKCFmKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBleHRyYWN0IHNzcmMgZnJvbSBtZWRpYURlc2NyaXB0aW9uLlwiKTtyZXR1cm4gbjAoZix2KFwiVVNFX1BVQl9SVFhcIikpfSksaDt0cnl7aD15aWVsZCB1O31jYXRjaChFKXtoPVtdLHIucmVtb3RlU0RQLnJlY2VpdmUoZSxuLGksaCk7bGV0IGY9ci5yZW1vdGVTRFAudG9TdHJpbmcoKTt0aHJvdyB5aWVsZCBUdChyLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpkfSkpLHlpZWxkIFR0KHIucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6Zn0pKSx5aWVsZCBUdChyLnN0b3BTZW5kaW5nKGMsITApKSxFfXIucmVtb3RlU0RQLnJlY2VpdmUoZSxuLGksaCk7bGV0IHA9ci5yZW1vdGVTRFAudG9TdHJpbmcoKSxnPXIubG9nU0RQRXhjaGFuZ2UoZCxcIm9mZmVyXCIsXCJsb2NhbFwiLFwic2VuZFwiKTtyZXR1cm4geWllbGQgVHQoci5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6ZH0pKSx5aWVsZCBUdChyLmFwcGx5U2ltdWxjYXN0RW5jb2RpbmdzKHMsZSkpLHlpZWxkIFR0KHIuYXBwbHlTZW5kRW5jb2RpbmdzKHMsZSkpLGc/LihwKSx5aWVsZCBUdChyLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnB9KSkscy5tYXAoKEUsZik9PntsZXQgUz1jW2ZdO3JldHVybiB7bG9jYWxTU1JDOnVbZl0saWQ6Uyx0cmFuc2NlaXZlcjpFfX0pfWNhdGNoKHMpe3Rocm93IHMgaW5zdGFuY2VvZiBOP3M6bmV3IE4oUi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5zZW5kIGZhaWxlZDsgXCIuY29uY2F0KHMudG9TdHJpbmcoKSkpfWZpbmFsbHl7bygpO319KSgpfWFzeW5jIGNyZWF0ZURhdGFDaGFubmVscyhlLG4pe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbHMgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtsZXQgaT10aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLmdldChlKTtpZihpJiZpLnJlYWR5U3RhdGU9PT1cIm9wZW5cIilfLmRlYnVnKFwiW1AyUENvbm5lY3Rpb25dIENoYW5uZWxzIGFyZSBhbHJlYWR5IGF2YWlsYWJsZSBhbmQgY2FuIGJlIHJldXNlZCBkaXJlY3RseS5cIik7ZWxzZSB7bGV0IG89dGhpcy5jdXJyZW50RGF0YUNoYW5uZWxJZDwxMDIzP3RoaXMuY3VycmVudERhdGFDaGFubmVsSWQrKzp0aGlzLnJlY292ZXJlZERhdGFDaGFubmVsSWRzLnNoaWZ0KCk7aWYodHlwZW9mIG8hPVwibnVtYmVyXCIpdGhyb3cgbmV3IEVycm9yKFwiY3JlYXRlIERhdGFDaGFubmVsIGVycm9yLCBiZWNhdXNlIGNhbm5vdCBnZXQgZGMgaWRcIik7aT10aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVsKFwiZGF0YXN0cmVhbS1jaGFubmVsXCIse2lkOm8sbmVnb3RpYXRlZDohMCxvcmRlcmVkOiExLG1heFJldHJhbnNtaXRzOnYoXCJEQVRBU1RSRUFNX01BWF9SRVRSQU5TTUlUU1wiKX0pLGkuYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCIsdGhpcy5kYXRhU3RyZWFtQ2hhbm5lbE1hcC5zZXQoZSxpKTt9bi5mb3JFYWNoKG89PntvLl91cGRhdGVPcmlnaW5EYXRhQ2hhbm5lbChpKTt9KTtsZXR7bmVlZEV4Y2hhbmdlU0RQOnJ9PXRoaXMucmVtb3RlU0RQLnNlbmREYXRhQ2hhbm5lbCgpO2lmKHIpe2xldCBvPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOm99KTtsZXQgcz1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihzKSxfLmRlYnVnKFwiW1AyUENvbm5lY3Rpb25dIGNyZWF0ZURhdGFDaGFubmVscyBieSBleGNoYW5naW5nIFNEUC5cIik7fWVsc2UgXy5kZWJ1ZyhcIltQMlBDb25uZWN0aW9uXSBjcmVhdGVEYXRhQ2hhbm5lbHMgbm8gbmVlZCB0byBleGNoYW5nZSBTRFAuXCIpO3JldHVybn1jYXRjaChpKXt0aHJvdyBpIGluc3RhbmNlb2YgTj9pOm5ldyBOKFIuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWxzIGZhaWxlZDsgXCIuY29uY2F0KGkudG9TdHJpbmcoKSkpfX1hc3luYyBzdG9wRGF0YUNoYW5uZWxzKGUpe3RyeXtsZXQgbj10aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLmdldChlKTtyZXR1cm4gbiYmKG4uaWQmJnRoaXMucmVjb3ZlcmVkRGF0YUNoYW5uZWxJZHMucHVzaChuLmlkKSxuLmNsb3NlKCkpLHZvaWQgdGhpcy5kYXRhU3RyZWFtQ2hhbm5lbE1hcC5kZWxldGUoZSl9Y2F0Y2gobil7dGhyb3cgbiBpbnN0YW5jZW9mIE4/bjpuZXcgTihSLkRBVEFDSEFOTkVMX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uc3RvcERhdGFDaGFubmVscyBmYWlsZWQ7IFwiLmNvbmNhdChuLnRvU3RyaW5nKCkpKX19YXN5bmMgc3RvcFNlbmRpbmcoZSxuKXtsZXQgaT1uP3ZvaWQgMDphd2FpdCB0aGlzLm11dGV4LmxvY2soXCJGcm9tIFAyUENvbm5lY3Rpb24uc3RvcFNlbmRpbmdcIik7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWRcIik7bGV0IHI9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoYz0+ZS5pbmRleE9mKGMubWlkKSE9PS0xKTtpZihyLmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRyYW5zY2VpdmVycycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoIHdoZW4gdHJ5aW5nIHRvIGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZy5cIik7ci5tYXAoYz0+e3ZhciBkO3pkKHRoaXMuaWQrYy5taWQsdGhpcyksYy5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiLChkPWMuc3RvcCk9PT1udWxsfHxkPT09dm9pZCAwfHxkLmNhbGwoYyk7fSk7bGV0IG89YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLHM9dGhpcy5sb2dTRFBFeGNoYW5nZShvLnNkcHx8XCJcIixcIm9mZmVyXCIsXCJsb2NhbFwiLFwic3RvcFNlbmRpbmdcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG8pLHRoaXMucmVtb3RlU0RQLnN0b3BSZWNlaXZpbmcoZSk7bGV0IGE9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTtzPy4oYSksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDphfSk7fWNhdGNoKHIpe3Rocm93IG5ldyBOKFIuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uc3RvcFNlbmRpbmcgZmFpbGVkOyBcIi5jb25jYXQoci50b1N0cmluZygpKSl9ZmluYWxseXtpJiZpKCk7fX1hc3luYyByZWNlaXZlKGUsbixpLHIpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5yZWNlaXZlIFwiLmNvbmNhdChlLFwiIGJlZm9yZSByZW1vdGVTRFAgY3JlYXRlZC5cIikpO2xldHttaWQ6byxuZWVkRXhjaGFuZ2VTRFA6c309dGhpcy5yZW1vdGVTRFAuc2VuZChlLG4saSxyKTtzJiYoYXdhaXQgV2QodGhpcy5wZWVyQ29ubmVjdGlvbix0aGlzLnJlbW90ZVNEUCx0aGlzLmV4dGVuc2lvbiksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENvbm5lY3Rpb25dIHJlY2VpdmUgXCIpLmNvbmNhdChlLFwiIGJ5IGV4Y2hhbmdpbmcgU0RQLlwiKSkpO2xldCBhPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZChjPT5jLm1pZD09PW8pO2lmKCFhKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgdHJhbnNjZWl2ZXIgYWZ0ZXIgc2V0TG9jYWxEZXNjcmlwdGlvbi5cIik7cmV0dXJuIHt0cmFjazphLnJlY2VpdmVyLnRyYWNrLGlkOm8sdHJhbnNjZWl2ZXI6YX19Y2F0Y2gobyl7dGhyb3cgbmV3IE4oUi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5yZWNlaXZlIGZhaWxlZDsgXCIuY29uY2F0KG8udG9TdHJpbmcoKSkpfX1hc3luYyBiYXRjaFJlY2VpdmUoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLmJhdGNoUmVjZWl2ZSBiZWZvcmUgcmVtb3RlU0RQIGNyZWF0ZWQuXCIpO2xldHttaWRzOm4sbmVlZEV4Y2hhbmdlU0RQOml9PXRoaXMucmVtb3RlU0RQLmJhdGNoU2VuZChlKTtyZXR1cm4gaSYmKGF3YWl0IFdkKHRoaXMucGVlckNvbm5lY3Rpb24sdGhpcy5yZW1vdGVTRFAsdGhpcy5leHRlbnNpb24pLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtQMlBDb25uZWN0aW9uXSBiYXRjaFJlY2VpdmUgYnkgZXhjaGFuZ2luZyBTRFAuXCIpKSksbi5tYXAocj0+e2xldCBvPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZChzPT5zLm1pZD09PXIpO2lmKCFvKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgdHJhbnNjZWl2ZXIgYWZ0ZXIgc2V0TG9jYWxEZXNjcmlwdGlvbi5cIik7cmV0dXJuIHt0cmFjazpvLnJlY2VpdmVyLnRyYWNrLGlkOnIsdHJhbnNjZWl2ZXI6b319KX1jYXRjaChuKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnJlY2VpdmUgZmFpbGVkOyBcIi5jb25jYXQobi50b1N0cmluZygpKSl9fWFzeW5jIHN0b3BSZWNlaXZpbmcoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BSZWNlaXZpbmcgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7ZS5mb3JFYWNoKG89PntBcnJheS5mcm9tKHRoaXMucHJlU1NSQ01hcC5lbnRyaWVzKCkpLnNvbWUocz0+e2xldFthLGNdPXM7aWYoYz09PW8pcmV0dXJuIHRoaXMucHJlU1NSQ01hcC5kZWxldGUoYSksITB9KTt9KSx0aGlzLnJlbW90ZVNEUC5zdG9wU2VuZGluZyhlKTtsZXQgbj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpLGk9dGhpcy5sb2dTRFBFeGNoYW5nZShuLFwib2ZmZXJcIixcInJlbW90ZVwiLFwic3RvcFJlY2VpdmluZ1wiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6bn0pO2xldCByPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7aT8uKHIuc2RwfHxcIlwiKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24ocik7fWNhdGNoKG4pe3Rocm93IG5ldyBOKFIuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24gc3RvcFJlY2VpdmluZyBmYWlsZWQ7IFwiLmNvbmNhdChuLnRvU3RyaW5nKCkpKX19YXN5bmMgbXV0ZVJlbW90ZShlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24ubXV0ZVJlbW90ZSBtaWQ9XCIuY29uY2F0KGUsXCIgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIikpO3RoaXMucmVtb3RlU0RQLm11dGUoZSk7bGV0IG49dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxpPXRoaXMubG9nU0RQRXhjaGFuZ2UobixcIm9mZmVyXCIsXCJyZW1vdGVcIixcIm11dGVSZW1vdGVcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOm59KTtsZXQgcj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO2k/LihyLnNkcHx8XCJcIiksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHIpO31jYXRjaChuKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLm11dGVSZW1vdGUgZmFpbGVkOyBcIi5jb25jYXQobi50b1N0cmluZygpKSl9fWFzeW5jIHVubXV0ZVJlbW90ZShlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24udW5tdXRlUmVtb3RlIG1pZD1cIi5jb25jYXQoZSxcIiBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKSk7dGhpcy5yZW1vdGVTRFAudW5tdXRlKGUpO2xldCBuPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksaT10aGlzLmxvZ1NEUEV4Y2hhbmdlKG4sXCJvZmZlclwiLFwicmVtb3RlXCIsXCJ1bm11dGVSZW1vdGVcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOm59KTtsZXQgcj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO2k/LihyLnNkcHx8XCJcIiksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHIpO31jYXRjaChuKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnVubXV0ZVJlbW90ZSBmYWlsZWQ7IFwiLmNvbmNhdChuLnRvU3RyaW5nKCkpKX19YXN5bmMgbXV0ZUxvY2FsKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5tdXRlTG9jYWwgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7bGV0IG49dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIocz0+cy5taWQmJmUuaW5kZXhPZihzLm1pZCkhPT0tMSk7aWYobi5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2NlaXZlcnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aC5cIik7bi5tYXAocz0+e3MuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIjt9KTtsZXQgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkscj10aGlzLmxvZ1NEUEV4Y2hhbmdlKGkuc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJtdXRlTG9jYWxcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpLHRoaXMucmVtb3RlU0RQLm11dGVSZW1vdGUoZSk7bGV0IG89dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTtyPy4obyksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpvfSk7fWNhdGNoKG4pe3Rocm93IG5ldyBOKFIuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24ubXV0ZUxvY2FsIGZhaWxlZDsgXCIuY29uY2F0KG4udG9TdHJpbmcoKSkpfX1hc3luYyB1bm11dGVMb2NhbChlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24udW5tdXRlTG9jYWwgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7bGV0IG49dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIocz0+cy5taWQmJmUuaW5kZXhPZihzLm1pZCkhPT0tMSk7aWYobi5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2NlaXZlcnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aC5cIik7bi5tYXAoYXN5bmMocyxhKT0+e3MuZGlyZWN0aW9uPVwic2VuZG9ubHlcIjt9KTtsZXQgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkscj10aGlzLmxvZ1NEUEV4Y2hhbmdlKGkuc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJ1bm11dGVMb2NhbFwiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaSksdGhpcy5yZW1vdGVTRFAudW5tdXRlUmVtb3RlKGUpO2xldCBvPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7cj8uKG8pLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6b30pO31jYXRjaChuKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnVubXV0ZUxvY2FsIGZhaWxlZDsgXCIuY29uY2F0KG4udG9TdHJpbmcoKSkpfX1yZXN0YXJ0SUNFKGUpe3ZhciBuPXRoaXM7cmV0dXJuIEJpKGZ1bmN0aW9uKigpe2xldCBpPXlpZWxkIFR0KG4ubXV0ZXgubG9jayhcIkZyb20gUDJQQ29ubmVjdGlvbi5yZXN0YXJ0SUNFXCIpKTt0cnl7aWYoIW4ucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXN0YXJ0SUNFIGJlZm9yZSByZW1vdGVTRFAgY3JlYXRlZC5cIik7aWYoZnQoKS5zdXBwb3J0UENTZXRDb25maWd1cmF0aW9uKXtsZXQgZD1uLnBlZXJDb25uZWN0aW9uLmdldENvbmZpZ3VyYXRpb24oKSxsPWU9PT1Pbi5SRUxBWT9cInJlbGF5XCI6XCJhbGxcIjtkLmljZVRyYW5zcG9ydFBvbGljeSE9PWwmJihfLmRlYnVnKFwiW1wiLmNvbmNhdChuLnN0b3JlLmNsaWVudElkLFwiXSByZXN0YXJ0SUNFIGNoYW5nZSBpY2VUcmFuc3BvcnRQb2xpY3kgZnJvbSBbXCIpLmNvbmNhdChkLmljZVRyYW5zcG9ydFBvbGljeSxcIl0gdG8gW1wiKS5jb25jYXQobCxcIl1cIikpLGQuaWNlVHJhbnNwb3J0UG9saWN5PWwsbi5wZWVyQ29ubmVjdGlvbi5zZXRDb25maWd1cmF0aW9uKGQpKTt9ZWxzZSBpZihlPT09T24uUkVMQVkpcmV0dXJuO24ucmVtb3RlU0RQLnVwZGF0ZUNhbmRpZGF0ZXMoZSk7bGV0IHI9eWllbGQgVHQobi5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcih7aWNlUmVzdGFydDohMH0pKTtpZighci5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlc3RhcnRJQ0UgYmVjYXVzZSByZXN0YXJ0IG9mZmVyIFNEUCBkb2VzIG5vdCBleGlzdC5cIik7bGV0IG89aW8oci5zZHApLHtyZW1vdGVJY2VQYXJhbWV0ZXJzOnN9PXlpZWxkIG8uaWNlUGFyYW1ldGVycztuLnJlbW90ZVNEUC5yZXN0YXJ0SUNFKHMpO2xldCBhPW4ucmVtb3RlU0RQLnRvU3RyaW5nKCksYz1uLmxvZ1NEUEV4Y2hhbmdlKHIuc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJyZXN0YXJ0SUNFXCIpO24uc3RvcmUuZGVzY3JpcHRpb25TdGFydCgpLHlpZWxkIFR0KG4ucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihyKSksYz8uKGEpLHlpZWxkIFR0KG4ucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6YX0pKTt9Y2F0Y2gocil7Xy53YXJuaW5nKFwiW1wiLmNvbmNhdChuLnN0b3JlLmNsaWVudElkLFwiXSByZXN0YXJ0IElDRSBmYWlsZWQsIGFib3J0IG9wZXJhdGlvblwiKSxyKTt9ZmluYWxseXtpKCk7fX0pKCl9Y2xvc2UoKXt2YXIgZTt0aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZvckVhY2gobj0+e3pkKHRoaXMuaWQrbi5taWQsdGhpcyk7fSksdGhpcy5wcmVTU1JDTWFwLmNsZWFyKCksdGhpcy5wZWVyQ29ubmVjdGlvbi5jbG9zZSgpLChlPXRoaXMub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5jYWxsKHRoaXMsXCJjbG9zZWRcIiksdGhpcy50cnlVbmJpbmRUcmFuc3BvcnRFdmVudHMoKSx0aGlzLnVuYmluZFBDRXZlbnRzKCksdGhpcy51bmJpbmRTdGF0c0V2ZW50cygpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLmRlc3Ryb3koKSx0aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLmNsZWFyKCksdGhpcy5yZWNvdmVyZWREYXRhQ2hhbm5lbElkcz1bXSx0aGlzLmN1cnJlbnREYXRhQ2hhbm5lbElkPTE7fWdldFN0YXRzKCl7cmV0dXJuIFFpKFFpKHt9LHRoaXMuc3RhdHNGaWx0ZXIuZ2V0U3RhdHMoKSkse30se3F1YWxpdHlMaW1pdGF0aW9uUmVhc29uOnRoaXMucXVhbGl0eUxpbWl0YXRpb25SZWFzb259KX1nZXRSZW1vdGVWaWRlb0lzUmVhZHkoZSl7cmV0dXJuIHRoaXMuc3RhdHNGaWx0ZXIuZ2V0VmlkZW9Jc1JlYWR5KGUpfWFzeW5jIHVwZGF0ZUVuY29kZXJDb25maWcoZSxuKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24udXBkYXRlRW5jb2RlckNvbmZpZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtsZXQgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkscj10aGlzLm11bmdTZW5kT2ZmZXJTRFAoaS5zZHAsW25dLFtlXSk7dGhpcy5yZW1vdGVTRFAudXBkYXRlUmVjdk1lZGlhKGUsbik7bGV0IG89dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxzPXRoaXMubG9nU0RQRXhjaGFuZ2UocixcIm9mZmVyXCIsXCJsb2NhbFwiLFwidXBkYXRlRW5jb2RlckNvbmZpZ1wiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpyfSkscz8uKG8pLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6b30pO31jYXRjaChpKXt0aHJvdyBuZXcgTihSLkVYQ0hBTkdFX1NEUF9GQUlMRUQsaS50b1N0cmluZygpKX19YXN5bmMgdXBkYXRlU2VuZFBhcmFtZXRlcnMoZSxuKXtsZXQgaT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbHRlcihyPT5yLm1pZD09PWUpO2kubGVuZ3RoPT09MSYmKHRoaXMuaXNWUDhTaW11bGNhc3Qobik/JHQoKXx8YXdhaXQgdGhpcy5hcHBseVNpbXVsY2FzdEVuY29kaW5ncyhpLFtuXSk6YXdhaXQgdGhpcy5hcHBseVNlbmRFbmNvZGluZ3MoaSxbbl0pKTt9c2V0U3RhdHNSZW1vdGVWaWRlb0lzUmVhZHkoZSxuKXt0aGlzLnN0YXRzRmlsdGVyLnNldFZpZGVvSXNSZWFkeTIoZSxuKTt9YXN5bmMgcmVwbGFjZVRyYWNrKGUsbil7bGV0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKHI9PnIubWlkPT09bik7aSYmYXdhaXQgaS5zZW5kZXIucmVwbGFjZVRyYWNrKGUuX21lZGlhU3RyZWFtVHJhY2spO31hc3luYyBnZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKXtsZXQgZT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFJlY2VpdmVycygpO2lmKGUubGVuZ3RoPjAmJmVbMF0udHJhbnNwb3J0JiZlWzBdLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQmJmVbMF0udHJhbnNwb3J0LmljZVRyYW5zcG9ydC5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXImJmVbMF0udHJhbnNwb3J0LmljZVRyYW5zcG9ydC5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKSl7bGV0IG49ZVswXS50cmFuc3BvcnQuaWNlVHJhbnNwb3J0LHtsb2NhbDppLHJlbW90ZTpyfT1uLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpO3JldHVybiB7bG9jYWw6UWkoUWkoe30saHIpLHt9LHtjYW5kaWRhdGVUeXBlOmkudHlwZSxwcm90b2NvbDppLnByb3RvY29sLGFkZHJlc3M6aS5hZGRyZXNzLHBvcnQ6aS5wb3J0fSkscmVtb3RlOlFpKFFpKHt9LGhyKSx7fSx7Y2FuZGlkYXRlVHlwZTpyLnR5cGUscHJvdG9jb2w6ci5wcm90b2NvbCxhZGRyZXNzOnIuYWRkcmVzcyxwb3J0OnIucG9ydH0pfX1yZXR1cm4gdGhpcy5zdGF0c0ZpbHRlci5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKX1iaW5kUENFdmVudHMoKXt0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPSgpPT57dmFyIGU7KGU9dGhpcy5vbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmNhbGwodGhpcyx0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSk7fSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlPSgpPT57dmFyIGU7KGU9dGhpcy5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZSk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmNhbGwodGhpcyx0aGlzLnBlZXJDb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0ZSk7fSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPWU9PntlLmNhbmRpZGF0ZT90aGlzLmxvY2FsQ2FuZGlkYXRlQ291bnQrPTE6KHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9bnVsbCx0aGlzLmFsbENhbmRpZGF0ZXNSZWNlaXZlZD0hMCxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcGMtXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBsb2NhbCBjYW5kaWRhdGUgY291bnRcIiksdGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50KSk7fSxzZXRUaW1lb3V0KCgpPT57dGhpcy5hbGxDYW5kaWRhdGVzUmVjZWl2ZWR8fCh0aGlzLmFsbENhbmRpZGF0ZXNSZWNlaXZlZD0hMCxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcGMtXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBvbmljZWNhbmRpZGF0ZSB0aW1lb3V0LCBsb2NhbCBjYW5kaWRhdGUgY291bnRcIiksdGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50KSk7fSx2KFwiQ0FORElEQVRFX1RJTUVPVVRcIikpO311bmJpbmRQQ0V2ZW50cygpe3RoaXMucGVlckNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZWVycm9yPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub250cmFjaz1udWxsO31zdGF0aWMgcmVzb2x2ZVBDQ29uZmlndXJhdGlvbihlKXtsZXQgbj17aWNlU2VydmVyczpbXX07cmV0dXJuIGUuaWNlU2VydmVycz9uLmljZVNlcnZlcnM9ZS5pY2VTZXJ2ZXJzOmUudHVyblNlcnZlciYmZS50dXJuU2VydmVyLm1vZGUhPT1cIm9mZlwiJiYoWXUoZS50dXJuU2VydmVyLnNlcnZlcnMpP24uaWNlU2VydmVycz1lLnR1cm5TZXJ2ZXIuc2VydmVyczoobi5pY2VTZXJ2ZXJzJiZuLmljZVNlcnZlcnMucHVzaCguLi5RYS50dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKGUudHVyblNlcnZlci5zZXJ2ZXJzKSksdihcIlVTRV9UVVJOX1NFUlZFUl9PRl9HQVRFV0FZXCIpJiZuLmljZVNlcnZlcnMmJmUudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkmJm4uaWNlU2VydmVycy5wdXNoKC4uLlFhLnR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnMoZS50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheSkpLHYoXCJGT1JDRV9UVVJOX1RDUFwiKT9uLmljZVRyYW5zcG9ydFBvbGljeT1cInJlbGF5XCI6ZS50dXJuU2VydmVyLnNlcnZlcnMuY29uY2F0KGUudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXl8fFtdKS5mb3JFYWNoKGk9PntpLmZvcmNldHVybiYmKG4uaWNlVHJhbnNwb3J0UG9saWN5PVwicmVsYXlcIik7fSkpKSx2KFwiRU5BQkxFX0VOQ09ERURfVFJBTlNGT1JNXCIpJiZmdCgpLnN1cHBvcnRXZWJSVENFbmNvZGVkVHJhbnNmb3JtJiYobi5lbmNvZGVkSW5zZXJ0YWJsZVN0cmVhbXM9ITApLG59c3RhdGljIHR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnMoZSl7bGV0IG49W107cmV0dXJuIGUuZm9yRWFjaChpPT57aS5zZWN1cml0eT9pLnRjcHBvcnQmJm4ucHVzaCh7dXNlcm5hbWU6aS51c2VybmFtZSxjcmVkZW50aWFsOmkucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuczpcIi5jb25jYXQoVXMoaS50dXJuU2VydmVyVVJMKSxcIjpcIikuY29uY2F0KGkudGNwcG9ydCxcIj90cmFuc3BvcnQ9dGNwXCIpfSk6KGkudWRwcG9ydCYmIXYoXCJGT1JDRV9UVVJOX1RDUFwiKSYmbi5wdXNoKHt1c2VybmFtZTppLnVzZXJuYW1lLGNyZWRlbnRpYWw6aS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KGkudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KGkudWRwcG9ydCxcIj90cmFuc3BvcnQ9dWRwXCIpfSksaS50Y3Bwb3J0JiZuLnB1c2goe3VzZXJuYW1lOmkudXNlcm5hbWUsY3JlZGVudGlhbDppLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoaS50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQoaS50Y3Bwb3J0LFwiP3RyYW5zcG9ydD10Y3BcIil9KSk7fSksbn10cnlCaW5kVHJhbnNwb3J0RXZlbnRzKGUpe2xldCBuPWUudHJhbnNwb3J0O2lmKG4pe3RoaXMudHJhbnNwb3J0RXZlbnRSZWNlaXZlcj1lLG4ub25zdGF0ZWNoYW5nZT0oKT0+e3ZhciByO24hPW51bGwmJm4uc3RhdGUmJigocj10aGlzLm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlKT09PW51bGx8fHI9PT12b2lkIDB8fHIuY2FsbCh0aGlzLG4uc3RhdGUpKTt9LG4ub25lcnJvcj1yPT57dmFyIG87KG89dGhpcy5vbkRUTFNUcmFuc3BvcnRFcnJvcik9PT1udWxsfHxvPT09dm9pZCAwfHxvLmNhbGwodGhpcyxcImVycm9yXCJpbiByP3IuZXJyb3I6cik7fTtsZXQgaT1uLmljZVRyYW5zcG9ydDtpJiYoaS5vbnN0YXRlY2hhbmdlPSgpPT57bGV0IHI9bj8uaWNlVHJhbnNwb3J0LnN0YXRlO3ZhciBvO3ImJigobz10aGlzLm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2UpPT09bnVsbHx8bz09PXZvaWQgMHx8by5jYWxsKHRoaXMscikpO30saS5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXImJihpLm9uc2VsZWN0ZWRjYW5kaWRhdGVwYWlyY2hhbmdlPSgpPT57aWYoaS5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKSl7bGV0e2xvY2FsOnIscmVtb3RlOm99PWkuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCk7Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcGMtXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBzZWxlY3RlZGNhbmRpZGF0ZXBhaXJjaGFuZ2U6IGxvY2FsIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoe2NhbmRpZGF0ZVR5cGU6ci50eXBlLHByb3RvY29sOnIucHJvdG9jb2x9KSxcIiwgcmVtb3RlIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoe2NhbmRpZGF0ZVR5cGU6by50eXBlLHByb3RvY29sOm8ucHJvdG9jb2wsYWRkcmVzczpvLmFkZHJlc3MscG9ydDpvLnBvcnR9KSxcIiApXCIpKTt9fSkpO319dHJ5VW5iaW5kVHJhbnNwb3J0RXZlbnRzKCl7dGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyJiZ0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXIudHJhbnNwb3J0JiYodGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyLnRyYW5zcG9ydC5vbnN0YXRlY2hhbmdlPW51bGwsdGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyLnRyYW5zcG9ydC5vbmVycm9yPW51bGwsdGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQmJih0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXIudHJhbnNwb3J0LmljZVRyYW5zcG9ydC5vbnN0YXRlY2hhbmdlPW51bGwpKTt9YXN5bmMgdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzKGUsbil7dmFyIGkscjtpZihufHwobj10aGlzLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maW5kKGY9PmYudHJhY2s9PT1lLl9tZWRpYVN0cmVhbVRyYWNrKSksIW4pcmV0dXJuIF8ud2FybihcIltcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCJdIG5vIHJ0cFNlbmRlciBmb3VuZH1cIikpO2lmKHRoaXMuaXNWUDhTaW11bGNhc3QoZSkpcmV0dXJuIF8ud2FybihcIlt1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3NdIFRyYWNrIGlzIFZQOCBzaW11bGNhc3QsIHBsZWFzZSBhcHBseSBzaW11bGNhc3QgZW5jb2RpbmdzXCIpO2lmKCFmdCgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKXJldHVybiBfLndhcm4oXCJbdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzXSBCcm93c2VyIG5vdCBzdXBwb3J0IHNldCBydHAtc2VuZGVyIHBhcmFtZXRlcnNcIik7bGV0IG89e30scz17fTtzd2l0Y2goZS5fb3B0aW1pemF0aW9uTW9kZSl7Y2FzZVwibW90aW9uXCI6by5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJtYWludGFpbi1mcmFtZXJhdGVcIjticmVhaztjYXNlXCJkZXRhaWxcIjpvLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cIm1haW50YWluLXJlc29sdXRpb25cIjticmVhaztjYXNlXCJiYWxhbmNlZFwiOm8uZGVncmFkYXRpb25QcmVmZXJlbmNlPVwiYmFsYW5jZWRcIjt9bGV0IGE9ZnVuY3Rpb24oRSxmKXtyZXR1cm4gRS5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKFM9PlMuc2VuZGVyLnRyYWNrPT09Znx8Uy5yZWNlaXZlci50cmFjaz09PWYpfSh0aGlzLnBlZXJDb25uZWN0aW9uLGUuX21lZGlhU3RyZWFtVHJhY2spLGM9eEcoZSk7aWYoX1coZSkmJmEmJm4mJmMmJnRoaXMuZ2V0TG9jYWxWaWRlb1N0YXRzJiZXKGk9W1widnA4XCIsXCJ2cDlcIl0pLmNhbGwoaSx0aGlzLnN0b3JlLmNvZGVjKSl7dmFyIGQ7bGV0IEU9by5kZWdyYWRhdGlvblByZWZlcmVuY2V8fChXKGQ9ZS5faGludHMpLmNhbGwoZCxHdC5DVVNUT01fVFJBQ0spP3YoXCJDVVNUT01fQURBUFRBVElPTl9ERUZBVUxUX01PREVcIik6XCJtYWludGFpbi1mcmFtZXJhdGVcIik7KGZ1bmN0aW9uKGYsUyxDLEEsYix3KXtpZih6ZChmLEMpLGIoUyksQSE9PVwiYmFsYW5jZWRcIiYmQSE9PVwibWFpbnRhaW4tZnJhbWVyYXRlXCImJkEhPT1cIm1haW50YWluLXJlc29sdXRpb25cIilyZXR1cm47bGV0IEQ9LTE7UzAoZixTKTtsZXQgaz13aW5kb3cuc2V0SW50ZXJ2YWwoKCk9PntsZXQgVj1mdS5nZXQoZik7aWYoIXYoXCJFTkFCTEVfQUdfQURBUFRBVElPTlwiKXx8IVYpcmV0dXJuIHpkKGYsQyksdm9pZCBiKFMpO2xldCB6PXcoKTtpZih6LnNlbmRQYWNrZXRzPjAmJnouT3V0Z29pbmdBdmFpbGFibGVCYW5kd2lkdGg+MCl7aWYoRD09PS0xKXJldHVybiB2b2lkKEQ9RGF0ZS5ub3coKSk7aWYoRGF0ZS5ub3coKS1EPDFlMylyZXR1cm47bGV0IGx0PXouc2VuZEZyYW1lUmF0ZSx2dD16Lk91dGdvaW5nQXZhaWxhYmxlQmFuZHdpZHRoLFtEdCxjZV09cFcoZixsdCx2dCxWLmFkYXB0YXRpb25Db25maWcsUyxBKTtjZSYmKEMucXVhbGl0eUxpbWl0YXRpb25SZWFzb249Y2UpLER0JiZWLmFkYXB0YXRpb25Db25maWcuc2NhbGUhPT1EdC5zY2FsZSYmKF8uZGVidWcoXCJbXCIuY29uY2F0KGYsXCJdIGFwcGx5QWRhcHRhdGlvbjogXCIpLmNvbmNhdChDLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29uLGBcbiAgICAgICAgICAgc2VuZEZwcyBgKS5jb25jYXQobHQsXCIsIGJ3ZSBcIikuY29uY2F0KHZ0LFwiLCBzd2l0Y2ggZnJvbSBcIikuY29uY2F0KFYuYWRhcHRhdGlvbkNvbmZpZy5zY2FsZSxcIiB0byBcIikuY29uY2F0KER0LnNjYWxlLFwiIFwiKSksVi5hZGFwdGF0aW9uQ29uZmlnPW1fKG1fKHt9LFYuYWRhcHRhdGlvbkNvbmZpZyksRHQpLGIoRHQpKTt9fSx2KFwiQ0hFQ0tfTE9DQUxfU1RBVFNfSU5URVJWQUxcIikpLEI9bV8oe30sUyk7ZnUuc2V0KGYse3RpbWVyOmssYWRhcHRhdGlvbkNvbmZpZzpCLG9yaWdpbkNvbmZpZzpTLGFkYXB0YXRpb25GdW5jOmJ9KSxfLmRlYnVnKFwiW1wiLmNvbmNhdChmLFwiXSBzdGFydCBhZGFwdGF0aW9uLCBvcmlnaW5Db25maWc6IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoUyksXCIsIGRlZ3JhZGF0aW9uUHJlZmVyZW5jZTogXCIpLmNvbmNhdChBKSk7fSkodGhpcy5pZCthLm1pZCxjLHRoaXMsRSxmPT57biYmdGhpcy51cGRhdGVBZGFwdGF0aW9uKG4sZik7fSx0aGlzLmdldExvY2FsVmlkZW9TdGF0cy5iaW5kKHRoaXMpKTt9aWYoZS5fZW5jb2RlckNvbmZpZyl7dmFyIGw7bGV0e2JpdHJhdGVNYXg6RSxmcmFtZVJhdGU6ZixzY2FsZVJlc29sdXRpb25Eb3duQnk6U309ZS5fZW5jb2RlckNvbmZpZztFJiYocy5tYXhCaXRyYXRlPTFlMypFKSwoVyhsPWUuX2hpbnRzKS5jYWxsKGwsR3QuTE9XX1NUUkVBTSl8fGUuaXNVc2VTY2FsZVJlc29sdXRpb25Eb3duQnkpJiYoZiYmKHMubWF4RnJhbWVyYXRlPU5uKGYpKSxTJiZTPj0xJiYocy5zY2FsZVJlc29sdXRpb25Eb3duQnk9UykpO31sZXR7bWF4RnJhbWVyYXRlOnV9PXYoXCJFTkNPREVSX0NPTkZJR19MSU1JVFwiKTtpZih1JiZ0eXBlb2YgdT09XCJudW1iZXJcIiYmKHMubWF4RnJhbWVyYXRlPXMubWF4RnJhbWVyYXRlP01hdGgubWluKHMubWF4RnJhbWVyYXRlLHUpOnUpLHYoXCJEU0NQX1RZUEVcIikmJmhvKCkpe3ZhciBoO2xldCBFPXYoXCJEU0NQX1RZUEVcIik7VyhoPVtcInZlcnktbG93XCIsXCJsb3dcIixcIm1lZGl1bVwiLFwiaGlnaFwiXSkuY2FsbChoLEUpJiYocy5uZXR3b3JrUHJpb3JpdHk9RSk7fWxldCBwPW4uZ2V0UGFyYW1ldGVycygpLGc9KHI9cC5lbmNvZGluZ3MpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6clswXTskdCgpJiYhZyYmKG8uZW5jb2RpbmdzPVtzXSksZyYmT2JqZWN0LmFzc2lnbihnLHMpLE9iamVjdC5hc3NpZ24ocCxvKSxfLmRlYnVnKFwiW1wiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl0gdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHAuZW5jb2RpbmdzKSkpLGF3YWl0IG4uc2V0UGFyYW1ldGVycyhwKSxhd2FpdCBhc3luYyBmdW5jdGlvbihFLGYsUyl7dHJ5e3ZhciBDO2lmKCFmdCgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzfHwhZnVuY3Rpb24oayl7cmV0dXJuIGs9PT1cInZwOVwifShFKXx8IXYoXCJFTkFCTEVfU1ZDXCIpKXJldHVybjtsZXQgQT17fSxiPXt9LHc9Zi5nZXRQYXJhbWV0ZXJzKCksRD0oQz13LmVuY29kaW5ncyk9PT1udWxsfHxDPT09dm9pZCAwP3ZvaWQgMDpDWzBdO2Iuc2NhbGFiaWxpdHlNb2RlPSRFKFMpLEQmJk9iamVjdC5hc3NpZ24oRCxiKSxPYmplY3QuYXNzaWduKHcsQSksYXdhaXQgZi5zZXRQYXJhbWV0ZXJzKHcpLF8uZGVidWcoXCJbdXBkYXRlQWRhcHRhdGlvbl0gdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzIHNjYWxhYmlsaXR5TW9kZSBzdWNjZXNzOiBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkody5lbmNvZGluZ3MpKSk7fWNhdGNoKEEpe18uZGVidWcoXCJbdXBkYXRlQWRhcHRhdGlvbl0gdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzIHNjYWxhYmlsaXR5TW9kZSBmYWlsZWRcIixBKTt9fSh0aGlzLnN0b3JlLmNvZGVjLG4sdihcIlNWQ19NT0RFXCIpKTt9YXN5bmMgdXBkYXRlQWRhcHRhdGlvbihlLG4pe3ZhciBpLHI7aWYoIWUpcmV0dXJuIF8uZGVidWcoXCJbdXBkYXRlQWRhcHRhdGlvbl0gbm8gcnRwU2VuZGVyIGZvdW5kXCIpO2lmKCFmdCgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKXJldHVybiBfLmRlYnVnKFwiW3VwZGF0ZUFkYXB0YXRpb25dIEJyb3dzZXIgbm90IHN1cHBvcnQgc2V0IHJ0cC1zZW5kZXIgcGFyYW1ldGVyc1wiKTtsZXQgbz17fSx7Yml0cmF0ZU1heDpzLGZyYW1lUmF0ZTphLHNjYWxlUmVzb2x1dGlvbkRvd25CeTpjfT1uO3MmJihvLm1heEJpdHJhdGU9MWUzKnMpLGEmJihvLm1heEZyYW1lcmF0ZT1ObihhKSksYyYmYz49MSYmVyhpPVtcInZwOFwiLFwidnA5XCJdKS5jYWxsKGksdGhpcy5zdG9yZS5jb2RlYykmJihvLnNjYWxlUmVzb2x1dGlvbkRvd25CeT1jKTtsZXQgZD1lLmdldFBhcmFtZXRlcnMoKSxsPShyPWQuZW5jb2RpbmdzKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnJbMF07bCYmT2JqZWN0LmFzc2lnbihsLG8pLE9iamVjdC5hc3NpZ24oZCx7fSk7dHJ5e2F3YWl0IGUuc2V0UGFyYW1ldGVycyhkKSxfLmRlYnVnKFwiW3VwZGF0ZUFkYXB0YXRpb25dIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5nczogXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KGQuZW5jb2RpbmdzKSkpO31jYXRjaCh1KXshKFwidHJhbnNwb3J0XCJpbiBlKXx8ZS50cmFuc3BvcnQmJmUudHJhbnNwb3J0LnN0YXRlPT09XCJjb25uZWN0ZWRcIj90aGlzLnBlZXJDb25uZWN0aW9uU3RhdGUhPT1cImNvbm5lY3RlZFwiP18uZGVidWcoXCJbdXBkYXRlQWRhcHRhdGlvbl0gcGVlckNvbm5lY3Rpb24gbm90IGNvbm5lY3RlZH1cIik6Xy5kZWJ1ZyhcIlt1cGRhdGVBZGFwdGF0aW9uXSB1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3MgZmFpbGVkXCIsdSk6Xy5kZWJ1ZyhcIlt1cGRhdGVBZGFwdGF0aW9uXSBydHBTZW5kZXIgdHJhbnNwb3J0IG5vdCBjb25uZWN0ZWR9XCIpO319YXN5bmMgYXBwbHlTZW5kRW5jb2RpbmdzKGUsbil7dHJ5e2lmKCFmdCgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzfHxlLmxlbmd0aCE9PW4ubGVuZ3RoKXJldHVybjtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7bGV0IHI9ZVtpXSxvPW5baV07byBpbnN0YW5jZW9mIEZ0JiYhdGhpcy5pc1ZQOFNpbXVsY2FzdChvKSYmYXdhaXQgdGhpcy51cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3MobyxyLnNlbmRlcik7fX1jYXRjaHtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBBcHBseSBSVFBTZW5kRW5jb2RpbmdzIGZhaWxlZC5cIikpO319bXVuZ1NlbmRPZmZlclNEUChlLG4saSl7bGV0IHI9TGUucGFyc2UoZSk7cmV0dXJuIG4uZm9yRWFjaCgobyxzKT0+e2xldCBhPWlbc10sYz1yLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoZD0+ZC5hdHRyaWJ1dGVzLm1pZD09PWEpO2MmJihyYShjLG8pLG8wKGMsbyx0aGlzLnN0b3JlLmNvZGVjKSk7fSksTGUucHJpbnQocil9YmluZFN0YXRzRXZlbnRzKCl7dGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0QXVkaW9SZWNlaXZlZD1lPT57dmFyIG47KG49dGhpcy5vbkZpcnN0QXVkaW9SZWNlaXZlZCk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmNhbGwodGhpcyxlKTt9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvUmVjZWl2ZWQ9ZT0+e3ZhciBuOyhuPXRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jYWxsKHRoaXMsZSk7fSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb0RlY29kZWQ9ZT0+e3ZhciBuOyhuPXRoaXMub25GaXJzdEF1ZGlvRGVjb2RlZCk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmNhbGwodGhpcyxlKTt9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZD0oZSxuLGkpPT57dmFyIHI7KHI9dGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkKT09PW51bGx8fHI9PT12b2lkIDB8fHIuY2FsbCh0aGlzLGUsbixpKTt9LHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD0oZSxuKT0+e3ZhciBpOyhpPXRoaXMub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZCk9PT1udWxsfHxpPT09dm9pZCAwfHxpLmNhbGwodGhpcyxlLG4pO30sdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD0oZSxuKT0+e3ZhciBpOyhpPXRoaXMub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQpPT09bnVsbHx8aT09PXZvaWQgMHx8aS5jYWxsKHRoaXMsZSxuKTt9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9ZT0+e3ZhciBuOyhuPXRoaXMub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jYWxsKHRoaXMsZSk7fTt9dW5iaW5kU3RhdHNFdmVudHMoKXt0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb1JlY2VpdmVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb1JlY2VpdmVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb0RlY29kZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0PXZvaWQgMDt9YXN5bmMgYXBwbHlTaW11bGNhc3RGb3JGaXJlZm94KGUsbil7aWYoZS5sZW5ndGg9PT1uLmxlbmd0aClmb3IobGV0IGM9MDtjPGUubGVuZ3RoO2MrKyl7dmFyIGkscixvLHMsYTtsZXQgZD1lW2NdLGw9bltjXTtpZihsIGluc3RhbmNlb2YgRnQmJiFXKGk9bC5faGludHMpLmNhbGwoaSxHdC5MT1dfU1RSRUFNKSYmKHI9bC5fZW5jb2RlckNvbmZpZykhPT1udWxsJiZyIT09dm9pZCAwJiZyLmJpdHJhdGVNYXgmJigobz1sLl9lbmNvZGVyQ29uZmlnKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8uYml0cmF0ZU1heCk+MjAwJiYocz1sLl9zY2FsYWJpbGl0eU1vZGUpIT09bnVsbCYmcyE9PXZvaWQgMCYmcy5udW1TcGF0aWFsTGF5ZXJzJiYoKGE9bC5fc2NhbGFiaWxpdHlNb2RlKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEubnVtU3BhdGlhbExheWVycyk+MSYmdGhpcy5zdG9yZS5jb2RlYz09PVwidnA4XCIpe2xldCB1PXt9LGg9e2hpZ2g6MWUzKihsLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXgtNTApLG1lZGl1bTo1ZTR9O3UuZW5jb2RpbmdzPVt7cmlkOlwibVwiLGFjdGl2ZTohMCxtYXhCaXRyYXRlOmgubWVkaXVtLHNjYWxlUmVzb2x1dGlvbkRvd25CeTo0fSx7cmlkOlwiaFwiLGFjdGl2ZTohMCxtYXhCaXRyYXRlOmguaGlnaH1dO2xldCBwPWQuc2VuZGVyLmdldFBhcmFtZXRlcnMoKTthd2FpdCBkLnNlbmRlci5zZXRQYXJhbWV0ZXJzKE9iamVjdC5hc3NpZ24ocCx1KSk7fX19YXN5bmMgYXBwbHlTaW11bGNhc3RFbmNvZGluZ3MoZSxuKXtpZighJHQoKSYmZS5sZW5ndGg9PT1uLmxlbmd0aClmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7bGV0IHI9bltpXTtpZihyIGluc3RhbmNlb2YgRnQmJnRoaXMuaXNWUDhTaW11bGNhc3Qocikpe2xldCBvPWVbaV0scz17fSxhPXtoaWdoOjFlMyooci5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4LTUwKSxtZWRpdW06NWU0fTtzLmVuY29kaW5ncz1be2FjdGl2ZTohMCxhZGFwdGl2ZVB0aW1lOiExLG5ldHdvcmtQcmlvcml0eTpcImhpZ2hcIixwcmlvcml0eTpcImhpZ2hcIixtYXhCaXRyYXRlOmEuaGlnaH0se2FjdGl2ZTohMCxhZGFwdGl2ZVB0aW1lOiExLG5ldHdvcmtQcmlvcml0eTpcImxvd1wiLHByaW9yaXR5OlwibG93XCIsbWF4Qml0cmF0ZTphLm1lZGl1bSxzY2FsZVJlc29sdXRpb25Eb3duQnk6NH1dO2xldCBjPW8uc2VuZGVyLmdldFBhcmFtZXRlcnMoKTthd2FpdCBvLnNlbmRlci5zZXRQYXJhbWV0ZXJzKE9iamVjdC5hc3NpZ24oYyxzKSk7fX19aXNWUDhTaW11bGNhc3QoZSl7dmFyIG4saSxyLG8scztyZXR1cm4gISEoZSBpbnN0YW5jZW9mIEZ0JiZ2KFwiU0lNVUxDQVNUXCIpJiZ0aGlzLnN0b3JlLmNvZGVjPT09XCJ2cDhcIiYmIVcobj1lLl9oaW50cykuY2FsbChuLEd0LkxPV19TVFJFQU0pJiYoaT1lLl9lbmNvZGVyQ29uZmlnKSE9PW51bGwmJmkhPT12b2lkIDAmJmkuYml0cmF0ZU1heCYmKChyPWUuX2VuY29kZXJDb25maWcpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5iaXRyYXRlTWF4KT4yMDAmJihvPWUuX3NjYWxhYmlsaXR5TW9kZSkhPT1udWxsJiZvIT09dm9pZCAwJiZvLm51bVNwYXRpYWxMYXllcnMmJigocz1lLl9zY2FsYWJpbGl0eU1vZGUpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy5udW1TcGF0aWFsTGF5ZXJzKT4xKX1sb2dTRFBFeGNoYW5nZShlLG4saSxyKXtpZih2KFwiU0RQX0xPR0dJTkdcIikpcmV0dXJuIF8udXBsb2FkKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBleGNoYW5naW5nIFwiKS5jb25jYXQoaSxcIiBcIikuY29uY2F0KG4sXCIgU0RQIGR1cmluZyBQMlBDb25uZWN0aW9uLlwiKS5jb25jYXQocixgXG5gKSxlKSxuPT09XCJvZmZlclwiP289Pnt0aGlzLmxvZ1NEUEV4Y2hhbmdlKG8sXCJhbnN3ZXJcIixpPT09XCJsb2NhbFwiP1wicmVtb3RlXCI6XCJsb2NhbFwiLHIpO306dm9pZCAwfWFzeW5jIGdldFJlbW90ZVNTUkMoZSl7aWYoIXRoaXMucmVtb3RlU0RQKXJldHVybjtsZXQgbj10aGlzLnJlbW90ZVNEUC5nZXRTU1JDKGUpO3JldHVybiBuJiZuLmxlbmd0aCE9PTA/blswXS5zc3JjSWQ6dm9pZCAwfXNldENvbmZpZ3VyYXRpb24oZSl7aWYoZnQoKS5zdXBwb3J0UENTZXRDb25maWd1cmF0aW9uKXtsZXQgbj1RYS5yZXNvbHZlUENDb25maWd1cmF0aW9uKGUpO3RoaXMucGVlckNvbm5lY3Rpb24uc2V0Q29uZmlndXJhdGlvbihuKTt9fX0scShwdC5wcm90b3R5cGUsXCJ1cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXNcIixbcG5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHQucHJvdG90eXBlLFwidXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzXCIpLHB0LnByb3RvdHlwZSkscShwdC5wcm90b3R5cGUsXCJjb25uZWN0XCIsW3BuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHB0LnByb3RvdHlwZSxcImNvbm5lY3RcIikscHQucHJvdG90eXBlKSxxKHB0LnByb3RvdHlwZSxcInVwZGF0ZVJlbW90ZUNvbm5lY3RcIixbcG5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHQucHJvdG90eXBlLFwidXBkYXRlUmVtb3RlQ29ubmVjdFwiKSxwdC5wcm90b3R5cGUpLHEocHQucHJvdG90eXBlLFwiY3JlYXRlRGF0YUNoYW5uZWxzXCIsW3BuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHB0LnByb3RvdHlwZSxcImNyZWF0ZURhdGFDaGFubmVsc1wiKSxwdC5wcm90b3R5cGUpLHEocHQucHJvdG90eXBlLFwicmVjZWl2ZVwiLFtwbl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwdC5wcm90b3R5cGUsXCJyZWNlaXZlXCIpLHB0LnByb3RvdHlwZSkscShwdC5wcm90b3R5cGUsXCJiYXRjaFJlY2VpdmVcIixbcG5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHQucHJvdG90eXBlLFwiYmF0Y2hSZWNlaXZlXCIpLHB0LnByb3RvdHlwZSkscShwdC5wcm90b3R5cGUsXCJzdG9wUmVjZWl2aW5nXCIsW3BuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHB0LnByb3RvdHlwZSxcInN0b3BSZWNlaXZpbmdcIikscHQucHJvdG90eXBlKSxxKHB0LnByb3RvdHlwZSxcIm11dGVSZW1vdGVcIixbcG5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHQucHJvdG90eXBlLFwibXV0ZVJlbW90ZVwiKSxwdC5wcm90b3R5cGUpLHEocHQucHJvdG90eXBlLFwidW5tdXRlUmVtb3RlXCIsW3BuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHB0LnByb3RvdHlwZSxcInVubXV0ZVJlbW90ZVwiKSxwdC5wcm90b3R5cGUpLHEocHQucHJvdG90eXBlLFwibXV0ZUxvY2FsXCIsW3BuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHB0LnByb3RvdHlwZSxcIm11dGVMb2NhbFwiKSxwdC5wcm90b3R5cGUpLHEocHQucHJvdG90eXBlLFwidW5tdXRlTG9jYWxcIixbcG5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHQucHJvdG90eXBlLFwidW5tdXRlTG9jYWxcIikscHQucHJvdG90eXBlKSxxKHB0LnByb3RvdHlwZSxcImNsb3NlXCIsW3BuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHB0LnByb3RvdHlwZSxcImNsb3NlXCIpLHB0LnByb3RvdHlwZSkscShwdC5wcm90b3R5cGUsXCJ1cGRhdGVFbmNvZGVyQ29uZmlnXCIsW3BuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHB0LnByb3RvdHlwZSxcInVwZGF0ZUVuY29kZXJDb25maWdcIikscHQucHJvdG90eXBlKSxxKHB0LnByb3RvdHlwZSxcInVwZGF0ZVNlbmRQYXJhbWV0ZXJzXCIsW3BuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHB0LnByb3RvdHlwZSxcInVwZGF0ZVNlbmRQYXJhbWV0ZXJzXCIpLHB0LnByb3RvdHlwZSkscShwdC5wcm90b3R5cGUsXCJyZXBsYWNlVHJhY2tcIixbcG5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHQucHJvdG90eXBlLFwicmVwbGFjZVRyYWNrXCIpLHB0LnByb3RvdHlwZSkscShwdC5wcm90b3R5cGUsXCJ1cGRhdGVBZGFwdGF0aW9uXCIsW3BuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHB0LnByb3RvdHlwZSxcInVwZGF0ZUFkYXB0YXRpb25cIikscHQucHJvdG90eXBlKSxxKHB0LnByb3RvdHlwZSxcImdldFJlbW90ZVNTUkNcIixbcG5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHQucHJvdG90eXBlLFwiZ2V0UmVtb3RlU1NSQ1wiKSxwdC5wcm90b3R5cGUpLHB0KTtmdW5jdGlvbiBwbih0LGUsbil7bGV0IGk9dFtlXTtpZih0eXBlb2YgaSE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgbXV0ZXggb24gb2JqZWN0IHByb3BlcnR5LlwiKTtyZXR1cm4gbi52YWx1ZT1hc3luYyBmdW5jdGlvbigpe2xldCByPXRoaXMubXV0ZXgsbz1hd2FpdCByLmxvY2soXCJGcm9tIFAyUENvbm5lY3Rpb24uXCIuY29uY2F0KGUpKTt0cnl7Zm9yKHZhciBzPWFyZ3VtZW50cy5sZW5ndGgsYT1uZXcgQXJyYXkocyksYz0wO2M8cztjKyspYVtjXT1hcmd1bWVudHNbY107cmV0dXJuIGF3YWl0IGkuYXBwbHkodGhpcyxhKX1maW5hbGx5e28oKTt9fSxufXZhciBhdDtmdW5jdGlvbiBXdih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiBaaSh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj9XdihPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6V3YoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9ZnVuY3Rpb24gSHYodCl7dmFyIGUsbixpLHI9Mjtmb3IodHlwZW9mIFN5bWJvbDxcInVcIiYmKG49aFcsaT1TeW1ib2wuaXRlcmF0b3IpO3ItLTspe2lmKG4mJihlPXRbbl0pIT1udWxsKXJldHVybiBlLmNhbGwodCk7aWYoaSYmKGU9dFtpXSkhPW51bGwpcmV0dXJuIG5ldyBibChlLmNhbGwodCkpO249XCJAQGFzeW5jSXRlcmF0b3JcIixpPVwiQEBpdGVyYXRvclwiO310aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGlzIG5vdCBhc3luYyBpdGVyYWJsZVwiKX1mdW5jdGlvbiBibCh0KXtmdW5jdGlvbiBlKG4pe2lmKE9iamVjdChuKSE9PW4pcmV0dXJuIGoucmVqZWN0KG5ldyBUeXBlRXJyb3IobitcIiBpcyBub3QgYW4gb2JqZWN0LlwiKSk7dmFyIGk9bi5kb25lO3JldHVybiBqLnJlc29sdmUobi52YWx1ZSkudGhlbihmdW5jdGlvbihyKXtyZXR1cm4ge3ZhbHVlOnIsZG9uZTppfX0pfXJldHVybiBibD1mdW5jdGlvbihuKXt0aGlzLnM9bix0aGlzLm49bi5uZXh0O30sYmwucHJvdG90eXBlPXtzOm51bGwsbjpudWxsLG5leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLm4uYXBwbHkodGhpcy5zLGFyZ3VtZW50cykpfSxyZXR1cm46ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5zLnJldHVybjtyZXR1cm4gaT09PXZvaWQgMD9qLnJlc29sdmUoe3ZhbHVlOm4sZG9uZTohMH0pOmUoaS5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9LHRocm93OmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMucy5yZXR1cm47cmV0dXJuIGk9PT12b2lkIDA/ai5yZWplY3Qobik6ZShpLmFwcGx5KHRoaXMucyxhcmd1bWVudHMpKX19LG5ldyBibCh0KX12YXIgSmQ9KGF0PWNsYXNzIGV4dGVuZHMgWHR7Z2V0IHN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0YXRlfXNldCBzdGF0ZSh0KXtsZXQgZT10aGlzLl9zdGF0ZTt0aGlzLl9zdGF0ZT10LHRoaXMuZW1pdCh0dC5TdGF0ZUNoYW5nZSxlLHRoaXMuX3N0YXRlKTt9Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLFQodGhpcyxcImlzUGxhbkJcIix2b2lkIDApLFQodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxUKHRoaXMsXCJzdGF0c1VwbG9hZGVyXCIsdm9pZCAwKSxUKHRoaXMsXCJjb25uZWN0aW9uXCIsdm9pZCAwKSxUKHRoaXMsXCJsb2NhbFRyYWNrTWFwXCIsbmV3IE1hcCksVCh0aGlzLFwicmVtb3RlVXNlck1hcFwiLG5ldyBNYXApLFQodGhpcyxcImxvY2FsRGF0YUNoYW5uZWxzXCIsW10pLFQodGhpcyxcInJlbW90ZURhdGFDaGFubmVsTWFwXCIsbmV3IE1hcCksVCh0aGlzLFwicGVuZGluZ0xvY2FsVHJhY2tzXCIsW10pLFQodGhpcyxcInBlbmRpbmdSZW1vdGVUcmFja3NcIixbXSksVCh0aGlzLFwicGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzXCIsW10pLFQodGhpcyxcInBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbHNcIixbXSksVCh0aGlzLFwic3RhdHNDb2xsZWN0b3JcIix2b2lkIDApLFQodGhpcyxcInNob3VsZEZvcndhcmRQMlBDcmVhdGlvblwiLHZvaWQgMCksVCh0aGlzLFwiaWNlRmFpbGVkQ291bnRcIiwwKSxUKHRoaXMsXCJkdGxzRmFpbGVkQ291bnRcIiwwKSxUKHRoaXMsXCJtdXRleFwiLG5ldyB6ZShcIlAyUENoYW5uZWwtbXV0ZXhcIikpLFQodGhpcyxcIl9zdGF0ZVwiLFJ0LkRpc2Nvbm5lY3RlZCksVCh0aGlzLFwiX3BjU3RhdHNVcGxvYWRUeXBlXCIsdihcIk5FV19JQ0VfUkVTVEFSVFwiKT9Uci5GSVJTVF9DT05ORUNUSU9OOlRyLk9MRF9GSVJTVF9DT05ORUNUSU9OKSxUKHRoaXMsXCJfaXNJblJlc3RhcnRJY2VcIiwhMSksVCh0aGlzLFwiX2lzU3RhcnRSZXN0YXJ0SWNlXCIsITEpLFQodGhpcyxcIl9yZXN0YXJ0U3RhdGVzXCIsW1wiZGlzY29ubmVjdGVkXCIsXCJmYWlsZWRcIl0pLFQodGhpcyxcIl9yZXN0YXJ0VGltZXJcIix2b2lkIDApLFQodGhpcyxcIl9pc0ZpcnN0Q29ubmVjdGVkXCIsITApLFQodGhpcyxcImhhbmRsZU11dGVMb2NhbFRyYWNrXCIsYXN5bmMobixpLHIpPT57bGV0IG89YXdhaXQgdGhpcy5tdXRleC5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENoYW5uZWwuaGFuZGxlTXV0ZUxvY2FsVHJhY2tcIik7dHJ5e2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1SdC5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgcihuZXcgTihSLklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IGNhbGwgUDJQQ2hhbm5lbC5oYW5kbGVNdXRlTG9jYWxUcmFjayBiZWZvcmUgY29ubmVjdGlvbiBlc3RhYmxpc2hlZC5cIikpO2xldCBzPXRoaXMuZmlsdGVyVG9iZU11dGVkVHJhY2tzKG4pO2lmKHMubGVuZ3RoPT09MClyZXR1cm4gdm9pZCBpKCk7bGV0IGE9cy5maW5kKGQ9PmRbMF09PT1cInZpZGVvTG93VHJhY2tcIik7YSYmYVsxXS50cmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCksYXdhaXQgdGhpcy5jb25uZWN0aW9uLm11dGVMb2NhbChzLm1hcChkPT57bGV0Wyx7aWQ6bH1dPWQ7cmV0dXJuIGx9KSk7bGV0IGM9dGhpcy5jcmVhdGVNdXRlTWVzc2FnZShzKTthd2FpdCBrdCh0aGlzLHR0LlJlcXVlc3RNdXRlTG9jYWwsYyksaSgpO31jYXRjaChzKXtyKHMpO31maW5hbGx5e28oKTt9fSksVCh0aGlzLFwiaGFuZGxlVW5tdXRlTG9jYWxUcmFja1wiLGFzeW5jKG4saSxyKT0+e2xldCBvPWF3YWl0IHRoaXMubXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2tcIik7dHJ5e2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1SdC5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgcihuZXcgTihSLklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IGNhbGwgUDJQQ2hhbm5lbC5oYW5kbGVVbm11dGVMb2NhbFRyYWNrIGJlZm9yZSBjb25uZWN0aW9uIGVzdGFibGlzaGVkLlwiKSk7bGV0IHM9dGhpcy5maWx0ZXJUb2JlVW5tdXRlZFRyYWNrcyhuKTtpZihzLmxlbmd0aD09PTApcmV0dXJuIHZvaWQgaSgpO2xldCBhPXMuZmluZChkPT5kWzBdPT09XCJ2aWRlb0xvd1RyYWNrXCIpO2lmKGEpe2xldCBkPWFbMV07aWYoZC50cmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCksIXYoXCJESVNBQkxFX0RVQUxfU1RSRUFNX1VTRV9FTkNPRElOR1wiKSYmZnQoKS5zdXBwb3J0RHVhbFN0cmVhbUVuY29kaW5nKXtsZXQgbD1uLl9tZWRpYVN0cmVhbVRyYWNrLmNsb25lKCk7ZC50cmFjay5fbWVkaWFTdHJlYW1UcmFjaz1sLGQudHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2s9bDt9ZWxzZSB7bGV0IGw9ZG0obixBYyh0aGlzLHR0LlJlcXVlc3RMb3dTdHJlYW1QYXJhbWV0ZXIpKTtkLnRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrPWwsZC50cmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaz1sO31hd2FpdCBuZXcgaigobCx1KT0+e3RoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKGQudHJhY2ssbCx1LCEwKTt9KTt9YXdhaXQgdGhpcy5jb25uZWN0aW9uLnVubXV0ZUxvY2FsKHMubWFwKGQ9PntsZXRbLHtpZDpsfV09ZDtyZXR1cm4gbH0pKTtsZXQgYz10aGlzLmNyZWF0ZVVubXV0ZU1lc3NhZ2Uocyk7YXdhaXQga3QodGhpcyx0dC5SZXF1ZXN0VW5tdXRlTG9jYWwsYyksaSgpO31jYXRjaChzKXtyKHMpO31maW5hbGx5e28oKTt9fSksVCh0aGlzLFwiaGFuZGxlVXBkYXRlVmlkZW9FbmNvZGVyXCIsYXN5bmMobixpLHIpPT57bGV0IG89YXdhaXQgdGhpcy5tdXRleC5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENoYW5uZWwuaGFuZGxlU2V0VmlkZW9FbmNvZGVyXCIpO3RyeXtsZXQgcz10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb1RyYWNrKTtpZighdGhpcy5jb25uZWN0aW9ufHwhc3x8cy50cmFjayE9PW58fHRoaXMuc3RhdGUhPT1SdC5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgaSgpO2xldHtpZDphLHRyYWNrOmN9PXM7YXdhaXQgdGhpcy5jb25uZWN0aW9uLnVwZGF0ZVNlbmRQYXJhbWV0ZXJzKGEsYyksYXdhaXQgdGhpcy5jb25uZWN0aW9uLnVwZGF0ZUVuY29kZXJDb25maWcoYSxjKSx0aGlzLmVtaXQodHQuVXBkYXRlVmlkZW9FbmNvZGVyLGMpLGkoKTt9Y2F0Y2gocyl7cihzKTt9ZmluYWxseXtvKCk7fX0pLFQodGhpcyxcImhhbmRsZVVwZGF0ZVZpZGVvU2VuZFBhcmFtZXRlcnNcIixhc3luYyhuLGkscik9PntsZXQgbz1hd2FpdCB0aGlzLm11dGV4LmxvY2soXCJMb2NraW5nIGZyb20gUDJQQ2hhbm5lbC5oYW5kbGVVcGRhdGVWaWRlb1NlbmRQYXJhbWV0ZXJzXCIpO3RyeXtsZXQgcz10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb1RyYWNrKTtpZighdGhpcy5jb25uZWN0aW9ufHwhc3x8cy50cmFjayE9PW58fHRoaXMuc3RhdGUhPT1SdC5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgaSgpO2xldHtpZDphLHRyYWNrOmN9PXM7YXdhaXQgdGhpcy5jb25uZWN0aW9uLnVwZGF0ZVNlbmRQYXJhbWV0ZXJzKGEsYyksaSgpO31jYXRjaChzKXtyKHMpO31maW5hbGx5e28oKTt9fSksVCh0aGlzLFwiaGFuZGxlUmVwbGFjZU1peGluZ1RyYWNrXCIsYXN5bmMobixpLHIsbyk9PntpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXJldHVybiB2b2lkIGkoKTtsZXQgcz1FXyhbbl0pLGE7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uIHdpbGwgcmVwbGFjZSBhdWRpb1RyYWNrIFtcIikuY29uY2F0KHMuZ2V0VHJhY2tJZCgpLFwiXVwiKSksdHlwZW9mIG89PVwiYm9vbGVhblwiJiZvfHwoYT1hd2FpdCB0aGlzLm11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwuaGFuZGxlUmVwbGFjZU1peGluZ1RyYWNrXCIpKTt0cnl7YXdhaXQgdGhpcy5yZXBsYWNlVHJhY2sobixzKSxpKCk7fWNhdGNoKGQpe3IoZCk7fWZpbmFsbHl7dmFyIGM7KGM9YSk9PT1udWxsfHxjPT09dm9pZCAwfHxjKCk7fX0pLFQodGhpcyxcImhhbmRsZVJlcGxhY2VUcmFja1wiLGFzeW5jKG4saSxyLG8pPT57bGV0IHM7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbCBoYW5kbGVSZXBsYWNlVHJhY2sgZm9yIFt0cmFjay1pZC1cIikuY29uY2F0KG4uZ2V0VHJhY2tJZCgpLFwiXVwiKSksdHlwZW9mIG89PVwiYm9vbGVhblwiJiZvfHwocz1hd2FpdCB0aGlzLm11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwuaGFuZGxlUmVwbGFjZVRyYWNrXCIpKTt0cnl7dmFyIGE7bGV0IGQ9QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maW5kKGw9PntsZXRbLHt0cmFjazp1fV09bDtyZXR1cm4gbj09PXV9KTtpZighdGhpcy5jb25uZWN0aW9ufHwhZHx8dGhpcy5zdGF0ZSE9PVJ0LkNvbm5lY3RlZClyZXR1cm4gdm9pZCBpKCk7aWYoYXdhaXQoKGE9dGhpcy5jb25uZWN0aW9uKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEucmVwbGFjZVRyYWNrKG4sZFsxXS5pZCkpLHRoaXMuaXNQbGFuQil7bGV0IGw9ZFsxXTtsLmlkPW4uX21lZGlhU3RyZWFtVHJhY2suaWQsdGhpcy5sb2NhbFRyYWNrTWFwLnNldChkWzBdLGwpO31pZihkWzBdPT09VS5Mb2NhbFZpZGVvVHJhY2smJiF2KFwiRElTQUJMRV9EVUFMX1NUUkVBTV9VU0VfRU5DT0RJTkdcIikmJmZ0KCkuc3VwcG9ydER1YWxTdHJlYW1FbmNvZGluZyl7bGV0IGw9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9Mb3dUcmFjayk7aWYobCl7bGV0IHU9bi5fbWVkaWFTdHJlYW1UcmFjay5jbG9uZSgpO2wudHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpLGwudHJhY2suX21lZGlhU3RyZWFtVHJhY2s9dSxsLnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPXUsYXdhaXQgbmV3IGooKGgscCk9Pnt0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayhsLnRyYWNrLGgscCwhMCk7fSk7fX1pKCk7fWNhdGNoKGQpe3IoZCk7fWZpbmFsbHl7dmFyIGM7KGM9cyk9PT1udWxsfHxjPT09dm9pZCAwfHxjKCk7fX0pLFQodGhpcyxcImhhbmRsZUdldFJUQ1N0YXRzXCIsbj0+e24odGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRSVENTdGF0cygpKTt9KSxUKHRoaXMsXCJoYW5kbGVHZXRMb2NhbFZpZGVvU3RhdHNcIixuPT57bih0aGlzLnN0YXRzQ29sbGVjdG9yLmdldExvY2FsVmlkZW9UcmFja1N0YXRzKCkpO30pLFQodGhpcyxcImhhbmRsZUdldExvY2FsQXVkaW9TdGF0c1wiLG49PntuKHRoaXMuc3RhdHNDb2xsZWN0b3IuZ2V0TG9jYWxBdWRpb1RyYWNrU3RhdHMoKSk7fSksVCh0aGlzLFwiaGFuZGxlR2V0UmVtb3RlVmlkZW9TdGF0c1wiLG49PnRoaXMuc3RhdHNDb2xsZWN0b3IuZ2V0UmVtb3RlVmlkZW9UcmFja1N0YXRzKG4udWlkKVtuLnVpZF0pLFQodGhpcyxcImhhbmRsZUdldFJlbW90ZUF1ZGlvU3RhdHNcIixuPT50aGlzLnN0YXRzQ29sbGVjdG9yLmdldFJlbW90ZUF1ZGlvVHJhY2tTdGF0cyhuLnVpZClbbi51aWRdKSx0aGlzLnN0b3JlPXQsdGhpcy5zdGF0c0NvbGxlY3Rvcj1lLHRoaXMuc3RhdHNDb2xsZWN0b3IuYWRkUDJQQ2hhbm5lbCh0aGlzKSx0aGlzLnN0YXRzVXBsb2FkZXI9bmV3IHB1KHRoaXMuc3RvcmUpLHRoaXMuYmluZFN0YXRzVXBsb2FkZXJFdmVudHMoKSx0aGlzLmlzUGxhbkI9IWZ0KCkuc3VwcG9ydFVuaWZpZWRQbGFufHx2KFwiQ0hST01FX0ZPUkNFX1BMQU5fQlwiKSYmaG8oKSx0aGlzLnNob3VsZEZvcndhcmRQMlBDcmVhdGlvbj12KFwiRk9SV0FSRF9QMlBfQ1JFQVRJT05cIikmJmZ0KCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbiYmbGYoKSx0aGlzLnNob3VsZEZvcndhcmRQMlBDcmVhdGlvbiYmKHRoaXMuY29ubmVjdGlvbj10aGlzLmlzUGxhbkI/bmV3IFZhKHt9LHRoaXMuc3RvcmUpOm5ldyBraSh7fSx0aGlzLnN0b3JlKSx0aGlzLmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuY29ubmVjdGlvbikpO31hc3luYyBzdGFydFAyUENvbm5lY3Rpb24odCl7dmFyIGU7dGhpcy5zdGF0ZT1SdC5OZXc7bGV0IG49dGhpcy5zaG91bGRGb3J3YXJkUDJQQ3JlYXRpb24mJigoZT10aGlzLmNvbm5lY3Rpb24pPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5wZWVyQ29ubmVjdGlvblN0YXRlKT09PVwiY2xvc2VkXCI7aWYodGhpcy5zaG91bGRGb3J3YXJkUDJQQ3JlYXRpb24mJiFufHwobiYmdGhpcy5jb25uZWN0aW9uJiYoXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLnN0YXJ0UDJQQ29ubmVjdGlvbiBGb3J3YXJkUDJQIGNsb3NlZC5cIikpLHRoaXMuY29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pKSx0aGlzLmNvbm5lY3Rpb249dGhpcy5pc1BsYW5CP25ldyBWYSh0LHRoaXMuc3RvcmUpOm5ldyBraSh0LHRoaXMuc3RvcmUpLHRoaXMuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5jb25uZWN0aW9uKSksIXRoaXMuY29ubmVjdGlvbil0aHJvdyBuZXcgTihSLlVORVhQRUNURURfRVJST1IsXCJDYW5ub3QgUDJQQ2hhbm5lbC5zdGFydENvbm5lY3Rpb24gYmVmb3JlIFAyUENvbm5lY3Rpb24gaW5pdGlhbGl6YXRpb24gLlwiKTtyZXR1cm4gdGhpcy5fcGNTdGF0c1VwbG9hZFR5cGU9dihcIk5FV19JQ0VfUkVTVEFSVFwiKT9Uci5GSVJTVF9DT05ORUNUSU9OOlRyLk9MRF9GSVJTVF9DT05ORUNUSU9OLHRoaXMuX2lzRmlyc3RDb25uZWN0ZWQ9ITAsdGhpcy5faXNJblJlc3RhcnRJY2U9ITEsdGhpcy5faXNTdGFydFJlc3RhcnRJY2U9ITEsdGhpcy5jb25uZWN0aW9uLnNldENvbmZpZ3VyYXRpb24odCksdGhpcy5jb25uZWN0aW9uLmVzdGFibGlzaFByb21pc2V9YXN5bmMgY29ubmVjdCh0KXtpZighdGhpcy5jb25uZWN0aW9uKXRocm93IG5ldyBOKFIuVU5FWFBFQ1RFRF9FUlJPUixcIkNhbm5vdCBQMlBDaGFubmVsLmNvbm5lY3QgYmVmb3JlIFAyUENoYW5uZWwuc3RhcnRQMlBDb25uZWN0aW9uIC5cIik7dihcIkVOQUJMRV9QUkVBTExPQ19QQ1wiKSYmdGhpcy5zdGF0ZT09PVJ0LkNvbm5lY3RlZD9hd2FpdCB0aGlzLmNvbm5lY3Rpb24udXBkYXRlUmVtb3RlQ29ubmVjdCh0KToodGhpcy5zdG9yZS5wZWVyQ29ubmVjdGlvblN0YXJ0KCksYXdhaXQgdGhpcy5jb25uZWN0aW9uLmNvbm5lY3QodCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkVHJhbnNwb3J0U3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRFeHRlbnNpb25Vc2FnZVN0YXRzKCksdGhpcy5zdGF0ZT1SdC5Db25uZWN0ZWQpO311cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXModCl7bGV0IGU9QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maWx0ZXIocj0+e3ZhciBvO2xldFtzXT1yO3JldHVybiBXKG89W1UuTG9jYWxWaWRlb0xvd1RyYWNrLFUuTG9jYWxWaWRlb1RyYWNrXSkuY2FsbChvLHMpfSksbj1lLm1hcChyPT57bGV0Wyx7aWQ6b31dPXI7cmV0dXJuIG99KSxpPWUubWFwKHI9PntsZXRbb109cjtyZXR1cm4gb30pO2lmKHRoaXMuY29ubmVjdGlvbiBpbnN0YW5jZW9mIGtpKXtpZihYLnVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyh0aGlzLnN0b3JlLnNlc3Npb25JZCx7dHJhY2tUeXBlczpKU09OLnN0cmluZ2lmeShpKSxsb2NhbENvZGVjczpKU09OLnN0cmluZ2lmeSh0aGlzLmNvbm5lY3Rpb24ubG9jYWxDb2RlY3MpLHJlbW90ZUNvZGVjczpKU09OLnN0cmluZ2lmeSh0KX0pLCFXKHQpLmNhbGwodCx0aGlzLnN0b3JlLmNvZGVjKSl7bGV0IHI9W1widnA5XCIsXCJ2cDhcIixcImgyNjRcIl0uZmluZChvPT5XKHQpLmNhbGwodCxvKSk7ciYmKHRoaXMuc3RvcmUuY29kZWM9cixfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiIHVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllc10gZGVmYXVsdCBjb2RlYyBpcyBub3QgYXZhaWxhYmxlLCBoZW5jZSB0aGUgZmFsbGJhY2sgdG8gXCIpLmNvbmNhdChyLFwiLlwiKSkpO310aGlzLmNvbm5lY3Rpb24udXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzKG4sdCk7fX1hc3luYyBnZXRFc3RhYmxpc2hQYXJhbXMoKXt2YXIgdDtpZih0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBraSYmdGhpcy5jb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uU3RhdGUhPT1cImNsb3NlZFwiJiZXKHQ9W1J0Lk5ldyxSdC5Db25uZWN0ZWRdKS5jYWxsKHQsdGhpcy5zdGF0ZSkpcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5lc3RhYmxpc2hQcm9taXNlfWFzeW5jIHB1Ymxpc2hEYXRhQ2hhbm5lbCh0KXtpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXtpZih0aGlzLnN0YXRlPT09UnQuRGlzY29ubmVjdGVkKXRocm93IG5ldyBOKFIuVU5FWFBFQ1RFRF9FUlJPUixcIlBlZXJDb25uZWN0aW9uIGFscmVhZHkgZGlzY29ubmVjdGVkLlwiKTtyZXR1cm4gdC5mb3JFYWNoKG49Pnt2YXIgaTtXKGk9dGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHMpLmNhbGwoaSxuKXx8dGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHMucHVzaChuKTt9KSxbXX1sZXQgZT10aGlzLmZpbHRlclRvYmVQdWJsaXNoZWREYXRhQ2hhbm5lbHModCk7cmV0dXJuIGUubGVuZ3RoPT09MD9bXTooZS5mb3JFYWNoKG49PntsZXQgaT1EYXRlLm5vdygpO3RoaXMuc3RvcmUucHVibGlzaChuLmlkLnRvU3RyaW5nKCksXCJkYXRhY2hhbm5lbFwiLGkpO30pLGF3YWl0IHRoaXMuY29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbHModGhpcy5zdG9yZS51aWQsZSksZS5mb3JFYWNoKG49Pnt0aGlzLmxvY2FsRGF0YUNoYW5uZWxzLnB1c2gobik7bGV0IGk9RGF0ZS5ub3coKTt0aGlzLnN0b3JlLnB1Ymxpc2gobi5pZCtcIlwiLFwiZGF0YWNoYW5uZWxcIix2b2lkIDAsaSk7fSksdC5tYXAobj0+KHtzdHJlYW1JZDpuLmlkLG9yZGVyZWQ6bi5vcmRlcmVkLG1heFJldHJhbnNtaXRzOm4ubWF4UmV0cmFuc21pdHMsbWV0YWRhdGE6bi5tZXRhZGF0YSxjaGFubmVsSWQ6bi5fb3JpZ2luRGF0YUNoYW5uZWxJZH0pKSl9cHVibGlzaCh0LGUsbil7dmFyIGk9dGhpcztyZXR1cm4gQmkoZnVuY3Rpb24qKCl7bGV0IHI9eWllbGQgVHQoaS5tdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLnB1Ymxpc2hcIikpO3RyeXtpZighaS5jb25uZWN0aW9ufHxpLnN0YXRlIT09UnQuQ29ubmVjdGVkKXtpZihpLnN0YXRlPT09UnQuRGlzY29ubmVjdGVkKXRocm93IG5ldyBOKFIuVU5FWFBFQ1RFRF9FUlJPUixcIlBlZXJDb25uZWN0aW9uIGFscmVhZHkgZGlzY29ubmVjdGVkLlwiKTtpLnRocm93SWZUcmFja1R5cGVOb3RNYXRjaCh0KTtsZXQgcz10LmZpbHRlcihhPT5pLnBlbmRpbmdMb2NhbFRyYWNrcy5pbmRleE9mKGEpPT09LTEpO3JldHVybiB2b2lkKGkucGVuZGluZ0xvY2FsVHJhY2tzPWkucGVuZGluZ0xvY2FsVHJhY2tzLmNvbmNhdChzKSl9aS5zdG9yZS5wdWJJZD1pLnN0b3JlLnB1YklkKzEscWUubWFya1B1Ymxpc2hTdGFydChpLnN0b3JlLmNsaWVudElkLGkuc3RvcmUucHViSWQpO2xldCBvPWkuZmlsdGVyVG9iZVB1Ymxpc2hlZFRyYWNrcyh0LGUsbik7aWYoby5sZW5ndGg9PT0wKXJldHVybiB2b2lkKHlpZWxkIFR0KGkudHJ5VG9Vbm11dGVBdWRpbyh0KSkpO3lpZWxkKmt2KEh2KGkuZG9QdWJsaXNoKGkuY29ubmVjdGlvbixvKSkpO31maW5hbGx5e3IoKTt9fSkoKX1kb1B1Ymxpc2godCxlKXt2YXIgbj10aGlzO3JldHVybiBCaShmdW5jdGlvbiooKXtlLmZvckVhY2godT0+e2xldHt0cmFjazpoLHR5cGU6cH09dSxnPURhdGUubm93KCk7bi5zdG9yZS5wdWJsaXNoKGguZ2V0VHJhY2tJZCgpLHA9PT1VLkxvY2FsQXVkaW9UcmFjaz9cImF1ZGlvXCI6XCJ2aWRlb1wiLGcpO30pLG4uYmluZExvY2FsVHJhY2tFdmVudHMoZSk7bGV0IGk9ZS5tYXAodT0+e2xldHt0cmFjazpofT11O3JldHVybiBofSkscj15aWVsZCBUdCh0LnNlbmQoZS5tYXAodT0+e2xldHt0cmFjazpofT11O3JldHVybiBofSksbi5zdG9yZS5jb2RlYyxuLnN0b3JlLmF1ZGlvQ29kZWMpKSxvPSh5aWVsZCBUdChyLm5leHQoKSkpLnZhbHVlLHM9bi5jcmVhdGVHYXRld2F5UHVibGlzaE1lc3NhZ2UoZSxvKSxhO3RyeXthPXlpZWxkIHM7fWNhdGNoKHUpe3Rocm93IHIudGhyb3codSksdT8uY29kZT09PVIuV1NfQUJPUlQmJmUuZm9yRWFjaChoPT57bGV0e3RyYWNrOnB9PWg7bi5wZW5kaW5nTG9jYWxUcmFja3MuaW5kZXhPZihwKT09PS0xJiZuLnBlbmRpbmdMb2NhbFRyYWNrcy5wdXNoKHApO30pLG4udW5iaW5kTG9jYWxUcmFja0V2ZW50cyhlKSx1fWxldCBjPW4ubWFwUHViUmVzVG9SZW1vdGVDb25maWcocyxhKSxkPSh5aWVsZCBUdChyLm5leHQoYykpKS52YWx1ZSxsPXYoXCJFTkFCTEVfVklERU9fU0VJXCIpO2kuZm9yRWFjaChhc3luYyB1PT57bGV0IGg9dS5nZXRSVENSdHBUcmFuc2NlaXZlcigpO2gmJmwmJih1LnRyYWNrTWVkaWFUeXBlPT09US5WSURFTz9hd2FpdCBCRyhoLnNlbmRlcix1KTp1LnRyYWNrTWVkaWFUeXBlPT09US5BVURJTyYmYXdhaXQgYXN5bmMgZnVuY3Rpb24ocCl7aWYoIWZ0KCkuc3VwcG9ydFdlYlJUQ0VuY29kZWRUcmFuc2Zvcm0pcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiYnJvd3NlciBub3Qgc3VwcG9ydCBhdWRpbyBlbmNvZGVkIHRyYW5zZm9ybVwiKTtpZihCZC5oYXMocCl8fCFwLnRyYWNrKXJldHVybjtsZXQgZz17dHJhY2s6cC50cmFja307aWYob28oKSl7aWYoIXAuY3JlYXRlRW5jb2RlZFN0cmVhbXMpcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiYnJvd3NlciBub3Qgc3VwcG9ydCBjcmVhdGVFbmNvZGVkU3RyZWFtcygpIEFQSVwiKTtsZXQgZj1udWxsO3RyeXtmPXAuY3JlYXRlRW5jb2RlZFN0cmVhbXMoKTt9Y2F0Y2goQyl7cmV0dXJuIHZvaWQgXy5lcnJvcihcImNyZWF0ZSBhdWRpby1lbmNvZGVkLXN0cmVhbXMgZXJyb3JcIixDJiZDLm1lc3NhZ2UpfWxldCBTPW5ldyBUcmFuc2Zvcm1TdHJlYW0oe3RyYW5zZm9ybShDLEEpe2cuY29udHJvbGxlcnx8KGcuY29udHJvbGxlcj1BKSxwLnRyYWNrJiZwLnRyYWNrLmlkIT09Zy50cmFjay5pZCYmKF8uZGVidWcoXCJhdWRpbyB0cmFjayBjaGFuZ2VkOiBcIi5jb25jYXQoZy50cmFjay5pZCxcIiA9PiBcIikuY29uY2F0KHAudHJhY2suaWQpKSxnLnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLEUpLGcudHJhY2s9cC50cmFjayxnLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLEUpKSxBLmVucXVldWUoQyk7fX0pO2YucmVhZGFibGUucGlwZVRocm91Z2goUykucGlwZVRvKGYud3JpdGFibGUpO31lbHNlIGlmKGplKCkpe2lmKHR5cGVvZiBSVENSdHBTY3JpcHRUcmFuc2Zvcm0+XCJ1XCIpcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiYnJvd3NlciBub3Qgc3VwcG9ydCBSVENSdHBTY3JpcHRUcmFuc2Zvcm1cIik7bGV0IGY9dmwoKSxTPW5ldyBNZXNzYWdlQ2hhbm5lbDthd2FpdCBuZXcgaihBPT5mLm9ubWVzc2FnZT1iPT57Yi5kYXRhPT09XCJyZWdpc3RlcmVkXCImJkEodm9pZCAwKTt9KTtsZXQgQz1uZXcgUlRDUnRwU2NyaXB0VHJhbnNmb3JtKGYse25hbWU6XCJ0eFwiLHBvcnQ6Uy5wb3J0Mn0sW1MucG9ydDJdKTtwLnRyYW5zZm9ybT1DLGF3YWl0IG5ldyBqKEE9PmYub25tZXNzYWdlPWI9PntiLmRhdGE9PT1cInN0YXJ0ZWRcIiYmQSh2b2lkIDApO30pLFMucG9ydDEub25tZXNzYWdlPUE9Pnt2YXIgYjtBLmRhdGEudHJhbnNmb3JtZWQmJnAudHJhY2smJigoYj1wLnRyYWNrKT09PW51bGx8fGI9PT12b2lkIDA/dm9pZCAwOmIuaWQpIT09Zy50cmFjay5pZCYmKF8uZGVidWcoXCJhdWRpbyB0cmFjayBjaGFuZ2VkOiBcIi5jb25jYXQoZy50cmFjay5pZCxcIiA9PiBcIikuY29uY2F0KHAudHJhY2suaWQpKSxnLnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLEUpLGcudHJhY2s9cC50cmFjayxnLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLEUpKTt9LGcud29ya2VyPWY7fWZ1bmN0aW9uIEUoKXtpZihwLnRyYWNrKXtpZih0aGlzLmlkIT09cC50cmFjay5pZClyZXR1cm47cC50cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixFKTt9bGV0IGY9QmQuZ2V0KHApO2lmKGYpe0JkLmRlbGV0ZShwKTt0cnl7dmFyIFMsQzsoUz1mLmNvbnRyb2xsZXIpPT09bnVsbHx8Uz09PXZvaWQgMHx8Uy50ZXJtaW5hdGUoKSwoQz1mLndvcmtlcik9PT1udWxsfHxDPT09dm9pZCAwfHxDLnRlcm1pbmF0ZSgpO31jYXRjaChBKXtfLndhcm5pbmcoQSYmQS5tZXNzYWdlKTt9fX1CZC5zZXQocCxnKSxwLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLEUpO30oaC5zZW5kZXIpKTt9KSxlLmZvckVhY2godT0+e2xldHt0eXBlOmh9PXU7bi5zdGF0c0NvbGxlY3Rvci5hZGRMb2NhbFN0YXRzKGgpO30pLG4uYXNzaWduTG9jYWxUcmFja3MoZSxkKSxuLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRPdXRib3VuZFN0YXRzKCksZS5mb3JFYWNoKHU9PntsZXR7dHJhY2s6aCx0eXBlOnB9PXUsZz1EYXRlLm5vdygpO24uc3RvcmUucHVibGlzaChoLmdldFRyYWNrSWQoKSxwPT09VS5Mb2NhbEF1ZGlvVHJhY2s/XCJhdWRpb1wiOlwidmlkZW9cIix2b2lkIDAsZyk7fSk7fSkoKX1hc3luYyB1cGRhdGVWaWRlb1N0cmVhbVBhcmFtZXRlcih0LGUpe2xldCBuPXRoaXMubG9jYWxUcmFja01hcC5nZXQoZSk7aWYoIW4pcmV0dXJuO2lmKCEobi50cmFjayBpbnN0YW5jZW9mIEZ0KSlyZXR1cm4gXy53YXJuKFwiW3VwZGF0ZVZpZGVvU3RyZWFtUGFyYW1ldGVyXTogdHJhY2sgaXMgbm90IGFuIGluc3RhbmNlIG9mIExvY2FsVmlkZW9UcmFja1wiKTtpZighKHRoaXMuY29ubmVjdGlvbiBpbnN0YW5jZW9mIGtpfHx0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBWYSkpcmV0dXJuIF8ud2FybihcIlt1cGRhdGVWaWRlb1N0cmVhbVBhcmFtZXRlcl06IGNvbm5lY3Rpb24gaXMgbm90IFAyUENvbm5lY3Rpb24gb3IgUDJQQ29ubmVjdGlvblBsYW5CXCIpO2xldHt0cmFjazppfT1uLHI9ZnVuY3Rpb24obyxzKXtsZXQgYT17fTtyZXR1cm4gby5oZWlnaHQmJm8ud2lkdGgmJihhLnNjYWxlUmVzb2x1dGlvbkRvd25CeT1HRShvLHMpKSxhLm1heEZyYW1lcmF0ZT1vLmZyYW1lcmF0ZT9ObihvLmZyYW1lcmF0ZSk6dm9pZCAwLGEubWF4Qml0cmF0ZT1vLmJpdHJhdGU/MWUzKm8uYml0cmF0ZTp2b2lkIDAsYX0odCxpKTtpZihpLl9lbmNvZGVyQ29uZmlnfHwoaS5fZW5jb2RlckNvbmZpZz17fSksZSE9PVUuTG9jYWxWaWRlb0xvd1RyYWNrfHwhdihcIkRJU0FCTEVfRFVBTF9TVFJFQU1fVVNFX0VOQ09ESU5HXCIpJiZmdCgpLnN1cHBvcnREdWFsU3RyZWFtRW5jb2Rpbmcpci5zY2FsZVJlc29sdXRpb25Eb3duQnkhPW51bGwmJihpLl9lbmNvZGVyQ29uZmlnLnNjYWxlUmVzb2x1dGlvbkRvd25CeT1yLnNjYWxlUmVzb2x1dGlvbkRvd25CeSk7ZWxzZSB7bGV0IG89aS5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaztpZighby5jYW52YXMpcmV0dXJuIF8ud2FybihcIltcIi5jb25jYXQoaS5nZXRUcmFja0lkKCksXCJdIG5vIGNhbnZhcyBvbiB0cmFja1wiKSk7KGZ1bmN0aW9uKHMsYSl7bGV0IGM9cy5jYW52YXM7YS53aWR0aCYmKGMud2lkdGg9Tm4oYS53aWR0aCkpLGEuaGVpZ2h0JiYoYy5oZWlnaHQ9Tm4oYS5oZWlnaHQpKSxhLmZyYW1lcmF0ZSYmKGMuc3RvcENhcHR1cmUmJmMuc3RvcENhcHR1cmUoKSxjLnN0b3BDYXB0dXJlPVJmKCgpPT57IWMuc3RhcnRDYXB0dXJlJiZjLnN0b3BDYXB0dXJlJiZjLnN0b3BDYXB0dXJlKCksYy5zdGFydENhcHR1cmUmJmMuc3RhcnRDYXB0dXJlKCk7fSxObihhLmZyYW1lcmF0ZSkpKTt9KShvLHQpO31yLm1heEJpdHJhdGUhPW51bGwmJihpLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXg9ci5tYXhCaXRyYXRlLzFlMyksci5tYXhGcmFtZXJhdGUhPW51bGwmJihpLl9lbmNvZGVyQ29uZmlnLmZyYW1lUmF0ZSYmdHlwZW9mIGkuX2VuY29kZXJDb25maWcuZnJhbWVSYXRlPT1cIm9iamVjdFwiP2kuX2VuY29kZXJDb25maWcuZnJhbWVSYXRlLm1heD1yLm1heEZyYW1lcmF0ZTppLl9lbmNvZGVyQ29uZmlnLmZyYW1lUmF0ZT17bWF4OnIubWF4RnJhbWVyYXRlfSksXy5kZWJ1ZyhcIltcIi5jb25jYXQoaS5nZXRUcmFja0lkKCksXCJdIExvd1N0cmVhbUVuY29kZXJDb25maWc6ICwgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShpLl9lbmNvZGVyQ29uZmlnKSkpLGF3YWl0IHRoaXMuY29ubmVjdGlvbi51cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3MoaSk7fXB1Ymxpc2hMb3dTdHJlYW0odCl7dmFyIGU9dGhpcztyZXR1cm4gQmkoZnVuY3Rpb24qKCl7aWYoIWUuY29ubmVjdGlvbnx8ZS5zdGF0ZSE9PVJ0LkNvbm5lY3RlZClyZXR1cm47bGV0IG49eWllbGQgVHQoZS5tdXRleC5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENoYW5uZWwucHVibGlzaExvd1N0cmVhbVwiKSk7dHJ5e2xldCByPWUubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbFZpZGVvVHJhY2spO2lmKCFyKXRocm93IG5ldyBOKFIuVU5FWFBFQ1RFRF9FUlJPUixcIkNvdWxkIG5vdCBmaW5kIGhpZ2ggc3RyZWFtXCIpO2lmKGUubG9jYWxUcmFja01hcC5oYXMoVS5Mb2NhbFZpZGVvTG93VHJhY2spKXRocm93IG5ldyBOKFIuVU5FWFBFQ1RFRF9FUlJPUixcIltcIi5jb25jYXQoZS5zdG9yZS5jbGllbnRJZCxcIl0gQ2FuJ3QgcHVibGlzaCBsb3cgc3RyZWFtIHdoZW4gc3RyZWFtIGFscmVhZHkgcHVibGlzaFwiKSk7bGV0IG89W3t0cmFjazplLmdldExvd1ZpZGVvVHJhY2soci50cmFjayx0KSx0eXBlOlUuTG9jYWxWaWRlb0xvd1RyYWNrfV07aWYoeWllbGQqa3YoSHYoZS5kb1B1Ymxpc2goZS5jb25uZWN0aW9uLG8pKSksci50cmFjay5tdXRlZHx8IXIudHJhY2suZW5hYmxlZCl7dmFyIGk7bGV0IHM9KGk9ZS5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9Mb3dUcmFjaykpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5pZDtzIT09dm9pZCAwJiYoeWllbGQgVHQoZS5jb25uZWN0aW9uLm11dGVMb2NhbChbc10pKSk7fX1maW5hbGx5e24oKTt9fSkoKX1hc3luYyByZXB1Ymxpc2goKXt0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5sZW5ndGg+MCYmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIEVtaXQgUDJQQ2hhbm5lbEV2ZW50cy5SZXF1ZXN0UmVQdWJsaXNoIHRvIHJlcHVibGlzaCB0cmFja3MuXCIpKSxhd2FpdCBHZSh0aGlzLHR0LlJlcXVlc3RSZVB1Ymxpc2gsdGhpcy5wZW5kaW5nTG9jYWxUcmFja3MpLHRoaXMuZW1pdCh0dC5NZWRpYVJlY29ubmVjdEVuZCx0aGlzLnN0b3JlLnVpZCksdGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9W10pLHRoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzLmxlbmd0aD4wJiYoXy5kZWJ1ZyhcIkVtaXQgUDJQQ2hhbm5lbEV2ZW50cy5SZXF1ZXN0UmVQdWJsaXNoRGF0YUNoYW5uZWwgdG8gcmVwdWJsaXNoIGRhdGFjaGFubmVscy5cIiksYXdhaXQgR2UodGhpcyx0dC5SZXF1ZXN0UmVQdWJsaXNoRGF0YUNoYW5uZWwsdGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHMpLHRoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzPVtdKTt9YXN5bmMgcmVTdWJzY3JpYmUodCl7Zm9yKGxldCBlPXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5sZW5ndGgtMTtlPj0wO2UtLSl7bGV0e3VzZXI6bixraW5kOml9PXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrc1tlXTsoaSE9PVEuQVVESU98fG4uX2F1ZGlvX2FkZGVkXyYmbi5fYXVkaW9TU1JDKSYmKGkhPT1RLlZJREVPfHxuLl92aWRlb19hZGRlZF8mJm4uX3ZpZGVvU1NSQyl8fHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5zcGxpY2UoZSwxKTt9aWYodClhd2FpdCBHZSh0aGlzLHR0LlJlcXVlc3RSZVN1YnNjcmliZSx0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MpO2Vsc2UgZm9yKGxldHt1c2VyOmUsa2luZDpufW9mIHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcylhd2FpdCB0aGlzLnN1YnNjcmliZShlLG4sbj09PVEuVklERU8/ZS5fdmlkZW9TU1JDOmUuX2F1ZGlvU1NSQyk7dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmZvckVhY2goZT0+e2xldHt1c2VyOm59PWU7dGhpcy5lbWl0KHR0Lk1lZGlhUmVjb25uZWN0RW5kLG4udWlkKTt9KSx0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3M9W107fWFzeW5jIHVucHVibGlzaCh0KXtpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXJldHVybiB2b2lkIHQuZm9yRWFjaChpPT57bGV0IHI9dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MuaW5kZXhPZihpKTtyIT09LTEmJnRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNwbGljZShyLDEpO30pO2xldCBlPXRoaXMuZmlsdGVyVG9iZVVucHVibGlzaGVkVHJhY2tzKHQpO2lmKGUubGVuZ3RoPT09MClyZXR1cm47bGV0IG49ZS5maW5kKGk9PmlbMF09PT1cInZpZGVvTG93VHJhY2tcIik7cmV0dXJuIG4mJm5bMV0udHJhY2suY2xvc2UoKSx0aGlzLmRvVW5wdWJsaXNoKHRoaXMuY29ubmVjdGlvbixlKX1hc3luYyB1bnB1Ymxpc2hEYXRhQ2hhbm5lbCh0KXtpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXJldHVybiB2b2lkIHQuZm9yRWFjaChuPT57bGV0IGk9dGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHMuaW5kZXhPZihuKTtpIT09LTEmJnRoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzLnNwbGljZShpLDEpO30pO2xldCBlPXRoaXMuZmlsdGVyVG9iZVVucHVibGlzaGVkRGF0YUNoYW5uZWxzKHQpO3JldHVybiBlLmxlbmd0aCE9PTA/KGUuZm9yRWFjaChuPT57bGV0IGk9dGhpcy5sb2NhbERhdGFDaGFubmVscy5pbmRleE9mKG4pO2khPT0tMSYmdGhpcy5sb2NhbERhdGFDaGFubmVscy5zcGxpY2UoaSwxKTt9KSx0aGlzLmxvY2FsRGF0YUNoYW5uZWxzLmxlbmd0aD09PTAmJmF3YWl0IHRoaXMuY29ubmVjdGlvbi5zdG9wRGF0YUNoYW5uZWxzKHRoaXMuc3RvcmUudWlkKSxlLm1hcChuPT5uLmlkKSk6dm9pZCAwfWFzeW5jIHVucHVibGlzaExvd1N0cmVhbSgpe2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1SdC5Db25uZWN0ZWQpcmV0dXJuO2xldCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbFZpZGVvTG93VHJhY2spO2lmKCF0KXJldHVybjt0LnRyYWNrLmNsb3NlKCk7bGV0IGU9W1tVLkxvY2FsVmlkZW9Mb3dUcmFjayx0XV07cmV0dXJuIHRoaXMuZG9VbnB1Ymxpc2godGhpcy5jb25uZWN0aW9uLGUpfWFzeW5jIGRvVW5wdWJsaXNoKHQsZSl7bGV0IG49dGhpcy5jcmVhdGVHYXRld2F5VW5wdWJsaXNoTWVzc2FnZShlKTtyZXR1cm4gYXdhaXQgdC5zdG9wU2VuZGluZyhlLm1hcChpPT57bGV0Wyx7aWQ6cn1dPWk7cmV0dXJuIHJ9KSksdGhpcy53aXRoZHJhd0xvY2FsVHJhY2tzKGUpLHRoaXMudW5iaW5kTG9jYWxUcmFja0V2ZW50cyhlLm1hcChpPT57bGV0W3Ise3RyYWNrOm99XT1pO3JldHVybiB7dHlwZTpyLHRyYWNrOm99fSkpLGUuZm9yRWFjaChpPT57bGV0W3JdPWk7dGhpcy5zdGF0c0NvbGxlY3Rvci5yZW1vdmVMb2NhbFN0YXRzKHIpO30pLHRoaXMubG9jYWxUcmFja01hcC5zaXplPT09MCYmdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRPdXRib3VuZFN0YXRzKCksbn1hc3luYyBzdWJzY3JpYmVEYXRhQ2hhbm5lbCh0LGUpe2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1SdC5Db25uZWN0ZWQpdGhyb3cgbmV3IE4oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBzdWJzY3JpYmUgcmVtb3RlIHVzZXIgd2hlbiBwZWVyQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQuXCIpO2xldCBuPWUuZmlsdGVyKGk9Pnt2YXIgcjtyZXR1cm4gISgocj10aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmdldCh0KSkhPT1udWxsJiZyIT09dm9pZCAwJiZyLmdldChpLmlkKSl9KTtpZihuLmxlbmd0aCE9PTApcmV0dXJuIGF3YWl0IHRoaXMuY29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbHModC51aWQsbiksbi5mb3JFYWNoKGk9Pnt2YXIgcjt0aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmhhcyh0KT8ocj10aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmdldCh0KSk9PT1udWxsfHxyPT09dm9pZCAwfHxyLnNldChpLmlkLGkpOnRoaXMucmVtb3RlRGF0YUNoYW5uZWxNYXAuc2V0KHQsbmV3IE1hcChbW2kuaWQsaV1dKSk7bGV0IG89dGhpcy5wZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWxzLmZpbmRJbmRleChzPT57bGV0e3VzZXI6YSxpZDpjfT1zO3JldHVybiBhLnVpZD09PXQudWlkJiZjPT09aS5pZH0pO28hPT0tMSYmdGhpcy5wZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWxzLnNwbGljZShvLDEpO30pLG4ubWFwKGk9PmkuaWQpfWFzeW5jIHN1YnNjcmliZSh0LGUsbixpLHIpe3ZhciBvO2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1SdC5Db25uZWN0ZWQpdGhyb3cgbmV3IE4oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBzdWJzY3JpYmUgcmVtb3RlIHVzZXIgd2hlbiBwZWVyQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQuXCIpO2lmKChvPXRoaXMucmVtb3RlVXNlck1hcC5nZXQodCkpIT09bnVsbCYmbyE9PXZvaWQgMCYmby5oYXMoZSkpcmV0dXJuO2xldCBzLGEsYyxkPXRoaXMuY29ubmVjdGlvbi5nZXRQcmVNZWRpYShuKTtpZihkKV8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIHByZVNTUkNNYXAgaGFzIHNzcmNJZDogXCIpLmNvbmNhdChuLFwiLCBubyBuZWVkIHRvIHNlbmQgc3ViIHRvIGdhdGV3YXkuXCIpKSxjPWQudHJhbnNjZWl2ZXIscz1kLnRyYWNrLGE9ZC5pZDtlbHNlIGlmKHIpe2xldCBoPXIuZmluZChnPT57bGV0e3N0cmVhbV90eXBlOkV9PWc7cmV0dXJuIEU9PT1lfSk7aWYoIWgpdGhyb3cgbmV3IE4oUi5VTkVYUEVDVEVEX0VSUk9SLFwiQ2Fubm90IHN1YnNjcmliZSB0byByZW1vdGUgXCIuY29uY2F0KGUsXCIgZm9yIHVzZXI6IFwiKS5jb25jYXQodC51aWQsXCIgYmVjYXVzZSBzdWJzY3JpYmUgYW5zd2VyIGZyb20gZ2F0ZXdheSBkb2VzIG5vdCBjb250YWluIHN0cmVhbV90eXBlOiBcIikuY29uY2F0KGUsXCIuXCIpKTtsZXQgcD1hd2FpdCB0aGlzLmNvbm5lY3Rpb24ucmVjZWl2ZShlLGguc3NyY3MsU3RyaW5nKHQuX3VpbnRpZCksaC5hdHRyaWJ1dGVzKTt0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBraSYmKGM9cC50cmFuc2NlaXZlcikscz1wLnRyYWNrLGE9cC5pZDt9ZWxzZSB7bGV0IGg9YXdhaXQgdGhpcy5jb25uZWN0aW9uLnJlY2VpdmUoZSxbe3NzcmNJZDpuLHJ0eDppfV0sU3RyaW5nKHQuX3VpbnRpZCksdm9pZCAwKTt0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBraSYmKGM9aC50cmFuc2NlaXZlcikscz1oLnRyYWNrLGE9aC5pZDt9ZT09PVEuQVVESU8/KHQuX2F1ZGlvVHJhY2s/dC5fYXVkaW9UcmFjay5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhzKToodC5fYXVkaW9UcmFjaz1uZXcgS3Mocyx0LnVpZCx0Ll91aW50aWQsdGhpcy5zdG9yZSksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBjcmVhdGUgcmVtb3RlIGF1ZGlvIHRyYWNrOiBcIikuY29uY2F0KHQuX2F1ZGlvVHJhY2suZ2V0VHJhY2tJZCgpKSkpLGMmJnQuX2F1ZGlvVHJhY2suX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGMpLHRoaXMuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQsdC5fYXVkaW9UcmFjaykpOih0Ll92aWRlb1RyYWNrP3QuX3ZpZGVvVHJhY2suX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2socyk6KHQuX3ZpZGVvVHJhY2s9bmV3IEhzKHMsdC51aWQsdC5fdWludGlkLHRoaXMuc3RvcmUpLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gY3JlYXRlIHJlbW90ZSB2aWRlbyB0cmFjazogXCIpLmNvbmNhdCh0Ll92aWRlb1RyYWNrLmdldFRyYWNrSWQoKSkpKSxjJiZ0Ll92aWRlb1RyYWNrLl91cGRhdGVSdHBUcmFuc2NlaXZlcihjKSx0aGlzLmJpbmRSZW1vdGVUcmFja0V2ZW50cyh0LHQuX3ZpZGVvVHJhY2spKSx2KFwiRU5BQkxFX1ZJREVPX1NFSVwiKSYmYyYmKGU9PVEuVklERU8/YXdhaXQgYXN5bmMgZnVuY3Rpb24oaCl7bGV0IHA9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOnt9O2lmKCFmdCgpLnN1cHBvcnRXZWJSVENFbmNvZGVkVHJhbnNmb3JtKXJldHVybiB2b2lkIF8ud2FybmluZyhcImJyb3dzZXIgbm90IHN1cHBvcnQgdmlkZW8gZW5jb2RlZCB0cmFuc2Zvcm1cIik7aWYoIWgudHJhY2spcmV0dXJuO2lmKHhhLmhhcyhoKSl7bGV0IGY9eGEuZ2V0KGgpO3JldHVybiB2b2lkKGYmJihmLm9uU2VpPXAub25TZWkpKX1sZXQgZz17dHJhY2s6aC50cmFjayxvblNlaTpwLm9uU2VpfTtpZihvbygpKXtpZighaC5jcmVhdGVFbmNvZGVkU3RyZWFtcylyZXR1cm4gdm9pZCBfLndhcm5pbmcoXCJicm93c2VyIG5vdCBzdXBwb3J0IGNyZWF0ZUVuY29kZWRTdHJlYW1zKCkgQVBJXCIpO2xldCBmPW51bGw7dHJ5e2Y9aC5jcmVhdGVFbmNvZGVkU3RyZWFtcygpO31jYXRjaChDKXtyZXR1cm4gdm9pZCBfLmVycm9yKFwiY3JlYXRlIHZpZGVvLWVuY29kZWQtc3RyZWFtcyBlcnJvclwiLEMmJkMubWVzc2FnZSl9bGV0IFM9bmV3IFRyYW5zZm9ybVN0cmVhbSh7dHJhbnNmb3JtKEMsQSl7Zy5jb250cm9sbGVyfHwoZy5jb250cm9sbGVyPUEpLGgudHJhY2smJmgudHJhY2suaWQhPT1nLnRyYWNrLmlkJiYoXy5kZWJ1ZyhcInZpZGVvIHRyYWNrIGNoYW5nZWQ6IFwiLmNvbmNhdChnLnRyYWNrLmlkLFwiID0+IFwiKS5jb25jYXQoaC50cmFjay5pZCkpLGcudHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsRSksZy50cmFjaz1oLnRyYWNrLGcudHJhY2suYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsRSkpO2xldCBiPWZ1bmN0aW9uKHcpe2xldCBEPW5ldyBEYXRhVmlldyh3LmRhdGEpLGs9MDtmb3IoO2srNDx3LmRhdGEuYnl0ZUxlbmd0aDspe2lmKEQuZ2V0VWludDgoayswKT09PTAmJkQuZ2V0VWludDgoaysxKT09PTAmJkQuZ2V0VWludDgoaysyKT09PTAmJkQuZ2V0VWludDgoayszKT09PTEmJkQuZ2V0VWludDgoays0KT09PTYpe2xldCBCPWsrNixWPTAsej0wO2Zvcig7KHo9RC5nZXRVaW50OChCKyspKT09PTI1NTspVis9MjU1O1YrPXo7bGV0IGx0PUZHKHcuZGF0YSxCLFYpO3JldHVybiBuZXcgVWludDhBcnJheShsdCl9aysrO31yZXR1cm4gbnVsbH0oQyk7YiYmZy5vblNlaSYmZy5vblNlaShiKSxBLmVucXVldWUoQyk7fX0pO2YucmVhZGFibGUucGlwZVRocm91Z2goUykucGlwZVRvKGYud3JpdGFibGUpO31lbHNlIGlmKGplKCkpe2lmKHR5cGVvZiBSVENSdHBTY3JpcHRUcmFuc2Zvcm0+XCJ1XCIpcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiYnJvd3NlciBub3Qgc3VwcG9ydCBSVENSdHBTY3JpcHRUcmFuc2Zvcm1cIik7bGV0IGY9dmwoKSxTPW5ldyBNZXNzYWdlQ2hhbm5lbDthd2FpdCBuZXcgaihBPT5mLm9ubWVzc2FnZT1iPT57Yi5kYXRhPT09XCJyZWdpc3RlcmVkXCImJkEodm9pZCAwKTt9KTtsZXQgQz1uZXcgUlRDUnRwU2NyaXB0VHJhbnNmb3JtKGYse25hbWU6XCJyeFwiLHBvcnQ6Uy5wb3J0Mn0sW1MucG9ydDJdKTtoLnRyYW5zZm9ybT1DLGF3YWl0IG5ldyBqKEE9PmYub25tZXNzYWdlPWI9PntiLmRhdGE9PT1cInN0YXJ0ZWRcIiYmQSh2b2lkIDApO30pLFMucG9ydDEub25tZXNzYWdlPUE9Pnt2YXIgYjtBLmRhdGEudHJhbnNmb3JtZWQmJmgudHJhY2smJigoYj1oLnRyYWNrKT09PW51bGx8fGI9PT12b2lkIDA/dm9pZCAwOmIuaWQpIT09Zy50cmFjay5pZD8oXy5kZWJ1ZyhcInZpZGVvIHRyYWNrIGNoYW5nZWQ6IFwiLmNvbmNhdChnLnRyYWNrLmlkLFwiID0+IFwiKS5jb25jYXQoaC50cmFjay5pZCkpLGcudHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsRSksZy50cmFjaz1oLnRyYWNrLGcudHJhY2suYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsRSkpOkEuZGF0YS5zZWkmJmcub25TZWkmJmcub25TZWkoQS5kYXRhLnNlaSk7fSxnLndvcmtlcj1mO31mdW5jdGlvbiBFKCl7aWYoaC50cmFjayl7aWYodGhpcy5pZCE9PWgudHJhY2suaWQpcmV0dXJuO2gudHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsRSk7fShmdW5jdGlvbihmKXtsZXQgUz14YS5nZXQoZik7aWYoUyl7eGEuZGVsZXRlKGYpO3RyeXt2YXIgQyxBOyhDPVMuY29udHJvbGxlcik9PT1udWxsfHxDPT09dm9pZCAwfHxDLnRlcm1pbmF0ZSgpLChBPVMud29ya2VyKT09PW51bGx8fEE9PT12b2lkIDB8fEEudGVybWluYXRlKCk7fWNhdGNoKGIpe18ud2FybmluZyhiJiZiLm1lc3NhZ2UpO319fSkoaCk7fXhhLnNldChoLGcpLGgudHJhY2suYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsRSk7fShjLnJlY2VpdmVyLHtvblNlaTpoPT57dmFyIHA7KHA9dC5fdmlkZW9UcmFjayk9PT1udWxsfHxwPT09dm9pZCAwfHxwLl9vblNlaShoKTt9fSk6ZT09US5BVURJTyYmYXdhaXQgYXN5bmMgZnVuY3Rpb24oaCl7aWYoIWZ0KCkuc3VwcG9ydFdlYlJUQ0VuY29kZWRUcmFuc2Zvcm0pcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiYnJvd3NlciBub3Qgc3VwcG9ydCBhdWRpbyBlbmNvZGVkIHRyYW5zZm9ybVwiKTtpZihqZC5oYXMoaCkpcmV0dXJuO2xldCBwPXt0cmFjazpoLnRyYWNrfTtpZihvbygpKXtpZighaC5jcmVhdGVFbmNvZGVkU3RyZWFtcylyZXR1cm4gdm9pZCBfLndhcm5pbmcoXCJicm93c2VyIG5vdCBzdXBwb3J0IGNyZWF0ZUVuY29kZWRTdHJlYW1zKCkgQVBJXCIpO2xldCBFPW51bGw7dHJ5e0U9aC5jcmVhdGVFbmNvZGVkU3RyZWFtcygpO31jYXRjaChTKXtyZXR1cm4gdm9pZCBfLmVycm9yKFwiY3JlYXRlIGF1ZGlvLWVuY29kZWQtc3RyZWFtcyBlcnJvclwiLFMmJlMubWVzc2FnZSl9bGV0IGY9bmV3IFRyYW5zZm9ybVN0cmVhbSh7dHJhbnNmb3JtKFMsQyl7cC5jb250cm9sbGVyfHwocC5jb250cm9sbGVyPUMpLGgudHJhY2smJmgudHJhY2suaWQhPT1wLnRyYWNrLmlkJiYoXy5kZWJ1ZyhcImF1ZGlvIHRyYWNrIGNoYW5nZWQ6IFwiLmNvbmNhdChwLnRyYWNrLmlkLFwiID0+IFwiKS5jb25jYXQoaC50cmFjay5pZCkpLHAudHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsZykscC50cmFjaz1oLnRyYWNrLHAudHJhY2suYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsZykpLEMuZW5xdWV1ZShTKTt9fSk7RS5yZWFkYWJsZS5waXBlVGhyb3VnaChmKS5waXBlVG8oRS53cml0YWJsZSk7fWVsc2UgaWYoamUoKSl7aWYodHlwZW9mIFJUQ1J0cFNjcmlwdFRyYW5zZm9ybT5cInVcIilyZXR1cm4gdm9pZCBfLndhcm5pbmcoXCJicm93c2VyIG5vdCBzdXBwb3J0IFJUQ1J0cFNjcmlwdFRyYW5zZm9ybVwiKTtsZXQgRT12bCgpLGY9bmV3IE1lc3NhZ2VDaGFubmVsO2F3YWl0IG5ldyBqKEM9PkUub25tZXNzYWdlPUE9PntBLmRhdGE9PT1cInJlZ2lzdGVyZWRcIiYmQyh2b2lkIDApO30pO2xldCBTPW5ldyBSVENSdHBTY3JpcHRUcmFuc2Zvcm0oRSx7bmFtZTpcInJ4XCIscG9ydDpmLnBvcnQyfSxbZi5wb3J0Ml0pO2gudHJhbnNmb3JtPVMsYXdhaXQgbmV3IGooQz0+RS5vbm1lc3NhZ2U9QT0+e0EuZGF0YT09PVwic3RhcnRlZFwiJiZDKHZvaWQgMCk7fSksZi5wb3J0MS5vbm1lc3NhZ2U9Qz0+e3ZhciBBO0MuZGF0YS50cmFuc2Zvcm1lZCYmaC50cmFjayYmKChBPWgudHJhY2spPT09bnVsbHx8QT09PXZvaWQgMD92b2lkIDA6QS5pZCkhPT1wLnRyYWNrLmlkJiYoXy5kZWJ1ZyhcImF1ZGlvIHRyYWNrIGNoYW5nZWQ6IFwiLmNvbmNhdChwLnRyYWNrLmlkLFwiID0+IFwiKS5jb25jYXQoaC50cmFjay5pZCkpLHAudHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsZykscC50cmFjaz1oLnRyYWNrLHAudHJhY2suYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsZykpO30scC53b3JrZXI9RTt9ZnVuY3Rpb24gZygpe2gudHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsZyksZnVuY3Rpb24oRSl7bGV0IGY9amQuZ2V0KEUpO2lmKGYpe2pkLmRlbGV0ZShFKTt0cnl7dmFyIFMsQzsoUz1mLmNvbnRyb2xsZXIpPT09bnVsbHx8Uz09PXZvaWQgMHx8Uy50ZXJtaW5hdGUoKSwoQz1mLndvcmtlcik9PT1udWxsfHxDPT09dm9pZCAwfHxDLnRlcm1pbmF0ZSgpO31jYXRjaChBKXtfLndhcm5pbmcoQSYmQS5tZXNzYWdlKTt9fX0oaCk7fWpkLnNldChoLHApLGgudHJhY2suYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsZyk7fShjLnJlY2VpdmVyKSk7bGV0IGw9dGhpcy5yZW1vdGVVc2VyTWFwLmdldCh0KTtsP2wuc2V0KGUsYSk6dGhpcy5yZW1vdGVVc2VyTWFwLnNldCh0LG5ldyBNYXAoW1tlLGFdXSkpLHRoaXMuc3RhdHNDb2xsZWN0b3IuYWRkUmVtb3RlU3RhdHModC51aWQpLHRoaXMuc3RhdHNVcGxvYWRlci5zdGFydFVwbG9hZEluYm91bmRTdGF0cygpO2xldCB1PXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5maW5kSW5kZXgoaD0+e2xldHt1c2VyOnAsa2luZDpnfT1oO3JldHVybiBwLnVpZD09PXQudWlkJiZlPT09Z30pO3UhPT0tMSYmKHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5zcGxpY2UodSwxKSx0aGlzLmVtaXQodHQuTWVkaWFSZWNvbm5lY3RFbmQsdC51aWQpKTt9YXN5bmMgbWFzc1N1YnNjcmliZSh0KXtyZXR1cm4gdGhpcy5tYXNzU3Vic2NyaWJlTm9Mb2NrKHQpfWFzeW5jIG1hc3NTdWJzY3JpYmVOb0xvY2sodCl7aWYoIXRoaXMuY29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PVJ0LkNvbm5lY3RlZCl0aHJvdyBuZXcgTihSLklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IHN1YnNjcmliZUFsbCByZW1vdGUgdXNlcnMgd2hlbiBwZWVyQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQuXCIpO3Q9dC5maWx0ZXIocj0+e3ZhciBvO2xldHt1c2VyOnMsbWVkaWFUeXBlOmF9PXI7cmV0dXJuICEoKG89dGhpcy5yZW1vdGVVc2VyTWFwLmdldChzKSkhPT1udWxsJiZvIT09dm9pZCAwJiZvLmhhcyhhKSl9KTtsZXQgZT1bXSxuPW5ldyBNYXA7dC5mb3JFYWNoKHI9PntpZighdGhpcy5jb25uZWN0aW9uKXJldHVybjtsZXQgbz10aGlzLmNvbm5lY3Rpb24uZ2V0UHJlTWVkaWEoci5zc3JjSWQpO28/bi5zZXQoci5zc3JjSWQsbyk6ZS5wdXNoKHIpO30pO2xldCBpPWF3YWl0IHRoaXMuY29ubmVjdGlvbi5iYXRjaFJlY2VpdmUoZS5tYXAocj0+e2xldHt1c2VyOm8sbWVkaWFUeXBlOnMsc3NyY0lkOmEscnR4U3NyY0lkOmN9PXI7cmV0dXJuIHtraW5kOnMsc3NyY01zZzpbe3NzcmNJZDphLHJ0eDpjfV0sbXNsYWJlbDpTdHJpbmcoby5fdWludGlkKX19KSk7ZS5mb3JFYWNoKChyLG8pPT57bi5zZXQoci5zc3JjSWQsaVtvXSk7fSksdC5mb3JFYWNoKHI9PntsZXR7dXNlcjpvLG1lZGlhVHlwZTpzLHNzcmNJZDphfT1yLGM9bi5nZXQoYSk7aWYoIWMpcmV0dXJuIHZvaWQgXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gY2Fubm90IGZpbmQgXCIpLmNvbmNhdChvLnVpZCxcIiBzdWJzY3JpYmUgZGF0YSxcIikuY29uY2F0KHMsXCIsIFwiKS5jb25jYXQoYSkpO2xldHt0cmFjazpkLGlkOmwsdHJhbnNjZWl2ZXI6dX09YztzPT09US5BVURJTz8oby5fYXVkaW9UcmFjaz9vLl9hdWRpb1RyYWNrLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGQpOihvLl9hdWRpb1RyYWNrPW5ldyBLcyhkLG8udWlkLG8uX3VpbnRpZCx0aGlzLnN0b3JlKSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIGNyZWF0ZSByZW1vdGUgYXVkaW8gdHJhY2s6IFwiKS5jb25jYXQoby5fYXVkaW9UcmFjay5nZXRUcmFja0lkKCkpKSksdSYmby5fYXVkaW9UcmFjay5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIodSksdGhpcy5iaW5kUmVtb3RlVHJhY2tFdmVudHMobyxvLl9hdWRpb1RyYWNrKSk6KG8uX3ZpZGVvVHJhY2s/by5fdmlkZW9UcmFjay5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhkKTooby5fdmlkZW9UcmFjaz1uZXcgSHMoZCxvLnVpZCxvLl91aW50aWQsdGhpcy5zdG9yZSksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBjcmVhdGUgcmVtb3RlIHZpZGVvIHRyYWNrOiBcIikuY29uY2F0KG8uX3ZpZGVvVHJhY2suZ2V0VHJhY2tJZCgpKSkpLHUmJm8uX3ZpZGVvVHJhY2suX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKHUpLHRoaXMuYmluZFJlbW90ZVRyYWNrRXZlbnRzKG8sby5fdmlkZW9UcmFjaykpO2xldCBoPXRoaXMucmVtb3RlVXNlck1hcC5nZXQobyk7aD9oLnNldChzLGwpOnRoaXMucmVtb3RlVXNlck1hcC5zZXQobyxuZXcgTWFwKFtbcyxsXV0pKSx0aGlzLnN0YXRzQ29sbGVjdG9yLmFkZFJlbW90ZVN0YXRzKG8udWlkKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRJbmJvdW5kU3RhdHMoKTtsZXQgcD10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuZmluZEluZGV4KGc9PntsZXR7dXNlcjpFLGtpbmQ6Zn09ZztyZXR1cm4gRS51aWQ9PT1vLnVpZCYmcz09PWZ9KTtwIT09LTEmJih0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Muc3BsaWNlKHAsMSksdGhpcy5lbWl0KHR0Lk1lZGlhUmVjb25uZWN0RW5kLG8udWlkKSk7fSk7fWFzeW5jIHVuc3Vic2NyaWJlKHQsZSxuKXtsZXQgaT10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuZmlsdGVyKHM9PntsZXR7dXNlcjphLGtpbmQ6Y309cztyZXR1cm4gZSE9PXZvaWQgMD9hLnVpZD09PXQudWlkJiZlPT09YzphLnVpZD09PXQudWlkfSk7aWYoaS5mb3JFYWNoKHM9PntsZXQgYT10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuaW5kZXhPZihzKTt0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Muc3BsaWNlKGEsMSk7fSksdGhpcy5jb25uZWN0aW9uJiZ0aGlzLnN0YXRlPT09UnQuQ29ubmVjdGVkfHxufHxpLmZvckVhY2gocz0+e2xldHtraW5kOmF9PXM7dmFyIGM7aWYoYT09PVEuQVVESU8pKGM9dC5fYXVkaW9UcmFjayk9PT1udWxsfHxjPT09dm9pZCAwfHxjLl9kZXN0cm95KCksdC5fYXVkaW9UcmFjaz12b2lkIDA7ZWxzZSBpZihhPT09US5WSURFTyl7dmFyIGQ7KGQ9dC5fdmlkZW9UcmFjayk9PT1udWxsfHxkPT09dm9pZCAwfHxkLl9kZXN0cm95KCksdC5fdmlkZW9UcmFjaz12b2lkIDA7fX0pLCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1SdC5Db25uZWN0ZWQpcmV0dXJuO2xldCByPXRoaXMuZmlsdGVyVG9iZVVuU3Vic2NyaWJlZFRyYWNrcyh0LGUpO2lmKHIubGVuZ3RoPT09MClyZXR1cm47YXdhaXQgdGhpcy5jb25uZWN0aW9uLnN0b3BSZWNlaXZpbmcoci5tYXAocz0+e2xldFsse2lkOmF9XT1zO3JldHVybiBhfSkpO2xldCBvPXRoaXMuY3JlYXRlVW5zdWJzY3JpYmVNZXNzYWdlKHIpO3JldHVybiB0aGlzLndpdGhkcmF3UmVtb3RlVHJhY2tzKHIpLHRoaXMucmVtb3RlVXNlck1hcC5zaXplPT09MCYmdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRJbmJvdW5kU3RhdHMoKSxyLmZvckVhY2gocz0+e2xldFthLHtraW5kOmN9XT1zO3ZhciBkLGw7aWYoYz09PVEuVklERU8mJmEuX3ZpZGVvU1NSQyYmKChkPXRoaXMuY29ubmVjdGlvbik9PT1udWxsfHxkPT09dm9pZCAwfHxkLnNldFN0YXRzUmVtb3RlVmlkZW9Jc1JlYWR5KGEuX3ZpZGVvU1NSQywhMSkpLGM9PT1RLlZJREVPKXRoaXMudW5iaW5kUmVtb3RlVHJhY2tFdmVudHMoYS5fdmlkZW9UcmFjayksbnx8KChsPWEuX3ZpZGVvVHJhY2spPT09bnVsbHx8bD09PXZvaWQgMHx8bC5fZGVzdHJveSgpLGEuX3ZpZGVvVHJhY2s9dm9pZCAwKTtlbHNlIGlmKGM9PT1RLkFVRElPKXt2YXIgdTt0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKGEuX2F1ZGlvVHJhY2spLCFuJiYoKHU9YS5fYXVkaW9UcmFjayk9PT1udWxsfHx1PT09dm9pZCAwfHx1Ll9kZXN0cm95KCksYS5fYXVkaW9UcmFjaz12b2lkIDApO319KSxvfWFzeW5jIHVuc3Vic2NyaWJlRGF0YUNoYW5uZWwodCxlKXtpZihlLmZvckVhY2gocj0+e2xldCBvPXRoaXMucGVuZGluZ1JlbW90ZURhdGFDaGFubmVscy5maW5kSW5kZXgocz0+cy5pZD09PXIuaWQpO28hPT0tMSYmdGhpcy5wZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWxzLnNwbGljZShvLDEpO30pLCF0aGlzLmNvbm5lY3Rpb24pcmV0dXJuO2xldCBuPXRoaXMuZmlsdGVyVG9iZVVuU3Vic2NyaWJlZERhdGFDaGFubmVscyh0LGUpO2lmKG4ubGVuZ3RoPT09MClyZXR1cm47ZS5mb3JFYWNoKHI9PntyLl9jbG9zZSgpO30pO2xldCBpPXRoaXMucmVtb3RlRGF0YUNoYW5uZWxNYXAuZ2V0KHQpO3JldHVybiBuLmZvckVhY2gocj0+e2kmJmkuZGVsZXRlKHIuaWQpO30pLGkmJmkuc2l6ZT09PTAmJih0aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmRlbGV0ZSh0KSxhd2FpdCB0aGlzLmNvbm5lY3Rpb24uc3RvcERhdGFDaGFubmVscyh0LnVpZCkpLG4ubWFwKHI9PnIuaWQpfWFzeW5jIG1hc3NVbnN1YnNjcmliZSh0KXtyZXR1cm4gdGhpcy5tYXNzVW5zdWJzY3JpYmVOb0xvY2sodCl9YXN5bmMgbWFzc1Vuc3Vic2NyaWJlTm9Mb2NrKHQpe2xldCBlPVtdO2ZvcihsZXR7dXNlcjpyLG1lZGlhVHlwZTpvfW9mIHQpe2xldCBzPXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5maWx0ZXIoYT0+e2xldHt1c2VyOmMsa2luZDpkfT1hO3JldHVybiBvIT09dm9pZCAwP2MudWlkPT09ci51aWQmJm89PT1kOmMudWlkPT09ci51aWR9KTtzLmZvckVhY2goYT0+e2xldCBjPXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5pbmRleE9mKGEpO3RoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5zcGxpY2UoYywxKTt9KSxlPWUuY29uY2F0KHMpO31pZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09UnQuQ29ubmVjdGVkKXJldHVybiB2b2lkIGUuZm9yRWFjaChyPT57bGV0e3VzZXI6byxraW5kOnN9PXI7dmFyIGE7aWYocz09PVEuQVVESU8pKGE9by5fYXVkaW9UcmFjayk9PT1udWxsfHxhPT09dm9pZCAwfHxhLl9kZXN0cm95KCksby5fYXVkaW9UcmFjaz12b2lkIDA7ZWxzZSBpZihzPT09US5WSURFTyl7dmFyIGM7KGM9by5fdmlkZW9UcmFjayk9PT1udWxsfHxjPT09dm9pZCAwfHxjLl9kZXN0cm95KCksby5fdmlkZW9UcmFjaz12b2lkIDA7fX0pO2xldCBuPWppKHQpLmNhbGwodCwocixvKT0+e2xldHt1c2VyOnMsbWVkaWFUeXBlOmF9PW8sYz10aGlzLmZpbHRlclRvYmVVblN1YnNjcmliZWRUcmFja3MocyxhKTtyZXR1cm4gci5jb25jYXQoYyl9LFtdKTtpZihuLmxlbmd0aD09PTApcmV0dXJuO2F3YWl0IHRoaXMuY29ubmVjdGlvbi5zdG9wUmVjZWl2aW5nKG4ubWFwKHI9PntsZXRbLHtpZDpvfV09cjtyZXR1cm4gb30pKTtsZXQgaT10aGlzLmNyZWF0ZVVuc3Vic2NyaWJlQWxsTWVzc2FnZShuKTtyZXR1cm4gdGhpcy53aXRoZHJhd1JlbW90ZVRyYWNrcyhuKSx0aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZT09PTAmJnRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkSW5ib3VuZFN0YXRzKCksbi5mb3JFYWNoKHI9PntsZXRbbyx7a2luZDpzfV09cjt2YXIgYSxjO2lmKHM9PT1RLlZJREVPJiZvLl92aWRlb1NTUkMmJigoYT10aGlzLmNvbm5lY3Rpb24pPT09bnVsbHx8YT09PXZvaWQgMHx8YS5zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeShvLl92aWRlb1NTUkMsITEpKSxzPT09US5WSURFTyl0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKG8uX3ZpZGVvVHJhY2spLChjPW8uX3ZpZGVvVHJhY2spPT09bnVsbHx8Yz09PXZvaWQgMHx8Yy5fZGVzdHJveSgpLG8uX3ZpZGVvVHJhY2s9dm9pZCAwO2Vsc2UgaWYocz09PVEuQVVESU8pe3ZhciBkO3RoaXMudW5iaW5kUmVtb3RlVHJhY2tFdmVudHMoby5fYXVkaW9UcmFjayksKGQ9by5fYXVkaW9UcmFjayk9PT1udWxsfHxkPT09dm9pZCAwfHxkLl9kZXN0cm95KCksby5fYXVkaW9UcmFjaz12b2lkIDA7fX0pLGl9aXNQcmVTdWJTY3JpYmUodCl7cmV0dXJuICF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1SdC5Db25uZWN0ZWQ/ITE6ISF0aGlzLmNvbm5lY3Rpb24uZ2V0UHJlTWVkaWEodCl9YXN5bmMgbXV0ZVJlbW90ZSh0LGUpe2lmKCF0aGlzLmNvbm5lY3Rpb24pcmV0dXJuO2xldCBuPXRoaXMucmVtb3RlVXNlck1hcC5nZXQodCk7aWYoIW4pcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLm11dGVSZW1vdGUgaGFzIG5vIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQodC51aWQsXCIuXCIpKTtpZighbi5nZXQoZSkpcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLm11dGVSZW1vdGUgaGFzIG5vIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQodC51aWQsXCIgbWVkaWEgdHlwZSBcIikuY29uY2F0KGUsXCIuXCIpKTtsZXQgaT1lPT09US5WSURFTz90Ll92aWRlb1NTUkM6dC5fYXVkaW9TU1JDO2khPT12b2lkIDAmJnRoaXMuY29ubmVjdGlvbi5zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeShpLCExKTt9YXN5bmMgdW5tdXRlUmVtb3RlKHQsZSl7cmV0dXJuIHRoaXMudW5tdXRlUmVtb3RlTm9Mb2NrKHQsZSl9YXN5bmMgdW5tdXRlUmVtb3RlTm9Mb2NrKHQsZSl7aWYoIXRoaXMuY29ubmVjdGlvbilyZXR1cm47bGV0IG49dGhpcy5yZW1vdGVVc2VyTWFwLmdldCh0KTtpZighbilyZXR1cm4gdm9pZCBfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwudW5tdXRlUmVtb3RlIGhhcyBubyByZW1vdGUgdXNlciBcIikuY29uY2F0KHQudWlkLFwiLlwiKSk7bi5nZXQoZSl8fF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbC51bm11dGVSZW1vdGUgaGFzIG5vIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQodC51aWQsXCIgbWVkaWEgdHlwZSBcIikuY29uY2F0KGUsXCIuXCIpKTt9Z2V0QWxsVHJhY2tzKHQpe2xldCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbEF1ZGlvVHJhY2spO2lmKGU/LnRyYWNrIGluc3RhbmNlb2YgZ2Upe2xldCBuPWUudHJhY2s7cmV0dXJuIEFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmlsdGVyKGk9PntsZXRbcl09aTtyZXR1cm4gciE9PVUuTG9jYWxBdWRpb1RyYWNrfSkuZmlsdGVyKGk9PntsZXRbcl09aTtyZXR1cm4gISh0JiZyPT09VS5Mb2NhbFZpZGVvTG93VHJhY2spfSkubWFwKGk9PntsZXRbLHt0cmFjazpyfV09aTtyZXR1cm4gcn0pLmNvbmNhdChuLnRyYWNrTGlzdCl9cmV0dXJuIEFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmlsdGVyKG49PntsZXRbaV09bjtyZXR1cm4gISh0JiZpPT09VS5Mb2NhbFZpZGVvTG93VHJhY2spfSkubWFwKG49PntsZXRbLHt0cmFjazppfV09bjtyZXR1cm4gaX0pfWdldEFsbERhdGFDaGFubmVscygpe3JldHVybiB0aGlzLmxvY2FsRGF0YUNoYW5uZWxzfXJlcG9ydFB1Ymxpc2hFdmVudCh0LGUsbixpLHIpe2lmKHQpe2xldCBzPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbEF1ZGlvVHJhY2spLGE9aT90aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb0xvd1RyYWNrKTp0aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb1RyYWNrKTtYLnB1Ymxpc2godGhpcy5zdG9yZS5zZXNzaW9uSWQse2V2ZW50RWxhcHNlOnFlLm1lYXN1cmVGcm9tUHVibGlzaFN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsdGhpcy5zdG9yZS5wdWJJZCksc3VjYzp0LGVjOmUsYXVkaW9OYW1lOnM/LnRyYWNrLmdldFRyYWNrTGFiZWwoKSx2aWRlb05hbWU6YT8udHJhY2suZ2V0VHJhY2tMYWJlbCgpLHNjcmVlbnNoYXJlOmE/LnRyYWNrLl9oaW50cy5pbmRleE9mKEd0LlNDUkVFTl9UUkFDSykhPT0tMSxhdWRpbzohIXMsdmlkZW86ISFhLHAycGlkOnRoaXMuc3RvcmUucDJwSWQscHVibGlzaFJlcXVlc3RpZDp0aGlzLnN0b3JlLnB1YklkLGV4dGVuZDpyfSk7fWVsc2Uge3ZhciBvO258fChuPVtdKTtsZXQgcz1uLmZpbmQoYz0+YyBpbnN0YW5jZW9mIFF0KSxhPWk/KG89dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9UcmFjaykpPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by50cmFjazpuLmZpbmQoYz0+YyBpbnN0YW5jZW9mIEZ0KTtYLnB1Ymxpc2godGhpcy5zdG9yZS5zZXNzaW9uSWQse2V2ZW50RWxhcHNlOnFlLm1lYXN1cmVGcm9tUHVibGlzaFN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsdGhpcy5zdG9yZS5wdWJJZCksc3VjYzp0LGVjOmUsYXVkaW9OYW1lOnM/LmdldFRyYWNrTGFiZWwoKSx2aWRlb05hbWU6YT8uZ2V0VHJhY2tMYWJlbCgpLHNjcmVlbnNoYXJlOmE/Ll9oaW50cy5pbmRleE9mKEd0LlNDUkVFTl9UUkFDSykhPT0tMSxhdWRpbzohIXMsdmlkZW86ISFhLHAycGlkOnRoaXMuc3RvcmUucDJwSWQscHVibGlzaFJlcXVlc3RpZDp0aGlzLnN0b3JlLnB1YklkLGV4dGVuZDpyfSk7fX1yZXBvcnRTdWJzY3JpYmVFdmVudCh0LGUsbixpKXtsZXQgcj1pPT09US5WSURFTz9uLl92aWRlb1NTUkM6bi5fYXVkaW9TU1JDO3ImJlguc3Vic2NyaWJlKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtzdWNjOnQsZWM6ZSx2aWRlbzppPT09US5WSURFTyxhdWRpbzppPT09US5BVURJTyxwZWVyaWQ6bi51aWQsc3Vic2NyaWJlUmVxdWVzdGlkOnIscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxldmVudEVsYXBzZTpxZS5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQscikscHJlU3NyYzp0aGlzLmlzUHJlU3ViU2NyaWJlKHIpfSk7fXJlc2V0KCl7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbC5yZXNldFwiKSksdGhpcy5tdXRleD1uZXcgemUoXCJQMlBDaGFubmVsLW11dGV4XCIpLHRoaXMuY29ubmVjdGlvbiYmKHRoaXMuY29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pLHRoaXMuY29ubmVjdGlvbj12b2lkIDApLHRoaXMuc2hvdWxkRm9yd2FyZFAyUENyZWF0aW9uJiYodGhpcy5jb25uZWN0aW9uPXRoaXMuaXNQbGFuQj9uZXcgVmEoe30sdGhpcy5zdG9yZSk6bmV3IGtpKHt9LHRoaXMuc3RvcmUpLHRoaXMuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5jb25uZWN0aW9uKSksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRPdXRib3VuZFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRJbmJvdW5kU3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZFRyYW5zcG9ydFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRFeHRlbnNpb25Vc2FnZVN0YXRzKCksdGhpcy51bmJpbmRMb2NhbFRyYWNrRXZlbnRzKCksdGhpcy51bmJpbmRBbGxSZW1vdGVUcmFja0V2ZW50cygpLHRoaXMudW5iaW5kUnRwVHJhbnNjZWl2ZXIoKTtsZXQgdD10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxBdWRpb1RyYWNrKTtpZih0Py50cmFjayBpbnN0YW5jZW9mIGdlKXtpZih0LnRyYWNrLnRyYWNrTGlzdC5sZW5ndGg+MCl7bGV0IGU9dC50cmFjazt0LnRyYWNrLnRyYWNrTGlzdC5mb3JFYWNoKG49PntlLnJlbW92ZUF1ZGlvVHJhY2sobik7fSk7fXQudHJhY2suY2xvc2UoKTt9dGhpcy5sb2NhbFRyYWNrTWFwLmNsZWFyKCksdGhpcy5yZW1vdGVVc2VyTWFwLmNsZWFyKCksdGhpcy5zdGF0c0NvbGxlY3Rvci5yZW1vdmVSZW1vdGVTdGF0cygpLHRoaXMuc3RhdHNDb2xsZWN0b3IucmVtb3ZlTG9jYWxTdGF0cygpLHRoaXMuaWNlRmFpbGVkQ291bnQ9MCx0aGlzLmR0bHNGYWlsZWRDb3VudD0wLHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzPVtdLHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcz1bXSx0aGlzLmxvY2FsRGF0YUNoYW5uZWxzPVtdLHRoaXMucmVtb3RlRGF0YUNoYW5uZWxNYXAuY2xlYXIoKSx0aGlzLnBlbmRpbmdMb2NhbERhdGFDaGFubmVscz1bXSx0aGlzLnBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbHM9W10sdGhpcy5zdGF0ZT1SdC5EaXNjb25uZWN0ZWQ7fWdldFN0YXRzKCl7dmFyIHQ7cmV0dXJuICh0PXRoaXMuY29ubmVjdGlvbik9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LmdldFN0YXRzKCl9Z2V0UmVtb3RlVmlkZW9Jc1JlYWR5KHQpe3ZhciBlO3JldHVybiAoKGU9dGhpcy5jb25uZWN0aW9uKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZ2V0UmVtb3RlVmlkZW9Jc1JlYWR5KHQpKXx8ITF9Z2V0TG9jYWxBdWRpb1ZvbHVtZSgpe2xldCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbEF1ZGlvVHJhY2spO2lmKHQpcmV0dXJuIHQudHJhY2suZ2V0Vm9sdW1lTGV2ZWwoKX1nZXRMb2NhbFZpZGVvU2l6ZSgpe2xldCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbFZpZGVvVHJhY2spO2lmKHQpcmV0dXJuIHt3aWR0aDp0LnRyYWNrLnZpZGVvV2lkdGh8fDAsaGVpZ2h0OnQudHJhY2sudmlkZW9IZWlnaHR8fDB9fWdldEVuY29kZXJDb25maWcodCl7bGV0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh0KTtyZXR1cm4gZSYmZS50cmFjayBpbnN0YW5jZW9mIEZ0fHxlJiZlLnRyYWNrIGluc3RhbmNlb2YgUXQ/ZS50cmFjay5fZW5jb2RlckNvbmZpZzp2b2lkIDB9Z2V0TG9jYWxNZWRpYSh0KXtyZXR1cm4gdGhpcy5sb2NhbFRyYWNrTWFwLmdldCh0KX1oYXNMb2NhbE1lZGlhKCl7cmV0dXJuIHRoaXMubG9jYWxUcmFja01hcC5zaXplPjB9aGFzUmVtb3RlTWVkaWEodCxlKXtpZighdClyZXR1cm4gdGhpcy5yZW1vdGVVc2VyTWFwLnNpemU+MDtsZXQgbj10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KHQpO3JldHVybiAhIW4mJighZXx8bi5oYXMoZSkpfWFzeW5jIGhhc1JlbW90ZU1lZGlhV2l0aExvY2sodCxlKXtpZighdClyZXR1cm4gdGhpcy5yZW1vdGVVc2VyTWFwLnNpemU+MDtsZXQgbj10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KHQpO3JldHVybiAhIW4mJighZXx8bi5oYXMoZSkpfWdldFJlbW90ZU1lZGlhKHQpe3ZhciBlO2xldCBuPUFycmF5LmZyb20oeG4oZT10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwoZSkpLmZpbmQoaT0+aS51aWQ9PT10KTtyZXR1cm4gbj97YXVkaW9UcmFjazpuLmF1ZGlvVHJhY2ssYXVkaW9TU1JDOm4uX2F1ZGlvU1NSQyx2aWRlb1RyYWNrOm4udmlkZW9UcmFjayx2aWRlb1NTUkM6bi5fdmlkZW9TU1JDfTp7fX1nZXRBdWRpb0xldmVscygpe2xldCB0PUFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkubWFwKG49PntsZXRbaV09bjtyZXR1cm4ge3VpZDppLnVpZCxsZXZlbDppLmF1ZGlvVHJhY2s/MTAwKmkuYXVkaW9UcmFjay5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKTowfX0pLGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsQXVkaW9UcmFjayk7cmV0dXJuIGUmJnQucHVzaCh7bGV2ZWw6MTAwKmUudHJhY2suX3NvdXJjZS5nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCksdWlkOnRoaXMuc3RvcmUudWlkfSksdD1lZCh0KS5jYWxsKHQsKG4saSk9Pm4ubGV2ZWwtaS5sZXZlbCksdH1hc3luYyBkaXNjb25uZWN0Rm9yUmVjb25uZWN0KCl7dGhpcy5jb25uZWN0aW9uJiYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbC5kaXNjb25uZWN0Rm9yUmVjb25uZWN0IGNsb3NpbmcgUDJQQ29ubmVjdGlvblwiKSksdGhpcy5zdGF0ZT1SdC5SZWNvbm5lY3RpbmcsdihcIktFRVBfTEFTVF9GUkFNRVwiKSYmdGhpcy5yZW1vdGVVc2VyTWFwLnNpemUhPT0wJiZBcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLmZvckVhY2godD0+e2xldFtlXT10O3ZhciBuO2UuX3ZpZGVvVHJhY2smJmUuX3ZpZGVvVHJhY2suX3BsYXllciYmKChuPWUuX3ZpZGVvVHJhY2suX3BsYXllci5nZXRWaWRlb0VsZW1lbnQoKSk9PT1udWxsfHxuPT09dm9pZCAwfHxuLnBhdXNlKCksZS5fdmlkZW9UcmFjay5fcGxheWVyLmlzS2VlcExhc3RGcmFtZT0hMCxlLl92aWRlb1RyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKSk7fSksdGhpcy5jb25uZWN0aW9uLmNsb3NlKCksdGhpcy51bmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuY29ubmVjdGlvbiksdGhpcy5jb25uZWN0aW9uPXZvaWQgMCx0aGlzLnNob3VsZEZvcndhcmRQMlBDcmVhdGlvbiYmKHRoaXMuY29ubmVjdGlvbj10aGlzLmlzUGxhbkI/bmV3IFZhKHt9LHRoaXMuc3RvcmUpOm5ldyBraSh7fSx0aGlzLnN0b3JlKSx0aGlzLmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuY29ubmVjdGlvbikpLHRoaXMubG9jYWxUcmFja01hcC5zaXplIT09MCYmKEFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZm9yRWFjaCh0PT57dmFyIGU7bGV0W24se3RyYWNrOml9XT10O3N3aXRjaChuKXtjYXNlIFUuTG9jYWxWaWRlb1RyYWNrOlcoZT1pLl9oaW50cykuY2FsbChlLEd0LkxPV19TVFJFQU0pP2kuY2xvc2UoKTp0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5wdXNoKGkpO2JyZWFrO2Nhc2UgVS5Mb2NhbEF1ZGlvVHJhY2s6aSBpbnN0YW5jZW9mIGdlP3RoaXMucGVuZGluZ0xvY2FsVHJhY2tzPXRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLmNvbmNhdChpLnRyYWNrTGlzdCk6dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MucHVzaChpKTtjYXNlIFUuTG9jYWxWaWRlb0xvd1RyYWNrOn19KSx0aGlzLmVtaXQodHQuTWVkaWFSZWNvbm5lY3RTdGFydCx0aGlzLnN0b3JlLnVpZCkpLHRoaXMudW5iaW5kTG9jYWxUcmFja0V2ZW50cygpLHRoaXMubG9jYWxUcmFja01hcC5jbGVhcigpLHRoaXMucmVtb3RlVXNlck1hcC5zaXplIT09MCYmQXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKS5mb3JFYWNoKHQ9PntsZXRbZSxuXT10O0FycmF5LmZyb20oeG4obikuY2FsbChuKSkuZm9yRWFjaChpPT57dGhpcy5zZXRQZW5kaW5nUmVtb3RlTWVkaWEoZSxpKTt9KSx0aGlzLmVtaXQodHQuTWVkaWFSZWNvbm5lY3RTdGFydCxlLnVpZCk7fSksdGhpcy51bmJpbmRBbGxSZW1vdGVUcmFja0V2ZW50cygpLHRoaXMucmVtb3RlVXNlck1hcC5jbGVhcigpLHRoaXMubG9jYWxEYXRhQ2hhbm5lbHMubGVuZ3RoIT09MCYmKHRoaXMubG9jYWxEYXRhQ2hhbm5lbHMuZm9yRWFjaCh0PT57dGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHMucHVzaCh0KTt9KSx0aGlzLmxvY2FsRGF0YUNoYW5uZWxzLmxlbmd0aD0wKSx0aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLnNpemUhPT0wJiYoQXJyYXkuZnJvbSh0aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmVudHJpZXMoKSkuZm9yRWFjaCh0PT57bGV0W2Usbl09dDtBcnJheS5mcm9tKHhuKG4pLmNhbGwobikpLmZvckVhY2goaT0+e3RoaXMuc2V0UGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKGUsaSk7fSk7fSksdGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5jbGVhcigpKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZE91dGJvdW5kU3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZEluYm91bmRTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkVHJhbnNwb3J0U3RhdHMoKSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsIGRpc2Nvbm5lY3RlZCwgd2FpdGluZyB0byByZWNvbm5lY3QuXCIpKSk7fWhhc1BlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbCh0LGUpe2ZvcihsZXQgbiBvZiB0aGlzLnBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbHMpe2xldHt1c2VyOmksaWQ6cn09bjtpZigodCBpbnN0YW5jZW9mIGlyP3QudWlkOnQpPT09aS51aWQmJnI9PT1lKXJldHVybiAhMH1yZXR1cm4gITF9c2V0UGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKHQsZSl7dGhpcy5oYXNQZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWwodCxlKXx8dGhpcy5wZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWxzLnB1c2goe3VzZXI6dCxpZDplfSk7fWhhc1BlbmRpbmdSZW1vdGVNZWRpYSh0LGUpe2ZvcihsZXQgbiBvZiB0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Mpe2xldHt1c2VyOmksa2luZDpyfT1uO2lmKCh0IGluc3RhbmNlb2YgaXI/dC51aWQ6dCk9PT1pLnVpZCYmZT09PXIpcmV0dXJuICEwfXJldHVybiAhMX1zZXRQZW5kaW5nUmVtb3RlTWVkaWEodCxlKXt0aGlzLmhhc1BlbmRpbmdSZW1vdGVNZWRpYSh0LGUpfHx0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MucHVzaCh7dXNlcjp0LGtpbmQ6ZX0pO31yZXN0YXJ0SUNFKHQpe3ZhciBlPXRoaXM7cmV0dXJuIEJpKGZ1bmN0aW9uKigpe2lmKCFlLmNvbm5lY3Rpb258fGUuc3RhdGUhPT1SdC5Db25uZWN0ZWQpcmV0dXJuO2xldCBuPXlpZWxkIFR0KGUubXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbC5yZXN0YXJ0SUNFXCIpKSxpO3RyeXtpPXlpZWxkIFR0KGUuY29ubmVjdGlvbi5yZXN0YXJ0SUNFKHQpKTtsZXQgbz15aWVsZCBUdChpLm5leHQoKSk7aWYoby5kb25lKXJldHVybjtsZXQgcz1vLnZhbHVlLGE9eWllbGQgcztzd2l0Y2goZS5yZXBvcnRQQ0Rpc2Nvbm5lY3RlZE9yRmFpbGVkKHQpLHQpe2Nhc2UgT24uVENQOmUuX3BjU3RhdHNVcGxvYWRUeXBlPVRyLlRDUF9SRVNUQVJUO2JyZWFrO2Nhc2UgT24uUkVMQVk6ZS5fcGNTdGF0c1VwbG9hZFR5cGU9VHIuUkVMQVlfUkVTVEFSVDticmVhaztkZWZhdWx0OmUuX3BjU3RhdHNVcGxvYWRUeXBlPVRyLk9MRF9SRVNUQVJUO31lLl9pc0luUmVzdGFydEljZT0hMCxpLm5leHQoYSk7fWNhdGNoKG8pe3ZhciByOyhyPWkpPT09bnVsbHx8cj09PXZvaWQgMHx8ci50aHJvdyhvKTt9ZmluYWxseXtuKCk7fX0pKCl9Z2V0VXBsaW5rTmV0d29ya1F1YWxpdHkoKXtpZighdGhpcy5jb25uZWN0aW9uKXJldHVybiAwO2xldCB0PXRoaXMuY29ubmVjdGlvbi5nZXRTdGF0cygpLGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9UcmFjayksbj10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxBdWRpb1RyYWNrKSxpPXQudmlkZW9TZW5kLmZpbmQocD0+cC5zc3JjPT09ZT8uc3NyY3NbMF0uc3NyY0lkKSxyPXQuYXVkaW9TZW5kLmZpbmQocD0+cC5zc3JjPT09bj8uc3NyY3NbMF0uc3NyY0lkKTtpZighaXx8IXIpcmV0dXJuIDE7bGV0IG89bmkodGhpcyx0dC5OZWVkU2lnbmFsUlRUKSxzPWk/aS5ydHRNczp2b2lkIDAsYT1yP3IucnR0TXM6dm9pZCAwLGM9cyYmYT8ocythKS8yOnN8fGEsZD0oYyYmbz8oYytvKS8yOmN8fG8pfHwwLGw9MTAwKnQuc2VuZFBhY2tldExvc3NSYXRlKi43LzUwKy4zKmQvMTUwMCx1PWw8LjE3PzE6bDwuMzY/MjpsPC41OT8zOmw8LjE/NDo1LGg9ZT8udHJhY2s7aWYoaCYmaC5fZW5jb2RlckNvbmZpZyYmaC5faGludHMuaW5kZXhPZihHdC5TQ1JFRU5fVFJBQ0spPT09LTEpe2xldCBwPWguX2VuY29kZXJDb25maWcuYml0cmF0ZU1heCxnPXQuYml0cmF0ZS5hY3R1YWxFbmNvZGVkO2lmKHAmJmcpe2xldCBFPSgxZTMqcC1nKS8oMWUzKnApO3JldHVybiBPT1tFPC4xNT8wOkU8LjM/MTpFPC40NT8yOkU8LjY/Mzo0XVt1XX19cmV0dXJuIHV9Z2V0RG93bmxpbmtOZXR3b3JrUXVhbGl0eSgpe2lmKCF0aGlzLmNvbm5lY3Rpb24pcmV0dXJuIDA7bGV0IHQ9dGhpcy5jb25uZWN0aW9uLmdldFN0YXRzKCksZT0wO3JldHVybiBBcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLmZvckVhY2gobj0+e2xldFtpXT1uLHI9aS5fYXVkaW9TU1JDLG89aS5fdmlkZW9TU1JDLHM9dC5hdWRpb1JlY3YuZmluZChnPT5nLnNzcmM9PT1yKSxhPXQudmlkZW9SZWN2LmZpbmQoZz0+Zy5zc3JjPT09byk7aWYoIXMmJiFhKXJldHVybiB2b2lkKGUrPTEpO2xldCBjPW5pKHRoaXMsdHQuTmVlZFNpZ25hbFJUVCksZD10LnJ0dCxsPShkJiZjPyhkK2MpLzI6ZHx8Yyl8fDAsdT1zP3Muaml0dGVyTXM6dm9pZCAwLGg9dC5yZWN2UGFja2V0TG9zc1JhdGUscD0uNypoKjEwMC81MCsuMypsLzE1MDA7dSYmKHA9LjYqaCoxMDAvNTArLjIqbC8xNTAwKy4yKnUvNDAwKSxlKz1wPC4xPzE6cDwuMTc/MjpwPC4zNj8zOnA8LjU5PzQ6NTt9KSx0aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZT4wP01hdGgucm91bmQoZS90aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZSk6ZX1hc3luYyBtdXRlTG9jYWxUcmFjayh0KXtyZXR1cm4gbmV3IGooKGUsbik9Pnt0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKHQsZSxuKTt9KX1hc3luYyByZXBsYWNlVHJhY2sodCxlKXt2YXIgbjtpZihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsIHJlcGxhY2VUcmFjayBmcm9tIFtcIikuY29uY2F0KHQuZ2V0VHJhY2tJZCgpLFwiXSB0byBbXCIpLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl1cIikpLCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1SdC5Db25uZWN0ZWQpcmV0dXJuO2xldCBpPUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmluZChvPT57bGV0Wyx7dHJhY2s6c31dPW87cmV0dXJuIHQ9PT1zfSk7aWYoIWkpcmV0dXJuO2xldCByPWlbMF07aWYodCE9PWUmJih0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHMoW3t0cmFjazp0LHR5cGU6cn1dKSx0aGlzLmJpbmRMb2NhbFRyYWNrRXZlbnRzKFt7dHJhY2s6ZSx0eXBlOnJ9XSksaVsxXS50cmFjaz1lKSxhd2FpdCgobj10aGlzLmNvbm5lY3Rpb24pPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5yZXBsYWNlVHJhY2soZSxpWzFdLmlkKSksdGhpcy5pc1BsYW5CKXtsZXQgbz1pWzFdO28uaWQ9ZS5fbWVkaWFTdHJlYW1UcmFjay5pZCx0aGlzLmxvY2FsVHJhY2tNYXAuc2V0KHIsbyk7fWlmKHI9PT1VLkxvY2FsVmlkZW9UcmFjayYmIXYoXCJESVNBQkxFX0RVQUxfU1RSRUFNX1VTRV9FTkNPRElOR1wiKSYmZnQoKS5zdXBwb3J0RHVhbFN0cmVhbUVuY29kaW5nKXtsZXQgbz10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb0xvd1RyYWNrKTtpZihvKXtsZXQgcz10Ll9tZWRpYVN0cmVhbVRyYWNrLmNsb25lKCk7by50cmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCksby50cmFjay5fbWVkaWFTdHJlYW1UcmFjaz1zLG8udHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2s9cyxhd2FpdCBuZXcgaigoYSxjKT0+e3RoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKG8udHJhY2ssYSxjLCEwKTt9KTt9fX1maWx0ZXJUb2JlUHVibGlzaGVkVHJhY2tzKHQsZSxuKXtsZXQgaT1bXSxyPXRoaXMuZ2V0QWxsVHJhY2tzKCk7dD1Mcyh0PXQuZmlsdGVyKGM9PnIuaW5kZXhPZihjKT09PS0xKSk7bGV0IG8scz0hMSxhPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbEF1ZGlvVHJhY2spO2ZvcihsZXQgYyBvZiB0KXtpZihjIGluc3RhbmNlb2YgRnQmJih0aGlzLmxvY2FsVHJhY2tNYXAuaGFzKFUuTG9jYWxWaWRlb1RyYWNrKXx8cz9uZXcgTihSLkNBTl9OT1RfUFVCTElTSF9NVUxUSVBMRV9WSURFT19UUkFDS1MpLnRocm93KCk6KGkucHVzaCh7dHJhY2s6Yyx0eXBlOlUuTG9jYWxWaWRlb1RyYWNrfSkscz0hMCksZSkpe2xldCBkPXRoaXMuZ2V0TG93VmlkZW9UcmFjayhjLG4pO2kucHVzaCh7dHJhY2s6ZCx0eXBlOlUuTG9jYWxWaWRlb0xvd1RyYWNrfSk7fWlmKGMgaW5zdGFuY2VvZiBRdClpZihhKXtsZXQgZD1hLnRyYWNrO2lmKGQgaW5zdGFuY2VvZiBnZSlsbShbY10pLGQuYWRkQXVkaW9UcmFjayhjKSx0aGlzLmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHMoYywhMCk7ZWxzZSB7bGV0IGw9RV8oW2QsY10pO18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbiB3aWxsIHJlcGxhY2UgYXVkaW9UcmFjayBbXCIpLmNvbmNhdChsLmdldFRyYWNrSWQoKSxcIl1cIikpLHRoaXMucmVwbGFjZVRyYWNrKGQsbCk7fX1lbHNlIG8gaW5zdGFuY2VvZiBnZT8obG0oW2NdKSxvLmFkZEF1ZGlvVHJhY2soYykpOm98fCFjLl91c2VBdWRpb0VsZW1lbnQmJmZ0KCkud2ViQXVkaW9NZWRpYVN0cmVhbURlc3QmJiFjLl9ieXBhc3NXZWJBdWRpbz9vPUVfKG8/W2Msb106W2NdKTpvPWM7fXJldHVybiBvJiYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uIHdpbGwgc2VuZCBhdWRpb1RyYWNrIFtcIikuY29uY2F0KG8uZ2V0VHJhY2tJZCgpLFwiXVwiKSksaS5wdXNoKHt0cmFjazpvLHR5cGU6VS5Mb2NhbEF1ZGlvVHJhY2t9KSksaX1maWx0ZXJUb2JlVW5wdWJsaXNoZWRUcmFja3ModCl7bGV0IGU9W10sbj10aGlzLmdldEFsbFRyYWNrcygpO3Q9THModD10LmZpbHRlcihpPT5uLmluZGV4T2YoaSkhPT0tMSkpO2ZvcihsZXQgaSBvZiB0KXtpZihpIGluc3RhbmNlb2YgUXQpe2xldCByPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbEF1ZGlvVHJhY2spO2lmKCFyKWNvbnRpbnVlO3IudHJhY2sgaW5zdGFuY2VvZiBnZT8oci50cmFjay5yZW1vdmVBdWRpb1RyYWNrKGkpLHRoaXMudW5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKGkpLHIudHJhY2sudHJhY2tMaXN0Lmxlbmd0aD09PTAmJihlLnB1c2goW1UuTG9jYWxBdWRpb1RyYWNrLHJdKSxyLnRyYWNrLmNsb3NlKCkpKTplLnB1c2goW1UuTG9jYWxBdWRpb1RyYWNrLHJdKTt9aWYoaSBpbnN0YW5jZW9mIEZ0KXtsZXQgcj10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb1RyYWNrKTtpZighciljb250aW51ZTtlLnB1c2goW1UuTG9jYWxWaWRlb1RyYWNrLHJdKTtsZXQgbz10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb0xvd1RyYWNrKTtvJiZlLnB1c2goW1UuTG9jYWxWaWRlb0xvd1RyYWNrLG9dKTt9fXJldHVybiBlfWZpbHRlclRvYmVQdWJsaXNoZWREYXRhQ2hhbm5lbHModCl7cmV0dXJuIHQ9KHQ9THModCkpLmZpbHRlcihlPT50aGlzLmxvY2FsRGF0YUNoYW5uZWxzLmZpbmRJbmRleChuPT5uLmlkPT09ZS5pZCk9PT0tMSl9ZmlsdGVyVG9iZVVucHVibGlzaGVkRGF0YUNoYW5uZWxzKHQpe3JldHVybiB0PSh0PSh0PUxzKHQpKS5maWx0ZXIoZT0+dGhpcy5sb2NhbERhdGFDaGFubmVscy5pbmRleE9mKGUpIT09LTEpKS5maWx0ZXIoZT0+ZS5fb3JpZ2luRGF0YUNoYW5uZWwpfWJpbmRMb2NhbFRyYWNrRXZlbnRzKHQpe3QuZm9yRWFjaChlPT57bGV0e3RyYWNrOm4sdHlwZTppfT1lO3N3aXRjaChpKXtjYXNlIFUuTG9jYWxWaWRlb1RyYWNrOm4uYWRkTGlzdGVuZXIoSC5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbFZpZGVvU3RhdHMpLG4uYWRkTGlzdGVuZXIoSC5HRVRfUlRDX1NUQVRTLHRoaXMuaGFuZGxlR2V0UlRDU3RhdHMpLG4uYWRkTGlzdGVuZXIoSC5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksbi5hZGRMaXN0ZW5lcihILk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksbi5hZGRMaXN0ZW5lcihILk5FRURfVVBEQVRFX1ZJREVPX0VOQ09ERVIsdGhpcy5oYW5kbGVVcGRhdGVWaWRlb0VuY29kZXIpLG4uYWRkTGlzdGVuZXIoSC5ORUVEX1VQREFURV9WSURFT19TRU5EX1BBUkFNRVRFUlMsdGhpcy5oYW5kbGVVcGRhdGVWaWRlb1NlbmRQYXJhbWV0ZXJzKSxuLmFkZExpc3RlbmVyKEguTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKSxuLmFkZExpc3RlbmVyKEguTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLG4uYWRkTGlzdGVuZXIoSC5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spO2JyZWFrO2Nhc2UgVS5Mb2NhbEF1ZGlvVHJhY2s6dGhpcy5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKG4pO2Nhc2UgVS5Mb2NhbFZpZGVvTG93VHJhY2s6fX0pO31iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKHQsZSl7dCBpbnN0YW5jZW9mIGdlP3QudHJhY2tMaXN0LmZvckVhY2gobj0+e24uYWRkTGlzdGVuZXIoSC5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksbi5hZGRMaXN0ZW5lcihILk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksbi5hZGRMaXN0ZW5lcihILkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsQXVkaW9TdGF0cyksbi5hZGRMaXN0ZW5lcihILk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxuLmFkZExpc3RlbmVyKEguTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKTt9KToodC5hZGRMaXN0ZW5lcihILkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsQXVkaW9TdGF0cyksdC5hZGRMaXN0ZW5lcihILk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSx0LmFkZExpc3RlbmVyKEguTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSx0LmFkZExpc3RlbmVyKEguTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLHQuYWRkTGlzdGVuZXIoSC5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLGV8fCh0LmFkZExpc3RlbmVyKEguTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKSx0LmFkZExpc3RlbmVyKEguTkVFRF9SRVBMQUNFX01JWElOR19UUkFDSyx0aGlzLmhhbmRsZVJlcGxhY2VNaXhpbmdUcmFjaykpKTt9dW5iaW5kTG9jYWxUcmFja0V2ZW50cyh0KXt0fHwodD1BcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLm1hcChlPT57bGV0W24se3RyYWNrOml9XT1lO3JldHVybiB7dHJhY2s6aSx0eXBlOm59fSkpLHQuZm9yRWFjaChlPT57bGV0e3RyYWNrOm4sdHlwZTppfT1lO3N3aXRjaChpKXtjYXNlIFUuTG9jYWxWaWRlb1RyYWNrOm4ub2ZmKEguR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxWaWRlb1N0YXRzKSxuLm9mZihILkdFVF9SVENfU1RBVFMsdGhpcy5oYW5kbGVHZXRSVENTdGF0cyksbi5vZmYoSC5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksbi5vZmYoSC5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLG4ub2ZmKEguTkVFRF9VUERBVEVfVklERU9fRU5DT0RFUix0aGlzLmhhbmRsZVVwZGF0ZVZpZGVvRW5jb2Rlciksbi5vZmYoSC5ORUVEX1VQREFURV9WSURFT19TRU5EX1BBUkFNRVRFUlMsdGhpcy5oYW5kbGVVcGRhdGVWaWRlb1NlbmRQYXJhbWV0ZXJzKSxuLm9mZihILk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayksbi5vZmYoSC5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksbi5vZmYoSC5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spO2JyZWFrO2Nhc2UgVS5Mb2NhbEF1ZGlvVHJhY2s6dGhpcy51bmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHMobik7Y2FzZSBVLkxvY2FsVmlkZW9Mb3dUcmFjazp9fSk7fXVuYmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyh0KXt0IGluc3RhbmNlb2YgZ2U/dC50cmFja0xpc3QuZm9yRWFjaChlPT57ZS5vZmYoSC5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5vZmYoSC5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLGUub2ZmKEguR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxBdWRpb1N0YXRzKSxlLm9mZihILk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLm9mZihILk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayk7fSk6KHQub2ZmKEguR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxBdWRpb1N0YXRzKSx0Lm9mZihILk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSx0Lm9mZihILk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksdC5vZmYoSC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcy5oYW5kbGVSZXBsYWNlVHJhY2spLHQub2ZmKEguTkVFRF9SRVBMQUNFX01JWElOR19UUkFDSyx0aGlzLmhhbmRsZVJlcGxhY2VNaXhpbmdUcmFjayksdC5vZmYoSC5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksdC5vZmYoSC5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spKTt9YmluZFJlbW90ZVRyYWNrRXZlbnRzKHQsZSl7ZSBpbnN0YW5jZW9mIEhzJiZlLmFkZExpc3RlbmVyKEguR0VUX1NUQVRTLG49PntuKHRoaXMuaGFuZGxlR2V0UmVtb3RlVmlkZW9TdGF0cyh0KSk7fSksZSBpbnN0YW5jZW9mIEtzJiZlLmFkZExpc3RlbmVyKEguR0VUX1NUQVRTLG49PntuKHRoaXMuaGFuZGxlR2V0UmVtb3RlQXVkaW9TdGF0cyh0KSk7fSk7fXVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQpe3QmJnQucmVtb3ZlQWxsTGlzdGVuZXJzKEguR0VUX1NUQVRTKTt9dW5iaW5kQWxsUmVtb3RlVHJhY2tFdmVudHMoKXtBcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLmZvckVhY2godD0+e2xldFtlLG5dPXQ7bi5oYXMoUS5BVURJTykmJnRoaXMudW5iaW5kUmVtb3RlVHJhY2tFdmVudHMoZS5fYXVkaW9UcmFjayksbi5oYXMoUS5WSURFTykmJnRoaXMudW5iaW5kUmVtb3RlVHJhY2tFdmVudHMoZS5fdmlkZW9UcmFjayk7fSk7fWNyZWF0ZUdhdGV3YXlQdWJsaXNoTWVzc2FnZSh0LGUpe3JldHVybiB0Lm1hcCgobixpKT0+e3ZhciByO2xldCBvLHMse3RyYWNrOmEsdHlwZTpjfT1uO3N3aXRjaChjKXtjYXNlIFUuTG9jYWxBdWRpb1RyYWNrOm89Q3QuQXVkaW8scz17ZHR4OmEgaW5zdGFuY2VvZiBvdSYmYS5fY29uZmlnLkRUWCxocTohMSxscTohMSxzdGVyZW86ITEsc3BlZWNoOiExfTticmVhaztjYXNlIFUuTG9jYWxWaWRlb1RyYWNrOm89VyhyPWEuX2hpbnRzKS5jYWxsKHIsR3QuU0NSRUVOX1RSQUNLKT9DdC5TY3JlZW46Q3QuSGlnaCxzPVppKFppKHt9LEdSKGEpKSx7fSx7Y29kZWM6dGhpcy5zdG9yZS5jb2RlYyxzdmNfbW9kZTokRSgpfSk7YnJlYWs7Y2FzZSBVLkxvY2FsVmlkZW9Mb3dUcmFjazpvPUN0LkxvdyxzPVppKFppKHt9LEdSKGEpKSx7fSx7Y29kZWM6dGhpcy5zdG9yZS5jb2RlYyxzdmNfbW9kZTokRSgpfSk7fXJldHVybiB7c3RyZWFtX3R5cGU6byxhdHRyaWJ1dGVzOnMsc3NyY3M6ZVtpXX19KX1jcmVhdGVHYXRld2F5VW5wdWJsaXNoTWVzc2FnZSh0KXtyZXR1cm4gdC5tYXAoZT0+e3ZhciBuO2xldCBpLFtyLHt0cmFjazpvLHNzcmNzOnMsaWQ6YX1dPWU7c3dpdGNoKHIpe2Nhc2UgVS5Mb2NhbFZpZGVvVHJhY2s6aT1XKG49by5faGludHMpLmNhbGwobixHdC5TQ1JFRU5fVFJBQ0spP0N0LlNjcmVlbjpDdC5IaWdoO2JyZWFrO2Nhc2UgVS5Mb2NhbEF1ZGlvVHJhY2s6aT1DdC5BdWRpbzticmVhaztjYXNlIFUuTG9jYWxWaWRlb0xvd1RyYWNrOmk9Q3QuTG93O31yZXR1cm4ge3N0cmVhbV90eXBlOmksc3NyY3M6cyxtaWQ6YX19KX1hc3NpZ25Mb2NhbFRyYWNrcyh0LGUpe3QuZm9yRWFjaCgobixpKT0+e2xldHt0cmFjazpyLHR5cGU6b309bjt0aGlzLmxvY2FsVHJhY2tNYXAuc2V0KG8se3RyYWNrOnIsaWQ6ZVtpXS5pZCxzc3JjczplW2ldLmxvY2FsU1NSQ30pO30pO313aXRoZHJhd0xvY2FsVHJhY2tzKHQpe3QuZm9yRWFjaChlPT57bGV0W25dPWU7dGhpcy5sb2NhbFRyYWNrTWFwLmRlbGV0ZShuKTt9KTt9YmluZENvbm5lY3Rpb25FdmVudHModCl7dC5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZT1hc3luYyBlPT57aWYoXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UoXCIpLmNvbmNhdChlLFwiKVwiKSksdGhpcy5lbWl0KHR0LlBlZXJDb25uZWN0aW9uU3RhdGVDaGFuZ2UsZSksZSE9PVwiY29ubmVjdGVkXCJ8fHRoaXMuc3RvcmUua2V5TWV0cmljcy5wZWVyQ29ubmVjdGlvbkVuZHx8dGhpcy5zdG9yZS5wZWVyQ29ubmVjdGlvbkVuZCgpLGU9PT1cImNvbm5lY3RlZFwiJiYodGhpcy5fcmVzdGFydFRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuX3Jlc3RhcnRUaW1lciksdGhpcy5fcmVzdGFydFRpbWVyPXZvaWQgMCksKHRoaXMuX2lzRmlyc3RDb25uZWN0ZWR8fHRoaXMuX2lzSW5SZXN0YXJ0SWNlKSYmdGhpcy5yZXBvcnRQQ1N0YXRzKERhdGUubm93KCksITAsdGhpcy5fcGNTdGF0c1VwbG9hZFR5cGUpLHRoaXMuX2lzSW5SZXN0YXJ0SWNlPSExLHRoaXMuX2lzRmlyc3RDb25uZWN0ZWQ9ITEsdGhpcy5faXNTdGFydFJlc3RhcnRJY2U9ITEpLHYoXCJORVdfSUNFX1JFU1RBUlRcIikpe3ZhciBuO2lmKFcobj10aGlzLl9yZXN0YXJ0U3RhdGVzKS5jYWxsKG4sZSkpe2lmKHRoaXMuX2lzU3RhcnRSZXN0YXJ0SWNlKXJldHVybjt0aGlzLl9pc1N0YXJ0UmVzdGFydEljZT0hMDtsZXQgaT1zPT57KHQuaWNlQ29ubmVjdGlvblN0YXRlPT09XCJkaXNjb25uZWN0ZWRcInx8dC5pY2VDb25uZWN0aW9uU3RhdGU9PT1cImNoZWNraW5nXCJ8fHQuaWNlQ29ubmVjdGlvblN0YXRlPT09XCJmYWlsZWRcIikmJihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ2hhbm5lbF0gc3RhcnQgdXNlIHJlc3RhcnRJQ0UsIHR5cGUgaXMgXCIpLmNvbmNhdChzKSksbmkodGhpcyx0dC5RdWVyeUNsaWVudENvbm5lY3Rpb25TdGF0ZSk9PT1cIkNPTk5FQ1RFRFwiJiZ0aGlzLmVtaXQodHQuUmVxdWVzdFJlc3RhcnRJQ0UscykpO30scj0oKT0+e3QuaWNlQ29ubmVjdGlvblN0YXRlIT09XCJkaXNjb25uZWN0ZWRcIiYmdC5pY2VDb25uZWN0aW9uU3RhdGUhPT1cImNoZWNraW5nXCImJnQuaWNlQ29ubmVjdGlvblN0YXRlIT09XCJmYWlsZWRcInx8KHRoaXMucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCExLHRoaXMuX3BjU3RhdHNVcGxvYWRUeXBlKSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDb25uZWN0aW9uIGRpc2Nvbm5lY3RlZCB0aW1lb3V0LCBmb3JjZSByZWNvbm5lY3RcIikpLHNldFRpbWVvdXQoKCk9PnRoaXMuZW1pdCh0dC5QMlBMb3N0KSwwKSx0aGlzLmljZUZhaWxlZENvdW50Kz0xLHRoaXMucmVxdWVzdFJlY29ubmVjdCgpKTt9LG89dihcIklDRV9SRVNUQVJUX0lOVEVSVkFMXCIpO3JldHVybiB2b2lkKHRoaXMuX3Jlc3RhcnRUaW1lcj13aW5kb3cuc2V0VGltZW91dCgoKT0+e2lmKHYoXCJKT0lOX1dJVEhfRkFMTEJBQ0tfTUVESUFfUFJPWFlfRk9SQ0VcIikmJmZ0KCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbilpKE9uLlJFTEFZKSx0aGlzLl9yZXN0YXJ0VGltZXI9d2luZG93LnNldFRpbWVvdXQocixvKTtlbHNlIGlmKCR0KCkpaShPbi5VRFApLHRoaXMuX3Jlc3RhcnRUaW1lcj13aW5kb3cuc2V0VGltZW91dChyLDRlMyk7ZWxzZSB7aWYoaShPbi5UQ1ApLGZ0KCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbilyZXR1cm4gdm9pZCh0aGlzLl9yZXN0YXJ0VGltZXI9d2luZG93LnNldFRpbWVvdXQoKCk9PntpKE9uLlJFTEFZKSx0aGlzLl9yZXN0YXJ0VGltZXI9d2luZG93LnNldFRpbWVvdXQocixvKTt9LG8pKTt0aGlzLl9yZXN0YXJ0VGltZXI9d2luZG93LnNldFRpbWVvdXQocixvKTt9fSw4MDApKX19ZWxzZSB7aWYoZT09PVwiZGlzY29ubmVjdGVkXCImJnQuaWNlQ29ubmVjdGlvblN0YXRlPT09XCJkaXNjb25uZWN0ZWRcIilyZXR1cm4gc2V0VGltZW91dCgoKT0+e3QuaWNlQ29ubmVjdGlvblN0YXRlPT09XCJkaXNjb25uZWN0ZWRcIiYmdihcIklDRV9SRVNUQVJUXCIpJiZuaSh0aGlzLHR0LlF1ZXJ5Q2xpZW50Q29ubmVjdGlvblN0YXRlKT09PVwiQ09OTkVDVEVEXCImJnRoaXMuZW1pdCh0dC5SZXF1ZXN0UmVzdGFydElDRSk7fSw4MDApLHZvaWQgc2V0VGltZW91dCgoKT0+e3QucGVlckNvbm5lY3Rpb25TdGF0ZT09PVwiZGlzY29ubmVjdGVkXCImJihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24gZGlzY29ubmVjdGVkIHRpbWVvdXQgNDAwMG1zLCBmb3JjZSByZWNvbm5lY3RcIikpLHRoaXMucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCExLHRoaXMuX3BjU3RhdHNVcGxvYWRUeXBlKSx0aGlzLl9pc0luUmVzdGFydEljZT0hMSxzZXRUaW1lb3V0KCgpPT50aGlzLmVtaXQodHQuUDJQTG9zdCksMCksdGhpcy5pY2VGYWlsZWRDb3VudCs9MSx0aGlzLnJlcXVlc3RSZWNvbm5lY3QoKSk7fSw0ZTMpO2U9PT1cImZhaWxlZFwiJiYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uIHN0YXRlIGZhaWxlZCwgZm9yY2UgcmVjb25uZWN0XCIpKSx0aGlzLnJlcG9ydFBDRGlzY29ubmVjdGVkT3JGYWlsZWQoKSxzZXRUaW1lb3V0KCgpPT50aGlzLmVtaXQodHQuUDJQTG9zdCksMCksdGhpcy5pY2VGYWlsZWRDb3VudCs9MSxhd2FpdCB0aGlzLnJlcXVlc3RSZWNvbm5lY3QoKSk7fX0sdC5vbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZT1lPT57ZSE9PVwiY29ubmVjdGVkXCJ8fHRoaXMuc3RvcmUua2V5TWV0cmljcy5pY2VDb25uZWN0aW9uRW5kfHx0aGlzLnN0b3JlLmljZUNvbm5lY3Rpb25FbmQoKSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5vbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZShcIikuY29uY2F0KGUsXCIpXCIpKSxYLnJlcG9ydEFwaUludm9rZSh0aGlzLnN0b3JlLnNlc3Npb25JZCx7bmFtZTpcIklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZVwiLG9wdGlvbnM6ZSx0YWc6WnQuVFJBQ0VSfSkub25TdWNjZXNzKCksdGhpcy5lbWl0KHR0LkljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSxlKTt9LHQub25JQ0VUcmFuc3BvcnRTdGF0ZUNoYW5nZT1lPT57Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25JQ0VUcmFuc3BvcnRTdGF0ZUNoYW5nZShcIikuY29uY2F0KGUsXCIpXCIpKTt9LHQub25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2U9ZT0+e18uaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlKFwiKS5jb25jYXQoZSxcIilcIikpO30sdC5vbkRUTFNUcmFuc3BvcnRFcnJvcj1lPT57Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25EVExTVHJhbnNwb3J0RXJyb3IoXCIpLmNvbmNhdChlLFwiKVwiKSk7fSx0Lm9uRmlyc3RBdWRpb0RlY29kZWQ9ZT0+e3ZhciBuO2xldCBpPUFycmF5LmZyb20oeG4obj10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwobikpLmZpbmQobz0+by5fYXVkaW9TU1JDPT09ZSk7dmFyIHI7aSYmKHRoaXMuc3RvcmUuc3Vic2NyaWJlKGkudWlkLFwiYXVkaW9cIix2b2lkIDAsdm9pZCAwLHZvaWQgMCxEYXRlLm5vdygpKSwocj1pLmF1ZGlvVHJhY2spPT09bnVsbHx8cj09PXZvaWQgMHx8ci5lbWl0KFdzLkZJUlNUX0ZSQU1FX0RFQ09ERUQpLFguZmlyc3RSZW1vdGVGcmFtZSh0aGlzLnN0b3JlLnNlc3Npb25JZCxEZS5GSVJTVF9BVURJT19ERUNPREUsSnQuRklSU1RfQVVESU9fREVDT0RFLHtwZWVyOmkuX3VpbnRpZCxzdWJzY3JpYmVFbGFwc2U6cWUubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWR9KSk7fSx0Lm9uRmlyc3RBdWRpb1JlY2VpdmVkPWU9Pnt2YXIgbjtsZXQgaT1BcnJheS5mcm9tKHhuKG49dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKG4pKS5maW5kKHI9PnIuX2F1ZGlvU1NSQz09PWUpO2kmJlguZmlyc3RSZW1vdGVGcmFtZSh0aGlzLnN0b3JlLnNlc3Npb25JZCxEZS5GSVJTVF9BVURJT19SRUNFSVZFRCxKdC5GSVJTVF9BVURJT19SRUNFSVZFRCx7cGVlcjppLl91aW50aWQsc3Vic2NyaWJlRWxhcHNlOnFlLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxlKSxzdWJzY3JpYmVSZXF1ZXN0aWQ6ZSxwMnBpZDp0aGlzLnN0b3JlLnAycElkfSk7fSx0Lm9uRmlyc3RWaWRlb0RlY29kZWQ9KGUsbixpKT0+e3RoaXMucmVwb3J0VmlkZW9GaXJzdEZyYW1lRGVjb2RlZChlLG4saSk7fSx0Lm9uRmlyc3RWaWRlb1JlY2VpdmVkPWU9Pnt2YXIgbjtsZXQgaT1BcnJheS5mcm9tKHhuKG49dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKG4pKS5maW5kKHI9PnIuX3ZpZGVvU1NSQz09PWUpO2kmJlguZmlyc3RSZW1vdGVGcmFtZSh0aGlzLnN0b3JlLnNlc3Npb25JZCxEZS5GSVJTVF9WSURFT19SRUNFSVZFRCxKdC5GSVJTVF9WSURFT19SRUNFSVZFRCx7cGVlcjppLl91aW50aWQsc3Vic2NyaWJlRWxhcHNlOnFlLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxlKSxzdWJzY3JpYmVSZXF1ZXN0aWQ6ZSxwMnBpZDp0aGlzLnN0b3JlLnAycElkfSk7fSx0Lm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9KGUsbik9PntsZXQgaT1lLmNhbmRpZGF0ZVR5cGU9PT1cInJlbGF5XCIscj1uLmNhbmRpZGF0ZVR5cGU9PT1cInJlbGF5XCI7bi5jYW5kaWRhdGVUeXBlIT09XCJ1bmtub3duXCImJmk9PT1yfHx0aGlzLmVtaXQodHQuQ29ubmVjdGlvblR5cGVDaGFuZ2UsaSksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQoXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlbyhuKSksXCIgLT4gXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlbyhlKSksXCIpXCIpKTt9LHQub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9KGUsbik9PntfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQoXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlbyhuKSksXCIgLT4gXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlbyhlKSksXCIpXCIpKTt9LHQub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9ZT0+e3RoaXMucmVwb3J0VmlkZW9GaXJzdEZyYW1lRGVjb2RlZChlLHZvaWQgMCx2b2lkIDAsITApO30sdC5nZXRMb2NhbFZpZGVvU3RhdHM9KCk9PntsZXQgZT10aGlzLnN0YXRzQ29sbGVjdG9yLmdldExvY2FsVmlkZW9UcmFja1N0YXRzKCksbj10aGlzLnN0YXRzQ29sbGVjdG9yLmdldFJUQ1N0YXRzKCk7cmV0dXJuIFppKFppKHt9LGUpLG4pfTt9dW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0KXt0Lm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlPXZvaWQgMCx0Lm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlPXZvaWQgMCx0Lm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2U9dm9pZCAwLHQub25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2U9dm9pZCAwLHQub25EVExTVHJhbnNwb3J0RXJyb3I9dm9pZCAwLHQub25GaXJzdEF1ZGlvRGVjb2RlZD12b2lkIDAsdC5vbkZpcnN0QXVkaW9SZWNlaXZlZD12b2lkIDAsdC5vbkZpcnN0VmlkZW9EZWNvZGVkPXZvaWQgMCx0Lm9uRmlyc3RWaWRlb1JlY2VpdmVkPXZvaWQgMCx0Lm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLHQub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLHQub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9dm9pZCAwLHQuZ2V0TG9jYWxWaWRlb1N0YXRzPXZvaWQgMDt9ZmlsdGVyVG9iZU11dGVkVHJhY2tzKHQpe2xldCBlPVtdO2lmKHRoaXMuZ2V0QWxsVHJhY2tzKCkuaW5kZXhPZih0KT09PS0xKXJldHVybiBlO2xldCBuPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbEF1ZGlvVHJhY2spO2lmKHQgaW5zdGFuY2VvZiBRdCYmbj8udHJhY2sgaW5zdGFuY2VvZiBnZSlyZXR1cm4gbi50cmFjay5pc0FjdGl2ZXx8ZS5wdXNoKFtVLkxvY2FsQXVkaW9UcmFjayxuXSksZTtsZXQgaT1BcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbmQocj0+e2xldFsse3RyYWNrOm99XT1yO3JldHVybiB0PT09b30pO2lmKGkmJihlLnB1c2goaSksaVswXT09PVUuTG9jYWxWaWRlb1RyYWNrKSl7bGV0IHI9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsVmlkZW9Mb3dUcmFjayk7ciYmZS5wdXNoKFtVLkxvY2FsVmlkZW9Mb3dUcmFjayxyXSk7fXJldHVybiBlfWZpbHRlclRvYmVVbm11dGVkVHJhY2tzKHQpe2xldCBlPVtdLG49dGhpcy5sb2NhbFRyYWNrTWFwLmdldChVLkxvY2FsQXVkaW9UcmFjayk7aWYodCBpbnN0YW5jZW9mIFF0JiZuPy50cmFjayBpbnN0YW5jZW9mIGdlKXJldHVybiBuLnRyYWNrLmlzQWN0aXZlJiZlLnB1c2goW1UuTG9jYWxBdWRpb1RyYWNrLG5dKSxlO2xldCBpPUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmluZChyPT57bGV0Wyx7dHJhY2s6b31dPXI7cmV0dXJuIHQ9PT1vfSk7aWYoaSlpZihpWzBdPT09VS5Mb2NhbFZpZGVvVHJhY2spe2UucHVzaChpKTtsZXQgcj10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb0xvd1RyYWNrKTtyJiZlLnB1c2goW1UuTG9jYWxWaWRlb0xvd1RyYWNrLHJdKTt9ZWxzZSBlLnB1c2goaSk7cmV0dXJuIGV9Y3JlYXRlTXV0ZU1lc3NhZ2UodCl7cmV0dXJuIHQubWFwKGU9Pnt2YXIgbjtsZXQgaSxbcix7dHJhY2s6byxzc3JjczpzLGlkOmF9XT1lO3N3aXRjaChyKXtjYXNlIFUuTG9jYWxBdWRpb1RyYWNrOmk9Q3QuQXVkaW87YnJlYWs7Y2FzZSBVLkxvY2FsVmlkZW9UcmFjazppPVcobj1vLl9oaW50cykuY2FsbChuLEd0LlNDUkVFTl9UUkFDSyk/Q3QuU2NyZWVuOkN0LkhpZ2g7YnJlYWs7Y2FzZSBVLkxvY2FsVmlkZW9Mb3dUcmFjazppPUN0Lkxvdzt9cmV0dXJuIHtzdHJlYW1fdHlwZTppLHNzcmNzOnMsbWlkOmF9fSl9Y3JlYXRlVW5tdXRlTWVzc2FnZSh0KXtyZXR1cm4gdC5tYXAoZT0+e3ZhciBuO2xldCBpLFtyLHt0cmFjazpvLHNzcmNzOnMsaWQ6YX1dPWU7c3dpdGNoKHIpe2Nhc2UgVS5Mb2NhbEF1ZGlvVHJhY2s6aT1DdC5BdWRpbzticmVhaztjYXNlIFUuTG9jYWxWaWRlb1RyYWNrOmk9VyhuPW8uX2hpbnRzKS5jYWxsKG4sR3QuU0NSRUVOX1RSQUNLKT9DdC5TY3JlZW46Q3QuSGlnaDticmVhaztjYXNlIFUuTG9jYWxWaWRlb0xvd1RyYWNrOmk9Q3QuTG93O31yZXR1cm4ge3N0cmVhbV90eXBlOmksc3NyY3M6cyxtaWQ6YX19KX1maWx0ZXJUb2JlVW5TdWJzY3JpYmVkVHJhY2tzKHQsZSl7bGV0IG49W10saT10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KHQpO2lmKCFpKXJldHVybiBuO2lmKGUpe2xldCByPWkuZ2V0KGUpO2lmKCFyKXJldHVybiBuO24ucHVzaChbdCx7a2luZDplLGlkOnJ9XSk7fWVsc2UgQXJyYXkuZnJvbShpLmVudHJpZXMoKSkuZm9yRWFjaChyPT57bGV0W28sc109cjtuLnB1c2goW3Qse2tpbmQ6byxpZDpzfV0pO30pO3JldHVybiBufWZpbHRlclRvYmVVblN1YnNjcmliZWREYXRhQ2hhbm5lbHModCxlKXtsZXQgbj1bXTtyZXR1cm4gZS5mb3JFYWNoKGk9Pnt2YXIgcjsocj10aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmdldCh0KSkhPT1udWxsJiZyIT09dm9pZCAwJiZyLmhhcyhpLmlkKSYmbi5wdXNoKGkpO30pLG59Y3JlYXRlVW5zdWJzY3JpYmVNZXNzYWdlKHQpe2xldCBlPVtdO3JldHVybiB0LmZvckVhY2gobj0+e2xldFtpLHtraW5kOnIsaWQ6b31dPW47c3dpdGNoKHIpe2Nhc2UgUS5WSURFTzpyZXR1cm4gdm9pZChpLl92aWRlb1NTUkMmJmUucHVzaCh7c3RyZWFtX3R5cGU6US5WSURFTyxzc3JjSWQ6aS5fdmlkZW9TU1JDfSkpO2Nhc2UgUS5BVURJTzpyZXR1cm4gdm9pZChpLl9hdWRpb1NTUkMmJmUucHVzaCh7c3RyZWFtX3R5cGU6US5BVURJTyxzc3JjSWQ6aS5fYXVkaW9TU1JDfSkpfX0pLGV9Y3JlYXRlVW5zdWJzY3JpYmVBbGxNZXNzYWdlKHQpe2xldCBlPW5ldyBNYXA7cmV0dXJuIHQuZm9yRWFjaChuPT57bGV0W2kse2tpbmQ6cn1dPW47aWYoZS5oYXMoaSkpe2xldCBvPWUuZ2V0KGkpO3I9PT1RLlZJREVPP298PXZlLlZpZGVvOm98PXZlLkF1ZGlvLGUuc2V0KGksbyk7fWVsc2Ugcj09PVEuVklERU8/ZS5zZXQoaSx2ZS5WaWRlbyk6ZS5zZXQoaSx2ZS5BdWRpbyk7fSkse3VzZXJzOkFycmF5LmZyb20oZS5lbnRyaWVzKCkpLm1hcChuPT57bGV0W2kscl09bjtyZXR1cm4ge3N0cmVhbV9pZDppLnVpZCxzdHJlYW1fdHlwZTpyfX0pfX13aXRoZHJhd1JlbW90ZVRyYWNrcyh0KXt0LmZvckVhY2goZT0+e2xldFtuLHtraW5kOml9XT1lLHI9dGhpcy5yZW1vdGVVc2VyTWFwLmdldChuKTtyJiYoci5kZWxldGUoaSksQXJyYXkuZnJvbShyLmVudHJpZXMoKSkubGVuZ3RoPT09MCYmdGhpcy5yZW1vdGVVc2VyTWFwLmRlbGV0ZShuKSk7fSk7fWFzeW5jIHVwZGF0ZUJpdHJhdGVMaW1pdCh0KXtsZXQgZT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KFUuTG9jYWxWaWRlb1RyYWNrKSxuPXRoaXMubG9jYWxUcmFja01hcC5nZXQoVS5Mb2NhbFZpZGVvTG93VHJhY2spO2UmJmF3YWl0IGUudHJhY2suc2V0Qml0cmF0ZUxpbWl0KHQudXBsaW5rKSxuJiZ0Lmxvd19zdHJlYW1fdXBsaW5rJiZhd2FpdCBuLnRyYWNrLnNldEJpdHJhdGVMaW1pdCh7bWF4X2JpdHJhdGU6dC5sb3dfc3RyZWFtX3VwbGluay5iaXRyYXRlLG1pbl9iaXRyYXRlOnQubG93X3N0cmVhbV91cGxpbmsuYml0cmF0ZXx8MH0pO31pc1AyUERpc2Nvbm5lY3RlZCgpe3JldHVybiB0aGlzLmNvbm5lY3Rpb24/dGhpcy5jb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uU3RhdGUhPT1cImNvbm5lY3RlZFwiOiEwfW1hcFB1YlJlc1RvUmVtb3RlQ29uZmlnKHQsZSl7cmV0dXJuIHQubWFwKChuLGkpPT57dmFyIHI7bGV0e3N0cmVhbV90eXBlOm99PW47cmV0dXJuIChyPWUuZmluZChzPT57bGV0e3N0cmVhbV90eXBlOmF9PXM7cmV0dXJuIG89PT1hfSkpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5hdHRyaWJ1dGVzfSl9YXN5bmMgdHJ5VG9Vbm11dGVBdWRpbyh0KXtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKylpZih0W25daW5zdGFuY2VvZiBRdCl7dmFyIGU7bGV0IGk9dGhpcy5maWx0ZXJUb2JlVW5tdXRlZFRyYWNrcyh0W25dKTtpZihpLmxlbmd0aD09PTApY29udGludWU7YXdhaXQoKGU9dGhpcy5jb25uZWN0aW9uKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUudW5tdXRlTG9jYWwoaS5tYXAobz0+e2xldFsse2lkOnN9XT1vO3JldHVybiBzfSkpKTtsZXQgcj10aGlzLmNyZWF0ZVVubXV0ZU1lc3NhZ2UoaSk7cmV0dXJuIHZvaWQgYXdhaXQga3QodGhpcyx0dC5SZXF1ZXN0VW5tdXRlTG9jYWwscil9fWJpbmRTdGF0c1VwbG9hZGVyRXZlbnRzKCl7dGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RTdGF0cz0oKT0+dGhpcy5nZXRTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0TG9jYWxNZWRpYT0oKT0+QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFJlbW90ZU1lZGlhPSgpPT5BcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0VmlkZW9Jc1JlYWR5PXQ9Pnt2YXIgZTtyZXR1cm4gISgoZT10aGlzLmNvbm5lY3Rpb24pPT09bnVsbHx8ZT09PXZvaWQgMHx8IWUuZ2V0UmVtb3RlVmlkZW9Jc1JlYWR5KHQpKX0sdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RVcGxvYWQ9KHQsZSk9PnRoaXMuZW1pdCh0dC5SZXF1ZXN0VXBsb2FkLHQsZSksdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RVcGxvYWRTdGF0cz10PT50aGlzLmVtaXQodHQuUmVxdWVzdFVwbG9hZFN0YXRzLHQpLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0QWxsVHJhY2tzPSgpPT50aGlzLmdldEFsbFRyYWNrcygpO311bmJpbmRTdGF0c1VwbG9hZGVyRXZlbnRzKCl7dGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RTdGF0cz12b2lkIDAsdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RMb2NhbE1lZGlhPXZvaWQgMCx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFJlbW90ZU1lZGlhPXZvaWQgMCx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFZpZGVvSXNSZWFkeT12b2lkIDA7fWFzeW5jIHJlcXVlc3RSZWNvbm5lY3QoKXt0aGlzLmR0bHNGYWlsZWRDb3VudCs9MSxhd2FpdCBNZShoZih0aGlzLmR0bHNGYWlsZWRDb3VudCxFZSkpLHRoaXMuZW1pdCh0dC5SZXF1ZXN0UmVjb25uZWN0KTt9YXN5bmMgcmVjb25uZWN0UDJQKCl7bGV0IHQ9QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKSxlPXRoaXMuY3JlYXRlR2F0ZXdheVVucHVibGlzaE1lc3NhZ2UodCk7QXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKSxlLmxlbmd0aD4wJiZhd2FpdCBHZSh0aGlzLHR0LlJlcXVlc3RVbnB1Ymxpc2hGb3JSZWNvbm5lY3RQQyxlKSx0aGlzLmRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QoKSx0aGlzLmVtaXQodHQuUmVxdWVzdFJlY29ubmVjdFBDKTt9Y2FuUHVibGlzaExvd1N0cmVhbSgpe3JldHVybiB0aGlzLmxvY2FsVHJhY2tNYXAuaGFzKFUuTG9jYWxWaWRlb1RyYWNrKXx8dGhpcy5wZW5kaW5nTG9jYWxUcmFja3Muc29tZSh0PT50IGluc3RhbmNlb2YgRnQpfXRocm93SWZUcmFja1R5cGVOb3RNYXRjaCh0KXtpZih0LmZpbHRlcihlPT5lIGluc3RhbmNlb2YgRnQpLmxlbmd0aD4xKXRocm93IG5ldyBOKFIuQ0FOX05PVF9QVUJMSVNIX01VTFRJUExFX1ZJREVPX1RSQUNLUyk7aWYodC5maWx0ZXIoZT0+ZSBpbnN0YW5jZW9mIFF0KS5sZW5ndGg+MSYmKHQuc29tZShlPT5lIGluc3RhbmNlb2YgUXQmJmUuX2J5cGFzc1dlYkF1ZGlvKXx8IWZ0KCkud2ViQXVkaW9NZWRpYVN0cmVhbURlc3QpKXRocm93IG5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW8gb3IgeW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBNZWRpYVN0cmVhbURlc3ROb2RlXCIpO2ZvcihsZXQgZSBvZiB0KXtpZihlIGluc3RhbmNlb2YgRnQmJnRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNvbWUobj0+biBpbnN0YW5jZW9mIEZ0KSl0aHJvdyBuZXcgTihSLkNBTl9OT1RfUFVCTElTSF9NVUxUSVBMRV9WSURFT19UUkFDS1MpO2lmKGUgaW5zdGFuY2VvZiBRdCYmdGhpcy5wZW5kaW5nTG9jYWxUcmFja3Muc29tZShuPT5uIGluc3RhbmNlb2YgUXQpJiYoIWZ0KCkud2ViQXVkaW9NZWRpYVN0cmVhbURlc3R8fGUuX2J5cGFzc1dlYkF1ZGlvfHx0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5zb21lKG49Pm4gaW5zdGFuY2VvZiBRdCYmbi5fYnlwYXNzV2ViQXVkaW8pKSl0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJjYW5ub3QgcHVibGlzaCBtdWx0aXBsZSB0cmFja3Mgd2hpY2ggb25lIG9mIHRoZW0gY29uZmlndXJlZCB3aXRoIGJ5cGFzc1dlYkF1ZGlvIG9yIHlvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgTWVkaWFTdHJlYW1EZXN0Tm9kZVwiKX19Z2V0TG93VmlkZW9UcmFjayh0LGUpe2xldCBuPSF2KFwiRElTQUJMRV9EVUFMX1NUUkVBTV9VU0VfRU5DT0RJTkdcIikmJmZ0KCkuc3VwcG9ydER1YWxTdHJlYW1FbmNvZGluZyxpPVppKFppKHt9LHt3aWR0aDoxNjAsaGVpZ2h0OjEyMCxmcmFtZXJhdGU6MTUsYml0cmF0ZTo1MH0pLGUpLHI7cj1uP3QuX21lZGlhU3RyZWFtVHJhY2suY2xvbmUoKTpkbSh0LGkpO2xldCBvPVV0KDgsXCJ0cmFjay1sb3ctXCIpLHM9bmV3IEZ0KHIsWmkoWmkoe30sbiYme3NjYWxlUmVzb2x1dGlvbkRvd25CeTpHRShpLHQpfSkse30se2ZyYW1lUmF0ZTppLmZyYW1lcmF0ZSxiaXRyYXRlTWF4OmkuYml0cmF0ZSxiaXRyYXRlTWluOmkuYml0cmF0ZX0pLHZvaWQgMCx2b2lkIDAsbyk7cmV0dXJuIHMub24oS28uVFJBTlNDRUlWRVJfVVBEQVRFRCxhPT57dC5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIoYSxuYS5MT1dfU1RSRUFNKTt9KSxzLl9oaW50cy5wdXNoKEd0LkxPV19TVFJFQU0pLHQub24oXCJzZWktdG8tc2VuZFwiLGE9PntzLmVtaXQoXCJzZWktdG8tc2VuZFwiLGEpO30pLHQuYWRkTGlzdGVuZXIoSC5ORUVEX0NMT1NFLCgpPT57cy5jbG9zZSgpO30pLHN9YXN5bmMgZ2xvYmFsTG9jaygpe3JldHVybiB0aGlzLm11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwuZ2xvYmFsTG9ja1wiKX1hc3luYyByZXBvcnRQQ1N0YXRzKHQsZSxuKXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXZvaWQgMD9hcmd1bWVudHNbM106bnVsbDtpZih0aGlzLmNvbm5lY3Rpb24mJnRoaXMuY29ubmVjdGlvbiBpbnN0YW5jZW9mIGtpKXt2YXIgcixvLHMsYTtsZXQgYz10aGlzLnN0b3JlLmtleU1ldHJpY3MuZGVzY3JpcHRpb25TdGFydHx8MCx7aWNlQ29ubmVjdGlvblN0YXRlOmQsZHRsc1RyYW5zcG9ydFN0YXRlOmwscGVlckNvbm5lY3Rpb25TdGF0ZTp1fT10aGlzLmNvbm5lY3Rpb24se2xvY2FsOmgscmVtb3RlOnB9PWF3YWl0IHRoaXMuY29ubmVjdGlvbi5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKTtYLnBjU3RhdHModGhpcy5zdG9yZS5zZXNzaW9uSWQse3N0YXJ0VGltZTpjLGV2ZW50RWxhcHNlOnQtY3x8MCxpY2Vjb25uZWN0aW9uc2F0ZTpkLGR0bHNzdGF0ZTpsLGNvbm5lY3Rpb25zdGF0ZTp1LGludFN1Y2M6ZT8xOjIsZXJyb3I6aSxzZWxlY3RlZExvY2FsQ2FuZGlkYXRlUHJvdG9jb2w6KHI9aD8ucHJvdG9jb2wpIT09bnVsbCYmciE9PXZvaWQgMD9yOlwiXCIsc2VsZWN0ZWRMb2NhbENhbmRpZGF0ZVR5cGU6KG89aC5jYW5kaWRhdGVUeXBlKSE9PW51bGwmJm8hPT12b2lkIDA/bzpcIlwiLHNlbGVjdGVkTG9jYWxDYW5kaWRhdGVBZGRyZXNzOlwiXCIuY29uY2F0KGguYWRkcmVzcyxcIjpcIikuY29uY2F0KGgucG9ydCksc2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVQcm90b2NvbDoocz1wLnByb3RvY29sKSE9PW51bGwmJnMhPT12b2lkIDA/czpcIlwiLHNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlVHlwZTooYT1wLmNhbmRpZGF0ZVR5cGUpIT09bnVsbCYmYSE9PXZvaWQgMD9hOlwiXCIsc2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVBZGRyZXNzOlwiXCIuY29uY2F0KHAuYWRkcmVzcyxcIjpcIikuY29uY2F0KHAucG9ydCkscmVzdGFydENudDpuLHByZWFsbG9jYXRpb246dGhpcy5jb25uZWN0aW9uLmlzUHJlYWxsb2NhdGlvbn0pO319cmVwb3J0VmlkZW9GaXJzdEZyYW1lRGVjb2RlZCh0LGUsbixpKXt2YXIgcjtsZXQgbz1BcnJheS5mcm9tKHhuKHI9dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKHIpKS5maW5kKHM9PnMuX3ZpZGVvU1NSQz09PXQpO2lmKG8pe2l8fHRoaXMuc3RvcmUuc3Vic2NyaWJlKG8udWlkLFwidmlkZW9cIix2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsRGF0ZS5ub3coKSk7bGV0IHM9dGhpcy5zdG9yZS5rZXlNZXRyaWNzLGE9cy5zdWJzY3JpYmUuZmluZChjPT5jLnVzZXJJZD09PW8udWlkJiZjLnR5cGU9PT1cInZpZGVvXCIpO1guZmlyc3RSZW1vdGVWaWRlb0RlY29kZSh0aGlzLnN0b3JlLnNlc3Npb25JZCxEZS5GSVJTVF9WSURFT19ERUNPREUsSnQuRklSU1RfVklERU9fREVDT0RFLHtwZWVyOm8uX3VpbnRpZCx2aWRlb3dpZHRoOmUsdmlkZW9oZWlnaHQ6bixzdWJzY3JpYmVFbGFwc2U6cWUubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLHQpLHN1YnNjcmliZVJlcXVlc3RpZDp0LHAycGlkOnRoaXMuc3RvcmUucDJwSWQsYXBFbmQ6cy5yZXF1ZXN0QVBFbmR8fDAsYXBTdGFydDpzLnJlcXVlc3RBUFN0YXJ0fHwwLGpvaW5Hd0VuZDpzLmpvaW5HYXRld2F5RW5kfHwwLGpvaW5Hd1N0YXJ0OnMuam9pbkdhdGV3YXlTdGFydHx8MCxwY0VuZDpzLnBlZXJDb25uZWN0aW9uRW5kfHwwLHBjU3RhcnQ6cy5wZWVyQ29ubmVjdGlvblN0YXJ0fHwwLHN1YnNjcmliZXJFbmQ6YT8uc3Vic2NyaWJlRW5kfHwwLHN1YnNjcmliZXJTdGFydDphPy5zdWJzY3JpYmVTdGFydHx8MCx2aWRlb0FkZE5vdGlmeTphPy5zdHJlYW1BZGRlZHx8MCxzdGF0ZTppPzE6MCxmaXJzdEZyYW1lOmE/LmZpcnN0RnJhbWV8fDB9KTt9fWFzeW5jIHJlbW90ZU1lZGlhU3NyY0NoYW5nZWQodCxlLG4pe2lmKCF0aGlzLmNvbm5lY3Rpb24pcmV0dXJuICExO2xldCBpPXRoaXMucmVtb3RlVXNlck1hcC5nZXQodCk7aWYoIWkpcmV0dXJuICExO2xldCByPWkuZ2V0KGUpO2lmKCFyKXJldHVybiAhMTtsZXQgbz1hd2FpdCB0aGlzLmNvbm5lY3Rpb24uZ2V0UmVtb3RlU1NSQyhyKTtyZXR1cm4gbyE9PXZvaWQgMCYmbyE9PW59dW5iaW5kUnRwVHJhbnNjZWl2ZXIoKXt0aGlzLmxvY2FsVHJhY2tNYXAuc2l6ZSE9PTAmJkFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZm9yRWFjaCh0PT57bGV0W2Use3RyYWNrOm59XT10O2U9PT1VLkxvY2FsVmlkZW9Mb3dUcmFjaz9uLl91cGRhdGVSdHBUcmFuc2NlaXZlcih2b2lkIDAsbmEuTE9XX1NUUkVBTSk6bi5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIodm9pZCAwKTt9KTt9cmVwb3J0UENEaXNjb25uZWN0ZWRPckZhaWxlZCh0KXt0aGlzLmNvbm5lY3Rpb24mJnRoaXMuY29ubmVjdGlvbiBpbnN0YW5jZW9mIGtpJiYodGhpcy5jb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSE9PVwiZGlzY29ubmVjdGVkXCImJnRoaXMuY29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUhPT1cImNoZWNraW5nXCImJnRoaXMuY29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUhPT1cImZhaWxlZFwifHwodGhpcy5faXNGaXJzdENvbm5lY3RlZD8odGhpcy5yZXBvcnRQQ1N0YXRzKERhdGUubm93KCksITEsdGhpcy5fcGNTdGF0c1VwbG9hZFR5cGUpLHRoaXMuX2lzRmlyc3RDb25uZWN0ZWQ9ITEpOnRoaXMuX3BjU3RhdHNVcGxvYWRUeXBlPT09VHIuVENQX1JFU1RBUlQmJnQ9PT1Pbi5SRUxBWT90aGlzLnJlcG9ydFBDU3RhdHMoRGF0ZS5ub3coKSwhMSx0aGlzLl9wY1N0YXRzVXBsb2FkVHlwZSk6dGhpcy5yZXBvcnRQQ1N0YXRzKERhdGUubm93KCksITEsVHIuRElTQ09OTkVDVEVEX09SX0ZBSUxFRCkpKTt9fSxxKGF0LnByb3RvdHlwZSxcInN0YXJ0UDJQQ29ubmVjdGlvblwiLFt0bl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhdC5wcm90b3R5cGUsXCJzdGFydFAyUENvbm5lY3Rpb25cIiksYXQucHJvdG90eXBlKSxxKGF0LnByb3RvdHlwZSxcImNvbm5lY3RcIixbdG5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXQucHJvdG90eXBlLFwiY29ubmVjdFwiKSxhdC5wcm90b3R5cGUpLHEoYXQucHJvdG90eXBlLFwidXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzXCIsW3RuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGF0LnByb3RvdHlwZSxcInVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllc1wiKSxhdC5wcm90b3R5cGUpLHEoYXQucHJvdG90eXBlLFwicHVibGlzaERhdGFDaGFubmVsXCIsW3RuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGF0LnByb3RvdHlwZSxcInB1Ymxpc2hEYXRhQ2hhbm5lbFwiKSxhdC5wcm90b3R5cGUpLHEoYXQucHJvdG90eXBlLFwidW5wdWJsaXNoXCIsW3RuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGF0LnByb3RvdHlwZSxcInVucHVibGlzaFwiKSxhdC5wcm90b3R5cGUpLHEoYXQucHJvdG90eXBlLFwidW5wdWJsaXNoRGF0YUNoYW5uZWxcIixbdG5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXQucHJvdG90eXBlLFwidW5wdWJsaXNoRGF0YUNoYW5uZWxcIiksYXQucHJvdG90eXBlKSxxKGF0LnByb3RvdHlwZSxcInVucHVibGlzaExvd1N0cmVhbVwiLFt0bl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhdC5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hMb3dTdHJlYW1cIiksYXQucHJvdG90eXBlKSxxKGF0LnByb3RvdHlwZSxcInN1YnNjcmliZURhdGFDaGFubmVsXCIsW3RuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGF0LnByb3RvdHlwZSxcInN1YnNjcmliZURhdGFDaGFubmVsXCIpLGF0LnByb3RvdHlwZSkscShhdC5wcm90b3R5cGUsXCJzdWJzY3JpYmVcIixbdG5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXQucHJvdG90eXBlLFwic3Vic2NyaWJlXCIpLGF0LnByb3RvdHlwZSkscShhdC5wcm90b3R5cGUsXCJtYXNzU3Vic2NyaWJlXCIsW3RuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGF0LnByb3RvdHlwZSxcIm1hc3NTdWJzY3JpYmVcIiksYXQucHJvdG90eXBlKSxxKGF0LnByb3RvdHlwZSxcInVuc3Vic2NyaWJlXCIsW3RuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGF0LnByb3RvdHlwZSxcInVuc3Vic2NyaWJlXCIpLGF0LnByb3RvdHlwZSkscShhdC5wcm90b3R5cGUsXCJ1bnN1YnNjcmliZURhdGFDaGFubmVsXCIsW3RuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGF0LnByb3RvdHlwZSxcInVuc3Vic2NyaWJlRGF0YUNoYW5uZWxcIiksYXQucHJvdG90eXBlKSxxKGF0LnByb3RvdHlwZSxcIm1hc3NVbnN1YnNjcmliZVwiLFt0bl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhdC5wcm90b3R5cGUsXCJtYXNzVW5zdWJzY3JpYmVcIiksYXQucHJvdG90eXBlKSxxKGF0LnByb3RvdHlwZSxcIm11dGVSZW1vdGVcIixbdG5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXQucHJvdG90eXBlLFwibXV0ZVJlbW90ZVwiKSxhdC5wcm90b3R5cGUpLHEoYXQucHJvdG90eXBlLFwidW5tdXRlUmVtb3RlXCIsW3RuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGF0LnByb3RvdHlwZSxcInVubXV0ZVJlbW90ZVwiKSxhdC5wcm90b3R5cGUpLHEoYXQucHJvdG90eXBlLFwiaGFzUmVtb3RlTWVkaWFXaXRoTG9ja1wiLFt0bl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhdC5wcm90b3R5cGUsXCJoYXNSZW1vdGVNZWRpYVdpdGhMb2NrXCIpLGF0LnByb3RvdHlwZSkscShhdC5wcm90b3R5cGUsXCJkaXNjb25uZWN0Rm9yUmVjb25uZWN0XCIsW3RuXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGF0LnByb3RvdHlwZSxcImRpc2Nvbm5lY3RGb3JSZWNvbm5lY3RcIiksYXQucHJvdG90eXBlKSxxKGF0LnByb3RvdHlwZSxcInVwZGF0ZUJpdHJhdGVMaW1pdFwiLFt0bl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhdC5wcm90b3R5cGUsXCJ1cGRhdGVCaXRyYXRlTGltaXRcIiksYXQucHJvdG90eXBlKSxxKGF0LnByb3RvdHlwZSxcInJlbW90ZU1lZGlhU3NyY0NoYW5nZWRcIixbdG5dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXQucHJvdG90eXBlLFwicmVtb3RlTWVkaWFTc3JjQ2hhbmdlZFwiKSxhdC5wcm90b3R5cGUpLGF0KTtmdW5jdGlvbiB0bih0LGUsbil7bGV0IGk9dFtlXTtpZih0eXBlb2YgaSE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgbXV0ZXggb24gb2JqZWN0IHByb3BlcnR5LlwiKTtyZXR1cm4gbi52YWx1ZT1hc3luYyBmdW5jdGlvbigpe2xldCByPXRoaXMubXV0ZXgsbz1hd2FpdCByLmxvY2soXCJGcm9tIFAyUENoYW5uZWwuXCIuY29uY2F0KGUpKTt0cnl7Zm9yKHZhciBzPWFyZ3VtZW50cy5sZW5ndGgsYT1uZXcgQXJyYXkocyksYz0wO2M8cztjKyspYVtjXT1hcmd1bWVudHNbY107cmV0dXJuIGF3YWl0IGkuYXBwbHkodGhpcyxhKX1maW5hbGx5e28oKTt9fSxufXZhciBDMD17fTtmdW5jdGlvbiBCYSh0KXsoIShhcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMCl8fGFyZ3VtZW50c1sxXSkmJl8uZGVidWcoXCJpbnN0YWxsIHNlcnZpY2UgXCIuY29uY2F0KHQubmFtZSkpLEMwW3QubmFtZV09dDt9ZnVuY3Rpb24gWmEodCl7bGV0IGU9QzBbdF07aWYoIWUpdGhyb3cgbmV3IE4oUi5JTlZBTElEX09QRVJBVElPTixcIlwiLmNvbmNhdCh0LFwiIG5vdCBmb3VuZCwgcGxlYXNlIHVzZSBBZ29yYVJUQy51c2UoXCIpLmNvbmNhdCh0LFwiU2VydmljZSkgdG8gbG9hZCBpdCBmaXJzdFwiKSk7cmV0dXJuIGV9ZnVuY3Rpb24gS3YodCxlKXtyZXR1cm4gWmEoXCJEYXRhU3RyZWFtXCIpLmNyZWF0ZSh0LGUpfWZ1bmN0aW9uIFl2KHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4saSk7fXJldHVybiBufWZ1bmN0aW9uIHF2KHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXSE9bnVsbD9hcmd1bWVudHNbZV06e307ZSUyP1l2KE9iamVjdChuKSwhMCkuZm9yRWFjaChmdW5jdGlvbihpKXtUKHQsaSxuW2ldKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpZdihPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24oaSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSkpO30pO31yZXR1cm4gdH12YXIgRVc9RGF0ZS5ub3coKSxtVz0yMCxobT1uZXcgTWFwLHdsPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gSTAodCl7bGV0IGU9aG0uZ2V0KHQpLG49QXJyYXkuaXNBcnJheShlKSYmZVtlLmxlbmd0aC0xXSxpPXdsLmdldCh0KTtpZighbilyZXR1cm4gdm9pZChpLmlzU3luY2luZz0hMSk7bGV0IHI9e3VpZDpuLnVpZCxwYXlsb2FkOm4ucGF5bG9hZH07aS5maXJzdFJlY3ZUcz09PTAmJihpLmZpcnN0UmVjdlRzPW4ucmVjdlRzLGkuZmlyc3RTZW5kVHM9bi5zZW5kVHMpO2xldCBvPW4uc2VuZFRzLWkuZmlyc3RTZW5kVHMscz1vLShEYXRlLm5vdygpLWkuZmlyc3RSZWN2VHMpO3M+MCYmKGkuZmlyc3RSZWN2VHM9RGF0ZS5ub3coKS1vKTtsZXQgYT1uLm1lZGlhRGVsYXkrczthPD0wPyhlLnBvcCgpLHYwKG4uY29udGV4dCxyKSxhPTApOmE9TWF0aC5taW4oYSxtVyksc2V0VGltZW91dCgoKT0+ZS5sZW5ndGgmJkkwKHQpLGEpO31mdW5jdGlvbiB2MCh0LGUpe3Quc2FmZUVtaXQodXQuU1RSRUFNX01FU1NBR0UsZS51aWQsZS5wYXlsb2FkKSx0Lm9uU3RyZWFtTWVzc2FnZSYmdC5vblN0cmVhbU1lc3NhZ2UoZSk7fWZ1bmN0aW9uIGZXKHQpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTowLG49YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7aWYoIXQuc3luY1dpdGhBdWRpbylyZXR1cm4gdjAobix7dWlkOnQudWlkLHBheWxvYWQ6dC5wYXlsb2FkfSk7bGV0IGk9XCJcIi5jb25jYXQobi5pZCxcIi1cIikuY29uY2F0KHQudWlkKSxyPWhtLmdldChpKXx8W10sbz1yLmZpbmRJbmRleChkPT50LnNlbmRUcz49ZC5zZW5kVHMpLHM9cXYocXYoe30sdCkse30se2NvbnRleHQ6bixtZWRpYURlbGF5OmUscmVjdlRzOkRhdGUubm93KCl9KTtvPT09LTE/ci5wdXNoKHMpOnIuc3BsaWNlKG8sMCxzKSxobS5zZXQoaSxyKTtsZXQgYT0hMTt2YXIgYzt3bC5oYXMoaSk/YT0hKChjPXdsLmdldChpKSk9PT1udWxsfHxjPT09dm9pZCAwfHwhYy5pc1N5bmNpbmcpOndsLnNldChpLHtpc1N5bmNpbmc6YSxmaXJzdFJlY3ZUczowLGZpcnN0U2VuZFRzOjB9KSxhfHxJMChpKTt9dmFyIGdXPW10KCkubmFtZTtmdW5jdGlvbiB6dih0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiBKdih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj96dihPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6enYoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9dmFyIHpzPVwid2Vic2RrX25nX2NhY2hlX3BhcmFtZXRlclwiLFRXPXYoXCJNQVhfUFJFTE9BRF9BU1lOQ19MRU5HVEhcIiksU1c9MWU0LE1vPW5ldyBNYXAsVW89W10sZl89bnVsbCxnXz0wLFRfPTAsWGQ9bmV3IE1hcCxSVz1mdW5jdGlvbih0LGUpe2xldCBuPVtdLGk9MCxyPWFzeW5jKCk9PntsZXQgbz1uLnNoaWZ0KCk7byYmYXdhaXQgbygpLG4ubGVuZ3RoPjAmJmk8ZT9yKCk6aS0tO307cmV0dXJuIGFzeW5jIGZ1bmN0aW9uKCl7Zm9yKHZhciBvPWFyZ3VtZW50cy5sZW5ndGgscz1uZXcgQXJyYXkobyksYT0wO2E8bzthKyspc1thXT1hcmd1bWVudHNbYV07cmV0dXJuIG5ldyBqKGFzeW5jKGMsZCk9PntuLnB1c2goYXN5bmMoKT0+e3RyeXtsZXQgbD1hd2FpdCB0KC4uLnMpO2MobCk7fWNhdGNoKGwpe2QobCk7fX0pLGk8ZSYmKGkrKyxyKCkpO30pfX0oeTAsVFcpLFNfPW1uLkNhbmNlbFRva2VuLnNvdXJjZSgpO2FzeW5jIGZ1bmN0aW9uIHkwKHQsZSxuLGkscixvKXt0cnl7aWYoIXYoXCJFTkFCTEVfUFJFTE9BRFwiKSlyZXR1cm47aWYoIWZ0KCkuc3VwcG9ydFdlYkNyeXB0bylyZXR1cm4gdm9pZCBwbygoKT0+e18ud2FybihcIllvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHByZWxvYWRpbmcsIHRoaXMgZmVhdHVyZSAgYmUgcnVuIGluIGEgc2VjdXJlIGVudmlyb25tZW50XCIpO30sXCJwcmVsb2FkX3dlYmNyeXB0b19ub3Rfc3VwcG9ydGVkXCIpO2lmKCFuJiZuIT09bnVsbCl0aHJvdyBuZXcgTihSLklOVkFMSURfUEFSQU1TLFwiSW52YWxpZCB0b2tlbjogXCIuY29uY2F0KG4sXCIuIElmIHlvdSBkb24gbm90IHVzZSB0b2tlbiwgc2V0IGl0IHRvIG51bGxcIikpO24mJlBlKG4sXCJ0b2tlblwiLDEsMjA0NyksUGUodCxcImFwcGlkXCIsMSwyMDQ3KSxYdShlKSxpJiZRdShpKTtsZXQgcz1NcygpO18uZGVidWcoXCJwcmVsb2FkIGNoYW5uZWwgXCIuY29uY2F0KGUsXCIsIHVpZCBpcyBcIikuY29uY2F0KGkpKTtsZXQgYT17YXBwSWQ6dCxjbmFtZTplLHRva2VuOm58fHQsdWlkOnR5cGVvZiBpIT1cInN0cmluZ1wiP2k6bnVsbCxzaWQ6cyxwcm94eVNlcnZlcjpyfSxjLGQ7dHlwZW9mIGk9PVwic3RyaW5nXCI/KGEuc3RyaW5nVWlkPWksW2QsY109YXdhaXQgai5hbGwoW1lHKGkse3NpZDpzLGFwcElkOnR9LFNfLnRva2VuKSxldihKdihKdih7fSxhKSx7fSx7dG9rZW46bnx8dCx1aWQ6MH0pLFNfLnRva2VuKV0pLGEudWlkPWQudWlkLGMuZ2F0ZXdheUluZm8udWlkPWEudWlkLGMuZ2F0ZXdheUluZm8ucmVzLnVpZD1hLnVpZCk6KG8mJihhLnN0cmluZ1VpZD1vKSxjPWF3YWl0IGV2KGEsU18udG9rZW4pKTtsZXQgbD17c2lkOnMsYXBwSWQ6dCxjbmFtZTplLHRva2VuOm58fHQsdWlkOmEuc3RyaW5nVWlkfHxpLGludFVpZDphLnVpZHx8Yy5nYXRld2F5SW5mby51aWQsc3RyaW5nVWlkOmEuc3RyaW5nVWlkLHRzOkRhdGUubm93KCksc3VhOmQsYXA6Y307YXdhaXQgYXN5bmMgZnVuY3Rpb24odSl7bGV0IGg7dHJ5e3UudWlkJiZBMCh7YXBwSWQ6dS5hcHBJZCxjbmFtZTp1LmNuYW1lLHRva2VuOnUudG9rZW4sdWlkOnUudWlkLHN0cmluZ1VpZDp1LnN0cmluZ1VpZH0pO2xldCBwPU8wKHUpLGc9YXdhaXQgYXN5bmMgZnVuY3Rpb24oZixTKXt0cnl7bGV0IEM9YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KFwicmF3XCIseU8oUyksXCJBRVMtR0NNXCIsITEsW1wiZW5jcnlwdFwiXSksQT1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5lbmNyeXB0KHtuYW1lOlwiQUVTLUdDTVwiLGl2Om5ldyBVaW50OEFycmF5KDEpfSxDLEZvKHdpbmRvdy5idG9hKEpTT04uc3RyaW5naWZ5KGYpKSkpO3JldHVybiBzbyhuZXcgVWludDhBcnJheShBKSl9Y2F0Y2h7cmV0dXJufX0odSx1LnRva2VufHx1LmFwcElkKTtpZighZylyZXR1cm47aD13MCh6cyk7bGV0IEU9aD9KU09OLnBhcnNlKGgpOltdO0UucHVzaCh7W3BdOmd9KSxFLmxlbmd0aD52KFwiQVBfQ0FDSEVfTlVNXCIpJiZFLnNoaWZ0KCksZ3UoenMsSlNPTi5zdHJpbmdpZnkoRSkpO31jYXRjaChwKXtfLndhcm4oXCJFcnJvciBjYWNoaW5nIHNlcnZlciBwYXJhbWV0ZXJzOlwiLHAubWVzc2FnZSksZ3UoenMsXCJcIik7fX0obCksZ18rKzt9Y2F0Y2gocyl7dGhyb3cgVF8rKyxmdW5jdGlvbihhKXtmX3x8KGZfPXdpbmRvdy5zZXRUaW1lb3V0KCgpPT57bGV0IGQ9XCJcIjtYZC5mb3JFYWNoKChsLHUpPT57ZCs9XCJcIi5jb25jYXQodSxcIjogXCIpLmNvbmNhdChsLFwiIDtcIik7fSksWC5yZXBvcnRBcGlJbnZva2UobnVsbCx7bmFtZTpUZS5QUkVMT0FELG9wdGlvbnM6e3N1Y2Nlc3M6Z18sZmFpbGVkOlRfLGVycjpkfX0pLm9uRXJyb3IoYSksZ189MCxUXz0wLFhkLmNsZWFyKCksZl89bnVsbDt9LFNXKSk7bGV0IGM9WGQuZ2V0KGEuY29kZSl8fDA7WGQuc2V0KGEuY29kZSxjKzEpO30ocyksc319YXN5bmMgZnVuY3Rpb24gWHYodCl7dHJ5e2xldCBlPUEwKHQpO2lmKCFlfHx0LmNsb3VkUHJveHlTZXJ2ZXIhPT1cImRpc2FibGVkXCIpcmV0dXJuO2xldCBuPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGkscil7dHJ5e2xldCBvPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmltcG9ydEtleShcInJhd1wiLHlPKHIpLFwiQUVTLUdDTVwiLCExLFtcImRlY3J5cHRcIl0pLHM9YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuZGVjcnlwdCh7bmFtZTpcIkFFUy1HQ01cIixpdjpuZXcgVWludDhBcnJheSgxKX0sbyxGbyhpKSk7cmV0dXJuIEpTT04ucGFyc2Uod2luZG93LmF0b2Ioc28obmV3IFVpbnQ4QXJyYXkocykpKSl9Y2F0Y2h7cmV0dXJufX0oZSx0LnRva2VufHx0LmFwcElkKTtpZighbnx8IWZ1bmN0aW9uKGkscil7cmV0dXJuIGkuY25hbWU9PT1yLmNuYW1lJiZpLmFwcElkPT09ci5hcHBJZCYmaS50b2tlbj09PXIudG9rZW4/ci5zdHJpbmdVaWQ/aS5zdHJpbmdVaWQ9PT1yLnN0cmluZ1VpZDp0eXBlb2Ygci51aWQ9PVwibnVtYmVyXCI/aS51aWQ9PT1yLnVpZDppLnVpZD09ci51aWQ6ITF9KG4sdCkpcmV0dXJuO2lmKG4mJkRhdGUubm93KCktbi50czx2KFwiQVBfQ0FDSEVfTElGRVRJTUVcIikpcmV0dXJuIG59Y2F0Y2goZSl7Xy53YXJuKFwiRXJyb3IgZ2V0IHByZWxvYWRJbmZvXCIsZS5tZXNzYWdlKTt9fWZ1bmN0aW9uIEEwKHQpe2xldCBlO3RyeXtpZihlPXcwKHpzKSwhZSlyZXR1cm47bGV0IG49SlNPTi5wYXJzZShlKSxpPU8wKHQpLHI9ZnVuY3Rpb24ocyxhKXtmb3IobGV0IGM9cy5sZW5ndGgtMTtjPj0wO2MtLSlpZihhKHNbY10pKXJldHVybiBjO3JldHVybiAtMX0obixzPT5pIGluIHMpO2lmKHI9PT0tMSlyZXR1cm47bGV0IG89bi5zcGxpY2UociwxKVswXTtyZXR1cm4gZ3UoenMsSlNPTi5zdHJpbmdpZnkobikpLG9baV19Y2F0Y2gobil7Xy53YXJuKFwiRXJyb3IgZGVsZXRlIHByZWxvYWQgaW5mbzogXCIuY29uY2F0KGUpLG4ubWVzc2FnZSksZ3UoenMsXCJcIik7fX1mdW5jdGlvbiBEZih0KXtpZih0KXtsZXQgZT1Nby5nZXQodCk7ZSYmKHdpbmRvdy5jbGVhclRpbWVvdXQoZSksZT1udWxsLE1vLmRlbGV0ZSh0KSksVyhVbykuY2FsbChVbyx0KXx8dC5jbG91ZFByb3h5U2VydmVyIT09XCJkaXNhYmxlZFwifHxVby5wdXNoKHQpO31pZihNby5zaXplPHYoXCJBUF9DQUNIRV9OVU1cIikmJlVvLmxlbmd0aD4wKXtsZXQgZT1Vby5zaGlmdCgpO01vLnNldChlLHdpbmRvdy5zZXRUaW1lb3V0KGFzeW5jKCk9PntsZXR7YXBwSWQ6bixjbmFtZTppLHRva2VuOnIsc3RyaW5nVWlkOm8sdWlkOnMscHJveHlTZXJ2ZXI6YX09ZTt0cnl7YXdhaXQgUlcobixpLHIscyxhLG8pLE1vLmhhcyhlKSYmRGYoZSk7fWNhdGNoKGMpe18ud2FybihcInVwZGF0ZSBwcmVsb2FkIGZhaWxlZFwiLGMubWVzc2FnZSksYjAoZSk7fX0sdihcIkFQX1VQREFURV9JTlRFUlZBTFwiKSkpO319ZnVuY3Rpb24gYjAodCl7bGV0IGU9VW8uaW5kZXhPZih0KTtlIT09LTEmJlVvLnNwbGljZShlLDEpO2xldCBuPU1vLmdldCh0KTtuJiYod2luZG93LmNsZWFyVGltZW91dChuKSxuPW51bGwsTW8uZGVsZXRlKHQpLERmKCkpO31mdW5jdGlvbiBRdih0LGUpe2xldCBuPXQuc3VhLGk9dC5hcDtlJiZuJiZYLnJlcVVzZXJBY2NvdW50KHQuc2lkLHtsdHM6bi5yZXF1ZXN0VGltZSxlbGFwc2U6bi5lbGFwc2Usc3VjY2VzczohMCxzZXJ2ZXJBZGRyOm4udXJsLHN0cmluZ1VpZDplLHVpZDp0LmludFVpZCxlcnJvckNvZGU6bnVsbCxleHRlbmQ6bi5yZXF9KSxYLnJlcG9ydFJlc291cmNlVGltaW5nKHQuYXAudXJsLHQuc2lkKSxYLmpvaW5XZWJQcm94eUFQKHQuc2lkLHtsdHM6aS5yZXF1ZXN0VGltZSxlbGFwc2U6aS5lbGFwc2Usc3VjZXNzOjEsYXBTZXJ2ZXJBZGRyOmkudXJsLHR1cm5TZXJ2ZXJBZGRyTGlzdDppLnByb3h5SW5mby5hZGRyZXNzZXMubWFwKHI9PnIuaXApLmpvaW4oXCIsXCIpLGV2ZW50VHlwZTpcImRpc2FibGVkXCIsdW5pbGJzU2VydmVySWRzOlt1ZS5DSE9PU0VfU0VSVkVSLHVlLkNMT1VEX1BST1hZX0ZBTExCQUNLXS50b1N0cmluZygpfSksWC5qb2luQ2hvb3NlU2VydmVyKHQuc2lkLHtsdHM6aS5yZXF1ZXN0VGltZSxlbGFwc2U6aS5lbGFwc2Usc3VjYzohMCxjc0FkZHI6aS51cmwsb3BpZDppLm9waWQsc2VydmVyTGlzdDppLmdhdGV3YXlJbmZvLmdhdGV3YXlBZGRycy5tYXAocj0+ci5hZGRyZXNzKSxlYzpudWxsLGNpZDppLmdhdGV3YXlJbmZvLmNpZC50b1N0cmluZygpLHVpZDppLmdhdGV3YXlJbmZvLnVpZC50b1N0cmluZygpLGNzSXA6aS5nYXRld2F5SW5mby5jc0lwLHVuaWxic1NlcnZlcklkczpbdWUuQ0hPT1NFX1NFUlZFUl0udG9TdHJpbmcoKSxpc0h0dHAzOmkuaXNIdHRwM30pO31mdW5jdGlvbiB3MCh0KXtyZXR1cm4gd2luZG93LmF0b2Iod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHQpfHxcIlwiKX1mdW5jdGlvbiBndSh0LGUpe3dpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0LHdpbmRvdy5idG9hKGUpKTt9ZnVuY3Rpb24gTzAodCl7bGV0IGU9XCJcIi5jb25jYXQodC5hcHBJZCxcIl9cIikuY29uY2F0KHQuY25hbWUpO3JldHVybiB0eXBlb2YgdC51aWQ9PVwic3RyaW5nXCImJihlKz1cIl9zX1wiLmNvbmNhdCh0LnVpZCkpLHR5cGVvZiB0LnVpZD09XCJudW1iZXJcIiYmKGUrPVwiX1wiLmNvbmNhdCh0LnVpZCkpLHQudG9rZW4mJihlKz1cIl9cIi5jb25jYXQodC50b2tlbikpLGJPKGUpfWZ1bmN0aW9uIENXKHQpe2xldCBlPWZ1bmN0aW9uKCl7bGV0IG49eVcucG9wKCk7cmV0dXJuIG4/KG4ub2Zmc2V0PW4ubGltaXQ9MCxuKTp7Ynl0ZXM6bmV3IFVpbnQ4QXJyYXkoNjQpLG9mZnNldDowLGxpbWl0OjB9fSgpO3JldHVybiBmdW5jdGlvbihuLGkpe2xldCByPW4uYXBwSWQ7ciE9PXZvaWQgMCYmKGRlKGksMTApLEhyKGkscikpO2xldCBvPW4uY2lkO28hPT12b2lkIDAmJihkZShpLDE2KSxkZShpLG8pKTtsZXQgcz1uLmNuYW1lO3MhPT12b2lkIDAmJihkZShpLDI2KSxIcihpLHMpKTtsZXQgYT1uLmRldmljZUlkO2EhPT12b2lkIDAmJihkZShpLDM0KSxIcihpLGEpKTtsZXQgYz1uLmVsYXBzZTtjIT09dm9pZCAwJiYoZGUoaSw0MCksS3IoaSxjKSk7bGV0IGQ9bi5maWxlU2l6ZTtkIT09dm9pZCAwJiYoZGUoaSw0OCksS3IoaSxTcyhkKSkpO2xldCBsPW4uaGVpZ2h0O2whPT12b2lkIDAmJihkZShpLDU2KSxLcihpLFNzKGwpKSk7bGV0IHU9bi5qcGc7dSE9PXZvaWQgMCYmKGRlKGksNjYpLGRlKGksdS5sZW5ndGgpLFp2KGksdSkpO2xldCBoPW4ubmV0d29ya1R5cGU7aCE9PXZvaWQgMCYmKGRlKGksNzIpLEtyKGksU3MoaCkpKTtsZXQgcD1uLm9zVHlwZTtwIT09dm9pZCAwJiYoZGUoaSw4MCksS3IoaSxTcyhwKSkpO2xldCBnPW4ucmVxdWVzdElkO2chPT12b2lkIDAmJihkZShpLDkwKSxIcihpLGcpKTtsZXQgRT1uLnNka1ZlcnNpb247RSE9PXZvaWQgMCYmKGRlKGksOTgpLEhyKGksRSkpO2xldCBmPW4uc2VxdWVuY2U7ZiE9PXZvaWQgMCYmKGRlKGksMTA0KSxLcihpLFNzKGYpKSk7bGV0IFM9bi5zaWQ7UyE9PXZvaWQgMCYmKGRlKGksMTE0KSxIcihpLFMpKTtsZXQgQz1uLnRpbWVzdGFtcDtDIT09dm9pZCAwJiYoZGUoaSwxMjApLEtyKGksQykpO2xldCBBPW4udWlkO0EhPT12b2lkIDAmJihkZShpLDEyOCksZGUoaSxBKSk7bGV0IGI9bi52aWQ7YiE9PXZvaWQgMCYmKGRlKGksMTM2KSxkZShpLGIpKTtsZXQgdz1uLndpZHRoO3chPT12b2lkIDAmJihkZShpLDE0NCksS3IoaSxTcyh3KSkpO2xldCBEPW4uc2VydmljZTtEIT09dm9pZCAwJiYoZGUoaSwxNTIpLGRlKGksRCkpO2xldCBrPW4uY2FsbGJhY2tEYXRhO2shPT12b2lkIDAmJihkZShpLDE2MiksZGUoaSxrLmxlbmd0aCksWnYoaSxrKSk7bGV0IEI9bi50aWNrZXQ7QiE9PXZvaWQgMCYmKGRlKGksMTcwKSxIcihpLEIpKTtsZXQgVj1uLnZlbmRvckNvbmZpZ3M7ViE9PXZvaWQgMCYmKGRlKGksMTc4KSxIcihpLFYpKTt9KHQsZSksZnVuY3Rpb24obil7bGV0IGk9bi5ieXRlcyxyPW4ubGltaXQ7cmV0dXJuIGkubGVuZ3RoPT09cj9pOmkuc3ViYXJyYXkoMCxyKX0oZSl9ZnVuY3Rpb24gSVcodCl7cmV0dXJuIGZ1bmN0aW9uKG4pe2xldCBpPXt9O3Q6Zm9yKDshQVcobik7KXtsZXQgcj0kYShuKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMDpicmVhayB0O2Nhc2UgMTppLmNvZGU9JGEobik7YnJlYWs7Y2FzZSAyOmkubXNnPSR2KG4sJGEobikpO2JyZWFrO2Nhc2UgMzppLnJlcXVlc3RJZD0kdihuLCRhKG4pKTticmVhaztjYXNlIDQ6aS50aW1lc3RhbXA9YlcobiwhMSk7YnJlYWs7ZGVmYXVsdDp2VyhuLDcmcik7fX1yZXR1cm4gaX0oe2J5dGVzOmU9dCxvZmZzZXQ6MCxsaW1pdDplLmxlbmd0aH0pO3ZhciBlO31mdW5jdGlvbiB2Vyh0LGUpe3N3aXRjaChlKXtjYXNlIDA6Zm9yKDsxMjgmZ2kodCk7KTticmVhaztjYXNlIDI6Ul8odCwkYSh0KSk7YnJlYWs7Y2FzZSA1OlJfKHQsNCk7YnJlYWs7Y2FzZSAxOlJfKHQsOCk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmltcGxlbWVudGVkIHR5cGU6IFwiK2UpfX1mdW5jdGlvbiBTcyh0KXtyZXR1cm4ge2xvdzp0fD0wLGhpZ2g6dD4+MzEsdW5zaWduZWQ6dD49MH19dmFyIHlXPVtdO2Z1bmN0aW9uIFJfKHQsZSl7aWYodC5vZmZzZXQrZT50LmxpbWl0KXRocm93IG5ldyBFcnJvcihcIlNraXAgcGFzdCBsaW1pdFwiKTt0Lm9mZnNldCs9ZTt9ZnVuY3Rpb24gQVcodCl7cmV0dXJuIHQub2Zmc2V0Pj10LmxpbWl0fWZ1bmN0aW9uICR1KHQsZSl7bGV0IG49dC5ieXRlcyxpPXQub2Zmc2V0LHI9dC5saW1pdCxvPWkrZTtpZihvPm4ubGVuZ3RoKXtsZXQgcz1uZXcgVWludDhBcnJheSgyKm8pO3Muc2V0KG4pLHQuYnl0ZXM9czt9cmV0dXJuIHQub2Zmc2V0PW8sbz5yJiYodC5saW1pdD1vKSxpfWZ1bmN0aW9uIE4wKHQsZSl7bGV0IG49dC5vZmZzZXQ7aWYobitlPnQubGltaXQpdGhyb3cgbmV3IEVycm9yKFwiUmVhZCBwYXN0IGxpbWl0XCIpO3JldHVybiB0Lm9mZnNldCs9ZSxufWZ1bmN0aW9uIFp2KHQsZSl7bGV0IG49JHUodCxlLmxlbmd0aCk7dC5ieXRlcy5zZXQoZSxuKTt9ZnVuY3Rpb24gJHYodCxlKXtsZXQgbj1OMCh0LGUpLGk9U3RyaW5nLmZyb21DaGFyQ29kZSxyPXQuYnl0ZXMsbz1cIlxcdUZGRkRcIixzPVwiXCI7Zm9yKGxldCBhPTA7YTxlO2ErKyl7bGV0IGMsZCxsLHUsaD1yW2Erbl07MTI4Jmg/KDIyNCZoKT09MTkyP2ErMT49ZT9zKz1vOihjPXJbYStuKzFdLCgxOTImYykhPTEyOD9zKz1vOih1PSgzMSZoKTw8Nnw2MyZjLHU8MTI4P3MrPW86KHMrPWkodSksYSsrKSkpOigyNDAmaCk9PTIyND9hKzI+PWU/cys9bzooYz1yW2ErbisxXSxkPXJbYStuKzJdLCg0OTM0NCYoY3xkPDw4KSkhPTMyODk2P3MrPW86KHU9KDE1JmgpPDwxMnwoNjMmYyk8PDZ8NjMmZCx1PDIwNDh8fHU+PTU1Mjk2JiZ1PD01NzM0Mz9zKz1vOihzKz1pKHUpLGErPTIpKSk6KDI0OCZoKT09MjQwP2ErMz49ZT9zKz1vOihjPXJbYStuKzFdLGQ9clthK24rMl0sbD1yW2ErbiszXSwoMTI2MzIyNTYmKGN8ZDw8OHxsPDwxNikpIT04NDIxNTA0P3MrPW86KHU9KDcmaCk8PDE4fCg2MyZjKTw8MTJ8KDYzJmQpPDw2fDYzJmwsdTw2NTUzNnx8dT4xMTE0MTExP3MrPW86KHUtPTY1NTM2LHMrPWkoNTUyOTYrKHU+PjEwKSw1NjMyMCsoMTAyMyZ1KSksYSs9MykpKTpzKz1vOnMrPWkoaCk7fXJldHVybiBzfWZ1bmN0aW9uIEhyKHQsZSl7bGV0IG49ZS5sZW5ndGgsaT0wO2ZvcihsZXQgcz0wO3M8bjtzKyspe2xldCBhPWUuY2hhckNvZGVBdChzKTthPj01NTI5NiYmYTw9NTYzMTkmJnMrMTxuJiYoYT0oYTw8MTApK2UuY2hhckNvZGVBdCgrK3MpLTU2NjEzODg4KSxpKz1hPDEyOD8xOmE8MjA0OD8yOmE8NjU1MzY/Mzo0O31kZSh0LGkpO2xldCByPSR1KHQsaSksbz10LmJ5dGVzO2ZvcihsZXQgcz0wO3M8bjtzKyspe2xldCBhPWUuY2hhckNvZGVBdChzKTthPj01NTI5NiYmYTw9NTYzMTkmJnMrMTxuJiYoYT0oYTw8MTApK2UuY2hhckNvZGVBdCgrK3MpLTU2NjEzODg4KSxhPDEyOD9vW3IrK109YTooYTwyMDQ4P29bcisrXT1hPj42JjMxfDE5MjooYTw2NTUzNj9vW3IrK109YT4+MTImMTV8MjI0OihvW3IrK109YT4+MTgmN3wyNDAsb1tyKytdPWE+PjEyJjYzfDEyOCksb1tyKytdPWE+PjYmNjN8MTI4KSxvW3IrK109NjMmYXwxMjgpO319ZnVuY3Rpb24gZ2kodCl7cmV0dXJuIHQuYnl0ZXNbTjAodCwxKV19ZnVuY3Rpb24gdHkodCxlKXtsZXQgbj0kdSh0LDEpO3QuYnl0ZXNbbl09ZTt9ZnVuY3Rpb24gJGEodCl7bGV0IGUsbj0wLGk9MDtkbyBlPWdpKHQpLG48MzImJihpfD0oMTI3JmUpPDxuKSxuKz03O3doaWxlKDEyOCZlKTtyZXR1cm4gaX1mdW5jdGlvbiBkZSh0LGUpe2ZvcihlPj4+PTA7ZT49MTI4Oyl0eSh0LDEyNyZlfDEyOCksZT4+Pj03O3R5KHQsZSk7fWZ1bmN0aW9uIGJXKHQsZSl7bGV0IG4saT0wLHI9MCxvPTA7cmV0dXJuIG49Z2kodCksaT0xMjcmbiwxMjgmbiYmKG49Z2kodCksaXw9KDEyNyZuKTw8NywxMjgmbiYmKG49Z2kodCksaXw9KDEyNyZuKTw8MTQsMTI4Jm4mJihuPWdpKHQpLGl8PSgxMjcmbik8PDIxLDEyOCZuJiYobj1naSh0KSxyPTEyNyZuLDEyOCZuJiYobj1naSh0KSxyfD0oMTI3Jm4pPDw3LDEyOCZuJiYobj1naSh0KSxyfD0oMTI3Jm4pPDwxNCwxMjgmbiYmKG49Z2kodCkscnw9KDEyNyZuKTw8MjEsMTI4Jm4mJihuPWdpKHQpLG89MTI3Jm4sMTI4Jm4mJihuPWdpKHQpLG98PSgxMjcmbik8PDcpKSkpKSkpKSkse2xvdzppfHI8PDI4LGhpZ2g6cj4+PjR8bzw8MjQsdW5zaWduZWQ6ZX19ZnVuY3Rpb24gS3IodCxlKXtsZXQgbj1lLmxvdz4+PjAsaT0oZS5sb3c+Pj4yOHxlLmhpZ2g8PDQpPj4+MCxyPWUuaGlnaD4+PjI0LG89cj09PTA/aT09PTA/bjwxNjM4ND9uPDEyOD8xOjI6bjwxPDwyMT8zOjQ6aTwxNjM4ND9pPDEyOD81OjY6aTwxPDwyMT83Ojg6cjwxMjg/OToxMCxzPSR1KHQsbyksYT10LmJ5dGVzO3N3aXRjaChvKXtjYXNlIDEwOmFbcys5XT1yPj4+NyYxO2Nhc2UgOTphW3MrOF09byE9PTk/MTI4fHI6MTI3JnI7Y2FzZSA4OmFbcys3XT1vIT09OD9pPj4+MjF8MTI4Omk+Pj4yMSYxMjc7Y2FzZSA3OmFbcys2XT1vIT09Nz9pPj4+MTR8MTI4Omk+Pj4xNCYxMjc7Y2FzZSA2OmFbcys1XT1vIT09Nj9pPj4+N3wxMjg6aT4+PjcmMTI3O2Nhc2UgNTphW3MrNF09byE9PTU/MTI4fGk6MTI3Jmk7Y2FzZSA0OmFbcyszXT1vIT09ND9uPj4+MjF8MTI4Om4+Pj4yMSYxMjc7Y2FzZSAzOmFbcysyXT1vIT09Mz9uPj4+MTR8MTI4Om4+Pj4xNCYxMjc7Y2FzZSAyOmFbcysxXT1vIT09Mj9uPj4+N3wxMjg6bj4+PjcmMTI3O2Nhc2UgMTphW3NdPW8hPT0xPzEyOHxuOjEyNyZuO319dmFyIGV5PXt9LG55PXt9LFR1PTQyOTQ5NjcyOTYsRDA9VHUqVHUsaXk9RDAvMjtQMCgwLCEwKTt2YXIgcnk9UDAoMCksd1c9c2EoMCwtMjE0NzQ4MzY0OCwhMSksT1c9c2EoLTEsMjE0NzQ4MzY0NywhMSk7ZnVuY3Rpb24gUDAodCxlKXtsZXQgbixpLHI7cmV0dXJuIGU/KHI9MDw9KHQ+Pj49MCkmJnQ8MjU2KSYmKGk9bnlbdF0saSk/aToobj1zYSh0LDAsITApLHImJihueVt0XT1uKSxuKToocj0tMTI4PD0odHw9MCkmJnQ8MTI4KSYmKGk9ZXlbdF0saSk/aToobj1zYSh0LHQ8MD8tMTowLCExKSxyJiYoZXlbdF09biksbil9ZnVuY3Rpb24gc2EodCxlLG4pe3JldHVybiB7bG93OjB8dCxoaWdoOjB8ZSx1bnNpZ25lZDohIW59fWZ1bmN0aW9uIERXKHQsZSl7aWYoaXNOYU4odCkpcmV0dXJuIHJ5O3tpZih0PD0taXkpcmV0dXJuIHdXO2lmKHQrMT49aXkpcmV0dXJuIE9XfXJldHVybiB0PDA/cnk6c2EodCVUdXwwLHQvVHV8MCxlKX1mdW5jdGlvbiBveSh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn12YXIgcG09Y2xhc3MgdCBleHRlbmRzIFh0e2dldCBjb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5fY29ubmVjdGlvblN0YXRlfXNldCBjb25uZWN0aW9uU3RhdGUoZSl7aWYodGhpcy5fY29ubmVjdGlvblN0YXRlPT09ZSlyZXR1cm47bGV0IG49dGhpcy5fY29ubmVjdGlvblN0YXRlO3RoaXMuX2Nvbm5lY3Rpb25TdGF0ZT1lLHRoaXMuZW1pdChNaS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSxlLG4pO31nZXQgcXVhbGl0eSgpe3JldHVybiB0aGlzLl9xdWFsaXR5fXNldCBxdWFsaXR5KGUpe3RoaXMuX3F1YWxpdHk9ZT4xPzE6ZTwuMT8uMTplLHRoaXMuX3F1YWxpdHlUaW1lciYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fcXVhbGl0eVRpbWVyKSx0aGlzLl9xdWFsaXR5VGltZXI9bnVsbCksdGhpcy5fcXVhbGl0eT49MXx8KHRoaXMuX3F1YWxpdHlUaW1lcj13aW5kb3cuc2V0VGltZW91dCgoKT0+e3RoaXMucXVhbGl0eT10aGlzLl9xdWFsaXR5L3RoaXMuX3F1YWxpdHlSYXRpbzt9LDZlNCkpO31jb25zdHJ1Y3RvcihlKXt2YXIgbjtzdXBlcigpLFQodGhpcyxcIm5hbWVcIixcIkFnb3JhUlRDSW1hZ2VNb2RlcmF0aW9uXCIpLFQodGhpcyxcIl9jb25uZWN0aW9uU3RhdGVcIixYbi5DT05ORUNUSU5HKSxUKHRoaXMsXCJfc2VxdWVuY2VcIiwwKSxUKHRoaXMsXCJfbW9kZXJhdGlvblN0YXJ0VGltZVwiLHZvaWQgMCksVCh0aGlzLFwiX3dvcmtlckNvbm5lY3Rpb25cIix2b2lkIDApLFQodGhpcyxcIl93b3JrZXJNZXNzYWdlTGVuZ3RoTGltaXRcIix2b2lkIDApLFQodGhpcyxcIl9xdWFsaXR5UmF0aW9cIix2b2lkIDApLFQodGhpcyxcIl9jb25uZWN0SW5mb1wiLHZvaWQgMCksVCh0aGlzLFwiX2NhbmNlbFRva2VuU291cmNlXCIsbW4uQ2FuY2VsVG9rZW4uc291cmNlKCkpLFQodGhpcyxcIl9yZXRyeUNvbmZpZ1wiLHZvaWQgMCksVCh0aGlzLFwiX21vZGVyYXRpb25JbnRlcnZhbFwiLHZvaWQgMCksVCh0aGlzLFwiX21vZGVyYXRpb25UaW1lclwiLG51bGwpLFQodGhpcyxcIl9tb2RlcmF0aW9uTW9kZVwiLDEpLFQodGhpcyxcIl9xdWFsaXR5XCIsMSksVCh0aGlzLFwiX3F1YWxpdHlUaW1lclwiLG51bGwpLFQodGhpcyxcIl90aWNrZXRcIix2b2lkIDApLFQodGhpcyxcIl9tb2RlcmF0aW9uSW50ZXJ2YWxNaW5pbXVtXCIsdm9pZCAwKSxUKHRoaXMsXCJfdXBsb2FkRmFpbGVkTnVtXCIsMCksVCh0aGlzLFwiX3VwbG9hZE51bVwiLDApLFQodGhpcyxcIl91cGxvYWRUaW1lclwiLG51bGwpLFQodGhpcyxcIl9leHRyYUluZm9cIix2b2lkIDApLFQodGhpcyxcIl92ZW5kb3JcIixcIlwiKSxUKHRoaXMsXCJfZW5jb2RlclwiLG5ldyBUZXh0RW5jb2RlciksVCh0aGlzLFwiX21vZGVyYXRpb25JZFwiLHZvaWQgMCksVCh0aGlzLFwiaW5zcGVjdEltYWdlXCIsKCk9PntpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVhuLkNPTk5FQ1RFRCl0aHJvdyBuZXcgTyhSLk9QRVJBVElPTl9BQk9SVEVELFwiaW1hZ2UgbW9kZXJhdGlvbiBzZXJ2aWNlIGNvbm5lY3Rpb24gc3RhdHVzIGlzIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSkpO3RoaXMuX21vZGVyYXRpb25UaW1lciYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX21vZGVyYXRpb25UaW1lciksdGhpcy5fbW9kZXJhdGlvblRpbWVyPW51bGwpLHRoaXMuX21vZGVyYXRpb25UaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PVhuLkNPTk5FQ1RFRD90aGlzLnJlcXVlc3RUb0luc3BlY3RJbWFnZSgpOl8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX21vZGVyYXRpb25JZCxcIl0gTW9kZXJhdGlvbiBTdGF0ZSBpcyBub3QgY29ubmVjdGVkICwgXCIpLHRoaXMuY29ubmVjdGlvblN0YXRlKTt9LHRoaXMuX21vZGVyYXRpb25JbnRlcnZhbDx0aGlzLl9tb2RlcmF0aW9uSW50ZXJ2YWxNaW5pbXVtP3RoaXMuX21vZGVyYXRpb25JbnRlcnZhbE1pbmltdW06dGhpcy5fbW9kZXJhdGlvbkludGVydmFsKSx0aGlzLnJlcXVlc3RUb0luc3BlY3RJbWFnZSgpO30pLHRoaXMuX21vZGVyYXRpb25JZD1VdCg1LFwiaW1hZ2UtbW9kZXJhdGlvbi1cIiksdGhpcy5fd29ya2VyTWVzc2FnZUxlbmd0aExpbWl0PXYoXCJJTUFHRV9NT0RFUkFUSU9OX1dPUktFUl9NRVNTQUdFX0xFTkdUSF9MSU1JVFwiKSx0aGlzLl9tb2RlcmF0aW9uSW50ZXJ2YWxNaW5pbXVtPXYoXCJJTUFHRV9NT0RFUkFUSU9OX0lOVEVSVkFMX01JTklNVU1cIiksdGhpcy5fbW9kZXJhdGlvbkludGVydmFsPShuPWUuaW50ZXJ2YWwpIT09bnVsbCYmbiE9PXZvaWQgMD9uOjFlMyxlLmV4dHJhSW5mbyYmKHRoaXMuX2V4dHJhSW5mbz10aGlzLl9lbmNvZGVyLmVuY29kZShlLmV4dHJhSW5mbykpLGUudmVuZG9yJiYodGhpcy5fdmVuZG9yPWUudmVuZG9yKSx0aGlzLl9xdWFsaXR5UmF0aW89dihcIklNQUdFX01PREVSQVRJT05fUVVBTElUWV9SQVRJT1wiKSx0aGlzLl9tb2RlcmF0aW9uU3RhcnRUaW1lPU51bWJlcihEYXRlLm5vdygpKSx0aGlzLl93b3JrZXJDb25uZWN0aW9uPW5ldyBRbyhcIndvcmtlci1cIit0aGlzLl9tb2RlcmF0aW9uSWQsRWUpLHRoaXMub24oTWkuU1RBVEVfQ0hBTkdFLChpLHIpPT57Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fbW9kZXJhdGlvbklkLFwiXSBNb2RlcmF0aW9uIG9wZXJhdGlvbiA6XCIpLmNvbmNhdChoc1tpXSxcIiBcIikuY29uY2F0KHJ8fFwiXCIpKTt9KSx0aGlzLmhhbmRsZVdvcmtlckV2ZW50cygpO31hc3luYyBpbml0KGUsbil7dGhpcy5lbWl0KE1pLlNUQVRFX0NIQU5HRSxocy5DT05ORUNUX0FQKSx0aGlzLl9jb25uZWN0SW5mbz1lO2xldCBpPXRoaXMuX2NhbmNlbFRva2VuU291cmNlLnRva2VuO3JldHVybiB0aGlzLl9yZXRyeUNvbmZpZz1uLG5ldyBqKChyLG8pPT57dGhpcy5vbihNaS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSwocyxhKT0+e3M9PT1Ybi5DT05ORUNURUQmJnIoKTt9KSx0aGlzLnJlcXVlc3RBUChlLGksbikudGhlbihzPT57dGhpcy5jb25uZWN0V29ya2VyKHMpO30pLmNhdGNoKHM9PntvKHMpO30pO30pfXVwZGF0ZUNvbmZpZyhlKXt2YXIgbjt0aGlzLl9tb2RlcmF0aW9uSW50ZXJ2YWw9KG49ZS5pbnRlcnZhbCkhPT1udWxsJiZuIT09dm9pZCAwP246MWUzLGUuZXh0cmFJbmZvJiYodGhpcy5fZXh0cmFJbmZvPXRoaXMuX2VuY29kZXIuZW5jb2RlKGUuZXh0cmFJbmZvKSksZS52ZW5kb3ImJih0aGlzLl92ZW5kb3I9ZS52ZW5kb3IpLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX21vZGVyYXRpb25JZCxcIl0gdXBkYXRlQ29uZmlnOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGUpKSksdGhpcy5jb25uZWN0aW9uU3RhdGU9PT1Ybi5DT05ORUNURUQmJnRoaXMuaW5zcGVjdEltYWdlKCk7fWFzeW5jIHJlcXVlc3RBUChlLG4saSl7bGV0IHI9dihcIldFQkNTX0RPTUFJTlwiKS5tYXAoYz0+XCJodHRwczovL1wiLmNvbmNhdChjLFwiL2FwaS92MVwiKSksbz1hd2FpdCBmdW5jdGlvbihjLGQsbCx1KXtsZXR7YXBwSWQ6aCxhcmVhQ29kZTpwLGNuYW1lOmcsc2lkOkUsdG9rZW46Zix1aWQ6U309ZDtZcysrO2xldCBDPVwibW9kZXJhdGlvbl9wbHVnaW5cIixBPXtzZXJ2aWNlX25hbWU6Qyxqc29uX2JvZHk6SlNPTi5zdHJpbmdpZnkoe2FwcElkOmgsYXJlYUNvZGU6cCxjbmFtZTpnLGNvbW1hbmQ6XCJhbGxvY2F0ZUVkZ2VcIixyZXF1ZXN0SWQ6WXMsc2VxOllzLHNpZDpFLGFwcFRva2VuOmYsdHM6RGF0ZS5ub3coKSx1aWQ6UytcIlwifSl9LGIsdyxEPWNbMF07cmV0dXJuIFdpKGFzeW5jKCk9PntiPURhdGUubm93KCk7bGV0IGs9YXdhaXQgSGkoRCx7ZGF0YTpBLGNhbmNlbFRva2VuOmwsaGVhZGVyczp7XCJYLVBhY2tldC1TZXJ2aWNlLVR5cGVcIjpcIjBcIixcIlgtUGFja2V0LVVSSVwiOlwiNjFcIn0scGFyYW1zOnthY3Rpb246XCJ3cnRjX2dhdGV3YXlcIn19KTtpZih3PURhdGUubm93KCktYixrLmNvZGUhPT0wKXtsZXQgej1uZXcgTyhSLlVORVhQRUNURURfUkVTUE9OU0UsXCJtb2RlcmF0aW9uIHBsdWdpbiBhcCBlcnJvciwgY29kZVwiK2suY29kZSx7cmV0cnk6ITAscmVzcG9uc2VUaW1lOnd9KTt0aHJvdyBfLmVycm9yKHoudG9TdHJpbmcoKSksen1sZXQgQj1KU09OLnBhcnNlKGsuanNvbl9ib2R5KTtpZihCLmNvZGUhPT0yMDApe2xldCB6PW5ldyBPKFIuVU5FWFBFQ1RFRF9SRVNQT05TRSxcIm1vZGVyYXRpb24gcGx1Z2luIGFwIGVycm9yLCBjb2RlOiBcIi5jb25jYXQoQi5jb2RlLFwiLCByZWFzb246IFwiKS5jb25jYXQoQi5yZWFzb24pLHtjb2RlOkIuY29kZSxyZXNwb25zZVRpbWU6d30pO3Rocm93IF8uZXJyb3Ioei50b1N0cmluZygpKSx6fWlmKCFCLnNlcnZlcnN8fCFBcnJheS5pc0FycmF5KEIuc2VydmVycyl8fEIuc2VydmVycy5sZW5ndGg9PT0wKXtsZXQgej1uZXcgTyhSLlVORVhQRUNURURfUkVTUE9OU0UsXCJtb2RlcmF0aW9uIHBsdWdpbiBhcCBlbXB0eSBzZXJ2ZXJcIix7Y29kZTpCLmNvZGUscmVzcG9uc2VUaW1lOnd9KTt0aHJvdyBfLmVycm9yKHoudG9TdHJpbmcoKSksen1pZighQi5zZXJ2ZXJzLnNvbWUoej0+ISF6Lndzcykpe2xldCB6PW5ldyBPKFIuVU5FWFBFQ1RFRF9SRVNQT05TRSxcIm1vZGVyYXRpb24gcGx1Z2luIGFwIGVtcHR5IHBvcnRcIix7Y29kZTpCLmNvZGUscmVzcG9uc2VUaW1lOnd9KTt0aHJvdyBfLmVycm9yKHoudG9TdHJpbmcoKSksen1sZXQgVj12KFwiSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfSE9TVFwiKTtyZXR1cm4ge2FkZHJlc3NMaXN0OkIuc2VydmVycy5tYXAoej0+e2xldHthZGRyZXNzOmx0LHdzczp2dH09ejtpZihsdCYmdnQpcmV0dXJuIFwid3NzOi8vXCIuY29uY2F0KGx0LnJlcGxhY2UoL1xcLi9nLFwiLVwiKSxcIi5cIikuY29uY2F0KFYsXCI6XCIpLmNvbmNhdCh2dCxcIi9tb2RlcmF0aW9uXCIpfSkuZmlsdGVyKHo9PiEheiksd29ya2VyVG9rZW46Qi53b3JrZXJUb2tlbix2aWQ6Qi52aWQsdGlja2V0OkIuYXBwVGlja2V0LHJlc3BvbnNlVGltZTp3fX0sKGssQik9PihYLmFwd29ya2VyRXZlbnQoRSx7c3VjY2VzczohMCxzYzoyMDAsc2VydmljZU5hbWU6QyxyZXNwb25zZURldGFpbDpKU09OLnN0cmluZ2lmeShrLmFkZHJlc3NMaXN0KSxmaXJzdFN1Y2Nlc3M6Qj09PTAscmVzcG9uc2VUaW1lOncsc2VydmVySXA6Y1tCJWMubGVuZ3RoXX0pLCExKSwoayxCKT0+KFguYXB3b3JrZXJFdmVudChFLHtzdWNjZXNzOiExLHNjOmsuZGF0YSYmay5kYXRhLmNvZGV8fDIwMCxzZXJ2aWNlTmFtZTpDLHJlc3BvbnNlVGltZTp3LHNlcnZlcklwOmNbQiVjLmxlbmd0aF19KSwhIShrLmNvZGUhPT1SLk9QRVJBVElPTl9BQk9SVEVEJiZrLmNvZGUhPT1SLlVORVhQRUNURURfUkVTUE9OU0V8fGsuZGF0YSYmay5kYXRhLnJldHJ5KSYmKEQ9Y1soQisxKSVjLmxlbmd0aF0sITApKSx1KX0ocixlLG4saSk7dGhpcy5lbWl0KE1pLlNUQVRFX0NIQU5HRSxocy5BUF9DT05ORUNURUQpO2xldHthZGRyZXNzTGlzdDpzLHRpY2tldDphfT1vO3JldHVybiB0aGlzLl90aWNrZXQ9YSxzfWFzeW5jIGNvbm5lY3RXb3JrZXIoZSl7dGhpcy5lbWl0KE1pLlNUQVRFX0NIQU5HRSxocy5DT05ORUNUX1dPUktFUiksYXdhaXQgdGhpcy5fd29ya2VyQ29ubmVjdGlvbi5pbml0KGUsMWU0KTt9aGFuZGxlV29ya2VyRXZlbnRzKCl7dGhpcy5fd29ya2VyQ29ubmVjdGlvbi5vbihpdC5DT05ORUNURUQsYXN5bmMoKT0+e3RoaXMuZW1pdChNaS5TVEFURV9DSEFOR0UsaHMuV09SS0VSX0NPTk5FQ1RFRCx0aGlzLl93b3JrZXJDb25uZWN0aW9uLnVybCksdGhpcy5jb25uZWN0aW9uU3RhdGU9WG4uQ09OTkVDVEVEO30pLHRoaXMuX3dvcmtlckNvbm5lY3Rpb24ub24oaXQuQ0xPU0VELCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9WG4uQ0xPU0VEO30pLHRoaXMuX3dvcmtlckNvbm5lY3Rpb24ub24oaXQuRkFJTEVELCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9WG4uQ0xPU0VEO30pLHRoaXMuX3dvcmtlckNvbm5lY3Rpb24ub24oaXQuUkVDT05ORUNUSU5HLCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9dGhpcy5jb25uZWN0aW9uU3RhdGU9PT1Ybi5DT05ORUNURUQ/WG4uUkVDT05ORUNUSU5HOlhuLkNPTk5FQ1RJTkc7fSksdGhpcy5fd29ya2VyQ29ubmVjdGlvbi5vbihpdC5PTl9NRVNTQUdFLGFzeW5jIGU9PntpZihlLmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7bGV0IG49SVcobmV3IFVpbnQ4QXJyYXkoZS5kYXRhKSk7dihcIlNIT1dfSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfTUVTU0FHRVwiKSYmXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fbW9kZXJhdGlvbklkLFwiXSBSZXNwb25zZSBtZXNzYWdlIGZvciB3b3JrZXIgb2YgaW1hZ2UgbW9kZXJhdGlvbiBcIiksSlNPTi5zdHJpbmdpZnkobikpLHRoaXMuX3VwbG9hZE51bSsrLG4uY29kZT09PXZvaWQgMHx8bi5jb2RlPT09MHx8KHRoaXMuX3VwbG9hZEZhaWxlZE51bSsrLF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX21vZGVyYXRpb25JZCxcIl0gRXJyb3IgcmVzcG9uc2UgZnJvbSB3b3JrZSwgY29kZSBpcyBcIikuY29uY2F0KG4uY29kZSxcIiwgbXNnIGlzIFwiKS5jb25jYXQobi5tc2cpKSx0aGlzLl91cGxvYWRUaW1lcnx8KHRoaXMuX3VwbG9hZFRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KCgpPT57WC5yZXBvcnRBcGlJbnZva2UodGhpcy5fY29ubmVjdEluZm8uc2lkfHxudWxsLHtuYW1lOlRlLklNQUdFX01PREVSQVRJT05fVVBMT0FELG9wdGlvbnM6W3RoaXMuX3VwbG9hZEZhaWxlZE51bSx0aGlzLl91cGxvYWROdW0sbi5jb2RlXSx0YWc6WnQuVFJBQ0VSfSkub25FcnJvcihuZXcgTyhSLklNQUdFX01PREVSQVRJT05fVVBMT0FEX0ZBSUxFRCxuLm1zZykpLHRoaXMuX3VwbG9hZFRpbWVyPW51bGw7fSx2KFwiSU1BR0VfTU9ERVJBVElPTl9VUExPQURfUkVQT1JUX0lOVEVSVkFMXCIpKSkpO31lbHNlIF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX21vZGVyYXRpb25JZCxcIl0gVW5leHBlY3RlZCBtZXNzYWdlIHR5cGUgZnJvbSB3b3JrZXJcIikpO30pLHRoaXMuX3dvcmtlckNvbm5lY3Rpb24ub24oaXQuV0lMTF9SRUNPTk5FQ1QsKGUsbixpKT0+e2U9PT1cInJlY292ZXJcIiYmaShlKSxpKFwidHJ5TmV4dFwiKTt9KSx0aGlzLl93b3JrZXJDb25uZWN0aW9uLm9uKGl0LlJFUVVFU1RfTkVXX1VSTFMsKGUsbik9Pnt0aGlzLnJlcXVlc3RBUCh0aGlzLl9jb25uZWN0SW5mbyx0aGlzLl9jYW5jZWxUb2tlblNvdXJjZS50b2tlbix0aGlzLl9yZXRyeUNvbmZpZykudGhlbihlKS5jYXRjaChuKTt9KTt9c3RhdGljIGludFRvTG9uZyhlKXtyZXR1cm4ge2xvdzplfD0wLGhpZ2g6ZT4+MzEsdW5zaWduZWQ6ZT49MH19YXN5bmMgcmVxdWVzdFRvSW5zcGVjdEltYWdlKCl7bGV0IGU9bmkodGhpcyxNaS5DTElFTlRfTE9DQUxfVklERU9fVFJBQ0spLG49e2FwcElkOnRoaXMuX2Nvbm5lY3RJbmZvLmFwcElkLGNuYW1lOnRoaXMuX2Nvbm5lY3RJbmZvLmNuYW1lLGNpZDp0aGlzLl9jb25uZWN0SW5mby5jaWQsc2lkOnRoaXMuX2Nvbm5lY3RJbmZvLnNpZCx1aWQ6dGhpcy5fY29ubmVjdEluZm8udWlkLHZpZDp0aGlzLl9jb25uZWN0SW5mby52aWR9O2lmKGUpe2lmKCFlLmlzUGxheWluZylyZXR1cm4gdm9pZCh2KFwiU0hPV19JTUFHRV9NT0RFUkFUSU9OX1dPUktFUl9NRVNTQUdFXCIpJiZfLmRlYnVnKFwiT25seSB0aGUgdHJhY2sgYmVpbmcgcGxheWVkIGNhbiBiZSBpbnNwZWN0ZWRcIikpO3RoaXMuX3NlcXVlbmNlKys7bGV0IGk9YXdhaXQgdGhpcy5nZW5lcmF0ZVJlcXVlc3REYXRhKGUsbik7dGhpcy5fd29ya2VyQ29ubmVjdGlvbi5zZW5kTWVzc2FnZShpLCEwLCEwKTt9ZWxzZSB2KFwiU0hPV19JTUFHRV9NT0RFUkFUSU9OX1dPUktFUl9NRVNTQUdFXCIpJiZfLmRlYnVnKFwiT25seSB0aGUgdHJhY2sgYmVpbmcgcHVibGlzaGVkIGNhbiBiZSBpbnNwZWN0ZWRcIik7fWFzeW5jIGdlbmVyYXRlUmVxdWVzdERhdGEoZSxuKXtsZXR7YXBwSWQ6aSxjbmFtZTpyLGNpZDpvLHZpZDpzLHNpZDphLHVpZDpjfT1uLGQ9RGF0ZS5ub3coKSxsPWF3YWl0IGUuZ2V0Q3VycmVudEZyYW1lSW1hZ2UoXCJpbWFnZS9qcGVnXCIsdGhpcy5xdWFsaXR5KSx1PWF3YWl0IFFPKGwsaSxyKSxoPXRoaXMuX3NlcXVlbmNlK1wiLVwiK28rXCItXCIrYytcIi1cIitkK1wiLVwiK1V0KDEyLFwiXCIpLHA9e2FwcElkOmksY2lkOm8sY25hbWU6cixkZXZpY2VJZDpcIlwiLGVsYXBzZTp0LmludFRvTG9uZyhOdW1iZXIoZC10aGlzLl9tb2RlcmF0aW9uU3RhcnRUaW1lKSksZmlsZVNpemU6bC5idWZmZXIuYnl0ZUxlbmd0aCxoZWlnaHQ6bC5oZWlnaHQsd2lkdGg6bC53aWR0aCxqcGc6dSxuZXR3b3JrVHlwZTo2LG9zVHlwZTo3LHJlcXVlc3RJZDpoLHNka1ZlcnNpb246XCI0LjIyLjBcIixzZXF1ZW5jZTp0aGlzLl9zZXF1ZW5jZSxzaWQ6YSx0aW1lc3RhbXA6RFcoZCksdWlkOmMsdmlkOnMsc2VydmljZTp0aGlzLl9tb2RlcmF0aW9uTW9kZSx0aWNrZXQ6dGhpcy5fdGlja2V0LGNhbGxiYWNrRGF0YTp0aGlzLl9leHRyYUluZm8sdmVuZG9yQ29uZmlnczp0aGlzLl92ZW5kb3J9O3RoaXMuX2V4dHJhSW5mbz09PXZvaWQgMCYmZGVsZXRlIHAuY2FsbGJhY2tEYXRhO2xldCBnPUNXKHApO2lmKGcuYnl0ZUxlbmd0aDx0aGlzLl93b3JrZXJNZXNzYWdlTGVuZ3RoTGltaXQpe2lmKHYoXCJTSE9XX0lNQUdFX01PREVSQVRJT05fV09SS0VSX01FU1NBR0VcIikpe2xldCBFPWZ1bmN0aW9uKGYpe2Zvcih2YXIgUz0xO1M8YXJndW1lbnRzLmxlbmd0aDtTKyspe3ZhciBDPWFyZ3VtZW50c1tTXSE9bnVsbD9hcmd1bWVudHNbU106e307UyUyP295KE9iamVjdChDKSwhMCkuZm9yRWFjaChmdW5jdGlvbihBKXtUKGYsQSxDW0FdKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhmLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKEMpKTpveShPYmplY3QoQykpLmZvckVhY2goZnVuY3Rpb24oQSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGYsQSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEMsQSkpO30pO31yZXR1cm4gZn0oe30scCk7ZGVsZXRlIEUuanBnLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX21vZGVyYXRpb25JZCxcIl0gUmVxdWVzdCBtZXNzYWdlIGZvciB3b3JrZXIgb2YgaW1hZ2UgbW9kZXJhdGlvbiBzZXJ2aWNlOiBcIiksSlNPTi5zdHJpbmdpZnkoRSkpO31yZXR1cm4gZ317bGV0IEU9dGhpcy5xdWFsaXR5KnRoaXMuX3F1YWxpdHlSYXRpbztyZXR1cm4gdGhpcy5xdWFsaXR5PUUsYXdhaXQgdGhpcy5nZW5lcmF0ZVJlcXVlc3REYXRhKGUse2FwcElkOmksY25hbWU6cixjaWQ6byx2aWQ6cyxzaWQ6YSx1aWQ6Y30pfX1jbG9zZSgpe3RoaXMuX2NhbmNlbFRva2VuU291cmNlLmNhbmNlbCgpLHRoaXMuX2NhbmNlbFRva2VuU291cmNlPW1uLkNhbmNlbFRva2VuLnNvdXJjZSgpLHRoaXMuX3dvcmtlckNvbm5lY3Rpb24mJnRoaXMuX3dvcmtlckNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLl9tb2RlcmF0aW9uVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX21vZGVyYXRpb25UaW1lciksdGhpcy5fbW9kZXJhdGlvblRpbWVyPW51bGwsdGhpcy5fdXBsb2FkVGltZXImJndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fdXBsb2FkVGltZXIpLHRoaXMuX3VwbG9hZFRpbWVyPW51bGwsdGhpcy5jb25uZWN0aW9uU3RhdGU9WG4uQ0xPU0VELHRoaXMuZW1pdChNaS5TVEFURV9DSEFOR0UsaHMuQ0xPU0VEKTt9fTtmdW5jdGlvbiBrMCh0KXtpZihOdCh0LmludGVydmFsLFwiaW50ZXJ2YWxcIiwxZTMsMS8wKSx0JiZ0LmV4dHJhSW5mbyYmdC5leHRyYUluZm8ubGVuZ3RoPjEwMjQpdGhyb3cgbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxcImNvbmZpZy5leHRyYUluZm8gbGVuZ3RoIGNhbm5vdCBleGNlZWQgMTAyNCBieXRlc1wiKTtpZih0JiZ0LnZlbmRvciYmdC52ZW5kb3IubGVuZ3RoPjEwMjQpdGhyb3cgbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxcImNvbmZpZy52ZW5kb3IgbGVuZ3RoIGNhbm5vdCBleGNlZWQgMTAyNCBieXRlc1wiKX12YXIgUFc9e25hbWU6XCJJbWFnZU1vZGVyYXRpb25cIixjcmVhdGU6ZnVuY3Rpb24odCl7bGV0e2NvbmZpZzplfT10O3JldHVybiBrMChlKSxuZXcgcG0oZSl9fSxzeSxheSxjeSxkeSxseSx1eSxoeSxweSxfeSxFeSxteSxmeSxneSxUeSxTeSxSeSxDeSxJeSx2eSx5eSxBeSxieSx3eSxPeSxOeSxEeSxQeSxreSxMeSxNeSxVeSx4eSxWeSxGeSxCeSxqeSxHeSxXeSxIeSxLeSxHO2Z1bmN0aW9uIFl5KHQsZSl7dmFyIG49T2JqZWN0LmtleXModCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KTtlJiYoaT1pLmZpbHRlcihmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4saSk7fXJldHVybiBufWZ1bmN0aW9uIHhpKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXSE9bnVsbD9hcmd1bWVudHNbZV06e307ZSUyP1l5KE9iamVjdChuKSwhMCkuZm9yRWFjaChmdW5jdGlvbihpKXtUKHQsaSxuW2ldKTt9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpZeShPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24oaSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4saSkpO30pO31yZXR1cm4gdH16ZS5zZXRMb2dnZXIoXyk7dmFyIGtXPShzeT0kKCksYXk9JCh7YXJnc01hcDoodCxlKT0+e2lmKCFBcnJheS5pc0FycmF5KGUpKXtpZighKGUgaW5zdGFuY2VvZiBubykpcmV0dXJuIFtlXTtlPVtlXTt9cmV0dXJuIGUubWFwKG49Pm4/T2JqZWN0KG4pLnRvU3RyaW5nKCk6XCJudWxsXCIpfX0pLGN5PSQoe2FyZ3NNYXA6KHQsZSk9PihlfHwoZT1bXSksQXJyYXkuaXNBcnJheShlKXx8ZS50cmFja01lZGlhVHlwZSE9PWZhLkRBVEE/KEFycmF5LmlzQXJyYXkoZSl8fChlPVtlXSksZS5tYXAobj0+bi5nZXRUcmFja0lkKCkpKTpbZS5nZXRDaGFubmVsSWQoKV0pfSksZHk9JCh7YXJnc01hcDoodCxlLG4saSk9Plt0eXBlb2YgZT09XCJvYmplY3RcIj9lLnVpZDplLG4saV19KSxseT0kKHthcmdzTWFwOih0LGUsbik9PltlLG5dfSksdXk9JCh7YXJnc01hcDoodCxlKT0+ZS5tYXAobj0+e2xldHt1c2VyOmksbWVkaWFUeXBlOnJ9PW47cmV0dXJuIFtpPy51aWQscl19KX0pLGh5PSQoe2FyZ3NNYXA6KHQsZSxuLGkpPT5bdHlwZW9mIGU9PVwib2JqZWN0XCI/ZS51aWQ6ZSxuLGldfSkscHk9JCh7YXJnc01hcDoodCxlKT0+ZS5tYXAobj0+e2xldHt1c2VyOmksbWVkaWFUeXBlOnJ9PW47cmV0dXJuIHt1aWQ6aT8udWlkLG1lZGlhVHlwZTpyfX0pfSksX3k9JCgpLEV5PSQoKSxteT0kKCksZnk9JCgpLGd5PSQoKSxUeT0kKCksU3k9JCgpLFJ5PSQoKSxDeT0kKCksSXk9JCgpLHZ5PSQoKSx5eT0kKCksQXk9JCgpLGJ5PSQoKSx3eT0kKHthcmdzTWFwOih0LGUpPT5bZV19KSxPeT0kKCksTnk9JCgpLER5PSQoKSxQeT0kKCksa3k9JCgpLEx5PSQoKSxNeT0kKCksVXk9JCgpLHh5PSQoe2FyZ3NNYXA6KHQsZSk9PihBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pLFtKU09OLnN0cmluZ2lmeShlKV0pfSksVnk9JCgpLEZ5PSQoKSxCeT0kKCksank9JCgpLEd5PSQoKSxXeT0kKCksSHk9JCh7cmVwb3J0UmVzdWx0OiEwfSksS3k9JCgpLEc9Y2xhc3MgZXh0ZW5kcyBYdHtnZXQgY29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMuX2dhdGV3YXkuc3RhdGV9Z2V0IHJlbW90ZVVzZXJzKCl7cmV0dXJuIHRoaXMuX3VzZXJzfWdldCBsb2NhbFRyYWNrcygpe3JldHVybiB0aGlzLl9wMnBDaGFubmVsLmdldEFsbFRyYWNrcyghMCl9Z2V0IHVpZCgpe3JldHVybiB0aGlzLl91aWR9Z2V0IGNoYW5uZWxOYW1lKCl7cmV0dXJuIHRoaXMuX2NoYW5uZWxOYW1lfWdldCBsb2NhbERhdGFDaGFubmVscygpe3JldHVybiB0aGlzLl9wMnBDaGFubmVsLmdldEFsbERhdGFDaGFubmVscygpfWdldCBtb2RlKCl7cmV0dXJuIHRoaXMuX2NvbmZpZy5tb2RlfWdldCByb2xlKCl7dmFyIHQ7cmV0dXJuICgodD10aGlzLl9jb25maWcpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC5yb2xlKXx8XCJhdWRpZW5jZVwifWdldCBjb2RlYygpe3JldHVybiB0aGlzLl9jb25maWcuY29kZWN9Z2V0IGF1ZGlvQ29kZWMoKXtyZXR1cm4gdGhpcy5fY29uZmlnLmF1ZGlvQ29kZWN8fFwib3B1c1wifWdldCBpc1N0cmluZ1VJRCgpe3JldHVybiAhIXRoaXMuX2pvaW5JbmZvJiYhIXRoaXMuX2pvaW5JbmZvLnN0cmluZ1VpZH1nZXQgX19jbGFzc05hbWVfXygpe3JldHVybiBcIkNsaWVudFwifWNvbnN0cnVjdG9yKHQpe2xldCBlO2lmKHN1cGVyKCksVCh0aGlzLFwic3RvcmVcIix2b2lkIDApLFQodGhpcyxcIl91aWRcIix2b2lkIDApLFQodGhpcyxcIl9jaGFubmVsTmFtZVwiLHZvaWQgMCksVCh0aGlzLFwiX3VpbnRVaWRcIix2b2lkIDApLFQodGhpcyxcIl91c2Vyc1wiLFtdKSxUKHRoaXMsXCJfY29uZmlnXCIsdm9pZCAwKSxUKHRoaXMsXCJfY2xpZW50SWRcIix2b2lkIDApLFQodGhpcyxcIl9hcHBJZFwiLHZvaWQgMCksVCh0aGlzLFwiX3Nlc3Npb25JZFwiLG51bGwpLFQodGhpcyxcIl9rZXlcIix2b2lkIDApLFQodGhpcyxcIl9ydG1Db25maWdcIix7fSksVCh0aGlzLFwiX2pvaW5JbmZvXCIsdm9pZCAwKSxUKHRoaXMsXCJfZ2F0ZXdheVwiLHZvaWQgMCksVCh0aGlzLFwiX3N0YXRzQ29sbGVjdG9yXCIsdm9pZCAwKSxUKHRoaXMsXCJfY29uZmlnRGlzdHJpYnV0ZVwiLHZvaWQgMCksVCh0aGlzLFwiX2xlYXZlTXV0ZXhcIixuZXcgemUoXCJjbGllbnQtbGVhdmVcIikpLFQodGhpcyxcIl9wdWJsaXNoTXV0ZXhcIixuZXcgemUoXCJjbGllbnQtcHVibGlzaFwiKSksVCh0aGlzLFwiX3JlbmV3VG9rZW5NdXRleFwiLG5ldyB6ZShcImNsaWVudC1yZW5ld3Rva2VuXCIpKSxUKHRoaXMsXCJfc3Vic2NyaWJlTXV0ZXhcIixuZXcgemUoXCJjbGllbnQtc3Vic2NyaWJlXCIpKSxUKHRoaXMsXCJfZW5jcnlwdGlvbk1vZGVcIixcIm5vbmVcIiksVCh0aGlzLFwiX2VuY3J5cHRpb25TZWNyZXRcIixudWxsKSxUKHRoaXMsXCJfZW5jcnlwdGlvblNhbHRcIixudWxsKSxUKHRoaXMsXCJfZW5jcnlwdERhdGFTdHJlYW1cIiwhMSksVCh0aGlzLFwiX2VuY3J5cHREYXRhU3RyZWFtS2V5XCIsbnVsbCksVCh0aGlzLFwiX2VuY3J5cHREYXRhU3RyZWFtSXZcIixudWxsKSxUKHRoaXMsXCJfcHJveHlTZXJ2ZXJcIix2b2lkIDApLFQodGhpcyxcIl90dXJuU2VydmVyXCIse3NlcnZlcnM6W10sbW9kZTpcImF1dG9cIn0pLFQodGhpcyxcIl9jbG91ZFByb3h5U2VydmVyTW9kZVwiLFwiZGlzYWJsZWRcIiksVCh0aGlzLFwiX2lzRHVhbFN0cmVhbUVuYWJsZWRcIiwhMSksVCh0aGlzLFwiX2RlZmF1bHRTdHJlYW1GYWxsYmFja1R5cGVcIix2b2lkIDApLFQodGhpcyxcIl9sb3dTdHJlYW1QYXJhbWV0ZXJcIix2b2lkIDApLFQodGhpcyxcIl9zdHJlYW1GYWxsYmFja1R5cGVDYWNoZU1hcFwiLG5ldyBNYXApLFQodGhpcyxcIl9yZW1vdGVTdHJlYW1UeXBlQ2FjaGVNYXBcIixuZXcgTWFwKSxUKHRoaXMsXCJfYXhpb3NDYW5jZWxTb3VyY2VcIixtbi5DYW5jZWxUb2tlbi5zb3VyY2UoKSksVCh0aGlzLFwiX2F1ZGlvVm9sdW1lSW5kaWNhdGlvbkludGVydmFsXCIsdm9pZCAwKSxUKHRoaXMsXCJfbmV0d29ya1F1YWxpdHlJbnRlcnZhbFwiLHZvaWQgMCksVCh0aGlzLFwiX3VzZXJPZmZsaW5lVGltZW91dFwiLHZvaWQgMCksVCh0aGlzLFwiX3N0cmVhbVJlbW92ZWRUaW1lb3V0XCIsdm9pZCAwKSxUKHRoaXMsXCJfbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudFwiLHZvaWQgMCksVCh0aGlzLFwiX2xpdmVSYXdTdHJlYW1pbmdDbGllbnRcIix2b2lkIDApLFQodGhpcyxcIl9jaGFubmVsTWVkaWFSZWxheUNsaWVudFwiLHZvaWQgMCksVCh0aGlzLFwiX25ldHdvcmtRdWFsaXR5U2Vuc2l0aXZpdHlcIixcIm5vcm1hbFwiKSxUKHRoaXMsXCJfcDJwQ2hhbm5lbFwiLHZvaWQgMCksVCh0aGlzLFwiX3VzZUxvY2FsQWNjZXNzUG9pbnRcIiwhMSksVCh0aGlzLFwiX3NldExvY2FsQVBWZXJzaW9uXCIsdm9pZCAwKSxUKHRoaXMsXCJfam9pbkFuZE5vdExlYXZlWWV0XCIsITEpLFQodGhpcyxcIl9udW1iZXJPZkpvaW5Db3VudFwiLDApLFQodGhpcyxcIl9yZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlXCIsdm9pZCAwKSxUKHRoaXMsXCJfaW5zcGVjdFwiLHZvaWQgMCksVCh0aGlzLFwiX21vZGVyYXRpb25cIix2b2lkIDApLFQodGhpcyxcIl9saWNlbnNlXCIsdm9pZCAwKSxUKHRoaXMsXCJfcGVuZGluZ1B1Ymxpc2hlZFVzZXJzXCIsW10pLFQodGhpcyxcIm50cEFsaWduRXJyb3JDb3VudFwiLDApLFQodGhpcyxcInJlbW90ZUluYm91bmRPZmZzZXRcIiwwKSxUKHRoaXMsXCJfaGFuZGxlTG9jYWxUcmFja0VuYWJsZVwiLChuLGkscik9Pnt0aGlzLnB1Ymxpc2gobiwhMSkudGhlbihpKS5jYXRjaChyKTt9KSxUKHRoaXMsXCJfaGFuZGxlTG9jYWxUcmFja0Rpc2FibGVcIiwobixpLHIpPT57dGhpcy51bnB1Ymxpc2gobikudGhlbihpKS5jYXRjaChyKTt9KSxUKHRoaXMsXCJfaGFuZGxlVXNlck9ubGluZVwiLG49PntpZih2KFwiQkxPQ0tfTE9DQUxfQ0xJRU5UXCIpJiZJbyhuLnVpZCx0aGlzLmNoYW5uZWxOYW1lKSlyZXR1cm4gdm9pZCBfLmRlYnVnKFwiW1wiLmNvbmNhdChuLnVpZCxcIl0gd2lsbCBiZSBpZ25vcmVkIGluIGxvY2FsXCIpKTt0aGlzLmlzU3RyaW5nVUlEJiZ0eXBlb2Ygbi51aWQhPVwic3RyaW5nXCImJl8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBTdHJpbmdVSUQgaXMgTWl4ZWQgd2l0aCBVaW50VUlEXCIpKTtsZXQgaT10aGlzLl91c2Vycy5maW5kKHI9PnIudWlkPT09bi51aWQpO2lmKGkpaS5fdHJ1c3RfaW5fcm9vbV89ITAsaS5faXNfcHJlX2NyZWF0ZWQmJihpLl9pc19wcmVfY3JlYXRlZD0hMSx0aGlzLnNhZmVFbWl0KHV0LlVTRVJfSk9JTkVELGkpKTtlbHNlIHtsZXQgcj1uZXcgaXIobi51aWQsbi51aW50X2lkfHxuLnVpZCk7dGhpcy5fdXNlcnMucHVzaChyKSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlciBvbmxpbmVcIiksbi51aWQpLHRoaXMuc2FmZUVtaXQodXQuVVNFUl9KT0lORUQscik7fX0pLFQodGhpcyxcIl9oYW5kbGVVc2VyT2ZmbGluZVwiLG49PntpZih2KFwiQkxPQ0tfTE9DQUxfQ0xJRU5UXCIpJiZJbyhuLnVpZCx0aGlzLmNoYW5uZWxOYW1lKSlyZXR1cm47bGV0IGk9dGhpcy5fdXNlcnMuZmluZChyPT5yLnVpZD09PW4udWlkKTtpJiYodGhpcy5faGFuZGxlUmVtb3ZlU3RyZWFtKG4pLHRoaXMuX2hhbmRsZVJlbW92ZURhdGFDaGFubmVscyhuKSxpLl9hdWRpb19wcmVfc3Vic2NyaWJlZHx8aS5fdmlkZW9fcHJlX3N1YnNjcmliZWQ/aS5faXNfcHJlX2NyZWF0ZWQ9ITA6V2wodGhpcy5fdXNlcnMsaSksdGhpcy5fcmVtb3RlU3RyZWFtVHlwZUNhY2hlTWFwLmRlbGV0ZShpLnVpZCksdGhpcy5fc3RyZWFtRmFsbGJhY2tUeXBlQ2FjaGVNYXAuZGVsZXRlKGkudWlkKSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlciBvZmZsaW5lXCIpLG4udWlkLFwicmVhc29uOlwiLG4ucmVhc29uKSx0aGlzLnNhZmVFbWl0KHV0LlVTRVJfTEVBVkVELGksbi5yZWFzb24pKTt9KSxUKHRoaXMsXCJfaGFuZGxlQWRkQXVkaW9PclZpZGVvU3RyZWFtXCIsKG4saSxyLG8scyxhLGMpPT57aWYodihcIkJMT0NLX0xPQ0FMX0NMSUVOVFwiKSYmSW8oaSx0aGlzLmNoYW5uZWxOYW1lKSlyZXR1cm47bGV0IGQ9dGhpcy5fdXNlcnMuZmluZCh1PT51LnVpZD09PWkpO2lmKCFkKXJldHVybiB2b2lkIF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKG9uX2FkZF9zdHJlYW0pXCIpKTtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3RyZWFtIGFkZGVkIHdpdGggdWlkIFwiKS5jb25jYXQoaSxcIiwgdHlwZSBcIikuY29uY2F0KG4pKSx0aGlzLnN0b3JlLnN1YnNjcmliZShkLnVpZCxuLHZvaWQgMCx2b2lkIDAsdm9pZCAwLERhdGUubm93KCkpO2xldCBsPW49PT1cImF1ZGlvXCI/ZC5oYXNBdWRpbzpkLmhhc1ZpZGVvO2QuX3VpbnRpZHx8KGQuX3VpbnRpZD1zfHxpKSxuPT09XCJhdWRpb1wiP2QuX3RydXN0X2F1ZGlvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITA6ZC5fdHJ1c3RfdmlkZW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMCxuPT09XCJhdWRpb1wiPyhkLl9hdWRpb19hZGRlZF89ITAsciE9PXZvaWQgMCYmKGQuX2F1ZGlvU1NSQz1yKSxvIT09dm9pZCAwJiYoZC5fY25hbWU9byksYSYmKGQuX2F1ZGlvT3J0Yz1hKSk6KGQuX3ZpZGVvX2FkZGVkXz0hMCxyIT09dm9pZCAwJiYoZC5fdmlkZW9TU1JDPXIpLG8hPT12b2lkIDAmJihkLl9jbmFtZT1vKSxjIT09dm9pZCAwJiYoZC5fcnR4U3NyY0lkPWMpLGEmJihkLl92aWRlb09ydGM9YSkpLChuPT09XCJhdWRpb1wiP2QuaGFzQXVkaW86ZC5oYXNWaWRlbykmJiFsJiYoXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChkLnVpZCxcIiBwdWJsaXNoZWQgXCIpLmNvbmNhdChuKSksdGhpcy5zYWZlRW1pdCh1dC5VU0VSX1BVQkxJU0hFRCxkLG4pKSxuPT09XCJ2aWRlb1wiP1gub25HYXRld2F5U3RyZWFtKHRoaXMuX3Nlc3Npb25JZCxEZS5PTl9BRERfVklERU9fU1RSRUFNLEp0Lk9OX0FERF9WSURFT19TVFJFQU0se3BlZXI6c3x8aSxzc3JjOmQuX3ZpZGVvU1NSQ30pOlgub25HYXRld2F5U3RyZWFtKHRoaXMuX3Nlc3Npb25JZCxEZS5PTl9BRERfQVVESU9fU1RSRUFNLEp0Lk9OX0FERF9BVURJT19TVFJFQU0se3BlZXI6c3x8aSxzc3JjOmQuX2F1ZGlvU1NSQ30pLHRoaXMuX3AycENoYW5uZWwucmVtb3RlTWVkaWFTc3JjQ2hhbmdlZChkLG4scikudGhlbih1PT57aWYodSYmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXN1YnNjcmliZSBcIikuY29uY2F0KG4sXCIgZm9yIHVzZXIgXCIpLmNvbmNhdChkLnVpZCxcIiBhZnRlciByZWpvaW4gYmVjYXVzZSBTU1JDIGlkIGNoYW5nZWQuXCIpKSx0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgSmQpKXJldHVybiB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlKGQsbiwhMCkudGhlbigoKT0+dGhpcy5fc3Vic2NyaWJlKGQsbiwhMCkuY2F0Y2goaD0+e18uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXN1YnNjcmliZSBlcnJvclwiKSxoLnRvU3RyaW5nKCkpO30pKX0pLHRoaXMuX3AycENoYW5uZWwuaGFzUGVuZGluZ1JlbW90ZU1lZGlhKGQsbikmJihfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgXCIpLmNvbmNhdChuLFwiIGZvciB1c2VyIFwiKS5jb25jYXQoZC51aWQsXCIgYWZ0ZXIgcmVjb25uZWN0LlwiKSksdGhpcy5fc3Vic2NyaWJlKGQsbiwhMCkuY2F0Y2godT0+e18uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXN1YnNjcmliZSBlcnJvclwiKSx1LnRvU3RyaW5nKCkpO30pKTt9KSxUKHRoaXMsXCJfaGFuZGxlUmVtb3ZlU3RyZWFtXCIsbj0+e2lmKHYoXCJCTE9DS19MT0NBTF9DTElFTlRcIikmJklvKG4udWlkLHRoaXMuY2hhbm5lbE5hbWUpKXJldHVybjtsZXQgaT10aGlzLl91c2Vycy5maW5kKG89Pm8udWlkPT09bi51aWQpO2lmKCFpKXJldHVybiB2b2lkIF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgZmluZCB0YXJnZXQgdXNlciEob25fcmVtb3ZlX3N0cmVhbSlcIikpO18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdHJlYW0gcmVtb3ZlZCB3aXRoIHVpZCBcIikuY29uY2F0KG4udWlkKSk7bGV0IHI9KCk9Pnt9O2kuaGFzQXVkaW8mJmkuaGFzVmlkZW8/cj0oKT0+e18uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoaS51aWQsXCIgdW5wdWJsaXNoZWQgYXVkaW8gdHJhY2tcIikpLHRoaXMuc2FmZUVtaXQodXQuVVNFUl9VTlBVQkxJU0hFRCxpLFwiYXVkaW9cIiksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChpLnVpZCxcIiB1bnB1Ymxpc2hlZCB2aWRlbyB0cmFja1wiKSksdGhpcy5zYWZlRW1pdCh1dC5VU0VSX1VOUFVCTElTSEVELGksXCJ2aWRlb1wiKTt9OmkuaGFzVmlkZW8/cj0oKT0+e18uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoaS51aWQsXCIgdW5wdWJsaXNoZWQgdmlkZW8gdHJhY2tcIikpLHRoaXMuc2FmZUVtaXQodXQuVVNFUl9VTlBVQkxJU0hFRCxpLFwidmlkZW9cIik7fTppLmhhc0F1ZGlvJiYocj0oKT0+e18uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoaS51aWQsXCIgdW5wdWJsaXNoZWQgYXVkaW8gdHJhY2tcIikpLHRoaXMuc2FmZUVtaXQodXQuVVNFUl9VTlBVQkxJU0hFRCxpLFwiYXVkaW9cIik7fSksaS5fdmlkZW9fcHJlX3N1YnNjcmliZWR8fGkuX2F1ZGlvX3ByZV9zdWJzY3JpYmVkfHwoaS5fdHJ1c3RfYXVkaW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMCxpLl90cnVzdF92aWRlb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwLGkuX2F1ZGlvX2FkZGVkXz0hMSxpLl92aWRlb19hZGRlZF89ITEsdGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIEpkJiZ0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlKGkpLnRoZW4obz0+e2lmKG8pcmV0dXJuIHRoaXMuX2dhdGV3YXkudW5zdWJzY3JpYmUobyxpLnVpZCl9KSxpLl9hdWRpb1NTUkM9dm9pZCAwLGkuX3ZpZGVvU1NSQz12b2lkIDAsaS5fYXVkaW9PcnRjPXZvaWQgMCxpLl92aWRlb09ydGM9dm9pZCAwLGkuX3J0eFNzcmNJZD12b2lkIDApLFgub25HYXRld2F5U3RyZWFtKHRoaXMuX3Nlc3Npb25JZCxEZS5PTl9SRU1PVkVfU1RSRUFNLEp0Lk9OX1JFTU9WRV9TVFJFQU0se3BlZXI6bi51aW50X2lkfHxuLnVpZH0pLHIoKTt9KSxUKHRoaXMsXCJfaGFuZGxlU2V0U3RyZWFtTG9jYWxFbmFibGVcIiwobixpLHIpPT57aWYodihcIkJMT0NLX0xPQ0FMX0NMSUVOVFwiKSYmSW8oaSx0aGlzLmNoYW5uZWxOYW1lKSlyZXR1cm47bGV0IG89dGhpcy5fdXNlcnMuZmluZChjPT5jLnVpZD09PWkpO2lmKCFvKXJldHVybiB2b2lkIF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKGRpc2FibGVfbG9jYWwpXCIpKTtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gbG9jYWwgXCIpLmNvbmNhdChuLFwiIFwiKS5jb25jYXQocj9cImVuYWJsZWRcIjpcImRpc2FibGVkXCIsXCIgd2l0aCB1aWQgXCIpLmNvbmNhdChpKSk7bGV0IHM9bj09PVwiYXVkaW9cIj9vLmhhc0F1ZGlvOm8uaGFzVmlkZW87aWYobj09PVwiYXVkaW9cIil7by5fdHJ1c3RfYXVkaW9fZW5hYmxlZF9zdGF0ZV89ITA7bGV0IGM9by5fYXVkaW9fZW5hYmxlZF87aWYoby5fYXVkaW9fZW5hYmxlZF89cixvLl9hdWRpb19lbmFibGVkXz09PWMpcmV0dXJuO3tsZXQgZD1vLl9hdWRpb19lbmFibGVkXz9cImVuYWJsZS1sb2NhbC1hdWRpb1wiOlwiZGlzYWJsZS1sb2NhbC1hdWRpb1wiO18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1c2VyLWluZm8tdXBkYXRlZCwgdWlkOiBcIikuY29uY2F0KGksXCIsIG1zZzogXCIpLmNvbmNhdChkKSksdGhpcy5zYWZlRW1pdCh1dC5VU0VSX0lORk9fVVBEQVRFRCxpLGQpO319ZWxzZSB7by5fdHJ1c3RfdmlkZW9fZW5hYmxlZF9zdGF0ZV89ITA7bGV0IGM9by5fdmlkZW9fZW5hYmxlZF87aWYoby5fdmlkZW9fZW5hYmxlZF89cixvLl92aWRlb19lbmFibGVkXz09PWMpcmV0dXJuO3tsZXQgZD1vLl92aWRlb19lbmFibGVkXz9cImVuYWJsZS1sb2NhbC12aWRlb1wiOlwiZGlzYWJsZS1sb2NhbC12aWRlb1wiO18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1c2VyLWluZm8tdXBkYXRlLCB1aWQ6IFwiKS5jb25jYXQoaSxcIiwgbXNnOiBcIikuY29uY2F0KGQpKSx0aGlzLnNhZmVFbWl0KHV0LlVTRVJfSU5GT19VUERBVEVELGksZCk7fX1sZXQgYT1uPT09XCJhdWRpb1wiP28uaGFzQXVkaW86by5oYXNWaWRlbztyZXR1cm4gcyE9PWE/IXMmJmE/KF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoaSxcIiBwdWJsaXNoZWQgXCIpLmNvbmNhdChuKSksdm9pZCB0aGlzLnNhZmVFbWl0KHV0LlVTRVJfUFVCTElTSEVELG8sbikpOihuPT09XCJ2aWRlb1wiJiZvLl92aWRlb1RyYWNrJiZvLl92aWRlb1RyYWNrLl9kZXN0cm95KCksbj09PVwiYXVkaW9cIiYmby5fYXVkaW9UcmFjayx0aGlzLl9wMnBDaGFubmVsLm11dGVSZW1vdGUobyxuKSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KGksXCIgdW5wdWJsaXNoZWQgXCIpLmNvbmNhdChuKSksdm9pZCB0aGlzLnNhZmVFbWl0KHV0LlVTRVJfVU5QVUJMSVNIRUQsbyxuKSk6dm9pZCAwfSksVCh0aGlzLFwiX2hhbmRsZU11dGVTdHJlYW1cIiwobixpLHIpPT57aWYodihcIkJMT0NLX0xPQ0FMX0NMSUVOVFwiKSYmSW8obix0aGlzLmNoYW5uZWxOYW1lKSlyZXR1cm47Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlY2VpdmUgbXV0ZSBtZXNzYWdlXCIpLG4saSxyKTtsZXQgbz10aGlzLl91c2Vycy5maW5kKGM9PmMudWlkPT09bik7aWYoIW8pcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBmaW5kIHJlbW90ZSB1c2VyLCBpZ25vcmUgbXV0ZSBldmVudCwgdWlkOiBcIikuY29uY2F0KG4pKTtsZXQgcz1pPT09XCJhdWRpb1wiP28uaGFzQXVkaW86by5oYXNWaWRlbztpZihpPT09XCJhdWRpb1wiKXtvLl90cnVzdF9hdWRpb19tdXRlX3N0YXRlXz0hMDtsZXQgYz1vLl9hdWRpb19tdXRlZF87aWYoby5fYXVkaW9fbXV0ZWRfPXIsby5fYXVkaW9fbXV0ZWRfPT09YylyZXR1cm47e2xldCBkPW8uX2F1ZGlvX211dGVkXz9cIm11dGUtYXVkaW9cIjpcInVubXV0ZS1hdWRpb1wiO18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1c2VyLWluZm8tdXBkYXRlLCB1aWQ6IFwiKS5jb25jYXQobixcIiwgbXNnOiBcIikuY29uY2F0KGQpKSx0aGlzLnNhZmVFbWl0KHV0LlVTRVJfSU5GT19VUERBVEVELG4sZCk7fX1lbHNlIHtvLl90cnVzdF92aWRlb19tdXRlX3N0YXRlXz0hMDtsZXQgYz1vLl92aWRlb19tdXRlZF87aWYoby5fdmlkZW9fbXV0ZWRfPXIsby5fdmlkZW9fbXV0ZWRfPT09YylyZXR1cm47e2xldCBkPW8uX3ZpZGVvX211dGVkXz9cIm11dGUtdmlkZW9cIjpcInVubXV0ZS12aWRlb1wiO18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1c2VyLWluZm8tdXBkYXRlLCB1aWQ6IFwiKS5jb25jYXQobixcIiwgbXNnOiBcIikuY29uY2F0KGQpKSx0aGlzLnNhZmVFbWl0KHV0LlVTRVJfSU5GT19VUERBVEVELG4sZCk7fX1sZXQgYT1pPT09XCJhdWRpb1wiP28uaGFzQXVkaW86by5oYXNWaWRlbztpZihzIT09YSl7aWYoIXMmJmEpcmV0dXJuIChpPT09XCJhdWRpb1wiP28uX2F1ZGlvU1NSQzpvLl92aWRlb1NTUkMpPyhfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KG4sXCIgcHVibGlzaGVkIFwiKS5jb25jYXQoaSkpLHZvaWQgdGhpcy5zYWZlRW1pdCh1dC5VU0VSX1BVQkxJU0hFRCxvLGkpKTp2b2lkIF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQobixcIiByZWNlaXZlIFwiKS5jb25jYXQoaSxcIiB1bm11dGUgbWVzc2FnZSAgYmVmb3JlIGFkZCBzdHJlYW0gbWVzc2FnZSwgXCIpLmNvbmNhdChpLFwiIFNTUkMgZG9lc24ndCBleGlzdCB5ZXQuXCIpKTtpPT09XCJ2aWRlb1wiJiZvLl92aWRlb1RyYWNrJiYhby5fdmlkZW9fcHJlX3N1YnNjcmliZWQmJm8uX3ZpZGVvVHJhY2suX2Rlc3Ryb3koKSxpPT09XCJhdWRpb1wiJiZvLl9hdWRpb1RyYWNrLHRoaXMuX3AycENoYW5uZWwubXV0ZVJlbW90ZShvLGkpLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQobixcIiB1bnB1Ymxpc2hlZCBcIikuY29uY2F0KGkpKSx0aGlzLnNhZmVFbWl0KHV0LlVTRVJfVU5QVUJMSVNIRUQsbyxpKTt9fSksVCh0aGlzLFwiX2hhbmRsZVAyUExvc3RcIixhc3luYyBuPT57Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlY2VpdmUgcDJwIGxvc3RcIiksbikscGFyc2VJbnQobi5wMnBpZCwxMCk9PT10aGlzLnN0b3JlLnAycElkP2F3YWl0IHRoaXMuX3AycENoYW5uZWwucmVxdWVzdFJlY29ubmVjdCgpOl8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFAyUExvc3Qgc3RyZWFtIG5vdCBmb3VuZFwiKSxuKTt9KSxUKHRoaXMsXCJfaGFuZGxlVG9rZW5XaWxsRXhwaXJlXCIsKCk9PntfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVjZWl2ZWQgbWVzc2FnZSBvblRva2VuUHJpdmlsZWdlV2lsbEV4cGlyZVwiKSksdGhpcy5zYWZlRW1pdCh1dC5PTl9UT0tFTl9QUklWSUxFR0VfV0lMTF9FWFBJUkUpO30pLFQodGhpcyxcIl9oYW5kbGVCZWZvcmVVbmxvYWRcIixuPT57bi50eXBlPT09XCJiZWZvcmV1bmxvYWRcIiYmbi5yZXR1cm5WYWx1ZSE9PXZvaWQgMCYmbi5yZXR1cm5WYWx1ZSE9PVwiXCJ8fCh0aGlzLmxlYXZlKCksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gYXV0byBsZWF2ZSBvbmJlZm9yZXVubG9hZCBvciBwYWdlaGlkZVwiKSkpO30pLFQodGhpcyxcIl9oYW5kbGVVcGRhdGVOZXR3b3JrUXVhbGl0eVwiLCgpPT57aWYodGhpcy5fbmV0d29ya1F1YWxpdHlTZW5zaXRpdml0eT09PVwibm9ybWFsXCIpcmV0dXJuO2lmKG5hdmlnYXRvciYmbmF2aWdhdG9yLm9uTGluZSE9PXZvaWQgMCYmIW5hdmlnYXRvci5vbkxpbmUpcmV0dXJuIHZvaWQgdGhpcy5zYWZlRW1pdCh1dC5ORVRXT1JLX1FVQUxJVFkse2Rvd25saW5rTmV0d29ya1F1YWxpdHk6Nix1cGxpbmtOZXR3b3JrUXVhbGl0eTo2fSk7bGV0IG49e2Rvd25saW5rTmV0d29ya1F1YWxpdHk6MCx1cGxpbmtOZXR3b3JrUXVhbGl0eTowfTtuLnVwbGlua05ldHdvcmtRdWFsaXR5PXRoaXMuX3AycENoYW5uZWwuZ2V0VXBsaW5rTmV0d29ya1F1YWxpdHkoKSxuLmRvd25saW5rTmV0d29ya1F1YWxpdHk9dGhpcy5fcDJwQ2hhbm5lbC5nZXREb3dubGlua05ldHdvcmtRdWFsaXR5KCksdGhpcy5zYWZlRW1pdCh1dC5ORVRXT1JLX1FVQUxJVFksbik7fSksVCh0aGlzLFwiX2hhbmRsZVAyUEFkZEF1ZGlvT3JWaWRlb1N0cmVhbVwiLChuLGkscixvKT0+e2xldCBzPXRoaXMuX3VzZXJzLmZpbmQoYz0+Yy51aWQ9PT1pKTtpZighcylyZXR1cm4gdm9pZCBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBmaW5kIHRhcmdldCB1c2VyIShvbl9hZGRfc3RyZWFtKVwiKSk7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0cmVhbSBhZGRlZCB3aXRoIHVpZCBcIikuY29uY2F0KGksXCIsIHR5cGUgXCIpLmNvbmNhdChuKSksdGhpcy5zdG9yZS5zdWJzY3JpYmUocy51aWQsbix2b2lkIDAsdm9pZCAwLHZvaWQgMCxEYXRlLm5vdygpKTtsZXQgYT1uPT09XCJhdWRpb1wiP3MuaGFzQXVkaW86cy5oYXNWaWRlbztuPT09XCJhdWRpb1wiP3MuX3RydXN0X2F1ZGlvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITA6cy5fdHJ1c3RfdmlkZW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMCxuPT09XCJhdWRpb1wiPyhzLl9hdWRpb19hZGRlZF89ITAsciE9PXZvaWQgMCYmKHMuX2F1ZGlvU1NSQz1yKSxvIT09dm9pZCAwJiYocy5fYXVkaW9NaWQ9bykpOihzLl92aWRlb19hZGRlZF89ITAsciE9PXZvaWQgMCYmKHMuX3ZpZGVvU1NSQz1yKSxvIT09dm9pZCAwJiYocy5fdmlkZW9NaWQ9bykpLChuPT09XCJhdWRpb1wiP3MuaGFzQXVkaW86cy5oYXNWaWRlbykmJiFhJiYoXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChzLnVpZCxcIiBwdWJsaXNoZWQgXCIpLmNvbmNhdChuKSksdGhpcy5zYWZlRW1pdCh1dC5VU0VSX1BVQkxJU0hFRCxzLG4pKSx0aGlzLl9wMnBDaGFubmVsLmhhc1BlbmRpbmdSZW1vdGVNZWRpYShzLG4pJiYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlc3Vic2NyaWJlIFwiKS5jb25jYXQobixcIiBmb3IgdXNlciBcIikuY29uY2F0KHMudWlkLFwiIGFmdGVyIHJlY29ubmVjdC5cIikpLHRoaXMuX3N1YnNjcmliZShzLG4sITApLmNhdGNoKGM9PntfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgZXJyb3JcIiksYy50b1N0cmluZygpKTt9KSk7fSksdGhpcy5fY29uZmlnPXQsdGhpcy5fY2xpZW50SWQ9VXQoNSxcImNsaWVudC1cIiksdGhpcy5zdG9yZT1uZXcgTUUodC5jb2RlYyx0LmF1ZGlvQ29kZWMsdC5tb2RlLHRoaXMuX2NsaWVudElkKSx0aGlzLnN0b3JlLmNsaWVudENyZWF0ZWQoKSx0LnByb3h5U2VydmVyJiZ0aGlzLnNldFByb3h5U2VydmVyKHQucHJveHlTZXJ2ZXIsITApLHQudHVyblNlcnZlciYmdGhpcy5zZXRUdXJuU2VydmVyKHQudHVyblNlcnZlciwhMCksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gSW5pdGlhbGl6aW5nIEFnb3JhUlRDIGNsaWVudCB2XCIpLmNvbmNhdChpaSxcIiBidWlsZDogXCIpLmNvbmNhdChFZixcIiwgbW9kZTogXCIpLmNvbmNhdCh0aGlzLm1vZGUsXCIsIGNvZGVjOiBcIikuY29uY2F0KHRoaXMuY29kZWMpKSx0LmNsaWVudFJvbGVPcHRpb25zKXRyeXtmUih0LmNsaWVudFJvbGVPcHRpb25zKSxlPU9iamVjdC5hc3NpZ24oe30sdC5jbGllbnRSb2xlT3B0aW9ucyk7fWNhdGNoKG4pe18ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFwiKS5jb25jYXQobi50b1N0cmluZygpKSk7fXRoaXMuX3N0YXRzQ29sbGVjdG9yPW5ldyBfdSh0aGlzLnN0b3JlKSx0aGlzLl9zdGF0c0NvbGxlY3Rvci5vblN0YXRzRXhjZXB0aW9uPShuLGkscik9PntfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVjZWl2ZSBleGNlcHRpb24gbXNnLCBjb2RlOiBcIikuY29uY2F0KG4sXCIsIG1zZzogXCIpLmNvbmNhdChpLFwiLCB1aWQ6IFwiKS5jb25jYXQocikpLHRoaXMuc2FmZUVtaXQodXQuRVhDRVBUSU9OLHtjb2RlOm4sbXNnOmksdWlkOnJ9KTt9LHRoaXMuX3N0YXRzQ29sbGVjdG9yLm9uVXBsb2FkUHVibGlzaER1cmF0aW9uPShuLGkscixvKT0+e2xldCBzPXRoaXMuX3VzZXJzLmZpbmQoYT0+YS51aWQ9PT1uKTtzJiZYLnBlZXJQdWJsaXNoU3RhdHVzKHRoaXMuX3Nlc3Npb25JZCx7c3Vic2NyaWJlRWxhcHNlOm8sYXVkaW9QdWJsaXNoRHVyYXRpb246aSx2aWRlb1B1Ymxpc2hEdXJhdGlvbjpyLHBlZXI6cy5fdWludGlkfSk7fSx0aGlzLnN0b3JlLnVzZVAyUD10Lm1vZGU9PT1cInAycFwiLHRoaXMuX2dhdGV3YXk9bmV3IHRtKHRoaXMuc3RvcmUse2NsaWVudElkOnRoaXMuX2NsaWVudElkLG1vZGU6dGhpcy5tb2RlLGNvZGVjOnRoaXMuY29kZWMsd2Vic29ja2V0UmV0cnlDb25maWc6dC53ZWJzb2NrZXRSZXRyeUNvbmZpZ3x8RWUsaHR0cFJldHJ5Q29uZmlnOnQuaHR0cFJldHJ5Q29uZmlnfHxFZSxmb3JjZVdhaXRHYXRld2F5UmVzcG9uc2U6dC5mb3JjZVdhaXRHYXRld2F5UmVzcG9uc2U9PT12b2lkIDB8fHQuZm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlLHN0YXRzQ29sbGVjdG9yOnRoaXMuX3N0YXRzQ29sbGVjdG9yLHJvbGU6dC5yb2xlLGNsaWVudFJvbGVPcHRpb25zOmV9KSx0aGlzLl9jb25maWdEaXN0cmlidXRlPW5ldyBpbSx0aGlzLnN0b3JlLnVzZVAyUD8odGhpcy5fcDJwQ2hhbm5lbD1uZXcgQW4odGhpcy5zdG9yZSx0aGlzLl9zdGF0c0NvbGxlY3RvciksdGhpcy5faGFuZGxlUDJQRXZlbnRzKCkpOnRoaXMuX3AycENoYW5uZWw9bmV3IEpkKHRoaXMuc3RvcmUsdGhpcy5fc3RhdHNDb2xsZWN0b3IpLHRoaXMuX2hhbmRsZVAyUENoYW5uZWxFdmVudHMoKSx0aGlzLl9oYW5kbGVHYXRld2F5RXZlbnRzKCksdGhpcy5faGFuZGxlR2F0ZXdheVNpZ25hbEV2ZW50cygpO31hc3luYyBqb2luTWV0YSh0LGUsbixpLHIpe2xldCBvPSEoYXJndW1lbnRzLmxlbmd0aD41JiZhcmd1bWVudHNbNV0hPT12b2lkIDApfHxhcmd1bWVudHNbNV0scz1hcmd1bWVudHMubGVuZ3RoPjYmJmFyZ3VtZW50c1s2XSE9PXZvaWQgMCYmYXJndW1lbnRzWzZdO090KFwiSk9JTl9HQVRFV0FZX1VTRV80NDNQT1JUX09OTFlcIixvKSxPdChcIkpPSU5fR0FURVdBWV9VU0VfRFVBTF9ET01BSU5cIixzKTtsZXQgYT10aGlzLl9nYXRld2F5LnNpZ25hbC53ZWJzb2NrZXQ7cmV0dXJuIGEgaW5zdGFuY2VvZiBOYyYmKGEudXNlNDQzUG9ydE9ubHk9byxhLnRyeURvdWJsZURvbWFpbj1zKSxhc3luYyBmdW5jdGlvbihjLGQsbCl7YmQuZ2V0KGMpfHxiZC5zZXQoYyxbXSksd2QuZ2V0KGMpfHx3ZC5zZXQoYyxkKSxZaS5nZXQoYyl8fFlpLnNldChjLDApO2xldCB1PWJkLmdldChjKSxoPXdkLmdldChjKTtpZighdXx8IWgpdGhyb3cgbmV3IEVycm9yKFwiY29uY3VycmVudDogZGVmZXJRdWV1ZSBvciBtYXhDb25jdXJyZW5jeSBpcyBudWxsXCIpO2lmKFlpLmdldChjKT09PWgpe2xldCBTPXZjKCk7dS5wdXNoKFMpLGF3YWl0IFMucHJvbWlzZTt9WWkuc2V0KGMsWWkuZ2V0KGMpKzEpO2Zvcih2YXIgcD1hcmd1bWVudHMubGVuZ3RoLGc9bmV3IEFycmF5KHA+Mz9wLTM6MCksRT0zO0U8cDtFKyspZ1tFLTNdPWFyZ3VtZW50c1tFXTtsZXQgZj1hd2FpdCBsKC4uLmcpO3JldHVybiBZaS5zZXQoYyxZaS5nZXQoYyktMSksWWkuZ2V0KGMpPT09aC0xJiZ1Lmxlbmd0aD4wJiYodVswXS5yZXNvbHZlKCksdS5zaGlmdCgpKSxZaS5nZXQoYyk9PT0wJiYoYmQuc2V0KGMsW10pLHdkLnNldChjLDApLFlpLnNldChjLDApKSxmfShcImNsaWVudC5qb2luXCIsdihcIkpPSU5fTUFYX0NPTkNVUlJFTkNZXCIpLHRoaXMuam9pbi5iaW5kKHRoaXMpLHQsZSxuLGkscil9YXN5bmMgam9pbih0LGUsbixpLHIpe2xldCBvPSsrdGhpcy5fbnVtYmVyT2ZKb2luQ291bnQ7dGhpcy5zdG9yZS5qb2luU3RhcnQoKSxpJiYodGhpcy5zdG9yZS51aWQ9aSk7bGV0IHM9KE5kfHxOZHx8KE5kPSh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wuc3BsaXQoXCI6XCIpWzBdfHxcIlwiKS50b1VwcGVyQ2FzZSgpLE5kKSk9PT1cIkhUVFBTXCIsYT12UigpP3dpbmRvdy5pc1NlY3VyZUNvbnRleHQ6XCJCcm93c2VyIE5vdCBTdXBwb3J0XCI7KCF2UigpJiYhc3x8IXdpbmRvdy5pc1NlY3VyZUNvbnRleHQpJiZfLndhcm5pbmcoXCJUaGUgd2Vic2l0ZSBtdXN0IGJlIHJ1bm5pbmcgaW4gYSBzZWN1cmUgY29udGV4dCAoQWJvdXQgc2VjdXJlIGNvbnRleHQ6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NlY3VyaXR5L1NlY3VyZV9Db250ZXh0cyApLCBvdGhlcndpc2UgdGhlIG1lZGlhIGNvbGxlY3Rpb24gd2lsbCBiZSByZXN0cmljdGVkIGJ5IHRoZSBicm93c2VyXCIpLHRoaXMuY29ubmVjdGlvblN0YXRlPT09XCJESVNDT05ORUNURURcIiYmKHRoaXMuc3RvcmUuYXZvaWRKb2luU3RhcnQ9TWF0aC5yb3VuZChEYXRlLm5vdygpKSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGF2b2lkSm9pblN0YXJ0IHRvIFwiKS5jb25jYXQodGhpcy5zdG9yZS5hdm9pZEpvaW5TdGFydCkpKSxYLnNldEFwcElkKHQpO3RyeXtpZighbiYmbiE9PW51bGwpdGhyb3cgbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxcIkludmFsaWQgdG9rZW46IFwiLmNvbmNhdChuLFwiLiBJZiB5b3UgZG9uIG5vdCB1c2UgdG9rZW4sIHNldCBpdCB0byBudWxsXCIpKTtuJiZQZShuLFwidG9rZW5cIiwxLDIwNDcpLFBlKHQsXCJhcHBpZFwiLDEsMjA0NyksWHUoZSksaSYmUXUoaSksciYmUGUocixcIm9wdGlvbmFsSW5mb1wiLDEsMjA0Nyk7fWNhdGNoKEUpe3Rocm93IFgucmVwb3J0QXBpSW52b2tlKE1zKCkse25hbWU6VGUuSk9JTixvcHRpb25zOlt0LGUsbixpXSxzdGF0ZXM6e2lzSHR0cHM6cyxpc1NlY3VyZUNvbnRleHQ6YX0sdGFnOlp0LlRSQUNFUn0pLm9uRXJyb3IoRSksRX1pZih0aGlzLl9sZWF2ZU11dGV4LmlzTG9ja2VkJiYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGpvaW46IHdhaXRpbmcgbGVhdmUgb3BlcmF0aW9uXCIpKSwoYXdhaXQgdGhpcy5fbGVhdmVNdXRleC5sb2NrKCkpKCksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGpvaW46IGNvbnRpbnVlXCIpKSksdGhpcy5fam9pbkFuZE5vdExlYXZlWWV0PSEwLHRoaXMuY29ubmVjdGlvblN0YXRlIT09XCJESVNDT05ORUNURURcIil7bGV0IEU9bmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIENsaWVudCBhbHJlYWR5IGluIGNvbm5lY3RpbmcvY29ubmVjdGVkIHN0YXRlXCIpKTt0aHJvdyBYLnJlcG9ydEFwaUludm9rZShNcygpLHtuYW1lOlRlLkpPSU4sb3B0aW9uczpbdCxlLG4saV0sc3RhdGVzOntpc0h0dHBzOnMsaXNTZWN1cmVDb250ZXh0OmF9LHRhZzpadC5UUkFDRVJ9KS5vbkVycm9yKEUpLEV9dGhpcy5fZ2F0ZXdheS5zdGF0ZT1cIkNPTk5FQ1RJTkdcIjtsZXQgYz1hd2FpdCBYdih7YXBwSWQ6dCxjbmFtZTplLHVpZDppLHN0cmluZ1VpZDp0eXBlb2YgaT09XCJzdHJpbmdcIj9pOnZvaWQgMCx0b2tlbjpufHx0LGNsb3VkUHJveHlTZXJ2ZXI6dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGV9KTtpZighdGhpcy5fam9pbkFuZE5vdExlYXZlWWV0KXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBDbGllbnQgYWxyZWFkeSBsZWZ0XCIpKTtsZXQgZD1jPy5zaWR8fE1zKCk7Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3RhcnQgam9pbiBjaGFubmVsIFwiKS5jb25jYXQoZSxcIiwgam9pbiBudW1iZXI6IFwiKS5jb25jYXQobykpLHRoaXMuX3Nlc3Npb25JZHx8KHRoaXMuX3Nlc3Npb25JZD1kLHRoaXMuc3RvcmUuc2Vzc2lvbklkPXRoaXMuX3Nlc3Npb25JZCk7bGV0IGw9WC5yZXBvcnRBcGlJbnZva2UoZCx7bmFtZTpUZS5KT0lOLG9wdGlvbnM6W3QsZSxuLGldLHN0YXRlczp7aXNIdHRwczpzLGlzU2VjdXJlQ29udGV4dDphfSx0YWc6WnQuVFJBQ0VSfSksdT14aSh4aSh7fSx0aGlzLl9ydG1Db25maWcpLHt9LHtjbGllbnRJZDp0aGlzLl9jbGllbnRJZCxhcHBJZDp0LHNpZDp0aGlzLl9zZXNzaW9uSWQsY25hbWU6ZSx1aWQ6dHlwZW9mIGkhPVwic3RyaW5nXCI/aTpudWxsLHR1cm5TZXJ2ZXI6dGhpcy5fdHVyblNlcnZlcixwcm94eVNlcnZlcjp0aGlzLl9wcm94eVNlcnZlcix0b2tlbjpufHx0LGNsb3VkUHJveHlTZXJ2ZXI6dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGUsb3B0aW9uYWxJbmZvOnIsbGljZW5zZTp0aGlzLl9saWNlbnNlLHVzZUxvY2FsQWNjZXNzUG9pbnQ6dGhpcy5fdXNlTG9jYWxBY2Nlc3NQb2ludCxwcmVsb2FkOiEhY30sdGhpcy5fcmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZSE9PXZvaWQgMCYme2RlZmF1bHRWaWRlb1N0cmVhbTp0aGlzLl9yZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlfSk7aWYodGhpcy5fdXNlTG9jYWxBY2Nlc3NQb2ludCYmKHUuc2V0TG9jYWxBUFZlcnNpb249dGhpcy5fc2V0TG9jYWxBUFZlcnNpb24pLHR5cGVvZiBpPT1cInN0cmluZ1wiJiYodS5zdHJpbmdVaWQ9aSx0aGlzLl91aW50VWlkPyh1LnVpZD10aGlzLl91aW50VWlkLHRoaXMuX3VpbnRVaWQ9dm9pZCAwKTp1LnVpZD0wKSx0aGlzLl9lbmNyeXB0aW9uTW9kZSE9PVwibm9uZVwiJiZ0aGlzLl9lbmNyeXB0aW9uU2VjcmV0KXtpZih1LmFlc21vZGU9dGhpcy5fZW5jcnlwdGlvbk1vZGUsdS5hZXNwYXNzd29yZD1hd2FpdChhc3luYyBFPT57bGV0IGY9ZnVuY3Rpb24oYil7bGV0IHc9d2luZG93LmF0b2IoYE1JR2ZNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0R05BRENCaVFLQmdRRENNblhBSGtLSUdBTSt4NE4yMmdDSStXeXVcblNUTTl6dGtUM3VZc2xUVDJQdUttWmZQemhINmtWZE83UFRqR0NPWm5Bc3liM29UdFdhdDBLY3hRNGp4dnFRVitcbkh2WWwzaUkxWWQ0dmwyYzNxUk1KUEx0UkRmTnhhMk1jeGdxN2U5YUVVaWJ6ZGQwc3QrT0pBeTN0T2ovWTBhVnlcbnhRaVlEejN2cWE2YlAyOWFkd0lEQVFBQmApLEQ9bmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKHcubGVuZ3RoKSk7Zm9yKGxldCBrPTA7azx3Lmxlbmd0aDtrKz0xKURba109dy5jaGFyQ29kZUF0KGspO3JldHVybiBEfSgpLFM9YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KFwic3BraVwiLGYse25hbWU6XCJSU0EtT0FFUFwiLGhhc2g6XCJTSEEtMjU2XCJ9LCEwLFtcImVuY3J5cHRcIl0pLEM9dWYoRSksQT1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5lbmNyeXB0KHtuYW1lOlwiUlNBLU9BRVBcIn0sUyxDKTtyZXR1cm4gZnVuY3Rpb24oYil7bGV0IHc9XCJcIjtmb3IobGV0IEQ9MDtEPGIubGVuZ3RoO0QrPTEpdys9U3RyaW5nLmZyb21DaGFyQ29kZShiW0RdKTtyZXR1cm4gd2luZG93LmJ0b2Eodyl9KG5ldyBVaW50OEFycmF5KEEpKX0pKHRoaXMuX2VuY3J5cHRpb25TZWNyZXQpLCF0aGlzLl9qb2luQW5kTm90TGVhdmVZZXQpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIENsaWVudCBhbHJlYWR5IGxlZnRcIikpO3RoaXMuX2VuY3J5cHRpb25TYWx0JiYodS5hZXNzYWx0PXRoaXMuX2VuY3J5cHRpb25TYWx0KTt9aWYodGhpcy5fZW5jcnlwdERhdGFTdHJlYW0mJih0aGlzLl9lbmNyeXB0aW9uTW9kZT09PVwiYWVzLTEyOC1nY20yXCJ8fHRoaXMuX2VuY3J5cHRpb25Nb2RlPT09XCJhZXMtMjU2LWdjbTJcIikpaWYodGhpcy5fZW5jcnlwdGlvblNhbHQmJnRoaXMuX2VuY3J5cHRpb25TZWNyZXQpaWYod2luZG93LmNyeXB0by5zdWJ0bGUpe2xldCBFPW5ldyBUZXh0RW5jb2RlcixmPXYoXCJVU0VfUFVSRV9FTkNSWVBUSU9OX01BU1RFUl9LRVlcIik/RS5lbmNvZGUodS5hcHBJZCt0aGlzLl9lbmNyeXB0aW9uU2VjcmV0K3RoaXMuX2VuY3J5cHRpb25TZWNyZXQpOkUuZW5jb2RlKHUuYXBwSWQrdS5jbmFtZSt0aGlzLl9lbmNyeXB0aW9uU2VjcmV0KTt0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbUl2PWF3YWl0IGFzeW5jIGZ1bmN0aW9uKFMsQyxBKXtsZXQgYj1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXCJyYXdcIixDLFwiUEJLREYyXCIsITEsW1wiZGVyaXZlQml0c1wiLFwiZGVyaXZlS2V5XCJdKSx3PVM9PT1cImFlcy0xMjgtZ2NtMlwiPzEyODoyNTYsRD1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5kZXJpdmVCaXRzKHtuYW1lOlwiUEJLREYyXCIsaXRlcmF0aW9uczpBUixoYXNoOlwiU0hBLTI1NlwiLHNhbHQ6QX0sYix3K1RCKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoRCkuc3ViYXJyYXkody84KX0odGhpcy5fZW5jcnlwdGlvbk1vZGUsZixGbyh0aGlzLl9lbmNyeXB0aW9uU2FsdCkpLHRoaXMuX2VuY3J5cHREYXRhU3RyZWFtS2V5PWF3YWl0IGFzeW5jIGZ1bmN0aW9uKFMsQyxBKXtsZXQgYj1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXCJyYXdcIixDLFwiUEJLREYyXCIsITEsW1wiZGVyaXZlQml0c1wiLFwiZGVyaXZlS2V5XCJdKSx3PVM9PT1cImFlcy0xMjgtZ2NtMlwiPzEyODoyNTY7cmV0dXJuIGF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmRlcml2ZUtleSh7bmFtZTpcIlBCS0RGMlwiLGl0ZXJhdGlvbnM6QVIsaGFzaDpcIlNIQS0yNTZcIixzYWx0OkF9LGIse25hbWU6XCJBRVMtR0NNXCIsbGVuZ3RoOnd9LCEwLFtcImVuY3J5cHRcIixcImRlY3J5cHRcIl0pfSh0aGlzLl9lbmNyeXB0aW9uTW9kZSxmLEZvKHRoaXMuX2VuY3J5cHRpb25TYWx0KSk7fWVsc2UgYT9fLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBlbmNyeXB0IGRhdGFzdHJlYW0gbXVzdCBiZSBydW5uaW5nIGluIGEgc2VjdXJlIGNvbnRleHQsIGZhbGxiYWNrIHRvIHBsYWluIGRhdGEgc3RyZWFtXCIpKTpfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjdXJyZW50IGJyb3dzZXIgZG8gbm90IHN1cHBvcnQgV2ViQ3J5cHRvICxmYWxsYmFjayB0byBwbGFpbiBkYXRhIHN0cmVhbVwiKSksdGhpcy5fZW5jcnlwdERhdGFTdHJlYW09ITE7ZWxzZSB0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbT0hMSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gbm8gc2FsdCAvIHNlY3JldCwgY2Fubm90IHN1cHBvcnQgZW5jcnlwdCBkYXRhIHN0cmVhbSwgZmFsbGJhY2sgdG8gcGxhaW4gZGF0YSBzdHJlYW1cIikpO3RoaXMuX3N0YXJ0U2Vzc2lvbih0aGlzLl9zZXNzaW9uSWQse2NoYW5uZWw6ZSxhcHBJZDp0LHN0cmluZ1VpZDp1LnN0cmluZ1VpZH0pO2xldCBoPXRoaXMuX3Nlc3Npb25JZDtzZXRUaW1lb3V0KCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9PT1cIkNPTk5FQ1RJTkdcIiYmaD09PXRoaXMuX3Nlc3Npb25JZCYmWC5qb2luQ2hhbm5lbFRpbWVvdXQodGhpcy5fc2Vzc2lvbklkLDUpO30sNWUzKTt0cnl7dmFyIHA7bGV0IEUsZj11LmNsb3VkUHJveHlTZXJ2ZXI7aWYoVyhwPVtcInByb3h5M1wiLFwicHJveHk0XCIsXCJwcm94eTVcIl0pLmNhbGwocCxmKSl7bGV0IHc9dihcIlBST1hZX1NFUlZFUl9UWVBFM1wiKTtBcnJheS5pc0FycmF5KHcpP3UucHJveHlTZXJ2ZXI9d1swXTp1LnByb3h5U2VydmVyPXc7fWlmKFguc2V0UHJveHlTZXJ2ZXIodS5wcm94eVNlcnZlciksXy5zZXRQcm94eVNlcnZlcih1LnByb3h5U2VydmVyKSx0aGlzLnN0b3JlLnJlcXVlc3RBUFN0YXJ0KCksYyl7aWYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGdldCBzZXJ2ZXJJbmZvIFN1Y2Nlc3MgZnJvbSBQcmVsb2FkIENhY2hlIFwiKS5jb25jYXQodS5zdHJpbmdVaWQ/XCIsIFwiLmNvbmNhdCh1LnN0cmluZ1VpZCxcIiA9PiBcIikuY29uY2F0KGMuaW50VWlkKTpcIlwiLFwiIFwiKSksdS5zdHJpbmdVaWQmJiF1LnVpZCYmKHUudWlkPWMuaW50VWlkKSxFPXtnYXRld2F5SW5mbzpjLmFwLmdhdGV3YXlJbmZvfSx2KFwiSk9JTl9XSVRIX0ZBTExCQUNLX01FRElBX1BST1hZXCIpJiZ1LnR1cm5TZXJ2ZXIubW9kZT09PVwiYXV0b1wiKWlmKGMuYXAucHJveHlJbmZvLmFkZHJlc3Nlcy5sZW5ndGg9PT0wKV8ud2FybmluZyhcIm5vIGVkZ2Ugc2VydmljZXMgaW4gYXAgcmVzcG9uc2Ugb2YgcHJveHkgZmFsbGJhY2ssIHdpbGwgbm90IHNldCBwcm94eSBpbiBpY2VTZXJ2ZXJzXCIpO2Vsc2Uge2xldCB3PShhd2FpdCBrTyhjLmFwLnByb3h5SW5mbyxjLmFwLmdhdGV3YXlJbmZvLnVpZCkpLm1hcChEPT4oe3R1cm5TZXJ2ZXJVUkw6RC5hZGRyZXNzLHRjcHBvcnQ6RC50Y3Bwb3J0fHxWZS50Y3Bwb3J0LHVkcHBvcnQ6RC51ZHBwb3J0fHxWZS51ZHBwb3J0LHVzZXJuYW1lOkQudXNlcm5hbWV8fFZlLnVzZXJuYW1lLHBhc3N3b3JkOkQucGFzc3dvcmR8fFZlLnBhc3N3b3JkLGZvcmNldHVybjohMSxzZWN1cml0eTohMH0pKTt1LnR1cm5TZXJ2ZXI9e21vZGU6XCJtYW51YWxcIixzZXJ2ZXJzOnd9O31RdihjLHUuc3RyaW5nVWlkKTt9ZWxzZSB7aWYodS5zdHJpbmdVaWQmJiF1LnVpZCl7bGV0IHc7W3csRV09YXdhaXQgai5hbGwoW2gwKHUuc3RyaW5nVWlkLHUsdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UudG9rZW4sdGhpcy5fY29uZmlnLmh0dHBSZXRyeUNvbmZpZ3x8RWUsdGhpcy5zdG9yZSksdHYodSx0aGlzLl9heGlvc0NhbmNlbFNvdXJjZS50b2tlbix0aGlzLl9jb25maWcuaHR0cFJldHJ5Q29uZmlnfHxFZSwhMCx0aGlzLnN0b3JlKV0pLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBnZXRVc2VyQWNjb3VudCBTdWNjZXNzIFwiKS5jb25jYXQodS5zdHJpbmdVaWQsXCIgPT4gXCIpLmNvbmNhdCh3KSksdS51aWQ9dyxFLmdhdGV3YXlJbmZvLnVpZD13LEUuZ2F0ZXdheUluZm8ucmVzLnVpZD13O31lbHNlIEU9YXdhaXQgdHYodSx0aGlzLl9heGlvc0NhbmNlbFNvdXJjZS50b2tlbix0aGlzLl9jb25maWcuaHR0cFJldHJ5Q29uZmlnfHxFZSwhMCx0aGlzLnN0b3JlKTtpZighdGhpcy5fam9pbkFuZE5vdExlYXZlWWV0KXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBDbGllbnQgYWxyZWFkeSBsZWZ0XCIpKX10aGlzLnN0b3JlLnJlcXVlc3RBUEVuZCgpLHNldFRpbWVvdXQoKCk9Pnt0aGlzLl9jb25maWdEaXN0cmlidXRlLnN0YXJ0R2V0Q29uZmlnRGlzdHJpYnV0ZSh1LHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlLnRva2VuKSx0aGlzLl9jb25maWdEaXN0cmlidXRlLm9uKEZFLlVQREFURV9CSVRSQVRFX0xJTUlULHc9Pnt0aGlzLl9wMnBDaGFubmVsLnVwZGF0ZUJpdHJhdGVMaW1pdCh3KTt9KTt9LDApLHRoaXMuX2tleT1ufHx0O2xldCBTPUUuZ2F0ZXdheUluZm8sQz11LnVpZD91LnVpZDpTLnVpZDt0aGlzLl9qb2luSW5mbz14aSh4aSh7fSx1KSx7fSx7Y2lkOlMuY2lkLHVpZDpDLHZpZDpTLnZpZCxhcFJlc3BvbnNlOlMucmVzLGFwR2F0ZXdheUFkZHJlc3M6Uy5hcEdhdGV3YXlBZGRyZXNzLHVuaV9sYnNfaXA6Uy51bmlfbGJzX2lwLGdhdGV3YXlBZGRyczpTLmdhdGV3YXlBZGRyc30pLHRoaXMuc3RvcmUuaW50VWlkPUM7bGV0IEE9YXdhaXQgdGhpcy5fam9pbkdhdGV3YXkoKTtpZighdGhpcy5fam9pbkFuZE5vdExlYXZlWWV0KXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBDbGllbnQgYWxyZWFkeSBsZWZ0XCIpKTtsLm9uU3VjY2VzcyhBKSx0aGlzLl9hcHBJZD10LHRoaXMuX2NoYW5uZWxOYW1lPXUuY25hbWUsdGhpcy5fdWlkPUEsdGhpcy5zdG9yZS51aWQ9QSxzZXRUaW1lb3V0KCgpPT57dGhpcy5fbmV0d29ya1F1YWxpdHlJbnRlcnZhbCYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fbmV0d29ya1F1YWxpdHlJbnRlcnZhbCksdGhpcy5fbmV0d29ya1F1YWxpdHlJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5faGFuZGxlVXBkYXRlTmV0d29ya1F1YWxpdHksMmUzKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihqZSgpP1wiYmVmb3JldW5sb2FkXCI6XCJwYWdlaGlkZVwiLHRoaXMuX2hhbmRsZUJlZm9yZVVubG9hZCksdGhpcy5fc3RhdHNDb2xsZWN0b3Iuc3RhcnRVcGRhdGVTdGF0cygpO30sMCk7bGV0IGI9dS5zdHJpbmdVaWQ/XCJzdHJpbmcgdWlkOiBcIi5jb25jYXQodS5zdHJpbmdVaWQsXCIsdWlkOiBcIikuY29uY2F0KHUudWlkKTpcInVpZDogXCIuY29uY2F0KHRoaXMuX3VpZCk7cmV0dXJuIF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIEpvaW5pbmcgY2hhbm5lbCBzdWNjZXNzOiBjaGFubmVsOiBcIikuY29uY2F0KGUsXCIsXCIpLmNvbmNhdChiKSksc2V0VGltZW91dCgoKT0+e18uc3RhcnRVcGxvYWQoKTt9LDVlMyksdGhpcy5zdG9yZS5qb2luRW5kKCksZz10aGlzLFcoSnIpLmNhbGwoSnIsZyl8fEpyLnB1c2goZyksdGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGU9PT1cImRpc2FibGVkXCImJmZ0KCkuc3VwcG9ydFdlYkNyeXB0byYmdihcIkVOQUJMRV9QUkVMT0FEXCIpJiZEZih0aGlzLl9qb2luSW5mbyksQX1jYXRjaChFKXtsZXQgZj1BcnJheS5pc0FycmF5KEUpP0VbMF06RTt0aHJvdyBmJiZmLmNvZGU9PT1SLk9QRVJBVElPTl9BQk9SVEVEP18ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGpvaW4gbnVtYmVyOiBcIikuY29uY2F0KG8sXCIsIEpvaW5pbmcgY2hhbm5lbCBmYWlsZWQsIHJvbGxiYWNrXCIpLGYpOl8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBqb2luIG51bWJlcjogXCIpLmNvbmNhdChvLFwiLCBKb2luaW5nIGNoYW5uZWwgZmFpbGVkLCByb2xsYmFja1wiKSxmKSxmLmNvZGUhPT1SLk9QRVJBVElPTl9BQk9SVEVEJiZ0aGlzLl9udW1iZXJPZkpvaW5Db3VudD09PW8mJih0aGlzLl9nYXRld2F5LnN0YXRlPVwiRElTQ09OTkVDVEVEXCIsdGhpcy5fcmVzZXQoKSksbC5vbkVycm9yKGYpLGZ9dmFyIGc7fV9qb2luR2F0ZXdheSgpe2lmKCF0aGlzLl9qb2luSW5mb3x8IXRoaXMuX2tleSl0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OKTtyZXR1cm4gdGhpcy5fZ2F0ZXdheS5qb2luKHRoaXMuX2pvaW5JbmZvLHRoaXMuX2tleSwhKHRoaXMuX2pvaW5JbmZvLmNsb3VkUHJveHlTZXJ2ZXIhPT1cImRpc2FibGVkXCJ8fHRoaXMuX2pvaW5JbmZvLnByb3h5U2VydmVyfHwhdihcIkpPSU5fV0lUSF9GQUxMQkFDS19TSUdOQUxfUFJPWFlcIikpKX1hc3luYyBsZWF2ZSgpe18uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIExlYXZpbmcgY2hhbm5lbFwiKSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoamUoKT9cImJlZm9yZXVubG9hZFwiOlwicGFnZWhpZGVcIix0aGlzLl9oYW5kbGVCZWZvcmVVbmxvYWQpLHRoaXMuX3Jlc2V0KCksZnVuY3Rpb24oZSl7bGV0IG49SnIuaW5kZXhPZihlKTtuIT09LTEmJkpyLnNwbGljZShuLDEpO30odGhpcyksdGhpcy5fc3RhdHNDb2xsZWN0b3Iuc3RvcFVwZGF0ZVN0YXRzKCk7bGV0IHQ9YXdhaXQgdGhpcy5fbGVhdmVNdXRleC5sb2NrKCk7aWYodGhpcy5jb25uZWN0aW9uU3RhdGU9PT1cIkRJU0NPTk5FQ1RFRFwiKXJldHVybiBfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBMZWF2aW5nIGNoYW5uZWwgcmVwZWF0ZWQsIHN1Y2Nlc3NcIikpLHZvaWQgdCgpO2F3YWl0IHRoaXMuX2dhdGV3YXkubGVhdmUodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1cIkNPTk5FQ1RFRFwiKSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBMZWF2aW5nIGNoYW5uZWwgc3VjY2Vzc1wiKSksdGhpcy5fam9pbkFuZE5vdExlYXZlWWV0PSExLHRoaXMuc3RvcmUucmVzZXRKb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzKCksdCgpO31hc3luYyBwdWJsaXNoKHQpe2xldCBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDApfHxhcmd1bWVudHNbMV07aWYoIUFycmF5LmlzQXJyYXkodCkpe2lmKCEodCBpbnN0YW5jZW9mIG5vKSlyZXR1cm4gdGhpcy5fcHVibGlzaERhdGFDaGFubmVsKHQpO3Q9W3RdO31pZih0Lmxlbmd0aD09PTApdGhyb3cgbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxcInBhcmFtIGxpc3QgaXMgZW1wdHlcIik7bGV0IG49dDtpZih0aGlzLl9nYXRld2F5LnJvbGU9PT1cImF1ZGllbmNlXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImF1ZGllbmNlIGNhbiBub3QgcHVibGlzaCBzdHJlYW1cIik7Zm9yKGxldCByIG9mIG4pe2lmKCEociBpbnN0YW5jZW9mIG5vKSl0aHJvdyBuZXcgTyhSLklOVkFMSURfUEFSQU1TLFwicGFyYW1ldGVyIGlzIG5vdCBsb2NhbCB0cmFja1wiKTtpZighci5fZW5hYmxlZCYmZSl0aHJvdyBuZXcgTyhSLlRSQUNLX0lTX0RJU0FCTEVELFwiY2FuIG5vdCBwdWJsaXNoIGEgZGlzYWJsZWQgdHJhY2s6IFwiLmNvbmNhdChyLmdldFRyYWNrSWQoKSkpfV8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFB1Ymxpc2hpbmcgdHJhY2tzLCBpZCBcIikuY29uY2F0KG4ubWFwKHI9PlwiXCIuY29uY2F0KHIuZ2V0VHJhY2tJZCgpLFwiIFwiKSkpKTtsZXQgaT1hd2FpdCB0aGlzLl9wdWJsaXNoTXV0ZXgubG9jaygpO2F3YWl0IHRoaXMuX2NvbmZpZ0Rpc3RyaWJ1dGUuYXdhaXRDb25maWdEaXN0cmlidXRlQ29tcGxldGUoKSxlJiZuLmZvckVhY2gocj0+e2xldCBvPXRoaXMuX2NvbmZpZ0Rpc3RyaWJ1dGUuZ2V0Qml0cmF0ZUxpbWl0KCk7ciBpbnN0YW5jZW9mIEZ0JiZvJiZyLnNldEJpdHJhdGVMaW1pdChvLnVwbGluayk7fSk7dHJ5e2F3YWl0IHRoaXMuX3B1Ymxpc2hIaWdoU3RyZWFtKG4pLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFB1Ymxpc2ggc3VjY2VzcywgaWQgXCIpLmNvbmNhdChuLm1hcChyPT5cIlwiLmNvbmNhdChyLmdldFRyYWNrSWQoKSxcIiBcIikpKSk7fWNhdGNoKHIpe3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBwdWJsaXNoIGVycm9yXCIpLHIudG9TdHJpbmcoKSkscn1maW5hbGx5e2koKTt9fWFzeW5jIF9wdWJsaXNoRGF0YUNoYW5uZWwodCl7TnQodC5pZCxcImlkXCIsMCw2NTUzNSwhMCksTnIodC5vcmRlcmVkLFwib3JkZXJlZFwiKSxQZSh0Lm1ldGFkYXRhLFwibWV0YWRhdGFcIiwwLDUxMiksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gUHVibGlzaGluZyBkYXRhY2hhbm5lbHMsIGlkIFwiKS5jb25jYXQodC5pZCkpO2xldCBlPWF3YWl0IHRoaXMuX3B1Ymxpc2hNdXRleC5sb2NrKCk7dHJ5e2lmKHRoaXMuX3AycENoYW5uZWwuZ2V0QWxsRGF0YUNoYW5uZWxzKCkuZmluZEluZGV4KHI9PnIuaWQ9PT10LmlkKSE9PS0xKXRocm93IG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJJbnZhbGlkIGlkOiBcIi5jb25jYXQodC5pZCxcIi4gSWYgeW91IHdhbnQgdG8gcmVwdWJsaXNoIHRoZSBkYXRhY2hhbm5lbCwgdW5wdWJsaXNoIGZpcnN0XCIpKTtpZighdGhpcy5fam9pbkluZm98fHRoaXMuX3VpZD09PXZvaWQgMCl0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3QgcHVibGlzaCBkYXRhY2hhbm5lbCwgaGF2ZW4ndCBqb2luZWQgeWV0IVwiKTtpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVwiQ09OTkVDVEVEXCImJnRoaXMuY29ubmVjdGlvblN0YXRlIT09XCJSRUNPTk5FQ1RJTkdcIil0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBwdWJsaXNoIGRhdGFjaGFubmVsIGluIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSxcIiBzdGF0ZVwiKSk7aWYodGhpcy5fdHVyblNlcnZlci5tb2RlPT09XCJhdXRvXCImJnYoXCJGT1JDRV9UVVJOXCIpJiYhdihcIlRVUk5fRU5BQkxFX1RDUFwiKSYmIXYoXCJUVVJOX0VOQUJMRV9VRFBcIikpdGhyb3cgbmV3IE8oUi5VTkVYUEVDVEVEX0VSUk9SLFwiZm9yY2UgVFVSTiBXaXRoIE5vIFRVUk4gQ29uZmlndXJhdGlvblwiKTtsZXQgbj1mdW5jdGlvbihyKXtyZXR1cm4gS3YociwhMSl9KHQpLGk9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5wdWJsaXNoRGF0YUNoYW5uZWwoW25dKTtpZihpLmxlbmd0aD4wKXtpZih0eXBlb2Ygbi5fb3JpZ2luRGF0YUNoYW5uZWxJZCE9XCJudW1iZXJcIil0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBwdWJsaXNoIHdpdGggbWVkaWFUeXBlIGRhdGFjaGFubmVsLCBjYW5ub3QgZ2V0IFJUQ0RhdGFjaGFubmVsIGlkXCIpKSxuZXcgTyhSLkNSRUFURV9EQVRBQ0hBTk5FTF9FUlJPUik7dHJ5e2F3YWl0IGouYWxsKGkubWFwKHI9PnRoaXMuX3VpZCYmdGhpcy5fZ2F0ZXdheS5wdWJsaXNoRGF0YUNoYW5uZWwodGhpcy5fdWlkLHIsITApKSksYXdhaXQgbi5fd2FpdFRpbGxPcGVuKCk7fWNhdGNoKHIpe2lmKHIuY29kZSE9PVIuRElTQ09OTkVDVF9QMlApdGhyb3cgcn19cmV0dXJuIF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFB1Ymxpc2ggZGF0YUNoYW5uZWxzIHN1Y2Nlc3MsIGlkIFwiKS5jb25jYXQobi5pZCkpLG59Y2F0Y2gobil7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHB1Ymxpc2ggZGF0YWNoYW5uZWxzIGVycm9yXCIpLG4udG9TdHJpbmcoKSksbn1maW5hbGx5e2UoKTt9fWFzeW5jIHVucHVibGlzaCh0KXtpZighdGhpcy5fam9pbkluZm98fHRoaXMuX3VpZD09PXZvaWQgMCl0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3QgdW5wdWJsaXNoIHN0cmVhbSwgaGF2ZW4ndCBqb2luZWQgeWV0IVwiKTtsZXQgZT1bXTtpZih0KWlmKEFycmF5LmlzQXJyYXkodCkpZT10O2Vsc2Uge2lmKCEodCBpbnN0YW5jZW9mIG5vKSlyZXR1cm4gdGhpcy5fdW5wdWJsaXNoRGF0YUNoYW5uZWwoW3RdKTtlPVt0XTt9ZWxzZSB0aGlzLnN0b3JlLnVzZVAyUHx8YXdhaXQgdGhpcy5fdW5wdWJsaXNoRGF0YUNoYW5uZWwoKSxlPXRoaXMuX3AycENoYW5uZWwuZ2V0QWxsVHJhY2tzKCEwKTtfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBVbnB1Ymxpc2ggdHJhY2tzLCB0cmFja3MgXCIpLmNvbmNhdChlLm1hcChpPT5cIlwiLmNvbmNhdChpLmdldFRyYWNrSWQoKSxcIiBcIikpLFwiIFwiKSk7bGV0IG49YXdhaXQgdGhpcy5fcHVibGlzaE11dGV4LmxvY2soKTt0cnl7aWYodGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIEFuKXtsZXQgaT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVucHVibGlzaChlKTtpJiZhd2FpdCB0aGlzLl9nYXRld2F5LnNlbmRFeHRlbnNpb25NZXNzYWdlKGllLlVOUFVCTElTSCx7dW5wdWJNc2c6aX0sITApO31lbHNlIHtsZXQgaT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVucHVibGlzaChlKTtpJiZhd2FpdCB0aGlzLl9nYXRld2F5LnVucHVibGlzaChpLHRoaXMuX3VpZCksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gVW5wdWJsaXNoIHN1Y2Nlc3MsdHJhY2tzIFwiKS5jb25jYXQoZS5tYXAocj0+XCJcIi5jb25jYXQoci5nZXRUcmFja0lkKCkpKSkpO319Y2F0Y2goaSl7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVucHVibGlzaCBlcnJvclwiKSxpLnRvU3RyaW5nKCkpLGl9ZmluYWxseXtuJiZuKCk7fX1hc3luYyBfdW5wdWJsaXNoRGF0YUNoYW5uZWwodCl7dCE9PXZvaWQgMCYmdC5sZW5ndGghPT0wfHwodD10aGlzLl9wMnBDaGFubmVsLmdldEFsbERhdGFDaGFubmVscygpKSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBVbnB1Ymxpc2ggZGF0YWNoYW5uZWxzLCBkYXRhY2hhbm5lbHMgXCIpLmNvbmNhdCh0Lm1hcChuPT5cIlwiLmNvbmNhdChuLmlkLFwiIFwiKSksXCIgXCIpKTtsZXQgZT1hd2FpdCB0aGlzLl9wdWJsaXNoTXV0ZXgubG9jaygpO3RyeXtsZXQgbj1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVucHVibGlzaERhdGFDaGFubmVsKHQpO24mJmF3YWl0IHRoaXMuX2dhdGV3YXkudW5wdWJsaXNoRGF0YUNoYW5uZWwobiksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gVW5wdWJsaXNoIGRhdGFDaGFubmVsIHN1Y2Nlc3MsZGF0YUNoYW5uZWwgXCIpLmNvbmNhdCh0Lm1hcChpPT5cIlwiLmNvbmNhdChpLmlkKSkpKTt9Y2F0Y2gobil7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVucHVibGlzaCBkYXRhQ2hhbm5lbCBlcnJvclwiKSxuLnRvU3RyaW5nKCkpLG59ZmluYWxseXtlJiZlKCk7fX1hc3luYyBzdWJzY3JpYmUodCxlLG4pe2lmKCEodCBpbnN0YW5jZW9mIGlyKSl7bGV0IGk9dGhpcy5yZW1vdGVVc2Vycy5maW5kKHI9PnIudWlkPT09dCk7aWYoIWkpdGhyb3cgbmV3IE8oUi5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIik7dD1pO31yZXR1cm4gZT09PVwiZGF0YWNoYW5uZWxcIj90aGlzLl9zdWJzY3JpYmVEYXRhQ2hhbm5lbCh0LG4pOnRoaXMuX3N1YnNjcmliZSh0LGUpfWFzeW5jIHByZXN1YnNjcmliZSh0LGUpe2lmKENlKGUsXCJtZWRpYVR5cGVcIixbXCJhdWRpb1wiLFwidmlkZW9cIl0pLHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBBbil0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuJ3QgcHJlc3ViIGF0IHAycCBtb2RlXCIpO2lmKCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuJ3QgcHJlc3ViIHdoZW4gbm90IGpvaW5cIik7aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1cIkNPTk5FQ1RFRFwiJiZ0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVwiUkVDT05ORUNUSU5HXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImNhbid0IHByZXN1YiBpbiBcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUsXCIgc3RhdGVcIikpO2xldCBuPWU9PT1RLkFVRElPLGk9ZT09PVEuVklERU8scj1hd2FpdCB0aGlzLl9zdWJzY3JpYmVNdXRleC5sb2NrKCk7dHJ5e2xldHtzc3JjSWQ6byxvcnRjOnMscnR4U3NyY0lkOmEsY25hbWU6Yyx1aW50X2lkOmR9PWF3YWl0IHRoaXMuX2dhdGV3YXkucHJlc3Vic2NyaWJlKHQsZSwhMCk7aWYobz09bnVsbCl0aHJvdyBuZXcgTyhSLlVORVhQRUNURURfUkVTUE9OU0UsXCJubyBzc3JjIGlkXCIpO2xldCBsPXRoaXMuX3VzZXJzLmZpbmQoaD0+aC51aWQ9PT10KTtsfHwobD1uZXcgaXIodCxkfHx0KSxsLl9pc19wcmVfY3JlYXRlZD0hMCx0aGlzLl91c2Vycy5wdXNoKGwpKSxjJiYobC5fY25hbWU9YyksbC5fdWludGlkfHwobC5fdWludGlkPWR8fHQpLG4mJihsLl9hdWRpb1NTUkM9byxsLl9hdWRpb19wcmVfc3Vic2NyaWJlZD0hMCxzJiYobC5fYXVkaW9PcnRjPXMpKSxpJiYobC5fdmlkZW9TU1JDPW8sbC5fdmlkZW9fcHJlX3N1YnNjcmliZWQ9ITAscyYmKGwuX3ZpZGVvT3J0Yz1zKSxhIT1udWxsJiYobC5fcnR4U3NyY0lkPWEpKSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBwcmVzdWIgc3VjY2VlZCBzc3JjOiBcIikuY29uY2F0KG8pKSxhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN1YnNjcmliZShsLGUsbyxhLHMpO2xldCB1PW4/bC5fYXVkaW9UcmFjazpsLl92aWRlb1RyYWNrO2lmKCF1KXRocm93IG5ldyBPKFIuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCByZW1vdGUgdHJhY2sgaW4gdXNlclwiKTtyZXR1cm4gbiYmKGwuX3RydXN0X2F1ZGlvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITAsbC5fYXVkaW9fYWRkZWRfPSEwKSxpJiYobC5fdHJ1c3RfdmlkZW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMCxsLl92aWRlb19hZGRlZF89ITApLHV9Y2F0Y2gobyl7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHByZXN1YiB1c2VyIFwiKS5jb25jYXQodCxcIiBlcnJvclwiKSxvKSxvfWZpbmFsbHl7cigpO319YXN5bmMgX3N1YnNjcmliZURhdGFDaGFubmVsKHQsZSl7dmFyIG47aWYoTnQoZSxcImNoYW5uZWxJZFwiLDAsNjU1MzUsITApLCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3Qgc3Vic2NyaWJlIGRhdGFjaGFubmVsLCBub3Qgam9pbmVkXCIpO2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09XCJDT05ORUNURURcIiYmdGhpcy5jb25uZWN0aW9uU3RhdGUhPT1cIlJFQ09OTkVDVElOR1wiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBzdWJzY3JpYmUgZGF0YWNoYW5uZWwgaW4gXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlLFwiIHN0YXRlXCIpKTtpZighdGhpcy5fdXNlcnMuZmluZChhPT5hPT09dCkpdGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQodC51aWQsXCIsIHRoaXMgdXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIikpLG5ldyBPKFIuSU5WQUxJRF9SRU1PVEVfVVNFUixcInVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpO2lmKCF0Lmhhc0F1ZGlvJiYhdC5oYXNWaWRlbyYmdC5fZGF0YUNoYW5uZWxzLmxlbmd0aD09PTApdGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQodC51aWQsXCIsIHVzZXIgaXMgbm90IHB1Ymxpc2hlZFwiKSksbmV3IE8oUi5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgcHVibGlzaGVkXCIpO2xldCByPShuPXQuX2RhdGFDaGFubmVscyk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmZpbmQoYT0+YS5pZD09PWUpO2lmKCFyKXRocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KHQudWlkLFwiIHdpdGggbWVkaWFUeXBlIGRhdGFjaGFubmVsLCByZW1vdGUgZGF0YWNoYW5uZWwgaXMgbm90IHB1Ymxpc2hlZFwiKSksbmV3IE8oUi5SRU1PVEVfVVNFUl9JU19OT1RfUFVCTElTSEVEKTtsZXQgbz1hd2FpdCB0aGlzLl9zdWJzY3JpYmVNdXRleC5sb2NrKCk7Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3Vic2NyaWJlIHVzZXIgXCIpLmNvbmNhdCh0LnVpZCxcIiwgbWVkaWFUeXBlOiBkYXRhY2hhbm5lbFwiKSk7dHJ5e2xldCBhPWF3YWl0IHRoaXMuX3AycENoYW5uZWwuc3Vic2NyaWJlRGF0YUNoYW5uZWwodCxbcl0pO2lmKGEmJlcoYSkuY2FsbChhLHIuaWQpKXRyeXt2YXIgcztpZih0eXBlb2Ygci5fb3JpZ2luRGF0YUNoYW5uZWxJZCE9XCJudW1iZXJcIil0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdCh0LnVpZCxcIiB3aXRoIG1lZGlhVHlwZSBkYXRhY2hhbm5lbCwgY2Fubm90IGdldCBSVENEYXRhY2hhbm5lbFwiKSksbmV3IE8oUi5DUkVBVEVfREFUQUNIQU5ORUxfRVJST1IpO2xldCBjPXtpZDpyLmlkLGRhdGFjaGFubmVsSWQ6ci5fb3JpZ2luRGF0YUNoYW5uZWxJZCxvcmRlcmVkOnIub3JkZXJlZCxtYXhSZXRyYW5zbWl0czpyLm1heFJldHJhbnNtaXRzLG1ldGFkYXRhOihzPXIubWV0YWRhdGEpIT09bnVsbCYmcyE9PXZvaWQgMD9zOlwiXCJ9O2F3YWl0IHRoaXMuX2dhdGV3YXkuc3Vic2NyaWJlRGF0YUNoYW5uZWwodC51aWQsYywhMCksYXdhaXQgci5fd2FpdFRpbGxPcGVuKCk7fWNhdGNoKGMpe2lmKGM/LmNvZGUhPT1SLldTX0FCT1JUKXRocm93IGF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmVEYXRhQ2hhbm5lbCh0LFtyXSksYzthd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlRGF0YUNoYW5uZWwodCxbcl0pLHRoaXMuX3AycENoYW5uZWwuc2V0UGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKHQsci5pZCk7fXJldHVybiBfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdWJzY3JpYmUgc3VjY2VzcyB1c2VyIFwiKS5jb25jYXQodC51aWQsXCIsIG1lZGlhVHlwZTogZGF0YWNoYW5uZWxcIikpLHJ9ZmluYWxseXtvKCk7fX1hc3luYyBfcDJwU3Vic2NyaWJlKHQsZSxuKXtpZihDZShlLFwibWVkaWFUeXBlXCIsW1wiYXVkaW9cIixcInZpZGVvXCJdKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHN1YnNjcmliZSBzdHJlYW0sIG5vdCBqb2luZWRcIik7aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1cIkNPTk5FQ1RFRFwiJiZ0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVwiUkVDT05ORUNUSU5HXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHN1YnNjcmliZSBzdHJlYW0gaW4gXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlLFwiIHN0YXRlXCIpKTtpZighdGhpcy5fdXNlcnMuZmluZChvPT5vPT09dCkpe2xldCBvPW5ldyBPKFIuSU5WQUxJRF9SRU1PVEVfVVNFUixcInVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpO3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KHQudWlkLFwiLCB0aGlzIHVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpKSxvfWlmKCF0Lmhhc0F1ZGlvJiYhdC5oYXNWaWRlbyl7bGV0IG89bmV3IE8oUi5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgcHVibGlzaGVkXCIpO3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KHQudWlkLFwiLCB1c2VyIGlzIG5vdCBwdWJsaXNoZWRcIikpLG99aWYoIW4mJihlPT09XCJhdWRpb1wiJiYhdC5oYXNBdWRpb3x8ZT09PVwidmlkZW9cIiYmIXQuaGFzVmlkZW8pKXtsZXQgbz1uZXcgTyhSLlJFTU9URV9VU0VSX0lTX05PVF9QVUJMSVNIRUQpO3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KHQudWlkLFwiIHdpdGggbWVkaWFUeXBlIFwiKS5jb25jYXQoZSxcIiwgcmVtb3RlIHRyYWNrIGlzIG5vdCBwdWJsaXNoZWRcIikpLG99bGV0IHI9YXdhaXQgdGhpcy5fc3Vic2NyaWJlTXV0ZXgubG9jaygpO18uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQodC51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdChlKSk7dHJ5e2lmKGF3YWl0IHRoaXMuX3AycENoYW5uZWwuaGFzUmVtb3RlTWVkaWFXaXRoTG9jayh0LGUpKWF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5tdXRlUmVtb3RlKHQsZSk7ZWxzZSB0cnl7bGV0IHM9ZT09PVwiYXVkaW9cIj90Ll9hdWRpb1NTUkM6dC5fdmlkZW9TU1JDLGE9ZT09PVwiYXVkaW9cIj90Ll9hdWRpb01pZDp0Ll92aWRlb01pZDt0aGlzLnN0b3JlLnN1YnNjcmliZSh0LnVpZCxlLERhdGUubm93KCkpLHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBBbiYmYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5zdWJzY3JpYmUodCxlLHMsYSk7fWNhdGNoKHMpe3Rocm93IHN9Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3Vic2NyaWJlIHN1Y2Nlc3MgdXNlciBcIikuY29uY2F0KHQudWlkLFwiLCBtZWRpYVR5cGU6IFwiKS5jb25jYXQoZSkpLHRoaXMuX2RlZmF1bHRTdHJlYW1GYWxsYmFja1R5cGUmJnRoaXMuc2V0U3RyZWFtRmFsbGJhY2tPcHRpb24odC51aWQsdGhpcy5fZGVmYXVsdFN0cmVhbUZhbGxiYWNrVHlwZSkuY2F0Y2gocz0+e18ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gc2V0IGZhbGxiYWNrIGZhaWxlZFwiKSxzKTt9KTtsZXQgbz1lPT09XCJhdWRpb1wiP3QuX2F1ZGlvVHJhY2s6dC5fdmlkZW9UcmFjaztpZighbyl0aHJvdyBuZXcgTyhSLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgcmVtb3RlIHRyYWNrIGluIHVzZXIgb2JqZWN0XCIpO3JldHVybiBvfWNhdGNoKG8pe3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdWJzY3JpYmUgdXNlciBcIikuY29uY2F0KHQudWlkLFwiIGVycm9yXCIpLG8pLG99ZmluYWxseXtyKCk7fX1hc3luYyBfc3Vic2NyaWJlKHQsZSxuKXtpZih0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgQW4pcmV0dXJuIHRoaXMuX3AycFN1YnNjcmliZSh0LGUpO2lmKENlKGUsXCJtZWRpYVR5cGVcIixbXCJhdWRpb1wiLFwidmlkZW9cIl0pLCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3Qgc3Vic2NyaWJlIHN0cmVhbSwgbm90IGpvaW5lZFwiKTtpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVwiQ09OTkVDVEVEXCImJnRoaXMuY29ubmVjdGlvblN0YXRlIT09XCJSRUNPTk5FQ1RJTkdcIil0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3Qgc3Vic2NyaWJlIHN0cmVhbSBpbiBcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUsXCIgc3RhdGVcIikpO2lmKCF0aGlzLl91c2Vycy5maW5kKGQ9PmQ9PT10KSl7bGV0IGQ9bmV3IE8oUi5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIik7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQodC51aWQsXCIsIHRoaXMgdXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIikpLGR9aWYoIXQuaGFzQXVkaW8mJiF0Lmhhc1ZpZGVvKXtsZXQgZD1uZXcgTyhSLklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBwdWJsaXNoZWRcIik7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQodC51aWQsXCIsIHVzZXIgaXMgbm90IHB1Ymxpc2hlZFwiKSksZH1pZighKG58fChlIT09XCJhdWRpb1wifHx0Lmhhc0F1ZGlvJiZ0Ll9hdWRpb1NTUkMhPT12b2lkIDApJiYoZSE9PVwidmlkZW9cInx8dC5oYXNWaWRlbyYmdC5fdmlkZW9TU1JDIT09dm9pZCAwKSkpe2xldCBkPW5ldyBPKFIuUkVNT1RFX1VTRVJfSVNfTk9UX1BVQkxJU0hFRCk7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQodC51aWQsXCIgd2l0aCBtZWRpYVR5cGUgXCIpLmNvbmNhdChlLFwiLCByZW1vdGUgdHJhY2sgaXMgbm90IHB1Ymxpc2hlZFwiKSksZH1sZXQgcj1lPT09XCJhdWRpb1wiP3QuX2F1ZGlvU1NSQzp0Ll92aWRlb1NTUkMsbz1lPT09XCJhdWRpb1wiP3QuX2F1ZGlvT3J0Yzp0Ll92aWRlb09ydGMscz1lPT09XCJ2aWRlb1wiP3QuX3J0eFNzcmNJZDp2b2lkIDAsYT17c3RyZWFtX3R5cGU6ZT09PVwiYXVkaW9cIj9RLkFVRElPOlEuVklERU8sc3NyY0lkOnJ9LGM9YXdhaXQgdGhpcy5fc3Vic2NyaWJlTXV0ZXgubG9jaygpO18uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQodC51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdChlKSk7dHJ5e2lmKGF3YWl0IHRoaXMuX3AycENoYW5uZWwuaGFzUmVtb3RlTWVkaWFXaXRoTG9jayh0LGUpKWF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5tdXRlUmVtb3RlKHQsZSk7ZWxzZSB0cnl7bGV0IGw9ZT09PVwiYXVkaW9cIj90Ll9hdWRpb1NTUkM6dC5fdmlkZW9TU1JDO2whPT12b2lkIDAmJmwhPT1yJiYocj1sLG89ZT09PVwiYXVkaW9cIj90Ll9hdWRpb09ydGM6dC5fdmlkZW9PcnRjLHM9ZT09PVwidmlkZW9cIj90Ll9ydHhTc3JjSWQ6dm9pZCAwLGE9e3N0cmVhbV90eXBlOmU9PT1cImF1ZGlvXCI/US5BVURJTzpRLlZJREVPLHNzcmNJZDpyfSkscWUubWFya1N1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsciksdGhpcy5zdG9yZS5zdWJzY3JpYmUodC51aWQsZSxEYXRlLm5vdygpKSxhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN1YnNjcmliZSh0LGUscixzLG8pO3RyeXt0aGlzLl9wMnBDaGFubmVsLmlzUHJlU3ViU2NyaWJlKHIpfHxhd2FpdCB0aGlzLl9nYXRld2F5LnN1YnNjcmliZSh0LnVpZCxhLCEwKTt9Y2F0Y2godSl7aWYodT8uY29kZSE9PVIuV1NfQUJPUlQpdGhyb3cgYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZSh0LGUpLHU7YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZSh0LGUsITApLHRoaXMuX3AycENoYW5uZWwuc2V0UGVuZGluZ1JlbW90ZU1lZGlhKHQsZSk7fXRoaXMuc3RvcmUuc3Vic2NyaWJlKHQudWlkLGUsdm9pZCAwLERhdGUubm93KCkpLHRoaXMuX3AycENoYW5uZWwucmVwb3J0U3Vic2NyaWJlRXZlbnQoITAsbnVsbCx0LGUpO31jYXRjaChsKXt0aHJvdyB0aGlzLl9wMnBDaGFubmVsLnJlcG9ydFN1YnNjcmliZUV2ZW50KCExLGw/LmNvZGUsdCxlKSxsfV8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSBzdWNjZXNzIHVzZXIgXCIpLmNvbmNhdCh0LnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KGUpKSx0aGlzLl9kZWZhdWx0U3RyZWFtRmFsbGJhY2tUeXBlJiZ0aGlzLnNldFN0cmVhbUZhbGxiYWNrT3B0aW9uKHQudWlkLHRoaXMuX2RlZmF1bHRTdHJlYW1GYWxsYmFja1R5cGUpLmNhdGNoKGw9PntfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIHNldCBmYWxsYmFjayBmYWlsZWRcIiksbCk7fSk7bGV0IGQ9ZT09PVwiYXVkaW9cIj90Ll9hdWRpb1RyYWNrOnQuX3ZpZGVvVHJhY2s7aWYoIWQpdGhyb3cgbmV3IE8oUi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHJlbW90ZSB0cmFjayBpbiB1c2VyIG9iamVjdFwiKTtyZXR1cm4gZH1jYXRjaChkKXt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3Vic2NyaWJlIHVzZXIgXCIpLmNvbmNhdCh0LnVpZCxcIiBlcnJvclwiKSxkKSxkfWZpbmFsbHl7YygpO319YXN5bmMgbWFzc1N1YnNjcmliZSh0KXtpZihicih0LFwic3Vic2NyaWJlTGlzdFwiKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHN1YnNjcmliZSBzdHJlYW0sIG5vdCBqb2luZWRcIik7aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1cIkNPTk5FQ1RFRFwiJiZ0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVwiUkVDT05ORUNUSU5HXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHN1YnNjcmliZSBzdHJlYW0gaW4gXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlLFwiIHN0YXRlXCIpKTtsZXQgZT1EYXRlLm5vdygpLG49bmV3IE1hcCxpPWF3YWl0IHRoaXMuX3N1YnNjcmliZU11dGV4LmxvY2soKTtfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXXN0YXJ0IG1hc3NTdWJzY3JpYmUgdXNlciBcIikuY29uY2F0KHQubWFwKGE9PntsZXR7dXNlcjpjLG1lZGlhVHlwZTpkfT1hO3JldHVybiBcInVzZXI6IFwiLmNvbmNhdChjPy51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdChkKX0pLmpvaW4oXCI7IFwiKSkpO2xldCByPSh0PVsuLi50XSkubWFwKGE9PntsZXR7dXNlcjpjLG1lZGlhVHlwZTpkfT1hO3JldHVybiB7dXNlcjpjLG1lZGlhVHlwZTpkfX0pLG89YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5nbG9iYWxMb2NrKCk7dHJ5e3ZhciBzO2ZvcihsZXQgYz10Lmxlbmd0aC0xO2M+PTA7Yy0tKXtsZXQgZD10W2NdLHt1c2VyOmwsbWVkaWFUeXBlOnV9PWQ7aWYoQ2UodSxcIm1lZGlhVHlwZVwiLFtcImF1ZGlvXCIsXCJ2aWRlb1wiXSksIWwpe2xldCBFPW5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJ1c2VyIHByb3BlcnR5IGRvZXMgbm90IGV4aXN0IGluIHN1YnNjcmliZUxpc3QgaXRlbVwiKTt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlciBwcm9wZXJ0eSBkb2VzIG5vdCBleGlzdCBpbiBzdWJzY3JpYmVMaXN0IGl0ZW1cIikpLEV9aWYoIXRoaXMuX3VzZXJzLmZpbmQoRT0+RT09PWwpKXtsZXQgRT1uZXcgTyhSLklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKTtfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBtYXNzU3Vic2NyaWJlIFwiKS5jb25jYXQobC51aWQsXCIsIHRoaXMgdXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIikpLHJbY10uZXJyb3I9RSx0LnNwbGljZShjLDEpO2NvbnRpbnVlfWlmKHU9PT1cImF1ZGlvXCImJighbC5oYXNBdWRpb3x8bC5fYXVkaW9TU1JDPT09dm9pZCAwKXx8dT09PVwidmlkZW9cIiYmKCFsLmhhc1ZpZGVvfHxsLl92aWRlb1NTUkM9PT12b2lkIDApKXtsZXQgRT1uZXcgTyhSLlJFTU9URV9VU0VSX0lTX05PVF9QVUJMSVNIRUQpO18uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KGwudWlkLFwiIHdpdGggbWVkaWFUeXBlIFwiKS5jb25jYXQodSxcIiwgcmVtb3RlIHVzZXIgaXMgbm90IHB1Ymxpc2hlZFwiKSkscltjXS5lcnJvcj1FLHQuc3BsaWNlKGMsMSk7Y29udGludWV9bGV0IHA9dmUuVmlkZW98dmUuTHdvVmlkZW8sZz1uLmdldChsKTtpZihnKXtpZih1PT09XCJ2aWRlb1wiP2cmcDpnJnZlLkF1ZGlvKXt0LnNwbGljZShjLDEpLF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlcGVhdCBtYXNzU3Vic2NyaWJlIHVzZXI6XCIpLmNvbmNhdChsLnVpZCxcIiwgbWVkaWFUeXBlOlwiKS5jb25jYXQodSxcIiB0d2ljZVwiKSk7Y29udGludWV9bi5zZXQobCxnfCh1PT09XCJ2aWRlb1wiP3A6dmUuQXVkaW8pKTt9ZWxzZSBuLnNldChsLHU9PT1cInZpZGVvXCI/cDp2ZS5BdWRpbyk7fWZvcihsZXQgYz10Lmxlbmd0aC0xO2M+PTA7Yy0tKXtsZXQgZD10W2NdLHt1c2VyOmwsbWVkaWFUeXBlOnV9PWQsaD12ZS5WaWRlb3x2ZS5Md29WaWRlbztpZih0aGlzLl9wMnBDaGFubmVsLmhhc1JlbW90ZU1lZGlhKGwsdSkpe2F3YWl0IHRoaXMuX3AycENoYW5uZWwudW5tdXRlUmVtb3RlTm9Mb2NrKGwsdSk7bGV0IHA9bi5nZXQobCk7bi5zZXQobCx1PT09XCJ2aWRlb1wiP3BeaDpwXnZlLkF1ZGlvKSx0LnNwbGljZShjLDEpO319dGhpcy5zdG9yZS5tYXNzU3Vic2NyaWJlKHQubWFwKGM9Pih7dXNlcklkOmMudXNlci51aWQsdHlwZTpjLm1lZGlhVHlwZX0pKSxlKTtsZXQgYT1qaShzPUFycmF5LmZyb20obi5lbnRyaWVzKCkpKS5jYWxsKHMsKGMsZCk9PntsZXRbbCx1XT1kO2lmKHU9PT0wKXJldHVybiBjO2xldCBoPXtzdHJlYW1faWQ6bC51aWQsc3RyZWFtX3R5cGU6dX07cmV0dXJuIHUmdmUuQXVkaW8mJihoLmF1ZGlvX3NzcmM9bC5fYXVkaW9TU1JDKSx1JnZlLlZpZGVvJiYoaC52aWRlb19zc3JjPWwuX3ZpZGVvU1NSQyksYy5wdXNoKGgpLGN9LFtdKTt0cnl7dC5sZW5ndGg+MCYmYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5tYXNzU3Vic2NyaWJlTm9Mb2NrKHQubWFwKGQ9PntsZXR7dXNlcjpsLG1lZGlhVHlwZTp1fT1kO3JldHVybiB7dXNlcjpsLG1lZGlhVHlwZTp1LHNzcmNJZDp1PT09US5WSURFTz9sLl92aWRlb1NTUkM6bC5fYXVkaW9TU1JDLHJ0eFNzcmNJZDp1PT09US5WSURFTz9sLl9ydHhTc3JjSWQ6dm9pZCAwfX0pKTtsZXQgYz1uZXcgTWFwO2lmKGE9YS5maWx0ZXIoZD0+ZC52aWRlb19zc3JjJiYhdGhpcy5fcDJwQ2hhbm5lbC5pc1ByZVN1YlNjcmliZShkLnZpZGVvX3NzcmMpfHxkLmF1ZGlvX3NzcmMmJiF0aGlzLl9wMnBDaGFubmVsLmlzUHJlU3ViU2NyaWJlKGQuYXVkaW9fc3NyYyl8fCFkLnZpZGVvX3NzcmMmJiFkLmF1ZGlvX3NzcmMpLGEubGVuZ3RoPjApe2xldCBkPWF3YWl0IHRoaXMuX2dhdGV3YXkuc3Vic2NyaWJlQWxsKGEsITApOyhkPy51c2Vyc3x8W10pLmZvckVhY2gobD0+e2xldHtzdHJlYW1faWQ6dSx2aWRlb19lcnJvcl9jb2RlOmgsYXVkaW9fZXJyb3JfY29kZTpwLGVycm9yX2NvZGU6Z309bDsoaHx8cHx8ZykmJmMuc2V0KHUse3ZpZGVvX2Vycm9yX2NvZGU6aCxhdWRpb19lcnJvcl9jb2RlOnAsZXJyb3JfY29kZTpnfSk7fSk7fWlmKEFycmF5LmZyb20oYy5lbnRyaWVzKCkpLmxlbmd0aD4wKXtsZXQgZD1bXTtBcnJheS5mcm9tKGMuZW50cmllcygpKS5mb3JFYWNoKGw9PntsZXRbdSxoXT1sLHA9dGhpcy5yZW1vdGVVc2Vycy5maW5kKGc9PmcudWlkPT09dSk7aWYocCl7bGV0IGc7aC5lcnJvcl9jb2RlfHxoLnZpZGVvX2Vycm9yX2NvZGUmJmguYXVkaW9fZXJyb3JfY29kZT9nPXZvaWQgMDpoLnZpZGVvX2Vycm9yX2NvZGU/Zz1RLlZJREVPOmguYXVkaW9fZXJyb3JfY29kZSYmKGc9US5BVURJTyksZC5wdXNoKHt1c2VyOnAsbWVkaWFUeXBlOmd9KTt9fSksZC5sZW5ndGg+MCYmYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5tYXNzVW5zdWJzY3JpYmVOb0xvY2soZCk7fWZvcihsZXQgZCBvZiByKXtsZXQgbD1jLmdldChkLnVzZXIudWlkKTtpZihsKXtsZXQgdT1sLmVycm9yX2NvZGV8fGQubWVkaWFUeXBlPT09XCJhdWRpb1wiJiZsLmF1ZGlvX2Vycm9yX2NvZGV8fGQubWVkaWFUeXBlPT09XCJ2aWRlb1wiJiZsLnZpZGVvX2Vycm9yX2NvZGU7aWYodSl7bGV0IGg9T2ModSk7Xy5lcnJvcihcInVzZXI6XCIuY29uY2F0KGQudXNlci51aWQsXCIgbWVkaWFUeXBlOlwiKS5jb25jYXQoZC5tZWRpYVR5cGUsXCIgaGFzIG1hc3NTdWJzY3JpYmUgZXJyb3IgXCIpLmNvbmNhdChoLmRlc2MpKSxkLmVycm9yPW5ldyBPKFIuU1VCU0NSSUJFX0ZBSUxFRCxcImNvZGUgXCIuY29uY2F0KHUsXCI6IFwiKS5jb25jYXQoaC5kZXNjKSk7fX1kLmVycm9yfHwoZC5tZWRpYVR5cGU9PT1cInZpZGVvXCI/ZC50cmFjaz1kLnVzZXIudmlkZW9UcmFjazpkLnRyYWNrPWQudXNlci5hdWRpb1RyYWNrKTt9cmV0dXJuIHRoaXMuc3RvcmUubWFzc1N1YnNjcmliZShyLmZpbHRlcihkPT4hZC5lcnJvcikubWFwKGQ9Pih7dXNlcklkOmQudXNlci51aWQsdHlwZTpkLm1lZGlhVHlwZX0pKSx2b2lkIDAsRGF0ZS5ub3coKSksci5mb3JFYWNoKGQ9Pnt2YXIgbDtYLnN1YnNjcmliZSh0aGlzLnN0b3JlLnNlc3Npb25JZCx7c3VjYzohIWQuZXJyb3IsZWM6KChsPWQuZXJyb3IpPT09bnVsbHx8bD09PXZvaWQgMD92b2lkIDA6bC5jb2RlKXx8bnVsbCx2aWRlbzpkLm1lZGlhVHlwZT09PVEuVklERU8sYXVkaW86ZC5tZWRpYVR5cGU9PT1RLkFVRElPLHBlZXJpZDpkLnVzZXIudWlkLHN1YnNjcmliZVJlcXVlc3RpZDpkLm1lZGlhVHlwZT09PVEuVklERU8/ZC51c2VyLl92aWRlb1NTUkM6ZC51c2VyLl9hdWRpb1NTUkMscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxldmVudEVsYXBzZTpNYXRoLmZsb29yKHBlcmZvcm1hbmNlLm5vdygpLWUpLHByZVNzcmM6dGhpcy5fcDJwQ2hhbm5lbC5pc1ByZVN1YlNjcmliZShkLnVzZXIuX3ZpZGVvU1NSQyl9LCEwKTt9KSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBtYXNzU3Vic2NyaWJlIHN1Y2Nlc3MgXCIpLmNvbmNhdCh0Lm1hcChkPT57bGV0e3VzZXI6bCxtZWRpYVR5cGU6dX09ZDtyZXR1cm4gXCJ1c2VyOiBcIi5jb25jYXQobD8udWlkLFwiLCBtZWRpYVR5cGU6IFwiKS5jb25jYXQodSl9KS5qb2luKFwiOyBcIikpKSxyfWNhdGNoKGMpe3Rocm93IGF3YWl0IHRoaXMuX3AycENoYW5uZWwubWFzc1Vuc3Vic2NyaWJlTm9Mb2NrKHQpLGN9fWZpbmFsbHl7bygpLGkoKTt9fWFzeW5jIHVuc3Vic2NyaWJlKHQsZSxuKXtpZighKHQgaW5zdGFuY2VvZiBpcikpe2xldCBvPXRoaXMucmVtb3RlVXNlcnMuZmluZChzPT5zLnVpZD09PXQpO2lmKCFvKXRocm93IG5ldyBPKFIuSU5WQUxJRF9SRU1PVEVfVVNFUixcInVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpO3Q9bzt9aWYoZXx8dGhpcy5zdG9yZS51c2VQMlApe2lmKGU9PT1cImRhdGFjaGFubmVsXCIpcmV0dXJuIHRoaXMuX3Vuc3Vic2NyaWJlRGF0YUNoYW5uZWwodCxuKX1lbHNlIGF3YWl0IHRoaXMuX3Vuc3Vic2NyaWJlRGF0YUNoYW5uZWwodCxuKTtpZihlJiZDZShlLFwibWVkaWFUeXBlXCIsW1wiYXVkaW9cIixcInZpZGVvXCJdKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHVuc3Vic2NyaWJlIHN0cmVhbSwgaGF2ZW4ndCBqb2luZWQgeWV0IVwiKTtpZighdGhpcy5fdXNlcnMuZmluZChvPT5vPT09dCkpe2xldCBvPW5ldyBPKFIuSU5WQUxJRF9SRU1PVEVfVVNFUixcInVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpO3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHVuc3Vic2NyaWJlIFwiKS5jb25jYXQodC51aWQsXCIsIHVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpKSxvfV8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVuc3Vic2NyaWJlIHVpZDogXCIpLmNvbmNhdCh0LnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KGUpKTtsZXQgcj1hd2FpdCB0aGlzLl9zdWJzY3JpYmVNdXRleC5sb2NrKCk7dHJ5e2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBBbilhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlKHQsZSk7ZWxzZSB7bGV0IG89YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZSh0LGUpO28mJmF3YWl0IHRoaXMuX2dhdGV3YXkudW5zdWJzY3JpYmUobyx0LnVpZCksZSYmZSE9PVwiYXVkaW9cInx8KHQuX2F1ZGlvX3ByZV9zdWJzY3JpYmVkPSExKSxlJiZlIT09XCJ2aWRlb1wifHwodC5fdmlkZW9fcHJlX3N1YnNjcmliZWQ9ITEpLHQuX2lzX3ByZV9jcmVhdGVkJiZXbCh0aGlzLl91c2Vycyx0KSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnN1YnNjcmliZSBzdWNjZXNzIHVpZDogXCIpLmNvbmNhdCh0LnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KGUpKTt9fWNhdGNoKG8pe2lmKG8uY29kZT09PVIuRElTQ09OTkVDVF9QMlApcmV0dXJuIHZvaWQgXy53YXJuaW5nKFwiZGlzY29ubmVjdGluZyBwMnAsIGFib3J0IHVuc3Vic2NyaWJlIHJlcXVlc3QuXCIpO3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnN1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQodC51aWQsXCIgZXJyb3JcIiksby50b1N0cmluZygpKSxvfWZpbmFsbHl7cigpO319YXN5bmMgX3Vuc3Vic2NyaWJlRGF0YUNoYW5uZWwodCxlKXtpZihlJiZOdChlLFwiaWRcIiwwLDY1NTM1LCEwKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHVuc3Vic2NyaWJlIGRhdGFjaGFubmVsLCBoYXZlbid0IGpvaW5lZCB5ZXQhXCIpO2lmKCF0aGlzLl91c2Vycy5maW5kKHI9PnI9PT10KSl7bGV0IHI9bmV3IE8oUi5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIik7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgdW5zdWJzY3JpYmUgXCIpLmNvbmNhdCh0LnVpZCxcIiwgdXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIikpLHJ9bGV0IGk7aWYodHlwZW9mIGU9PVwibnVtYmVyXCIpe2xldCByPXQuX2RhdGFDaGFubmVscy5maW5kKG89Pm8uaWQ9PT1lKTtyJiYoaT1bcl0pO31lbHNlIGk9dC5fZGF0YUNoYW5uZWxzO2lmKGk9PT12b2lkIDApe2xldCByPW5ldyBPKFIuUkVNT1RFX1VTRVJfSVNfTk9UX1BVQkxJU0hFRCk7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgdW5zdWJzY3JpYmUgXCIpLmNvbmNhdCh0LnVpZCxcIiB3aXRoIGNoYW5uZWxJZCBcIikuY29uY2F0KGUsXCIsIHJlbW90ZSBkYXRhY2hhbm5lbCBpcyBub3QgcHVibGlzaGVkXCIpKSxyfV8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVuc3Vic2NyaWJlIHVpZDogXCIpLmNvbmNhdCh0LnVpZCxcIiwgbWVkaWFUeXBlOiBkYXRhY2hhbm5lbCwgaWRzOiBcIikuY29uY2F0KGkubWFwKHI9PnIuaWQpKSk7dHJ5e2xldCByPWF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmVEYXRhQ2hhbm5lbCh0LGkpO3ImJmF3YWl0IHRoaXMuX2dhdGV3YXkudW5zdWJzY3JpYmVEYXRhQ2hhbm5lbChyLHQudWlkKSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnN1YnNjcmliZSBkYXRhY2hhbm5lbCBzdWNjZXNzIHVpZDogXCIpLmNvbmNhdCh0LnVpZCxcIiwgbWVkaWFUeXBlOiBkYXRhY2hhbm5lbCwgaWRzOiBcIikuY29uY2F0KHIpKTt9Y2F0Y2gocil7aWYoci5jb2RlPT09Ui5ESVNDT05ORUNUX1AyUClyZXR1cm4gdm9pZCBfLndhcm5pbmcoXCJkaXNjb25uZWN0aW5nIHAycCwgYWJvcnQgdW5zdWJzY3JpYmUgcmVxdWVzdC5cIik7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVuc3Vic2NyaWJlIHVzZXIgXCIpLmNvbmNhdCh0LnVpZCxcIiBlcnJvclwiKSxyLnRvU3RyaW5nKCkpLHJ9fWFzeW5jIG1hc3NVbnN1YnNjcmliZSh0KXtpZihicih0LFwidW5zdWJzY3JpYmVMaXN0XCIpLCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3QgdW5zdWJzY3JpYmVBbGwgc3RyZWFtLCBoYXZlbid0IGpvaW5lZCB5ZXQhXCIpO18uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0YXJ0IG1hc3NVbnN1YnNjcmliZSBcIikuY29uY2F0KHQubWFwKG49PntsZXR7dXNlcjppLG1lZGlhVHlwZTpyfT1uO3JldHVybiBcInVzZXI6IFwiLmNvbmNhdChpPy51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdChyLFwiO1wiKX0pLmpvaW4oKSkpLHQ9Wy4uLnRdO2xldCBlPW5ldyBNYXA7Zm9yKGxldCBuPXQubGVuZ3RoLTE7bj49MDtuLS0pe2xldHt1c2VyOmksbWVkaWFUeXBlOnJ9PXRbbl07aWYoIWkpe2xldCBhPW5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJ1c2VyIHByb3BlcnR5IGRvZXMgbm90IGV4aXN0IGluIHVuc3Vic2NyaWJlTGlzdCBpdGVtXCIpO3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1c2VyIHByb3BlcnR5IGRvZXMgbm90IGV4aXN0IGluIHVuc3Vic2NyaWJlTGlzdCBpdGVtXCIpKSxhfWlmKENlKHIsXCJtZWRpYVR5cGVcIixbXCJ2aWRlb1wiLFwiYXVkaW9cIix2b2lkIDBdKSwhdGhpcy5fdXNlcnMuZmluZChhPT5hPT09aSkpe18ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgdW5zdWJzY3JpYmUgXCIpLmNvbmNhdChpLnVpZCxcIiwgdXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIikpLHQuc3BsaWNlKG4sMSk7Y29udGludWV9bGV0IHM9dmUuVmlkZW98dmUuTHdvVmlkZW87aWYoZS5oYXMoaSkpe2xldCBhPWUuZ2V0KGkpLGM7c3dpdGNoKHIpe2Nhc2VcInZpZGVvXCI6Yz1hJnM7YnJlYWs7Y2FzZVwiYXVkaW9cIjpjPWEmdmUuQXVkaW87YnJlYWs7ZGVmYXVsdDpjPWEmKHZlLkF1ZGlvfHMpO31pZihjKXtfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXBlYXQgbWFzc1Vuc3Vic2NyaWJlIHVzZXI6XCIpLmNvbmNhdChpLnVpZCxcIixtZWRpYVR5cGU6XCIpLmNvbmNhdChyLFwiIHR3aWNlLlwiKSksdC5zcGxpY2UobiwxKTtjb250aW51ZX1yP3I9PT1cImF1ZGlvXCI/ZS5zZXQoaSxhfHZlLkF1ZGlvKTpyPT09XCJ2aWRlb1wiJiZlLnNldChpLGF8cyk6ZS5zZXQoaSxhfHZlLkF1ZGlvfHMpO31lbHNlIHI/cj09PVwiYXVkaW9cIj9lLnNldChpLHZlLkF1ZGlvKTpyPT09XCJ2aWRlb1wiJiZlLnNldChpLHMpOmUuc2V0KGksdmUuQXVkaW98cyk7fXRyeXtsZXQgbj1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLm1hc3NVbnN1YnNjcmliZSh0KTtuJiZhd2FpdCB0aGlzLl9nYXRld2F5Lm1hc3NVbnN1YnNjcmliZShuKSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBtYXNzVW5zdWJzY3JpYmUgc3VjY2VzcyBcIikuY29uY2F0KHQubWFwKGk9PntsZXR7dXNlcjpyLG1lZGlhVHlwZTpvfT1pO3JldHVybiBcInVzZXI6IFwiLmNvbmNhdChyPy51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdChvLFwiO1wiKX0pLmpvaW4oKSkpO31jYXRjaChuKXtpZihuLmNvZGU9PT1SLkRJU0NPTk5FQ1RfUDJQKXJldHVybiB2b2lkIF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGRpc2Nvbm5lY3RpbmcgcDJwLCBhYm9ydCB1bnN1YnNjcmliZSByZXF1ZXN0LlwiKSk7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIG1hc3NVbnN1YnNjcmliZSBlcnJvclwiKSxuLnRvU3RyaW5nKCkpLG59fWFzeW5jIHNldExvd1N0cmVhbVBhcmFtZXRlcih0KXsoKGZ1bmN0aW9uKG4pe2lmKCFuKXRocm93IG5ldyBOKFIuSU5WQUxJRF9QQVJBTVMpO3p0KG4ud2lkdGgpfHxicChuLndpZHRoLFwic3RyZWFtUGFyYW1ldGVyLndpZHRoXCIpLHp0KG4uaGVpZ2h0KXx8YnAobi5oZWlnaHQsXCJzdHJlYW1QYXJhbWV0ZXIuaGVpZ2h0XCIpLHp0KG4uZnJhbWVyYXRlKXx8YnAobi5mcmFtZXJhdGUsXCJzdHJlYW1QYXJhbWV0ZXIuZnJhbWVyYXRlXCIpLHp0KG4uYml0cmF0ZSl8fE50KG4uYml0cmF0ZSxcInN0cmVhbVBhcmFtZXRlci5iaXRyYXRlXCIpO30pKSh0KSwoIXQud2lkdGgmJnQuaGVpZ2h0fHx0LndpZHRoJiYhdC5oZWlnaHQpJiZfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBUaGUgd2lkdGggYW5kIGhlaWdodCBwYXJhbWV0ZXJzIHRha2UgZWZmZWN0IG9ubHkgd2hlbiBib3RoIGFyZSBzZXRcIikpLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCBsb3cgc3RyZWFtIHBhcmFtZXRlciB0b1wiKSxKU09OLnN0cmluZ2lmeSh0KSk7bGV0IGU9dGhpcy5fY29uZmlnRGlzdHJpYnV0ZS5nZXRMb3dTdHJlYW1Db25maWdEaXN0cmlidXRlKCk7aWYoZSYmZS5iaXRyYXRlJiZ0LmJpdHJhdGUmJmUuYml0cmF0ZTx0LmJpdHJhdGUmJih0LmJpdHJhdGU9ZS5iaXRyYXRlKSx0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXI9dCx0aGlzLl9pc0R1YWxTdHJlYW1FbmFibGVkKXJldHVybiB0aGlzLl9wMnBDaGFubmVsLnVwZGF0ZVZpZGVvU3RyZWFtUGFyYW1ldGVyKHQsVS5Mb2NhbFZpZGVvTG93VHJhY2spfWFzeW5jIGVuYWJsZUR1YWxTdHJlYW0oKXtpZighZnQoKS5zdXBwb3J0RHVhbFN0cmVhbSl0aHJvdyBYLnN0cmVhbVN3aXRjaCh0aGlzLl9zZXNzaW9uSWQse2x0czpEYXRlLm5vdygpLGlzZHVhbDohMCxzdWNjOiExfSksbmV3IE8oUi5OT1RfU1VQUE9SVEVELFwiWW91ciBicm93c2VyIGlzIG5vdCBzdXBwb3J0IGR1YWwgc3RyZWFtXCIpO2lmKHRoaXMuX2lzRHVhbFN0cmVhbUVuYWJsZWQpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIkR1YWwgc3RyZWFtIGlzIGFscmVhZHkgZW5hYmxlZFwiKTtpZih0aGlzLl9wMnBDaGFubmVsLmNhblB1Ymxpc2hMb3dTdHJlYW0oKSl0cnl7YXdhaXQgdGhpcy5fcHVibGlzaExvd1N0cmVhbSgpO31jYXRjaCh0KXt0aHJvdyBYLnN0cmVhbVN3aXRjaCh0aGlzLl9zZXNzaW9uSWQse2x0czpEYXRlLm5vdygpLGlzZHVhbDohMCxzdWNjOiExfSksdH10aGlzLl9pc0R1YWxTdHJlYW1FbmFibGVkPSEwLFguc3RyZWFtU3dpdGNoKHRoaXMuX3Nlc3Npb25JZCx7bHRzOkRhdGUubm93KCksaXNkdWFsOiEwLHN1Y2M6ITB9KSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBlbmFibGUgZHVhbCBzdHJlYW1cIikpO31hc3luYyBkaXNhYmxlRHVhbFN0cmVhbSgpe2lmKHRoaXMuX2lzRHVhbFN0cmVhbUVuYWJsZWQpe2lmKCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3QgcHVibGlzaCBzdHJlYW0sIGhhdmVuJ3Qgam9pbmVkIHlldCFcIik7aWYodGhpcy5fcDJwQ2hhbm5lbC5nZXRMb2NhbE1lZGlhKFUuTG9jYWxWaWRlb0xvd1RyYWNrKSl0cnl7bGV0IHQ9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnB1Ymxpc2hMb3dTdHJlYW0oKTt0JiZhd2FpdCB0aGlzLl9nYXRld2F5LnVucHVibGlzaCh0LHRoaXMuX2pvaW5JbmZvLnN0cmluZ1VpZHx8dGhpcy5fam9pbkluZm8udWlkKTt9Y2F0Y2godCl7dGhyb3cgWC5zdHJlYW1Td2l0Y2godGhpcy5fc2Vzc2lvbklkLHtsdHM6RGF0ZS5ub3coKSxpc2R1YWw6ITEsc3VjYzohMX0pLHR9dGhpcy5faXNEdWFsU3RyZWFtRW5hYmxlZD0hMSxYLnN0cmVhbVN3aXRjaCh0aGlzLl9zZXNzaW9uSWQse2x0czpEYXRlLm5vdygpLGlzZHVhbDohMSxzdWNjOiEwfSksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gZGlzYWJsZSBkdWFsIHN0cmVhbVwiKSk7fX1hc3luYyBzZXRDbGllbnRSb2xlKHQsZSl7aWYoZnVuY3Rpb24obil7Q2UobixcInJvbGVcIixbXCJhdWRpZW5jZVwiLFwiaG9zdFwiXSk7fSh0KSxlJiZmUihlKSx0aGlzLm1vZGU9PT1cInJ0Y1wifHx0aGlzLm1vZGU9PT1cInAycFwiKXRocm93IF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdXCIpLmNvbmNhdCh0aGlzLm1vZGUsXCIgbW9kZSBjYW4gbm90IHVzZSBzZXRDbGllbnRSb2xlXCIpKSxuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiXCIuY29uY2F0KHRoaXMubW9kZSxcIiBtb2RlIGNhbiBub3QgdXNlIHNldENsaWVudFJvbGVcIikpO2lmKGUmJmUubGV2ZWwmJnQ9PT1cImhvc3RcIil0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiaG9zdCBtb2RlIGNhbiBub3Qgc2V0IGF1ZGllbmNlIGxhdGVuY3kgbGV2ZWxcIik7aWYodD09PVwiYXVkaWVuY2VcIiYmdGhpcy5fcDJwQ2hhbm5lbC5oYXNMb2NhbE1lZGlhKCkpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3Qgc2V0IGNsaWVudCByb2xlIHRvIGF1ZGllbmNlIHdoZW4gcHVibGlzaGluZyBzdHJlYW1cIik7YXdhaXQgdGhpcy5fZ2F0ZXdheS5zZXRDbGllbnRSb2xlKHQsZSksdGhpcy5fY29uZmlnLnJvbGU9dCxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgY2xpZW50IHJvbGUgdG8gXCIpLmNvbmNhdCh0LFwiLCBsZXZlbDogXCIpLmNvbmNhdChlJiZlLmxldmVsKSk7fWdldFJlbW90ZUluYm91bmRPZmZzZXQoKXt2YXIgdDtsZXQgZT0odD10aGlzLl9wMnBDaGFubmVsLmdldFN0YXRzKCkpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC5hdWRpb1NlbmRbMF07aWYoIWV8fCFlLnRpbWVzdGFtcClyZXR1cm4gMDtsZXQgbj1lLnRpbWVzdGFtcC1EYXRlLm5vdygpO3JldHVybiBNYXRoLmFicyhuKT4xZTMrZS5ydHRNcysxMDA/dGhpcy5udHBBbGlnbkVycm9yQ291bnQrPTE6dGhpcy5udHBBbGlnbkVycm9yQ291bnQ9MCx0aGlzLm50cEFsaWduRXJyb3JDb3VudD49Mz9uOjB9Z2V0TnRwV2FsbFRpbWVJbk1zKCl7cmV0dXJuIGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZT09PVwidmlzaWJsZVwiJiYodGhpcy5yZW1vdGVJbmJvdW5kT2Zmc2V0PXRoaXMuZ2V0UmVtb3RlSW5ib3VuZE9mZnNldCgpKSx0aGlzLnJlbW90ZUluYm91bmRPZmZzZXQrRGF0ZS5ub3coKSt0aGlzLl9nYXRld2F5Lm50cE9mZnNldH1zZXRQcm94eVNlcnZlcih0LGUpe2lmKFBlKHQsXCJwcm94eVNlcnZlclwiKSwhZSl7aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1cIkRJU0NPTk5FQ1RFRFwiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJTZXQgcHJveHkgc2VydmVyIGJlZm9yZSBqb2luIGNoYW5uZWxcIik7aWYodGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGUhPT1cImRpc2FibGVkXCJ8fHRoaXMuX3VzZUxvY2FsQWNjZXNzUG9pbnQpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIllvdSBoYXZlIGFscmVhZHkgc2V0IHRoZSBwcm94eVwiKX10aGlzLl9wcm94eVNlcnZlcj10LFguc2V0UHJveHlTZXJ2ZXIodGhpcy5fcHJveHlTZXJ2ZXIpLF8uc2V0UHJveHlTZXJ2ZXIodGhpcy5fcHJveHlTZXJ2ZXIpLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFNldCBwcm94eSBzZXJ2ZXIgXCIpLmNvbmNhdChlP1wiYnkgaW5pdGlhbGl6ZSBjYWxsXCI6XCJcIixcIiBzdWNjZXNzLlwiKSk7fXNldFR1cm5TZXJ2ZXIodCxlKXtpZihBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pLCFlKXtpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVwiRElTQ09OTkVDVEVEXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIlNldCB0dXJuIHNlcnZlciBiZWZvcmUgam9pbiBjaGFubmVsXCIpO2lmKHRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlIT09XCJkaXNhYmxlZFwifHx0aGlzLl91c2VMb2NhbEFjY2Vzc1BvaW50KXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJZb3UgaGF2ZSBhbHJlYWR5IHNldCB0aGUgcHJveHlcIil9aWYoWXUodCkpcmV0dXJuIHRoaXMuX3R1cm5TZXJ2ZXI9e3NlcnZlcnM6dCxtb2RlOlwib3JpZ2luYWwtbWFudWFsXCJ9LHZvaWQgXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gU2V0IG9yaWdpbmFsIHR1cm5zZXJ2ZXIgXCIpLmNvbmNhdChlP1wiYnkgaW5pdGlhbGl6ZSBjYWxsXCI6XCJcIixcIiBzdWNjZXNzOiBcIikuY29uY2F0KHQubWFwKG49Pm4udXJscykuam9pbihcIixcIiksXCIuXCIpKTt0LmZvckVhY2gobj0+dk8obikpLHRoaXMuX3R1cm5TZXJ2ZXI9e3NlcnZlcnM6dCxtb2RlOlwibWFudWFsXCJ9LF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFNldCB0dXJuc2VydmVyIFwiKS5jb25jYXQoZT9cImJ5IGluaXRpYWxpemUgY2FsbFwiOlwiXCIsXCIgc3VjY2Vzcy5cIikpO31zZXRMaWNlbnNlKHQpe2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09XCJESVNDT05ORUNURURcIil0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwieW91IHNob3VsZCBzZXQgbGljZW5zZSBiZWZvcmUgam9pbiBjaGFubmVsXCIpO2lmKFBlKHQsXCJsaWNlbnNlXCIsMzIsMzIpLCEvXltBLVphLXpcXGRdKyQvLnRlc3QodCkpdGhyb3cgbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxcImxpY2Vuc2Ugc2hvdWxkIG9ubHkgY29udGFpbnMgY2hhcmFjdGVycyBmcm9tIEEtWiBhLXogMC05XCIpO3RoaXMuX2xpY2Vuc2U9dCxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgbGljZW5zZSBzdWNjZXNzXCIpLHQpO31zdGFydFByb3h5U2VydmVyKHQpe2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09XCJESVNDT05ORUNURURcIil0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiU3RhcnQgcHJveHkgc2VydmVyIGJlZm9yZSBqb2luIGNoYW5uZWxcIik7aWYodGhpcy5fcHJveHlTZXJ2ZXJ8fHRoaXMuX3R1cm5TZXJ2ZXIubW9kZT09PVwibWFudWFsXCJ8fHRoaXMuX3VzZUxvY2FsQWNjZXNzUG9pbnQpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIllvdSBoYXZlIGFscmVhZHkgc2V0IHRoZSBwcm94eVwiKTtsZXQgZT1bMyw0LDVdLG47c3dpdGNoKHQ9PT12b2lkIDAmJih0PTMpLHQpe2Nhc2UgMTpjYXNlIDI6dGhyb3cgbmV3IE8oUi5OT1RfU1VQUE9SVEVELFwicHJveHkgbW9kZSAxLzIgaGFzIGJlZW4gZGVwcmVjYXRlZCBhbmQgbm90IHN1cHBvcnRlZC5cIik7Y2FzZSAzOm49XCJwcm94eTNcIjticmVhaztjYXNlIDQ6bj1cInByb3h5NFwiO2JyZWFrO2Nhc2UgNTpuPVwicHJveHk1XCI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgTyhSLklOVkFMSURfUEFSQU1TLFwicHJveHkgc2VydmVyIG1vZGUgbXVzdCBiZSBcIi5jb25jYXQoZS5qb2luKFwifFwiKSkpfXRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlPW4sdGhpcy5zdG9yZS5jbG91ZFByb3h5U2VydmVyTW9kZT1uLF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCBjbG91ZCBwcm94eSBzZXJ2ZXIgbW9kZSB0b1wiKSx0aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZSk7fXN0b3BQcm94eVNlcnZlcigpe2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09XCJESVNDT05ORUNURURcIil0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiU3RvcCBwcm94eSBzZXJ2ZXIgYWZ0ZXIgbGVhdmUgY2hhbm5lbFwiKTtYLnNldFByb3h5U2VydmVyKCksXy5zZXRQcm94eVNlcnZlcigpLHRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlPVwiZGlzYWJsZWRcIix0aGlzLnN0b3JlLmNsb3VkUHJveHlTZXJ2ZXJNb2RlPVwiZGlzYWJsZWRcIixfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgY2xvdWQgcHJveHkgc2VydmVyIG1vZGUgdG9cIiksdGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGUpLHRoaXMuX3Byb3h5U2VydmVyPXZvaWQgMCx0aGlzLl90dXJuU2VydmVyPXttb2RlOlwiYXV0b1wiLHNlcnZlcnM6W119O31zZXRMb2NhbEFjY2Vzc1BvaW50c1YyKHQpe2lmKCF0LmFjY2Vzc1BvaW50cyl0aHJvdyBuZXcgTyhSLklOVkFMSURfUEFSQU1TLFwiYWNjZXNzUG9pbnRzIGlzIHJlcXVpcmVkLlwiKTticih0LmFjY2Vzc1BvaW50cy5zZXJ2ZXJMaXN0LFwiYWNjZXNzUG9pbnRzLnNlcnZlckxpc3RcIiksUGUodC5hY2Nlc3NQb2ludHMuZG9tYWluLFwiYWNjZXNzUG9pbnRzLmRvbWFpblwiKTtsZXQgZT0oaCxwKT0+e050KGgscCwwLDY1NTM1LCEwKTt9LG49NDQzO2lmKHQuYWNjZXNzUG9pbnRzLnBvcnQmJihlKHQuYWNjZXNzUG9pbnRzLnBvcnQsXCJhY2Nlc3NQb2ludHMucG9ydFwiKSxuPXQuYWNjZXNzUG9pbnRzLnBvcnQpLHRoaXMuX3Byb3h5U2VydmVyfHx0aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZSE9PVwiZGlzYWJsZWRcIil0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwic2V0IGxvY2FsIGFjY2VzcyBwb2ludCBmYWlsZWQsIFlvdSBoYXZlIGFscmVhZHkgc2V0IHRoZSBjbG91ZCBwcm94eVwiKTt2KFwiQ0xPU0VfQUZCX0ZPUl9MT0NBTF9BUFwiKSYmKE90KFwiSk9JTl9XSVRIX0ZBTExCQUNLX1NJR05BTF9QUk9YWVwiLCExKSxPdChcIkpPSU5fV0lUSF9GQUxMQkFDS19NRURJQV9QUk9YWVwiLCExKSk7bGV0IGk9L14oKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKXszfShcXGR7MSwyfXwxXFxkXFxkfDJbMC00XVxcZHwyNVswLTVdKSQvLHI9dC5hY2Nlc3NQb2ludHMuZG9tYWluLG89dC5hY2Nlc3NQb2ludHMuc2VydmVyTGlzdC5tYXAoaD0+aS50ZXN0KGgpP1wiXCIuY29uY2F0KGgucmVwbGFjZSgvXFwuL2csXCItXCIpLFwiLlwiKS5jb25jYXQocik6aCkscz1vLm1hcChoPT5cIlwiLmNvbmNhdChoLFwiOlwiKS5jb25jYXQobikpO3RoaXMuX3VzZUxvY2FsQWNjZXNzUG9pbnQ9ITAsdGhpcy5fc2V0TG9jYWxBUFZlcnNpb249MixPdChcIldFQkNTX0RPTUFJTlwiLHMpLE90KFwiV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUXCIscyksT3QoXCJHQVRFV0FZX0RPTUFJTlNcIixbcl0pLHQucmVwb3J0JiZ0LnJlcG9ydC5ob3N0bmFtZSYmQXJyYXkuaXNBcnJheSh0LnJlcG9ydC5ob3N0bmFtZSkmJnQucmVwb3J0Lmhvc3RuYW1lLmxlbmd0aD8oYnIodC5yZXBvcnQuaG9zdG5hbWUsXCJyZXBvcnQuaG9zdG5hbWVcIiksT3QoXCJFVkVOVF9SRVBPUlRfRE9NQUlOXCIsdC5yZXBvcnQuaG9zdG5hbWVbMF0pLE90KFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIix0LnJlcG9ydC5ob3N0bmFtZVsxXXx8dC5yZXBvcnQuaG9zdG5hbWVbMF0pKTooT3QoXCJFVkVOVF9SRVBPUlRfRE9NQUlOXCIsb1swXSksT3QoXCJFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTlwiLG9bMV18fG9bMF0pKTtsZXQgYT02NDQzO3QucmVwb3J0JiZ0LnJlcG9ydC5wb3J0JiYoZSh0LnJlcG9ydC5wb3J0LFwicmVwb3J0LnBvcnRcIiksYT10LnJlcG9ydC5wb3J0KSxPdChcIlNUQVRTX0NPTExFQ1RPUl9QT1JUXCIsYSksdC5yZXBvcnQ/T3QoXCJFTkFCTEVfRVZFTlRfUkVQT1JUXCIsITApOk90KFwiRU5BQkxFX0VWRU5UX1JFUE9SVFwiLCExKTtsZXQgYz1cIlwiO3QubG9nJiZ0LmxvZy5ob3N0bmFtZSYmQXJyYXkuaXNBcnJheSh0LmxvZy5ob3N0bmFtZSkmJnQubG9nLmhvc3RuYW1lLmxlbmd0aD8oYnIodC5sb2cuaG9zdG5hbWUsXCJsb2cuaG9zdG5hbWVcIiksYz10LmxvZy5ob3N0bmFtZVswXSk6Yz1vWzBdO2xldCBkPTY0NDQ7dC5sb2cmJnQubG9nLnBvcnQmJihlKHQubG9nLnBvcnQsXCJsb2cucG9ydFwiKSxkPXQubG9nLnBvcnQpLE90KFwiTE9HX1VQTE9BRF9TRVJWRVJcIixcIlwiLmNvbmNhdChjLFwiOlwiKS5jb25jYXQoZCkpO2xldCBsPVtdO3QuY2RzJiZ0LmNkcy5ob3N0bmFtZSYmQXJyYXkuaXNBcnJheSh0LmNkcy5ob3N0bmFtZSkmJnQuY2RzLmhvc3RuYW1lLmxlbmd0aD8oYnIodC5jZHMuaG9zdG5hbWUsXCJjZHMuaG9zdG5hbWVcIiksbD10LmNkcy5ob3N0bmFtZSk6bD1vO2xldCB1PTQ0Mzt0LmNkcyYmdC5jZHMucG9ydCYmKGUodC5jZHMucG9ydCxcImNkcy5wb3J0XCIpLHU9dC5jZHMucG9ydCksT3QoXCJDRFNfQVBcIixsLm1hcChoPT5cIlwiLmNvbmNhdChoLFwiOlwiKS5jb25jYXQodSkpKSx0LmNkcz9PdChcIkVOQUJMRV9DT05GSUdfRElTVFJJQlVURVwiLCEwKTpPdChcIkVOQUJMRV9DT05GSUdfRElTVFJJQlVURVwiLCExKSxfLmluZm8oXCJzZXQgbG9jYWwgYWNjZXNzIHBvaW50IHYyIHN1Y2Nlc3NcIik7fXNldExvY2FsQWNjZXNzUG9pbnRzKHQsZSl7aWYoYnIodCxcInNlcnZlckxpc3RcIiksUGUoZSxcImRvbWFpblwiKSx0aGlzLl9wcm94eVNlcnZlcnx8dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGUhPT1cImRpc2FibGVkXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcInNldCBsb2NhbCBhY2Nlc3MgcG9pbnQgZmFpbGVkLCBZb3UgaGF2ZSBhbHJlYWR5IHNldCB0aGUgY2xvdWQgcHJveHlcIik7bGV0IG49L14oXFxkezEsMn18MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4oXFxkezEsMn18MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4oXFxkezEsMn18MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4oXFxkezEsMn18MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSkkLzt0PXQubWFwKGk9Pm4udGVzdChpKT9cIlwiLmNvbmNhdChpLnJlcGxhY2UoL1xcLi9nLFwiLVwiKSxcIi5cIikuY29uY2F0KGUpOmkpLHRoaXMuX3VzZUxvY2FsQWNjZXNzUG9pbnQ9ITAsdGhpcy5fc2V0TG9jYWxBUFZlcnNpb249MSxPdChcIldFQkNTX0RPTUFJTlwiLHQpLE90KFwiV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUXCIsdCksT3QoXCJHQVRFV0FZX0RPTUFJTlNcIixbZV0pLE90KFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiLHRbMF0pLE90KFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIix0WzFdfHx0WzBdKSxPdChcIkxPR19VUExPQURfU0VSVkVSXCIsXCJcIi5jb25jYXQodFswXSxcIjo2NDQ0XCIpKSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgbG9jYWwgYWNjZXNzIHBvaW50IHN1Y2Nlc3NcIikpO31hc3luYyBzZXRSZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlKHQpe2lmKENlKHQsXCJzdHJlYW1UeXBlXCIsWzAsMV0pLHRoaXMuX3JlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGU9dCx0aGlzLl9qb2luSW5mbyl0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5zZXREZWZhdWx0UmVtb3RlVmlkZW9TdHJlYW1UeXBlKHQpLHRoaXMuX2pvaW5JbmZvLmRlZmF1bHRWaWRlb1N0cmVhbT10aGlzLl9yZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlO31jYXRjaChlKXt0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGRlZmF1bHQgcmVtb3RlIHZpZGVvIHN0cmVhbSB0eXBlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1lbHNlIF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBoYXZlbid0IGpvaW5lZCB5ZXQsIGNhY2hlIHJlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGUgXCIpLmNvbmNhdCh0KSk7fWFzeW5jIHNldFJlbW90ZVZpZGVvU3RyZWFtVHlwZSh0LGUpe0NlKGUsXCJzdHJlYW1UeXBlXCIsWzAsMV0pO3RyeXthd2FpdCB0aGlzLl9nYXRld2F5LnNldFJlbW90ZVZpZGVvU3RyZWFtVHlwZSh0LGUpLHNldFRpbWVvdXQoKCk9PntsZXQgbj10aGlzLl91c2Vycy5maW5kKGk9PmkudWlkPT09dCk7biYmbi52aWRlb1RyYWNrJiZuLnZpZGVvVHJhY2sudXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKTt9LDJlMyk7fWNhdGNoKG4pe3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgcmVtb3RlIHZpZGVvIHN0cmVhbSB0eXBlIGVycm9yXCIpLG4udG9TdHJpbmcoKSksbn1fLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgcmVtb3RlIFwiKS5jb25jYXQodCxcIiB2aWRlbyBzdHJlYW0gdHlwZSB0byBcIikuY29uY2F0KGUpKSx0aGlzLl9yZW1vdGVTdHJlYW1UeXBlQ2FjaGVNYXAuc2V0KHQsZSk7fWFzeW5jIHNldFN0cmVhbUZhbGxiYWNrT3B0aW9uKHQsZSl7Q2UoZSxcImZhbGxiYWNrVHlwZVwiLFswLDEsMl0pO3RyeXthd2FpdCB0aGlzLl9nYXRld2F5LnNldFN0cmVhbUZhbGxiYWNrT3B0aW9uKHQsZSk7fWNhdGNoKG4pe3Rocm93IF8uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgc3RyZWFtIGZhbGxiYWNrIG9wdGlvblwiKSxuLnRvU3RyaW5nKCkpLG59Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IHJlbW90ZSBcIikuY29uY2F0KHQsXCIgc3RyZWFtIGZhbGxiYWNrIHR5cGUgdG8gXCIpLmNvbmNhdChlKSksdGhpcy5fc3RyZWFtRmFsbGJhY2tUeXBlQ2FjaGVNYXAuc2V0KHQsZSk7fXNldEVuY3J5cHRpb25Db25maWcodCxlLG4saSl7KChmdW5jdGlvbihvKXtDZShvLFwiZW5jcnlwdGlvbk1vZGVcIixbXCJhZXMtMTI4LXh0c1wiLFwiYWVzLTI1Ni14dHNcIixcImFlcy0xMjgtZWNiXCIsXCJzbTQtMTI4LWVjYlwiLFwiYWVzLTEyOC1nY21cIixcImFlcy0yNTYtZ2NtXCIsXCJhZXMtMTI4LWdjbTJcIixcImFlcy0yNTYtZ2NtMlwiLFwibm9uZVwiXSk7fSkpKHQpLFBlKGUsXCJzZWNyZXRcIik7bGV0IHI9W1wiYWVzLTEyOC1nY20yXCIsXCJhZXMtMjU2LWdjbTJcIl07aWYoVyhyKS5jYWxsKHIsdCkpe2lmKCFufHwhKG4gaW5zdGFuY2VvZiBVaW50OEFycmF5JiZuLmxlbmd0aD09PTMyKSl0aHJvdyBuZXcgTyhSLklOVkFMSURfUEFSQU1TLFwic2FsdCBtdXN0IGJlIGFuIFVpbnQ4QXJyYXkgYW5kIGV4YWN0bHkgZXF1YWwgdG8gMzIgYnl0ZXNcIil9ZWxzZSBpZihuKXRocm93IG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJjdXJyZW50IGVuY3J5cHQgbW9kZSBkb2VzIG5vdCBuZWVkIHNhbHRcIik7aWYoaSl7aWYoTnIoaSxcImVuY3J5cHREYXRhU3RyZWFtXCIpLCFXKHIpLmNhbGwocix0KSl0aHJvdyBuZXcgTyhSLklOVkFMSURfUEFSQU1TLFwiY3VycmVudCBlbmNyeXB0IG1vZGUgZG9lcyBub3Qgc3VwcG9ydCBkYXRhIHN0cmVhbVwiKTt0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbT0hMDt9bmV3IFJlZ0V4cChgXig/PS4qW2Etel0pKD89LipbQS1aXSkoPz0uKlswLTldKSg/PS4qWyFAIyQlXiYqLC48Pj8vOjsnXCJ8e31cXFxcW1xcXFxdXSkoPz0uezgsfSlgKS50ZXN0KGUpfHxfLndhcm5pbmcoYFRoZSBzZWNyZXQgaXMgbm90IHN0cm9uZzpcbiAgICAgIFRoZSBzZWNyZXQgbXVzdCBjb250YWluIGF0IGxlYXN0IDEgbG93ZXJjYXNlIGFscGhhYmV0aWNhbCBjaGFyYWN0ZXIsXG4gICAgICBUaGUgc2VjcmV0IG11c3QgY29udGFpbiBhdCBsZWFzdCAxIHVwcGVyY2FzZSBhbHBoYWJldGljYWwgY2hhcmFjdGVyLFxuICAgICAgVGhlIHNlY3JldCBtdXN0IGNvbnRhaW4gYXQgbGVhc3QgMSBudW1lcmljIGNoYXJhY3RlcixcbiAgICAgIFRoZSBzZWNyZXQgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBzcGVjaWFsIGNoYXJhY3RlcixcbiAgICAgIFRoZSBzZWNyZXQgbXVzdCBiZSBlaWdodCBjaGFyYWN0ZXJzIG9yIGxvbmdlci5cbiAgICAgIGApLHRoaXMuX2VuY3J5cHRpb25Nb2RlPXQsdGhpcy5fZW5jcnlwdGlvblNlY3JldD1lLG4mJih0aGlzLl9lbmNyeXB0aW9uU2FsdD1zbyhuKSk7fWFzeW5jIHJlbmV3VG9rZW4odCl7aWYoUGUodCxcInRva2VuXCIsMSwyMDQ3KSwhdGhpcy5fa2V5fHwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcInJlbmV3VG9rZW4gc2hvdWxkIG5vdCBiZSBjYWxsZWQgYmVmb3JlIHVzZXIgam9pblwiKTtsZXQgZT10aGlzLl9rZXk7dGhpcy5fa2V5PXQsdGhpcy5fam9pbkluZm8mJih0aGlzLl9qb2luSW5mby50b2tlbj10KTtsZXQgbj1hd2FpdCB0aGlzLl9yZW5ld1Rva2VuTXV0ZXgubG9jaygpO3RyeXtpZih2KFwiVVNFX05FV19UT0tFTlwiKSl7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0YXJ0IHJlbmV3IHRva2VuIHdpdGggdGlja2V0IGZyb20gdW5pbGJzXCIpKTtsZXQgaT1hd2FpdCBKRyh0aGlzLl9qb2luSW5mbyx0aGlzLl9heGlvc0NhbmNlbFNvdXJjZS50b2tlbix0aGlzLl9jb25maWcuaHR0cFJldHJ5Q29uZmlnfHxFZSk7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGdldCB0aWNrZXQgZnJvbSB1bmlsYnMgc3VjY2Vzc1wiKSksYXdhaXQgdGhpcy5fZ2F0ZXdheS5yZW5ld1Rva2VuKHt0b2tlbjp0LHRpY2tldDppfSk7fWVsc2UgXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0YXJ0IHJlbmV3IHRva2VuIHdpdGhvdXQgdGlja2V0XCIpKSxhd2FpdCB0aGlzLl9nYXRld2F5LnJlbmV3VG9rZW4oe3Rva2VuOnR9KTtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVuZXdUb2tlbiBzdWNjZXNzXCIpKTt9Y2F0Y2goaSl7dGhyb3cgdGhpcy5fa2V5PWUsdGhpcy5fam9pbkluZm8udG9rZW49ZSxfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVuZXdUb2tlbiBmYWlsZWRcIiksaS50b1N0cmluZygpKSxpfWZpbmFsbHl7bigpO319ZW5hYmxlQXVkaW9Wb2x1bWVJbmRpY2F0b3IoKXt0aGlzLl9hdWRpb1ZvbHVtZUluZGljYXRpb25JbnRlcnZhbD9fLndhcm5pbmcoXCJ5b3UgaGF2ZSBhbHJlYWR5IGVuYWJsZWQgYXVkaW8gdm9sdW1lIGluZGljYXRvciFcIik6dGhpcy5fYXVkaW9Wb2x1bWVJbmRpY2F0aW9uSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgpPT57bGV0IHQ9dGhpcy5fcDJwQ2hhbm5lbC5nZXRBdWRpb0xldmVscygpO3RoaXMuc2FmZUVtaXQodXQuVk9MVU1FX0lORElDQVRPUix0KTt9LHYoXCJBVURJT19WT0xVTUVfSU5ESUNBVElPTl9JTlRFUlZBTFwiKXx8MmUzKTt9Z2V0UlRDU3RhdHMoKXtsZXQgdD10aGlzLl9zdGF0c0NvbGxlY3Rvci5nZXRSVENTdGF0cygpLGU9dGhpcy5fZ2F0ZXdheS5nZXRJbkNoYW5uZWxJbmZvKCk7cmV0dXJuIHQuRHVyYXRpb249TWF0aC5yb3VuZChlLmR1cmF0aW9uLzFlMyksdH1hc3luYyBzdGFydExpdmVTdHJlYW1pbmcodCxlKXtpZighZSl7aWYodGhpcy5jb2RlYyE9PVwiaDI2NFwiKXRocm93IG5ldyBPKFIuTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9SQVdfU1RSRUFNLFwicmF3IHN0cmVhbWluZyBpcyBvbmx5IHN1cHBvcnQgaDI2NFwiKTtpZighdGhpcy5fcDJwQ2hhbm5lbC5oYXNMb2NhbE1lZGlhKCkpdGhyb3cgbmV3IE8oUi5MSVZFX1NUUkVBTUlOR19JTlZBTElEX1JBV19TVFJFQU0sXCJjYW4gbm90IGZpbmQgc3RyZWFtIHRvIHJhdyBzdHJlYW1pbmdcIil9aWYodGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudCYmdGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudC5oYXNVcmwodCl8fHRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQmJnRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQuaGFzVXJsKHQpKXRocm93IG5ldyBPKFIuTElWRV9TVFJFQU1JTkdfVEFTS19DT05GTElDVCk7bGV0IG49ZT9lci5UUkFOU0NPREU6ZXIuUkFXO3JldHVybiB0aGlzLl9jcmVhdGVMaXZlU3RyZWFtaW5nQ2xpZW50KG4pLnN0YXJ0TGl2ZVN0cmVhbWluZ1Rhc2sodCxuKX1zZXRMaXZlVHJhbnNjb2RpbmcodCl7cmV0dXJuIHRoaXMuX2NyZWF0ZUxpdmVTdHJlYW1pbmdDbGllbnQoZXIuVFJBTlNDT0RFKS5zZXRUcmFuc2NvZGluZ0NvbmZpZyh0KX1hc3luYyBzdG9wTGl2ZVN0cmVhbWluZyh0KXtsZXQgZT1bdGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudCx0aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50XS5maWx0ZXIobj0+biYmbi5oYXNVcmwodCkpO2lmKCFlLmxlbmd0aCl0aHJvdyBuZXcgTyhSLklOVkFMSURfUEFSQU1TLFwiY2FuIG5vdCBmaW5kIGxpdmUgc3RyZWFtaW5nIHVybCB0byBzdG9wXCIpO2F3YWl0IGouYWxsKGUubWFwKG49Pm4mJm4uc3RvcExpdmVTdHJlYW1pbmdUYXNrKHQpKSk7fWFzeW5jIHN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXkodCl7UHYodCksYXdhaXQgdGhpcy5fY3JlYXRlQ2hhbm5lbE1lZGlhUmVsYXlDbGllbnQoKS5zdGFydENoYW5uZWxNZWRpYVJlbGF5KHQpO31hc3luYyB1cGRhdGVDaGFubmVsTWVkaWFSZWxheSh0KXtQdih0KSxhd2FpdCB0aGlzLl9jcmVhdGVDaGFubmVsTWVkaWFSZWxheUNsaWVudCgpLnVwZGF0ZUNoYW5uZWxNZWRpYVJlbGF5KHQpO31hc3luYyBzdG9wQ2hhbm5lbE1lZGlhUmVsYXkoKXthd2FpdCB0aGlzLl9jcmVhdGVDaGFubmVsTWVkaWFSZWxheUNsaWVudCgpLnN0b3BDaGFubmVsTWVkaWFSZWxheSgpLHRoaXMuX3N0YXRzQ29sbGVjdG9yLm9uU3RhdHNDaGFuZ2VkJiYodGhpcy5fc3RhdHNDb2xsZWN0b3Iub25TdGF0c0NoYW5nZWQ9dm9pZCAwKTt9YXN5bmMgc2VuZFN0cmVhbU1lc3NhZ2UodCl7dmFyIGU7bGV0IG49IShhcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMCl8fGFyZ3VtZW50c1sxXTtpZighdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3Qgc2VuZCBkYXRhIHN0cmVhbSwgbm90IGpvaW5lZFwiKTtpZigodHlwZW9mIHQ9PVwic3RyaW5nXCJ8fHQgaW5zdGFuY2VvZiBVaW50OEFycmF5KSYmKHQ9e3BheWxvYWQ6dH0pLHR5cGVvZiB0LnBheWxvYWQ9PVwic3RyaW5nXCIpe2xldCByPW5ldyBUZXh0RW5jb2Rlcjt0LnBheWxvYWQ9ci5lbmNvZGUodC5wYXlsb2FkKTt9bGV0IGk9ITE7aWYodGhpcy5fZW5jcnlwdERhdGFTdHJlYW0mJnRoaXMuX2VuY3J5cHREYXRhU3RyZWFtSXYmJnRoaXMuX2VuY3J5cHREYXRhU3RyZWFtS2V5JiZ3aW5kb3cuY3J5cHRvLnN1YnRsZSYmVyhlPVtcImFlcy0xMjgtZ2NtMlwiLFwiYWVzLTI1Ni1nY20yXCJdKS5jYWxsKGUsdGhpcy5fZW5jcnlwdGlvbk1vZGUpJiYoaT0hMCx0LnBheWxvYWQ9YXdhaXQgYXN5bmMgZnVuY3Rpb24ocixvLHMpe3ZhciBhO2xldCBjPWppKGE9QXJyYXkuZnJvbShzKSkuY2FsbChhLChFLGYpPT5FK2YsMCksZD17c2VydmVyVHM6MCxzZXE6U0IrKyxsZW5ndGg6cy5sZW5ndGgsY2hlY2tTdW06Y30sbD1uZXcgVWludDhBcnJheShJUihjLDIpKSx1PW5ldyBBcnJheUJ1ZmZlcih1cyksaD1uZXcgRGF0YVZpZXcodSk7aC5zZXRVaW50MzIoMCxkLnNlcnZlclRzKSxoLnNldFVpbnQxNig0LGQuc2VxKSxoLnNldFVpbnQxNig2LGQubGVuZ3RoKSxoLnNldFVpbnQxNig4LGQuY2hlY2tTdW0pO2xldCBwPTE2LXMubGVuZ3RoJTE2O3M9VFIocyxuZXcgVWludDhBcnJheShwKSk7bGV0IGc9YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuZW5jcnlwdCh7bmFtZTpcIkFFUy1HQ01cIixpdjpyLHRhZ0xlbmd0aDp5UixhZGRpdGlvbmFsRGF0YTpsfSxvLHMpO3JldHVybiBUUihuZXcgVWludDhBcnJheSh1KSxuZXcgVWludDhBcnJheShnKSl9KHRoaXMuX2VuY3J5cHREYXRhU3RyZWFtSXYsdGhpcy5fZW5jcnlwdERhdGFTdHJlYW1LZXksdC5wYXlsb2FkKSksbmV3IEJsb2IoW3QucGF5bG9hZF0pLnNpemU+MTAyNCl0aHJvdyBuZXcgTyhSLklOVkFMSURfUEFSQU1TLGk/XCJlbmNyeXB0ZWQgc3RyZWFtIG1lc3NhZ2Ugb3V0IG9mIHJhbmdlLlwiOlwic3RyZWFtIG1lc3NhZ2Ugb3V0IG9mIHJhbmdlLlwiKTtyZXR1cm4gdGhpcy5fZ2F0ZXdheS5zaWduYWwucmVxdWVzdChldC5EQVRBX1NUUkVBTSx7cGF5bG9hZDpzbyh0LnBheWxvYWQpLHN5bmNXaXRoQXVkaW86dC5zeW5jV2l0aEF1ZGlvLHNlbmRUczpEYXRlLm5vdygpLUVXfSwhbil9c2VuZE1ldGFkYXRhKHQpe2lmKCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBzZW5kIG1ldGFkYXRhLCBub3Qgam9pbmVkXCIpO2lmKG5ldyBCbG9iKFt0XSkuc2l6ZT4xMDI0KXRocm93IG5ldyBPKFIuTUVUQURBVEFfT1VUX09GX1JBTkdFKTtyZXR1cm4gdGhpcy5fZ2F0ZXdheS5zaWduYWwucmVxdWVzdChldC5TRU5EX01FVEFEQVRBLHtzZXNzaW9uX2lkOnRoaXMuX2pvaW5JbmZvLnNpZCxtZXRhZGF0YTpzbyh0KX0pfWFzeW5jIHNlbmRDdXN0b21SZXBvcnRNZXNzYWdlKHQpe2lmKEFycmF5LmlzQXJyYXkodCl8fCh0PVt0XSksdC5mb3JFYWNoKFJCKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3Qgc2VuZCBjdXN0b20gcmVwb3J0LCBub3Qgam9pbmVkXCIpO2F3YWl0IFguc2VuZEN1c3RvbVJlcG9ydE1lc3NhZ2UodGhpcy5fam9pbkluZm8uc2lkLHQpO31nZXRMb2NhbEF1ZGlvU3RhdHMoKXtyZXR1cm4gdGhpcy5fc3RhdHNDb2xsZWN0b3IuZ2V0TG9jYWxBdWRpb1RyYWNrU3RhdHMoKX1nZXRSZW1vdGVBdWRpb1N0YXRzKCl7cmV0dXJuIHRoaXMuX3N0YXRzQ29sbGVjdG9yLmdldFJlbW90ZUF1ZGlvVHJhY2tTdGF0cygpfWdldExvY2FsVmlkZW9TdGF0cygpe3JldHVybiB0aGlzLl9zdGF0c0NvbGxlY3Rvci5nZXRMb2NhbFZpZGVvVHJhY2tTdGF0cygpfWdldFJlbW90ZVZpZGVvU3RhdHMoKXtyZXR1cm4gdGhpcy5fc3RhdHNDb2xsZWN0b3IuZ2V0UmVtb3RlVmlkZW9UcmFja1N0YXRzKCl9Z2V0UmVtb3RlTmV0d29ya1F1YWxpdHkoKXtyZXR1cm4gdGhpcy5fc3RhdHNDb2xsZWN0b3IuZ2V0UmVtb3RlTmV0d29ya1F1YWxpdHlTdGF0cygpfWFzeW5jIHBpY2tTVkNMYXllcih0LGUpe0NlKGUuc3BhdGlhbExheWVyLFwic3BhdGlhbExheWVyXCIsWzAsMSwyLDNdKSxDZShlLnRlbXBvcmFsTGF5ZXIsXCJ0ZW1wb3JhbExheWVyXCIsWzAsMSwyLDNdKTt0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5waWNrU1ZDTGF5ZXIodCxlKTt9Y2F0Y2gobil7dGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHBpY2sgU1ZDIGxheWVyIGZhaWxlZFwiKSxuLnRvU3RyaW5nKCkpLG59fWFzeW5jIHNldFJUTUNvbmZpZyh0KXtsZXR7YXBSVE06ZT0hMSxydG1GbGFnOm59PXQ7aWYoTnIoZSxcImFwUlRNXCIpLE50KG4sXCJydG1GbGFnXCIsMCksdGhpcy5fcnRtQ29uZmlnLmFwUlRNPWUsdGhpcy5fcnRtQ29uZmlnLnJ0bUZsYWc9bixfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0UlRNY29uZmlnIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCksXCIgaW4gXCIpLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSxcIiBzdGF0ZVwiKSksKHRoaXMuY29ubmVjdGlvblN0YXRlPT09XCJDT05ORUNURURcInx8dGhpcy5jb25uZWN0aW9uU3RhdGU9PT1cIlJFQ09OTkVDVElOR1wiKSYmdGhpcy5fam9pbkluZm8pcmV0dXJuIHRoaXMuX2pvaW5JbmZvLmFwUlRNPWUsdGhpcy5fam9pbkluZm8ucnRtRmxhZz1uLHRoaXMuX2dhdGV3YXkuc2V0UlRNMkZsYWcobil9X3Jlc2V0KCl7aWYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlc2V0IGNsaWVudFwiKSksdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UuY2FuY2VsKCksdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2U9bW4uQ2FuY2VsVG9rZW4uc291cmNlKCksdGhpcy5fc3RyZWFtRmFsbGJhY2tUeXBlQ2FjaGVNYXA9bmV3IE1hcCx0aGlzLl9yZW1vdGVTdHJlYW1UeXBlQ2FjaGVNYXA9bmV3IE1hcCx0aGlzLl9jb25maWdEaXN0cmlidXRlLnN0b3BHZXRDb25maWdEaXN0cmlidXRlKCksdGhpcy5fam9pbkluZm8mJmIwKHRoaXMuX2pvaW5JbmZvKSx0aGlzLl9qb2luSW5mbz12b2lkIDAsdGhpcy5fcHJveHlTZXJ2ZXI9dm9pZCAwLHRoaXMuX2RlZmF1bHRTdHJlYW1GYWxsYmFja1R5cGU9dm9pZCAwLHRoaXMuX3Nlc3Npb25JZD1udWxsLHRoaXMuc3RvcmUuc2Vzc2lvbklkPW51bGwsdGhpcy5fc3RhdHNDb2xsZWN0b3IucmVzZXQoKSx0aGlzLl9rZXk9dm9pZCAwLHRoaXMuX2FwcElkPXZvaWQgMCx0aGlzLl91aWQ9dm9pZCAwLHRoaXMuc3RvcmUudWlkPXZvaWQgMCx0aGlzLl9jaGFubmVsTmFtZT12b2lkIDAsdGhpcy5fZW5jcnlwdGlvbk1vZGU9XCJub25lXCIsdGhpcy5fZW5jcnlwdGlvblNlY3JldD1udWxsLHRoaXMuX2VuY3J5cHRpb25TYWx0PW51bGwsdGhpcy5fZW5jcnlwdERhdGFTdHJlYW1LZXk9bnVsbCx0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbUl2PW51bGwsdGhpcy5fcGVuZGluZ1B1Ymxpc2hlZFVzZXJzPVtdLHRoaXMuX3VzZXJzLmZvckVhY2godD0+e3QuX2F1ZGlvVHJhY2smJnQuX2F1ZGlvVHJhY2suX2Rlc3Ryb3koKSx0Ll92aWRlb1RyYWNrJiZ0Ll92aWRlb1RyYWNrLl9kZXN0cm95KCksdC5fZGF0YUNoYW5uZWxzJiYodC5fZGF0YUNoYW5uZWxzLmZvckVhY2goZT0+ZS5fY2xvc2UoKSksdC5fZGF0YUNoYW5uZWxzLmxlbmd0aD0wKTt9KSx0aGlzLl91c2Vycz1bXSx0aGlzLl9hdWRpb1ZvbHVtZUluZGljYXRpb25JbnRlcnZhbCYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX2F1ZGlvVm9sdW1lSW5kaWNhdGlvbkludGVydmFsKSx0aGlzLl9hdWRpb1ZvbHVtZUluZGljYXRpb25JbnRlcnZhbD12b2lkIDApLHRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlPT09XCJmYWxsYmFja1wiJiYodGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGU9XCJkaXNhYmxlZFwiLHRoaXMuc3RvcmUuY2xvdWRQcm94eVNlcnZlck1vZGU9XCJkaXNhYmxlZFwiKSx0aGlzLl9wMnBDaGFubmVsLnJlc2V0KCksdGhpcy5fcHVibGlzaE11dGV4PW5ldyB6ZShcImNsaWVudC1wdWJsaXNoXCIpLHRoaXMuX3N1YnNjcmliZU11dGV4PW5ldyB6ZShcImNsaWVudC1zdWJzY3JpYmVcIiksdGhpcy5fbmV0d29ya1F1YWxpdHlJbnRlcnZhbCYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX25ldHdvcmtRdWFsaXR5SW50ZXJ2YWwpLHRoaXMuX25ldHdvcmtRdWFsaXR5SW50ZXJ2YWw9dm9pZCAwKSx0aGlzLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50JiYodGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudC50ZXJtaW5hdGUoKSx0aGlzLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50LnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQ9dm9pZCAwKSx0aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50JiYodGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudC50ZXJtaW5hdGUoKSx0aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50LnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQ9dm9pZCAwKSx0aGlzLl9jaGFubmVsTWVkaWFSZWxheUNsaWVudCYmKHRoaXMuX2NoYW5uZWxNZWRpYVJlbGF5Q2xpZW50LmRpc3Bvc2UoKSx0aGlzLl9jaGFubmVsTWVkaWFSZWxheUNsaWVudD12b2lkIDApLHRoaXMuX2luc3BlY3QpdHJ5e3RoaXMuX2luc3BlY3QuY2xvc2UoKSx0aGlzLl9pbnNwZWN0PXZvaWQgMDt9Y2F0Y2h7fWlmKHRoaXMuX21vZGVyYXRpb24pdHJ5e3RoaXMuc2V0SW1hZ2VNb2RlcmF0aW9uKCExKTt9Y2F0Y2h7fX1fc3RhcnRTZXNzaW9uKHQsZSl7dmFyIG47bGV0IGk9dHx8TXMoKTt0P18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBuZXcgU2Vzc2lvbiBcIikuY29uY2F0KGkpKTpfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVuZXdTZXNzaW9uIFwiKS5jb25jYXQodGhpcy5fc2Vzc2lvbklkLFwiID0+IFwiKS5jb25jYXQoaSkpO2xldCByPXQ/XCJcIjp0aGlzLl9zZXNzaW9uSWR8fFwiXCI7dGhpcy5fc2Vzc2lvbklkPWksdGhpcy5zdG9yZS5zZXNzaW9uSWQ9aTtsZXQgbz17bHRzOm5ldyBEYXRlKCkuZ2V0VGltZSgpLG1vZGU6dGhpcy5tb2RlLGJ1aWxkRm9ybWF0OjIsc3RyaW5nVWlkOmU/LnN0cmluZ1VpZHx8KChuPXRoaXMuX2pvaW5JbmZvKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uc3RyaW5nVWlkKSxjaGFubmVsUHJvZmlsZTp0aGlzLm1vZGU9PT1cImxpdmVcIj8xOjAsY2hhbm5lbE1vZGU6MCxpc0FCVGVzdFN1Y2Nlc3M6TnVtYmVyKHRoaXMuX2NvbmZpZ0Rpc3RyaWJ1dGUuaXNTdWNjZXNzKSxsc2lkOnIsY2xpZW50Um9sZTp0aGlzLnJvbGU9PT1cImF1ZGllbmNlXCI/MjoxfTtYLnNlc3Npb25Jbml0KHRoaXMuX3Nlc3Npb25JZCx4aSh7Y25hbWU6ZS5jaGFubmVsLGFwcGlkOmUuYXBwSWR9LG8pKSx0aGlzLl9qb2luSW5mbyYmKHRoaXMuX2pvaW5JbmZvLnNpZD1pKSx0aGlzLl9nYXRld2F5LmpvaW5JbmZvJiYodGhpcy5fZ2F0ZXdheS5qb2luSW5mby5zaWQ9aSk7fWFzeW5jIF9wdWJsaXNoSGlnaFN0cmVhbSh0KXtpZighdGhpcy5fam9pbkluZm98fHRoaXMuX3VpZD09PXZvaWQgMCl0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3QgcHVibGlzaCBzdHJlYW0sIGhhdmVuJ3Qgam9pbmVkIHlldCFcIik7aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1cIkNPTk5FQ1RFRFwiJiZ0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVwiUkVDT05ORUNUSU5HXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgcHVibGlzaCBzdHJlYW0gaW4gXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlLFwiIHN0YXRlXCIpKTtpZih0aGlzLl90dXJuU2VydmVyLm1vZGU9PT1cImF1dG9cIiYmdihcIkZPUkNFX1RVUk5cIikmJiF2KFwiVFVSTl9FTkFCTEVfVENQXCIpJiYhdihcIlRVUk5fRU5BQkxFX1VEUFwiKSl0aHJvdyBuZXcgTyhSLlVORVhQRUNURURfRVJST1IsXCJmb3JjZSBUVVJOIFdpdGggTm8gVFVSTiBDb25maWd1cmF0aW9uXCIpO18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBwdWJsaXNoIGhpZ2ggc3RyZWFtXCIpKTt0cnl7bGV0IG49YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5wdWJsaXNoKHQsdGhpcy5faXNEdWFsU3RyZWFtRW5hYmxlZCx0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXIpO2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBBbil7bGV0IGk9KGF3YWl0IG4ubmV4dCgpKS52YWx1ZTtpZihpKXt0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5zZW5kRXh0ZW5zaW9uTWVzc2FnZShpZS5QVUJMSVNILGksITApO31jYXRjaChyKXt0aHJvdyBuLnRocm93KHIpLHJ9YXdhaXQgbi5uZXh0KCk7fXRoaXMuX3AycENoYW5uZWwucmVwb3J0UHVibGlzaEV2ZW50KCEwLG51bGwpO31lbHNlIHtsZXQgaT0oYXdhaXQgbi5uZXh0KCkpLnZhbHVlO2lmKGkpe3ZhciBlO2xldCByO3RyeXtyPWF3YWl0IHRoaXMuX2dhdGV3YXkucHVibGlzaCh0aGlzLl91aWQsaSwhMCk7fWNhdGNoKG8pe2lmKG8uY29kZSE9PVIuRElTQ09OTkVDVF9QMlApdGhyb3cgbi50aHJvdyhvKSxvfWF3YWl0IG4ubmV4dCgoKGU9cik9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLm9ydGMpfHxbXSk7fXRoaXMuX3AycENoYW5uZWwucmVwb3J0UHVibGlzaEV2ZW50KCEwLG51bGwpO2ZvcihsZXQgciBvZiB0KXIgaW5zdGFuY2VvZiBGdCYmci5fZW5jb2RlckNvbmZpZyYmdGhpcy5fZ2F0ZXdheS5zZXRWaWRlb1Byb2ZpbGUoci5fZW5jb2RlckNvbmZpZyksIXIubXV0ZWQmJnIuZW5hYmxlZHx8YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5tdXRlTG9jYWxUcmFjayhyKTt9fWNhdGNoKG4pe2lmKHRoaXMuX3AycENoYW5uZWwucmVwb3J0UHVibGlzaEV2ZW50KCExLG4/LmNvZGUsdCksbj8uY29kZT09PVIuV1NfQUJPUlQpcmV0dXJuO3Rocm93IG59fWFzeW5jIF9wdWJsaXNoTG93U3RyZWFtKCl7aWYoIXRoaXMuX2pvaW5JbmZvfHx0aGlzLl91aWQ9PT12b2lkIDApdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHB1Ymxpc2ggc3RyZWFtLCBoYXZlbid0IGpvaW5lZCB5ZXQhXCIpO2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09XCJDT05ORUNURURcIiYmdGhpcy5jb25uZWN0aW9uU3RhdGUhPT1cIlJFQ09OTkVDVElOR1wiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHB1Ymxpc2ggc3RyZWFtIGluIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSxcIiBzdGF0ZVwiKSk7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHB1Ymxpc2ggbG93IHN0cmVhbVwiKSk7bGV0IHQ9dGhpcy5fY29uZmlnRGlzdHJpYnV0ZS5nZXRMb3dTdHJlYW1Db25maWdEaXN0cmlidXRlKCk7dCYmdC5iaXRyYXRlJiYodGhpcy5fbG93U3RyZWFtUGFyYW1ldGVyfHwodGhpcy5fbG93U3RyZWFtUGFyYW1ldGVyPXt3aWR0aDoxNjAsaGVpZ2h0OjEyMCxmcmFtZXJhdGU6MTUsYml0cmF0ZTo1MH0pLHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlciYmdGhpcy5fbG93U3RyZWFtUGFyYW1ldGVyLmJpdHJhdGUmJnQuYml0cmF0ZTx0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXIuYml0cmF0ZSYmKHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlci5iaXRyYXRlPXQuYml0cmF0ZSkpO3RyeXtsZXQgbj1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnB1Ymxpc2hMb3dTdHJlYW0odGhpcy5fbG93U3RyZWFtUGFyYW1ldGVyKSxpPShhd2FpdCBuLm5leHQoKSkudmFsdWU7aWYoaSl7dmFyIGU7bGV0IHI7dHJ5e3I9YXdhaXQgdGhpcy5fZ2F0ZXdheS5wdWJsaXNoKHRoaXMuX3VpZCxpLCEwKTt9Y2F0Y2gobyl7aWYoby5jb2RlIT09Ui5ESVNDT05ORUNUX1AyUCl0aHJvdyBuLnRocm93KG8pLG99bi5uZXh0KCgoZT1yKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUub3J0Yyl8fFtdKSx0aGlzLl9wMnBDaGFubmVsLnJlcG9ydFB1Ymxpc2hFdmVudCghMCxudWxsLHZvaWQgMCwhMCk7fX1jYXRjaChuKXtpZih0aGlzLl9wMnBDaGFubmVsLnJlcG9ydFB1Ymxpc2hFdmVudCghMSxuPy5jb2RlLHZvaWQgMCwhMCksbj8uY29kZT09PVIuV1NfQUJPUlQpcmV0dXJuO3Rocm93IG59fV9jcmVhdGVMaXZlU3RyZWFtaW5nQ2xpZW50KHQpe2xldCBlPSgpPT57aWYoIXRoaXMuX2pvaW5JbmZvfHwhdGhpcy5fYXBwSWQpcmV0dXJuIG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IGNyZWF0ZSBsaXZlIHN0cmVhbWluZyBjbGllbnQsIHBsZWFzZSBqb2luIGNoYW5uZWwgZmlyc3RcIikudGhyb3coKTtsZXQgbj0oaT17am9pbkluZm86dGhpcy5fam9pbkluZm8sYXBwSWQ6dGhpcy5fYXBwSWQsd2Vic29ja2V0UmV0cnlDb25maWc6dGhpcy5fY29uZmlnLndlYnNvY2tldFJldHJ5Q29uZmlnLGh0dHBSZXRyeUNvbmZpZzp0aGlzLl9jb25maWcuaHR0cFJldHJ5Q29uZmlnfSxaYShcIkxpdmVTdHJlYW1pbmdcIikuY3JlYXRlKGkpKTt2YXIgaTtyZXR1cm4gbi5vbkxpdmVTdHJlYW1FcnJvcj0ocixvKT0+e1gucmVwb3J0QXBpSW52b2tlKHRoaXMuX3Nlc3Npb25JZCx7bmFtZTpUZS5PTl9MSVZFX1NUUkVBTV9FUlJPUixvcHRpb25zOltyLG9dLHRhZzpadC5UUkFDRVJ9KS5vblN1Y2Nlc3MoKSx0aGlzLnNhZmVFbWl0KHV0LkxJVkVfU1RSRUFNSU5HX0VSUk9SLHIsbyk7fSxuLm9uTGl2ZVN0cmVhbVdhcm5pbmc9KHIsbyk9PntYLnJlcG9ydEFwaUludm9rZSh0aGlzLl9zZXNzaW9uSWQse25hbWU6VGUuT05fTElWRV9TVFJFQU1fV0FSTklORyxvcHRpb25zOltyLG9dLHRhZzpadC5UUkFDRVJ9KS5vblN1Y2Nlc3MoKSx0aGlzLnNhZmVFbWl0KHV0LkxJVkVfU1RSRUFNSU5HX1dBUk5JTkcscixvKTt9LG4ub24oVkUuUkVRVUVTVF9XT1JLRVJfTUFOQUdFUl9MSVNULChyLG8scyk9PntpZighdGhpcy5fam9pbkluZm8pcmV0dXJuIHMobmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgZmluZCBqb2luIGluZm8gdG8gZ2V0IHdvcmtlciBtYW5hZ2VyXCIpKTsoYXN5bmMgZnVuY3Rpb24oYSxjLGQsbCl7bGV0IHU9dihcIlVBUF9BUFwiKS5zbGljZSgwLHYoXCJBSkFYX1JFUVVFU1RfQ09OQ1VSUkVOVFwiKSkubWFwKGg9PmMucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdChjLnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdChoK1wiL2FwaS92MT9hY3Rpb249dWFwXCIpOlwiaHR0cHM6Ly9cIi5jb25jYXQoaCxcIi9hcGkvdjE/YWN0aW9uPXVhcFwiKSk7cmV0dXJuIGF3YWl0IFdHKHUsYSxjLGQsbCl9KShyLHRoaXMuX2pvaW5JbmZvLHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlLnRva2VuLEVlKS50aGVuKG8pLmNhdGNoKHMpO30pLG59O3JldHVybiB0PT09ZXIuUkFXPyh0aGlzLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50PXRoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnR8fGUoKSx0aGlzLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50KToodGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudD10aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50fHxlKCksdGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudCl9X2NyZWF0ZUNoYW5uZWxNZWRpYVJlbGF5Q2xpZW50KCl7aWYoIXRoaXMuX2pvaW5JbmZvKXJldHVybiBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBjcmVhdGUgY2hhbm5lbCBtZWRpYSByZWxheSBjbGllbnQsIHBsZWFzZSBqb2luIGNoYW5uZWwgZmlyc3RcIikudGhyb3coKTtpZighdGhpcy5fY2hhbm5lbE1lZGlhUmVsYXlDbGllbnQpe2xldHtzZW5kUmVzb2x1dGlvbldpZHRoOmUsc2VuZFJlc29sdXRpb25IZWlnaHQ6bn09dGhpcy5nZXRMb2NhbFZpZGVvU3RhdHMoKSxpPSh0PXtqb2luSW5mbzp0aGlzLl9qb2luSW5mbyxjbGllbnRJZDp0aGlzLl9jbGllbnRJZCx3ZWJzb2NrZXRSZXRyeUNvbmZpZzp0aGlzLl9jb25maWcud2Vic29ja2V0UmV0cnlDb25maWcsaHR0cFJldHJ5Q29uZmlnOnRoaXMuX2NvbmZpZy5odHRwUmV0cnlDb25maWcscmVzb2x1dGlvbjp7d2lkdGg6ZSxoZWlnaHQ6bn19LFphKFwiQ2hhbm5lbE1lZGlhUmVsYXlcIikuY3JlYXRlKHQpKTtpLm9uKFwic3RhdGVcIixyPT57cj09PVNuLlJFTEFZX1NUQVRFX0ZBSUxVUkUmJmkmJmkuZGlzcG9zZSgpLHRoaXMuc2FmZUVtaXQodXQuQ0hBTk5FTF9NRURJQV9SRUxBWV9TVEFURSxyKTt9KSxpLm9uKFwiZXZlbnRcIixyPT57dGhpcy5zYWZlRW1pdCh1dC5DSEFOTkVMX01FRElBX1JFTEFZX0VWRU5ULHIpO30pLHRoaXMuX2NoYW5uZWxNZWRpYVJlbGF5Q2xpZW50PWksdGhpcy5fc3RhdHNDb2xsZWN0b3Iub25TdGF0c0NoYW5nZWQ9KHIsbyk9Pnt2YXIgcztyPT09XCJyZXNvbHV0aW9uXCImJigocz10aGlzLl9jaGFubmVsTWVkaWFSZWxheUNsaWVudCk9PT1udWxsfHxzPT09dm9pZCAwfHxzLnNldFZpZGVvUHJvZmlsZShvKSk7fTt9dmFyIHQ7cmV0dXJuIHRoaXMuX2NoYW5uZWxNZWRpYVJlbGF5Q2xpZW50fV9oYW5kbGVVcGRhdGVEYXRhQ2hhbm5lbCh0LGUpe2xldHthZGRlZDpuLGRlbGV0ZWQ6aX09dCxyPVtdO2lmKGUpe2xldCBvPVtdO3RoaXMuX3VzZXJzLmZvckVhY2gocz0+e3MuX2RhdGFDaGFubmVscy5mb3JFYWNoKGE9PntuLmV2ZXJ5KGM9PmMudWlkIT09cy5fdWludGlkfHxjLnN0cmVhbV9pZCE9PWEuaWQpJiZvLnB1c2goe3VpZDpzLl91aW50aWQsc3RyZWFtX2lkOmEuaWQsb3JkZXJlZDphLm9yZGVyZWQsbWF4X3JldHJhbnNfdGltZXM6YS5tYXhSZXRyYW5zbWl0cyxtZXRhZGF0YTphLm1ldGFkYXRhfSk7fSk7fSksby5sZW5ndGg+MCYmdGhpcy5faGFuZGxlVXBkYXRlRGF0YUNoYW5uZWwoe2FkZGVkOltdLGRlbGV0ZWQ6b30pO31BcnJheS5pc0FycmF5KG4pJiZuLmxlbmd0aD4wJiZuLmZvckVhY2gobz0+e2xldHt1aWQ6cyxzdHJlYW1faWQ6YSxvcmRlcmVkOmMsbWF4X3JldHJhbnNfdGltZXM6ZCxtZXRhZGF0YTpsfT1vLHU9dGhpcy5fdXNlcnMuZmluZChoPT5oLl91aW50aWQ9PT1zKTtpZighdSlyZXR1cm4gdm9pZCBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBmaW5kIHRhcmdldCB1c2VyIShvbl9hZGRfZGF0YV9jaGFubmVsKVwiKSk7aWYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGRhdGFfY2hhbm5lbCBhZGRlZCB3aXRoIHVpZCBcIikuY29uY2F0KHMpKSxXKHIpLmNhbGwocix1KXx8ci5wdXNoKHUpLHUuX3VpbnRpZHx8KHUuX3VpbnRpZD1zKSx1Ll9kYXRhQ2hhbm5lbHMuZmluZEluZGV4KGg9PmguaWQ9PT1vLnN0cmVhbV9pZCk9PT0tMSl7bGV0IGg9e2lkOmEsb3JkZXJlZDohIWMsbWF4UmV0cmFuc21pdHM6ZCxtZXRhZGF0YTpsfSxwPWZ1bmN0aW9uKGcpe3JldHVybiBLdihnLCEwKX0oaCk7dS5fZGF0YUNoYW5uZWxzLnB1c2gocCksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdCh1LnVpZCxcIiBwdWJsaXNoZWQgZGF0YWNoYW5uZWxcIikpLGV8fHRoaXMuc2FmZUVtaXQodXQuVVNFUl9QVUJMSVNIRUQsdSxcImRhdGFjaGFubmVsXCIsaCk7fXRoaXMuX3AycENoYW5uZWwuaGFzUGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKHUsby5zdHJlYW1faWQpJiYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlc3Vic2NyaWJlIGRhdGFjaGFubmVsIGZvciB1c2VyIFwiKS5jb25jYXQodS51aWQsXCIgYWZ0ZXIgcmVjb25uZWN0LlwiKSksdGhpcy5fc3Vic2NyaWJlRGF0YUNoYW5uZWwodSxvLnN0cmVhbV9pZCkuY2F0Y2goaD0+e18uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXN1YnNjcmliZSBkYXRhY2hhbm5lbCBlcnJvclwiKSxoLnRvU3RyaW5nKCkpO30pKTt9KSxlJiYodGhpcy5zYWZlRW1pdCh1dC5QVUJMSVNIRURfVVNFUl9MSVNULHRoaXMuX3BlbmRpbmdQdWJsaXNoZWRVc2VycyksdGhpcy5fcGVuZGluZ1B1Ymxpc2hlZFVzZXJzPVtdKSxBcnJheS5pc0FycmF5KGkpJiZpLmxlbmd0aD4wJiZpLmZvckVhY2gobz0+e2xldHt1aWQ6cyxzdHJlYW1faWQ6YX09byxjPXRoaXMuX3VzZXJzLmZpbmQobD0+bC5fdWludGlkPT09cyk7aWYoIWMpcmV0dXJuIHZvaWQgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgZmluZCB0YXJnZXQgdXNlciEob25fZGVsZXRlX2RhdGFfY2hhbm5lbClcIikpO2xldCBkPWMuX2RhdGFDaGFubmVscy5maW5kKGw9PmwuaWQ9PT1vLnN0cmVhbV9pZCk7ZCYmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBkYXRhX3N0cmVhbSBkZWxldGUgd2l0aCB1aWQgXCIpLmNvbmNhdChzKSksdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZURhdGFDaGFubmVsKGMsW2RdKS50aGVuKGw9PntpZihjLl9kYXRhQ2hhbm5lbHM9Yy5fZGF0YUNoYW5uZWxzLmZpbHRlcih1PT51IT09ZCksbClyZXR1cm4gdGhpcy5fZ2F0ZXdheS51bnN1YnNjcmliZURhdGFDaGFubmVsKGwsYy51aWQpfSksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChzLFwiIHVucHVibGlzaGVkIGRhdGFjaGFubmVsICxpZDpcIikuY29uY2F0KGQuaWQpKSx0aGlzLnNhZmVFbWl0KHV0LlVTRVJfVU5QVUJMSVNIRUQsYyxcImRhdGFjaGFubmVsXCIsZC5fY29uZmlnKSk7fSk7fV9oYW5kbGVSZW1vdmVEYXRhQ2hhbm5lbHModCl7bGV0IGU9dGhpcy5fdXNlcnMuZmluZChuPT5uLnVpZD09PXQudWlkKTtpZihlKXtpZihlLl9kYXRhQ2hhbm5lbHMhPT12b2lkIDAmJmUuX2RhdGFDaGFubmVscy5sZW5ndGg+MCl7Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGRhdGFjaGFubmVsIHJlbW92ZWQgd2l0aCB1aWQgXCIpLmNvbmNhdCh0LnVpZCkpO2xldCBuPSgpPT57Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiB1bnB1Ymxpc2hlZCBkYXRhY2hhbm5lbFwiKSksZS5fZGF0YUNoYW5uZWxzLmZvckVhY2goaT0+e3RoaXMuc2FmZUVtaXQodXQuVVNFUl9VTlBVQkxJU0hFRCxlLFwiZGF0YWNoYW5uZWxcIixpLl9jb25maWcpO30pO307dGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZURhdGFDaGFubmVsKGUsZS5fZGF0YUNoYW5uZWxzKS50aGVuKGk9PntpZihpKXJldHVybiB0aGlzLl9nYXRld2F5LnVuc3Vic2NyaWJlRGF0YUNoYW5uZWwoaSxlLnVpZCl9KSxuKCk7fX1lbHNlIF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgZmluZCB0YXJnZXQgdXNlciEob25fcmVtb3ZlX2RhdGFjaGFubmVsKVwiKSk7fV9oYW5kbGVHYXRld2F5RXZlbnRzKCl7dGhpcy5fZ2F0ZXdheS5vbih4ZS5ESVNDT05ORUNUX1AyUCxhc3luYygpPT57YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5kaXNjb25uZWN0Rm9yUmVjb25uZWN0KCk7fSksdGhpcy5fZ2F0ZXdheS5vbih4ZS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSwodCxlLG4pPT57dmFyIGk7aWYobj09PUF0LkZBTExCQUNLKXJldHVybjtsZXQgcj0oKT0+e3RoaXMuc2FmZUVtaXQodXQuQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsdCxlLG4pO307aWYoWC5yZXBvcnRBcGlJbnZva2UodGhpcy5fc2Vzc2lvbklkfHwoKGk9dGhpcy5fZ2F0ZXdheS5qb2luSW5mbyk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLnNpZCl8fG51bGwse25hbWU6VGUuQ09OTkVDVElPTl9TVEFURV9DSEFOR0Usb3B0aW9uczpbdCxlLG5dLHRhZzpadC5UUkFDRVJ9KS5vblN1Y2Nlc3MoSlNPTi5zdHJpbmdpZnkoe2N1cjp0LHByZXY6ZSxyZWFzb246bn0pKSxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjb25uZWN0aW9uIHN0YXRlIGNoYW5nZTogXCIpLmNvbmNhdChlLFwiIC0+IFwiKS5jb25jYXQodCkpLHQ9PT1cIkRJU0NPTk5FQ1RFRFwiKXJldHVybiB0aGlzLl9yZXNldCgpLHZvaWQgcigpO2lmKHQ9PT1cIlJFQ09OTkVDVElOR1wiKXRoaXMuX3VzZXJzLmZvckVhY2gocz0+e3MuX3RydXN0X2luX3Jvb21fPSExLHMuX3RydXN0X2F1ZGlvX2VuYWJsZWRfc3RhdGVfPSExLHMuX3RydXN0X3ZpZGVvX2VuYWJsZWRfc3RhdGVfPSExLHMuX3RydXN0X2F1ZGlvX211dGVfc3RhdGVfPSExLHMuX3RydXN0X3ZpZGVvX211dGVfc3RhdGVfPSExLHMuX3RydXN0X2F1ZGlvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITEscy5fdHJ1c3RfdmlkZW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMSxzLl9pc19wcmVfY3JlYXRlZHx8KHMuX2F1ZGlvX3ByZV9zdWJzY3JpYmVkfHwocy5fYXVkaW9TU1JDPXZvaWQgMCxzLl9hdWRpb09ydGM9dm9pZCAwKSxzLl92aWRlb19wcmVfc3Vic2NyaWJlZHx8KHMuX3ZpZGVvU1NSQz12b2lkIDAscy5fdmlkZW9PcnRjPXZvaWQgMCxzLl9ydHhTc3JjSWQ9dm9pZCAwKSxzLl9jbmFtZT12b2lkIDApO30pLHRoaXMuX3VzZXJPZmZsaW5lVGltZW91dCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl91c2VyT2ZmbGluZVRpbWVvdXQpLHRoaXMuX3N0cmVhbVJlbW92ZWRUaW1lb3V0JiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3N0cmVhbVJlbW92ZWRUaW1lb3V0KSx0aGlzLl91c2VyT2ZmbGluZVRpbWVvdXQ9dm9pZCAwLHRoaXMuX3N0cmVhbVJlbW92ZWRUaW1lb3V0PXZvaWQgMDtlbHNlIGlmKHQ9PT1cIkNPTk5FQ1RFRFwiKXt2YXIgbzt0aGlzLl9zdHJlYW1GYWxsYmFja1R5cGVDYWNoZU1hcC5mb3JFYWNoKChzLGEpPT57dGhpcy5fZ2F0ZXdheS5zZXRTdHJlYW1GYWxsYmFja09wdGlvbihhLHMpLmNhdGNoKGM9PntfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIHNldCBzdHJlYW0gZmFsbGJhY2sgb3B0aW9uIGZhaWxlZFwiKSxjKTt9KTt9KSx0aGlzLl9yZW1vdGVTdHJlYW1UeXBlQ2FjaGVNYXAuZm9yRWFjaCgocyxhKT0+e3RoaXMuX2dhdGV3YXkuc2V0UmVtb3RlVmlkZW9TdHJlYW1UeXBlKGEscykuY2F0Y2goYz0+e18ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gc2V0IHJlbW90ZSBzdHJlYW0gdHlwZSBmYWlsZWRcIiksYyk7fSk7fSksdGhpcy5fcmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZSE9PXZvaWQgMCYmKChvPXRoaXMuX2pvaW5JbmZvKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8uZGVmYXVsdFZpZGVvU3RyZWFtKT09PXZvaWQgMCYmdGhpcy5zZXRSZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlKHRoaXMuX3JlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGUpLnRoZW4oKCk9PntfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0UmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZSBhZnRlciBnYXRld2F5IGNvbm5lY3RlZFwiKSk7fSkuY2F0Y2gocz0+e18uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXRSZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlIGFmdGVyIGdhdGV3YXkgZmFpbGVkLCBcIikuY29uY2F0KHMpKTt9KSx0aGlzLnN0b3JlLnVzZVAyUHx8KHRoaXMuX3AycENoYW5uZWwucmVwdWJsaXNoKCksdGhpcy5fdXNlck9mZmxpbmVUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9PT1cIkNPTk5FQ1RFRFwiJiYodGhpcy5fdXNlck9mZmxpbmVUaW1lb3V0PXZvaWQgMCx0aGlzLl91c2Vycy5maWx0ZXIocz0+IXMuX3RydXN0X2luX3Jvb21fKS5mb3JFYWNoKHM9PntfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlciBvZmZsaW5lIHRpbWVvdXQsIGVtaXQgdXNlciBvZmZsaW5lIFwiKS5jb25jYXQocy51aWQpKSx0aGlzLl9oYW5kbGVVc2VyT2ZmbGluZSh7dWlkOnMudWlkfSk7fSkpO30sM2UzKSx0aGlzLl9zdHJlYW1SZW1vdmVkVGltZW91dD13aW5kb3cuc2V0VGltZW91dCgoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPT09XCJDT05ORUNURURcIiYmKHRoaXMuX3N0cmVhbVJlbW92ZWRUaW1lb3V0PXZvaWQgMCx0aGlzLl91c2Vycy5mb3JFYWNoKHM9PntzLl90cnVzdF9hdWRpb19tdXRlX3N0YXRlX3x8KF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIGRpc3BhdGNoIGF1ZGlvIHVubXV0ZSBldmVudCBcIikuY29uY2F0KHMudWlkKSksdGhpcy5faGFuZGxlTXV0ZVN0cmVhbShzLnVpZCxRLkFVRElPLCExKSkscy5fdHJ1c3RfdmlkZW9fbXV0ZV9zdGF0ZV98fChfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gYXV0byBkaXNwYXRjaCB2aWRlbyB1bm11dGUgZXZlbnQgXCIpLmNvbmNhdChzLnVpZCkpLHRoaXMuX2hhbmRsZU11dGVTdHJlYW0ocy51aWQsUS5WSURFTywhMSkpLHMuX3RydXN0X2F1ZGlvX2VuYWJsZWRfc3RhdGVffHwoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggZW5hYmxlIGxvY2FsIGF1ZGlvIFwiKS5jb25jYXQocy51aWQpKSx0aGlzLl9oYW5kbGVTZXRTdHJlYW1Mb2NhbEVuYWJsZShcImF1ZGlvXCIscy51aWQsITApKSxzLl90cnVzdF92aWRlb19lbmFibGVkX3N0YXRlX3x8KF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIGRpc3BhdGNoIGVuYWJsZSBsb2NhbCB2aWRlbyBcIikuY29uY2F0KHMudWlkKSksdGhpcy5faGFuZGxlU2V0U3RyZWFtTG9jYWxFbmFibGUoXCJ2aWRlb1wiLHMudWlkLCEwKSkscy5fdHJ1c3RfdmlkZW9fc3RyZWFtX2FkZGVkX3N0YXRlX3x8KF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIGRpc3BhdGNoIHJlc2V0IHZpZGVvIHN0cmVhbSBhZGRlZCBcIikuY29uY2F0KHMudWlkKSksdGhpcy5faGFuZGxlUmVzZXRBZGRTdHJlYW0ocyxcInZpZGVvXCIpKSxzLl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVffHwoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggcmVzZXQgYXVkaW8gc3RyZWFtIGFkZGVkIFwiKS5jb25jYXQocy51aWQpKSx0aGlzLl9oYW5kbGVSZXNldEFkZFN0cmVhbShzLFwiYXVkaW9cIikpLHMuX3ZpZGVvX2FkZGVkX3x8cy5fYXVkaW9fYWRkZWRffHwoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggc3RyZWFtIHJlbW92ZSBcIikuY29uY2F0KHMudWlkKSksdGhpcy5faGFuZGxlUmVtb3ZlU3RyZWFtKHt1aWQ6cy51aWQsdWludF9pZDpzLl91aW50aWR9KSk7fSkpO30sMWUzKSk7fXIoKTt9KSx0aGlzLl9nYXRld2F5Lm9uKHhlLlJFUVVFU1RfTkVXX0dBVEVXQVlfTElTVCxhc3luYyh0LGUpPT57aWYoIXRoaXMuX2pvaW5JbmZvKXJldHVybiBlKG5ldyBPKFIuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgcmVjb3Zlciwgbm8gam9pbiBpbmZvXCIpKTt0cnl7bGV0IG4saT1hd2FpdCBYdih4aSh4aSh7fSx0aGlzLl9qb2luSW5mbykse30se3VpZDp0aGlzLl9qb2luSW5mby51aWQsc3RyaW5nVWlkOnZvaWQgMH0pKTtpPyhuPWkuYXAsUXYoaSksdGhpcy5fam9pbkluZm8ucHJlbG9hZD0hMCk6KG49YXdhaXQgbm0odGhpcy5fam9pbkluZm8sdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UudG9rZW4sdGhpcy5fY29uZmlnLmh0dHBSZXRyeUNvbmZpZ3x8RWUsdGhpcy5zdG9yZSksdGhpcy5fam9pbkluZm8ucHJlbG9hZD0hMSksdGhpcy5fam9pbkluZm8mJih0aGlzLl9qb2luSW5mby5hcFJlc3BvbnNlPW4uZ2F0ZXdheUluZm8ucmVzLHRoaXMuX2pvaW5JbmZvLmdhdGV3YXlBZGRycz1uLmdhdGV3YXlJbmZvLmdhdGV3YXlBZGRycyx0aGlzLl9qb2luSW5mby51bmlfbGJzX2lwPW4uZ2F0ZXdheUluZm8udW5pX2xic19pcCk7bGV0IHI9W107bi5nYXRld2F5SW5mby5nYXRld2F5QWRkcnMuZm9yRWFjaChvPT57bGV0e2FkZHJlc3M6c309byxbYSxjXT1zLnNwbGl0KFwiOlwiKTt0aGlzLl9qb2luSW5mbyYmdGhpcy5fam9pbkluZm8ucHJveHlTZXJ2ZXI/ci5wdXNoKHtwcm94eTp0aGlzLl9qb2luSW5mby5wcm94eVNlcnZlcixob3N0OmEscG9ydDpjfSk6ci5wdXNoKHtob3N0OmEscG9ydDpjfSk7fSksdChyKTt9Y2F0Y2gobil7ZShuKTt9fSksdGhpcy5fZ2F0ZXdheS5vbih4ZS5ORVRXT1JLX1FVQUxJVFksdD0+e3RoaXMuX25ldHdvcmtRdWFsaXR5U2Vuc2l0aXZpdHk9PT1cIm5vcm1hbFwiJiZ0aGlzLnNhZmVFbWl0KHV0Lk5FVFdPUktfUVVBTElUWSx0KTt9KSx0aGlzLl9nYXRld2F5Lm9uKHhlLlNUUkVBTV9UWVBFX0NIQU5HRSwodCxlKT0+e3RoaXMuc2FmZUVtaXQodXQuU1RSRUFNX1RZUEVfQ0hBTkdFRCx0LGUpLFgucmVwb3J0QXBpSW52b2tlKHRoaXMuX3Nlc3Npb25JZCx7bmFtZTpUZS5TVFJFQU1fVFlQRV9DSEFOR0Usb3B0aW9uczpbdCxlXSx0YWc6WnQuVFJBQ0VSfSkub25TdWNjZXNzKEpTT04uc3RyaW5naWZ5KHt1aWQ6dCxzdHJlYW1UeXBlOmV9KSk7fSksdGhpcy5fZ2F0ZXdheS5vbih4ZS5JU19QMlBfRElTQ09OTkVDVEVELHQ9Pnt0aGlzLl9wMnBDaGFubmVsLmlzUDJQRGlzY29ubmVjdGVkKCk/dCghMCk6dGhpcy5fcDJwQ2hhbm5lbC5oYXNMb2NhbE1lZGlhKCl8fHRoaXMuX3AycENoYW5uZWwuaGFzUmVtb3RlTWVkaWEoKT90KCExKTp0KCEwKTt9KSx0aGlzLl9nYXRld2F5Lm9uKHhlLlJFUVVFU1RfUDJQX0NPTk5FQ1RJT05fUEFSQU1TLGFzeW5jKHQsZSxuKT0+e3RyeXtsZXQgaT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLmdldEVzdGFibGlzaFBhcmFtcygpO3YoXCJFTkFCTEVfUFJFQUxMT0NfUENcIikmJml8fChpPWF3YWl0IHRoaXMuX3AycENoYW5uZWwuc3RhcnRQMlBDb25uZWN0aW9uKHQpKSxlKGkpO31jYXRjaChpKXtuKGkpO319KSx0aGlzLl9nYXRld2F5Lm9uKHhlLkpPSU5fUkVTUE9OU0UsKHQsZSk9PntpZih0aGlzLnN0b3JlLnVzZVAyUClyZXR1cm47bGV0IG49cUkodC5vcnRjLGUsdC5hdHRyaWJ1dGVzLnVzZXJBdHRyaWJ1dGVzLnByZVN1YlNzcmNzKTt0aGlzLl9wMnBDaGFubmVsLmNvbm5lY3Qobik7fSksdGhpcy5fZ2F0ZXdheS5vbih4ZS5QUkVfQ09OTkVDVF9QQyxhc3luYyB0PT57bGV0e2NhbmRpZGF0ZXM6ZSxmaW5nZXJwcmludDpufT10O2lmKHRoaXMuX2pvaW5JbmZvJiZlLmxlbmd0aD4wJiYhdGhpcy5fcDJwQ2hhbm5lbC5pc1BsYW5CKXt2YXIgaTthd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN0YXJ0UDJQQ29ubmVjdGlvbih7dHVyblNlcnZlcjp0aGlzLl9qb2luSW5mby50dXJuU2VydmVyfSk7bGV0e2NlcnQ6cixjaWQ6b309dGhpcy5fam9pbkluZm8uYXBSZXNwb25zZTthd2FpdCB0aGlzLl9wMnBDaGFubmVsLmNvbm5lY3Qoe2ljZVBhcmFtZXRlcnM6e2ljZVVmcmFnOlwiXCIuY29uY2F0KG8sXCJfXCIpLmNvbmNhdChyKSxpY2VQd2Q6XCJcIi5jb25jYXQobyxcIl9cIikuY29uY2F0KHIpfSxkdGxzUGFyYW1ldGVyczp7ZmluZ2VycHJpbnRzOlt7aGFzaEZ1bmN0aW9uOlwic2hhLTI1NlwiLGZpbmdlcnByaW50OihpPXYoXCJGSU5HRVJQUklOVFwiKSkhPT1udWxsJiZpIT09dm9pZCAwP2k6bn1dfSxjYW5kaWRhdGVzOmUscnRwQ2FwYWJpbGl0aWVzOntzZW5kOnthdWRpb0NvZGVjczpbXSx2aWRlb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9FeHRlbnNpb25zOltdfSxyZWN2OnthdWRpb0NvZGVjczpbXSx2aWRlb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9FeHRlbnNpb25zOltdfX0sc2V0dXA6XCJhY3RpdmVcIixjbmFtZTpcIm8vaTE0dTlwSnJ4UktBc3VcIixwcmVhbGxvY2F0aW9uOiEwfSk7fX0pO31faGFuZGxlR2F0ZXdheVNpZ25hbEV2ZW50cygpe3RoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGR0Lk9OX1VTRVJfT05MSU5FLHRoaXMuX2hhbmRsZVVzZXJPbmxpbmUpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGR0Lk9OX1VTRVJfT0ZGTElORSx0aGlzLl9oYW5kbGVVc2VyT2ZmbGluZSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oZHQuT05fQUREX0FVRElPX1NUUkVBTSx0PT50aGlzLl9oYW5kbGVBZGRBdWRpb09yVmlkZW9TdHJlYW0oXCJhdWRpb1wiLHQudWlkLHQuc3NyY0lkLHQuY25hbWUsdC51aW50X2lkLHQub3J0YykpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGR0Lk9OX0FERF9WSURFT19TVFJFQU0sdD0+dGhpcy5faGFuZGxlQWRkQXVkaW9PclZpZGVvU3RyZWFtKFwidmlkZW9cIix0LnVpZCx0LnNzcmNJZCx0LmNuYW1lLHQudWludF9pZCx0Lm9ydGMsdC5ydHhTc3JjSWQpKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihkdC5PTl9SRU1PVEVfREFUQVNUUkVBTV9VUERBVEUsdD0+e3RoaXMuX2hhbmRsZVVwZGF0ZURhdGFDaGFubmVsKHQpO30pLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGR0Lk9OX1JFTU9URV9GVUxMX0RBVEFTVFJFQU1fSU5GTyx0PT57dGhpcy5faGFuZGxlVXBkYXRlRGF0YUNoYW5uZWwoe2FkZGVkOnQuZGF0YXN0cmVhbXN8fFtdLGRlbGV0ZWQ6W119LCEwKTt9KSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihkdC5PTl9SRU1PVkVfU1RSRUFNLHRoaXMuX2hhbmRsZVJlbW92ZVN0cmVhbSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oZHQuT05fUDJQX0xPU1QsdGhpcy5faGFuZGxlUDJQTG9zdCksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oZHQuTVVURV9BVURJTyx0PT50aGlzLl9oYW5kbGVNdXRlU3RyZWFtKHQudWlkLFEuQVVESU8sITApKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihkdC5VTk1VVEVfQVVESU8sdD0+dGhpcy5faGFuZGxlTXV0ZVN0cmVhbSh0LnVpZCxRLkFVRElPLCExKSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oZHQuTVVURV9WSURFTyx0PT50aGlzLl9oYW5kbGVNdXRlU3RyZWFtKHQudWlkLFEuVklERU8sITApKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihkdC5VTk1VVEVfVklERU8sdD0+dGhpcy5faGFuZGxlTXV0ZVN0cmVhbSh0LnVpZCxRLlZJREVPLCExKSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oZHQuUkVDRUlWRV9NRVRBREFUQSx0PT57bGV0IGU9Rm8odC5tZXRhZGF0YSk7dGhpcy5zYWZlRW1pdCh1dC5SRUNFSVZFX01FVEFEQVRBLHQudWlkLGUpO30pLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGR0Lk9OX0RBVEFfU1RSRUFNLGFzeW5jIHQ9Pnt2YXIgZTtpZighdClyZXR1cm47bGV0IG49Rm8odC5wYXlsb2FkKTtpZih0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbSYmdGhpcy5fZW5jcnlwdERhdGFTdHJlYW1JdiYmdGhpcy5fZW5jcnlwdERhdGFTdHJlYW1LZXkmJndpbmRvdy5jcnlwdG8uc3VidGxlJiZXKGU9W1wiYWVzLTEyOC1nY20yXCIsXCJhZXMtMjU2LWdjbTJcIl0pLmNhbGwoZSx0aGlzLl9lbmNyeXB0aW9uTW9kZSkpe2lmKHQucGF5bG9hZC5sZW5ndGg8dXMpdGhyb3cgbmV3IE8oUi5VTkVYUEVDVEVEX1JFU1BPTlNFLFwicGF5bG9hZCBsZW5ndGggXCIuY29uY2F0KHQucGF5bG9hZC5sZW5ndGgsXCIgaXMgbGVzcyB0aGFuIGhlYWRlciBsZW5ndGggXCIpLmNvbmNhdCh1cykpO249YXdhaXQgYXN5bmMgZnVuY3Rpb24obyxzLGEpe2xldCBjPWEuc3ViYXJyYXkoMCx1cyksZD1jLnNsaWNlKDgsdXMpLGw9KGRbMF08PDgpK2RbMV0sdT0oY1s2XTw8OCkrY1s3XSxoPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmRlY3J5cHQoe25hbWU6XCJBRVMtR0NNXCIsaXY6byx0YWdMZW5ndGg6eVIsYWRkaXRpb25hbERhdGE6bmV3IFVpbnQ4QXJyYXkoSVIobCwyKSl9LHMsYS5zdWJhcnJheSh1cykpO3JldHVybiBuZXcgVWludDhBcnJheShoKS5zdWJhcnJheSgwLHUpfSh0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbUl2LHRoaXMuX2VuY3J5cHREYXRhU3RyZWFtS2V5LG4pO31sZXQgaT0wO2lmKHQub3JkZXJlZHx8dC5zeW5jV2l0aEF1ZGlvKXtsZXQgcj10aGlzLl9wMnBDaGFubmVsLmdldFN0YXRzKCksbz10aGlzLnJlbW90ZVVzZXJzLmZpbmQoYT0+YS51aWQ9PT10LnVpZCkscz1yPy5hdWRpb1JlY3YuZmluZChhPT5hLnNzcmM9PT1vPy5fYXVkaW9TU1JDKTtpPXM/LmppdHRlckJ1ZmZlck1zO31pPT1udWxsJiYoaT0wKSxmVyh4aSh4aSh7fSx0KSx7fSx7cGF5bG9hZDpufSksaSx7aWQ6dGhpcy5fY2xpZW50SWQsb25TdHJlYW1NZXNzYWdlOnR5cGVvZiB0aGlzLm9uU3RyZWFtTWVzc2FnZT09XCJmdW5jdGlvblwiP3RoaXMub25TdHJlYW1NZXNzYWdlLmJpbmQodGhpcyk6dm9pZCAwLHNhZmVFbWl0OnRoaXMuc2FmZUVtaXQuYmluZCh0aGlzKX0pO30pLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGR0Lk9OX0NSWVBUX0VSUk9SLCgpPT57cG8oKCk9PntfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBvbiBjcnlwdCBlcnJvclwiKSksdGhpcy5zYWZlRW1pdCh1dC5DUllQVF9FUlJPUik7fSx0aGlzLl9zZXNzaW9uSWQpO30pLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGR0Lk9OX1RPS0VOX1BSSVZJTEVHRV9XSUxMX0VYUElSRSx0aGlzLl9oYW5kbGVUb2tlbldpbGxFeHBpcmUpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGR0Lk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFLCgpPT57Xy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVjZWl2ZWQgbWVzc2FnZSBvblRva2VuUHJpdmlsZWdlRGlkRXhwaXJlLCBwbGVhc2UgZ2V0IG5ldyB0b2tlbiBhbmQgam9pbiBhZ2FpblwiKSksdGhpcy5fZ2F0ZXdheS5sZWF2ZSghMCxBdC5UT0tFTl9FWFBJUkUpLHRoaXMuc2FmZUVtaXQodXQuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkUpLHRoaXMuX3Jlc2V0KCk7fSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oZHQuT05fU1RSRUFNX0ZBTExCQUNLX1VQREFURSx0PT57Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0cmVhbSBmYWxsYmFjayBwZWVySWQ6IFwiKS5jb25jYXQodC5zdHJlYW1faWQsXCIsIGF0dHI6IFwiKS5jb25jYXQodC5zdHJlYW1fdHlwZSkpLHRoaXMuc2FmZUVtaXQodXQuU1RSRUFNX0ZBTExCQUNLLHQuc3RyZWFtX2lkLHQuc3RyZWFtX3R5cGU9PT0xP1wiZmFsbGJhY2tcIjpcInJlY292ZXJcIik7fSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oZHQuT05fUFVCTElTSF9TVFJFQU0sdD0+e3RoaXMudWlkPT09dGhpcy5fdWlkJiYodGhpcy5fcDJwQ2hhbm5lbC5yZXBvcnRQdWJsaXNoRXZlbnQoITAsbnVsbCx2b2lkIDAsITEsSlNPTi5zdHJpbmdpZnkoe3Byb3h5OnQucHJveHl9KSksXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gb24gcHVibGlzaCBzdHJlYW0sIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCkpKSk7fSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oZHQuRU5BQkxFX0xPQ0FMX1ZJREVPLHQ9Pnt0aGlzLl9oYW5kbGVTZXRTdHJlYW1Mb2NhbEVuYWJsZShcInZpZGVvXCIsdC51aWQsITApO30pLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGR0LkRJU0FCTEVfTE9DQUxfVklERU8sdD0+e3RoaXMuX2hhbmRsZVNldFN0cmVhbUxvY2FsRW5hYmxlKFwidmlkZW9cIix0LnVpZCwhMSk7fSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24obnQuUkVRVUVTVF9USU1FT1VULCh0LGUpPT57aWYodGhpcy5fam9pbkluZm8pc3dpdGNoKHQpe2Nhc2UgZXQuUFVCTElTSDp7aWYoIWUpcmV0dXJuO2xldCByPWUub3J0YztpZihyKXt2YXIgbixpO2xldCBvPXIuc29tZShjPT57bGV0e3N0cmVhbV90eXBlOmR9PWM7cmV0dXJuIGQ9PT1DdC5BdWRpb30pLHM9ci5zb21lKGM9PntsZXR7c3RyZWFtX3R5cGU6ZH09YztyZXR1cm4gZCE9PUN0LkF1ZGlvfSksYT1yLnNvbWUoYz0+e2xldHtzdHJlYW1fdHlwZTpkfT1jO3JldHVybiBkPT09Q3QuU2NyZWVufHxkPT09Q3QuU2NyZWVuTG93fSk7ZS5zdGF0ZT09PVwib2ZmZXJcIiYmWC5wdWJsaXNoKHRoaXMuX2pvaW5JbmZvLnNpZCx7ZXZlbnRFbGFwc2U6cWUubWVhc3VyZUZyb21QdWJsaXNoU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCx0aGlzLnN0b3JlLnB1YklkKSxzdWNjOiExLGVjOlIuVElNRU9VVCxhdWRpbzpvLHZpZGVvOnMscDJwaWQ6ZS5wMnBfaWQscHVibGlzaFJlcXVlc3RpZDp0aGlzLnN0b3JlLnB1YklkLHNjcmVlbnNoYXJlOmEsYXVkaW9OYW1lOm8/KG49ci5maW5kKGM9PntsZXR7c3RyZWFtX3R5cGU6ZH09YztyZXR1cm4gZD09PUN0LkF1ZGlvfSkpPT09bnVsbHx8bj09PXZvaWQgMHx8KG49bi5zc3Jjc1swXSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLnNzcmNJZC50b1N0cmluZygpOnZvaWQgMCx2aWRlb05hbWU6cz8oaT1yLmZpbmQoYz0+e2xldHtzdHJlYW1fdHlwZTpkfT1jO3JldHVybiBkIT09Q3QuQXVkaW99KSk9PT1udWxsfHxpPT09dm9pZCAwfHwoaT1pLnNzcmNzWzBdKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkuc3NyY0lkLnRvU3RyaW5nKCk6dm9pZCAwfSk7fWJyZWFrfWNhc2UgZXQuU1VCU0NSSUJFOmUmJlguc3Vic2NyaWJlKHRoaXMuX2pvaW5JbmZvLnNpZCx7c3VjYzohMSxlYzpSLlRJTUVPVVQsYXVkaW86ZS5zdHJlYW1fdHlwZT09PVEuQVVESU8sdmlkZW86ZS5zdHJlYW1fdHlwZT09PVEuVklERU8scGVlcmlkOmUuc3RyZWFtX2lkLHN1YnNjcmliZVJlcXVlc3RpZDplLnNzcmNJZCxwMnBpZDp0aGlzLnN0b3JlLnAycElkLGV2ZW50RWxhcHNlOnFlLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxlLnNzcmNJZCkscHJlU3NyYzp0aGlzLl9wMnBDaGFubmVsLmlzUHJlU3ViU2NyaWJlKGUuc3NyY0lkKX0pO319KSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihkdC5PTl9QMlBfT0ssdD0+e3RoaXMudWlkLHRoaXMuX3VpZDt9KSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihkdC5PTl9QVUJMSVNIRURfVVNFUl9MSVNULHQ9PntpZih0PT1udWxsfHwhdC51c2VycylyZXR1cm47dihcIkJMT0NLX0xPQ0FMX0NMSUVOVFwiKSYmKHQudXNlcnM9dC51c2Vycy5maWx0ZXIoaT0+IUlvKGkuc3RyaW5nX2lkfHxpLnN0cmVhbV9pZCx0aGlzLmNoYW5uZWxOYW1lKSkpO2xldCBlPVtdLG49W107Zm9yKGxldCBpIG9mIHQudXNlcnMpe2xldCByPXRoaXMuX3VzZXJzLmZpbmQobD0+bC5fdWludGlkPT09aS5zdHJlYW1faWQpO3I/ci5fdHJ1c3RfaW5fcm9vbV89ITA6KHI9bmV3IGlyKGkuc3RyaW5nX2lkfHxpLnN0cmVhbV9pZCxpLnN0cmVhbV9pZCksdGhpcy5fdXNlcnMucHVzaChyKSx0aGlzLmdldExpc3RlbmVycyh1dC5QVUJMSVNIRURfVVNFUl9MSVNUKS5sZW5ndGg9PT0wJiYoXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVzZXIgb25saW5lXCIpLGkuc3RyZWFtX2lkKSx0aGlzLnNhZmVFbWl0KHV0LlVTRVJfSk9JTkVELHIpKSk7bGV0IG89dmUuQXVkaW8maS5zdHJlYW1fdHlwZSxzPSh2ZS5WaWRlb3x2ZS5Md29WaWRlbykmaS5zdHJlYW1fdHlwZSxhPSg2NTI4MCZpLnN0cmVhbV90eXBlKSE9MCxjPW8mJnIuaGFzQXVkaW8sZD1zJiZyLmhhc1ZpZGVvO3MmJihyLl90cnVzdF92aWRlb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwLHIuX3ZpZGVvX2FkZGVkXz0hMCxyLl92aWRlb1NTUkM9aS52aWRlb19zc3JjLHIuX3J0eFNzcmNJZD1pLnZpZGVvX3J0eCksbyYmKHIuX3RydXN0X2F1ZGlvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITAsci5fYXVkaW9fYWRkZWRfPSEwLHIuX2F1ZGlvU1NSQz1pLmF1ZGlvX3NzcmMpLG8mJiFjJiZ0aGlzLmdldExpc3RlbmVycyh1dC5QVUJMSVNIRURfVVNFUl9MSVNUKS5sZW5ndGg9PT0wJiYoXy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChyLnVpZCxcIiBwdWJsaXNoZWQgYXVkaW9cIikpLHRoaXMuc2FmZUVtaXQodXQuVVNFUl9QVUJMSVNIRUQscixcImF1ZGlvXCIpKSxzJiYhZCYmdGhpcy5nZXRMaXN0ZW5lcnModXQuUFVCTElTSEVEX1VTRVJfTElTVCkubGVuZ3RoPT09MCYmKF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoci51aWQsXCIgcHVibGlzaGVkIHZpZGVvXCIpKSx0aGlzLnNhZmVFbWl0KHV0LlVTRVJfUFVCTElTSEVELHIsXCJ2aWRlb1wiKSksKG8mJiFjfHxzJiYhZHx8YSkmJmUucHVzaChyKSxzJiZ0aGlzLl9wMnBDaGFubmVsLmhhc1BlbmRpbmdSZW1vdGVNZWRpYShyLFwidmlkZW9cIikmJm4ucHVzaCh7dXNlcjpyLG1lZGlhVHlwZTpcInZpZGVvXCJ9KSxvJiZ0aGlzLl9wMnBDaGFubmVsLmhhc1BlbmRpbmdSZW1vdGVNZWRpYShyLFwiYXVkaW9cIikmJm4ucHVzaCh7dXNlcjpyLG1lZGlhVHlwZTpcImF1ZGlvXCJ9KTt9bi5sZW5ndGg+MCYmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBSRSBtYXNzU3Vic2NyaWJlIGFmdGVyIHJlY29ubmVjdCBcIikuY29uY2F0KG4ubWFwKGk9PlwidXNlcjogXCIuY29uY2F0KGkudXNlci51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdChpLm1lZGlhVHlwZSkpLmpvaW4oXCI7IFwiKSxcIiBcIikpLHRoaXMubWFzc1N1YnNjcmliZShuKS5jYXRjaChpPT57Xy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIG1hc3MgcmVzdWJzY3JpYmUgZXJyb3JcIiksaS50b1N0cmluZygpKTt9KSksdGhpcy5nZXRMaXN0ZW5lcnModXQuUFVCTElTSEVEX1VTRVJfTElTVCkubGVuZ3RoPjA/dihcIkVOQUJMRV9EQVRBU1RSRUFNXzJcIik/dGhpcy5fcGVuZGluZ1B1Ymxpc2hlZFVzZXJzPWU6KF8uaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNsaWVudCBlbWl0IHVzZXItbGlzdCBldmVudCwgdXNlcnM6IFwiKS5jb25jYXQoZS5tYXAoaT0+aS51aWQpLmpvaW4oXCIsIFwiKSkpLHRoaXMuc2FmZUVtaXQodXQuUFVCTElTSEVEX1VTRVJfTElTVCxlKSk6Xy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2xpZW50IG5vdCBlbWl0IHVzZXItbGlzdCBldmVudCBjYXNlIHRoZXJlIGlzIG5vIHVzZXItbGlzdCBsaXN0ZW5lciwgdXNlcnM6IFwiKS5jb25jYXQoZS5tYXAoaT0+aS51aWQpLmpvaW4oXCIsIFwiKSkpO30pLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGR0Lk9OX1JUUF9DQVBBQklMSVRZX0NIQU5HRSx0PT57bGV0e3ZpZGVvX2NvZGVjOmV9PXQ7dGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIEpkJiZ0aGlzLl9wMnBDaGFubmVsLnVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhlLm1hcChuPT5uLnRvTG93ZXJDYXNlKCkpLmZpbHRlcihuPT57dmFyIGk7cmV0dXJuIFcoaT1PYmplY3Qua2V5cyhKdSkpLmNhbGwoaSxuKX0pKTt9KTt9X2hhbmRsZVAyUEV2ZW50cygpe3RoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGR0Lk9OX1VTRVJfT0ZGTElORSwoKT0+e3RoaXMuX3AycENoYW5uZWwuZGlzY29ubmVjdEZvclJlY29ubmVjdCgpO30pLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGllLlBVQkxJU0gsKHQsZSxuKT0+e2xldHt1aWQ6aX09dDt0LmZvckVhY2gocj0+e2xldHtraW5kOm8sc3NyY3M6cyxtaWQ6YSxpc011dGVkOmN9PXI7dGhpcy5faGFuZGxlUDJQQWRkQXVkaW9PclZpZGVvU3RyZWFtKG8saSxzWzBdLnNzcmNJZCxhKTtsZXQgZD10aGlzLl91c2Vycy5maW5kKGw9PmwudWlkPT09aSk7cmV0dXJuIGQmJnRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBBbj90aGlzLl9wMnBDaGFubmVsLm1vY2tTdWJzY3JpYmUoZCxvLHNbMF0uc3NyY0lkLGEpLnRoZW4oKCk9PntlKCk7fSkuY2F0Y2gobik6ZSgpLHRoaXMuX2hhbmRsZU11dGVTdHJlYW0oaSxvLCEhYyl9KTt9KSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihpZS5DQUxMLGFzeW5jKHQsZSxuKT0+e2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBBbil0cnl7dmFyIGk7ZShhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN0YXJ0UDJQKHt0dXJuU2VydmVyOihpPXRoaXMuX2pvaW5JbmZvKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkudHVyblNlcnZlcn0sdCkpO31jYXRjaChyKXtuKHIpO319KSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihudC5QMlBfQ09OTkVDVElPTixhc3luYyB0PT57dGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIEFuJiZhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnAycENvbm5lY3QodCk7fSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oaWUuVU5QVUJMSVNILGFzeW5jKHQsZSxuKT0+e2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBBbil7bGV0e3VucHViTXNnOmksdWlkOnJ9PXQsbz10aGlzLl91c2Vycy5maW5kKHM9PnMudWlkPT09cik7aWYoIW8pcmV0dXJuIF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgZmluZCByZW1vdGUgdXNlciwgaWdub3JlIG11dGUgZXZlbnQsIHVpZDogXCIpLmNvbmNhdChyKSksdm9pZCBlKCk7dHJ5e2kuZm9yRWFjaChhc3luYyBzPT57bGV0e3N0cmVhbV90eXBlOmF9PXMsYz1hPT09Q3QuQXVkaW8/US5BVURJTzpRLlZJREVPO2F3YWl0IHRoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmUobyxjKSx0aGlzLl9oYW5kbGVNdXRlU3RyZWFtKHIsYywhMCk7fSksZSgpO31jYXRjaChzKXtuKHMpO319fSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oaWUuQ09OVFJPTCxhc3luYyh0LGUpPT57bGV0e2FjdGlvbjpufT10O3N3aXRjaChuKXtjYXNlIHRvLk1VVEVfTE9DQUxfVklERU86dGhpcy5faGFuZGxlTXV0ZVN0cmVhbShlLFEuVklERU8sITApO2JyZWFrO2Nhc2UgdG8uTVVURV9MT0NBTF9BVURJTzp0aGlzLl9oYW5kbGVNdXRlU3RyZWFtKGUsUS5BVURJTywhMCk7YnJlYWs7Y2FzZSB0by5VTk1VVEVfTE9DQUxfVklERU86dGhpcy5faGFuZGxlUDJQQWRkQXVkaW9PclZpZGVvU3RyZWFtKFwidmlkZW9cIixlKSx0aGlzLl9oYW5kbGVNdXRlU3RyZWFtKGUsUS5WSURFTywhMSk7YnJlYWs7Y2FzZSB0by5VTk1VVEVfTE9DQUxfQVVESU86dGhpcy5faGFuZGxlUDJQQWRkQXVkaW9PclZpZGVvU3RyZWFtKFwiYXVkaW9cIixlKSx0aGlzLl9oYW5kbGVNdXRlU3RyZWFtKGUsUS5BVURJTywhMSk7fX0pLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKGllLlJFU1RBUlRfSUNFLGFzeW5jKHQsZSxuKT0+e2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBBbil0cnl7bGV0e2RpcmVjdGlvbjppLGljZVBhcmFtZXRlcjpyfT10O2khPT1jbi5TRU5EX09OTFl8fHI/ZShhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnJlc3RhcnRJQ0UoaSxyKSk6KHRoaXMuX3AycENoYW5uZWwuaGFuZGxlRGlzY29ubmVjdChpKSxlKCkpO31jYXRjaChpKXtuKGkpO319KSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihpZS5DQU5ESURBVEUsdD0+e2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBBbil7bGV0e2NhbmRpZGF0ZTplLGRpcmVjdGlvbjpufT10O3RoaXMuX3AycENoYW5uZWwuYWRkUmVtb3RlQ2FuZGlkYXRlKGUsbik7fX0pLHRoaXMuX3AycENoYW5uZWwub24odHQuUmVxdWVzdFAyUFJlc3RhcnRJQ0UsYXN5bmModCxlLG4pPT57dHJ5e2xldHtkaXJlY3Rpb246aX09dDtlKGF3YWl0IHRoaXMuX2dhdGV3YXkuc2VuZEV4dGVuc2lvbk1lc3NhZ2UoaWUuUkVTVEFSVF9JQ0UsdCxpPT09Y24uU0VORF9PTkxZKSk7fWNhdGNoKGkpe24oaSk7fX0pLHRoaXMuX3AycENoYW5uZWwub24odHQuTG9jYWxDYW5kaWRhdGUsdD0+e3RoaXMuX2dhdGV3YXkuc2VuZEV4dGVuc2lvbk1lc3NhZ2UoaWUuQ0FORElEQVRFLEpTT04uc3RyaW5naWZ5KHQpLCEwKTt9KSx0aGlzLl9wMnBDaGFubmVsLm9uKHR0LlJlcXVlc3RQMlBNdXRlTG9jYWwsYXN5bmModCxlLG4pPT57dHJ5e2F3YWl0IHRoaXMuX2dhdGV3YXkuc2VuZEV4dGVuc2lvbk1lc3NhZ2UoaWUuQ09OVFJPTCx0LCEwKSxlKCk7fWNhdGNoKGkpe24oaSk7fX0pLHRoaXMuX3AycENoYW5uZWwub24odHQuUmVxdWVzdFAyUFVubXV0ZVJlbW90ZSxhc3luYyh0LGUsbik9PntpZih0aGlzLl9qb2luSW5mbyl0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS51bm11dGVSZW1vdGUodCx0aGlzLl9qb2luSW5mby5zdHJpbmdVaWR8fHRoaXMuX2pvaW5JbmZvLnVpZCksZSgpO31jYXRjaChpKXtpLmNvZGU9PT1SLkRJU0NPTk5FQ1RfUDJQP2UoKTpuKGkpO31lbHNlIGUoKTt9KSx0aGlzLl9wMnBDaGFubmVsLm9uKHR0LlJlcXVlc3RQMlBNdXRlUmVtb3RlLGFzeW5jKHQsZSxuKT0+e2lmKHRoaXMuX2pvaW5JbmZvKXRyeXthd2FpdCB0aGlzLl9nYXRld2F5Lm11dGVSZW1vdGUodCx0aGlzLl9qb2luSW5mby5zdHJpbmdVaWR8fHRoaXMuX2pvaW5JbmZvLnVpZCksZSgpO31jYXRjaChpKXtpLmNvZGU9PT1SLkRJU0NPTk5FQ1RfUDJQP2UoKTpuKGkpO31lbHNlIGUoKTt9KSx0aGlzLl9wMnBDaGFubmVsLm9uKHR0LlN0YXRlQ2hhbmdlLCh0LGUpPT57ZT09PVJ0LkNvbm5lY3RlZCYmdGhpcy5fcDJwQ2hhbm5lbC5yZXB1Ymxpc2goKTt9KTt9X2hhbmRsZVAyUENoYW5uZWxFdmVudHMoKXt0aGlzLl9wMnBDaGFubmVsLm9uKHR0LlJlcXVlc3RNdXRlTG9jYWwsYXN5bmModCxlLG4pPT57aWYodGhpcy5fam9pbkluZm8pdHJ5e2F3YWl0IHRoaXMuX2dhdGV3YXkubXV0ZUxvY2FsKHQsdGhpcy5fam9pbkluZm8uc3RyaW5nVWlkfHx0aGlzLl9qb2luSW5mby51aWQpLGUoKTt9Y2F0Y2goaSl7aS5jb2RlPT09Ui5ESVNDT05ORUNUX1AyUD9lKCk6bihpKTt9ZWxzZSBlKCk7fSksdGhpcy5fcDJwQ2hhbm5lbC5vbih0dC5SZXF1ZXN0VW5tdXRlTG9jYWwsYXN5bmModCxlLG4pPT57aWYodGhpcy5fam9pbkluZm8pdHJ5e2F3YWl0IHRoaXMuX2dhdGV3YXkudW5tdXRlTG9jYWwodCx0aGlzLl9qb2luSW5mby5zdHJpbmdVaWR8fHRoaXMuX2pvaW5JbmZvLnVpZCksZSgpO31jYXRjaChpKXtpLmNvZGU9PT1SLkRJU0NPTk5FQ1RfUDJQP2UoKTpuKGkpO31lbHNlIGUoKTt9KSx0aGlzLl9wMnBDaGFubmVsLm9uKHR0LlJlcXVlc3RSZVB1Ymxpc2gsKHQsZSxuKT0+e3RoaXMucHVibGlzaCh0LCExKS50aGVuKGUpLmNhdGNoKG4pO30pLHRoaXMuX3AycENoYW5uZWwub24odHQuUmVxdWVzdFJlUHVibGlzaERhdGFDaGFubmVsLCh0LGUsbik9PntqLmFsbCh0Lm1hcChhc3luYyBpPT57bGV0IHI9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5wdWJsaXNoRGF0YUNoYW5uZWwoW2ldKTt0cnl7ci5mb3JFYWNoKG89Pnt0aGlzLl91aWQmJnRoaXMuX2dhdGV3YXkucHVibGlzaERhdGFDaGFubmVsKHRoaXMuX3VpZCxvLCEwKTt9KTt9Y2F0Y2gobyl7aWYoby5jb2RlIT09Ui5ESVNDT05ORUNUX1AyUCl0aHJvdyBvfX0pKS50aGVuKGUpLmNhdGNoKG4pO30pLHRoaXMuX3AycENoYW5uZWwub24odHQuUmVxdWVzdFJlU3Vic2NyaWJlLGFzeW5jKHQsZSxuKT0+e3RyeXtmb3IobGV0e3VzZXI6aSxraW5kOnJ9b2YgdClyPT09US5WSURFTz9hd2FpdCB0aGlzLnN1YnNjcmliZShpLFwidmlkZW9cIik6YXdhaXQgdGhpcy5zdWJzY3JpYmUoaSxcImF1ZGlvXCIpO2UoKTt9Y2F0Y2goaSl7bihpKTt9fSksdGhpcy5fcDJwQ2hhbm5lbC5vbih0dC5SZXF1ZXN0VXBsb2FkLCh0LGUpPT57dGhpcy5fZ2F0ZXdheS51cGxvYWQodCxlKTt9KSx0aGlzLl9wMnBDaGFubmVsLm9uKHR0LlJlcXVlc3RVcGxvYWRTdGF0cyx0PT57dGhpcy5fZ2F0ZXdheS51cGxvYWRXUlRDU3RhdHModCk7fSksdGhpcy5fcDJwQ2hhbm5lbC5vbih0dC5NZWRpYVJlY29ubmVjdFN0YXJ0LHQ9Pnt0aGlzLnNhZmVFbWl0KHV0Lk1FRElBX1JFQ09OTkVDVF9TVEFSVCx0KTt9KSx0aGlzLl9wMnBDaGFubmVsLm9uKHR0Lk1lZGlhUmVjb25uZWN0RW5kLHQ9Pnt0aGlzLnNhZmVFbWl0KHV0Lk1FRElBX1JFQ09OTkVDVF9FTkQsdCk7fSksdGhpcy5fcDJwQ2hhbm5lbC5vbih0dC5OZWVkU2lnbmFsUlRULHQ9Pnt0KHRoaXMuX2dhdGV3YXkuZ2V0U2lnbmFsUlRUKCkpO30pLHRoaXMuX3AycENoYW5uZWwub24odHQuUmVxdWVzdFJlc3RhcnRJQ0UsYXN5bmMgdD0+e2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBBbilyZXR1cm47bGV0IGU9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5yZXN0YXJ0SUNFKHQpLG49YXdhaXQgZS5uZXh0KCk7aWYobi5kb25lKXJldHVybjtsZXQgaT1uLnZhbHVlLHI7dHJ5e3I9YXdhaXQgdGhpcy5fZ2F0ZXdheS5yZXN0YXJ0SUNFKHtpY2VQYXJhbWV0ZXJzOml9KTt9Y2F0Y2gocyl7cmV0dXJuIHZvaWQgZS50aHJvdyhzKX1sZXR7aWNlUGFyYW1ldGVyczpvfT1mdW5jdGlvbihzKXtsZXQgYT1zLmljZVBhcmFtZXRlcnM7cmV0dXJuIHtpY2VQYXJhbWV0ZXJzOntpY2VVZnJhZzphLmljZVVmcmFnLGljZVB3ZDphLmljZVB3ZH19fShyKTthd2FpdCBlLm5leHQoe3JlbW90ZUljZVBhcmFtZXRlcnM6b30pO30pLHRoaXMuX3AycENoYW5uZWwub24odHQuUmVxdWVzdFJlY29ubmVjdCxhc3luYygpPT57dGhpcy5fZ2F0ZXdheS5yZWNvbm5lY3QoKTt9KSx0aGlzLl9wMnBDaGFubmVsLm9uKHR0LlJlcXVlc3RSZWNvbm5lY3RQQyxhc3luYygpPT57dmFyIHQ7bGV0e2ljZVBhcmFtZXRlcnM6ZSxkdGxzUGFyYW1ldGVyczpuLHJ0cENhcGFiaWxpdGllczppfT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN0YXJ0UDJQQ29ubmVjdGlvbih7dHVyblNlcnZlcjoodD10aGlzLl9qb2luSW5mbyk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnR1cm5TZXJ2ZXJ9KSx7Z2F0ZXdheUVzdGFibGlzaFBhcmFtczpyLGdhdGV3YXlBZGRyZXNzOm99PWF3YWl0IHRoaXMuX2dhdGV3YXkucmVjb25uZWN0UEMoe2ljZVBhcmFtZXRlcnM6ZSxkdGxzUGFyYW1ldGVyczpuLHJ0cENhcGFiaWxpdGllczppfSkscz1xSShyLG8pO2F3YWl0IHRoaXMuX3AycENoYW5uZWwuY29ubmVjdChzKSxhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnJlcHVibGlzaCgpLGF3YWl0IHRoaXMuX3AycENoYW5uZWwucmVTdWJzY3JpYmUoKTt9KSx0aGlzLl9wMnBDaGFubmVsLm9uKHR0LlJlcXVlc3RVbnB1Ymxpc2hGb3JSZWNvbm5lY3RQQyxhc3luYyh0LGUsbik9Pnt0aGlzLl9qb2luSW5mbyYmdGhpcy5fdWlkIT09dm9pZCAwPyhhd2FpdCB0aGlzLl9nYXRld2F5LnVucHVibGlzaCh0LHRoaXMuX3VpZCksZSgpKTpuKCk7fSksdGhpcy5fcDJwQ2hhbm5lbC5vbih0dC5QMlBMb3N0LCgpPT57dGhpcy5zYWZlRW1pdCh1dC5QMlBfTE9TVCx0aGlzLnN0b3JlLnVpZCk7fSksdGhpcy5fcDJwQ2hhbm5lbC5vbih0dC5VcGRhdGVWaWRlb0VuY29kZXIsdD0+e3QuX2VuY29kZXJDb25maWcmJnRoaXMuX2dhdGV3YXkuc2V0VmlkZW9Qcm9maWxlKHQuX2VuY29kZXJDb25maWcpO30pLHRoaXMuX3AycENoYW5uZWwub24odHQuQ29ubmVjdGlvblR5cGVDaGFuZ2UsdD0+e3RoaXMuc2FmZUVtaXQodXQuSVNfVVNJTkdfQ0xPVURfUFJPWFksdCk7fSksdGhpcy5fcDJwQ2hhbm5lbC5vbih0dC5SZXF1ZXN0TG93U3RyZWFtUGFyYW1ldGVyLHQ9Pnt0KHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlcnx8e3dpZHRoOjE2MCxoZWlnaHQ6MTIwLGZyYW1lcmF0ZToxNSxiaXRyYXRlOjUwfSk7fSksdGhpcy5fcDJwQ2hhbm5lbC5vbih0dC5RdWVyeUNsaWVudENvbm5lY3Rpb25TdGF0ZSx0PT57dCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSk7fSk7fWdldEtleU1ldHJpY3MoKXtyZXR1cm4gdGhpcy5zdG9yZS5rZXlNZXRyaWNzfWFzeW5jIGVuYWJsZUNvbnRlbnRJbnNwZWN0KHQpe2lmKCF0aGlzLl9qb2luSW5mb3x8dGhpcy5jb25uZWN0aW9uU3RhdGUhPT1cIkNPTk5FQ1RFRFwiKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGNyZWF0ZSBjb250ZW50IGluc3BlY3QsIHBsZWFzZSBqb2luIGNoYW5uZWwgZmlyc3RcIikpO2lmKHRoaXMuX2luc3BlY3QpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIEluc3BlY3QgY29udGVudCBzZXJ2aWNlIGFscmVhZHkgaW4gY29ubmVjdGluZy9jb25uZWN0ZWQgc3RhdGVcIikpO3RyeXtsZXQgbj0oZT17Y29uZmlnOnR9LFphKFwiQ29udGVudEluc3BlY3RcIikuY3JlYXRlKGUpKTt0aGlzLl9pbnNwZWN0PW4sdGhpcy5oYW5kbGVWaWRlb0luc3BlY3RFdmVudHMobik7bGV0e2FwcElkOmksY25hbWU6cixzaWQ6byx0b2tlbjpzLHVpZDphLGNpZDpjLHZpZDpkfT10aGlzLl9qb2luSW5mbzthd2FpdCBuLmluaXQoe2FwcElkOmksYXJlYUNvZGU6XCJcIixjbmFtZTpyLHNpZDpvLHRva2VuOnMsdWlkOmEsY2lkOmMsdmlkOmQ/TnVtYmVyKGQpOjB9LEVlKTt9Y2F0Y2gobil7dGhyb3cgQXJyYXkuaXNBcnJheShuKT9uWzBdOm59dmFyIGU7fWhhbmRsZVZpZGVvSW5zcGVjdEV2ZW50cyh0KXt0Lm9uKHdlLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLChlLG4pPT57aWYodGhpcy5zYWZlRW1pdCh1dC5DT05URU5UX0lOU1BFQ1RfQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsZSxuKSxuPT09RWkuQ09OTkVDVEVEKXtpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVwiQ09OTkVDVEVEXCIpcmV0dXJuIHZvaWQgdGhpcy5zYWZlRW1pdCh1dC5DT05URU5UX0lOU1BFQ1RfRVJST1IsbmV3IE8oUi5PUEVSQVRJT05fQUJPUlRFRCxcIkNvbnRlbnQgaW5zcGVjdCB3YXMgY2FuY2VsbGVkIGJlY2F1c2UgaXQgbGVmdCB0aGUgY2hhbm5lbFwiKSk7dC5pbnNwZWN0SW1hZ2UoKTt9fSksdC5vbih3ZS5JTlNQRUNUX1JFU1VMVCwoZSxuKT0+e3ZhciBpO2lmKG4/LmNvZGU9PT1SLklOVkFMSURfT1BFUkFUSU9OJiZ0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PVwiRElTQ09OTkVDVEVEXCIpcmV0dXJuIF8uZGVidWcoXCJTdG9wIGluc3BlY3QgY29udGVudCBiZWNhdXNlIHRoYXQgaGFzIGxlZnQgY2hhbm5lbFwiKSx0aGlzPT1udWxsfHwoaT10aGlzLl9pbnNwZWN0KT09PW51bGx8fGk9PT12b2lkIDB8fGkuY2xvc2UoKSx2b2lkKHRoaXMuX2luc3BlY3Q9dm9pZCAwKTt0aGlzLnNhZmVFbWl0KHV0LkNPTlRFTlRfSU5TUEVDVF9SRVNVTFQsZSxuKTt9KSx0Lm9uKHdlLkNMSUVOVF9MT0NBTF9WSURFT19UUkFDSyxlPT57ZSh0aGlzLmxvY2FsVHJhY2tzLmZpbHRlcihuPT5uLnRyYWNrTWVkaWFUeXBlPT09XCJ2aWRlb1wiKVswXSk7fSk7fWFzeW5jIGRpc2FibGVDb250ZW50SW5zcGVjdCgpe2lmKCF0aGlzLl9pbnNwZWN0KXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBpbnNwZWN0VmlkZW9Db250ZW50IG5vdCBzdGFydGVkXCIpKTt0cnl7dGhpcy5faW5zcGVjdC5jbG9zZSgpLHRoaXMuX2luc3BlY3Q9dm9pZCAwO31jYXRjaCh0KXt0aHJvdyBBcnJheS5pc0FycmF5KHQpP3RbMF06dH19YXN5bmMgc2V0SW1hZ2VNb2RlcmF0aW9uKHQsZSl7aWYoTnIodCxcImVuYWJsZWRcIiksdCl7aWYoIWUpdGhyb3cgbmV3IE8oUi5JTlZBTElEX1BBUkFNUyxcImNvbmZpZyBpcyByZXF1aXJlZFwiKTtpZihrMChlKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgY3JlYXRlIGltYWdlIG1vZGVyYXRpb24sIHBsZWFzZSBqb2luIGNoYW5uZWwgZmlyc3RcIik7dHJ5e2lmKHRoaXMuX21vZGVyYXRpb24pdGhpcy5fbW9kZXJhdGlvbi51cGRhdGVDb25maWcoZSk7ZWxzZSB7bGV0IGk9KG49e2NvbmZpZzplfSxaYShcIkltYWdlTW9kZXJhdGlvblwiKS5jcmVhdGUobikpO3RoaXMuX21vZGVyYXRpb249aSx0aGlzLmhhbmRsZUltYWdlTW9kZXJhdGlvbkV2ZW50cyhpKTtsZXR7YXBwSWQ6cixjbmFtZTpvLHNpZDpzLHRva2VuOmEsdWlkOmMsY2lkOmQsdmlkOmx9PXRoaXMuX2pvaW5JbmZvO2F3YWl0IGkuaW5pdCh7YXBwSWQ6cixhcmVhQ29kZTpcIlwiLGNuYW1lOm8sc2lkOnMsdG9rZW46YSx1aWQ6YyxjaWQ6ZCx2aWQ6bD9OdW1iZXIobCk6MH0sRWUpO319Y2F0Y2goaSl7dGhyb3cgQXJyYXkuaXNBcnJheShpKT9pWzBdOml9fWVsc2Uge3ZhciBuO2lmKCF0aGlzLl9tb2RlcmF0aW9uKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBpbWFnZSBtb2RlcmF0aW9uIG5vdCBzdGFydGVkXCIpKTt0cnl7dGhpcy5fbW9kZXJhdGlvbi5jbG9zZSgpLHRoaXMuX21vZGVyYXRpb24ucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5fbW9kZXJhdGlvbj12b2lkIDA7fWNhdGNoKGkpe3Rocm93IEFycmF5LmlzQXJyYXkoaSk/aVswXTppfX19aGFuZGxlSW1hZ2VNb2RlcmF0aW9uRXZlbnRzKHQpe3Qub24oTWkuQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsKGUsbik9PntpZih0aGlzLnNhZmVFbWl0KHV0LklNQUdFX01PREVSQVRJT05fQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsZSxuKSxlPT09WG4uQ09OTkVDVEVEKXtpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PVwiQ09OTkVDVEVEXCIpdGhyb3cgdGhpcy5zZXRJbWFnZU1vZGVyYXRpb24oITEpLG5ldyBPKFIuT1BFUkFUSU9OX0FCT1JURUQsXCJJbWFnZSBtb2RlcmF0aW9uIHdhcyBjYW5jZWxsZWQgYmVjYXVzZSBpdCBsZWZ0IHRoZSBjaGFubmVsXCIpO3QuaW5zcGVjdEltYWdlKCk7fX0pLHQub24oTWkuQ0xJRU5UX0xPQ0FMX1ZJREVPX1RSQUNLLGU9PntlKHRoaXMubG9jYWxUcmFja3MuZmlsdGVyKG49Pm4udHJhY2tNZWRpYVR5cGU9PT1cInZpZGVvXCIpWzBdKTt9KTt9c2V0UDJQVHJhbnNwb3J0KHQpe2lmKGZ1bmN0aW9uKGUpe0NlKGUsXCJ0cmFuc3BvcnRcIixbXCJkZWZhdWx0XCIsXCJhdXRvXCIsXCJyZWxheVwiLFwic2QtcnRuXCJdKTt9KHQpLHRoaXMubW9kZSE9PVwicDJwXCIpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIm9ubHkgcDJwIG1vZGUgY2FuIHNldCBwMnBUcmFuc3BvcnRcIik7dGhpcy5zdG9yZS5wMnBUcmFuc3BvcnQ9dCxfLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgY2xpZW50IHAycFRyYW5zcG9ydCB0byBcIikuY29uY2F0KHQpKTt9Z2V0Sm9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcygpe3JldHVybiBfLmRlYnVnKFwiZ2V0Sm9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkc1wiKSx0aGlzLnN0b3JlLmpvaW5DaGFubmVsU2VydmljZVJlY29yZHN9YXN5bmMgc2V0UHVibGlzaEF1ZGlvRmlsdGVyRW5hYmxlZCh0KXtOcih0LFwiZW5hYmxlZFwiKSxPdChcIkVOQUJMRV9QVUJMSVNIX0FVRElPX0ZJTFRFUlwiLHQpLHRoaXMuX2pvaW5JbmZvJiZhd2FpdCB0aGlzLl9nYXRld2F5LnNldFB1Ymxpc2hBdWRpb0ZpbHRlckVuYWJsZWQodCk7fV9oYW5kbGVSZXNldEFkZFN0cmVhbSh0LGUpe3N3aXRjaChlKXtjYXNlXCJhdWRpb1wiOnQuX2F1ZGlvX2FkZGVkXz0hMSx0Ll90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwO2JyZWFrO2Nhc2VcInZpZGVvXCI6dC5fdmlkZW9fYWRkZWRfPSExLHQuX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITA7fX19LHEoRy5wcm90b3R5cGUsXCJsZWF2ZVwiLFtzeV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcImxlYXZlXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwicHVibGlzaFwiLFtheV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInB1Ymxpc2hcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hcIixbY3ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzdWJzY3JpYmVcIixbZHldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJzdWJzY3JpYmVcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJwcmVzdWJzY3JpYmVcIixbbHldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJwcmVzdWJzY3JpYmVcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJtYXNzU3Vic2NyaWJlXCIsW3V5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwibWFzc1N1YnNjcmliZVwiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcInVuc3Vic2NyaWJlXCIsW2h5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwidW5zdWJzY3JpYmVcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJtYXNzVW5zdWJzY3JpYmVcIixbcHldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJtYXNzVW5zdWJzY3JpYmVcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzZXRMb3dTdHJlYW1QYXJhbWV0ZXJcIixbX3ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJzZXRMb3dTdHJlYW1QYXJhbWV0ZXJcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJlbmFibGVEdWFsU3RyZWFtXCIsW0V5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwiZW5hYmxlRHVhbFN0cmVhbVwiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcImRpc2FibGVEdWFsU3RyZWFtXCIsW215XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwiZGlzYWJsZUR1YWxTdHJlYW1cIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzZXRDbGllbnRSb2xlXCIsW2Z5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwic2V0Q2xpZW50Um9sZVwiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcInNldFByb3h5U2VydmVyXCIsW2d5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwic2V0UHJveHlTZXJ2ZXJcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzZXRUdXJuU2VydmVyXCIsW1R5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwic2V0VHVyblNlcnZlclwiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcInNldExpY2Vuc2VcIixbU3ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJzZXRMaWNlbnNlXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwic3RhcnRQcm94eVNlcnZlclwiLFtSeV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInN0YXJ0UHJveHlTZXJ2ZXJcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzdG9wUHJveHlTZXJ2ZXJcIixbQ3ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJzdG9wUHJveHlTZXJ2ZXJcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzZXRMb2NhbEFjY2Vzc1BvaW50c1YyXCIsW0l5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwic2V0TG9jYWxBY2Nlc3NQb2ludHNWMlwiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcInNldExvY2FsQWNjZXNzUG9pbnRzXCIsW3Z5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwic2V0TG9jYWxBY2Nlc3NQb2ludHNcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzZXRSZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlXCIsW3l5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwic2V0UmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZVwiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcInNldFJlbW90ZVZpZGVvU3RyZWFtVHlwZVwiLFtBeV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInNldFJlbW90ZVZpZGVvU3RyZWFtVHlwZVwiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcInNldFN0cmVhbUZhbGxiYWNrT3B0aW9uXCIsW2J5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwic2V0U3RyZWFtRmFsbGJhY2tPcHRpb25cIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzZXRFbmNyeXB0aW9uQ29uZmlnXCIsW3d5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwic2V0RW5jcnlwdGlvbkNvbmZpZ1wiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcInJlbmV3VG9rZW5cIixbT3ldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJyZW5ld1Rva2VuXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwiZW5hYmxlQXVkaW9Wb2x1bWVJbmRpY2F0b3JcIixbTnldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJlbmFibGVBdWRpb1ZvbHVtZUluZGljYXRvclwiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcInN0YXJ0TGl2ZVN0cmVhbWluZ1wiLFtEeV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInN0YXJ0TGl2ZVN0cmVhbWluZ1wiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcInNldExpdmVUcmFuc2NvZGluZ1wiLFtQeV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInNldExpdmVUcmFuc2NvZGluZ1wiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcInN0b3BMaXZlU3RyZWFtaW5nXCIsW2t5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwic3RvcExpdmVTdHJlYW1pbmdcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzdGFydENoYW5uZWxNZWRpYVJlbGF5XCIsW0x5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwic3RhcnRDaGFubmVsTWVkaWFSZWxheVwiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcInVwZGF0ZUNoYW5uZWxNZWRpYVJlbGF5XCIsW015XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwidXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXlcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzdG9wQ2hhbm5lbE1lZGlhUmVsYXlcIixbVXldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJzdG9wQ2hhbm5lbE1lZGlhUmVsYXlcIiksRy5wcm90b3R5cGUpLHEoRy5wcm90b3R5cGUsXCJzZW5kQ3VzdG9tUmVwb3J0TWVzc2FnZVwiLFt4eV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInNlbmRDdXN0b21SZXBvcnRNZXNzYWdlXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwicGlja1NWQ0xheWVyXCIsW1Z5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwicGlja1NWQ0xheWVyXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwic2V0UlRNQ29uZmlnXCIsW0Z5XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEcucHJvdG90eXBlLFwic2V0UlRNQ29uZmlnXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwiZW5hYmxlQ29udGVudEluc3BlY3RcIixbQnldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJlbmFibGVDb250ZW50SW5zcGVjdFwiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcImRpc2FibGVDb250ZW50SW5zcGVjdFwiLFtqeV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcImRpc2FibGVDb250ZW50SW5zcGVjdFwiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcInNldEltYWdlTW9kZXJhdGlvblwiLFtHeV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInNldEltYWdlTW9kZXJhdGlvblwiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcInNldFAyUFRyYW5zcG9ydFwiLFtXeV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInNldFAyUFRyYW5zcG9ydFwiKSxHLnByb3RvdHlwZSkscShHLnByb3RvdHlwZSxcImdldEpvaW5DaGFubmVsU2VydmljZVJlY29yZHNcIixbSHldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRy5wcm90b3R5cGUsXCJnZXRKb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzXCIpLEcucHJvdG90eXBlKSxxKEcucHJvdG90eXBlLFwic2V0UHVibGlzaEF1ZGlvRmlsdGVyRW5hYmxlZFwiLFtLeV0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihHLnByb3RvdHlwZSxcInNldFB1Ymxpc2hBdWRpb0ZpbHRlckVuYWJsZWRcIiksRy5wcm90b3R5cGUpLEcpLFN1PWNsYXNzIHR7Y29uc3RydWN0b3IoZSxuKXtUKHRoaXMsXCJpZFwiLDApLFQodGhpcyxcImVsZW1lbnRcIix2b2lkIDApLFQodGhpcyxcInBlZXJQYWlyXCIsdm9pZCAwKSxUKHRoaXMsXCJjb250ZXh0XCIsdm9pZCAwKSxUKHRoaXMsXCJhdWRpb1BsYXllckVsZW1lbnRcIix2b2lkIDApLFQodGhpcyxcImF1ZGlvVHJhY2tcIix2b2lkIDApLHQuY291bnQrPTEsdGhpcy5pZD10LmNvdW50LHRoaXMuZWxlbWVudD1lLHRoaXMuY29udGV4dD1uO31pbml0UGVlcnMoKXt0aGlzLnBlZXJQYWlyPVtuZXcgUlRDUGVlckNvbm5lY3Rpb24sbmV3IFJUQ1BlZXJDb25uZWN0aW9uXSx0aGlzLnBlZXJQYWlyWzFdLm9udHJhY2s9ZT0+e2xldCBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKTtuLnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW2UudHJhY2tdKSxuLnBsYXkoKSx0aGlzLmF1ZGlvUGxheWVyRWxlbWVudD1uO307fWFzeW5jIHN3aXRjaFNkcCgpe2lmKCF0aGlzLnBlZXJQYWlyKXJldHVybjtsZXQgZT1hc3luYyhpLHIpPT57bGV0IG89cj09PVwib2ZmZXJcIj9hd2FpdCBpLmNyZWF0ZU9mZmVyKCk6YXdhaXQgaS5jcmVhdGVBbnN3ZXIoKTtyZXR1cm4gYXdhaXQgaS5zZXRMb2NhbERlc2NyaXB0aW9uKG8pLGkuaWNlR2F0aGVyaW5nU3RhdGU9PT1cImNvbXBsZXRlXCI/aS5sb2NhbERlc2NyaXB0aW9uOm5ldyBqKHM9PntpLm9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2U9KCk9PntpLmljZUdhdGhlcmluZ1N0YXRlPT09XCJjb21wbGV0ZVwiJiZzKGkubG9jYWxEZXNjcmlwdGlvbik7fTt9KX0sbj1hc3luYyhpLHIpPT5hd2FpdCBpLnNldFJlbW90ZURlc2NyaXB0aW9uKHIpO3RyeXtsZXQgaT1hd2FpdCBlKHRoaXMucGVlclBhaXJbMF0sXCJvZmZlclwiKTthd2FpdCBuKHRoaXMucGVlclBhaXJbMV0saSk7bGV0IHI9YXdhaXQgZSh0aGlzLnBlZXJQYWlyWzFdLFwiYW5zd2VyXCIpO2F3YWl0IG4odGhpcy5wZWVyUGFpclswXSxyKTt9Y2F0Y2goaSl7dGhyb3cgbmV3IE8oUi5MT0NBTF9BRUNfRVJST1IsaS50b1N0cmluZygpKS5wcmludCgpfX1hc3luYyBnZXRUcmFja3NGcm9tTWVkaWFFbGVtZW50KGUpe2lmKHRoaXMuYXVkaW9UcmFjaylyZXR1cm4gdGhpcy5hdWRpb1RyYWNrO2xldCBuO3RyeXtlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCYmKGUuY2FwdHVyZVN0cmVhbT9lLmNhcHR1cmVTdHJlYW0oKTplLm1vekNhcHR1cmVTdHJlYW0oKSksbj10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpLHRoaXMuY29udGV4dC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UoZSkuY29ubmVjdChuKTt9Y2F0Y2gocil7dGhyb3cgbmV3IE8oUi5MT0NBTF9BRUNfRVJST1Isci50b1N0cmluZygpKS5wcmludCgpfWlmKCFuKXRocm93IG5ldyBPKFIuTE9DQUxfQUVDX0VSUk9SLFwibm8gZGVzdCBub2RlIHdoZW4gbG9jYWwgYWVjXCIpLnByaW50KCk7bGV0IGk9bi5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXTtyZXR1cm4gdGhpcy5hdWRpb1RyYWNrPWksaX1nZXRFbGVtZW50KCl7cmV0dXJuIHRoaXMuZWxlbWVudH1hc3luYyBzdGFydEVjaG9DYW5jZWxsYXRpb24oKXt0aGlzLmNvbnRleHQucmVzdW1lKCksdGhpcy5wZWVyUGFpciYmdGhpcy5jbG9zZSgpLHRoaXMuaW5pdFBlZXJzKCk7bGV0IGU9dGhpcy5lbGVtZW50LG49YXdhaXQgdGhpcy5nZXRUcmFja3NGcm9tTWVkaWFFbGVtZW50KGUpO3RoaXMucGVlclBhaXImJnRoaXMucGVlclBhaXJbMF0uYWRkVHJhY2sobiksYXdhaXQgdGhpcy5zd2l0Y2hTZHAoKTt9Y2xvc2UoKXtfLmRlYnVnKFwiY2xvc2UgZWNobyBjYW5jZWxsYXRpb24gdW5pdCwgaWQgaXNcIix0aGlzLmlkKSx0aGlzLmF1ZGlvUGxheWVyRWxlbWVudCYmdGhpcy5hdWRpb1BsYXllckVsZW1lbnQucGF1c2UoKSx0aGlzLnBlZXJQYWlyJiZ0aGlzLnBlZXJQYWlyLmZvckVhY2goZT0+e2UuY2xvc2UoKTt9KSx0aGlzLnBlZXJQYWlyPXZvaWQgMCx0aGlzLmF1ZGlvUGxheWVyRWxlbWVudD12b2lkIDA7fX0scXksUWQ7VChTdSxcImNvdW50XCIsMCk7dmFyIExXPXdpbmRvdy5BdWRpb0NvbnRleHR8fHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQsTVc9bmV3KHF5PSQoe3JlcG9ydDpYfSkscSgoUWQ9Y2xhc3N7Y29uc3RydWN0b3IoKXtUKHRoaXMsXCJ1bml0c1wiLFtdKSxUKHRoaXMsXCJjb250ZXh0XCIsdm9pZCAwKTt9cHJvY2Vzc0V4dGVybmFsTWVkaWFBRUModCl7aWYoIXRoaXMuX2RvZXNFbnZpcm9ubWVudE5lZWRBRUMoKSlyZXR1cm4gXy5kZWJ1ZyhcInRoZSBzeXN0ZW0gZG9lcyBub3QgbmVlZCB0byBwcm9jZXNzIGxvY2FsIGFlY1wiKSwtMTt0aGlzLmNvbnRleHR8fCh0aGlzLmNvbnRleHQ9bmV3IExXKTtsZXQgZT10aGlzLnVuaXRzLmZpbmQobj0+biYmbi5nZXRFbGVtZW50KCk9PT10KTtyZXR1cm4gZXx8KGU9bmV3IFN1KHQsdGhpcy5jb250ZXh0KSx0aGlzLnVuaXRzLnB1c2goZSkpLGUuc3RhcnRFY2hvQ2FuY2VsbGF0aW9uKCksXy5kZWJ1ZyhcInN0YXJ0IHByb2Nlc3NpbmcgbG9jYWwgYXVkaW8gZWNobyBjYW5jZWxsYXRpb24sIGlkIGlzXCIsZS5pZCksZS5pZH1fZG9lc0Vudmlyb25tZW50TmVlZEFFQygpe3JldHVybiBtdCgpLm5hbWUhPT1JdC5TQUZBUkl9fSkucHJvdG90eXBlLFwicHJvY2Vzc0V4dGVybmFsTWVkaWFBRUNcIixbcXldLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUWQucHJvdG90eXBlLFwicHJvY2Vzc0V4dGVybmFsTWVkaWFBRUNcIiksUWQucHJvdG90eXBlKSxRZCk7ZnVuY3Rpb24genkodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59ZnVuY3Rpb24gSnkodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdIT1udWxsP2FyZ3VtZW50c1tlXTp7fTtlJTI/enkoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe1QodCxpLG5baV0pO30pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnp5KE9iamVjdChuKSkuZm9yRWFjaChmdW5jdGlvbihpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixpKSk7fSk7fXJldHVybiB0fXZhciBJXz13aW5kb3d8fGRvY3VtZW50O2Z1bmN0aW9uIEwwKHQpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwJiZhcmd1bWVudHNbMV07aWYoIUlfKXJldHVybjtsZXQgbj1NdC5fY3NwRXZlbnRIYW5kbGVyUG9pbnRlcjtpZihuJiZlKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IobixlKTtsZXQgaT1yPT57aWYoIShyJiZyLmJsb2NrZWRVUkkmJihNdC5vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9ufHxNdC5nZXRMaXN0ZW5lcnMobnIuU0VDVVJJVFlfUE9MSUNZX1ZJT0xBVElPTikubGVuZ3RoPjApKSlyZXR1cm47bGV0IG89ci5ibG9ja2VkVVJJO3YoXCJDU1BfREVURUNURURfSE9TVE5BTUVfTElTVFwiKS5zb21lKHM9PlcobykuY2FsbChvLHMpKSYmKE10Lm9uU2VjdXJpdHlQb2xpY3lWaW9sYXRpb24mJnR5cGVvZiBNdC5vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uPT1cImZ1bmN0aW9uXCImJk10Lm9uU2VjdXJpdHlQb2xpY3lWaW9sYXRpb24ociksTXQuZ2V0TGlzdGVuZXJzKG5yLlNFQ1VSSVRZX1BPTElDWV9WSU9MQVRJT04pLmxlbmd0aD4wJiZNdC5zYWZlRW1pdChuci5TRUNVUklUWV9QT0xJQ1lfVklPTEFUSU9OLHIpKTt9O24mJklfLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzZWN1cml0eXBvbGljeXZpb2xhdGlvblwiLG4pLChlfHx0JiZ0eXBlb2YgdD09XCJmdW5jdGlvblwifHxNdC5nZXRMaXN0ZW5lcnMobnIuU0VDVVJJVFlfUE9MSUNZX1ZJT0xBVElPTikubGVuZ3RoPjApJiZJXy5hZGRFdmVudExpc3RlbmVyKFwic2VjdXJpdHlwb2xpY3l2aW9sYXRpb25cIixpKSxNdC5fY3NwRXZlbnRIYW5kbGVyUG9pbnRlcj1pO312YXIgVVc9aG4seFc9bk8sWHk9UmVnRXhwLnByb3RvdHlwZSxWVz1mdW5jdGlvbih0KXtyZXR1cm4gdD09PVh5fHxVVyhYeSx0KT94Vyh0KTp0LmZsYWdzfSxlbj1hZShWVyk7ZnVuY3Rpb24gU2EodCl7bGV0IGU9dC5sZW5ndGg7Zm9yKDstLWU+PTA7KXRbZV09MDt9dmFyIFBmPTI1NixNMD0yODYsbGM9MzAsdWM9MTUsX209bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMF0pLE9sPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDEsMSwyLDIsMywzLDQsNCw1LDUsNiw2LDcsNyw4LDgsOSw5LDEwLDEwLDExLDExLDEyLDEyLDEzLDEzXSksRlc9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMiwzLDddKSxReT1uZXcgVWludDhBcnJheShbMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0pLHdyPW5ldyBBcnJheSg1NzYpO1NhKHdyKTt2YXIgaGM9bmV3IEFycmF5KDYwKTtTYShoYyk7dmFyIEZjPW5ldyBBcnJheSg1MTIpO1NhKEZjKTt2YXIgQmM9bmV3IEFycmF5KDI1Nik7U2EoQmMpO3ZhciBrZj1uZXcgQXJyYXkoMjkpO1NhKGtmKTt2YXIgUnU9bmV3IEFycmF5KGxjKTtmdW5jdGlvbiB2Xyh0LGUsbixpLHIpe3RoaXMuc3RhdGljX3RyZWU9dCx0aGlzLmV4dHJhX2JpdHM9ZSx0aGlzLmV4dHJhX2Jhc2U9bix0aGlzLmVsZW1zPWksdGhpcy5tYXhfbGVuZ3RoPXIsdGhpcy5oYXNfc3RyZWU9dCYmdC5sZW5ndGg7fXZhciBaeSwkeSx0QTtmdW5jdGlvbiB5Xyh0LGUpe3RoaXMuZHluX3RyZWU9dCx0aGlzLm1heF9jb2RlPTAsdGhpcy5zdGF0X2Rlc2M9ZTt9U2EoUnUpO3ZhciBVMD10PT50PDI1Nj9GY1t0XTpGY1syNTYrKHQ+Pj43KV0samM9KHQsZSk9Pnt0LnBlbmRpbmdfYnVmW3QucGVuZGluZysrXT0yNTUmZSx0LnBlbmRpbmdfYnVmW3QucGVuZGluZysrXT1lPj4+OCYyNTU7fSxCbj0odCxlLG4pPT57dC5iaV92YWxpZD4xNi1uPyh0LmJpX2J1Znw9ZTw8dC5iaV92YWxpZCY2NTUzNSxqYyh0LHQuYmlfYnVmKSx0LmJpX2J1Zj1lPj4xNi10LmJpX3ZhbGlkLHQuYmlfdmFsaWQrPW4tMTYpOih0LmJpX2J1Znw9ZTw8dC5iaV92YWxpZCY2NTUzNSx0LmJpX3ZhbGlkKz1uKTt9LHJyPSh0LGUsbik9PntCbih0LG5bMiplXSxuWzIqZSsxXSk7fSx4MD0odCxlKT0+e2xldCBuPTA7ZG8gbnw9MSZ0LHQ+Pj49MSxuPDw9MTt3aGlsZSgtLWU+MCk7cmV0dXJuIG4+Pj4xfSxWMD0odCxlLG4pPT57bGV0IGk9bmV3IEFycmF5KDE2KSxyLG8scz0wO2ZvcihyPTE7cjw9dWM7cisrKXM9cytuW3ItMV08PDEsaVtyXT1zO2ZvcihvPTA7bzw9ZTtvKyspe2xldCBhPXRbMipvKzFdO2EhPT0wJiYodFsyKm9dPXgwKGlbYV0rKyxhKSk7fX0sRjA9dD0+e2xldCBlO2ZvcihlPTA7ZTxNMDtlKyspdC5keW5fbHRyZWVbMiplXT0wO2ZvcihlPTA7ZTxsYztlKyspdC5keW5fZHRyZWVbMiplXT0wO2ZvcihlPTA7ZTwxOTtlKyspdC5ibF90cmVlWzIqZV09MDt0LmR5bl9sdHJlZVs1MTJdPTEsdC5vcHRfbGVuPXQuc3RhdGljX2xlbj0wLHQuc3ltX25leHQ9dC5tYXRjaGVzPTA7fSxCMD10PT57dC5iaV92YWxpZD44P2pjKHQsdC5iaV9idWYpOnQuYmlfdmFsaWQ+MCYmKHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPXQuYmlfYnVmKSx0LmJpX2J1Zj0wLHQuYmlfdmFsaWQ9MDt9LGVBPSh0LGUsbixpKT0+e2xldCByPTIqZSxvPTIqbjtyZXR1cm4gdFtyXTx0W29dfHx0W3JdPT09dFtvXSYmaVtlXTw9aVtuXX0sQV89KHQsZSxuKT0+e2xldCBpPXQuaGVhcFtuXSxyPW48PDE7Zm9yKDtyPD10LmhlYXBfbGVuJiYocjx0LmhlYXBfbGVuJiZlQShlLHQuaGVhcFtyKzFdLHQuaGVhcFtyXSx0LmRlcHRoKSYmcisrLCFlQShlLGksdC5oZWFwW3JdLHQuZGVwdGgpKTspdC5oZWFwW25dPXQuaGVhcFtyXSxuPXIscjw8PTE7dC5oZWFwW25dPWk7fSxuQT0odCxlLG4pPT57bGV0IGkscixvLHMsYT0wO2lmKHQuc3ltX25leHQhPT0wKWRvIGk9MjU1JnQucGVuZGluZ19idWZbdC5zeW1fYnVmK2ErK10saSs9KDI1NSZ0LnBlbmRpbmdfYnVmW3Quc3ltX2J1ZithKytdKTw8OCxyPXQucGVuZGluZ19idWZbdC5zeW1fYnVmK2ErK10saT09PTA/cnIodCxyLGUpOihvPUJjW3JdLHJyKHQsbytQZisxLGUpLHM9X21bb10scyE9PTAmJihyLT1rZltvXSxCbih0LHIscykpLGktLSxvPVUwKGkpLHJyKHQsbyxuKSxzPU9sW29dLHMhPT0wJiYoaS09UnVbb10sQm4odCxpLHMpKSk7d2hpbGUoYTx0LnN5bV9uZXh0KTtycih0LDI1NixlKTt9LGJfPSh0LGUpPT57bGV0IG49ZS5keW5fdHJlZSxpPWUuc3RhdF9kZXNjLnN0YXRpY190cmVlLHI9ZS5zdGF0X2Rlc2MuaGFzX3N0cmVlLG89ZS5zdGF0X2Rlc2MuZWxlbXMscyxhLGMsZD0tMTtmb3IodC5oZWFwX2xlbj0wLHQuaGVhcF9tYXg9NTczLHM9MDtzPG87cysrKW5bMipzXSE9PTA/KHQuaGVhcFsrK3QuaGVhcF9sZW5dPWQ9cyx0LmRlcHRoW3NdPTApOm5bMipzKzFdPTA7Zm9yKDt0LmhlYXBfbGVuPDI7KWM9dC5oZWFwWysrdC5oZWFwX2xlbl09ZDwyPysrZDowLG5bMipjXT0xLHQuZGVwdGhbY109MCx0Lm9wdF9sZW4tLSxyJiYodC5zdGF0aWNfbGVuLT1pWzIqYysxXSk7Zm9yKGUubWF4X2NvZGU9ZCxzPXQuaGVhcF9sZW4+PjE7cz49MTtzLS0pQV8odCxuLHMpO2M9bztkbyBzPXQuaGVhcFsxXSx0LmhlYXBbMV09dC5oZWFwW3QuaGVhcF9sZW4tLV0sQV8odCxuLDEpLGE9dC5oZWFwWzFdLHQuaGVhcFstLXQuaGVhcF9tYXhdPXMsdC5oZWFwWy0tdC5oZWFwX21heF09YSxuWzIqY109blsyKnNdK25bMiphXSx0LmRlcHRoW2NdPSh0LmRlcHRoW3NdPj10LmRlcHRoW2FdP3QuZGVwdGhbc106dC5kZXB0aFthXSkrMSxuWzIqcysxXT1uWzIqYSsxXT1jLHQuaGVhcFsxXT1jKyssQV8odCxuLDEpO3doaWxlKHQuaGVhcF9sZW4+PTIpO3QuaGVhcFstLXQuaGVhcF9tYXhdPXQuaGVhcFsxXSwoKGwsdSk9PntsZXQgaD11LmR5bl90cmVlLHA9dS5tYXhfY29kZSxnPXUuc3RhdF9kZXNjLnN0YXRpY190cmVlLEU9dS5zdGF0X2Rlc2MuaGFzX3N0cmVlLGY9dS5zdGF0X2Rlc2MuZXh0cmFfYml0cyxTPXUuc3RhdF9kZXNjLmV4dHJhX2Jhc2UsQz11LnN0YXRfZGVzYy5tYXhfbGVuZ3RoLEEsYix3LEQsayxCLFY9MDtmb3IoRD0wO0Q8PXVjO0QrKylsLmJsX2NvdW50W0RdPTA7Zm9yKGhbMipsLmhlYXBbbC5oZWFwX21heF0rMV09MCxBPWwuaGVhcF9tYXgrMTtBPDU3MztBKyspYj1sLmhlYXBbQV0sRD1oWzIqaFsyKmIrMV0rMV0rMSxEPkMmJihEPUMsVisrKSxoWzIqYisxXT1ELGI+cHx8KGwuYmxfY291bnRbRF0rKyxrPTAsYj49UyYmKGs9ZltiLVNdKSxCPWhbMipiXSxsLm9wdF9sZW4rPUIqKEQrayksRSYmKGwuc3RhdGljX2xlbis9QiooZ1syKmIrMV0raykpKTtpZihWIT09MCl7ZG97Zm9yKEQ9Qy0xO2wuYmxfY291bnRbRF09PT0wOylELS07bC5ibF9jb3VudFtEXS0tLGwuYmxfY291bnRbRCsxXSs9MixsLmJsX2NvdW50W0NdLS0sVi09Mjt9d2hpbGUoVj4wKTtmb3IoRD1DO0QhPT0wO0QtLSlmb3IoYj1sLmJsX2NvdW50W0RdO2IhPT0wOyl3PWwuaGVhcFstLUFdLHc+cHx8KGhbMip3KzFdIT09RCYmKGwub3B0X2xlbis9KEQtaFsyKncrMV0pKmhbMip3XSxoWzIqdysxXT1EKSxiLS0pO319KSh0LGUpLFYwKG4sZCx0LmJsX2NvdW50KTt9LGlBPSh0LGUsbik9PntsZXQgaSxyLG89LTEscz1lWzFdLGE9MCxjPTcsZD00O2ZvcihzPT09MCYmKGM9MTM4LGQ9MyksZVsyKihuKzEpKzFdPTY1NTM1LGk9MDtpPD1uO2krKylyPXMscz1lWzIqKGkrMSkrMV0sKythPGMmJnI9PT1zfHwoYTxkP3QuYmxfdHJlZVsyKnJdKz1hOnIhPT0wPyhyIT09byYmdC5ibF90cmVlWzIqcl0rKyx0LmJsX3RyZWVbMzJdKyspOmE8PTEwP3QuYmxfdHJlZVszNF0rKzp0LmJsX3RyZWVbMzZdKyssYT0wLG89cixzPT09MD8oYz0xMzgsZD0zKTpyPT09cz8oYz02LGQ9Myk6KGM9NyxkPTQpKTt9LHJBPSh0LGUsbik9PntsZXQgaSxyLG89LTEscz1lWzFdLGE9MCxjPTcsZD00O2ZvcihzPT09MCYmKGM9MTM4LGQ9MyksaT0wO2k8PW47aSsrKWlmKHI9cyxzPWVbMiooaSsxKSsxXSwhKCsrYTxjJiZyPT09cykpe2lmKGE8ZClkbyBycih0LHIsdC5ibF90cmVlKTt3aGlsZSgtLWEhPTApO2Vsc2UgciE9PTA/KHIhPT1vJiYocnIodCxyLHQuYmxfdHJlZSksYS0tKSxycih0LDE2LHQuYmxfdHJlZSksQm4odCxhLTMsMikpOmE8PTEwPyhycih0LDE3LHQuYmxfdHJlZSksQm4odCxhLTMsMykpOihycih0LDE4LHQuYmxfdHJlZSksQm4odCxhLTExLDcpKTthPTAsbz1yLHM9PT0wPyhjPTEzOCxkPTMpOnI9PT1zPyhjPTYsZD0zKTooYz03LGQ9NCk7fX0sb0E9ITEsajA9KHQsZSxuLGkpPT57Qm4odCwwKyhpPzE6MCksMyksQjAodCksamModCxuKSxqYyh0LH5uKSxuJiZ0LnBlbmRpbmdfYnVmLnNldCh0LndpbmRvdy5zdWJhcnJheShlLGUrbiksdC5wZW5kaW5nKSx0LnBlbmRpbmcrPW47fSxCVz10PT57b0F8fCgoKCk9PntsZXQgZSxuLGkscixvLHM9bmV3IEFycmF5KDE2KTtmb3IoaT0wLHI9MDtyPDI4O3IrKylmb3Ioa2Zbcl09aSxlPTA7ZTwxPDxfbVtyXTtlKyspQmNbaSsrXT1yO2ZvcihCY1tpLTFdPXIsbz0wLHI9MDtyPDE2O3IrKylmb3IoUnVbcl09byxlPTA7ZTwxPDxPbFtyXTtlKyspRmNbbysrXT1yO2ZvcihvPj49NztyPGxjO3IrKylmb3IoUnVbcl09bzw8NyxlPTA7ZTwxPDxPbFtyXS03O2UrKylGY1syNTYrbysrXT1yO2ZvcihuPTA7bjw9dWM7bisrKXNbbl09MDtmb3IoZT0wO2U8PTE0Mzspd3JbMiplKzFdPTgsZSsrLHNbOF0rKztmb3IoO2U8PTI1NTspd3JbMiplKzFdPTksZSsrLHNbOV0rKztmb3IoO2U8PTI3OTspd3JbMiplKzFdPTcsZSsrLHNbN10rKztmb3IoO2U8PTI4Nzspd3JbMiplKzFdPTgsZSsrLHNbOF0rKztmb3IoVjAod3IsMjg3LHMpLGU9MDtlPGxjO2UrKyloY1syKmUrMV09NSxoY1syKmVdPXgwKGUsNSk7Wnk9bmV3IHZfKHdyLF9tLDI1NyxNMCx1YyksJHk9bmV3IHZfKGhjLE9sLDAsbGMsdWMpLHRBPW5ldyB2XyhuZXcgQXJyYXkoMCksRlcsMCwxOSw3KTt9KSgpLG9BPSEwKSx0LmxfZGVzYz1uZXcgeV8odC5keW5fbHRyZWUsWnkpLHQuZF9kZXNjPW5ldyB5Xyh0LmR5bl9kdHJlZSwkeSksdC5ibF9kZXNjPW5ldyB5Xyh0LmJsX3RyZWUsdEEpLHQuYmlfYnVmPTAsdC5iaV92YWxpZD0wLEYwKHQpO30salc9KHQsZSxuLGkpPT57bGV0IHIsbyxzPTA7dC5sZXZlbD4wPyh0LnN0cm0uZGF0YV90eXBlPT09MiYmKHQuc3RybS5kYXRhX3R5cGU9KGE9PntsZXQgYyxkPTQwOTM2MjQ0NDc7Zm9yKGM9MDtjPD0zMTtjKyssZD4+Pj0xKWlmKDEmZCYmYS5keW5fbHRyZWVbMipjXSE9PTApcmV0dXJuIDA7aWYoYS5keW5fbHRyZWVbMThdIT09MHx8YS5keW5fbHRyZWVbMjBdIT09MHx8YS5keW5fbHRyZWVbMjZdIT09MClyZXR1cm4gMTtmb3IoYz0zMjtjPFBmO2MrKylpZihhLmR5bl9sdHJlZVsyKmNdIT09MClyZXR1cm4gMTtyZXR1cm4gMH0pKHQpKSxiXyh0LHQubF9kZXNjKSxiXyh0LHQuZF9kZXNjKSxzPShhPT57bGV0IGM7Zm9yKGlBKGEsYS5keW5fbHRyZWUsYS5sX2Rlc2MubWF4X2NvZGUpLGlBKGEsYS5keW5fZHRyZWUsYS5kX2Rlc2MubWF4X2NvZGUpLGJfKGEsYS5ibF9kZXNjKSxjPTE4O2M+PTMmJmEuYmxfdHJlZVsyKlF5W2NdKzFdPT09MDtjLS0pO3JldHVybiBhLm9wdF9sZW4rPTMqKGMrMSkrNSs1KzQsY30pKHQpLHI9dC5vcHRfbGVuKzMrNz4+PjMsbz10LnN0YXRpY19sZW4rMys3Pj4+MyxvPD1yJiYocj1vKSk6cj1vPW4rNSxuKzQ8PXImJmUhPT0tMT9qMCh0LGUsbixpKTp0LnN0cmF0ZWd5PT09NHx8bz09PXI/KEJuKHQsMisoaT8xOjApLDMpLG5BKHQsd3IsaGMpKTooQm4odCw0KyhpPzE6MCksMyksKChhLGMsZCxsKT0+e2xldCB1O2ZvcihCbihhLGMtMjU3LDUpLEJuKGEsZC0xLDUpLEJuKGEsbC00LDQpLHU9MDt1PGw7dSsrKUJuKGEsYS5ibF90cmVlWzIqUXlbdV0rMV0sMyk7ckEoYSxhLmR5bl9sdHJlZSxjLTEpLHJBKGEsYS5keW5fZHRyZWUsZC0xKTt9KSh0LHQubF9kZXNjLm1heF9jb2RlKzEsdC5kX2Rlc2MubWF4X2NvZGUrMSxzKzEpLG5BKHQsdC5keW5fbHRyZWUsdC5keW5fZHRyZWUpKSxGMCh0KSxpJiZCMCh0KTt9LEdXPSh0LGUsbik9Pih0LnBlbmRpbmdfYnVmW3Quc3ltX2J1Zit0LnN5bV9uZXh0KytdPWUsdC5wZW5kaW5nX2J1Zlt0LnN5bV9idWYrdC5zeW1fbmV4dCsrXT1lPj44LHQucGVuZGluZ19idWZbdC5zeW1fYnVmK3Quc3ltX25leHQrK109bixlPT09MD90LmR5bl9sdHJlZVsyKm5dKys6KHQubWF0Y2hlcysrLGUtLSx0LmR5bl9sdHJlZVsyKihCY1tuXStQZisxKV0rKyx0LmR5bl9kdHJlZVsyKlUwKGUpXSsrKSx0LnN5bV9uZXh0PT09dC5zeW1fZW5kKSxXVz10PT57Qm4odCwyLDMpLHJyKHQsMjU2LHdyKSwoZT0+e2UuYmlfdmFsaWQ9PT0xNj8oamMoZSxlLmJpX2J1ZiksZS5iaV9idWY9MCxlLmJpX3ZhbGlkPTApOmUuYmlfdmFsaWQ+PTgmJihlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT0yNTUmZS5iaV9idWYsZS5iaV9idWY+Pj04LGUuYmlfdmFsaWQtPTgpO30pKHQpO30sSFc9e190cl9pbml0OkJXLF90cl9zdG9yZWRfYmxvY2s6ajAsX3RyX2ZsdXNoX2Jsb2NrOmpXLF90cl90YWxseTpHVyxfdHJfYWxpZ246V1d9LEdjPSh0LGUsbixpKT0+e2xldCByPTY1NTM1JnR8MCxvPXQ+Pj4xNiY2NTUzNXwwLHM9MDtmb3IoO24hPT0wOyl7cz1uPjJlMz8yZTM6bixuLT1zO2RvIHI9citlW2krK118MCxvPW8rcnwwO3doaWxlKC0tcyk7ciU9NjU1MjEsbyU9NjU1MjE7fXJldHVybiByfG88PDE2fDB9LEtXPW5ldyBVaW50MzJBcnJheSgoKCk9PntsZXQgdCxlPVtdO2Zvcih2YXIgbj0wO248MjU2O24rKyl7dD1uO2Zvcih2YXIgaT0wO2k8ODtpKyspdD0xJnQ/Mzk4ODI5MjM4NF50Pj4+MTp0Pj4+MTtlW25dPXQ7fXJldHVybiBlfSkoKSksYW49KHQsZSxuLGkpPT57bGV0IHI9S1csbz1pK247dF49LTE7Zm9yKGxldCBzPWk7czxvO3MrKyl0PXQ+Pj44XnJbMjU1Jih0XmVbc10pXTtyZXR1cm4gLTFedH0sWm89ezI6XCJuZWVkIGRpY3Rpb25hcnlcIiwxOlwic3RyZWFtIGVuZFwiLDA6XCJcIixcIi0xXCI6XCJmaWxlIGVycm9yXCIsXCItMlwiOlwic3RyZWFtIGVycm9yXCIsXCItM1wiOlwiZGF0YSBlcnJvclwiLFwiLTRcIjpcImluc3VmZmljaWVudCBtZW1vcnlcIixcIi01XCI6XCJidWZmZXIgZXJyb3JcIixcIi02XCI6XCJpbmNvbXBhdGlibGUgdmVyc2lvblwifSxSYT17Wl9OT19GTFVTSDowLFpfUEFSVElBTF9GTFVTSDoxLFpfU1lOQ19GTFVTSDoyLFpfRlVMTF9GTFVTSDozLFpfRklOSVNIOjQsWl9CTE9DSzo1LFpfVFJFRVM6NixaX09LOjAsWl9TVFJFQU1fRU5EOjEsWl9ORUVEX0RJQ1Q6MixaX0VSUk5POi0xLFpfU1RSRUFNX0VSUk9SOi0yLFpfREFUQV9FUlJPUjotMyxaX01FTV9FUlJPUjotNCxaX0JVRl9FUlJPUjotNSxaX05PX0NPTVBSRVNTSU9OOjAsWl9CRVNUX1NQRUVEOjEsWl9CRVNUX0NPTVBSRVNTSU9OOjksWl9ERUZBVUxUX0NPTVBSRVNTSU9OOi0xLFpfRklMVEVSRUQ6MSxaX0hVRkZNQU5fT05MWToyLFpfUkxFOjMsWl9GSVhFRDo0LFpfREVGQVVMVF9TVFJBVEVHWTowLFpfQklOQVJZOjAsWl9URVhUOjEsWl9VTktOT1dOOjIsWl9ERUZMQVRFRDo4fSx7X3RyX2luaXQ6WVcsX3RyX3N0b3JlZF9ibG9jazpFbSxfdHJfZmx1c2hfYmxvY2s6cVcsX3RyX3RhbGx5OmFvLF90cl9hbGlnbjp6V309SFcse1pfTk9fRkxVU0g6Y28sWl9QQVJUSUFMX0ZMVVNIOkpXLFpfRlVMTF9GTFVTSDpYVyxaX0ZJTklTSDpSaSxaX0JMT0NLOnNBLFpfT0s6X24sWl9TVFJFQU1fRU5EOmFBLFpfU1RSRUFNX0VSUk9SOmRyLFpfREFUQV9FUlJPUjpRVyxaX0JVRl9FUlJPUjp3XyxaX0RFRkFVTFRfQ09NUFJFU1NJT046WlcsWl9GSUxURVJFRDokVyxaX0hVRkZNQU5fT05MWTpaZCxaX1JMRTp0MyxaX0ZJWEVEOmUzLFpfREVGQVVMVF9TVFJBVEVHWTpuMyxaX1VOS05PV046aTMsWl9ERUZMQVRFRDp0aH09UmEsbW09Mjg2LHIzPTMwLG8zPTE5LHMzPTIqbW0rMSxhMz0xNSxqbz0yNTgsbHI9MjYyLGFhPTQyLEdvPTExMyx0Yz02NjYsV289KHQsZSk9Pih0Lm1zZz1ab1tlXSxlKSxjQT10PT4yKnQtKHQ+ND85OjApLFFyPXQ9PntsZXQgZT10Lmxlbmd0aDtmb3IoOy0tZT49MDspdFtlXT0wO30sYzM9dD0+e2xldCBlLG4saSxyPXQud19zaXplO2U9dC5oYXNoX3NpemUsaT1lO2RvIG49dC5oZWFkWy0taV0sdC5oZWFkW2ldPW4+PXI/bi1yOjA7d2hpbGUoLS1lKTtlPXIsaT1lO2RvIG49dC5wcmV2Wy0taV0sdC5wcmV2W2ldPW4+PXI/bi1yOjA7d2hpbGUoLS1lKX0sbG89KHQsZSxuKT0+KGU8PHQuaGFzaF9zaGlmdF5uKSZ0Lmhhc2hfbWFzayxabj10PT57bGV0IGU9dC5zdGF0ZSxuPWUucGVuZGluZztuPnQuYXZhaWxfb3V0JiYobj10LmF2YWlsX291dCksbiE9PTAmJih0Lm91dHB1dC5zZXQoZS5wZW5kaW5nX2J1Zi5zdWJhcnJheShlLnBlbmRpbmdfb3V0LGUucGVuZGluZ19vdXQrbiksdC5uZXh0X291dCksdC5uZXh0X291dCs9bixlLnBlbmRpbmdfb3V0Kz1uLHQudG90YWxfb3V0Kz1uLHQuYXZhaWxfb3V0LT1uLGUucGVuZGluZy09bixlLnBlbmRpbmc9PT0wJiYoZS5wZW5kaW5nX291dD0wKSk7fSx0aT0odCxlKT0+e3FXKHQsdC5ibG9ja19zdGFydD49MD90LmJsb2NrX3N0YXJ0Oi0xLHQuc3Ryc3RhcnQtdC5ibG9ja19zdGFydCxlKSx0LmJsb2NrX3N0YXJ0PXQuc3Ryc3RhcnQsWm4odC5zdHJtKTt9LHRlPSh0LGUpPT57dC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmcrK109ZTt9LGphPSh0LGUpPT57dC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmcrK109ZT4+PjgmMjU1LHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPTI1NSZlO30sZm09KHQsZSxuLGkpPT57bGV0IHI9dC5hdmFpbF9pbjtyZXR1cm4gcj5pJiYocj1pKSxyPT09MD8wOih0LmF2YWlsX2luLT1yLGUuc2V0KHQuaW5wdXQuc3ViYXJyYXkodC5uZXh0X2luLHQubmV4dF9pbityKSxuKSx0LnN0YXRlLndyYXA9PT0xP3QuYWRsZXI9R2ModC5hZGxlcixlLHIsbik6dC5zdGF0ZS53cmFwPT09MiYmKHQuYWRsZXI9YW4odC5hZGxlcixlLHIsbikpLHQubmV4dF9pbis9cix0LnRvdGFsX2luKz1yLHIpfSxHMD0odCxlKT0+e2xldCBuLGkscj10Lm1heF9jaGFpbl9sZW5ndGgsbz10LnN0cnN0YXJ0LHM9dC5wcmV2X2xlbmd0aCxhPXQubmljZV9tYXRjaCxjPXQuc3Ryc3RhcnQ+dC53X3NpemUtbHI/dC5zdHJzdGFydC0odC53X3NpemUtbHIpOjAsZD10LndpbmRvdyxsPXQud19tYXNrLHU9dC5wcmV2LGg9dC5zdHJzdGFydCtqbyxwPWRbbytzLTFdLGc9ZFtvK3NdO3QucHJldl9sZW5ndGg+PXQuZ29vZF9tYXRjaCYmKHI+Pj0yKSxhPnQubG9va2FoZWFkJiYoYT10Lmxvb2thaGVhZCk7ZG8gaWYobj1lLGRbbitzXT09PWcmJmRbbitzLTFdPT09cCYmZFtuXT09PWRbb10mJmRbKytuXT09PWRbbysxXSl7bys9MixuKys7ZG87d2hpbGUoZFsrK29dPT09ZFsrK25dJiZkWysrb109PT1kWysrbl0mJmRbKytvXT09PWRbKytuXSYmZFsrK29dPT09ZFsrK25dJiZkWysrb109PT1kWysrbl0mJmRbKytvXT09PWRbKytuXSYmZFsrK29dPT09ZFsrK25dJiZkWysrb109PT1kWysrbl0mJm88aCk7aWYoaT1qby0oaC1vKSxvPWgtam8saT5zKXtpZih0Lm1hdGNoX3N0YXJ0PWUscz1pLGk+PWEpYnJlYWs7cD1kW28rcy0xXSxnPWRbbytzXTt9fXdoaWxlKChlPXVbZSZsXSk+YyYmLS1yIT0wKTtyZXR1cm4gczw9dC5sb29rYWhlYWQ/czp0Lmxvb2thaGVhZH0sY2E9dD0+e2xldCBlPXQud19zaXplLG4saSxyO2Rve2lmKGk9dC53aW5kb3dfc2l6ZS10Lmxvb2thaGVhZC10LnN0cnN0YXJ0LHQuc3Ryc3RhcnQ+PWUrKGUtbHIpJiYodC53aW5kb3cuc2V0KHQud2luZG93LnN1YmFycmF5KGUsZStlLWkpLDApLHQubWF0Y2hfc3RhcnQtPWUsdC5zdHJzdGFydC09ZSx0LmJsb2NrX3N0YXJ0LT1lLHQuaW5zZXJ0PnQuc3Ryc3RhcnQmJih0Lmluc2VydD10LnN0cnN0YXJ0KSxjMyh0KSxpKz1lKSx0LnN0cm0uYXZhaWxfaW49PT0wKWJyZWFrO2lmKG49Zm0odC5zdHJtLHQud2luZG93LHQuc3Ryc3RhcnQrdC5sb29rYWhlYWQsaSksdC5sb29rYWhlYWQrPW4sdC5sb29rYWhlYWQrdC5pbnNlcnQ+PTMpZm9yKHI9dC5zdHJzdGFydC10Lmluc2VydCx0Lmluc19oPXQud2luZG93W3JdLHQuaW5zX2g9bG8odCx0Lmluc19oLHQud2luZG93W3IrMV0pO3QuaW5zZXJ0JiYodC5pbnNfaD1sbyh0LHQuaW5zX2gsdC53aW5kb3dbciszLTFdKSx0LnByZXZbciZ0LndfbWFza109dC5oZWFkW3QuaW5zX2hdLHQuaGVhZFt0Lmluc19oXT1yLHIrKyx0Lmluc2VydC0tLCEodC5sb29rYWhlYWQrdC5pbnNlcnQ8MykpOyk7fXdoaWxlKHQubG9va2FoZWFkPGxyJiZ0LnN0cm0uYXZhaWxfaW4hPT0wKX0sVzA9KHQsZSk9PntsZXQgbixpLHIsbz10LnBlbmRpbmdfYnVmX3NpemUtNT50Lndfc2l6ZT90Lndfc2l6ZTp0LnBlbmRpbmdfYnVmX3NpemUtNSxzPTAsYT10LnN0cm0uYXZhaWxfaW47ZG97aWYobj02NTUzNSxyPXQuYmlfdmFsaWQrNDI+PjMsdC5zdHJtLmF2YWlsX291dDxyfHwocj10LnN0cm0uYXZhaWxfb3V0LXIsaT10LnN0cnN0YXJ0LXQuYmxvY2tfc3RhcnQsbj5pK3Quc3RybS5hdmFpbF9pbiYmKG49aSt0LnN0cm0uYXZhaWxfaW4pLG4+ciYmKG49ciksbjxvJiYobj09PTAmJmUhPT1SaXx8ZT09PWNvfHxuIT09aSt0LnN0cm0uYXZhaWxfaW4pKSlicmVhaztzPWU9PT1SaSYmbj09PWkrdC5zdHJtLmF2YWlsX2luPzE6MCxFbSh0LDAsMCxzKSx0LnBlbmRpbmdfYnVmW3QucGVuZGluZy00XT1uLHQucGVuZGluZ19idWZbdC5wZW5kaW5nLTNdPW4+PjgsdC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmctMl09fm4sdC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmctMV09fm4+PjgsWm4odC5zdHJtKSxpJiYoaT5uJiYoaT1uKSx0LnN0cm0ub3V0cHV0LnNldCh0LndpbmRvdy5zdWJhcnJheSh0LmJsb2NrX3N0YXJ0LHQuYmxvY2tfc3RhcnQraSksdC5zdHJtLm5leHRfb3V0KSx0LnN0cm0ubmV4dF9vdXQrPWksdC5zdHJtLmF2YWlsX291dC09aSx0LnN0cm0udG90YWxfb3V0Kz1pLHQuYmxvY2tfc3RhcnQrPWksbi09aSksbiYmKGZtKHQuc3RybSx0LnN0cm0ub3V0cHV0LHQuc3RybS5uZXh0X291dCxuKSx0LnN0cm0ubmV4dF9vdXQrPW4sdC5zdHJtLmF2YWlsX291dC09bix0LnN0cm0udG90YWxfb3V0Kz1uKTt9d2hpbGUocz09PTApO3JldHVybiBhLT10LnN0cm0uYXZhaWxfaW4sYSYmKGE+PXQud19zaXplPyh0Lm1hdGNoZXM9Mix0LndpbmRvdy5zZXQodC5zdHJtLmlucHV0LnN1YmFycmF5KHQuc3RybS5uZXh0X2luLXQud19zaXplLHQuc3RybS5uZXh0X2luKSwwKSx0LnN0cnN0YXJ0PXQud19zaXplLHQuaW5zZXJ0PXQuc3Ryc3RhcnQpOih0LndpbmRvd19zaXplLXQuc3Ryc3RhcnQ8PWEmJih0LnN0cnN0YXJ0LT10Lndfc2l6ZSx0LndpbmRvdy5zZXQodC53aW5kb3cuc3ViYXJyYXkodC53X3NpemUsdC53X3NpemUrdC5zdHJzdGFydCksMCksdC5tYXRjaGVzPDImJnQubWF0Y2hlcysrLHQuaW5zZXJ0PnQuc3Ryc3RhcnQmJih0Lmluc2VydD10LnN0cnN0YXJ0KSksdC53aW5kb3cuc2V0KHQuc3RybS5pbnB1dC5zdWJhcnJheSh0LnN0cm0ubmV4dF9pbi1hLHQuc3RybS5uZXh0X2luKSx0LnN0cnN0YXJ0KSx0LnN0cnN0YXJ0Kz1hLHQuaW5zZXJ0Kz1hPnQud19zaXplLXQuaW5zZXJ0P3Qud19zaXplLXQuaW5zZXJ0OmEpLHQuYmxvY2tfc3RhcnQ9dC5zdHJzdGFydCksdC5oaWdoX3dhdGVyPHQuc3Ryc3RhcnQmJih0LmhpZ2hfd2F0ZXI9dC5zdHJzdGFydCkscz80OmUhPT1jbyYmZSE9PVJpJiZ0LnN0cm0uYXZhaWxfaW49PT0wJiZ0LnN0cnN0YXJ0PT09dC5ibG9ja19zdGFydD8yOihyPXQud2luZG93X3NpemUtdC5zdHJzdGFydCx0LnN0cm0uYXZhaWxfaW4+ciYmdC5ibG9ja19zdGFydD49dC53X3NpemUmJih0LmJsb2NrX3N0YXJ0LT10Lndfc2l6ZSx0LnN0cnN0YXJ0LT10Lndfc2l6ZSx0LndpbmRvdy5zZXQodC53aW5kb3cuc3ViYXJyYXkodC53X3NpemUsdC53X3NpemUrdC5zdHJzdGFydCksMCksdC5tYXRjaGVzPDImJnQubWF0Y2hlcysrLHIrPXQud19zaXplLHQuaW5zZXJ0PnQuc3Ryc3RhcnQmJih0Lmluc2VydD10LnN0cnN0YXJ0KSkscj50LnN0cm0uYXZhaWxfaW4mJihyPXQuc3RybS5hdmFpbF9pbiksciYmKGZtKHQuc3RybSx0LndpbmRvdyx0LnN0cnN0YXJ0LHIpLHQuc3Ryc3RhcnQrPXIsdC5pbnNlcnQrPXI+dC53X3NpemUtdC5pbnNlcnQ/dC53X3NpemUtdC5pbnNlcnQ6ciksdC5oaWdoX3dhdGVyPHQuc3Ryc3RhcnQmJih0LmhpZ2hfd2F0ZXI9dC5zdHJzdGFydCkscj10LmJpX3ZhbGlkKzQyPj4zLHI9dC5wZW5kaW5nX2J1Zl9zaXplLXI+NjU1MzU/NjU1MzU6dC5wZW5kaW5nX2J1Zl9zaXplLXIsbz1yPnQud19zaXplP3Qud19zaXplOnIsaT10LnN0cnN0YXJ0LXQuYmxvY2tfc3RhcnQsKGk+PW98fChpfHxlPT09UmkpJiZlIT09Y28mJnQuc3RybS5hdmFpbF9pbj09PTAmJmk8PXIpJiYobj1pPnI/cjppLHM9ZT09PVJpJiZ0LnN0cm0uYXZhaWxfaW49PT0wJiZuPT09aT8xOjAsRW0odCx0LmJsb2NrX3N0YXJ0LG4scyksdC5ibG9ja19zdGFydCs9bixabih0LnN0cm0pKSxzPzM6MSl9LE9fPSh0LGUpPT57bGV0IG4saTtmb3IoOzspe2lmKHQubG9va2FoZWFkPGxyKXtpZihjYSh0KSx0Lmxvb2thaGVhZDxsciYmZT09PWNvKXJldHVybiAxO2lmKHQubG9va2FoZWFkPT09MClicmVha31pZihuPTAsdC5sb29rYWhlYWQ+PTMmJih0Lmluc19oPWxvKHQsdC5pbnNfaCx0LndpbmRvd1t0LnN0cnN0YXJ0KzMtMV0pLG49dC5wcmV2W3Quc3Ryc3RhcnQmdC53X21hc2tdPXQuaGVhZFt0Lmluc19oXSx0LmhlYWRbdC5pbnNfaF09dC5zdHJzdGFydCksbiE9PTAmJnQuc3Ryc3RhcnQtbjw9dC53X3NpemUtbHImJih0Lm1hdGNoX2xlbmd0aD1HMCh0LG4pKSx0Lm1hdGNoX2xlbmd0aD49MylpZihpPWFvKHQsdC5zdHJzdGFydC10Lm1hdGNoX3N0YXJ0LHQubWF0Y2hfbGVuZ3RoLTMpLHQubG9va2FoZWFkLT10Lm1hdGNoX2xlbmd0aCx0Lm1hdGNoX2xlbmd0aDw9dC5tYXhfbGF6eV9tYXRjaCYmdC5sb29rYWhlYWQ+PTMpe3QubWF0Y2hfbGVuZ3RoLS07ZG8gdC5zdHJzdGFydCsrLHQuaW5zX2g9bG8odCx0Lmluc19oLHQud2luZG93W3Quc3Ryc3RhcnQrMy0xXSksbj10LnByZXZbdC5zdHJzdGFydCZ0LndfbWFza109dC5oZWFkW3QuaW5zX2hdLHQuaGVhZFt0Lmluc19oXT10LnN0cnN0YXJ0O3doaWxlKC0tdC5tYXRjaF9sZW5ndGghPTApO3Quc3Ryc3RhcnQrKzt9ZWxzZSB0LnN0cnN0YXJ0Kz10Lm1hdGNoX2xlbmd0aCx0Lm1hdGNoX2xlbmd0aD0wLHQuaW5zX2g9dC53aW5kb3dbdC5zdHJzdGFydF0sdC5pbnNfaD1sbyh0LHQuaW5zX2gsdC53aW5kb3dbdC5zdHJzdGFydCsxXSk7ZWxzZSBpPWFvKHQsMCx0LndpbmRvd1t0LnN0cnN0YXJ0XSksdC5sb29rYWhlYWQtLSx0LnN0cnN0YXJ0Kys7aWYoaSYmKHRpKHQsITEpLHQuc3RybS5hdmFpbF9vdXQ9PT0wKSlyZXR1cm4gMX1yZXR1cm4gdC5pbnNlcnQ9dC5zdHJzdGFydDwyP3Quc3Ryc3RhcnQ6MixlPT09Umk/KHRpKHQsITApLHQuc3RybS5hdmFpbF9vdXQ9PT0wPzM6NCk6dC5zeW1fbmV4dCYmKHRpKHQsITEpLHQuc3RybS5hdmFpbF9vdXQ9PT0wKT8xOjJ9LFJzPSh0LGUpPT57bGV0IG4saSxyO2Zvcig7Oyl7aWYodC5sb29rYWhlYWQ8bHIpe2lmKGNhKHQpLHQubG9va2FoZWFkPGxyJiZlPT09Y28pcmV0dXJuIDE7aWYodC5sb29rYWhlYWQ9PT0wKWJyZWFrfWlmKG49MCx0Lmxvb2thaGVhZD49MyYmKHQuaW5zX2g9bG8odCx0Lmluc19oLHQud2luZG93W3Quc3Ryc3RhcnQrMy0xXSksbj10LnByZXZbdC5zdHJzdGFydCZ0LndfbWFza109dC5oZWFkW3QuaW5zX2hdLHQuaGVhZFt0Lmluc19oXT10LnN0cnN0YXJ0KSx0LnByZXZfbGVuZ3RoPXQubWF0Y2hfbGVuZ3RoLHQucHJldl9tYXRjaD10Lm1hdGNoX3N0YXJ0LHQubWF0Y2hfbGVuZ3RoPTIsbiE9PTAmJnQucHJldl9sZW5ndGg8dC5tYXhfbGF6eV9tYXRjaCYmdC5zdHJzdGFydC1uPD10Lndfc2l6ZS1sciYmKHQubWF0Y2hfbGVuZ3RoPUcwKHQsbiksdC5tYXRjaF9sZW5ndGg8PTUmJih0LnN0cmF0ZWd5PT09JFd8fHQubWF0Y2hfbGVuZ3RoPT09MyYmdC5zdHJzdGFydC10Lm1hdGNoX3N0YXJ0PjQwOTYpJiYodC5tYXRjaF9sZW5ndGg9MikpLHQucHJldl9sZW5ndGg+PTMmJnQubWF0Y2hfbGVuZ3RoPD10LnByZXZfbGVuZ3RoKXtyPXQuc3Ryc3RhcnQrdC5sb29rYWhlYWQtMyxpPWFvKHQsdC5zdHJzdGFydC0xLXQucHJldl9tYXRjaCx0LnByZXZfbGVuZ3RoLTMpLHQubG9va2FoZWFkLT10LnByZXZfbGVuZ3RoLTEsdC5wcmV2X2xlbmd0aC09MjtkbysrdC5zdHJzdGFydDw9ciYmKHQuaW5zX2g9bG8odCx0Lmluc19oLHQud2luZG93W3Quc3Ryc3RhcnQrMy0xXSksbj10LnByZXZbdC5zdHJzdGFydCZ0LndfbWFza109dC5oZWFkW3QuaW5zX2hdLHQuaGVhZFt0Lmluc19oXT10LnN0cnN0YXJ0KTt3aGlsZSgtLXQucHJldl9sZW5ndGghPTApO2lmKHQubWF0Y2hfYXZhaWxhYmxlPTAsdC5tYXRjaF9sZW5ndGg9Mix0LnN0cnN0YXJ0KyssaSYmKHRpKHQsITEpLHQuc3RybS5hdmFpbF9vdXQ9PT0wKSlyZXR1cm4gMX1lbHNlIGlmKHQubWF0Y2hfYXZhaWxhYmxlKXtpZihpPWFvKHQsMCx0LndpbmRvd1t0LnN0cnN0YXJ0LTFdKSxpJiZ0aSh0LCExKSx0LnN0cnN0YXJ0KyssdC5sb29rYWhlYWQtLSx0LnN0cm0uYXZhaWxfb3V0PT09MClyZXR1cm4gMX1lbHNlIHQubWF0Y2hfYXZhaWxhYmxlPTEsdC5zdHJzdGFydCsrLHQubG9va2FoZWFkLS07fXJldHVybiB0Lm1hdGNoX2F2YWlsYWJsZSYmKGk9YW8odCwwLHQud2luZG93W3Quc3Ryc3RhcnQtMV0pLHQubWF0Y2hfYXZhaWxhYmxlPTApLHQuaW5zZXJ0PXQuc3Ryc3RhcnQ8Mj90LnN0cnN0YXJ0OjIsZT09PVJpPyh0aSh0LCEwKSx0LnN0cm0uYXZhaWxfb3V0PT09MD8zOjQpOnQuc3ltX25leHQmJih0aSh0LCExKSx0LnN0cm0uYXZhaWxfb3V0PT09MCk/MToyfTtmdW5jdGlvbiAkaSh0LGUsbixpLHIpe3RoaXMuZ29vZF9sZW5ndGg9dCx0aGlzLm1heF9sYXp5PWUsdGhpcy5uaWNlX2xlbmd0aD1uLHRoaXMubWF4X2NoYWluPWksdGhpcy5mdW5jPXI7fXZhciBlYz1bbmV3ICRpKDAsMCwwLDAsVzApLG5ldyAkaSg0LDQsOCw0LE9fKSxuZXcgJGkoNCw1LDE2LDgsT18pLG5ldyAkaSg0LDYsMzIsMzIsT18pLG5ldyAkaSg0LDQsMTYsMTYsUnMpLG5ldyAkaSg4LDE2LDMyLDMyLFJzKSxuZXcgJGkoOCwxNiwxMjgsMTI4LFJzKSxuZXcgJGkoOCwzMiwxMjgsMjU2LFJzKSxuZXcgJGkoMzIsMTI4LDI1OCwxMDI0LFJzKSxuZXcgJGkoMzIsMjU4LDI1OCw0MDk2LFJzKV07ZnVuY3Rpb24gZDMoKXt0aGlzLnN0cm09bnVsbCx0aGlzLnN0YXR1cz0wLHRoaXMucGVuZGluZ19idWY9bnVsbCx0aGlzLnBlbmRpbmdfYnVmX3NpemU9MCx0aGlzLnBlbmRpbmdfb3V0PTAsdGhpcy5wZW5kaW5nPTAsdGhpcy53cmFwPTAsdGhpcy5nemhlYWQ9bnVsbCx0aGlzLmd6aW5kZXg9MCx0aGlzLm1ldGhvZD10aCx0aGlzLmxhc3RfZmx1c2g9LTEsdGhpcy53X3NpemU9MCx0aGlzLndfYml0cz0wLHRoaXMud19tYXNrPTAsdGhpcy53aW5kb3c9bnVsbCx0aGlzLndpbmRvd19zaXplPTAsdGhpcy5wcmV2PW51bGwsdGhpcy5oZWFkPW51bGwsdGhpcy5pbnNfaD0wLHRoaXMuaGFzaF9zaXplPTAsdGhpcy5oYXNoX2JpdHM9MCx0aGlzLmhhc2hfbWFzaz0wLHRoaXMuaGFzaF9zaGlmdD0wLHRoaXMuYmxvY2tfc3RhcnQ9MCx0aGlzLm1hdGNoX2xlbmd0aD0wLHRoaXMucHJldl9tYXRjaD0wLHRoaXMubWF0Y2hfYXZhaWxhYmxlPTAsdGhpcy5zdHJzdGFydD0wLHRoaXMubWF0Y2hfc3RhcnQ9MCx0aGlzLmxvb2thaGVhZD0wLHRoaXMucHJldl9sZW5ndGg9MCx0aGlzLm1heF9jaGFpbl9sZW5ndGg9MCx0aGlzLm1heF9sYXp5X21hdGNoPTAsdGhpcy5sZXZlbD0wLHRoaXMuc3RyYXRlZ3k9MCx0aGlzLmdvb2RfbWF0Y2g9MCx0aGlzLm5pY2VfbWF0Y2g9MCx0aGlzLmR5bl9sdHJlZT1uZXcgVWludDE2QXJyYXkoMipzMyksdGhpcy5keW5fZHRyZWU9bmV3IFVpbnQxNkFycmF5KDIqKDIqcjMrMSkpLHRoaXMuYmxfdHJlZT1uZXcgVWludDE2QXJyYXkoMiooMipvMysxKSksUXIodGhpcy5keW5fbHRyZWUpLFFyKHRoaXMuZHluX2R0cmVlKSxRcih0aGlzLmJsX3RyZWUpLHRoaXMubF9kZXNjPW51bGwsdGhpcy5kX2Rlc2M9bnVsbCx0aGlzLmJsX2Rlc2M9bnVsbCx0aGlzLmJsX2NvdW50PW5ldyBVaW50MTZBcnJheShhMysxKSx0aGlzLmhlYXA9bmV3IFVpbnQxNkFycmF5KDIqbW0rMSksUXIodGhpcy5oZWFwKSx0aGlzLmhlYXBfbGVuPTAsdGhpcy5oZWFwX21heD0wLHRoaXMuZGVwdGg9bmV3IFVpbnQxNkFycmF5KDIqbW0rMSksUXIodGhpcy5kZXB0aCksdGhpcy5zeW1fYnVmPTAsdGhpcy5saXRfYnVmc2l6ZT0wLHRoaXMuc3ltX25leHQ9MCx0aGlzLnN5bV9lbmQ9MCx0aGlzLm9wdF9sZW49MCx0aGlzLnN0YXRpY19sZW49MCx0aGlzLm1hdGNoZXM9MCx0aGlzLmluc2VydD0wLHRoaXMuYmlfYnVmPTAsdGhpcy5iaV92YWxpZD0wO312YXIgV2M9dD0+e2lmKCF0KXJldHVybiAxO2xldCBlPXQuc3RhdGU7cmV0dXJuICFlfHxlLnN0cm0hPT10fHxlLnN0YXR1cyE9PWFhJiZlLnN0YXR1cyE9PTU3JiZlLnN0YXR1cyE9PTY5JiZlLnN0YXR1cyE9PTczJiZlLnN0YXR1cyE9PTkxJiZlLnN0YXR1cyE9PTEwMyYmZS5zdGF0dXMhPT1HbyYmZS5zdGF0dXMhPT10Yz8xOjB9LEgwPXQ9PntpZihXYyh0KSlyZXR1cm4gV28odCxkcik7dC50b3RhbF9pbj10LnRvdGFsX291dD0wLHQuZGF0YV90eXBlPWkzO2xldCBlPXQuc3RhdGU7cmV0dXJuIGUucGVuZGluZz0wLGUucGVuZGluZ19vdXQ9MCxlLndyYXA8MCYmKGUud3JhcD0tZS53cmFwKSxlLnN0YXR1cz1lLndyYXA9PT0yPzU3OmUud3JhcD9hYTpHbyx0LmFkbGVyPWUud3JhcD09PTI/MDoxLGUubGFzdF9mbHVzaD0tMixZVyhlKSxfbn0sSzA9dD0+e2xldCBlPUgwKHQpO3JldHVybiBlPT09X24mJihuPT57bi53aW5kb3dfc2l6ZT0yKm4ud19zaXplLFFyKG4uaGVhZCksbi5tYXhfbGF6eV9tYXRjaD1lY1tuLmxldmVsXS5tYXhfbGF6eSxuLmdvb2RfbWF0Y2g9ZWNbbi5sZXZlbF0uZ29vZF9sZW5ndGgsbi5uaWNlX21hdGNoPWVjW24ubGV2ZWxdLm5pY2VfbGVuZ3RoLG4ubWF4X2NoYWluX2xlbmd0aD1lY1tuLmxldmVsXS5tYXhfY2hhaW4sbi5zdHJzdGFydD0wLG4uYmxvY2tfc3RhcnQ9MCxuLmxvb2thaGVhZD0wLG4uaW5zZXJ0PTAsbi5tYXRjaF9sZW5ndGg9bi5wcmV2X2xlbmd0aD0yLG4ubWF0Y2hfYXZhaWxhYmxlPTAsbi5pbnNfaD0wO30pKHQuc3RhdGUpLGV9LGRBPSh0LGUsbixpLHIsbyk9PntpZighdClyZXR1cm4gZHI7bGV0IHM9MTtpZihlPT09WlcmJihlPTYpLGk8MD8ocz0wLGk9LWkpOmk+MTUmJihzPTIsaS09MTYpLHI8MXx8cj45fHxuIT09dGh8fGk8OHx8aT4xNXx8ZTwwfHxlPjl8fG88MHx8bz5lM3x8aT09PTgmJnMhPT0xKXJldHVybiBXbyh0LGRyKTtpPT09OCYmKGk9OSk7bGV0IGE9bmV3IGQzO3JldHVybiB0LnN0YXRlPWEsYS5zdHJtPXQsYS5zdGF0dXM9YWEsYS53cmFwPXMsYS5nemhlYWQ9bnVsbCxhLndfYml0cz1pLGEud19zaXplPTE8PGEud19iaXRzLGEud19tYXNrPWEud19zaXplLTEsYS5oYXNoX2JpdHM9cis3LGEuaGFzaF9zaXplPTE8PGEuaGFzaF9iaXRzLGEuaGFzaF9tYXNrPWEuaGFzaF9zaXplLTEsYS5oYXNoX3NoaWZ0PX5+KChhLmhhc2hfYml0cyszLTEpLzMpLGEud2luZG93PW5ldyBVaW50OEFycmF5KDIqYS53X3NpemUpLGEuaGVhZD1uZXcgVWludDE2QXJyYXkoYS5oYXNoX3NpemUpLGEucHJldj1uZXcgVWludDE2QXJyYXkoYS53X3NpemUpLGEubGl0X2J1ZnNpemU9MTw8cis2LGEucGVuZGluZ19idWZfc2l6ZT00KmEubGl0X2J1ZnNpemUsYS5wZW5kaW5nX2J1Zj1uZXcgVWludDhBcnJheShhLnBlbmRpbmdfYnVmX3NpemUpLGEuc3ltX2J1Zj1hLmxpdF9idWZzaXplLGEuc3ltX2VuZD0zKihhLmxpdF9idWZzaXplLTEpLGEubGV2ZWw9ZSxhLnN0cmF0ZWd5PW8sYS5tZXRob2Q9bixLMCh0KX0sbDM9KHQsZSk9PntpZihXYyh0KXx8ZT5zQXx8ZTwwKXJldHVybiB0P1dvKHQsZHIpOmRyO2xldCBuPXQuc3RhdGU7aWYoIXQub3V0cHV0fHx0LmF2YWlsX2luIT09MCYmIXQuaW5wdXR8fG4uc3RhdHVzPT09dGMmJmUhPT1SaSlyZXR1cm4gV28odCx0LmF2YWlsX291dD09PTA/d186ZHIpO2xldCBpPW4ubGFzdF9mbHVzaDtpZihuLmxhc3RfZmx1c2g9ZSxuLnBlbmRpbmchPT0wKXtpZihabih0KSx0LmF2YWlsX291dD09PTApcmV0dXJuIG4ubGFzdF9mbHVzaD0tMSxfbn1lbHNlIGlmKHQuYXZhaWxfaW49PT0wJiZjQShlKTw9Y0EoaSkmJmUhPT1SaSlyZXR1cm4gV28odCx3Xyk7aWYobi5zdGF0dXM9PT10YyYmdC5hdmFpbF9pbiE9PTApcmV0dXJuIFdvKHQsd18pO2lmKG4uc3RhdHVzPT09YWEmJm4ud3JhcD09PTAmJihuLnN0YXR1cz1Hbyksbi5zdGF0dXM9PT1hYSl7bGV0IHI9dGgrKG4ud19iaXRzLTg8PDQpPDw4LG89LTE7aWYobz1uLnN0cmF0ZWd5Pj1aZHx8bi5sZXZlbDwyPzA6bi5sZXZlbDw2PzE6bi5sZXZlbD09PTY/MjozLHJ8PW88PDYsbi5zdHJzdGFydCE9PTAmJihyfD0zMikscis9MzEtciUzMSxqYShuLHIpLG4uc3Ryc3RhcnQhPT0wJiYoamEobix0LmFkbGVyPj4+MTYpLGphKG4sNjU1MzUmdC5hZGxlcikpLHQuYWRsZXI9MSxuLnN0YXR1cz1Hbyxabih0KSxuLnBlbmRpbmchPT0wKXJldHVybiBuLmxhc3RfZmx1c2g9LTEsX259aWYobi5zdGF0dXM9PT01Nyl7aWYodC5hZGxlcj0wLHRlKG4sMzEpLHRlKG4sMTM5KSx0ZShuLDgpLG4uZ3poZWFkKXRlKG4sKG4uZ3poZWFkLnRleHQ/MTowKSsobi5nemhlYWQuaGNyYz8yOjApKyhuLmd6aGVhZC5leHRyYT80OjApKyhuLmd6aGVhZC5uYW1lPzg6MCkrKG4uZ3poZWFkLmNvbW1lbnQ/MTY6MCkpLHRlKG4sMjU1Jm4uZ3poZWFkLnRpbWUpLHRlKG4sbi5nemhlYWQudGltZT4+OCYyNTUpLHRlKG4sbi5nemhlYWQudGltZT4+MTYmMjU1KSx0ZShuLG4uZ3poZWFkLnRpbWU+PjI0JjI1NSksdGUobixuLmxldmVsPT09OT8yOm4uc3RyYXRlZ3k+PVpkfHxuLmxldmVsPDI/NDowKSx0ZShuLDI1NSZuLmd6aGVhZC5vcyksbi5nemhlYWQuZXh0cmEmJm4uZ3poZWFkLmV4dHJhLmxlbmd0aCYmKHRlKG4sMjU1Jm4uZ3poZWFkLmV4dHJhLmxlbmd0aCksdGUobixuLmd6aGVhZC5leHRyYS5sZW5ndGg+PjgmMjU1KSksbi5nemhlYWQuaGNyYyYmKHQuYWRsZXI9YW4odC5hZGxlcixuLnBlbmRpbmdfYnVmLG4ucGVuZGluZywwKSksbi5nemluZGV4PTAsbi5zdGF0dXM9Njk7ZWxzZSBpZih0ZShuLDApLHRlKG4sMCksdGUobiwwKSx0ZShuLDApLHRlKG4sMCksdGUobixuLmxldmVsPT09OT8yOm4uc3RyYXRlZ3k+PVpkfHxuLmxldmVsPDI/NDowKSx0ZShuLDMpLG4uc3RhdHVzPUdvLFpuKHQpLG4ucGVuZGluZyE9PTApcmV0dXJuIG4ubGFzdF9mbHVzaD0tMSxfbn1pZihuLnN0YXR1cz09PTY5KXtpZihuLmd6aGVhZC5leHRyYSl7bGV0IHI9bi5wZW5kaW5nLG89KDY1NTM1Jm4uZ3poZWFkLmV4dHJhLmxlbmd0aCktbi5nemluZGV4O2Zvcig7bi5wZW5kaW5nK28+bi5wZW5kaW5nX2J1Zl9zaXplOyl7bGV0IGE9bi5wZW5kaW5nX2J1Zl9zaXplLW4ucGVuZGluZztpZihuLnBlbmRpbmdfYnVmLnNldChuLmd6aGVhZC5leHRyYS5zdWJhcnJheShuLmd6aW5kZXgsbi5nemluZGV4K2EpLG4ucGVuZGluZyksbi5wZW5kaW5nPW4ucGVuZGluZ19idWZfc2l6ZSxuLmd6aGVhZC5oY3JjJiZuLnBlbmRpbmc+ciYmKHQuYWRsZXI9YW4odC5hZGxlcixuLnBlbmRpbmdfYnVmLG4ucGVuZGluZy1yLHIpKSxuLmd6aW5kZXgrPWEsWm4odCksbi5wZW5kaW5nIT09MClyZXR1cm4gbi5sYXN0X2ZsdXNoPS0xLF9uO3I9MCxvLT1hO31sZXQgcz1uZXcgVWludDhBcnJheShuLmd6aGVhZC5leHRyYSk7bi5wZW5kaW5nX2J1Zi5zZXQocy5zdWJhcnJheShuLmd6aW5kZXgsbi5nemluZGV4K28pLG4ucGVuZGluZyksbi5wZW5kaW5nKz1vLG4uZ3poZWFkLmhjcmMmJm4ucGVuZGluZz5yJiYodC5hZGxlcj1hbih0LmFkbGVyLG4ucGVuZGluZ19idWYsbi5wZW5kaW5nLXIscikpLG4uZ3ppbmRleD0wO31uLnN0YXR1cz03Mzt9aWYobi5zdGF0dXM9PT03Myl7aWYobi5nemhlYWQubmFtZSl7bGV0IHIsbz1uLnBlbmRpbmc7ZG97aWYobi5wZW5kaW5nPT09bi5wZW5kaW5nX2J1Zl9zaXplKXtpZihuLmd6aGVhZC5oY3JjJiZuLnBlbmRpbmc+byYmKHQuYWRsZXI9YW4odC5hZGxlcixuLnBlbmRpbmdfYnVmLG4ucGVuZGluZy1vLG8pKSxabih0KSxuLnBlbmRpbmchPT0wKXJldHVybiBuLmxhc3RfZmx1c2g9LTEsX247bz0wO31yPW4uZ3ppbmRleDxuLmd6aGVhZC5uYW1lLmxlbmd0aD8yNTUmbi5nemhlYWQubmFtZS5jaGFyQ29kZUF0KG4uZ3ppbmRleCsrKTowLHRlKG4scik7fXdoaWxlKHIhPT0wKTtuLmd6aGVhZC5oY3JjJiZuLnBlbmRpbmc+byYmKHQuYWRsZXI9YW4odC5hZGxlcixuLnBlbmRpbmdfYnVmLG4ucGVuZGluZy1vLG8pKSxuLmd6aW5kZXg9MDt9bi5zdGF0dXM9OTE7fWlmKG4uc3RhdHVzPT09OTEpe2lmKG4uZ3poZWFkLmNvbW1lbnQpe2xldCByLG89bi5wZW5kaW5nO2Rve2lmKG4ucGVuZGluZz09PW4ucGVuZGluZ19idWZfc2l6ZSl7aWYobi5nemhlYWQuaGNyYyYmbi5wZW5kaW5nPm8mJih0LmFkbGVyPWFuKHQuYWRsZXIsbi5wZW5kaW5nX2J1ZixuLnBlbmRpbmctbyxvKSksWm4odCksbi5wZW5kaW5nIT09MClyZXR1cm4gbi5sYXN0X2ZsdXNoPS0xLF9uO289MDt9cj1uLmd6aW5kZXg8bi5nemhlYWQuY29tbWVudC5sZW5ndGg/MjU1Jm4uZ3poZWFkLmNvbW1lbnQuY2hhckNvZGVBdChuLmd6aW5kZXgrKyk6MCx0ZShuLHIpO313aGlsZShyIT09MCk7bi5nemhlYWQuaGNyYyYmbi5wZW5kaW5nPm8mJih0LmFkbGVyPWFuKHQuYWRsZXIsbi5wZW5kaW5nX2J1ZixuLnBlbmRpbmctbyxvKSk7fW4uc3RhdHVzPTEwMzt9aWYobi5zdGF0dXM9PT0xMDMpe2lmKG4uZ3poZWFkLmhjcmMpe2lmKG4ucGVuZGluZysyPm4ucGVuZGluZ19idWZfc2l6ZSYmKFpuKHQpLG4ucGVuZGluZyE9PTApKXJldHVybiBuLmxhc3RfZmx1c2g9LTEsX247dGUobiwyNTUmdC5hZGxlciksdGUobix0LmFkbGVyPj44JjI1NSksdC5hZGxlcj0wO31pZihuLnN0YXR1cz1Hbyxabih0KSxuLnBlbmRpbmchPT0wKXJldHVybiBuLmxhc3RfZmx1c2g9LTEsX259aWYodC5hdmFpbF9pbiE9PTB8fG4ubG9va2FoZWFkIT09MHx8ZSE9PWNvJiZuLnN0YXR1cyE9PXRjKXtsZXQgcj1uLmxldmVsPT09MD9XMChuLGUpOm4uc3RyYXRlZ3k9PT1aZD8oKG8scyk9PntsZXQgYTtmb3IoOzspe2lmKG8ubG9va2FoZWFkPT09MCYmKGNhKG8pLG8ubG9va2FoZWFkPT09MCkpe2lmKHM9PT1jbylyZXR1cm4gMTticmVha31pZihvLm1hdGNoX2xlbmd0aD0wLGE9YW8obywwLG8ud2luZG93W28uc3Ryc3RhcnRdKSxvLmxvb2thaGVhZC0tLG8uc3Ryc3RhcnQrKyxhJiYodGkobywhMSksby5zdHJtLmF2YWlsX291dD09PTApKXJldHVybiAxfXJldHVybiBvLmluc2VydD0wLHM9PT1SaT8odGkobywhMCksby5zdHJtLmF2YWlsX291dD09PTA/Mzo0KTpvLnN5bV9uZXh0JiYodGkobywhMSksby5zdHJtLmF2YWlsX291dD09PTApPzE6Mn0pKG4sZSk6bi5zdHJhdGVneT09PXQzPygobyxzKT0+e2xldCBhLGMsZCxsLHU9by53aW5kb3c7Zm9yKDs7KXtpZihvLmxvb2thaGVhZDw9am8pe2lmKGNhKG8pLG8ubG9va2FoZWFkPD1qbyYmcz09PWNvKXJldHVybiAxO2lmKG8ubG9va2FoZWFkPT09MClicmVha31pZihvLm1hdGNoX2xlbmd0aD0wLG8ubG9va2FoZWFkPj0zJiZvLnN0cnN0YXJ0PjAmJihkPW8uc3Ryc3RhcnQtMSxjPXVbZF0sYz09PXVbKytkXSYmYz09PXVbKytkXSYmYz09PXVbKytkXSkpe2w9by5zdHJzdGFydCtqbztkbzt3aGlsZShjPT09dVsrK2RdJiZjPT09dVsrK2RdJiZjPT09dVsrK2RdJiZjPT09dVsrK2RdJiZjPT09dVsrK2RdJiZjPT09dVsrK2RdJiZjPT09dVsrK2RdJiZjPT09dVsrK2RdJiZkPGwpO28ubWF0Y2hfbGVuZ3RoPWpvLShsLWQpLG8ubWF0Y2hfbGVuZ3RoPm8ubG9va2FoZWFkJiYoby5tYXRjaF9sZW5ndGg9by5sb29rYWhlYWQpO31pZihvLm1hdGNoX2xlbmd0aD49Mz8oYT1hbyhvLDEsby5tYXRjaF9sZW5ndGgtMyksby5sb29rYWhlYWQtPW8ubWF0Y2hfbGVuZ3RoLG8uc3Ryc3RhcnQrPW8ubWF0Y2hfbGVuZ3RoLG8ubWF0Y2hfbGVuZ3RoPTApOihhPWFvKG8sMCxvLndpbmRvd1tvLnN0cnN0YXJ0XSksby5sb29rYWhlYWQtLSxvLnN0cnN0YXJ0KyspLGEmJih0aShvLCExKSxvLnN0cm0uYXZhaWxfb3V0PT09MCkpcmV0dXJuIDF9cmV0dXJuIG8uaW5zZXJ0PTAscz09PVJpPyh0aShvLCEwKSxvLnN0cm0uYXZhaWxfb3V0PT09MD8zOjQpOm8uc3ltX25leHQmJih0aShvLCExKSxvLnN0cm0uYXZhaWxfb3V0PT09MCk/MToyfSkobixlKTplY1tuLmxldmVsXS5mdW5jKG4sZSk7aWYociE9PTMmJnIhPT00fHwobi5zdGF0dXM9dGMpLHI9PT0xfHxyPT09MylyZXR1cm4gdC5hdmFpbF9vdXQ9PT0wJiYobi5sYXN0X2ZsdXNoPS0xKSxfbjtpZihyPT09MiYmKGU9PT1KVz96VyhuKTplIT09c0EmJihFbShuLDAsMCwhMSksZT09PVhXJiYoUXIobi5oZWFkKSxuLmxvb2thaGVhZD09PTAmJihuLnN0cnN0YXJ0PTAsbi5ibG9ja19zdGFydD0wLG4uaW5zZXJ0PTApKSksWm4odCksdC5hdmFpbF9vdXQ9PT0wKSlyZXR1cm4gbi5sYXN0X2ZsdXNoPS0xLF9ufXJldHVybiBlIT09Umk/X246bi53cmFwPD0wP2FBOihuLndyYXA9PT0yPyh0ZShuLDI1NSZ0LmFkbGVyKSx0ZShuLHQuYWRsZXI+PjgmMjU1KSx0ZShuLHQuYWRsZXI+PjE2JjI1NSksdGUobix0LmFkbGVyPj4yNCYyNTUpLHRlKG4sMjU1JnQudG90YWxfaW4pLHRlKG4sdC50b3RhbF9pbj4+OCYyNTUpLHRlKG4sdC50b3RhbF9pbj4+MTYmMjU1KSx0ZShuLHQudG90YWxfaW4+PjI0JjI1NSkpOihqYShuLHQuYWRsZXI+Pj4xNiksamEobiw2NTUzNSZ0LmFkbGVyKSksWm4odCksbi53cmFwPjAmJihuLndyYXA9LW4ud3JhcCksbi5wZW5kaW5nIT09MD9fbjphQSl9LHUzPSh0LGUpPT57bGV0IG49ZS5sZW5ndGg7aWYoV2ModCkpcmV0dXJuIGRyO2xldCBpPXQuc3RhdGUscj1pLndyYXA7aWYocj09PTJ8fHI9PT0xJiZpLnN0YXR1cyE9PWFhfHxpLmxvb2thaGVhZClyZXR1cm4gZHI7aWYocj09PTEmJih0LmFkbGVyPUdjKHQuYWRsZXIsZSxuLDApKSxpLndyYXA9MCxuPj1pLndfc2l6ZSl7cj09PTAmJihRcihpLmhlYWQpLGkuc3Ryc3RhcnQ9MCxpLmJsb2NrX3N0YXJ0PTAsaS5pbnNlcnQ9MCk7bGV0IGM9bmV3IFVpbnQ4QXJyYXkoaS53X3NpemUpO2Muc2V0KGUuc3ViYXJyYXkobi1pLndfc2l6ZSxuKSwwKSxlPWMsbj1pLndfc2l6ZTt9bGV0IG89dC5hdmFpbF9pbixzPXQubmV4dF9pbixhPXQuaW5wdXQ7Zm9yKHQuYXZhaWxfaW49bix0Lm5leHRfaW49MCx0LmlucHV0PWUsY2EoaSk7aS5sb29rYWhlYWQ+PTM7KXtsZXQgYz1pLnN0cnN0YXJ0LGQ9aS5sb29rYWhlYWQtMjtkbyBpLmluc19oPWxvKGksaS5pbnNfaCxpLndpbmRvd1tjKzMtMV0pLGkucHJldltjJmkud19tYXNrXT1pLmhlYWRbaS5pbnNfaF0saS5oZWFkW2kuaW5zX2hdPWMsYysrO3doaWxlKC0tZCk7aS5zdHJzdGFydD1jLGkubG9va2FoZWFkPTIsY2EoaSk7fXJldHVybiBpLnN0cnN0YXJ0Kz1pLmxvb2thaGVhZCxpLmJsb2NrX3N0YXJ0PWkuc3Ryc3RhcnQsaS5pbnNlcnQ9aS5sb29rYWhlYWQsaS5sb29rYWhlYWQ9MCxpLm1hdGNoX2xlbmd0aD1pLnByZXZfbGVuZ3RoPTIsaS5tYXRjaF9hdmFpbGFibGU9MCx0Lm5leHRfaW49cyx0LmlucHV0PWEsdC5hdmFpbF9pbj1vLGkud3JhcD1yLF9ufSxwYz17ZGVmbGF0ZUluaXQ6KHQsZSk9PmRBKHQsZSx0aCwxNSw4LG4zKSxkZWZsYXRlSW5pdDI6ZEEsZGVmbGF0ZVJlc2V0OkswLGRlZmxhdGVSZXNldEtlZXA6SDAsZGVmbGF0ZVNldEhlYWRlcjoodCxlKT0+V2ModCl8fHQuc3RhdGUud3JhcCE9PTI/ZHI6KHQuc3RhdGUuZ3poZWFkPWUsX24pLGRlZmxhdGU6bDMsZGVmbGF0ZUVuZDp0PT57aWYoV2ModCkpcmV0dXJuIGRyO2xldCBlPXQuc3RhdGUuc3RhdHVzO3JldHVybiB0LnN0YXRlPW51bGwsZT09PUdvP1dvKHQsUVcpOl9ufSxkZWZsYXRlU2V0RGljdGlvbmFyeTp1MyxkZWZsYXRlSW5mbzpcInBha28gZGVmbGF0ZSAoZnJvbSBOb2RlY2EgcHJvamVjdClcIn0saDM9KHQsZSk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpLGVoPXthc3NpZ246ZnVuY3Rpb24odCl7bGV0IGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2Zvcig7ZS5sZW5ndGg7KXtsZXQgbj1lLnNoaWZ0KCk7aWYobil7aWYodHlwZW9mIG4hPVwib2JqZWN0XCIpdGhyb3cgbmV3IFR5cGVFcnJvcihuK1wibXVzdCBiZSBub24tb2JqZWN0XCIpO2ZvcihsZXQgaSBpbiBuKWgzKG4saSkmJih0W2ldPW5baV0pO319cmV0dXJuIHR9LGZsYXR0ZW5DaHVua3M6dD0+e2xldCBlPTA7Zm9yKGxldCBpPTAscj10Lmxlbmd0aDtpPHI7aSsrKWUrPXRbaV0ubGVuZ3RoO2xldCBuPW5ldyBVaW50OEFycmF5KGUpO2ZvcihsZXQgaT0wLHI9MCxvPXQubGVuZ3RoO2k8bztpKyspe2xldCBzPXRbaV07bi5zZXQocyxyKSxyKz1zLmxlbmd0aDt9cmV0dXJuIG59fSxZMD0hMDt0cnl7U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KDEpKTt9Y2F0Y2h7WTA9ITE7fXZhciBIYz1uZXcgVWludDhBcnJheSgyNTYpO2ZvcihsZXQgdD0wO3Q8MjU2O3QrKylIY1t0XT10Pj0yNTI/Njp0Pj0yNDg/NTp0Pj0yNDA/NDp0Pj0yMjQ/Mzp0Pj0xOTI/MjoxO0hjWzI1NF09SGNbMjU0XT0xO3ZhciBLYz17c3RyaW5nMmJ1Zjp0PT57aWYodHlwZW9mIFRleHRFbmNvZGVyPT1cImZ1bmN0aW9uXCImJlRleHRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGUpcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh0KTtsZXQgZSxuLGkscixvLHM9dC5sZW5ndGgsYT0wO2ZvcihyPTA7cjxzO3IrKyluPXQuY2hhckNvZGVBdChyKSwoNjQ1MTImbik9PTU1Mjk2JiZyKzE8cyYmKGk9dC5jaGFyQ29kZUF0KHIrMSksKDY0NTEyJmkpPT01NjMyMCYmKG49NjU1MzYrKG4tNTUyOTY8PDEwKSsoaS01NjMyMCkscisrKSksYSs9bjwxMjg/MTpuPDIwNDg/MjpuPDY1NTM2PzM6NDtmb3IoZT1uZXcgVWludDhBcnJheShhKSxvPTAscj0wO288YTtyKyspbj10LmNoYXJDb2RlQXQociksKDY0NTEyJm4pPT01NTI5NiYmcisxPHMmJihpPXQuY2hhckNvZGVBdChyKzEpLCg2NDUxMiZpKT09NTYzMjAmJihuPTY1NTM2KyhuLTU1Mjk2PDwxMCkrKGktNTYzMjApLHIrKykpLG48MTI4P2VbbysrXT1uOm48MjA0OD8oZVtvKytdPTE5MnxuPj4+NixlW28rK109MTI4fDYzJm4pOm48NjU1MzY/KGVbbysrXT0yMjR8bj4+PjEyLGVbbysrXT0xMjh8bj4+PjYmNjMsZVtvKytdPTEyOHw2MyZuKTooZVtvKytdPTI0MHxuPj4+MTgsZVtvKytdPTEyOHxuPj4+MTImNjMsZVtvKytdPTEyOHxuPj4+NiY2MyxlW28rK109MTI4fDYzJm4pO3JldHVybiBlfSxidWYyc3RyaW5nOih0LGUpPT57bGV0IG49ZXx8dC5sZW5ndGg7aWYodHlwZW9mIFRleHREZWNvZGVyPT1cImZ1bmN0aW9uXCImJlRleHREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUpcmV0dXJuIG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZSh0LnN1YmFycmF5KDAsZSkpO2xldCBpLHIsbz1uZXcgQXJyYXkoMipuKTtmb3Iocj0wLGk9MDtpPG47KXtsZXQgcz10W2krK107aWYoczwxMjgpe29bcisrXT1zO2NvbnRpbnVlfWxldCBhPUhjW3NdO2lmKGE+NClvW3IrK109NjU1MzMsaSs9YS0xO2Vsc2Uge2ZvcihzJj1hPT09Mj8zMTphPT09Mz8xNTo3O2E+MSYmaTxuOylzPXM8PDZ8NjMmdFtpKytdLGEtLTthPjE/b1tyKytdPTY1NTMzOnM8NjU1MzY/b1tyKytdPXM6KHMtPTY1NTM2LG9bcisrXT01NTI5NnxzPj4xMCYxMDIzLG9bcisrXT01NjMyMHwxMDIzJnMpO319cmV0dXJuICgocyxhKT0+e2lmKGE8NjU1MzQmJnMuc3ViYXJyYXkmJlkwKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwscy5sZW5ndGg9PT1hP3M6cy5zdWJhcnJheSgwLGEpKTtsZXQgYz1cIlwiO2ZvcihsZXQgZD0wO2Q8YTtkKyspYys9U3RyaW5nLmZyb21DaGFyQ29kZShzW2RdKTtyZXR1cm4gY30pKG8scil9LHV0Zjhib3JkZXI6KHQsZSk9PnsoZT1lfHx0Lmxlbmd0aCk+dC5sZW5ndGgmJihlPXQubGVuZ3RoKTtsZXQgbj1lLTE7Zm9yKDtuPj0wJiYoMTkyJnRbbl0pPT0xMjg7KW4tLTtyZXR1cm4gbjwwfHxuPT09MD9lOm4rSGNbdFtuXV0+ZT9uOmV9fSxxMD1mdW5jdGlvbigpe3RoaXMuaW5wdXQ9bnVsbCx0aGlzLm5leHRfaW49MCx0aGlzLmF2YWlsX2luPTAsdGhpcy50b3RhbF9pbj0wLHRoaXMub3V0cHV0PW51bGwsdGhpcy5uZXh0X291dD0wLHRoaXMuYXZhaWxfb3V0PTAsdGhpcy50b3RhbF9vdXQ9MCx0aGlzLm1zZz1cIlwiLHRoaXMuc3RhdGU9bnVsbCx0aGlzLmRhdGFfdHlwZT0yLHRoaXMuYWRsZXI9MDt9LHowPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcse1pfTk9fRkxVU0g6cDMsWl9TWU5DX0ZMVVNIOl8zLFpfRlVMTF9GTFVTSDpFMyxaX0ZJTklTSDptMyxaX09LOkN1LFpfU1RSRUFNX0VORDpmMyxaX0RFRkFVTFRfQ09NUFJFU1NJT046ZzMsWl9ERUZBVUxUX1NUUkFURUdZOlQzLFpfREVGTEFURUQ6UzN9PVJhO2Z1bmN0aW9uIF9jKHQpe3RoaXMub3B0aW9ucz1laC5hc3NpZ24oe2xldmVsOmczLG1ldGhvZDpTMyxjaHVua1NpemU6MTYzODQsd2luZG93Qml0czoxNSxtZW1MZXZlbDo4LHN0cmF0ZWd5OlQzfSx0fHx7fSk7bGV0IGU9dGhpcy5vcHRpb25zO2UucmF3JiZlLndpbmRvd0JpdHM+MD9lLndpbmRvd0JpdHM9LWUud2luZG93Qml0czplLmd6aXAmJmUud2luZG93Qml0cz4wJiZlLndpbmRvd0JpdHM8MTYmJihlLndpbmRvd0JpdHMrPTE2KSx0aGlzLmVycj0wLHRoaXMubXNnPVwiXCIsdGhpcy5lbmRlZD0hMSx0aGlzLmNodW5rcz1bXSx0aGlzLnN0cm09bmV3IHEwLHRoaXMuc3RybS5hdmFpbF9vdXQ9MDtsZXQgbj1wYy5kZWZsYXRlSW5pdDIodGhpcy5zdHJtLGUubGV2ZWwsZS5tZXRob2QsZS53aW5kb3dCaXRzLGUubWVtTGV2ZWwsZS5zdHJhdGVneSk7aWYobiE9PUN1KXRocm93IG5ldyBFcnJvcihab1tuXSk7aWYoZS5oZWFkZXImJnBjLmRlZmxhdGVTZXRIZWFkZXIodGhpcy5zdHJtLGUuaGVhZGVyKSxlLmRpY3Rpb25hcnkpe2xldCBpO2lmKGk9dHlwZW9mIGUuZGljdGlvbmFyeT09XCJzdHJpbmdcIj9LYy5zdHJpbmcyYnVmKGUuZGljdGlvbmFyeSk6ejAuY2FsbChlLmRpY3Rpb25hcnkpPT09XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiP25ldyBVaW50OEFycmF5KGUuZGljdGlvbmFyeSk6ZS5kaWN0aW9uYXJ5LG49cGMuZGVmbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLGkpLG4hPT1DdSl0aHJvdyBuZXcgRXJyb3IoWm9bbl0pO3RoaXMuX2RpY3Rfc2V0PSEwO319ZnVuY3Rpb24gTl8odCxlKXtsZXQgbj1uZXcgX2MoZSk7aWYobi5wdXNoKHQsITApLG4uZXJyKXRocm93IG4ubXNnfHxab1tuLmVycl07cmV0dXJuIG4ucmVzdWx0fV9jLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7bGV0IG49dGhpcy5zdHJtLGk9dGhpcy5vcHRpb25zLmNodW5rU2l6ZSxyLG87aWYodGhpcy5lbmRlZClyZXR1cm4gITE7Zm9yKG89ZT09PX5+ZT9lOmU9PT0hMD9tMzpwMyx0eXBlb2YgdD09XCJzdHJpbmdcIj9uLmlucHV0PUtjLnN0cmluZzJidWYodCk6ejAuY2FsbCh0KT09PVwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj9uLmlucHV0PW5ldyBVaW50OEFycmF5KHQpOm4uaW5wdXQ9dCxuLm5leHRfaW49MCxuLmF2YWlsX2luPW4uaW5wdXQubGVuZ3RoOzspaWYobi5hdmFpbF9vdXQ9PT0wJiYobi5vdXRwdXQ9bmV3IFVpbnQ4QXJyYXkoaSksbi5uZXh0X291dD0wLG4uYXZhaWxfb3V0PWkpLChvPT09XzN8fG89PT1FMykmJm4uYXZhaWxfb3V0PD02KXRoaXMub25EYXRhKG4ub3V0cHV0LnN1YmFycmF5KDAsbi5uZXh0X291dCkpLG4uYXZhaWxfb3V0PTA7ZWxzZSB7aWYocj1wYy5kZWZsYXRlKG4sbykscj09PWYzKXJldHVybiBuLm5leHRfb3V0PjAmJnRoaXMub25EYXRhKG4ub3V0cHV0LnN1YmFycmF5KDAsbi5uZXh0X291dCkpLHI9cGMuZGVmbGF0ZUVuZCh0aGlzLnN0cm0pLHRoaXMub25FbmQociksdGhpcy5lbmRlZD0hMCxyPT09Q3U7aWYobi5hdmFpbF9vdXQhPT0wKXtpZihvPjAmJm4ubmV4dF9vdXQ+MCl0aGlzLm9uRGF0YShuLm91dHB1dC5zdWJhcnJheSgwLG4ubmV4dF9vdXQpKSxuLmF2YWlsX291dD0wO2Vsc2UgaWYobi5hdmFpbF9pbj09PTApYnJlYWt9ZWxzZSB0aGlzLm9uRGF0YShuLm91dHB1dCk7fXJldHVybiAhMH0sX2MucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbih0KXt0aGlzLmNodW5rcy5wdXNoKHQpO30sX2MucHJvdG90eXBlLm9uRW5kPWZ1bmN0aW9uKHQpe3Q9PT1DdSYmKHRoaXMucmVzdWx0PWVoLmZsYXR0ZW5DaHVua3ModGhpcy5jaHVua3MpKSx0aGlzLmNodW5rcz1bXSx0aGlzLmVycj10LHRoaXMubXNnPXRoaXMuc3RybS5tc2c7fTt2YXIgUjM9e0RlZmxhdGU6X2MsZGVmbGF0ZTpOXyxkZWZsYXRlUmF3OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIChlPWV8fHt9KS5yYXc9ITAsTl8odCxlKX0sZ3ppcDpmdW5jdGlvbih0LGUpe3JldHVybiAoZT1lfHx7fSkuZ3ppcD0hMCxOXyh0LGUpfSxjb25zdGFudHM6UmF9LCRkPTE2MjA5LEMzPWZ1bmN0aW9uKHQsZSl7bGV0IG4saSxyLG8scyxhLGMsZCxsLHUsaCxwLGcsRSxmLFMsQyxBLGIsdyxELGssQixWLHo9dC5zdGF0ZTtuPXQubmV4dF9pbixCPXQuaW5wdXQsaT1uKyh0LmF2YWlsX2luLTUpLHI9dC5uZXh0X291dCxWPXQub3V0cHV0LG89ci0oZS10LmF2YWlsX291dCkscz1yKyh0LmF2YWlsX291dC0yNTcpLGE9ei5kbWF4LGM9ei53c2l6ZSxkPXoud2hhdmUsbD16LnduZXh0LHU9ei53aW5kb3csaD16LmhvbGQscD16LmJpdHMsZz16LmxlbmNvZGUsRT16LmRpc3Rjb2RlLGY9KDE8PHoubGVuYml0cyktMSxTPSgxPDx6LmRpc3RiaXRzKS0xO3Q6ZG97cDwxNSYmKGgrPUJbbisrXTw8cCxwKz04LGgrPUJbbisrXTw8cCxwKz04KSxDPWdbaCZmXTtlOmZvcig7Oyl7aWYoQT1DPj4+MjQsaD4+Pj1BLHAtPUEsQT1DPj4+MTYmMjU1LEE9PT0wKVZbcisrXT02NTUzNSZDO2Vsc2Uge2lmKCEoMTYmQSkpe2lmKCEoNjQmQSkpe0M9Z1soNjU1MzUmQykrKGgmKDE8PEEpLTEpXTtjb250aW51ZSBlfWlmKDMyJkEpe3oubW9kZT0xNjE5MTticmVhayB0fXQubXNnPVwiaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlXCIsei5tb2RlPSRkO2JyZWFrIHR9Yj02NTUzNSZDLEEmPTE1LEEmJihwPEEmJihoKz1CW24rK108PHAscCs9OCksYis9aCYoMTw8QSktMSxoPj4+PUEscC09QSkscDwxNSYmKGgrPUJbbisrXTw8cCxwKz04LGgrPUJbbisrXTw8cCxwKz04KSxDPUVbaCZTXTtuOmZvcig7Oyl7aWYoQT1DPj4+MjQsaD4+Pj1BLHAtPUEsQT1DPj4+MTYmMjU1LCEoMTYmQSkpe2lmKCEoNjQmQSkpe0M9RVsoNjU1MzUmQykrKGgmKDE8PEEpLTEpXTtjb250aW51ZSBufXQubXNnPVwiaW52YWxpZCBkaXN0YW5jZSBjb2RlXCIsei5tb2RlPSRkO2JyZWFrIHR9aWYodz02NTUzNSZDLEEmPTE1LHA8QSYmKGgrPUJbbisrXTw8cCxwKz04LHA8QSYmKGgrPUJbbisrXTw8cCxwKz04KSksdys9aCYoMTw8QSktMSx3PmEpe3QubXNnPVwiaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2tcIix6Lm1vZGU9JGQ7YnJlYWsgdH1pZihoPj4+PUEscC09QSxBPXItbyx3PkEpe2lmKEE9dy1BLEE+ZCYmei5zYW5lKXt0Lm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsei5tb2RlPSRkO2JyZWFrIHR9aWYoRD0wLGs9dSxsPT09MCl7aWYoRCs9Yy1BLEE8Yil7Yi09QTtkbyBWW3IrK109dVtEKytdO3doaWxlKC0tQSk7RD1yLXcsaz1WO319ZWxzZSBpZihsPEEpe2lmKEQrPWMrbC1BLEEtPWwsQTxiKXtiLT1BO2RvIFZbcisrXT11W0QrK107d2hpbGUoLS1BKTtpZihEPTAsbDxiKXtBPWwsYi09QTtkbyBWW3IrK109dVtEKytdO3doaWxlKC0tQSk7RD1yLXcsaz1WO319fWVsc2UgaWYoRCs9bC1BLEE8Yil7Yi09QTtkbyBWW3IrK109dVtEKytdO3doaWxlKC0tQSk7RD1yLXcsaz1WO31mb3IoO2I+MjspVltyKytdPWtbRCsrXSxWW3IrK109a1tEKytdLFZbcisrXT1rW0QrK10sYi09MztiJiYoVltyKytdPWtbRCsrXSxiPjEmJihWW3IrK109a1tEKytdKSk7fWVsc2Uge0Q9ci13O2RvIFZbcisrXT1WW0QrK10sVltyKytdPVZbRCsrXSxWW3IrK109VltEKytdLGItPTM7d2hpbGUoYj4yKTtiJiYoVltyKytdPVZbRCsrXSxiPjEmJihWW3IrK109VltEKytdKSk7fWJyZWFrfX1icmVha319d2hpbGUobjxpJiZyPHMpO2I9cD4+MyxuLT1iLHAtPWI8PDMsaCY9KDE8PHApLTEsdC5uZXh0X2luPW4sdC5uZXh0X291dD1yLHQuYXZhaWxfaW49bjxpP2ktbis1OjUtKG4taSksdC5hdmFpbF9vdXQ9cjxzP3MtcisyNTc6MjU3LShyLXMpLHouaG9sZD1oLHouYml0cz1wO30sdGw9MTUsSTM9bmV3IFVpbnQxNkFycmF5KFszLDQsNSw2LDcsOCw5LDEwLDExLDEzLDE1LDE3LDE5LDIzLDI3LDMxLDM1LDQzLDUxLDU5LDY3LDgzLDk5LDExNSwxMzEsMTYzLDE5NSwyMjcsMjU4LDAsMF0pLHYzPW5ldyBVaW50OEFycmF5KFsxNiwxNiwxNiwxNiwxNiwxNiwxNiwxNiwxNywxNywxNywxNywxOCwxOCwxOCwxOCwxOSwxOSwxOSwxOSwyMCwyMCwyMCwyMCwyMSwyMSwyMSwyMSwxNiw3Miw3OF0pLHkzPW5ldyBVaW50MTZBcnJheShbMSwyLDMsNCw1LDcsOSwxMywxNywyNSwzMyw0OSw2NSw5NywxMjksMTkzLDI1NywzODUsNTEzLDc2OSwxMDI1LDE1MzcsMjA0OSwzMDczLDQwOTcsNjE0NSw4MTkzLDEyMjg5LDE2Mzg1LDI0NTc3LDAsMF0pLEEzPW5ldyBVaW50OEFycmF5KFsxNiwxNiwxNiwxNiwxNywxNywxOCwxOCwxOSwxOSwyMCwyMCwyMSwyMSwyMiwyMiwyMywyMywyNCwyNCwyNSwyNSwyNiwyNiwyNywyNywyOCwyOCwyOSwyOSw2NCw2NF0pLEVjPSh0LGUsbixpLHIsbyxzLGEpPT57bGV0IGM9YS5iaXRzLGQsbCx1LGgscCxnLEU9MCxmPTAsUz0wLEM9MCxBPTAsYj0wLHc9MCxEPTAsaz0wLEI9MCxWPW51bGwsej1uZXcgVWludDE2QXJyYXkoMTYpLGx0PW5ldyBVaW50MTZBcnJheSgxNiksdnQsRHQsY2UsV3Q9bnVsbDtmb3IoRT0wO0U8PXRsO0UrKyl6W0VdPTA7Zm9yKGY9MDtmPGk7ZisrKXpbZVtuK2ZdXSsrO2ZvcihBPWMsQz10bDtDPj0xJiZ6W0NdPT09MDtDLS0pO2lmKEE+QyYmKEE9QyksQz09PTApcmV0dXJuIHJbbysrXT0yMDk3MTUyMCxyW28rK109MjA5NzE1MjAsYS5iaXRzPTEsMDtmb3IoUz0xO1M8QyYmeltTXT09PTA7UysrKTtmb3IoQTxTJiYoQT1TKSxEPTEsRT0xO0U8PXRsO0UrKylpZihEPDw9MSxELT16W0VdLEQ8MClyZXR1cm4gLTE7aWYoRD4wJiYodD09PTB8fEMhPT0xKSlyZXR1cm4gLTE7Zm9yKGx0WzFdPTAsRT0xO0U8dGw7RSsrKWx0W0UrMV09bHRbRV0reltFXTtmb3IoZj0wO2Y8aTtmKyspZVtuK2ZdIT09MCYmKHNbbHRbZVtuK2ZdXSsrXT1mKTtpZih0PT09MD8oVj1XdD1zLGc9MjApOnQ9PT0xPyhWPUkzLFd0PXYzLGc9MjU3KTooVj15MyxXdD1BMyxnPTApLEI9MCxmPTAsRT1TLHA9byxiPUEsdz0wLHU9LTEsaz0xPDxBLGg9ay0xLHQ9PT0xJiZrPjg1Mnx8dD09PTImJms+NTkyKXJldHVybiAxO2Zvcig7Oyl7dnQ9RS13LHNbZl0rMTxnPyhEdD0wLGNlPXNbZl0pOnNbZl0+PWc/KER0PVd0W3NbZl0tZ10sY2U9VltzW2ZdLWddKTooRHQ9OTYsY2U9MCksZD0xPDxFLXcsbD0xPDxiLFM9bDtkbyBsLT1kLHJbcCsoQj4+dykrbF09dnQ8PDI0fER0PDwxNnxjZXwwO3doaWxlKGwhPT0wKTtmb3IoZD0xPDxFLTE7QiZkOylkPj49MTtpZihkIT09MD8oQiY9ZC0xLEIrPWQpOkI9MCxmKyssLS16W0VdPT0wKXtpZihFPT09QylicmVhaztFPWVbbitzW2ZdXTt9aWYoRT5BJiYoQiZoKSE9PXUpe2Zvcih3PT09MCYmKHc9QSkscCs9UyxiPUUtdyxEPTE8PGI7Yit3PEMmJihELT16W2Ird10sIShEPD0wKSk7KWIrKyxEPDw9MTtpZihrKz0xPDxiLHQ9PT0xJiZrPjg1Mnx8dD09PTImJms+NTkyKXJldHVybiAxO3U9QiZoLHJbdV09QTw8MjR8Yjw8MTZ8cC1vfDA7fX1yZXR1cm4gQiE9PTAmJihyW3ArQl09RS13PDwyNHw2NDw8MTZ8MCksYS5iaXRzPUEsMH0se1pfRklOSVNIOmxBLFpfQkxPQ0s6YjMsWl9UUkVFUzplbCxaX09LOllvLFpfU1RSRUFNX0VORDp3MyxaX05FRURfRElDVDpPMyxaX1NUUkVBTV9FUlJPUjpDaSxaX0RBVEFfRVJST1I6SjAsWl9NRU1fRVJST1I6WDAsWl9CVUZfRVJST1I6TjMsWl9ERUZMQVRFRDp1QX09UmEsbmg9MTYxODAsSXU9MTYxOTAsQ3I9MTYxOTEsRF89MTYxOTIsUF89MTYxOTQsbmw9MTYxOTksaWw9MTYyMDAsa189MTYyMDYsYmU9MTYyMDksaEE9dD0+KHQ+Pj4yNCYyNTUpKyh0Pj4+OCY2NTI4MCkrKCg2NTI4MCZ0KTw8OCkrKCgyNTUmdCk8PDI0KTtmdW5jdGlvbiBEMygpe3RoaXMuc3RybT1udWxsLHRoaXMubW9kZT0wLHRoaXMubGFzdD0hMSx0aGlzLndyYXA9MCx0aGlzLmhhdmVkaWN0PSExLHRoaXMuZmxhZ3M9MCx0aGlzLmRtYXg9MCx0aGlzLmNoZWNrPTAsdGhpcy50b3RhbD0wLHRoaXMuaGVhZD1udWxsLHRoaXMud2JpdHM9MCx0aGlzLndzaXplPTAsdGhpcy53aGF2ZT0wLHRoaXMud25leHQ9MCx0aGlzLndpbmRvdz1udWxsLHRoaXMuaG9sZD0wLHRoaXMuYml0cz0wLHRoaXMubGVuZ3RoPTAsdGhpcy5vZmZzZXQ9MCx0aGlzLmV4dHJhPTAsdGhpcy5sZW5jb2RlPW51bGwsdGhpcy5kaXN0Y29kZT1udWxsLHRoaXMubGVuYml0cz0wLHRoaXMuZGlzdGJpdHM9MCx0aGlzLm5jb2RlPTAsdGhpcy5ubGVuPTAsdGhpcy5uZGlzdD0wLHRoaXMuaGF2ZT0wLHRoaXMubmV4dD1udWxsLHRoaXMubGVucz1uZXcgVWludDE2QXJyYXkoMzIwKSx0aGlzLndvcms9bmV3IFVpbnQxNkFycmF5KDI4OCksdGhpcy5sZW5keW49bnVsbCx0aGlzLmRpc3RkeW49bnVsbCx0aGlzLnNhbmU9MCx0aGlzLmJhY2s9MCx0aGlzLndhcz0wO312YXIgcW89dD0+e2lmKCF0KXJldHVybiAxO2xldCBlPXQuc3RhdGU7cmV0dXJuICFlfHxlLnN0cm0hPT10fHxlLm1vZGU8bmh8fGUubW9kZT4xNjIxMT8xOjB9LFEwPXQ9PntpZihxbyh0KSlyZXR1cm4gQ2k7bGV0IGU9dC5zdGF0ZTtyZXR1cm4gdC50b3RhbF9pbj10LnRvdGFsX291dD1lLnRvdGFsPTAsdC5tc2c9XCJcIixlLndyYXAmJih0LmFkbGVyPTEmZS53cmFwKSxlLm1vZGU9bmgsZS5sYXN0PTAsZS5oYXZlZGljdD0wLGUuZmxhZ3M9LTEsZS5kbWF4PTMyNzY4LGUuaGVhZD1udWxsLGUuaG9sZD0wLGUuYml0cz0wLGUubGVuY29kZT1lLmxlbmR5bj1uZXcgSW50MzJBcnJheSg4NTIpLGUuZGlzdGNvZGU9ZS5kaXN0ZHluPW5ldyBJbnQzMkFycmF5KDU5MiksZS5zYW5lPTEsZS5iYWNrPS0xLFlvfSxaMD10PT57aWYocW8odCkpcmV0dXJuIENpO2xldCBlPXQuc3RhdGU7cmV0dXJuIGUud3NpemU9MCxlLndoYXZlPTAsZS53bmV4dD0wLFEwKHQpfSwkMD0odCxlKT0+e2xldCBuO2lmKHFvKHQpKXJldHVybiBDaTtsZXQgaT10LnN0YXRlO3JldHVybiBlPDA/KG49MCxlPS1lKToobj01KyhlPj40KSxlPDQ4JiYoZSY9MTUpKSxlJiYoZTw4fHxlPjE1KT9DaTooaS53aW5kb3chPT1udWxsJiZpLndiaXRzIT09ZSYmKGkud2luZG93PW51bGwpLGkud3JhcD1uLGkud2JpdHM9ZSxaMCh0KSl9LHBBPSh0LGUpPT57aWYoIXQpcmV0dXJuIENpO2xldCBuPW5ldyBEMzt0LnN0YXRlPW4sbi5zdHJtPXQsbi53aW5kb3c9bnVsbCxuLm1vZGU9bmg7bGV0IGk9JDAodCxlKTtyZXR1cm4gaSE9PVlvJiYodC5zdGF0ZT1udWxsKSxpfSxMXyxNXyxfQT0hMCxQMz10PT57aWYoX0Epe0xfPW5ldyBJbnQzMkFycmF5KDUxMiksTV89bmV3IEludDMyQXJyYXkoMzIpO2xldCBlPTA7Zm9yKDtlPDE0NDspdC5sZW5zW2UrK109ODtmb3IoO2U8MjU2Oyl0LmxlbnNbZSsrXT05O2Zvcig7ZTwyODA7KXQubGVuc1tlKytdPTc7Zm9yKDtlPDI4ODspdC5sZW5zW2UrK109ODtmb3IoRWMoMSx0LmxlbnMsMCwyODgsTF8sMCx0Lndvcmsse2JpdHM6OX0pLGU9MDtlPDMyOyl0LmxlbnNbZSsrXT01O0VjKDIsdC5sZW5zLDAsMzIsTV8sMCx0Lndvcmsse2JpdHM6NX0pLF9BPSExO310LmxlbmNvZGU9TF8sdC5sZW5iaXRzPTksdC5kaXN0Y29kZT1NXyx0LmRpc3RiaXRzPTU7fSx0Tj0odCxlLG4saSk9PntsZXQgcixvPXQuc3RhdGU7cmV0dXJuIG8ud2luZG93PT09bnVsbCYmKG8ud3NpemU9MTw8by53Yml0cyxvLnduZXh0PTAsby53aGF2ZT0wLG8ud2luZG93PW5ldyBVaW50OEFycmF5KG8ud3NpemUpKSxpPj1vLndzaXplPyhvLndpbmRvdy5zZXQoZS5zdWJhcnJheShuLW8ud3NpemUsbiksMCksby53bmV4dD0wLG8ud2hhdmU9by53c2l6ZSk6KHI9by53c2l6ZS1vLnduZXh0LHI+aSYmKHI9aSksby53aW5kb3cuc2V0KGUuc3ViYXJyYXkobi1pLG4taStyKSxvLnduZXh0KSwoaS09cik/KG8ud2luZG93LnNldChlLnN1YmFycmF5KG4taSxuKSwwKSxvLnduZXh0PWksby53aGF2ZT1vLndzaXplKTooby53bmV4dCs9cixvLnduZXh0PT09by53c2l6ZSYmKG8ud25leHQ9MCksby53aGF2ZTxvLndzaXplJiYoby53aGF2ZSs9cikpKSwwfSxrMz0odCxlKT0+e2xldCBuLGkscixvLHMsYSxjLGQsbCx1LGgscCxnLEUsZixTLEMsQSxiLHcsRCxrLEI9MCxWPW5ldyBVaW50OEFycmF5KDQpLHosbHQsdnQ9bmV3IFVpbnQ4QXJyYXkoWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdKTtpZihxbyh0KXx8IXQub3V0cHV0fHwhdC5pbnB1dCYmdC5hdmFpbF9pbiE9PTApcmV0dXJuIENpO249dC5zdGF0ZSxuLm1vZGU9PT1DciYmKG4ubW9kZT1EXykscz10Lm5leHRfb3V0LHI9dC5vdXRwdXQsYz10LmF2YWlsX291dCxvPXQubmV4dF9pbixpPXQuaW5wdXQsYT10LmF2YWlsX2luLGQ9bi5ob2xkLGw9bi5iaXRzLHU9YSxoPWMsaz1Zbzt0OmZvcig7Oylzd2l0Y2gobi5tb2RlKXtjYXNlIG5oOmlmKG4ud3JhcD09PTApe24ubW9kZT1EXzticmVha31mb3IoO2w8MTY7KXtpZihhPT09MClicmVhayB0O2EtLSxkKz1pW28rK108PGwsbCs9ODt9aWYoMiZuLndyYXAmJmQ9PT0zNTYxNSl7bi53Yml0cz09PTAmJihuLndiaXRzPTE1KSxuLmNoZWNrPTAsVlswXT0yNTUmZCxWWzFdPWQ+Pj44JjI1NSxuLmNoZWNrPWFuKG4uY2hlY2ssViwyLDApLGQ9MCxsPTAsbi5tb2RlPTE2MTgxO2JyZWFrfWlmKG4uaGVhZCYmKG4uaGVhZC5kb25lPSExKSwhKDEmbi53cmFwKXx8KCgoMjU1JmQpPDw4KSsoZD4+OCkpJTMxKXt0Lm1zZz1cImluY29ycmVjdCBoZWFkZXIgY2hlY2tcIixuLm1vZGU9YmU7YnJlYWt9aWYoKDE1JmQpIT09dUEpe3QubXNnPVwidW5rbm93biBjb21wcmVzc2lvbiBtZXRob2RcIixuLm1vZGU9YmU7YnJlYWt9aWYoZD4+Pj00LGwtPTQsRD04KygxNSZkKSxuLndiaXRzPT09MCYmKG4ud2JpdHM9RCksRD4xNXx8RD5uLndiaXRzKXt0Lm1zZz1cImludmFsaWQgd2luZG93IHNpemVcIixuLm1vZGU9YmU7YnJlYWt9bi5kbWF4PTE8PG4ud2JpdHMsbi5mbGFncz0wLHQuYWRsZXI9bi5jaGVjaz0xLG4ubW9kZT01MTImZD8xNjE4OTpDcixkPTAsbD0wO2JyZWFrO2Nhc2UgMTYxODE6Zm9yKDtsPDE2Oyl7aWYoYT09PTApYnJlYWsgdDthLS0sZCs9aVtvKytdPDxsLGwrPTg7fWlmKG4uZmxhZ3M9ZCwoMjU1JmVuKG4pKSE9PXVBKXt0Lm1zZz1cInVua25vd24gY29tcHJlc3Npb24gbWV0aG9kXCIsbi5tb2RlPWJlO2JyZWFrfWlmKDU3MzQ0JmVuKG4pKXt0Lm1zZz1cInVua25vd24gaGVhZGVyIGZsYWdzIHNldFwiLG4ubW9kZT1iZTticmVha31uLmhlYWQmJihuLmhlYWQudGV4dD1kPj44JjEpLDUxMiZlbihuKSYmNCZuLndyYXAmJihWWzBdPTI1NSZkLFZbMV09ZD4+PjgmMjU1LG4uY2hlY2s9YW4obi5jaGVjayxWLDIsMCkpLGQ9MCxsPTAsbi5tb2RlPTE2MTgyO2Nhc2UgMTYxODI6Zm9yKDtsPDMyOyl7aWYoYT09PTApYnJlYWsgdDthLS0sZCs9aVtvKytdPDxsLGwrPTg7fW4uaGVhZCYmKG4uaGVhZC50aW1lPWQpLDUxMiZlbihuKSYmNCZuLndyYXAmJihWWzBdPTI1NSZkLFZbMV09ZD4+PjgmMjU1LFZbMl09ZD4+PjE2JjI1NSxWWzNdPWQ+Pj4yNCYyNTUsbi5jaGVjaz1hbihuLmNoZWNrLFYsNCwwKSksZD0wLGw9MCxuLm1vZGU9MTYxODM7Y2FzZSAxNjE4Mzpmb3IoO2w8MTY7KXtpZihhPT09MClicmVhayB0O2EtLSxkKz1pW28rK108PGwsbCs9ODt9bi5oZWFkJiYobi5oZWFkLnhmbGFncz0yNTUmZCxuLmhlYWQub3M9ZD4+OCksNTEyJmVuKG4pJiY0Jm4ud3JhcCYmKFZbMF09MjU1JmQsVlsxXT1kPj4+OCYyNTUsbi5jaGVjaz1hbihuLmNoZWNrLFYsMiwwKSksZD0wLGw9MCxuLm1vZGU9MTYxODQ7Y2FzZSAxNjE4NDppZigxMDI0JmVuKG4pKXtmb3IoO2w8MTY7KXtpZihhPT09MClicmVhayB0O2EtLSxkKz1pW28rK108PGwsbCs9ODt9bi5sZW5ndGg9ZCxuLmhlYWQmJihuLmhlYWQuZXh0cmFfbGVuPWQpLDUxMiZlbihuKSYmNCZuLndyYXAmJihWWzBdPTI1NSZkLFZbMV09ZD4+PjgmMjU1LG4uY2hlY2s9YW4obi5jaGVjayxWLDIsMCkpLGQ9MCxsPTA7fWVsc2Ugbi5oZWFkJiYobi5oZWFkLmV4dHJhPW51bGwpO24ubW9kZT0xNjE4NTtjYXNlIDE2MTg1OmlmKDEwMjQmZW4obikmJihwPW4ubGVuZ3RoLHA+YSYmKHA9YSkscCYmKG4uaGVhZCYmKEQ9bi5oZWFkLmV4dHJhX2xlbi1uLmxlbmd0aCxuLmhlYWQuZXh0cmF8fChuLmhlYWQuZXh0cmE9bmV3IFVpbnQ4QXJyYXkobi5oZWFkLmV4dHJhX2xlbikpLG4uaGVhZC5leHRyYS5zZXQoaS5zdWJhcnJheShvLG8rcCksRCkpLDUxMiZlbihuKSYmNCZuLndyYXAmJihuLmNoZWNrPWFuKG4uY2hlY2ssaSxwLG8pKSxhLT1wLG8rPXAsbi5sZW5ndGgtPXApLG4ubGVuZ3RoKSlicmVhayB0O24ubGVuZ3RoPTAsbi5tb2RlPTE2MTg2O2Nhc2UgMTYxODY6aWYoMjA0OCZlbihuKSl7aWYoYT09PTApYnJlYWsgdDtwPTA7ZG8gRD1pW28rcCsrXSxuLmhlYWQmJkQmJm4ubGVuZ3RoPDY1NTM2JiYobi5oZWFkLm5hbWUrPVN0cmluZy5mcm9tQ2hhckNvZGUoRCkpO3doaWxlKEQmJnA8YSk7aWYoNTEyJmVuKG4pJiY0Jm4ud3JhcCYmKG4uY2hlY2s9YW4obi5jaGVjayxpLHAsbykpLGEtPXAsbys9cCxEKWJyZWFrIHR9ZWxzZSBuLmhlYWQmJihuLmhlYWQubmFtZT1udWxsKTtuLmxlbmd0aD0wLG4ubW9kZT0xNjE4NztjYXNlIDE2MTg3OmlmKDQwOTYmZW4obikpe2lmKGE9PT0wKWJyZWFrIHQ7cD0wO2RvIEQ9aVtvK3ArK10sbi5oZWFkJiZEJiZuLmxlbmd0aDw2NTUzNiYmKG4uaGVhZC5jb21tZW50Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKEQpKTt3aGlsZShEJiZwPGEpO2lmKDUxMiZlbihuKSYmNCZuLndyYXAmJihuLmNoZWNrPWFuKG4uY2hlY2ssaSxwLG8pKSxhLT1wLG8rPXAsRClicmVhayB0fWVsc2Ugbi5oZWFkJiYobi5oZWFkLmNvbW1lbnQ9bnVsbCk7bi5tb2RlPTE2MTg4O2Nhc2UgMTYxODg6aWYoNTEyJmVuKG4pKXtmb3IoO2w8MTY7KXtpZihhPT09MClicmVhayB0O2EtLSxkKz1pW28rK108PGwsbCs9ODt9aWYoNCZuLndyYXAmJmQhPT0oNjU1MzUmbi5jaGVjaykpe3QubXNnPVwiaGVhZGVyIGNyYyBtaXNtYXRjaFwiLG4ubW9kZT1iZTticmVha31kPTAsbD0wO31uLmhlYWQmJihuLmhlYWQuaGNyYz1lbihuKT4+OSYxLG4uaGVhZC5kb25lPSEwKSx0LmFkbGVyPW4uY2hlY2s9MCxuLm1vZGU9Q3I7YnJlYWs7Y2FzZSAxNjE4OTpmb3IoO2w8MzI7KXtpZihhPT09MClicmVhayB0O2EtLSxkKz1pW28rK108PGwsbCs9ODt9dC5hZGxlcj1uLmNoZWNrPWhBKGQpLGQ9MCxsPTAsbi5tb2RlPUl1O2Nhc2UgSXU6aWYobi5oYXZlZGljdD09PTApcmV0dXJuIHQubmV4dF9vdXQ9cyx0LmF2YWlsX291dD1jLHQubmV4dF9pbj1vLHQuYXZhaWxfaW49YSxuLmhvbGQ9ZCxuLmJpdHM9bCxPMzt0LmFkbGVyPW4uY2hlY2s9MSxuLm1vZGU9Q3I7Y2FzZSBDcjppZihlPT09YjN8fGU9PT1lbClicmVhayB0O2Nhc2UgRF86aWYobi5sYXN0KXtkPj4+PTcmbCxsLT03Jmwsbi5tb2RlPWtfO2JyZWFrfWZvcig7bDwzOyl7aWYoYT09PTApYnJlYWsgdDthLS0sZCs9aVtvKytdPDxsLGwrPTg7fXN3aXRjaChuLmxhc3Q9MSZkLGQ+Pj49MSxsLT0xLDMmZCl7Y2FzZSAwOm4ubW9kZT0xNjE5MzticmVhaztjYXNlIDE6aWYoUDMobiksbi5tb2RlPW5sLGU9PT1lbCl7ZD4+Pj0yLGwtPTI7YnJlYWsgdH1icmVhaztjYXNlIDI6bi5tb2RlPTE2MTk2O2JyZWFrO2Nhc2UgMzp0Lm1zZz1cImludmFsaWQgYmxvY2sgdHlwZVwiLG4ubW9kZT1iZTt9ZD4+Pj0yLGwtPTI7YnJlYWs7Y2FzZSAxNjE5Mzpmb3IoZD4+Pj03JmwsbC09NyZsO2w8MzI7KXtpZihhPT09MClicmVhayB0O2EtLSxkKz1pW28rK108PGwsbCs9ODt9aWYoKDY1NTM1JmQpIT0oZD4+PjE2XjY1NTM1KSl7dC5tc2c9XCJpbnZhbGlkIHN0b3JlZCBibG9jayBsZW5ndGhzXCIsbi5tb2RlPWJlO2JyZWFrfWlmKG4ubGVuZ3RoPTY1NTM1JmQsZD0wLGw9MCxuLm1vZGU9UF8sZT09PWVsKWJyZWFrIHQ7Y2FzZSBQXzpuLm1vZGU9MTYxOTU7Y2FzZSAxNjE5NTppZihwPW4ubGVuZ3RoLHApe2lmKHA+YSYmKHA9YSkscD5jJiYocD1jKSxwPT09MClicmVhayB0O3Iuc2V0KGkuc3ViYXJyYXkobyxvK3ApLHMpLGEtPXAsbys9cCxjLT1wLHMrPXAsbi5sZW5ndGgtPXA7YnJlYWt9bi5tb2RlPUNyO2JyZWFrO2Nhc2UgMTYxOTY6Zm9yKDtsPDE0Oyl7aWYoYT09PTApYnJlYWsgdDthLS0sZCs9aVtvKytdPDxsLGwrPTg7fWlmKG4ubmxlbj0yNTcrKDMxJmQpLGQ+Pj49NSxsLT01LG4ubmRpc3Q9MSsoMzEmZCksZD4+Pj01LGwtPTUsbi5uY29kZT00KygxNSZkKSxkPj4+PTQsbC09NCxuLm5sZW4+Mjg2fHxuLm5kaXN0PjMwKXt0Lm1zZz1cInRvbyBtYW55IGxlbmd0aCBvciBkaXN0YW5jZSBzeW1ib2xzXCIsbi5tb2RlPWJlO2JyZWFrfW4uaGF2ZT0wLG4ubW9kZT0xNjE5NztjYXNlIDE2MTk3OmZvcig7bi5oYXZlPG4ubmNvZGU7KXtmb3IoO2w8Mzspe2lmKGE9PT0wKWJyZWFrIHQ7YS0tLGQrPWlbbysrXTw8bCxsKz04O31uLmxlbnNbdnRbbi5oYXZlKytdXT03JmQsZD4+Pj0zLGwtPTM7fWZvcig7bi5oYXZlPDE5OyluLmxlbnNbdnRbbi5oYXZlKytdXT0wO2lmKG4ubGVuY29kZT1uLmxlbmR5bixuLmxlbmJpdHM9Nyx6PXtiaXRzOm4ubGVuYml0c30saz1FYygwLG4ubGVucywwLDE5LG4ubGVuY29kZSwwLG4ud29yayx6KSxuLmxlbmJpdHM9ei5iaXRzLGspe3QubXNnPVwiaW52YWxpZCBjb2RlIGxlbmd0aHMgc2V0XCIsbi5tb2RlPWJlO2JyZWFrfW4uaGF2ZT0wLG4ubW9kZT0xNjE5ODtjYXNlIDE2MTk4OmZvcig7bi5oYXZlPG4ubmxlbituLm5kaXN0Oyl7Zm9yKDtCPW4ubGVuY29kZVtkJigxPDxuLmxlbmJpdHMpLTFdLGY9Qj4+PjI0LFM9Qj4+PjE2JjI1NSxDPTY1NTM1JkIsIShmPD1sKTspe2lmKGE9PT0wKWJyZWFrIHQ7YS0tLGQrPWlbbysrXTw8bCxsKz04O31pZihDPDE2KWQ+Pj49ZixsLT1mLG4ubGVuc1tuLmhhdmUrK109QztlbHNlIHtpZihDPT09MTYpe2ZvcihsdD1mKzI7bDxsdDspe2lmKGE9PT0wKWJyZWFrIHQ7YS0tLGQrPWlbbysrXTw8bCxsKz04O31pZihkPj4+PWYsbC09ZixuLmhhdmU9PT0wKXt0Lm1zZz1cImludmFsaWQgYml0IGxlbmd0aCByZXBlYXRcIixuLm1vZGU9YmU7YnJlYWt9RD1uLmxlbnNbbi5oYXZlLTFdLHA9MysoMyZkKSxkPj4+PTIsbC09Mjt9ZWxzZSBpZihDPT09MTcpe2ZvcihsdD1mKzM7bDxsdDspe2lmKGE9PT0wKWJyZWFrIHQ7YS0tLGQrPWlbbysrXTw8bCxsKz04O31kPj4+PWYsbC09ZixEPTAscD0zKyg3JmQpLGQ+Pj49MyxsLT0zO31lbHNlIHtmb3IobHQ9Zis3O2w8bHQ7KXtpZihhPT09MClicmVhayB0O2EtLSxkKz1pW28rK108PGwsbCs9ODt9ZD4+Pj1mLGwtPWYsRD0wLHA9MTErKDEyNyZkKSxkPj4+PTcsbC09Nzt9aWYobi5oYXZlK3A+bi5ubGVuK24ubmRpc3Qpe3QubXNnPVwiaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdFwiLG4ubW9kZT1iZTticmVha31mb3IoO3AtLTspbi5sZW5zW24uaGF2ZSsrXT1EO319aWYobi5tb2RlPT09YmUpYnJlYWs7aWYobi5sZW5zWzI1Nl09PT0wKXt0Lm1zZz1cImludmFsaWQgY29kZSAtLSBtaXNzaW5nIGVuZC1vZi1ibG9ja1wiLG4ubW9kZT1iZTticmVha31pZihuLmxlbmJpdHM9OSx6PXtiaXRzOm4ubGVuYml0c30saz1FYygxLG4ubGVucywwLG4ubmxlbixuLmxlbmNvZGUsMCxuLndvcmsseiksbi5sZW5iaXRzPXouYml0cyxrKXt0Lm1zZz1cImludmFsaWQgbGl0ZXJhbC9sZW5ndGhzIHNldFwiLG4ubW9kZT1iZTticmVha31pZihuLmRpc3RiaXRzPTYsbi5kaXN0Y29kZT1uLmRpc3RkeW4sej17Yml0czpuLmRpc3RiaXRzfSxrPUVjKDIsbi5sZW5zLG4ubmxlbixuLm5kaXN0LG4uZGlzdGNvZGUsMCxuLndvcmsseiksbi5kaXN0Yml0cz16LmJpdHMsayl7dC5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlcyBzZXRcIixuLm1vZGU9YmU7YnJlYWt9aWYobi5tb2RlPW5sLGU9PT1lbClicmVhayB0O2Nhc2Ugbmw6bi5tb2RlPWlsO2Nhc2UgaWw6aWYoYT49NiYmYz49MjU4KXt0Lm5leHRfb3V0PXMsdC5hdmFpbF9vdXQ9Yyx0Lm5leHRfaW49byx0LmF2YWlsX2luPWEsbi5ob2xkPWQsbi5iaXRzPWwsQzModCxoKSxzPXQubmV4dF9vdXQscj10Lm91dHB1dCxjPXQuYXZhaWxfb3V0LG89dC5uZXh0X2luLGk9dC5pbnB1dCxhPXQuYXZhaWxfaW4sZD1uLmhvbGQsbD1uLmJpdHMsbi5tb2RlPT09Q3ImJihuLmJhY2s9LTEpO2JyZWFrfWZvcihuLmJhY2s9MDtCPW4ubGVuY29kZVtkJigxPDxuLmxlbmJpdHMpLTFdLGY9Qj4+PjI0LFM9Qj4+PjE2JjI1NSxDPTY1NTM1JkIsIShmPD1sKTspe2lmKGE9PT0wKWJyZWFrIHQ7YS0tLGQrPWlbbysrXTw8bCxsKz04O31pZihTJiYhKDI0MCZTKSl7Zm9yKEE9ZixiPVMsdz1DO0I9bi5sZW5jb2RlW3crKChkJigxPDxBK2IpLTEpPj5BKV0sZj1CPj4+MjQsUz1CPj4+MTYmMjU1LEM9NjU1MzUmQiwhKEErZjw9bCk7KXtpZihhPT09MClicmVhayB0O2EtLSxkKz1pW28rK108PGwsbCs9ODt9ZD4+Pj1BLGwtPUEsbi5iYWNrKz1BO31pZihkPj4+PWYsbC09ZixuLmJhY2srPWYsbi5sZW5ndGg9QyxTPT09MCl7bi5tb2RlPTE2MjA1O2JyZWFrfWlmKDMyJlMpe24uYmFjaz0tMSxuLm1vZGU9Q3I7YnJlYWt9aWYoNjQmUyl7dC5tc2c9XCJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGVcIixuLm1vZGU9YmU7YnJlYWt9bi5leHRyYT0xNSZTLG4ubW9kZT0xNjIwMTtjYXNlIDE2MjAxOmlmKG4uZXh0cmEpe2ZvcihsdD1uLmV4dHJhO2w8bHQ7KXtpZihhPT09MClicmVhayB0O2EtLSxkKz1pW28rK108PGwsbCs9ODt9bi5sZW5ndGgrPWQmKDE8PG4uZXh0cmEpLTEsZD4+Pj1uLmV4dHJhLGwtPW4uZXh0cmEsbi5iYWNrKz1uLmV4dHJhO31uLndhcz1uLmxlbmd0aCxuLm1vZGU9MTYyMDI7Y2FzZSAxNjIwMjpmb3IoO0I9bi5kaXN0Y29kZVtkJigxPDxuLmRpc3RiaXRzKS0xXSxmPUI+Pj4yNCxTPUI+Pj4xNiYyNTUsQz02NTUzNSZCLCEoZjw9bCk7KXtpZihhPT09MClicmVhayB0O2EtLSxkKz1pW28rK108PGwsbCs9ODt9aWYoISgyNDAmUykpe2ZvcihBPWYsYj1TLHc9QztCPW4uZGlzdGNvZGVbdysoKGQmKDE8PEErYiktMSk+PkEpXSxmPUI+Pj4yNCxTPUI+Pj4xNiYyNTUsQz02NTUzNSZCLCEoQStmPD1sKTspe2lmKGE9PT0wKWJyZWFrIHQ7YS0tLGQrPWlbbysrXTw8bCxsKz04O31kPj4+PUEsbC09QSxuLmJhY2srPUE7fWlmKGQ+Pj49ZixsLT1mLG4uYmFjays9Ziw2NCZTKXt0Lm1zZz1cImludmFsaWQgZGlzdGFuY2UgY29kZVwiLG4ubW9kZT1iZTticmVha31uLm9mZnNldD1DLG4uZXh0cmE9MTUmUyxuLm1vZGU9MTYyMDM7Y2FzZSAxNjIwMzppZihuLmV4dHJhKXtmb3IobHQ9bi5leHRyYTtsPGx0Oyl7aWYoYT09PTApYnJlYWsgdDthLS0sZCs9aVtvKytdPDxsLGwrPTg7fW4ub2Zmc2V0Kz1kJigxPDxuLmV4dHJhKS0xLGQ+Pj49bi5leHRyYSxsLT1uLmV4dHJhLG4uYmFjays9bi5leHRyYTt9aWYobi5vZmZzZXQ+bi5kbWF4KXt0Lm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsbi5tb2RlPWJlO2JyZWFrfW4ubW9kZT0xNjIwNDtjYXNlIDE2MjA0OmlmKGM9PT0wKWJyZWFrIHQ7aWYocD1oLWMsbi5vZmZzZXQ+cCl7aWYocD1uLm9mZnNldC1wLHA+bi53aGF2ZSYmbi5zYW5lKXt0Lm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsbi5tb2RlPWJlO2JyZWFrfXA+bi53bmV4dD8ocC09bi53bmV4dCxnPW4ud3NpemUtcCk6Zz1uLnduZXh0LXAscD5uLmxlbmd0aCYmKHA9bi5sZW5ndGgpLEU9bi53aW5kb3c7fWVsc2UgRT1yLGc9cy1uLm9mZnNldCxwPW4ubGVuZ3RoO3A+YyYmKHA9YyksYy09cCxuLmxlbmd0aC09cDtkbyByW3MrK109RVtnKytdO3doaWxlKC0tcCk7bi5sZW5ndGg9PT0wJiYobi5tb2RlPWlsKTticmVhaztjYXNlIDE2MjA1OmlmKGM9PT0wKWJyZWFrIHQ7cltzKytdPW4ubGVuZ3RoLGMtLSxuLm1vZGU9aWw7YnJlYWs7Y2FzZSBrXzppZihuLndyYXApe2Zvcig7bDwzMjspe2lmKGE9PT0wKWJyZWFrIHQ7YS0tLGR8PWlbbysrXTw8bCxsKz04O31pZihoLT1jLHQudG90YWxfb3V0Kz1oLG4udG90YWwrPWgsNCZuLndyYXAmJmgmJih0LmFkbGVyPW4uY2hlY2s9ZW4obik/YW4obi5jaGVjayxyLGgscy1oKTpHYyhuLmNoZWNrLHIsaCxzLWgpKSxoPWMsNCZuLndyYXAmJihlbihuKT9kOmhBKGQpKSE9PW4uY2hlY2spe3QubXNnPVwiaW5jb3JyZWN0IGRhdGEgY2hlY2tcIixuLm1vZGU9YmU7YnJlYWt9ZD0wLGw9MDt9bi5tb2RlPTE2MjA3O2Nhc2UgMTYyMDc6aWYobi53cmFwJiZlbihuKSl7Zm9yKDtsPDMyOyl7aWYoYT09PTApYnJlYWsgdDthLS0sZCs9aVtvKytdPDxsLGwrPTg7fWlmKDQmbi53cmFwJiZkIT09KDQyOTQ5NjcyOTUmbi50b3RhbCkpe3QubXNnPVwiaW5jb3JyZWN0IGxlbmd0aCBjaGVja1wiLG4ubW9kZT1iZTticmVha31kPTAsbD0wO31uLm1vZGU9MTYyMDg7Y2FzZSAxNjIwODprPXczO2JyZWFrIHQ7Y2FzZSBiZTprPUowO2JyZWFrIHQ7Y2FzZSAxNjIxMDpyZXR1cm4gWDA7ZGVmYXVsdDpyZXR1cm4gQ2l9cmV0dXJuIHQubmV4dF9vdXQ9cyx0LmF2YWlsX291dD1jLHQubmV4dF9pbj1vLHQuYXZhaWxfaW49YSxuLmhvbGQ9ZCxuLmJpdHM9bCwobi53c2l6ZXx8aCE9PXQuYXZhaWxfb3V0JiZuLm1vZGU8YmUmJihuLm1vZGU8a198fGUhPT1sQSkpJiZ0Tih0LHQub3V0cHV0LHQubmV4dF9vdXQsaC10LmF2YWlsX291dCksdS09dC5hdmFpbF9pbixoLT10LmF2YWlsX291dCx0LnRvdGFsX2luKz11LHQudG90YWxfb3V0Kz1oLG4udG90YWwrPWgsNCZuLndyYXAmJmgmJih0LmFkbGVyPW4uY2hlY2s9ZW4obik/YW4obi5jaGVjayxyLGgsdC5uZXh0X291dC1oKTpHYyhuLmNoZWNrLHIsaCx0Lm5leHRfb3V0LWgpKSx0LmRhdGFfdHlwZT1uLmJpdHMrKG4ubGFzdD82NDowKSsobi5tb2RlPT09Q3I/MTI4OjApKyhuLm1vZGU9PT1ubHx8bi5tb2RlPT09UF8/MjU2OjApLCh1PT09MCYmaD09PTB8fGU9PT1sQSkmJms9PT1ZbyYmKGs9TjMpLGt9LE9yPXtpbmZsYXRlUmVzZXQ6WjAsaW5mbGF0ZVJlc2V0MjokMCxpbmZsYXRlUmVzZXRLZWVwOlEwLGluZmxhdGVJbml0OnQ9PnBBKHQsMTUpLGluZmxhdGVJbml0MjpwQSxpbmZsYXRlOmszLGluZmxhdGVFbmQ6dD0+e2lmKHFvKHQpKXJldHVybiBDaTtsZXQgZT10LnN0YXRlO3JldHVybiBlLndpbmRvdyYmKGUud2luZG93PW51bGwpLHQuc3RhdGU9bnVsbCxZb30saW5mbGF0ZUdldEhlYWRlcjoodCxlKT0+e2lmKHFvKHQpKXJldHVybiBDaTtsZXQgbj10LnN0YXRlO3JldHVybiAyJm4ud3JhcD8obi5oZWFkPWUsZS5kb25lPSExLFlvKTpDaX0saW5mbGF0ZVNldERpY3Rpb25hcnk6KHQsZSk9PntsZXQgbj1lLmxlbmd0aCxpLHIsbztyZXR1cm4gcW8odCk/Q2k6KGk9dC5zdGF0ZSxpLndyYXAhPT0wJiZpLm1vZGUhPT1JdT9DaTppLm1vZGU9PT1JdSYmKHI9MSxyPUdjKHIsZSxuLDApLHIhPT1pLmNoZWNrKT9KMDoobz10Tih0LGUsbixuKSxvPyhpLm1vZGU9MTYyMTAsWDApOihpLmhhdmVkaWN0PTEsWW8pKSl9LGluZmxhdGVJbmZvOlwicGFrbyBpbmZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KVwifSxMMz1mdW5jdGlvbigpe3RoaXMudGV4dD0wLHRoaXMudGltZT0wLHRoaXMueGZsYWdzPTAsdGhpcy5vcz0wLHRoaXMuZXh0cmE9bnVsbCx0aGlzLmV4dHJhX2xlbj0wLHRoaXMubmFtZT1cIlwiLHRoaXMuY29tbWVudD1cIlwiLHRoaXMuaGNyYz0wLHRoaXMuZG9uZT0hMTt9LGVOPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcse1pfTk9fRkxVU0g6TTMsWl9GSU5JU0g6VTMsWl9PSzptYyxaX1NUUkVBTV9FTkQ6VV8sWl9ORUVEX0RJQ1Q6eF8sWl9TVFJFQU1fRVJST1I6eDMsWl9EQVRBX0VSUk9SOkVBLFpfTUVNX0VSUk9SOlYzfT1SYTtmdW5jdGlvbiBmYyh0KXt0aGlzLm9wdGlvbnM9ZWguYXNzaWduKHtjaHVua1NpemU6NjU1MzYsd2luZG93Qml0czoxNSx0bzpcIlwifSx0fHx7fSk7bGV0IGU9dGhpcy5vcHRpb25zO2UucmF3JiZlLndpbmRvd0JpdHM+PTAmJmUud2luZG93Qml0czwxNiYmKGUud2luZG93Qml0cz0tZS53aW5kb3dCaXRzLGUud2luZG93Qml0cz09PTAmJihlLndpbmRvd0JpdHM9LTE1KSksIShlLndpbmRvd0JpdHM+PTAmJmUud2luZG93Qml0czwxNil8fHQmJnQud2luZG93Qml0c3x8KGUud2luZG93Qml0cys9MzIpLGUud2luZG93Qml0cz4xNSYmZS53aW5kb3dCaXRzPDQ4JiYhKDE1JmUud2luZG93Qml0cykmJihlLndpbmRvd0JpdHN8PTE1KSx0aGlzLmVycj0wLHRoaXMubXNnPVwiXCIsdGhpcy5lbmRlZD0hMSx0aGlzLmNodW5rcz1bXSx0aGlzLnN0cm09bmV3IHEwLHRoaXMuc3RybS5hdmFpbF9vdXQ9MDtsZXQgbj1Pci5pbmZsYXRlSW5pdDIodGhpcy5zdHJtLGUud2luZG93Qml0cyk7aWYobiE9PW1jKXRocm93IG5ldyBFcnJvcihab1tuXSk7aWYodGhpcy5oZWFkZXI9bmV3IEwzLE9yLmluZmxhdGVHZXRIZWFkZXIodGhpcy5zdHJtLHRoaXMuaGVhZGVyKSxlLmRpY3Rpb25hcnkmJih0eXBlb2YgZS5kaWN0aW9uYXJ5PT1cInN0cmluZ1wiP2UuZGljdGlvbmFyeT1LYy5zdHJpbmcyYnVmKGUuZGljdGlvbmFyeSk6ZU4uY2FsbChlLmRpY3Rpb25hcnkpPT09XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiJiYoZS5kaWN0aW9uYXJ5PW5ldyBVaW50OEFycmF5KGUuZGljdGlvbmFyeSkpLGUucmF3JiYobj1Pci5pbmZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0sZS5kaWN0aW9uYXJ5KSxuIT09bWMpKSl0aHJvdyBuZXcgRXJyb3IoWm9bbl0pfWZ1bmN0aW9uIFZfKHQsZSl7bGV0IG49bmV3IGZjKGUpO2lmKG4ucHVzaCh0KSxuLmVycil0aHJvdyBuLm1zZ3x8Wm9bbi5lcnJdO3JldHVybiBuLnJlc3VsdH1mYy5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUpe2xldCBuPXRoaXMuc3RybSxpPXRoaXMub3B0aW9ucy5jaHVua1NpemUscj10aGlzLm9wdGlvbnMuZGljdGlvbmFyeSxvLHMsYTtpZih0aGlzLmVuZGVkKXJldHVybiAhMTtmb3Iocz1lPT09fn5lP2U6ZT09PSEwP1UzOk0zLGVOLmNhbGwodCk9PT1cIltvYmplY3QgQXJyYXlCdWZmZXJdXCI/bi5pbnB1dD1uZXcgVWludDhBcnJheSh0KTpuLmlucHV0PXQsbi5uZXh0X2luPTAsbi5hdmFpbF9pbj1uLmlucHV0Lmxlbmd0aDs7KXtmb3Iobi5hdmFpbF9vdXQ9PT0wJiYobi5vdXRwdXQ9bmV3IFVpbnQ4QXJyYXkoaSksbi5uZXh0X291dD0wLG4uYXZhaWxfb3V0PWkpLG89T3IuaW5mbGF0ZShuLHMpLG89PT14XyYmciYmKG89T3IuaW5mbGF0ZVNldERpY3Rpb25hcnkobixyKSxvPT09bWM/bz1Pci5pbmZsYXRlKG4scyk6bz09PUVBJiYobz14XykpO24uYXZhaWxfaW4+MCYmbz09PVVfJiZuLnN0YXRlLndyYXA+MCYmdFtuLm5leHRfaW5dIT09MDspT3IuaW5mbGF0ZVJlc2V0KG4pLG89T3IuaW5mbGF0ZShuLHMpO3N3aXRjaChvKXtjYXNlIHgzOmNhc2UgRUE6Y2FzZSB4XzpjYXNlIFYzOnJldHVybiB0aGlzLm9uRW5kKG8pLHRoaXMuZW5kZWQ9ITAsITF9aWYoYT1uLmF2YWlsX291dCxuLm5leHRfb3V0JiYobi5hdmFpbF9vdXQ9PT0wfHxvPT09VV8pKWlmKHRoaXMub3B0aW9ucy50bz09PVwic3RyaW5nXCIpe2xldCBjPUtjLnV0Zjhib3JkZXIobi5vdXRwdXQsbi5uZXh0X291dCksZD1uLm5leHRfb3V0LWMsbD1LYy5idWYyc3RyaW5nKG4ub3V0cHV0LGMpO24ubmV4dF9vdXQ9ZCxuLmF2YWlsX291dD1pLWQsZCYmbi5vdXRwdXQuc2V0KG4ub3V0cHV0LnN1YmFycmF5KGMsYytkKSwwKSx0aGlzLm9uRGF0YShsKTt9ZWxzZSB0aGlzLm9uRGF0YShuLm91dHB1dC5sZW5ndGg9PT1uLm5leHRfb3V0P24ub3V0cHV0Om4ub3V0cHV0LnN1YmFycmF5KDAsbi5uZXh0X291dCkpO2lmKG8hPT1tY3x8YSE9PTApe2lmKG89PT1VXylyZXR1cm4gbz1Pci5pbmZsYXRlRW5kKHRoaXMuc3RybSksdGhpcy5vbkVuZChvKSx0aGlzLmVuZGVkPSEwLCEwO2lmKG4uYXZhaWxfaW49PT0wKWJyZWFrfX1yZXR1cm4gITB9LGZjLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24odCl7dGhpcy5jaHVua3MucHVzaCh0KTt9LGZjLnByb3RvdHlwZS5vbkVuZD1mdW5jdGlvbih0KXt0PT09bWMmJih0aGlzLm9wdGlvbnMudG89PT1cInN0cmluZ1wiP3RoaXMucmVzdWx0PXRoaXMuY2h1bmtzLmpvaW4oXCJcIik6dGhpcy5yZXN1bHQ9ZWguZmxhdHRlbkNodW5rcyh0aGlzLmNodW5rcykpLHRoaXMuY2h1bmtzPVtdLHRoaXMuZXJyPXQsdGhpcy5tc2c9dGhpcy5zdHJtLm1zZzt9O3ZhciBGMz17SW5mbGF0ZTpmYyxpbmZsYXRlOlZfLGluZmxhdGVSYXc6ZnVuY3Rpb24odCxlKXtyZXR1cm4gKGU9ZXx8e30pLnJhdz0hMCxWXyh0LGUpfSx1bmd6aXA6Vl8sY29uc3RhbnRzOlJhfSx7RGVmbGF0ZTokSCxkZWZsYXRlOkIzLGRlZmxhdGVSYXc6dDUsZ3ppcDplNX09UjMse0luZmxhdGU6bjUsaW5mbGF0ZTpqMyxpbmZsYXRlUmF3Omk1LHVuZ3ppcDpyNX09RjMsRzM9QjMsVzM9ajMsbk49ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5PTkVfQllURT0wXT1cIk9ORV9CWVRFXCIsdFt0LlRXT19CWVRFPTFdPVwiVFdPX0JZVEVcIix0fShuTnx8e30pLGdtPWNsYXNze2NvbnN0cnVjdG9yKCl7VCh0aGlzLFwiX3NlcXVlbmNlXCIsMCksVCh0aGlzLFwiX3N0YXJ0VGltZVwiLERhdGUubm93KCkpLFQodGhpcyxcImlzVXNlT25lQnl0ZVwiLCEwKTt9Z2V0IHN0YXJ0VGltZSgpe2xldCBlPURhdGUubm93KCktdGhpcy5fc3RhcnRUaW1lO3JldHVybiBlPE1hdGgucG93KDIsMTYpP2U6KHRoaXMuX3N0YXJ0VGltZSs9TWF0aC5wb3coMiwxNiksdGhpcy5zdGFydFRpbWUpfWdldCBzZXF1ZW5jZSgpe3JldHVybiB0aGlzLl9zZXF1ZW5jZTxNYXRoLnBvdygyLDMyKT90aGlzLl9zZXF1ZW5jZSsrOih0aGlzLl9zZXF1ZW5jZS09TWF0aC5wb3coMiwzMiksdGhpcy5zZXF1ZW5jZSl9c2VyaWFsaXplKGUpe2xldCBuPXtjb21tb25QYWNrZXRIZWFkZXI6e2xlbmd0aDowLHJlc2VydmVkOjAsZXh0ZW5zaW9uOjAsc2VxdWVuY2U6dGhpcy5zZXF1ZW5jZX0sY29tbW9uU3RyZWFtSGVhZGVyOnRoaXMuc3RhcnRUaW1lLGV4dGVuc2lvbjp2b2lkIDAscGF5bG9hZDplfTtpZihlLmJ5dGVMZW5ndGg+MTI4KXtsZXQgYT1uZXcgVWludDhBcnJheSg0KTthLnNldChbMSwwLDAsMF0pO2xldCBjPXtpZDowLGxlbmd0aDo0LGRhdGE6YS5idWZmZXJ9LGQ9e3Byb2ZpbGU6dGhpcy5pc1VzZU9uZUJ5dGU/MDoxLGxlbmd0aDp0aGlzLmlzVXNlT25lQnl0ZT81OjYsZGF0YXM6W2NdfTtuLmNvbW1vblBhY2tldEhlYWRlci5leHRlbnNpb249MSxuLmV4dGVuc2lvbj1kLG4ucGF5bG9hZD10aGlzLmNvbXByZXNzKGUpLG4uY29tbW9uUGFja2V0SGVhZGVyLmxlbmd0aD04KyhuLmV4dGVuc2lvbi5sZW5ndGgrMikrbi5wYXlsb2FkLmJ5dGVMZW5ndGg7fWVsc2Ugbi5jb21tb25QYWNrZXRIZWFkZXIubGVuZ3RoPTgrbi5wYXlsb2FkLmJ5dGVMZW5ndGg7dihcIlNIT1dfREFUQVNUUkVBTTJfTE9HXCIpJiZfLmRlYnVnKFwic2VuZCBkYXRhIGhlYWRlcjogXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KG4uY29tbW9uUGFja2V0SGVhZGVyKSkpO2xldCBpPW5ldyBBcnJheUJ1ZmZlcihuLmNvbW1vblBhY2tldEhlYWRlci5sZW5ndGgpLHI9bmV3IFVpbnQ4QXJyYXkoaSksbz1uZXcgRGF0YVZpZXcoaSkscz0wO2lmKG8uc2V0VWludDE2KHMsbi5jb21tb25QYWNrZXRIZWFkZXIuZXh0ZW5zaW9uPDwxNXxuLmNvbW1vblBhY2tldEhlYWRlci5yZXNlcnZlZDw8MTR8bi5jb21tb25QYWNrZXRIZWFkZXIubGVuZ3RoLCEwKSxzKz0yLG8uc2V0VWludDMyKHMsbi5jb21tb25QYWNrZXRIZWFkZXIuc2VxdWVuY2UsITApLHMrPTQsby5zZXRVaW50MTYocyxuLmNvbW1vblN0cmVhbUhlYWRlciwhMCkscys9MixuLmV4dGVuc2lvbil7bGV0IGE9dGhpcy5zZXJpYWxpemVFeHRlbnNpb24obi5leHRlbnNpb24pO3Iuc2V0KG5ldyBVaW50OEFycmF5KGEpLHMpLHMrPWEuYnl0ZUxlbmd0aDt9aWYoci5zZXQobmV3IFVpbnQ4QXJyYXkobi5wYXlsb2FkKSxzKSxzKz1uLnBheWxvYWQuYnl0ZUxlbmd0aCxzIT09bi5jb21tb25QYWNrZXRIZWFkZXIubGVuZ3RoKXRocm93IEVycm9yKFwic2VyaWFsaXplIGVycm9yIVwiKTtyZXR1cm4gaX1kZXNlcmlhbGl6ZShlKXtpZihlLmJ5dGVMZW5ndGg8NClyZXR1cm4gbmV3IEFycmF5QnVmZmVyKDApO2xldCBuPW5ldyBEYXRhVmlldyhlKSxpPTAscj1uLmdldFVpbnQxNihpLCEwKTtpKz0yO2xldCBvPXtsZW5ndGg6MTYzODMmcixyZXNlcnZlZDooMTYzODQmcik+PjE0LGV4dGVuc2lvbjooMzI3Njgmcik+PjE1LHNlcXVlbmNlOm4uZ2V0VWludDE2KGkrMiwhMCk8PDE2fG4uZ2V0VWludDE2KGksITApfSxzLGE7aWYoaSs9NCx2KFwiU0hPV19EQVRBU1RSRUFNMl9MT0dcIikmJl8uZGVidWcoXCJyZWNlaXZlIGRhdGEgaGVhZGVyOiBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkobykpKSxuLmdldFVpbnQxNihpLCEwKSxpKz0yLG8uZXh0ZW5zaW9uKXthPXRoaXMuZGVzZXJpYWxpemVFeHRlbnNpb24oZS5zbGljZShpKSksaSs9MithLmxlbmd0aCxzPWUuc2xpY2UoaSk7bGV0IGM9ITE7aWYoYS5kYXRhcy5sZW5ndGg+MCl7bGV0IGQ9YS5kYXRhcy5maW5kKGw9PmwuaWQ9PT0wKTtkJiYoYz0oMSZuZXcgRGF0YVZpZXcoZC5kYXRhKS5nZXRVaW50MzIoMCwhMCkpPT0xKTt9cz1jP3RoaXMuZGVjb21wcmVzcyhzKTpzO31lbHNlIHM9ZS5zbGljZSg4KTtyZXR1cm4gc31zZXJpYWxpemVFeHRlbnNpb24oZSl7bGV0e3Byb2ZpbGU6bixsZW5ndGg6aSxkYXRhczpyfT1lLG89bmV3IEFycmF5QnVmZmVyKGkrMikscz1uZXcgVWludDhBcnJheShvKSxhPW5ldyBEYXRhVmlldyhvKSxjPTA7aWYoYS5zZXRVaW50OChjKyssbiksYS5zZXRVaW50OChjKyssaSksci5mb3JFYWNoKGQ9PntuPyhhLnNldFVpbnQ4KGMrKyxkLmlkKSxhLnNldFVpbnQ4KGMrKyxkLmxlbmd0aCkscy5zZXQobmV3IFVpbnQ4QXJyYXkoZC5kYXRhKSxjKSxjKz1kLmRhdGEuYnl0ZUxlbmd0aCk6KGEuc2V0VWludDgoYysrLGQuaWR8ZC5sZW5ndGg8PDQpLHMuc2V0KG5ldyBVaW50OEFycmF5KGQuZGF0YSksYyksYys9ZC5kYXRhLmJ5dGVMZW5ndGgpO30pLGMhPT1pKzIpdGhyb3cgRXJyb3IoXCJzZXJpYWxpemUgZXh0ZW5zaW9uIGVycm9yLCBpcyBcIi5jb25jYXQoYyxcIiE9PVwiKS5jb25jYXQoaSsyKSk7cmV0dXJuIG99ZGVzZXJpYWxpemVFeHRlbnNpb24oZSl7bGV0IG49bmV3IERhdGFWaWV3KGUpLGk9MCxyPW4uZ2V0VWludDgoaSk7aSsrO2xldCBvPW4uZ2V0VWludDgoaSk7aSsrO2xldCBzPXI9PT1uTi5UV09fQllURSxhPVtdLGM9bmV3IERhdGFWaWV3KGUsMiksZD0wO2Zvcig7ZDxvOyl7bGV0IGw9MCx1PTAsaD1uZXcgQXJyYXlCdWZmZXIoMCk7cz8obD1jLmdldFVpbnQ4KGQpLGQrKyx1PWMuZ2V0VWludDgoZCksZCsrKToobD0xNSZjLmdldFVpbnQ4KGQpLHU9Yy5nZXRVaW50OChkKT4+NCxkKyspLHU+MCYmKGg9Yy5idWZmZXIuc2xpY2UoZCsyLGQrMit1KSxkKz1oLmJ5dGVMZW5ndGgpLGEucHVzaCh7aWQ6bCxsZW5ndGg6dSxkYXRhOmh9KTt9aWYoZCE9PW8pdGhyb3cgRXJyb3IoXCJwYXJzZSBlcnJvclwiKTtyZXR1cm4ge3Byb2ZpbGU6cixsZW5ndGg6byxkYXRhczphfX1kZWNvbXByZXNzKGUpe3JldHVybiBXMyhuZXcgVWludDhBcnJheShlKSl9Y29tcHJlc3MoZSl7cmV0dXJuIEczKG5ldyBVaW50OEFycmF5KGUpKX19LEgzPXtuYW1lOlwiRGF0YVN0cmVhbVwiLGNyZWF0ZToodCxlKT0+e2xldCBuPWU/bmV3IFFFKHQpOm5ldyBaRSh0KTtyZXR1cm4gbi51c2VEYXRhU3RyZWFtKG5ldyBnbSksbn19LFRtPWNsYXNzIGV4dGVuZHMgWHR7Y29uc3RydWN0b3IoZSxuLGkpe3N1cGVyKCksVCh0aGlzLFwid3NcIix2b2lkIDApLFQodGhpcyxcInJlcXVlc3RJZFwiLDEpLFQodGhpcyxcImhlYXJ0QmVhdFRpbWVyXCIsdm9pZCAwKSxUKHRoaXMsXCJqb2luSW5mb1wiLHZvaWQgMCksVCh0aGlzLFwiY2xpZW50SWRcIix2b2lkIDApLFQodGhpcyxcIm9uT3BlblwiLCgpPT57dGhpcy5lbWl0KFwib3BlblwiKSx0aGlzLnN0YXJ0SGVhcnRCZWF0Q2hlY2soKTt9KSxUKHRoaXMsXCJvbkNsb3NlXCIscj0+e3RoaXMuZW1pdChcImNsb3NlXCIpLHRoaXMuZGlzcG9zZSgpO30pLFQodGhpcyxcIm9uTWVzc2FnZVwiLHI9PntsZXQgbz1KU09OLnBhcnNlKHIuZGF0YSk7aWYoIW98fG8uY29tbWFuZCE9PVwic2VydmVyUmVzcG9uc2VcInx8IW8ucmVxdWVzdElkKXJldHVybiBvJiZvLmNvbW1hbmQ9PT1cInNlcnZlclN0YXR1c1wiJiZvLnNlcnZlclN0YXR1cyYmby5zZXJ2ZXJTdGF0dXMuY29tbWFuZD8odGhpcy5lbWl0KFwic3RhdHVzXCIsby5zZXJ2ZXJTdGF0dXMpLHZvaWQgdGhpcy5lbWl0KG8uc2VydmVyU3RhdHVzLmNvbW1hbmQsby5zZXJ2ZXJTdGF0dXMpKTp2b2lkIDA7dGhpcy5lbWl0KFwicmVxX1wiLmNvbmNhdChvLnJlcXVlc3RJZCksbyk7fSksdGhpcy5qb2luSW5mbz1lLHRoaXMuY2xpZW50SWQ9bix0aGlzLndzPW5ldyBRbyhcImNyb3NzLWNoYW5uZWwtXCIuY29uY2F0KHRoaXMuY2xpZW50SWQpLGkpLHRoaXMud3Mub24oaXQuUkVDT05ORUNUSU5HLCgpPT57dGhpcy53cy5yZWNvbm5lY3RNb2RlPVwicmV0cnlcIix0aGlzLmVtaXQoXCJyZWNvbm5lY3RpbmdcIik7fSksdGhpcy53cy5vbihpdC5DT05ORUNURUQsdGhpcy5vbk9wZW4pLHRoaXMud3Mub24oaXQuT05fTUVTU0FHRSx0aGlzLm9uTWVzc2FnZSksdGhpcy53cy5vbihpdC5DTE9TRUQsdGhpcy5vbkNsb3NlKTt9aXNDb25uZWN0KCl7cmV0dXJuIHRoaXMud3Muc3RhdGU9PT1cImNvbm5lY3RlZFwifXNlbmRNZXNzYWdlKGUpe2xldCBuPXRoaXMucmVxdWVzdElkKys7cmV0dXJuIGUucmVxdWVzdElkPW4sZS5zZXE9bix0aGlzLndzLnNlbmRNZXNzYWdlKGUpLG59d2FpdFN0YXR1cyhlKXtyZXR1cm4gbmV3IGooKG4saSk9PntsZXQgcj13aW5kb3cuc2V0VGltZW91dCgoKT0+e2kobmV3IE8oUi5USU1FT1VULFwid2FpdCBzdGF0dXMgdGltZW91dCwgc3RhdHVzOiBcIi5jb25jYXQoZSkpKTt9LDVlMyk7dGhpcy5vbmNlKGUsbz0+e3dpbmRvdy5jbGVhclRpbWVvdXQociksby5zdGF0ZSYmby5zdGF0ZSE9PTA/aShuZXcgTyhSLkNST1NTX0NIQU5ORUxfV0FJVF9TVEFUVVNfRVJST1IsXCJ3YWl0IHN0YXR1cyBlcnJvciwgc3RhdHVzOiBcIi5jb25jYXQoZSkpKTpuKHZvaWQgMCk7fSksdGhpcy5vbmNlKFwiZGlzcG9zZVwiLCgpPT57d2luZG93LmNsZWFyVGltZW91dChyKSxpKG5ldyBPKFIuV1NfQUJPUlQpKTt9KTt9KX1hc3luYyByZXF1ZXN0KGUpe2lmKHRoaXMud3Muc3RhdGU9PT1cImNsb3NlZFwiKXRocm93IG5ldyBPKFIuV1NfRElTQ09OTkVDVCk7bGV0IG49KCk9Pm5ldyBqKChzLGEpPT57dGhpcy53cy5vbmNlKGl0LkNMT1NFRCwoKT0+YShuZXcgTyhSLldTX0FCT1JUKSkpLHRoaXMud3Mub25jZShpdC5DT05ORUNURUQscyk7fSk7dGhpcy53cy5zdGF0ZSE9PVwiY29ubmVjdGVkXCImJmF3YWl0IG4oKTtsZXQgaT10aGlzLnNlbmRNZXNzYWdlKGUpLHI9bmV3IGooKHMsYSk9PntsZXQgYz0oKT0+e2EobmV3IE8oUi5XU19BQk9SVCkpO307dGhpcy53cy5vbmNlKGl0LlJFQ09OTkVDVElORyxjKSx0aGlzLndzLm9uY2UoaXQuQ0xPU0VELGMpLHRoaXMub25jZShcInJlcV9cIi5jb25jYXQoaSkscyksTWUoM2UzKS50aGVuKCgpPT57dGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJyZXFfXCIuY29uY2F0KGkpKSx0aGlzLndzLm9mZihpdC5SRUNPTk5FQ1RJTkcsYyksdGhpcy53cy5vZmYoaXQuQ0xPU0VELGMpLGEobmV3IE8oUi5USU1FT1VULFwiY3Jvc3MgY2hhbm5lbCB3cyByZXF1ZXN0IHRpbWVvdXRcIikpO30pO30pLG89YXdhaXQgcjtpZighb3x8by5jb2RlIT09MjAwKXRocm93IG5ldyBPKFIuQ1JPU1NfQ0hBTk5FTF9TRVJWRVJfRVJST1JfUkVTUE9OU0UsXCJyZXNwb25zZTogXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KG8pKSk7cmV0dXJuIG99YXN5bmMgY29ubmVjdChlKXt0aGlzLndzLnJlbW92ZUFsbExpc3RlbmVycyhpdC5SRVFVRVNUX05FV19VUkxTKSx0aGlzLndzLm9uKGl0LlJFUVVFU1RfTkVXX1VSTFMsbj0+e24oZSk7fSksYXdhaXQgdGhpcy53cy5pbml0KGUpO31kaXNwb3NlKCl7dGhpcy5jbGVhckhlYXJ0QmVhdENoZWNrKCksdGhpcy5lbWl0KFwiZGlzcG9zZVwiKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMud3MuY2xvc2UoKTt9c2VuZFBpbmcoZSl7bGV0IG49dGhpcy5yZXF1ZXN0SWQrKztyZXR1cm4gZS5yZXF1ZXN0SWQ9bix0aGlzLndzLnNlbmRNZXNzYWdlKGUpLG59c3RhcnRIZWFydEJlYXRDaGVjaygpe3RoaXMuaGVhcnRCZWF0VGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaGVhcnRCZWF0VGltZXIpLHRoaXMuaGVhcnRCZWF0VGltZXI9d2luZG93LnNldEludGVydmFsKCgpPT57dGhpcy5zZW5kUGluZyh7Y29tbWFuZDpcInBpbmdcIixhcHBJZDp0aGlzLmpvaW5JbmZvLmFwcElkLGNuYW1lOnRoaXMuam9pbkluZm8uY25hbWUsdWlkOnRoaXMuam9pbkluZm8udWlkLnRvU3RyaW5nKCksc2lkOnRoaXMuam9pbkluZm8uc2lkLHRzOituZXcgRGF0ZSxyZXF1ZXN0SWQ6MH0pO30sM2UzKTt9Y2xlYXJIZWFydEJlYXRDaGVjaygpe3dpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaGVhcnRCZWF0VGltZXIpLHRoaXMuaGVhcnRCZWF0VGltZXI9dm9pZCAwO319LFNtPWNsYXNzIGV4dGVuZHMgWHR7c2V0IHN0YXRlKGUpe2UhPT10aGlzLl9zdGF0ZSYmKGUhPT1Tbi5SRUxBWV9TVEFURV9GQUlMVVJFJiYodGhpcy5lcnJvckNvZGU9eXMuUkVMQVlfT0spLHRoaXMuZW1pdChcInN0YXRlXCIsZSx0aGlzLmVycm9yQ29kZSksdGhpcy5fc3RhdGU9ZSk7fWdldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1jb25zdHJ1Y3RvcihlLG4saSxyLG8pe3N1cGVyKCksVCh0aGlzLFwiam9pbkluZm9cIix2b2lkIDApLFQodGhpcyxcInNpZFwiLHZvaWQgMCksVCh0aGlzLFwiY2xpZW50SWRcIix2b2lkIDApLFQodGhpcyxcImNhbmNlbFRva2VuXCIsbW4uQ2FuY2VsVG9rZW4uc291cmNlKCkpLFQodGhpcyxcIndvcmtlclRva2VuXCIsdm9pZCAwKSxUKHRoaXMsXCJyZXF1ZXN0SWRcIiwwKSxUKHRoaXMsXCJzaWduYWxcIix2b2lkIDApLFQodGhpcyxcInByZXZDaGFubmVsTWVkaWFDb25maWdcIix2b2lkIDApLFQodGhpcyxcImh0dHBSZXRyeUNvbmZpZ1wiLHZvaWQgMCksVCh0aGlzLFwiX3Jlc29sdXRpb25cIix2b2lkIDApLFQodGhpcyxcIl9zdGF0ZVwiLFNuLlJFTEFZX1NUQVRFX0lETEUpLFQodGhpcyxcImVycm9yQ29kZVwiLHlzLlJFTEFZX09LKSxUKHRoaXMsXCJvblN0YXR1c1wiLHM9PntfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBDaGFubmVsTWVkaWFTdGF0dXM6IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkocykpKSxzJiZzLmNvbW1hbmQmJihzLmNvbW1hbmQ9PT1cIm9uQXVkaW9QYWNrZXRSZWNlaXZlZFwiJiZ0aGlzLmVtaXQoXCJldmVudFwiLElyLlBBQ0tFVF9SRUNFSVZFRF9BVURJT19GUk9NX1NSQykscy5jb21tYW5kPT09XCJvblZpZGVvUGFja2V0UmVjZWl2ZWRcIiYmdGhpcy5lbWl0KFwiZXZlbnRcIixJci5QQUNLRVRfUkVDRUlWRURfVklERU9fRlJPTV9TUkMpLHMuY29tbWFuZD09PVwib25TcmNUb2tlblByaXZpbGVnZURpZEV4cGlyZVwiJiYodGhpcy5lcnJvckNvZGU9eXMuU1JDX1RPS0VOX0VYUElSRUQsdGhpcy5zdGF0ZT1Tbi5SRUxBWV9TVEFURV9GQUlMVVJFKSxzLmNvbW1hbmQ9PT1cIm9uRGVzdFRva2VuUHJpdmlsZWdlRGlkRXhwaXJlXCImJih0aGlzLmVycm9yQ29kZT15cy5ERVNUX1RPS0VOX0VYUElSRUQsdGhpcy5zdGF0ZT1Tbi5SRUxBWV9TVEFURV9GQUlMVVJFKSk7fSksVCh0aGlzLFwib25SZWNvbm5lY3RcIixhc3luYygpPT57Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gQ2hhbm5lbE1lZGlhU29ja2V0IGRpc2Nvbm5lY3QsIHJlY29ubmVjdGluZ1wiKSksdGhpcy5lbWl0KFwiZXZlbnRcIixJci5ORVRXT1JLX0RJU0NPTk5FQ1RFRCksdGhpcy5zdGF0ZT1Tbi5SRUxBWV9TVEFURV9JRExFLHRoaXMucHJldkNoYW5uZWxNZWRpYUNvbmZpZyYmdGhpcy5zZW5kU3RhcnRSZWxheU1lc3NhZ2UodGhpcy5wcmV2Q2hhbm5lbE1lZGlhQ29uZmlnKS5jYXRjaChzPT57dGhpcy5zdGF0ZSE9PVNuLlJFTEFZX1NUQVRFX0lETEUmJihfLmVycm9yKFwiYXV0byByZXN0YXJ0IGNoYW5uZWwgbWVkaWEgcmVsYXkgZmFpbGVkXCIscy50b1N0cmluZygpKSx0aGlzLmVycm9yQ29kZT15cy5TRVJWRVJfQ09OTkVDVElPTl9MT1NULHRoaXMuc3RhdGU9U24uUkVMQVlfU1RBVEVfRkFJTFVSRSk7fSk7fSksdGhpcy5qb2luSW5mbz1lLHRoaXMuY2xpZW50SWQ9bix0aGlzLnNpZD1NcygpLHRoaXMuc2lnbmFsPW5ldyBUbSh0aGlzLmpvaW5JbmZvLHRoaXMuY2xpZW50SWQsaSksdGhpcy5odHRwUmV0cnlDb25maWc9cix0aGlzLl9yZXNvbHV0aW9uPW87fWFzeW5jIHN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXkoZSl7aWYodGhpcy5zdGF0ZSE9PVNuLlJFTEFZX1NUQVRFX0lETEUpdGhyb3cgbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTik7dGhpcy5zdGF0ZT1Tbi5SRUxBWV9TVEFURV9DT05ORUNUSU5HLGF3YWl0IHRoaXMuY29ubmVjdCgpLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXk6IGNvbm5lY3Qgc3VjY2Vzc1wiKSk7dHJ5e2F3YWl0IHRoaXMuc2VuZFN0YXJ0UmVsYXlNZXNzYWdlKGUpO31jYXRjaChuKXt0aHJvdyBuLmRhdGEmJm4uZGF0YS5zZXJ2ZXJSZXNwb25zZSYmbi5kYXRhLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQ9PT1cIlNldFNvdXJjZUNoYW5uZWxcIj9uZXcgTyhSLkNST1NTX0NIQU5ORUxfRkFJTEVEX0pPSU5fU1JDKTpuLmRhdGEmJm4uZGF0YS5zZXJ2ZXJSZXNwb25zZSYmbi5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kPT09XCJTZXREZXN0Q2hhbm5lbFN0YXR1c1wiP25ldyBPKFIuQ1JPU1NfQ0hBTk5FTF9GQUlMRURfSk9JTl9ERVNUKTpuLmRhdGEmJm4uZGF0YS5zZXJ2ZXJSZXNwb25zZSYmbi5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kPT09XCJTdGFydFBhY2tldFRyYW5zZmVyXCI/bmV3IE8oUi5DUk9TU19DSEFOTkVMX0ZBSUxFRF9QQUNLRVRfU0VOVF9UT19ERVNUKTpufXRoaXMucHJldkNoYW5uZWxNZWRpYUNvbmZpZz1lO31hc3luYyB1cGRhdGVDaGFubmVsTWVkaWFSZWxheShlKXtpZih0aGlzLnN0YXRlIT09U24uUkVMQVlfU1RBVEVfUlVOTklORyl0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OKTthd2FpdCB0aGlzLnNlbmRVcGRhdGVNZXNzYWdlKGUpLHRoaXMucHJldkNoYW5uZWxNZWRpYUNvbmZpZz1lO31hc3luYyBzZXRWaWRlb1Byb2ZpbGUoZSl7aWYodGhpcy5fcmVzb2x1dGlvbj1lLHRoaXMuc3RhdGUhPT1Tbi5SRUxBWV9TVEFURV9SVU5OSU5HKXRocm93IG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04pO2xldCBuPXRoaXMuZ2VuTWVzc2FnZShzbi5TZXRWaWRlb1Byb2ZpbGUpO2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QobiksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogc2V0VmlkZW9Qcm9maWxlIHN1Y2Nlc3NcIikpO31hc3luYyBzdG9wQ2hhbm5lbE1lZGlhUmVsYXkoKXthd2FpdCB0aGlzLnNlbmRTdG9wUmVsYXlNZXNzYWdlKCksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RvcENoYW5uZWxNZWRpYVJlbGF5OiBzZW5kIHN0b3AgbWVzc2FnZSBzdWNjZXNzXCIpKSx0aGlzLnN0YXRlPVNuLlJFTEFZX1NUQVRFX0lETEUsdGhpcy5kaXNwb3NlKCk7fWRpc3Bvc2UoKXtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBkaXNwb3NlQ2hhbm5lbE1lZGlhUmVsYXlcIikpLHRoaXMuY2FuY2VsVG9rZW4uY2FuY2VsKCksdGhpcy5jYW5jZWxUb2tlbj1tbi5DYW5jZWxUb2tlbi5zb3VyY2UoKSx0aGlzLnN0YXRlPVNuLlJFTEFZX1NUQVRFX0lETEUsdGhpcy5lbWl0KFwiZGlzcG9zZVwiKSx0aGlzLnNpZ25hbC5kaXNwb3NlKCksdGhpcy5wcmV2Q2hhbm5lbE1lZGlhQ29uZmlnPXZvaWQgMDt9YXN5bmMgY29ubmVjdCgpe2xldCBlPWF3YWl0IHpHKHRoaXMuam9pbkluZm8sdGhpcy5jYW5jZWxUb2tlbi50b2tlbix0aGlzLmh0dHBSZXRyeUNvbmZpZyk7dGhpcy53b3JrZXJUb2tlbj1lLndvcmtlclRva2VuLGF3YWl0IHRoaXMuc2lnbmFsLmNvbm5lY3QoZS5hZGRyZXNzTGlzdCksdGhpcy5lbWl0KFwiZXZlbnRcIixJci5ORVRXT1JLX0NPTk5FQ1RFRCksdGhpcy5zaWduYWwub24oXCJzdGF0dXNcIix0aGlzLm9uU3RhdHVzKSx0aGlzLnNpZ25hbC5vbihcInJlY29ubmVjdGluZ1wiLHRoaXMub25SZWNvbm5lY3QpO31hc3luYyBzZW5kU3RhcnRSZWxheU1lc3NhZ2UoZSl7bGV0IG49dGhpcy5nZW5NZXNzYWdlKHNuLlN0b3BQYWNrZXRUcmFuc2Zlcik7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChuKSxhd2FpdCB0aGlzLnNpZ25hbC53YWl0U3RhdHVzKFwiTm9ybWFsIFF1aXRcIiksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU3RvcFBhY2tldFRyYW5zZmVyIHN1Y2Nlc3NcIikpO2xldCBpPXRoaXMuZ2VuTWVzc2FnZShzbi5TZXRTZGtQcm9maWxlLGUpO2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoaSksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU2V0U2RrUHJvZmlsZSBzdWNjZXNzXCIpKTtsZXQgcj10aGlzLmdlbk1lc3NhZ2Uoc24uU2V0U291cmNlQ2hhbm5lbCxlKTthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KHIpLGF3YWl0IHRoaXMuc2lnbmFsLndhaXRTdGF0dXMoXCJTZXRTb3VyY2VDaGFubmVsU3RhdHVzXCIpLHRoaXMuZW1pdChcImV2ZW50XCIsSXIuUEFDS0VUX0pPSU5FRF9TUkNfQ0hBTk5FTCksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU2V0U291cmNlQ2hhbm5lbCBzdWNjZXNzXCIpKTtsZXQgbz10aGlzLmdlbk1lc3NhZ2Uoc24uU2V0U291cmNlVXNlcklkLGUpO2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QobyksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU2V0U291cmNlVXNlcklkIHN1Y2Nlc3NcIikpO2xldCBzPXRoaXMuZ2VuTWVzc2FnZShzbi5TZXREZXN0Q2hhbm5lbCxlKTthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KHMpLGF3YWl0IHRoaXMuc2lnbmFsLndhaXRTdGF0dXMoXCJTZXREZXN0Q2hhbm5lbFN0YXR1c1wiKSx0aGlzLmVtaXQoXCJldmVudFwiLElyLlBBQ0tFVF9KT0lORURfREVTVF9DSEFOTkVMKSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBTZXREZXN0Q2hhbm5lbCBzdWNjZXNzXCIpKTtsZXQgYT10aGlzLmdlbk1lc3NhZ2Uoc24uU3RhcnRQYWNrZXRUcmFuc2ZlcixlKTthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGEpLHRoaXMuZW1pdChcImV2ZW50XCIsSXIuUEFDS0VUX1NFTlRfVE9fREVTVF9DSEFOTkVMKSx0aGlzLnN0YXRlPVNuLlJFTEFZX1NUQVRFX1JVTk5JTkcsXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU3RhcnRQYWNrZXRUcmFuc2ZlciBzdWNjZXNzXCIpKSx0aGlzLnNldFZpZGVvUHJvZmlsZSh0aGlzLl9yZXNvbHV0aW9uKTt9YXN5bmMgc2VuZFVwZGF0ZU1lc3NhZ2UoZSl7bGV0IG49dGhpcy5nZW5NZXNzYWdlKHNuLlVwZGF0ZURlc3RDaGFubmVsLGUpO2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QobiksdGhpcy5lbWl0KFwiZXZlbnRcIixJci5QQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTCksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc2VuZFVwZGF0ZU1lc3NhZ2U6IFVwZGF0ZURlc3RDaGFubmVsIHN1Y2Nlc3NcIikpO31hc3luYyBzZW5kU3RvcFJlbGF5TWVzc2FnZSgpe2xldCBlPXRoaXMuZ2VuTWVzc2FnZShzbi5TdG9wUGFja2V0VHJhbnNmZXIpO2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZSksXy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc2VuZFN0b3BSZWxheU1lc3NhZ2U6IFN0b3BQYWNrZXRUcmFuc2ZlciBzdWNjZXNzXCIpKTt9Z2VuTWVzc2FnZShlLG4pe2xldCBpPVtdLHI9W10sbz1bXTt0aGlzLnJlcXVlc3RJZCs9MTtsZXQgcz17YXBwSWQ6dGhpcy5qb2luSW5mby5hcHBJZCxjbmFtZTp0aGlzLmpvaW5JbmZvLmNuYW1lLHVpZDp0aGlzLmpvaW5JbmZvLnVpZC50b1N0cmluZygpLHNka1ZlcnNpb246aWksc2lkOnRoaXMuc2lkLHRzOkRhdGUubm93KCkscmVxdWVzdElkOnRoaXMucmVxdWVzdElkLHNlcTp0aGlzLnJlcXVlc3RJZCxhbGxvY2F0ZTohMCxjbGllbnRSZXF1ZXN0Ont9fTtzLnNka1ZlcnNpb249PT1cIjQuMjIuMFwiJiYocy5zZGtWZXJzaW9uPVwiMC4wLjFcIik7bGV0IGE9bnVsbCxjPW51bGw7c3dpdGNoKGUpe2Nhc2Ugc24uU2V0U2RrUHJvZmlsZTpyZXR1cm4gcy5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiU2V0U2RrUHJvZmlsZVwiLHR5cGU6XCJtdWx0aV9jaGFubmVsXCJ9LHM7Y2FzZSBzbi5TZXRTb3VyY2VDaGFubmVsOmlmKGM9biYmbi5nZXRTcmNDaGFubmVsTWVkaWFJbmZvKCksIWMpdGhyb3cgbmV3IE8oUi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHNvdXJjZSBjb25maWdcIik7cmV0dXJuIHMuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlNldFNvdXJjZUNoYW5uZWxcIix1aWQ6XCIwXCIsY2hhbm5lbE5hbWU6Yy5jaGFubmVsTmFtZSx0b2tlbjpjLnRva2VufHx0aGlzLmpvaW5JbmZvLmFwcElkfSxzO2Nhc2Ugc24uU2V0U291cmNlVXNlcklkOmlmKGM9biYmbi5nZXRTcmNDaGFubmVsTWVkaWFJbmZvKCksIWMpdGhyb3cgbmV3IE8oUi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHNvdXJjZSBjb25maWdcIik7cmV0dXJuIHMuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlNldFNvdXJjZVVzZXJJZFwiLHVpZDpjLnVpZCtcIlwifSxzO2Nhc2Ugc24uU2V0RGVzdENoYW5uZWw6aWYoYT1uJiZuLmdldERlc3RDaGFubmVsTWVkaWFJbmZvKCksIWEpdGhyb3cgbmV3IE8oUi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIGRlc3QgY29uZmlnXCIpO3JldHVybiBhLmZvckVhY2goZD0+e2kucHVzaChkLmNoYW5uZWxOYW1lKSxyLnB1c2goZC51aWQrXCJcIiksby5wdXNoKGQudG9rZW58fHRoaXMuam9pbkluZm8uYXBwSWQpO30pLHMuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlNldERlc3RDaGFubmVsXCIsY2hhbm5lbE5hbWU6aSx1aWQ6cix0b2tlbjpvfSxzO2Nhc2Ugc24uU3RhcnRQYWNrZXRUcmFuc2ZlcjpyZXR1cm4gcy5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiU3RhcnRQYWNrZXRUcmFuc2ZlclwifSxzO2Nhc2Ugc24uUmVjb25uZWN0OnJldHVybiBzLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJSZWNvbm5lY3RcIn0scztjYXNlIHNuLlN0b3BQYWNrZXRUcmFuc2ZlcjpyZXR1cm4gcy5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiU3RvcFBhY2tldFRyYW5zZmVyXCJ9LHM7Y2FzZSBzbi5VcGRhdGVEZXN0Q2hhbm5lbDppZihhPW4mJm4uZ2V0RGVzdENoYW5uZWxNZWRpYUluZm8oKSwhYSl0aHJvdyBuZXcgTyhSLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgZGVzdCBjb25maWdcIik7cmV0dXJuIGEuZm9yRWFjaChkPT57aS5wdXNoKGQuY2hhbm5lbE5hbWUpLHIucHVzaChkLnVpZCtcIlwiKSxvLnB1c2goZC50b2tlbnx8dGhpcy5qb2luSW5mby5hcHBJZCk7fSkscy5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiVXBkYXRlRGVzdENoYW5uZWxcIixjaGFubmVsTmFtZTppLHVpZDpyLHRva2VuOm99LHM7Y2FzZSBzbi5TZXRWaWRlb1Byb2ZpbGU6cy5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiU2V0VmlkZW9Qcm9maWxlXCIsd2lkdGg6dGhpcy5fcmVzb2x1dGlvbi53aWR0aCxoZWlnaHQ6dGhpcy5fcmVzb2x1dGlvbi5oZWlnaHR9O31yZXR1cm4gc319LEszPXtuYW1lOlwiQ2hhbm5lbE1lZGlhUmVsYXlcIixjcmVhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBTbSh0LmpvaW5JbmZvLHQuY2xpZW50SWQsdC53ZWJzb2NrZXRSZXRyeUNvbmZpZ3x8RWUsdC5odHRwUmV0cnlDb25maWd8fEVlLHQucmVzb2x1dGlvbil9fTtmdW5jdGlvbiBtQSh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiBHYSh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj9tQShPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6bUEoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9dmFyIFJtPWNsYXNzIGV4dGVuZHMgWHR7Y29uc3RydWN0b3IoZSxuLGkscil7c3VwZXIoKSxUKHRoaXMsXCJzcGVjXCIsdm9pZCAwKSxUKHRoaXMsXCJ0b2tlblwiLHZvaWQgMCksVCh0aGlzLFwid2Vic29ja2V0XCIsdm9pZCAwKSxUKHRoaXMsXCJwaW5ncG9uZ1RpbWVyXCIsdm9pZCAwKSxUKHRoaXMsXCJyZWNvbm5lY3RNb2RlXCIsXCJyZXRyeVwiKSxUKHRoaXMsXCJzZXJ2aWNlTW9kZVwiLHZvaWQgMCksVCh0aGlzLFwicmVxSWRcIiwwKSxUKHRoaXMsXCJjb21tYW5kUmVxSWRcIiwwKSxUKHRoaXMsXCJoYW5kbGVXZWJTb2NrZXRPcGVuXCIsKCk9Pnt0aGlzLnJlY29ubmVjdE1vZGU9XCJyZXRyeVwiLHRoaXMuc3RhcnRQaW5nUG9uZygpO30pLFQodGhpcyxcImhhbmRsZVdlYlNvY2tldE1lc3NhZ2VcIixvPT57aWYoIW8uZGF0YSlyZXR1cm47bGV0IHM9SlNPTi5wYXJzZShvLmRhdGEpO3MucmVxdWVzdElkP3RoaXMuZW1pdChcIkBcIi5jb25jYXQocy5yZXF1ZXN0SWQsXCItXCIpLmNvbmNhdChzLnNpZCkscyk6KFgud29ya2VyRXZlbnQodGhpcy5zcGVjLnNpZCx7YWN0aW9uVHlwZTpcInN0YXR1c1wiLHNlcnZlckNvZGU6cy5jb2RlLHdvcmtlclR5cGU6dGhpcy5zZXJ2aWNlTW9kZT09PWVyLlRSQU5TQ09ERT8xOjJ9KSx0aGlzLmVtaXQoWHIuUFVCTElTSF9TVFJFQU1fU1RBVFVTLHMpKTt9KSx0aGlzLnNwZWM9bix0aGlzLnRva2VuPWUsdGhpcy5zZXJ2aWNlTW9kZT1yLHRoaXMud2Vic29ja2V0PW5ldyBRbyhcImxpdmUtc3RyZWFtaW5nXCIsaSksdGhpcy53ZWJzb2NrZXQub24oaXQuQ09OTkVDVEVELHRoaXMuaGFuZGxlV2ViU29ja2V0T3BlbiksdGhpcy53ZWJzb2NrZXQub24oaXQuT05fTUVTU0FHRSx0aGlzLmhhbmRsZVdlYlNvY2tldE1lc3NhZ2UpLHRoaXMud2Vic29ja2V0Lm9uKGl0LlJFUVVFU1RfTkVXX1VSTFMsKG8scyk9PntHZSh0aGlzLFhyLlJFUVVFU1RfTkVXX0FERFJFU1MpLnRoZW4obykuY2F0Y2gocyk7fSksdGhpcy53ZWJzb2NrZXQub24oaXQuUkVDT05ORUNUSU5HLCgpPT57dGhpcy53ZWJzb2NrZXQucmVjb25uZWN0TW9kZT10aGlzLnJlY29ubmVjdE1vZGU7fSk7fWluaXQoZSl7cmV0dXJuIHRoaXMud2Vic29ja2V0LmluaXQoZSl9YXN5bmMgcmVxdWVzdChlLG4saSxyKXt0aGlzLnJlcUlkKz0xLGU9PT1cInJlcXVlc3RcIiYmKHRoaXMuY29tbWFuZFJlcUlkKz0xKTtsZXQgbz10aGlzLmNvbW1hbmRSZXFJZCxzPXRoaXMucmVxSWQ7aWYoIXN8fCF0aGlzLndlYnNvY2tldCl0aHJvdyBuZXcgTyhSLlVORVhQRUNURURfRVJST1IpO2xldCBhPUdhKHtjb21tYW5kOmUsc2RrVmVyc2lvbjppaT09PVwiNC4yMi4wXCI/XCIwLjAuMVwiOmlpLHNlcTpzLHJlcXVlc3RJZDpzLGFsbG9jYXRlOmksY25hbWU6dGhpcy5zcGVjLmNuYW1lLGFwcElkOnRoaXMuc3BlYy5hcHBJZCxzaWQ6dGhpcy5zcGVjLnNpZCx1aWQ6dGhpcy5zcGVjLnVpZC50b1N0cmluZygpLHRzOk1hdGguZmxvb3IoRGF0ZS5ub3coKS8xZTMpfSxuKTtpZih0aGlzLndlYnNvY2tldC5zdGF0ZT09PVwiY2xvc2VkXCIpdGhyb3cgbmV3IE8oUi5XU19ESVNDT05ORUNUKTtsZXQgYz0oKT0+bmV3IGooKGgscCk9Pnt0aGlzLndlYnNvY2tldC5vbmNlKGl0LkNMT1NFRCwoKT0+cChuZXcgTyhSLldTX0FCT1JUKSkpLHRoaXMud2Vic29ja2V0Lm9uY2UoaXQuQ09OTkVDVEVELGgpO30pO3RoaXMud2Vic29ja2V0LnN0YXRlIT09XCJjb25uZWN0ZWRcIiYmYXdhaXQgYygpLGEuY2xpZW50UmVxdWVzdCYmKGEuY2xpZW50UmVxdWVzdC53b3JrZXJUb2tlbj10aGlzLnRva2VuKTtsZXQgZD1uZXcgaigoaCxwKT0+e2xldCBnPSgpPT57cChuZXcgTyhSLldTX0FCT1JUKSk7fTt0aGlzLndlYnNvY2tldC5vbmNlKGl0LlJFQ09OTkVDVElORyxnKSx0aGlzLndlYnNvY2tldC5vbmNlKGl0LkNMT1NFRCxnKSx0aGlzLm9uY2UoXCJAXCIuY29uY2F0KHMsXCItXCIpLmNvbmNhdCh0aGlzLnNwZWMuc2lkKSxFPT57aChFKTt9KTt9KTtyJiZYLndvcmtlckV2ZW50KHRoaXMuc3BlYy5zaWQsR2EoR2Eoe30scikse30se3JlcXVlc3RJZDpvLGFjdGlvblR5cGU6XCJyZXF1ZXN0XCIscGF5bG9hZDpKU09OLnN0cmluZ2lmeShuLmNsaWVudFJlcXVlc3QpLHNlcnZlckNvZGU6MCxjb2RlOjB9KSk7bGV0IGw9RGF0ZS5ub3coKTt0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShhKTtsZXQgdT1udWxsO3RyeXt1PWF3YWl0IGQ7fWNhdGNoKGgpe2lmKHRoaXMud2Vic29ja2V0LnN0YXRlPT09XCJjbG9zZWRcIil0aHJvdyBoO3JldHVybiBhd2FpdCBjKCksYXdhaXQgdGhpcy5yZXF1ZXN0KGUsbixpKX1yZXR1cm4gciYmWC53b3JrZXJFdmVudCh0aGlzLnNwZWMuc2lkLEdhKEdhKHt9LHIpLHt9LHtyZXF1ZXN0SWQ6byxhY3Rpb25UeXBlOlwicmVzcG9uc2VcIixwYXlsb2FkOkpTT04uc3RyaW5naWZ5KHUuc2VydmVyUmVzcG9uc2UpLHNlcnZlckNvZGU6dS5jb2RlLHN1Y2Nlc3M6dS5jb2RlPT09MjAwLHJlc3BvbnNlVGltZTpEYXRlLm5vdygpLWx9KSksdS5jb2RlIT09MjAwJiZ0aGlzLmhhbmRsZVJlc3BvbnNlRXJyb3IodSksdX10cnlOZXh0QWRkcmVzcygpe3RoaXMucmVjb25uZWN0TW9kZT1cInRyeU5leHRcIix0aGlzLndlYnNvY2tldC5yZWNvbm5lY3QoXCJ0cnlOZXh0XCIpO31jbG9zZSgpe2xldCBlPWlpPT09XCI0LjIyLjBcIj9cIjAuMC4xXCI6aWk7dGhpcy5yZXFJZCs9MSx0aGlzLndlYnNvY2tldC5zdGF0ZT09PVwiY29ubmVjdGVkXCI/KHRoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKHtjb21tYW5kOlwicmVxdWVzdFwiLGFwcElkOnRoaXMuc3BlYy5hcHBJZCxjbmFtZTp0aGlzLnNwZWMuY25hbWUsdWlkOnRoaXMuc3BlYy51aWQudG9TdHJpbmcoKSxzZGtWZXJzaW9uOmUsc2lkOnRoaXMuc3BlYy5zaWQsc2VxOnRoaXMucmVxSWQsdHM6TWF0aC5mbG9vcihEYXRlLm5vdygpLzFlMykscmVxdWVzdElkOnRoaXMucmVxSWQsY2xpZW50UmVxdWVzdDp7Y29tbWFuZDpcIkRlc3Ryb3lXb3JrZXJcIn19KSx0aGlzLndlYnNvY2tldC5jbG9zZSghMSwhMCkpOnRoaXMud2Vic29ja2V0LmNsb3NlKCExKSx0aGlzLnBpbmdwb25nVGltZXImJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj12b2lkIDApO31oYW5kbGVSZXNwb25zZUVycm9yKGUpe3N3aXRjaChlLmNvZGUpe2Nhc2UgZmUuTElWRV9TVFJFQU1fUkVTUE9OU0VfQUxSRUFEWV9FWElTVFNfU1RSRUFNOnJldHVybiB2b2lkIF8ud2FybmluZyhcImxpdmUgc3RyZWFtIHJlc3BvbnNlIGFscmVhZHkgZXhpc3RzIHN0cmVhbVwiKTtjYXNlIGZlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1RSQU5TQ09ESU5HX1BBUkFNRVRFUl9FUlJPUjpjYXNlIGZlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0JBRF9TVFJFQU06Y2FzZSBmZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9XTV9QQVJBTUVURVJfRVJST1I6cmV0dXJuIG5ldyBPKFIuTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9BUkdVTUVOVCxcIlwiLHtjb2RlOmUuY29kZX0pLnRocm93KCk7Y2FzZSBmZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9XTV9XT1JLRVJfTk9UX0VYSVNUOmlmKGUuc2VydmVyUmVzcG9uc2UuY29tbWFuZD09PVwiVW5wdWJsaXNoU3RyZWFtXCIpcmV0dXJuO3Rocm93IG5ldyBPKFIuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwibGl2ZSBzdHJlYW0gcmVzcG9uc2Ugd20gd29ya2VyIG5vdCBleGlzdFwiLHtyZXRyeTohMH0pO2Nhc2UgZmUuTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX0FVVEhPUklaRUQ6cmV0dXJuIG5ldyBPKFIuTElWRV9TVFJFQU1JTkdfUFVCTElTSF9TVFJFQU1fTk9UX0FVVEhPUklaRUQsXCJcIix7Y29kZTplLmNvZGV9KS50aHJvdygpO2Nhc2UgZmUuTElWRV9TVFJFQU1fUkVTUE9OU0VfRkFJTEVEX0xPQURfSU1BR0U6e2xldCBuPW5ldyBPKFIuTElWRV9TVFJFQU1JTkdfV0FSTl9GQUlMRURfTE9BRF9JTUFHRSk7cmV0dXJuIHRoaXMuZW1pdChYci5XQVJOSU5HLG4sZS5zZXJ2ZXJSZXNwb25zZS51cmwpfWNhc2UgZmUuTElWRV9TVFJFQU1fUkVTUE9OU0VfUkVRVUVTVF9UT09fT0ZURU46e2xldCBuPW5ldyBPKFIuTElWRV9TVFJFQU1JTkdfV0FSTl9GUkVRVUVOVF9SRVFVRVNUKTtyZXR1cm4gdGhpcy5lbWl0KFhyLldBUk5JTkcsbixlLnNlcnZlclJlc3BvbnNlLnVybCl9Y2FzZSBmZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfRk9VTkRfUFVCTElTSDp0aHJvdyBuZXcgTyhSLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcImxpdmUgc3RyZWFtIHJlc3BvbnNlIHdtIHdvcmtlciBub3QgZXhpc3RcIix7cmV0cnk6ITB9KTtjYXNlIGZlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9TVVBQT1JURUQ6cmV0dXJuIG5ldyBPKFIuTElWRV9TVFJFQU1JTkdfVFJBTlNDT0RJTkdfTk9UX1NVUFBPUlRFRCxcIlwiLHtjb2RlOmUuY29kZX0pLnRocm93KCk7Y2FzZSBmZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9NQVhfU1RSRUFNX05VTTp7bGV0IG49bmV3IE8oUi5MSVZFX1NUUkVBTUlOR19XQVJOX1NUUkVBTV9OVU1fUkVBQ0hfTElNSVQpO3JldHVybiB0aGlzLmVtaXQoWHIuV0FSTklORyxuLGUuc2VydmVyUmVzcG9uc2UudXJsKX1jYXNlIGZlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0lOVEVSTkFMX1NFUlZFUl9FUlJPUjpyZXR1cm4gbmV3IE8oUi5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJcIix7Y29kZTplLmNvZGV9KS50aHJvdygpO2Nhc2UgZmUuTElWRV9TVFJFQU1fUkVTUE9OU0VfUkVTT1VSQ0VfTElNSVQ6dGhyb3cgbmV3IE8oUi5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJsaXZlIHN0cmVhbSByZXNvdXJjZSBsaW1pdFwiLHtyZXRyeTohMCxjaGFuZ2VBZGRyZXNzOiEwfSk7Y2FzZSBmZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfTE9TVDpjYXNlIGZlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9RVUlUOmlmKGUuc2VydmVyUmVzcG9uc2UuY29tbWFuZD09PVwiVW5wdWJsaXNoU3RyZWFtXCIpcmV0dXJuO3Rocm93IG5ldyBPKFIuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwiZXJyb3IgZmFpbCBzZW5kIG1lc3NhZ2VcIix7cmV0cnk6ITAsY2hhbmdlQWRkcmVzczohMH0pO2Nhc2UgZmUuRVJST1JfRkFJTF9TRU5EX01FU1NBR0U6aWYoZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kPT09XCJVbnB1Ymxpc2hTdHJlYW1cIilyZXR1cm47aWYoZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kPT09XCJVcGRhdGVUcmFuc2NvZGluZ1wifHxlLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQ9PT1cIkNvbnRyb2xTdHJlYW1cIilyZXR1cm4gbmV3IE8oUi5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJlcnJvciBmYWlsIHNlbmQgbWVzc2FnZVwiLHtjb2RlOmUuY29kZX0pLnRocm93KCk7dGhyb3cgbmV3IE8oUi5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJlcnJvciBmYWlsIHNlbmQgbWVzc2FnZVwiLHtyZXRyeTohMCxjaGFuZ2VBZGRyZXNzOiEwfSk7Y2FzZSBmZS5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUFVCTElTSF9CUk9LRU46Y2FzZSBmZS5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9DT05ORUNUOmNhc2UgZmUuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfSEFORFNIQUtFOmNhc2UgZmUuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfUFVCTElTSDpyZXR1cm4gbmV3IE8oUi5MSVZFX1NUUkVBTUlOR19DRE5fRVJST1IsXCJcIix7Y29kZTplLmNvZGV9KS50aHJvdygpfX1zdGFydFBpbmdQb25nKCl7dGhpcy5waW5ncG9uZ1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKCk9Pnt0aGlzLndlYnNvY2tldC5zdGF0ZT09PVwiY29ubmVjdGVkXCImJnRoaXMucmVxdWVzdChcInBpbmdcIix7fSkuY2F0Y2goenUpO30sNmUzKTt9fTtmdW5jdGlvbiBmQSh0LGUpe3ZhciBuPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKGk9aS5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLGkpO31yZXR1cm4gbn1mdW5jdGlvbiBUbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV0hPW51bGw/YXJndW1lbnRzW2VdOnt9O2UlMj9mQShPYmplY3QobiksITApLmZvckVhY2goZnVuY3Rpb24oaSl7VCh0LGksbltpXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6ZkEoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGkpKTt9KTt9cmV0dXJuIHR9dmFyIENtPWNsYXNzIGV4dGVuZHMgWHR7Y29uc3RydWN0b3IoZSl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOkVlLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT12b2lkIDA/YXJndW1lbnRzWzJdOkVlO3N1cGVyKCksVCh0aGlzLFwib25MaXZlU3RyZWFtV2FybmluZ1wiLHZvaWQgMCksVCh0aGlzLFwib25MaXZlU3RyZWFtRXJyb3JcIix2b2lkIDApLFQodGhpcyxcInNwZWNcIix2b2lkIDApLFQodGhpcyxcInJldHJ5VGltZW91dFwiLDFlNCksVCh0aGlzLFwiY29ubmVjdGlvblwiLHZvaWQgMCksVCh0aGlzLFwiaHR0cFJldHJ5Q29uZmlnXCIsdm9pZCAwKSxUKHRoaXMsXCJ3c1JldHJ5Q29uZmlnXCIsdm9pZCAwKSxUKHRoaXMsXCJzdHJlYW1pbmdUYXNrc1wiLG5ldyBNYXApLFQodGhpcyxcImlzU3RhcnRpbmdTdHJlYW1pbmdUYXNrXCIsITEpLFQodGhpcyxcInRhc2tNdXRleFwiLG5ldyB6ZShcImxpdmUtc3RyZWFtaW5nXCIpKSxUKHRoaXMsXCJjYW5jZWxUb2tlblwiLG1uLkNhbmNlbFRva2VuLnNvdXJjZSgpKSxUKHRoaXMsXCJ0cmFuc2NvZGluZ0NvbmZpZ1wiLHZvaWQgMCksVCh0aGlzLFwidWFwUmVzcG9uc2VcIix2b2lkIDApLFQodGhpcyxcImxhc3RUYXNrSWRcIiwxKSxUKHRoaXMsXCJzdGF0dXNFcnJvclwiLG5ldyBNYXApLHRoaXMuc3BlYz1lLHRoaXMuaHR0cFJldHJ5Q29uZmlnPWksdGhpcy53c1JldHJ5Q29uZmlnPW47fWFzeW5jIHNldFRyYW5zY29kaW5nQ29uZmlnKGUpe2xldCBuPVRuKFRuKHt9LGFqKSxlKTtuLnZpZGVvQ29kZWNQcm9maWxlIT09NjYmJm4udmlkZW9Db2RlY1Byb2ZpbGUhPT03NyYmbi52aWRlb0NvZGVjUHJvZmlsZSE9PTEwMCYmKF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gc2V0IHRyYW5zY29kaW5nIGNvbmZpZywgZml4IHZpZGVvIGNvZGVjIHByb2ZpbGU6IFwiKS5jb25jYXQobi52aWRlb0NvZGVjUHJvZmlsZSxcIiAtPiAxMDBcIikpLG4udmlkZW9Db2RlY1Byb2ZpbGU9MTAwKSxuLnRyYW5zY29kaW5nVXNlcnN8fChuLnRyYW5zY29kaW5nVXNlcnM9bi51c2VyQ29uZmlncyksbi50cmFuc2NvZGluZ1VzZXJzJiYobi50cmFuc2NvZGluZ1VzZXJzPW4udHJhbnNjb2RpbmdVc2Vycy5tYXAocz0+VG4oVG4oVG4oe30sc2opLHMpLHt9LHt6T3JkZXI6cy56T3JkZXI/cy56T3JkZXIrMToxfSkpKSxmdW5jdGlvbihzKXt6dChzLndpZHRoKXx8TnQocy53aWR0aCxcImNvbmZpZy53aWR0aFwiLDAsMWU0KSx6dChzLmhlaWdodCl8fE50KHMuaGVpZ2h0LFwiY29uZmlnLmhlaWdodFwiLDAsMWU0KSx6dChzLnZpZGVvQml0cmF0ZSl8fE50KHMudmlkZW9CaXRyYXRlLFwiY29uZmlnLnZpZGVvQml0cmF0ZVwiLDEsMWU2KSx6dChzLnZpZGVvRnJhbWVSYXRlKXx8TnQocy52aWRlb0ZyYW1lUmF0ZSxcImNvbmZpZy52aWRlb0ZyYW1lUmF0ZVwiKSx6dChzLmxvd0xhdGVuY3kpfHxOcihzLmxvd0xhdGVuY3ksXCJjb25maWcubG93TGF0ZW5jeVwiKSx6dChzLmF1ZGlvU2FtcGxlUmF0ZSl8fENlKHMuYXVkaW9TYW1wbGVSYXRlLFwiY29uZmlnLmF1ZGlvU2FtcGxlUmF0ZVwiLFszMmUzLDQ0MTAwLDQ4ZTNdKSx6dChzLmF1ZGlvQml0cmF0ZSl8fE50KHMuYXVkaW9CaXRyYXRlLFwiY29uZmlnLmF1ZGlvQml0cmF0ZVwiLDEsMTI4KSx6dChzLmF1ZGlvQ2hhbm5lbHMpfHxDZShzLmF1ZGlvQ2hhbm5lbHMsXCJjb25maWcuYXVkaW9DaGFubmVsc1wiLFsxLDIsMyw0LDVdKSx6dChzLnZpZGVvR29wKXx8TnQocy52aWRlb0dvcCxcImNvbmZpZy52aWRlb0dvcFwiKSx6dChzLnZpZGVvQ29kZWNQcm9maWxlKXx8Q2Uocy52aWRlb0NvZGVjUHJvZmlsZSxcImNvbmZpZy52aWRlb0NvZGVjUHJvZmlsZVwiLFs2Niw3NywxMDBdKSx6dChzLnVzZXJDb3VudCl8fE50KHMudXNlckNvdW50LFwiY29uZmlnLnVzZXJDb3VudFwiLDAsMTcpLHp0KHMuYmFja2dyb3VuZENvbG9yKXx8TnQocy5iYWNrZ3JvdW5kQ29sb3IsXCJjb25maWcuYmFja2dyb3VuZENvbG9yXCIsMCwxNjc3NzIxNSksenQocy51c2VyQ29uZmlnRXh0cmFJbmZvKXx8UGUocy51c2VyQ29uZmlnRXh0cmFJbmZvLFwiY29uZmlnLnVzZXJDb25maWdFeHRyYUluZm9cIiwwLDQwOTYsITEpLHMudHJhbnNjb2RpbmdVc2VycyYmIXp0KHMudHJhbnNjb2RpbmdVc2VycykmJihicihzLnRyYW5zY29kaW5nVXNlcnMsXCJjb25maWcudHJhbnNjb2RpbmdVc2Vyc1wiKSxzLnRyYW5zY29kaW5nVXNlcnMuZm9yRWFjaCgoYSxjKT0+e1F1KGEudWlkKSx6dChhLngpfHxOdChhLngsXCJ0cmFuc2NvZGluZ1VzZXJbXCIuY29uY2F0KGMsXCJdLnhcIiksMCwxZTQpLHp0KGEueSl8fE50KGEueSxcInRyYW5zY29kaW5nVXNlcltcIi5jb25jYXQoYyxcIl0ueVwiKSwwLDFlNCksenQoYS53aWR0aCl8fE50KGEud2lkdGgsXCJ0cmFuc2NvZGluZ1VzZXJbXCIuY29uY2F0KGMsXCJdLndpZHRoXCIpLDAsMWU0KSx6dChhLmhlaWdodCl8fE50KGEuaGVpZ2h0LFwidHJhbnNjb2RpbmdVc2VyW1wiLmNvbmNhdChjLFwiXS5oZWlnaHRcIiksMCwxZTQpLHp0KGEuek9yZGVyKXx8TnQoYS56T3JkZXItMSxcInRyYW5zY29kaW5nVXNlcltcIi5jb25jYXQoYyxcIl0uek9yZGVyXCIpLDAsMTAwKSx6dChhLmFscGhhKXx8TnQoYS5hbHBoYSxcInRyYW5zY29kaW5nVXNlcltcIi5jb25jYXQoYyxcIl0uYWxwaGFcIiksMCwxLCExKTt9KSksenQocy53YXRlcm1hcmspfHx4cChzLndhdGVybWFyayxcIndhdGVybWFya1wiKSx6dChzLmJhY2tncm91bmRJbWFnZSl8fHhwKHMuYmFja2dyb3VuZEltYWdlLFwiYmFja2dyb3VuZEltYWdlXCIpLHMuaW1hZ2VzJiYhenQocy5pbWFnZXMpJiYoYnIocy5pbWFnZXMsXCJjb25maWcuaW1hZ2VzXCIpLHMuaW1hZ2VzLmZvckVhY2goKGEsYyk9Pnt4cChhLFwiaW1hZ2VzW1wiLmNvbmNhdChjLFwiXVwiKSk7fSkpO30obik7bGV0IGk9W107bi5pbWFnZXMmJmkucHVzaCguLi5uLmltYWdlcy5tYXAocz0+VG4oVG4oVG4oe30sVXApLHMpLHt9LHt6T3JkZXI6MjU1fSkpKSxuLmJhY2tncm91bmRJbWFnZSYmKGkucHVzaChUbihUbihUbih7fSxVcCksbi5iYWNrZ3JvdW5kSW1hZ2UpLHt9LHt6T3JkZXI6MH0pKSxkZWxldGUgbi5iYWNrZ3JvdW5kSW1hZ2UpLG4ud2F0ZXJtYXJrJiYoaS5wdXNoKFRuKFRuKFRuKHt9LFVwKSxuLndhdGVybWFyaykse30se3pPcmRlcjoyNTV9KSksZGVsZXRlIG4ud2F0ZXJtYXJrKSxuLmltYWdlcz1pLG4udHJhbnNjb2RpbmdVc2VycyYmKG4udXNlckNvbmZpZ3M9bi50cmFuc2NvZGluZ1VzZXJzLm1hcChzPT5Ubih7fSxzKSksbi51c2VyQ291bnQ9bi50cmFuc2NvZGluZ1VzZXJzLmxlbmd0aCxkZWxldGUgbi50cmFuc2NvZGluZ1VzZXJzKTtsZXQgcj0obi51c2VyQ29uZmlnc3x8W10pLm1hcChzPT50eXBlb2Ygcy51aWQ9PVwibnVtYmVyXCI/ai5yZXNvbHZlKHMudWlkKTpoMChzLnVpZCx0aGlzLnNwZWMsdGhpcy5jYW5jZWxUb2tlbi50b2tlbix0aGlzLmh0dHBSZXRyeUNvbmZpZykpO2lmKChhd2FpdCBqLmFsbChyKSkuZm9yRWFjaCgocyxhKT0+e24udXNlckNvbmZpZ3MmJm4udXNlckNvbmZpZ3NbYV0mJihuLnVzZXJDb25maWdzW2FdLnVpZD1zKTt9KSx0aGlzLnRyYW5zY29kaW5nQ29uZmlnPW4sdGhpcy5jb25uZWN0aW9uKXRyeXt2YXIgbztsZXQgcz1hd2FpdCB0aGlzLmNvbm5lY3Rpb24ucmVxdWVzdChcInJlcXVlc3RcIix7Y2xpZW50UmVxdWVzdDp7Y29tbWFuZDpcIlVwZGF0ZVRyYW5zY29kaW5nXCIsdHJhbnNjb2RpbmdDb25maWc6dGhpcy50cmFuc2NvZGluZ0NvbmZpZ319LCExLHtjb21tYW5kOlwiVXBkYXRlVHJhbnNjb2RpbmdcIix3b3JrZXJUeXBlOjEscmVxdWVzdEJ5VXNlcjohMCx0aWQ6QXJyYXkuZnJvbShQcihvPXRoaXMuc3RyZWFtaW5nVGFza3MpLmNhbGwobykpLm1hcChhPT5hLnRhc2tJZCkuam9pbihcIiNcIil9KTtfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIHVwZGF0ZSBsaXZlIHRyYW5zY29kaW5nIGNvbmZpZyBzdWNjZXNzLCBjb2RlOiBcIikuY29uY2F0KHMuY29kZSxcIiwgY29uZmlnOlwiKSxKU09OLnN0cmluZ2lmeSh0aGlzLnRyYW5zY29kaW5nQ29uZmlnKSk7fWNhdGNoKHMpe2lmKCFzLmRhdGF8fCFzLmRhdGEucmV0cnkpdGhyb3cgcztzLmRhdGEuY2hhbmdlQWRkcmVzcyYmdGhpcy5jb25uZWN0aW9uLnRyeU5leHRBZGRyZXNzKCksdGhpcy5zdHJlYW1pbmdUYXNrcy5mb3JFYWNoKGE9PntfLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gbGl2ZSBzdHJlYW1pbmcgcmVjZWl2ZSBlcnJvclwiKSxzLnRvU3RyaW5nKCksXCJ0cnkgdG8gcmVwdWJsaXNoXCIsYS51cmwpLHRoaXMuc3RhcnRMaXZlU3RyZWFtaW5nVGFzayhhLnVybCxhLm1vZGUscykudGhlbigoKT0+e18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gbGl2ZSBzdHJlYW1pbmcgcmVwdWJsaXNoIFwiKS5jb25jYXQoYS51cmwsXCIgc3VjY2Vzc1wiKSk7fSkuY2F0Y2goYz0+e18uZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gbGl2ZSBzdHJlYW1pbmcgcmVwdWJsaXNoIGZhaWxlZFwiKSxhLnVybCxjLnRvU3RyaW5nKCkpLHRoaXMub25MaXZlU3RyZWFtRXJyb3ImJnRoaXMub25MaXZlU3RyZWFtRXJyb3IoYS51cmwsYyk7fSk7fSk7fX1hc3luYyBzdGFydExpdmVTdHJlYW1pbmdUYXNrKGUsbixpKXtpZighdGhpcy50cmFuc2NvZGluZ0NvbmZpZyYmbj09PWVyLlRSQU5TQ09ERSl0aHJvdyBuZXcgTyhSLklOVkFMSURfT1BFUkFUSU9OLFwiW0xpdmVTdHJlYW1pbmddIG5vIHRyYW5zY29kaW5nIGNvbmZpZyBmb3VuZCwgY2FuIG5vdCBzdGFydCB0cmFuc2NvZGluZyBzdHJlYW1pbmcgdGFza1wiKTtsZXQgcj17Y29tbWFuZDpcIlB1Ymxpc2hTdHJlYW1cIix0czpEYXRlLm5vdygpLHVybDplLHVpZDp0aGlzLnNwZWMudWlkLnRvU3RyaW5nKCksYXV0b0Rlc3Ryb3lUaW1lOjEwMCxhY2NlcHRJbWFnZVRpbWVvdXQ6ITB9O18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gc3RhcnQgbGl2ZSBzdHJlYW1pbmcgXCIpLmNvbmNhdChlLFwiLCBtb2RlOiBcIikuY29uY2F0KG4pKTtsZXQgbz1hd2FpdCB0aGlzLnRhc2tNdXRleC5sb2NrKCk7aWYoIXRoaXMuY29ubmVjdGlvbiYmaSlyZXR1cm4gdm9pZCBvKCk7aWYodGhpcy5zdHJlYW1pbmdUYXNrcy5nZXQoZSkmJiFpKXJldHVybiBvKCksbmV3IE8oUi5MSVZFX1NUUkVBTUlOR19UQVNLX0NPTkZMSUNUKS50aHJvdygpO3RyeXt0aGlzLmNvbm5lY3Rpb258fCh0aGlzLmNvbm5lY3Rpb249YXdhaXQgdGhpcy5jb25uZWN0KG4pKTt9Y2F0Y2goYSl7dGhyb3cgbygpLGF9c3dpdGNoKG4pe2Nhc2UgZXIuVFJBTlNDT0RFOnIudHJhbnNjb2RpbmdDb25maWc9VG4oe30sdGhpcy50cmFuc2NvZGluZ0NvbmZpZyk7fXRoaXMudWFwUmVzcG9uc2UmJnRoaXMudWFwUmVzcG9uc2UudmlkJiYoci52aWQ9dGhpcy51YXBSZXNwb25zZS52aWQpLHRoaXMuaXNTdGFydGluZ1N0cmVhbWluZ1Rhc2s9ITA7bGV0IHM9dGhpcy5sYXN0VGFza0lkKys7dHJ5e2xldCBhPW5ldyBqKChkLGwpPT57TWUodGhpcy5yZXRyeVRpbWVvdXQpLnRoZW4oKCk9PntpZihpKXJldHVybiBsKGkpO2xldCB1PXRoaXMuc3RhdHVzRXJyb3IuZ2V0KGUpO3JldHVybiB1Pyh0aGlzLnN0YXR1c0Vycm9yLmRlbGV0ZShlKSxsKHUpKTp2b2lkIDB9KTt9KSxjPWF3YWl0IGoucmFjZShbdGhpcy5jb25uZWN0aW9uLnJlcXVlc3QoXCJyZXF1ZXN0XCIse2NsaWVudFJlcXVlc3Q6cn0sITAse3VybDplLGNvbW1hbmQ6XCJQdWJsaXNoU3RyZWFtXCIsd29ya2VyVHlwZTpuPT09ZXIuVFJBTlNDT0RFPzE6MixyZXF1ZXN0QnlVc2VyOiFpLHRpZDpzLnRvU3RyaW5nKCl9KSxhXSk7dGhpcy5pc1N0YXJ0aW5nU3RyZWFtaW5nVGFzaz0hMSxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIGxpdmUgc3RyZWFtaW5nIHN0YXJ0ZWQsIGNvZGU6IFwiKS5jb25jYXQoYy5jb2RlKSksdGhpcy5zdHJlYW1pbmdUYXNrcy5zZXQoZSx7Y2xpZW50UmVxdWVzdDpyLG1vZGU6bix1cmw6ZSx0YXNrSWQ6c30pLG8oKTt9Y2F0Y2goYSl7aWYobygpLHRoaXMuaXNTdGFydGluZ1N0cmVhbWluZ1Rhc2s9ITEsIWEuZGF0YXx8IWEuZGF0YS5yZXRyeXx8aSl0aHJvdyBhO3JldHVybiBhLmRhdGEuY2hhbmdlQWRkcmVzcz8odGhpcy5jb25uZWN0aW9uLnRyeU5leHRBZGRyZXNzKCksYXdhaXQgdGhpcy5zdGFydExpdmVTdHJlYW1pbmdUYXNrKGUsbixhKSk6YXdhaXQgdGhpcy5zdGFydExpdmVTdHJlYW1pbmdUYXNrKGUsbixhKX19c3RvcExpdmVTdHJlYW1pbmdUYXNrKGUpe3JldHVybiBuZXcgaigobixpKT0+e2xldCByPXRoaXMuc3RyZWFtaW5nVGFza3MuZ2V0KGUpO2lmKCFyfHwhdGhpcy5jb25uZWN0aW9uKXJldHVybiBuZXcgTyhSLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgc3RyZWFtaW5nIHRhc2sgdG8gc3RvcFwiKS50aHJvdygpO2xldCBvPXIubW9kZTtyLmFib3J0VGFzaz0oKT0+e18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gc3RvcCBsaXZlIHN0cmVhbWluZyBzdWNjZXNzKHdvcmtlciBleGNlcHRpb24pXCIpKSx0aGlzLnN0cmVhbWluZ1Rhc2tzLmRlbGV0ZShlKSxuKCk7fSx0aGlzLmNvbm5lY3Rpb24ucmVxdWVzdChcInJlcXVlc3RcIix7Y2xpZW50UmVxdWVzdDp7Y29tbWFuZDpcIlVucHVibGlzaFN0cmVhbVwiLHVybDpyLnVybH19LCExLHt1cmw6ZSxjb21tYW5kOlwiVW5QdWJsaXNoU3RyZWFtXCIsd29ya2VyVHlwZTpvPT09ZXIuVFJBTlNDT0RFPzE6MixyZXF1ZXN0QnlVc2VyOiEwLHRpZDoodGhpcy5sYXN0VGFza0lkKyspLnRvU3RyaW5nKCl9KS50aGVuKHM9PntfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIHN0b3AgbGl2ZSBzdHJlYW1pbmcgc3VjY2VzcywgY29kZTogXCIpLmNvbmNhdChzLmNvZGUpKSx0aGlzLnN0cmVhbWluZ1Rhc2tzLmRlbGV0ZShlKSx0aGlzLnN0cmVhbWluZ1Rhc2tzLnNpemU9PT0wJiYodGhpcy5jb25uZWN0aW9uJiZ0aGlzLmNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLmNvbm5lY3Rpb249dm9pZCAwKSxuKCk7fSkuY2F0Y2goaSk7fSl9cmVzZXRBbGxUYXNrKCl7dmFyIGU7bGV0IG49QXJyYXkuZnJvbShQcihlPXRoaXMuc3RyZWFtaW5nVGFza3MpLmNhbGwoZSkpO3RoaXMudGVybWluYXRlKCk7Zm9yKGxldCBpIG9mIG4pdGhpcy5zdGFydExpdmVTdHJlYW1pbmdUYXNrKGkudXJsLGkubW9kZSkuY2F0Y2gocj0+e3RoaXMub25MaXZlU3RyZWFtRXJyb3ImJnRoaXMub25MaXZlU3RyZWFtRXJyb3IoaS51cmwscik7fSk7fXRlcm1pbmF0ZSgpe3RoaXMuY2FuY2VsVG9rZW4mJnRoaXMuY2FuY2VsVG9rZW4uY2FuY2VsKCksdGhpcy5zdHJlYW1pbmdUYXNrcz1uZXcgTWFwLHRoaXMuaXNTdGFydGluZ1N0cmVhbWluZ1Rhc2s9ITEsdGhpcy5zdGF0dXNFcnJvcj1uZXcgTWFwLHRoaXMuY2FuY2VsVG9rZW49bW4uQ2FuY2VsVG9rZW4uc291cmNlKCksdGhpcy51YXBSZXNwb25zZT12b2lkIDAsdGhpcy5jb25uZWN0aW9uJiZ0aGlzLmNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLmNvbm5lY3Rpb249dm9pZCAwO31hc3luYyBjb25uZWN0KGUpe2lmKHRoaXMuY29ubmVjdGlvbil0aHJvdyBuZXcgTyhSLlVORVhQRUNURURfRVJST1IsXCJsaXZlIHN0cmVhbWluZyBjb25uZWN0aW9uIGhhcyBhbHJlYWR5IGNvbm5lY3RlZFwiKTtsZXQgbj1hd2FpdCBHZSh0aGlzLFZFLlJFUVVFU1RfV09SS0VSX01BTkFHRVJfTElTVCxlKTtyZXR1cm4gdGhpcy51YXBSZXNwb25zZT1uLHRoaXMuY29ubmVjdGlvbj1uZXcgUm0obi53b3JrZXJUb2tlbix0aGlzLnNwZWMsdGhpcy53c1JldHJ5Q29uZmlnLGUpLHRoaXMuY29ubmVjdGlvbi5vbihYci5XQVJOSU5HLChpLHIpPT50aGlzLm9uTGl2ZVN0cmVhbVdhcm5pbmcmJnRoaXMub25MaXZlU3RyZWFtV2FybmluZyhyLGkpKSx0aGlzLmNvbm5lY3Rpb24ub24oWHIuUFVCTElTSF9TVFJFQU1fU1RBVFVTLGk9PnRoaXMuaGFuZGxlUHVibGlzaFN0cmVhbVNlcnZlcihpKSksdGhpcy5jb25uZWN0aW9uLm9uKFhyLlJFUVVFU1RfTkVXX0FERFJFU1MsKGkscik9PntpZighdGhpcy5jb25uZWN0aW9uKXJldHVybiByKG5ldyBPKFIuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZ2V0IG5ldyBsaXZlIHN0cmVhbWluZyBhZGRyZXNzIGxpc3RcIikpO0dlKHRoaXMsVkUuUkVRVUVTVF9XT1JLRVJfTUFOQUdFUl9MSVNULGUpLnRoZW4obz0+e3RoaXMudWFwUmVzcG9uc2U9byxpKG8uYWRkcmVzc0xpc3QpO30pLmNhdGNoKHIpO30pLGF3YWl0IHRoaXMuY29ubmVjdGlvbi5pbml0KG4uYWRkcmVzc0xpc3QpLHRoaXMuY29ubmVjdGlvbn1oYW5kbGVQdWJsaXNoU3RyZWFtU2VydmVyKGUpe2xldCBuPWUuc2VydmVyU3RhdHVzJiZlLnNlcnZlclN0YXR1cy51cmx8fFwiZW1wdHlfdXJsXCIsaT10aGlzLnN0cmVhbWluZ1Rhc2tzLmdldChuKSxyPWUucmVhc29uO3N3aXRjaChlLmNvZGUpe2Nhc2UgZmUuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1BVQkxJU0hfQlJPS0VOOmNhc2UgZmUuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfQ09OTkVDVDpjYXNlIGZlLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0hBTkRTSEFLRTpjYXNlIGZlLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX1BVQkxJU0g6e2xldCBzPW5ldyBPKFIuTElWRV9TVFJFQU1JTkdfQ0ROX0VSUk9SLFwiXCIse2NvZGU6ZS5jb2RlfSk7aWYoaSlyZXR1cm4gXy5lcnJvcihzLnRvU3RyaW5nKCkpLHRoaXMub25MaXZlU3RyZWFtRXJyb3ImJnRoaXMub25MaXZlU3RyZWFtRXJyb3IobixzKTtpZighdGhpcy5pc1N0YXJ0aW5nU3RyZWFtaW5nVGFzaylyZXR1cm47dGhpcy5zdGF0dXNFcnJvci5zZXQobixzKTt9Y2FzZSBmZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9GQUlMRURfTE9BRF9JTUFHRTp7bGV0IHM9bmV3IE8oUi5MSVZFX1NUUkVBTUlOR19XQVJOX0ZBSUxFRF9MT0FEX0lNQUdFLHIpO3JldHVybiB0aGlzLm9uTGl2ZVN0cmVhbVdhcm5pbmcmJnRoaXMub25MaXZlU3RyZWFtV2FybmluZyhuLHMpfWNhc2UgZmUuTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX0xPU1Q6Y2FzZSBmZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfUVVJVDp7dmFyIG87aWYoIXRoaXMuY29ubmVjdGlvbilyZXR1cm47dGhpcy5jb25uZWN0aW9uLnRyeU5leHRBZGRyZXNzKCk7bGV0IHM9QXJyYXkuZnJvbShQcihvPXRoaXMuc3RyZWFtaW5nVGFza3MpLmNhbGwobykpO2ZvcihsZXQgYSBvZiBzKWEuYWJvcnRUYXNrP2EuYWJvcnRUYXNrKCk6KF8ud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSBwdWJsaXNoIHN0cmVhbSBzdGF0dXMgY29kZVwiKSxlLmNvZGUsXCJ0cnkgdG8gcmVwdWJsaXNoXCIsYS51cmwpLHRoaXMuc3RhcnRMaXZlU3RyZWFtaW5nVGFzayhhLnVybCxhLm1vZGUsbmV3IE8oUi5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJcIix7Y29kZTplLmNvZGV9KSkudGhlbigoKT0+e18uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gcmVwdWJsaXNoIGxpdmUgc3RyZWFtIHN1Y2Nlc3NcIiksYS51cmwpO30pLmNhdGNoKGM9PntfLmVycm9yKGMudG9TdHJpbmcoKSksdGhpcy5vbkxpdmVTdHJlYW1FcnJvciYmdGhpcy5vbkxpdmVTdHJlYW1FcnJvcihhLnVybCxjKTt9KSk7cmV0dXJufX19aGFzVXJsKGUpe3JldHVybiB0aGlzLnN0cmVhbWluZ1Rhc2tzLmhhcyhlKX19LFkzPXtuYW1lOlwiTGl2ZVN0cmVhbWluZ1wiLGNyZWF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IENtKHQuam9pbkluZm8sdC53ZWJzb2NrZXRSZXRyeUNvbmZpZ3x8RWUsdC5odHRwUmV0cnlDb25maWd8fEVlKX19O2Z1bmN0aW9uIHEzKHQpe2xldCBlPWdBKCk7cmV0dXJuIGZ1bmN0aW9uKG4saSl7bGV0IHI9bi5hcHBJZDtyIT09dm9pZCAwJiYoeXQoaSwxMCksdHIoaSxyKSk7bGV0IG89bi5jaWQ7byE9PXZvaWQgMCYmKHl0KGksMTYpLHl0KGksbykpO2xldCBzPW4uY25hbWU7cyE9PXZvaWQgMCYmKHl0KGksMjYpLHRyKGkscykpO2xldCBhPW4uZGV2aWNlSWQ7YSE9PXZvaWQgMCYmKHl0KGksMzQpLHRyKGksYSkpO2xldCBjPW4uZWxhcHNlO2MhPT12b2lkIDAmJih5dChpLDQwKSxZcihpLGMpKTtsZXQgZD1uLmZpbGVTaXplO2QhPT12b2lkIDAmJih5dChpLDQ4KSxZcihpLENzKGQpKSk7bGV0IGw9bi5oZWlnaHQ7bCE9PXZvaWQgMCYmKHl0KGksNTYpLFlyKGksQ3MobCkpKTtsZXQgdT1uLmpwZzt1IT09dm9pZCAwJiYoeXQoaSw2NikseXQoaSx1Lmxlbmd0aCksZnVuY3Rpb24oc2ksTCl7bGV0IEY9Q2Eoc2ksTC5sZW5ndGgpO3NpLmJ5dGVzLnNldChMLEYpO30oaSx1KSk7bGV0IGg9bi5uZXR3b3JrVHlwZTtoIT09dm9pZCAwJiYoeXQoaSw3MiksWXIoaSxDcyhoKSkpO2xldCBwPW4ub3NUeXBlO3AhPT12b2lkIDAmJih5dChpLDgwKSxZcihpLENzKHApKSk7bGV0IGc9bi5yZXF1ZXN0SWQ7ZyE9PXZvaWQgMCYmKHl0KGksOTApLHRyKGksZykpO2xldCBFPW4uc2RrVmVyc2lvbjtFIT09dm9pZCAwJiYoeXQoaSw5OCksdHIoaSxFKSk7bGV0IGY9bi5zZXF1ZW5jZTtmIT09dm9pZCAwJiYoeXQoaSwxMDQpLFlyKGksQ3MoZikpKTtsZXQgUz1uLnNpZDtTIT09dm9pZCAwJiYoeXQoaSwxMTQpLHRyKGksUykpO2xldCBDPW4udGltZXN0YW1wO0MhPT12b2lkIDAmJih5dChpLDEyMCksWXIoaSxDKSk7bGV0IEE9bi51aWQ7QSE9PXZvaWQgMCYmKHl0KGksMTI4KSx5dChpLEEpKTtsZXQgYj1uLnZpZDtiIT09dm9pZCAwJiYoeXQoaSwxMzYpLHl0KGksYikpO2xldCB3PW4ud2lkdGg7dyE9PXZvaWQgMCYmKHl0KGksMTQ0KSxZcihpLENzKHcpKSk7bGV0IEQ9bi5zZXJ2aWNlO0QhPT12b2lkIDAmJih5dChpLDE1MikseXQoaSxEKSk7bGV0IGs9bi5jYWxsYmFja0RhdGE7ayE9PXZvaWQgMCYmKHl0KGksMTYyKSx0cihpLGspKTtsZXQgQj1uLmpwZ0VuY3J5cHRpb247QiE9PXZvaWQgMCYmKHl0KGksMTY4KSx5dChpLEIpKTtsZXQgVj1uLnJlcXVlc3RUeXBlO1YhPT12b2lkIDAmJih5dChpLDE3NikseXQoaSxWKSk7bGV0IHo9bi5zY29yZVBvcm47eiE9PXZvaWQgMCYmKHl0KGksMTg1KSxqXyhpLHopKTtsZXQgbHQ9bi5zY29yZVNleHk7bHQhPT12b2lkIDAmJih5dChpLDE5Myksal8oaSxsdCkpO2xldCB2dD1uLnNjb3JlTmV1dHJhbDt2dCE9PXZvaWQgMCYmKHl0KGksMjAxKSxqXyhpLHZ0KSk7bGV0IER0PW4uc2NlbmU7RHQhPT12b2lkIDAmJih5dChpLDIwOCkseXQoaSxEdCkpO2xldCBjZT1uLm9zc0ZpbGVQcmVmaXg7Y2UhPT12b2lkIDAmJih5dChpLDIxOCksdHIoaSxjZSkpO2xldCBXdD1uLnNlcnZpY2VWZW5kb3I7aWYoV3QhPT12b2lkIDApZm9yKGxldCBzaSBvZiBXdCl7eXQoaSwyMjYpO2xldCBMPWdBKCk7WDMoc2ksTCkseXQoaSxMLmxpbWl0KSx0SChpLEwpLCQzKEwpO319KHQsZSksZnVuY3Rpb24obil7bGV0IGk9bi5ieXRlcyxyPW4ubGltaXQ7cmV0dXJuIGkubGVuZ3RoPT09cj9pOmkuc3ViYXJyYXkoMCxyKX0oZSl9ZnVuY3Rpb24gejModCl7cmV0dXJuIGZ1bmN0aW9uKG4pe2xldCBpPXt9O3Q6Zm9yKDshb04obik7KXtsZXQgcj1vcihuKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMDpicmVhayB0O2Nhc2UgMTppLmNvZGU9b3Iobik7YnJlYWs7Y2FzZSAyOmkubXNnPXNOKG4sb3IobikpO2JyZWFrO2Nhc2UgMzp7bGV0IG89UTMobik7aS5kYXRhPUozKG4pLG4ubGltaXQ9bzticmVha31kZWZhdWx0OmlOKG4sNyZyKTt9fXJldHVybiBpfSh7Ynl0ZXM6ZT10LG9mZnNldDowLGxpbWl0OmUubGVuZ3RofSk7dmFyIGU7fWZ1bmN0aW9uIEozKHQpe2xldCBlPXt9O3Q6Zm9yKDshb04odCk7KXtsZXQgbj1vcih0KTtzd2l0Y2gobj4+PjMpe2Nhc2UgMDpicmVhayB0O2Nhc2UgMTplLnJlcXVlc3RJZD1zTih0LG9yKHQpKTticmVhaztjYXNlIDI6ZS5yZXF1ZXN0VHlwZT1vcih0KT4+PjA7YnJlYWs7Y2FzZSAzOmUuc2NvcmVQb3JuPUJfKHQpO2JyZWFrO2Nhc2UgNDplLnNjb3JlU2V4eT1CXyh0KTticmVhaztjYXNlIDU6ZS5zY29yZU5ldXRyYWw9Ql8odCk7YnJlYWs7Y2FzZSA2OmUucmVxdWVzdFNjZW5lPW9yKHQpPj4+MDticmVhaztjYXNlIDc6ZS5zY2VuZT1vcih0KT4+PjA7YnJlYWs7ZGVmYXVsdDppTih0LDcmbik7fX1yZXR1cm4gZX1mdW5jdGlvbiBYMyh0LGUpe2xldCBuPXQuc2VydmljZTtuIT09dm9pZCAwJiYoeXQoZSw4KSx5dChlLG4pKTtsZXQgaT10LnZlbmRvcjtpIT09dm9pZCAwJiYoeXQoZSwxNikseXQoZSxpKSk7bGV0IHI9dC50b2tlbjtyIT09dm9pZCAwJiYoeXQoZSwyNiksdHIoZSxyKSk7bGV0IG89dC5jYWxsYmFja1VybDtvIT09dm9pZCAwJiYoeXQoZSwzNCksdHIoZSxvKSk7fWZ1bmN0aW9uIFEzKHQpe2xldCBlPW9yKHQpLG49dC5saW1pdDtyZXR1cm4gdC5saW1pdD10Lm9mZnNldCtlLG59ZnVuY3Rpb24gaU4odCxlKXtzd2l0Y2goZSl7Y2FzZSAwOmZvcig7MTI4JmFOKHQpOyk7YnJlYWs7Y2FzZSAyOkZfKHQsb3IodCkpO2JyZWFrO2Nhc2UgNTpGXyh0LDQpO2JyZWFrO2Nhc2UgMTpGXyh0LDgpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5pbXBsZW1lbnRlZCB0eXBlOiBcIitlKX19dmFyIFozPW5ldyBGbG9hdDMyQXJyYXkoMSk7bmV3IFVpbnQ4QXJyYXkoWjMuYnVmZmVyKTt2YXIgTGY9bmV3IEZsb2F0NjRBcnJheSgxKSxSbj1uZXcgVWludDhBcnJheShMZi5idWZmZXIpO2Z1bmN0aW9uIENzKHQpe3JldHVybiB7bG93OnR8PTAsaGlnaDp0Pj4zMSx1bnNpZ25lZDp0Pj0wfX12YXIgck49W107ZnVuY3Rpb24gZ0EoKXtsZXQgdD1yTi5wb3AoKTtyZXR1cm4gdD8odC5vZmZzZXQ9dC5saW1pdD0wLHQpOntieXRlczpuZXcgVWludDhBcnJheSg2NCksb2Zmc2V0OjAsbGltaXQ6MH19ZnVuY3Rpb24gJDModCl7ck4ucHVzaCh0KTt9ZnVuY3Rpb24gRl8odCxlKXtpZih0Lm9mZnNldCtlPnQubGltaXQpdGhyb3cgbmV3IEVycm9yKFwiU2tpcCBwYXN0IGxpbWl0XCIpO3Qub2Zmc2V0Kz1lO31mdW5jdGlvbiBvTih0KXtyZXR1cm4gdC5vZmZzZXQ+PXQubGltaXR9ZnVuY3Rpb24gQ2EodCxlKXtsZXQgbj10LmJ5dGVzLGk9dC5vZmZzZXQscj10LmxpbWl0LG89aStlO2lmKG8+bi5sZW5ndGgpe2xldCBzPW5ldyBVaW50OEFycmF5KDIqbyk7cy5zZXQobiksdC5ieXRlcz1zO31yZXR1cm4gdC5vZmZzZXQ9byxvPnImJih0LmxpbWl0PW8pLGl9ZnVuY3Rpb24gTWYodCxlKXtsZXQgbj10Lm9mZnNldDtpZihuK2U+dC5saW1pdCl0aHJvdyBuZXcgRXJyb3IoXCJSZWFkIHBhc3QgbGltaXRcIik7cmV0dXJuIHQub2Zmc2V0Kz1lLG59ZnVuY3Rpb24gc04odCxlKXtsZXQgbj1NZih0LGUpLGk9U3RyaW5nLmZyb21DaGFyQ29kZSxyPXQuYnl0ZXMsbz1cIlxcdUZGRkRcIixzPVwiXCI7Zm9yKGxldCBhPTA7YTxlO2ErKyl7bGV0IGMsZCxsLHUsaD1yW2Erbl07MTI4Jmg/KDIyNCZoKT09MTkyP2ErMT49ZT9zKz1vOihjPXJbYStuKzFdLCgxOTImYykhPTEyOD9zKz1vOih1PSgzMSZoKTw8Nnw2MyZjLHU8MTI4P3MrPW86KHMrPWkodSksYSsrKSkpOigyNDAmaCk9PTIyND9hKzI+PWU/cys9bzooYz1yW2ErbisxXSxkPXJbYStuKzJdLCg0OTM0NCYoY3xkPDw4KSkhPTMyODk2P3MrPW86KHU9KDE1JmgpPDwxMnwoNjMmYyk8PDZ8NjMmZCx1PDIwNDh8fHU+PTU1Mjk2JiZ1PD01NzM0Mz9zKz1vOihzKz1pKHUpLGErPTIpKSk6KDI0OCZoKT09MjQwP2ErMz49ZT9zKz1vOihjPXJbYStuKzFdLGQ9clthK24rMl0sbD1yW2ErbiszXSwoMTI2MzIyNTYmKGN8ZDw8OHxsPDwxNikpIT04NDIxNTA0P3MrPW86KHU9KDcmaCk8PDE4fCg2MyZjKTw8MTJ8KDYzJmQpPDw2fDYzJmwsdTw2NTUzNnx8dT4xMTE0MTExP3MrPW86KHUtPTY1NTM2LHMrPWkoNTUyOTYrKHU+PjEwKSw1NjMyMCsoMTAyMyZ1KSksYSs9MykpKTpzKz1vOnMrPWkoaCk7fXJldHVybiBzfWZ1bmN0aW9uIHRyKHQsZSl7bGV0IG49ZS5sZW5ndGgsaT0wO2ZvcihsZXQgcz0wO3M8bjtzKyspe2xldCBhPWUuY2hhckNvZGVBdChzKTthPj01NTI5NiYmYTw9NTYzMTkmJnMrMTxuJiYoYT0oYTw8MTApK2UuY2hhckNvZGVBdCgrK3MpLTU2NjEzODg4KSxpKz1hPDEyOD8xOmE8MjA0OD8yOmE8NjU1MzY/Mzo0O315dCh0LGkpO2xldCByPUNhKHQsaSksbz10LmJ5dGVzO2ZvcihsZXQgcz0wO3M8bjtzKyspe2xldCBhPWUuY2hhckNvZGVBdChzKTthPj01NTI5NiYmYTw9NTYzMTkmJnMrMTxuJiYoYT0oYTw8MTApK2UuY2hhckNvZGVBdCgrK3MpLTU2NjEzODg4KSxhPDEyOD9vW3IrK109YTooYTwyMDQ4P29bcisrXT1hPj42JjMxfDE5MjooYTw2NTUzNj9vW3IrK109YT4+MTImMTV8MjI0OihvW3IrK109YT4+MTgmN3wyNDAsb1tyKytdPWE+PjEyJjYzfDEyOCksb1tyKytdPWE+PjYmNjN8MTI4KSxvW3IrK109NjMmYXwxMjgpO319ZnVuY3Rpb24gdEgodCxlKXtsZXQgbj1DYSh0LGUubGltaXQpLGk9dC5ieXRlcyxyPWUuYnl0ZXM7Zm9yKGxldCBvPTAscz1lLmxpbWl0O288cztvKyspaVtvK25dPXJbb107fWZ1bmN0aW9uIGFOKHQpe3JldHVybiB0LmJ5dGVzW01mKHQsMSldfWZ1bmN0aW9uIFRBKHQsZSl7bGV0IG49Q2EodCwxKTt0LmJ5dGVzW25dPWU7fWZ1bmN0aW9uIEJfKHQpe2xldCBlPU1mKHQsOCksbj10LmJ5dGVzO3JldHVybiBSblswXT1uW2UrK10sUm5bMV09bltlKytdLFJuWzJdPW5bZSsrXSxSblszXT1uW2UrK10sUm5bNF09bltlKytdLFJuWzVdPW5bZSsrXSxSbls2XT1uW2UrK10sUm5bN109bltlKytdLExmWzBdfWZ1bmN0aW9uIGpfKHQsZSl7bGV0IG49Q2EodCw4KSxpPXQuYnl0ZXM7TGZbMF09ZSxpW24rK109Um5bMF0saVtuKytdPVJuWzFdLGlbbisrXT1SblsyXSxpW24rK109Um5bM10saVtuKytdPVJuWzRdLGlbbisrXT1Sbls1XSxpW24rK109Um5bNl0saVtuKytdPVJuWzddO31mdW5jdGlvbiBvcih0KXtsZXQgZSxuPTAsaT0wO2RvIGU9YU4odCksbjwzMiYmKGl8PSgxMjcmZSk8PG4pLG4rPTc7d2hpbGUoMTI4JmUpO3JldHVybiBpfWZ1bmN0aW9uIHl0KHQsZSl7Zm9yKGU+Pj49MDtlPj0xMjg7KVRBKHQsMTI3JmV8MTI4KSxlPj4+PTc7VEEodCxlKTt9ZnVuY3Rpb24gWXIodCxlKXtsZXQgbj1lLmxvdz4+PjAsaT0oZS5sb3c+Pj4yOHxlLmhpZ2g8PDQpPj4+MCxyPWUuaGlnaD4+PjI0LG89cj09PTA/aT09PTA/bjwxNjM4ND9uPDEyOD8xOjI6bjwxPDwyMT8zOjQ6aTwxNjM4ND9pPDEyOD81OjY6aTwxPDwyMT83Ojg6cjwxMjg/OToxMCxzPUNhKHQsbyksYT10LmJ5dGVzO3N3aXRjaChvKXtjYXNlIDEwOmFbcys5XT1yPj4+NyYxO2Nhc2UgOTphW3MrOF09byE9PTk/MTI4fHI6MTI3JnI7Y2FzZSA4OmFbcys3XT1vIT09OD9pPj4+MjF8MTI4Omk+Pj4yMSYxMjc7Y2FzZSA3OmFbcys2XT1vIT09Nz9pPj4+MTR8MTI4Omk+Pj4xNCYxMjc7Y2FzZSA2OmFbcys1XT1vIT09Nj9pPj4+N3wxMjg6aT4+PjcmMTI3O2Nhc2UgNTphW3MrNF09byE9PTU/MTI4fGk6MTI3Jmk7Y2FzZSA0OmFbcyszXT1vIT09ND9uPj4+MjF8MTI4Om4+Pj4yMSYxMjc7Y2FzZSAzOmFbcysyXT1vIT09Mz9uPj4+MTR8MTI4Om4+Pj4xNCYxMjc7Y2FzZSAyOmFbcysxXT1vIT09Mj9uPj4+N3wxMjg6bj4+PjcmMTI3O2Nhc2UgMTphW3NdPW8hPT0xPzEyOHxuOjEyNyZuO319ZnVuY3Rpb24gU0EodCxlKXt2YXIgbj1PYmplY3Qua2V5cyh0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO2UmJihpPWkuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikuZW51bWVyYWJsZX0pKSxuLnB1c2guYXBwbHkobixpKTt9cmV0dXJuIG59dmFyIGVIPW5ldyBNYXAoW1tcIm1vZGVyYXRpb25cIiwxXSxbXCJzdXBlcnZpc2VcIiwyXV0pO2Z1bmN0aW9uIFJBKHQpe3JldHVybiB7bG93OnR8PTAsaGlnaDp0Pj4zMSx1bnNpZ25lZDp0Pj0wfX12YXIgSW09Y2xhc3MgZXh0ZW5kcyBYdHtnZXQgY29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZX1zZXQgY29ubmVjdGlvblN0YXRlKGUpe2lmKHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZT09PWUpcmV0dXJuO2xldCBuPXRoaXMuX2Nvbm5lY3Rpb25TdGF0ZTt0aGlzLl9jb25uZWN0aW9uU3RhdGU9ZSx0aGlzLmVtaXQod2UuQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsbixlKTt9Z2V0IGluc3BlY3RUeXBlKCl7cmV0dXJuIHRoaXMuX2luc3BlY3RUeXBlfXNldCBpbnNwZWN0VHlwZShlKXt2YXIgbjt0aGlzLl9pbnNwZWN0TW9kZT1qaShuPWUubWFwKGk9PmVILmdldChpKXx8MCkpLmNhbGwobiwoaSxyKT0+aStyKSx0aGlzLl9pbnNwZWN0VHlwZT1lO31nZXQgcXVhbGl0eSgpe3JldHVybiB0aGlzLl9xdWFsaXR5fXNldCBxdWFsaXR5KGUpe3RoaXMuX3F1YWxpdHk9ZT4xPzE6ZTwuMT8uMTplLHRoaXMucXVhbGl0eVRpbWVyJiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLnF1YWxpdHlUaW1lciksdGhpcy5xdWFsaXR5VGltZXI9bnVsbCksdGhpcy5fcXVhbGl0eT49MXx8KHRoaXMucXVhbGl0eVRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KCgpPT57dGhpcy5xdWFsaXR5PXRoaXMuX3F1YWxpdHkvdGhpcy5xdWFsaXR5UmF0aW87fSw2ZTQpKTt9Y29uc3RydWN0b3IoZSl7c3VwZXIoKSxUKHRoaXMsXCJuYW1lXCIsXCJBZ29yYVJUQ1ZpZGVvQ29udGVudEluc3BlY3RcIiksVCh0aGlzLFwiX2Nvbm5lY3Rpb25TdGF0ZVwiLEVpLkNPTk5FQ1RJTkcpLFQodGhpcyxcIl9pbm5lckNvbm5lY3Rpb25TdGF0ZVwiLHZvaWQgMCksVCh0aGlzLFwic2VxdWVuY2VcIiwwKSxUKHRoaXMsXCJpbnNwZWN0U3RhcnRUaW1lXCIsdm9pZCAwKSxUKHRoaXMsXCJ3b3JrZXJNYW5hZ2VyQ29ubmVjdGlvblwiLHZvaWQgMCksVCh0aGlzLFwid29ya2VyQ29ubmVjdGlvblwiLHZvaWQgMCksVCh0aGlzLFwid29ya2VyTWVzc2FnZUxlbmd0aExpbWl0XCIsdm9pZCAwKSxUKHRoaXMsXCJpbnNwZWN0SW50ZXJ2YWxNaW5pbXVtXCIsdm9pZCAwKSxUKHRoaXMsXCJxdWFsaXR5UmF0aW9cIix2b2lkIDApLFQodGhpcyxcIl9jb25uZWN0SW5mb1wiLHZvaWQgMCksVCh0aGlzLFwiX2NhbmNlbFRva2VuU291cmNlXCIsbW4uQ2FuY2VsVG9rZW4uc291cmNlKCkpLFQodGhpcyxcIl9yZXRyeUNvbmZpZ1wiLHZvaWQgMCksVCh0aGlzLFwid21TZXF1ZW5jZVwiLDApLFQodGhpcyxcImluc3BlY3RJbnRlcnZhbFwiLHZvaWQgMCksVCh0aGlzLFwiaW5zcGVjdFRpbWVyXCIsbnVsbCksVCh0aGlzLFwib3NzRmlsZVByZWZpeFwiLHZvaWQgMCksVCh0aGlzLFwiZXh0cmFJbmZvXCIsdm9pZCAwKSxUKHRoaXMsXCJfaW5zcGVjdFR5cGVcIix2b2lkIDApLFQodGhpcyxcIl9pbnNwZWN0TW9kZVwiLHZvaWQgMCksVCh0aGlzLFwiX3F1YWxpdHlcIiwxKSxUKHRoaXMsXCJxdWFsaXR5VGltZXJcIixudWxsKSxUKHRoaXMsXCJfaW5zcGVjdElkXCIsdm9pZCAwKSxUKHRoaXMsXCJfbmVlZFdvcmtVcmxPbmx5XCIsITEpLFQodGhpcyxcImluc3BlY3RJbWFnZVwiLCgpPT57aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1FaS5DT05ORUNURUQpdGhyb3cgbmV3IE8oUi5PUEVSQVRJT05fQUJPUlRFRCxcImNvbnRlbnQgaW5zcGVjdCBzZXJ2aWNlIGNvbm5lY3Rpb24gc3RhdHVzIGlzIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSkpO3RoaXMuaW5zcGVjdFRpbWVyJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5pbnNwZWN0VGltZXIpLHRoaXMuaW5zcGVjdFRpbWVyPW51bGwpLHRoaXMuaW5zcGVjdFRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPT09RWkuQ09OTkVDVEVEP3RoaXMucmVxdWVzdFRvSW5zcGVjdEltYWdlKCk6Xy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5faW5zcGVjdElkLFwiXSBJbnNwZWN0IFN0YXRlIGlzIG5vdCBjb25uZWN0ZWQgLCBcIiksdGhpcy5jb25uZWN0aW9uU3RhdGUpO30sdGhpcy5pbnNwZWN0SW50ZXJ2YWw8dGhpcy5pbnNwZWN0SW50ZXJ2YWxNaW5pbXVtP3RoaXMuaW5zcGVjdEludGVydmFsTWluaW11bTp0aGlzLmluc3BlY3RJbnRlcnZhbCksdGhpcy5yZXF1ZXN0VG9JbnNwZWN0SW1hZ2UoKTt9KSx0aGlzLl9pbnNwZWN0SWQ9VXQoNSxcImluc3BlY3QtXCIpLHRoaXMud29ya2VyTWVzc2FnZUxlbmd0aExpbWl0PXYoXCJWSURFT19JTlNQRUNUX1dPUktFUl9NRVNTQUdFX0xFTkdUSF9MSU1JVFwiKSx0aGlzLmluc3BlY3RJbnRlcnZhbE1pbmltdW09dihcIlZJREVPX0lOU1BFQ1RfSU5URVJWQUxfTUlOSU1VTVwiKSx0aGlzLnF1YWxpdHlSYXRpbz12KFwiVklERU9fSU5TUEVDVF9RVUFMSVRZX1JBVElPXCIpLHRoaXMuaW5zcGVjdEludGVydmFsPWUuaW50ZXJ2YWwsdGhpcy5vc3NGaWxlUHJlZml4PWUub3NzRmlsZVByZWZpeCx0aGlzLmV4dHJhSW5mbz1lLmV4dHJhSW5mbyx0aGlzLmluc3BlY3RUeXBlPWUuaW5zcGVjdFR5cGUsdGhpcy5pbnNwZWN0U3RhcnRUaW1lPU51bWJlcihEYXRlLm5vdygpKSx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uPW5ldyBRbyhcIndvcmtlci1tYW5hZ2VyLVwiK3RoaXMuX2luc3BlY3RJZCxFZSksdGhpcy5vbih3ZS5TVEFURV9DSEFOR0UsKG4saSk9Pnt0aGlzLl9pbm5lckNvbm5lY3Rpb25TdGF0ZT1uLF8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gSW5zcGVjdCBvcGVyYXRpb24gOlwiKS5jb25jYXQoZGlbbl0sXCIgXCIpLmNvbmNhdChpfHxcIlwiKSk7fSksdGhpcy5oYW5kbGVXb3JrZXJNYW5hZ2VyRXZlbnRzKCksdGhpcy53b3JrZXJDb25uZWN0aW9uPW5ldyBRbyhcIndvcmtlci1cIit0aGlzLl9pbnNwZWN0SWQsRWUpLHRoaXMuaGFuZGxlV29ya2VyRXZlbnRzKCk7fWFzeW5jIGluaXQoZSxuKXt0aGlzLmVtaXQod2UuU1RBVEVfQ0hBTkdFLGRpLkNPTk5FQ1RfQVApLHRoaXMuX2Nvbm5lY3RJbmZvPWU7bGV0IGk9dGhpcy5fY2FuY2VsVG9rZW5Tb3VyY2UudG9rZW47cmV0dXJuIHRoaXMuX3JldHJ5Q29uZmlnPW4sbmV3IGooKHIsbyk9Pnt0aGlzLm9uKHdlLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLChzLGEpPT57YT09PUVpLkNPTk5FQ1RFRCYmcigpO30pLHRoaXMucmVxdWVzdEFQKGUsaSxuKS50aGVuKHM9Pnt0aGlzLmNvbm5lY3RXb3JrZXJNYW5hZ2VyKHMpO30pLmNhdGNoKHM9PntvKHMpO30pO30pfWFzeW5jIHJlcXVlc3RBUChlLG4saSl7bGV0IHI9dihcIldFQkNTX0RPTUFJTlwiKS5tYXAoYT0+XCJodHRwczovL1wiLmNvbmNhdChhLFwiL2FwaS92MVwiKSksbz1hd2FpdCBmdW5jdGlvbihhLGMsZCxsKXtsZXR7YXBwSWQ6dSxhcmVhQ29kZTpoLGNuYW1lOnAsc2lkOmcsdG9rZW46RSx1aWQ6Zn09YztZcysrO2xldCBTPVwiaW1hZ2VfbW9kZXJhdGlvbl9hcGlcIixDPXtzZXJ2aWNlX25hbWU6Uyxqc29uX2JvZHk6SlNPTi5zdHJpbmdpZnkoe2FwcElkOnUsYXJlYUNvZGU6aCxjbmFtZTpwLGNvbW1hbmQ6XCJhbGxvY2F0ZUVkZ2VcIixyZXF1ZXN0SWQ6WXMsc2VxOllzLHNpZDpnLHRva2VuOkUsdHM6RGF0ZS5ub3coKSx1aWQ6ZitcIlwifSl9LEEsYix3PWFbMF07cmV0dXJuIFdpKGFzeW5jKCk9PntBPURhdGUubm93KCk7bGV0IEQ9YXdhaXQgSGkodyx7ZGF0YTpDLGNhbmNlbFRva2VuOmQsaGVhZGVyczp7XCJYLVBhY2tldC1TZXJ2aWNlLVR5cGVcIjpcIjBcIixcIlgtUGFja2V0LVVSSVwiOlwiNjFcIn0scGFyYW1zOnthY3Rpb246XCJ3cnRjX2dhdGV3YXlcIn19KTtpZihiPURhdGUubm93KCktQSxELmNvZGUhPT0wKXtsZXQgej1uZXcgTyhSLlVORVhQRUNURURfUkVTUE9OU0UsXCJpbWFnZSBpbnNwZWN0IGFwIGVycm9yLCBjb2RlXCIrRC5jb2RlLHtyZXRyeTohMCxyZXNwb25zZVRpbWU6Yn0pO3Rocm93IF8uZXJyb3Ioei50b1N0cmluZygpKSx6fWxldCBrPUpTT04ucGFyc2UoRC5qc29uX2JvZHkpO2lmKGsuY29kZSE9PTIwMCl7bGV0IHo9bmV3IE8oUi5VTkVYUEVDVEVEX1JFU1BPTlNFLFwiaW1hZ2UgaW5zcGVjdCBhcCBlcnJvciwgY29kZTogXCIuY29uY2F0KGsuY29kZSxcIiwgcmVhc29uOiBcIikuY29uY2F0KGsucmVhc29uKSx7Y29kZTprLmNvZGUscmVzcG9uc2VUaW1lOmJ9KTt0aHJvdyBfLmVycm9yKHoudG9TdHJpbmcoKSksen1pZighay5zZXJ2ZXJzfHwhQXJyYXkuaXNBcnJheShrLnNlcnZlcnMpfHxrLnNlcnZlcnMubGVuZ3RoPT09MCl7bGV0IHo9bmV3IE8oUi5VTkVYUEVDVEVEX1JFU1BPTlNFLFwiaW1hZ2UgaW5zcGVjdCBhcCBlbXB0eSBzZXJ2ZXJcIix7Y29kZTprLmNvZGUscmVzcG9uc2VUaW1lOmJ9KTt0aHJvdyBfLmVycm9yKHoudG9TdHJpbmcoKSksen1sZXQgQj12KFwiVklERU9fSU5TUEVDVF9XT1JLRVJfTUFOQUdFUl9IT1NUXCIpLFY9dihcIlZJREVPX0lOU1BFQ1RfV09SS0VSX01BTkFHRVJfUE9SVFwiKTtyZXR1cm4ge2FkZHJlc3NMaXN0Omsuc2VydmVycy5tYXAoej0+e2xldHthZGRyZXNzOmx0LHdzczp2dH09ejtpZihsdCYmdnQpcmV0dXJuIFwid3NzOi8vXCIuY29uY2F0KGx0LnJlcGxhY2UoL1xcLi9nLFwiLVwiKSxcIi5cIikuY29uY2F0KEIsXCI6XCIpLmNvbmNhdChWfHx2dCl9KS5maWx0ZXIoej0+ISF6KSx3b3JrZXJUb2tlbjprLndvcmtlclRva2VuLHZpZDprLnZpZCxyZXNwb25zZVRpbWU6Yn19LChELGspPT4oWC5hcHdvcmtlckV2ZW50KGcse3N1Y2Nlc3M6ITAsc2M6MjAwLHNlcnZpY2VOYW1lOlMscmVzcG9uc2VEZXRhaWw6SlNPTi5zdHJpbmdpZnkoRC5hZGRyZXNzTGlzdCksZmlyc3RTdWNjZXNzOms9PT0wLHJlc3BvbnNlVGltZTpiLHNlcnZlcklwOmFbayVhLmxlbmd0aF19KSwhMSksKEQsayk9PihYLmFwd29ya2VyRXZlbnQoZyx7c3VjY2VzczohMSxzYzpELmRhdGEmJkQuZGF0YS5jb2RlfHwyMDAsc2VydmljZU5hbWU6UyxyZXNwb25zZVRpbWU6YixzZXJ2ZXJJcDphW2slYS5sZW5ndGhdfSksISEoRC5jb2RlIT09Ui5PUEVSQVRJT05fQUJPUlRFRCYmRC5jb2RlIT09Ui5VTkVYUEVDVEVEX1JFU1BPTlNFfHxELmRhdGEmJkQuZGF0YS5yZXRyeSkmJih3PWFbKGsrMSklYS5sZW5ndGhdLCEwKSksbCl9KHIsZSxuLGkpO3RoaXMuZW1pdCh3ZS5TVEFURV9DSEFOR0UsZGkuQVBfQ09OTkVDVEVEKTtsZXR7YWRkcmVzc0xpc3Q6c309bztyZXR1cm4gdGhpcy53bVNlcXVlbmNlKyssc31hc3luYyBjb25uZWN0V29ya2VyTWFuYWdlcihlKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMCYmYXJndW1lbnRzWzFdO3RoaXMuX25lZWRXb3JrVXJsT25seT1uLHRoaXMuZW1pdCh3ZS5TVEFURV9DSEFOR0UsZGkuQ09OTkVDVF9XT1JLRVJfTUFOQUdFUiksYXdhaXQgdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5pbml0KGUsMWU0KTt9YXN5bmMgY29ubmVjdFdvcmtlcihlKXthd2FpdCB0aGlzLndvcmtlckNvbm5lY3Rpb24uaW5pdChbZV0pO31oYW5kbGVXb3JrZXJNYW5hZ2VyRXZlbnRzKCl7dGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5vbihpdC5DT05ORUNURUQsYXN5bmMoKT0+e3RoaXMuZW1pdCh3ZS5TVEFURV9DSEFOR0UsZGkuV09SS0VSX01BTkFHRVJfQ09OTkVDVEVELHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24udXJsKSx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLnNlbmRNZXNzYWdlKHthcHBJZDp0aGlzLl9jb25uZWN0SW5mby5hcHBJZCxjbmFtZTp0aGlzLl9jb25uZWN0SW5mby5jbmFtZSx1aWQ6dGhpcy5fY29ubmVjdEluZm8udWlkK1wiXCIsc2RrVmVyc2lvbjpcIjQuMjIuMFwiLHNpZDp0aGlzLl9jb25uZWN0SW5mby5zaWQsc2VxOnRoaXMud21TZXF1ZW5jZSx0czpOdW1iZXIoRGF0ZS5ub3coKSkscmVxdWVzdElkOk1hdGguZmxvb3IoMWUxMipNYXRoLnJhbmRvbSgpKSxhbGxvY2F0ZTohMCxjbGllbnRSZXF1ZXN0Ontjb21tYW5kOlwiam9pblwifX0sITApO30pLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24ub24oaXQuQ0xPU0VELCgpPT57dGhpcy5faW5uZXJDb25uZWN0aW9uU3RhdGU8ZGkuR0VUX1dPUktFUl9NQU5BR0VSX1JFU1BPTlNFJiZfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9pbnNwZWN0SWQsXCJdIEluc3BlY3Qgd29ya2VyIG1hbmFnZXIgaXMgY2xvc2VkIGJlZm9yZSBjb25uZWN0aW5nIHdvcmtlclwiKSk7fSksdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5vbihpdC5GQUlMRUQsKCk9Pnt0aGlzLl9pbm5lckNvbm5lY3Rpb25TdGF0ZTxkaS5HRVRfV09SS0VSX01BTkFHRVJfUkVTUE9OU0UmJl8uZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gQ29ubmVjdGluZyBpbnNwZWN0IHdvcmtlciBtYW5hZ2VyIGlzIGZhaWxlZCBiZWZvcmUgY29ubmVjdGluZyB3b3JrZXJcIikpO30pLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24ub24oaXQuUkVDT05ORUNUSU5HLCgpPT57dGhpcy5faW5uZXJDb25uZWN0aW9uU3RhdGU8ZGkuR0VUX1dPUktFUl9NQU5BR0VSX1JFU1BPTlNFJiZfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9pbnNwZWN0SWQsXCJdIEluc3BlY3Qgd29ya2VyIG1hbmFnZXIgaXMgcmVjb25uZWN0aW5nIGJlZm9yZSBjb25uZWN0aW5nIHdvcmtlclwiKSk7fSksdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5vbihpdC5PTl9NRVNTQUdFLGFzeW5jIGU9Pnt0aGlzLmVtaXQod2UuU1RBVEVfQ0hBTkdFLGRpLkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRSk7bGV0IG49dGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi51cmw7dGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5jbG9zZSgpO2xldCBpPUpTT04ucGFyc2UoZS5kYXRhKTtpZihpLmNvZGUhPT0yMDApdGhyb3cgXy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5faW5zcGVjdElkLFwiXSBVbmV4cGVjdGVkIGNvZGUgXCIpLmNvbmNhdChpLmNvZGUsXCIgZnJvbSB3b3JrZXIgbWFuYWdlclwiKSksbmV3IE8oUi5VTkVYUEVDVEVEX1JFU1BPTlNFLFwicmVzcG9uc2UgY29kZSBvZiB3b3JrZXIgaXMgdW5leHBlY3RlZFwiLGkpO2lmKCEoaS5zZXJ2ZXJSZXNwb25zZSYmaS5zZXJ2ZXJSZXNwb25zZS5wb3J0V3NzJiZuKSl0aHJvdyBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9pbnNwZWN0SWQsXCJdIFVuZXhwZWN0ZWQgY29udGVudCBmcm9tIHdvcmtlciBtYW5hZ2VyIDogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShpKSkpLG5ldyBPKFIuVU5FWFBFQ1RFRF9SRVNQT05TRSxcInJlc3BvbnNlIGNvbnRlbnQgb2Ygd29ya2VyIGlzIHVuZXhwZWN0ZWRcIixpKTt7bGV0IHI9dihcIlZJREVPX0lOU1BFQ1RfV09SS0VSX1BPUlRcIil8fGkuc2VydmVyUmVzcG9uc2UucG9ydFdzcyxvPW4ucmVwbGFjZSgvOlxcZCtcXC8/JC8sXCI6XCIuY29uY2F0KHIpKTt0aGlzLmVtaXQod2UuU1RBVEVfQ0hBTkdFLGRpLkNPTk5FQ1RfV09SS0VSLG8pLHRoaXMuX25lZWRXb3JrVXJsT25seT90aGlzLmVtaXQod2UuUkVRVUVTVF9ORVdfV09SS0VSX1VSTCxvKTphd2FpdCB0aGlzLmNvbm5lY3RXb3JrZXIobyk7fX0pLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24ub24oaXQuV0lMTF9SRUNPTk5FQ1QsKGUsbixpKT0+e2koZSk7fSksdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5vbihpdC5SRVFVRVNUX05FV19VUkxTLChlLG4pPT57dGhpcy5yZXF1ZXN0QVAodGhpcy5fY29ubmVjdEluZm8sdGhpcy5fY2FuY2VsVG9rZW5Tb3VyY2UudG9rZW4sdGhpcy5fcmV0cnlDb25maWcpLnRoZW4oZSkuY2F0Y2gobik7fSk7fWhhbmRsZVdvcmtlckV2ZW50cygpe3RoaXMud29ya2VyQ29ubmVjdGlvbi5vbihpdC5DT05ORUNURUQsYXN5bmMoKT0+e3RoaXMuZW1pdCh3ZS5TVEFURV9DSEFOR0UsZGkuV09SS0VSX0NPTk5FQ1RFRCx0aGlzLndvcmtlckNvbm5lY3Rpb24udXJsKSx0aGlzLmNvbm5lY3Rpb25TdGF0ZT1FaS5DT05ORUNURUQ7fSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKGl0Lk9OX01FU1NBR0UsYXN5bmMgZT0+e2lmKGUuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXtsZXQgaT16MyhuZXcgVWludDhBcnJheShlLmRhdGEpKTtpZih2KFwiU0hPV19WSURFT19JTlNQRUNUX1dPUktFUl9NRVNTQUdFXCIpJiZfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9pbnNwZWN0SWQsXCJdIFJlc3BvbnNlIG1lc3NhZ2UgZm9yIHdvcmtlciBvZiBpbnNwZWN0IGNvbnRlbnQgXCIpLEpTT04uc3RyaW5naWZ5KGkpKSxpLmNvZGU9PT0yMDApe2lmKEFycmF5LmlzQXJyYXkodGhpcy5pbnNwZWN0VHlwZSkmJnRoaXMuaW5zcGVjdFR5cGUubGVuZ3RoPT09MSYmdGhpcy5pbnNwZWN0VHlwZVswXT09PVwic3VwZXJ2aXNlXCIpcmV0dXJuIHZvaWQgdGhpcy5lbWl0KHdlLklOU1BFQ1RfUkVTVUxULHZvaWQgMCx2b2lkIDApO2lmKGkuZGF0YSYmaS5kYXRhLnNjb3JlUG9ybiYmaS5kYXRhLnNjb3JlU2V4eSYmaS5kYXRhLnNjb3JlTmV1dHJhbCl7dmFyIG47bGV0IHI9e3Bvcm46aS5kYXRhLnNjb3JlUG9ybixzZXh5OmkuZGF0YS5zY29yZVNleHksbmV1dHJhbDppLmRhdGEuc2NvcmVOZXV0cmFsfSxvPWppKG49T2JqZWN0LmtleXMocikpLmNhbGwobiwoYSxjKT0+clthXT5yW2NdP2E6YyxcInBvcm5cIikscz1PYmplY3Qua2V5cyhyKS5maW5kKGE9PmE9PT1vKTt0aGlzLmVtaXQod2UuSU5TUEVDVF9SRVNVTFQscyk7fWVsc2UgdGhpcy5lbWl0KHdlLklOU1BFQ1RfUkVTVUxULHZvaWQgMCxuZXcgTyhSLlVORVhQRUNURURfUkVTUE9OU0UsaS5jb2RlK1wiXCIsXCJUaGVyZSBpcyBhbiB1bmV4cGVjdGVkIGRhdGEgb24gbWVzc2FnZVwiKSk7fWVsc2UgdGhpcy5lbWl0KHdlLklOU1BFQ1RfUkVTVUxULHZvaWQgMCxuZXcgTyhSLlVORVhQRUNURURfUkVTUE9OU0UsaS5jb2RlK1wiXCIsaS5tc2cpKTt9ZWxzZSBfLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9pbnNwZWN0SWQsXCJdIFVuZXhwZWN0ZWQgbWVzc2FnZSB0eXBlIGZyb20gd29ya2VyXCIpKSx0aGlzLmVtaXQod2UuSU5TUEVDVF9SRVNVTFQsdm9pZCAwLG5ldyBPKFIuVU5FWFBFQ1RFRF9SRVNQT05TRSxcImludmFsaWQgd29ya2VyIG1lc3NhZ2UgdHlwZVwiKSk7fSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKGl0LkNMT1NFRCwoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPUVpLkNMT1NFRDt9KSx0aGlzLndvcmtlckNvbm5lY3Rpb24ub24oaXQuRkFJTEVELCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9RWkuQ0xPU0VEO30pLHRoaXMud29ya2VyQ29ubmVjdGlvbi5vbihpdC5SRUNPTk5FQ1RJTkcsKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT10aGlzLmNvbm5lY3Rpb25TdGF0ZT09PUVpLkNPTk5FQ1RFRD9FaS5SRUNPTk5FQ1RJTkc6RWkuQ09OTkVDVElORzt9KSx0aGlzLndvcmtlckNvbm5lY3Rpb24ub24oaXQuV0lMTF9SRUNPTk5FQ1QsKGUsbixpKT0+e2U9PT1cInJlY292ZXJcIiYmaShlKSxpKFwidHJ5TmV4dFwiKTt9KSx0aGlzLndvcmtlckNvbm5lY3Rpb24ub24oaXQuUkVRVUVTVF9ORVdfVVJMUywoZSxuKT0+e3RoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLm9uY2Uod2UuUkVRVUVTVF9ORVdfV09SS0VSX1VSTCxpPT57ZShbaV0pO30pLHRoaXMucmVxdWVzdEFQKHRoaXMuX2Nvbm5lY3RJbmZvLHRoaXMuX2NhbmNlbFRva2VuU291cmNlLnRva2VuLHRoaXMuX3JldHJ5Q29uZmlnKS50aGVuKGk9Pnt0aGlzLmNvbm5lY3RXb3JrZXJNYW5hZ2VyKGksITApO30pLmNhdGNoKGk9PntuKGkpO30pO30pO31hc3luYyByZXF1ZXN0VG9JbnNwZWN0SW1hZ2UoKXt0aGlzLnNlcXVlbmNlKys7bGV0IGU9bmkodGhpcyx3ZS5DTElFTlRfTE9DQUxfVklERU9fVFJBQ0spLG49e2FwcElkOnRoaXMuX2Nvbm5lY3RJbmZvLmFwcElkLGNuYW1lOnRoaXMuX2Nvbm5lY3RJbmZvLmNuYW1lLGNpZDp0aGlzLl9jb25uZWN0SW5mby5jaWQsc2lkOnRoaXMuX2Nvbm5lY3RJbmZvLnNpZCx1aWQ6dGhpcy5fY29ubmVjdEluZm8udWlkLHZpZDp0aGlzLl9jb25uZWN0SW5mby52aWR9O2lmKGUpe2lmKCFlLmlzUGxheWluZylyZXR1cm4gdm9pZCB0aGlzLmVtaXQod2UuSU5TUEVDVF9SRVNVTFQsdm9pZCAwLG5ldyBPKFIuSU5WQUxJRF9PUEVSQVRJT04sXCJPbmx5IHRoZSB0cmFjayBiZWluZyBwbGF5ZWQgY2FuIGJlIGluc3BlY3RlZFwiKSk7bGV0IGk9YXdhaXQgdGhpcy5nZW5lcmF0ZVJlcXVlc3REYXRhKGUsbik7dGhpcy53b3JrZXJDb25uZWN0aW9uLnNlbmRNZXNzYWdlKGksITAsITApO31lbHNlIHRoaXMuZW1pdCh3ZS5JTlNQRUNUX1JFU1VMVCx2b2lkIDAsbmV3IE8oUi5JTlZBTElEX09QRVJBVElPTixcIk9ubHkgdGhlIHRyYWNrIGJlaW5nIHB1Ymxpc2hlZCBjYW4gYmUgaW5zcGVjdGVkXCIpKTt9YXN5bmMgZ2VuZXJhdGVSZXF1ZXN0RGF0YShlLG4pe2xldHthcHBJZDppLGNuYW1lOnIsY2lkOm8sdmlkOnMsc2lkOmEsdWlkOmN9PW4sZD1EYXRlLm5vdygpLGw9YXdhaXQgZS5nZXRDdXJyZW50RnJhbWVJbWFnZShcImltYWdlL2pwZWdcIix0aGlzLnF1YWxpdHkpLHU9YXdhaXQgUU8obCxpLHIpLGg9dGhpcy5zZXF1ZW5jZStcIi1cIitvK1wiLVwiK2MrXCItXCIrZCtcIi1cIitVdCgxMixcIlwiKSxwPXthcHBJZDppLGNpZDpvLGNuYW1lOnIsZGV2aWNlSWQ6XCJcIixlbGFwc2U6UkEoTnVtYmVyKGQtdGhpcy5pbnNwZWN0U3RhcnRUaW1lKSksZmlsZVNpemU6dS5ieXRlTGVuZ3RoLGpwZ0VuY3J5cHRpb246MixoZWlnaHQ6bC5oZWlnaHQsd2lkdGg6bC53aWR0aCxqcGc6dSxuZXR3b3JrVHlwZTo2LG9zVHlwZTo3LHJlcXVlc3RJZDpoLHNka1ZlcnNpb246XCI0LjIyLjBcIixzZXF1ZW5jZTp0aGlzLnNlcXVlbmNlLHNpZDphLHRpbWVzdGFtcDpSQShkKSx1aWQ6Yyx2aWQ6cyxzZXJ2aWNlOnRoaXMuX2luc3BlY3RNb2RlLGNhbGxiYWNrRGF0YTp0aGlzLmV4dHJhSW5mbyxvc3NGaWxlUHJlZml4OnRoaXMub3NzRmlsZVByZWZpeH07dGhpcy5leHRyYUluZm89PT12b2lkIDAmJmRlbGV0ZSBwLmNhbGxiYWNrRGF0YSx0aGlzLm9zc0ZpbGVQcmVmaXg9PT12b2lkIDAmJmRlbGV0ZSBwLm9zc0ZpbGVQcmVmaXg7bGV0IGc9cTMocCk7aWYoZy5ieXRlTGVuZ3RoPHRoaXMud29ya2VyTWVzc2FnZUxlbmd0aExpbWl0KXtpZih2KFwiU0hPV19WSURFT19JTlNQRUNUX1dPUktFUl9NRVNTQUdFXCIpKXtsZXQgRT1mdW5jdGlvbihmKXtmb3IodmFyIFM9MTtTPGFyZ3VtZW50cy5sZW5ndGg7UysrKXt2YXIgQz1hcmd1bWVudHNbU10hPW51bGw/YXJndW1lbnRzW1NdOnt9O1MlMj9TQShPYmplY3QoQyksITApLmZvckVhY2goZnVuY3Rpb24oQSl7VChmLEEsQ1tBXSk7fSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhDKSk6U0EoT2JqZWN0KEMpKS5mb3JFYWNoKGZ1bmN0aW9uKEEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShmLEEsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihDLEEpKTt9KTt9cmV0dXJuIGZ9KHt9LHApO2RlbGV0ZSBFLmpwZyxfLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9pbnNwZWN0SWQsXCJdIFJlcXVlc3QgbWVzc2FnZSBmb3Igd29ya2VyIG9mIGluc3BlY3QgY29udGVudCBcIiksSlNPTi5zdHJpbmdpZnkoRSkpO31yZXR1cm4gZ317bGV0IEU9dGhpcy5xdWFsaXR5KnRoaXMucXVhbGl0eVJhdGlvO3JldHVybiB0aGlzLnF1YWxpdHk9RSxhd2FpdCB0aGlzLmdlbmVyYXRlUmVxdWVzdERhdGEoZSx7YXBwSWQ6aSxjbmFtZTpyLGNpZDpvLHZpZDpzLHNpZDphLHVpZDpjfSl9fWNsb3NlKCl7dGhpcy5fY2FuY2VsVG9rZW5Tb3VyY2UuY2FuY2VsKCksdGhpcy5fY2FuY2VsVG9rZW5Tb3VyY2U9bW4uQ2FuY2VsVG9rZW4uc291cmNlKCksdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbiYmdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMud29ya2VyQ29ubmVjdGlvbiYmdGhpcy53b3JrZXJDb25uZWN0aW9uLmNsb3NlKCksdGhpcy5pbnNwZWN0VGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaW5zcGVjdFRpbWVyKSx0aGlzLmluc3BlY3RUaW1lcj1udWxsLHRoaXMuY29ubmVjdGlvblN0YXRlPUVpLkNMT1NFRCx0aGlzLmVtaXQod2UuU1RBVEVfQ0hBTkdFLGRpLkNMT1NFRCk7fX0sbkg9e25hbWU6XCJDb250ZW50SW5zcGVjdFwiLGNyZWF0ZTpmdW5jdGlvbih0KXtsZXR7Y29uZmlnOmV9PXQ7cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKCFuKXRocm93IG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJpbnNwZWN0Q29uZmlnIGlzIG5lY2Vzc2FyeS5cIik7aWYoIW4uaW5zcGVjdFR5cGV8fCFBcnJheS5pc0FycmF5KG4uaW5zcGVjdFR5cGUpKXRocm93IG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJpbnNwZWN0Q29uZmlnLmluc3BlY3RUeXBlIGlzIG5lY2Vzc2FyeSBhbmQgaXMgYW4gaW5zdGFuY2Ugb2YgQXJyYXkuXCIpO3tsZXQgaT1bLi4ubmV3IFNldChuLmluc3BlY3RUeXBlKV07aS5mb3JFYWNoKHI9Pnt2YXIgbztpZighVyhvPVtcInN1cGVydmlzZVwiLFwibW9kZXJhdGlvblwiXSkuY2FsbChvLHIpKXRocm93IG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJcIi5jb25jYXQocixcIiBpcyBub3QgYSB2YWxpZCBpbnNwZWN0IHR5cGUuXCIpKX0pLG4uaW5zcGVjdFR5cGU9aTt9aWYobiYmbi5leHRyYUluZm8mJm4uZXh0cmFJbmZvLmxlbmd0aD4xMDI0KXRocm93IG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJpbnNwZWN0Q29uZmlnLmV4dHJhSW5mbyBsZW5ndGggY2Fubm90IGV4Y2VlZCAxMDI0IGJ5dGVzXCIpfShlKSxuZXcgSW0oZSl9fTtPdChcIlBST0NFU1NfSURcIixcInByb2Nlc3MtXCIuY29uY2F0KFV0KDgsXCJcIiksXCItXCIpLmNvbmNhdChVdCg0LFwiXCIpLFwiLVwiKS5jb25jYXQoVXQoNCxcIlwiKSxcIi1cIikuY29uY2F0KFV0KDQsXCJcIiksXCItXCIpLmNvbmNhdChVdCgxMixcIlwiKSkpLGZ1bmN0aW9uKCl7bGV0IHQ7dHJ5e3Q9d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwid2Vic2RrX25nX2dsb2JhbF9wYXJhbWV0ZXJcIik7fWNhdGNoKGUpe3JldHVybiB2b2lkIF8uZXJyb3IoXCJFcnJvciBsb2FkaW5nIHNkayBjb25maWdcIixlLm1lc3NhZ2UpfWlmKHQpdHJ5e2xldCBlPUpTT04ucGFyc2Uod2luZG93LmF0b2IodCkpLG49RGF0ZS5ub3coKTtfLmRlYnVnKFwiTG9hZGluZyBnbG9iYWwgcGFyYW1ldGVycyBmcm9tIGNhY2hlXCIsZSksT2JqZWN0LmtleXMoZSkuZm9yRWFjaChpPT57aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9lLGkpKXtsZXR7dmFsdWU6cixleHBpcmVzOm99PWVbaV07aWYobyYmbzw9bilyZXR1cm47JHJbaV09cixvZVtpXT1yO319KTt9Y2F0Y2goZSl7Xy5lcnJvcihcIkVycm9yIGxvYWRpbmcgbXV0YWJsZVBhcmFtc0NhY2hlOiBcIi5jb25jYXQodCksZS5tZXNzYWdlKTt9fSgpLEFycmF5LmlzQXJyYXkoJHIuQVJFQVMpJiYkci5BUkVBUy5sZW5ndGg+MCYmQWYoJHIuQVJFQVMsITApO3ZhciBDQT0odCxlLG4pPT57Xy5kZWJ1ZyhcInNldFBhcmFtZXRlciBrZXk6XCIuY29uY2F0KHQsXCIsIHZhbHVlOlwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZSkpKSxPdCh0LGUsbik7fTtCYShLMywhMSksQmEoWTMsITEpLEJhKFBXLCExKSxCYShuSCwhMSksQmEoSDMsITEpO3ZhciBNdD1mdW5jdGlvbih0KXtsZXQgZT1uZXcgWHQsbj10LGk9e2dldExpc3RlbmVyczplLmdldExpc3RlbmVycy5iaW5kKGUpLG9uOihyLG8pPT4oZnVuY3Rpb24ocyxhKXtzPT09bnIuU0VDVVJJVFlfUE9MSUNZX1ZJT0xBVElPTiYmTDAoYSwhMCk7fShyLG8pLGUub24uYmluZChlKShyLG8pKSxhZGRMaXN0ZW5lcjplLmFkZExpc3RlbmVyLmJpbmQoZSksb25jZTplLm9uY2UuYmluZChlKSxvZmY6ZS5vZmYuYmluZChlKSxyZW1vdmVBbGxMaXN0ZW5lcnM6ZS5yZW1vdmVBbGxMaXN0ZW5lcnMuYmluZChlKSxlbWl0OmUuZW1pdC5iaW5kKGUpLHNhZmVFbWl0OmUuc2FmZUVtaXQuYmluZChlKX07cmV0dXJuIEp5KEp5KHt9LG4pLGkpfSh7X19UUkFDS19MSVNUX186QXMsVkVSU0lPTjppaSxCVUlMRDpFZixFU01fQlVORExFUjohMSxFU006ITAsVU1EOiExLERFVjohMSxzZXRQYXJhbWV0ZXI6Q0EsZ2V0UGFyYW1ldGVyOnYsZ2V0U3VwcG9ydGVkQ29kZWM6YXN5bmMgZnVuY3Rpb24oKXtsZXQgdD17YXVkaW86W10sdmlkZW86W119O3RyeXtsZXQgZT1uZXcgUlRDUGVlckNvbm5lY3Rpb24sbj1hd2FpdCBhc3luYyBmdW5jdGlvbihpKXtsZXQgcjtyZXR1cm4gZnQoKS5zdXBwb3J0VW5pZmllZFBsYW4/KGkuYWRkVHJhbnNjZWl2ZXIoXCJ2aWRlb1wiLHtkaXJlY3Rpb246XCJyZWN2b25seVwifSksaS5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIse2RpcmVjdGlvbjpcInJlY3Zvbmx5XCJ9KSxyPShhd2FpdCBpLmNyZWF0ZU9mZmVyKCkpLnNkcCk6cj0oYXdhaXQgaS5jcmVhdGVPZmZlcih7b2ZmZXJUb1JlY2VpdmVBdWRpbzohMCxvZmZlclRvUmVjZWl2ZVZpZGVvOiEwfSkpLnNkcCxyfShlKTtpZighbilyZXR1cm4gdDtlLmNsb3NlKCksZT1udWxsLHQ9ZnVuY3Rpb24oaSl7bGV0IHI9e3ZpZGVvOltdLGF1ZGlvOltdfTtyZXR1cm4gaS5tYXRjaCgvIFZQOC9pKSYmci52aWRlby5wdXNoKFwiVlA4XCIpLGkubWF0Y2goLyBWUDkvaSkmJnIudmlkZW8ucHVzaChcIlZQOVwiKSxpLm1hdGNoKC8gQVYxL2kpJiZyLnZpZGVvLnB1c2goXCJBVjFcIiksaS5tYXRjaCgvIEgyNjQvaSkmJnIudmlkZW8ucHVzaChcIkgyNjRcIiksaS5tYXRjaCgvIEgyNjUvaSkmJnIudmlkZW8ucHVzaChcIkgyNjVcIiksaS5tYXRjaCgvIG9wdXMvaSkmJnIuYXVkaW8ucHVzaChcIk9QVVNcIiksaS5tYXRjaCgvIFBDTVUvaSkmJnIuYXVkaW8ucHVzaChcIlBDTVVcIiksaS5tYXRjaCgvIFBDTUEvaSkmJnIuYXVkaW8ucHVzaChcIlBDTUFcIiksaS5tYXRjaCgvIEc3MjIvaSkmJnIuYXVkaW8ucHVzaChcIkc3MjJcIikscn0obik7fWNhdGNoKGUpe3Rocm93IG5ldyBPKFIuQ1JFQVRFX09GRkVSX0ZBSUxFRCxlLnRvU3RyaW5nJiZlLnRvU3RyaW5nKCkpLnByaW50KCl9cmV0dXJuIHR9LGNoZWNrU3lzdGVtUmVxdWlyZW1lbnRzOmZ1bmN0aW9uKCl7bGV0IHQ9WC5yZXBvcnRBcGlJbnZva2UobnVsbCx7bmFtZTpUZS5DSEVDS19TWVNURU1fUkVRVUlSRU1FTlRTLG9wdGlvbnM6W10sdGFnOlp0LlRSQUNFUn0pLGU9ITE7dHJ5e2xldCBvPXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbixzPW5hdmlnYXRvci5tZWRpYURldmljZXMmJm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLGE9d2luZG93LldlYlNvY2tldDtlPSEhKG8mJnMmJmEpLGUmJmxmKCkmJkVPKDc1KSYmbmV3IG8oKS5jbG9zZSgpO31jYXRjaChvKXtyZXR1cm4gXy5lcnJvcihcImNoZWNrIHN5c3RlbSByZXF1aXJlbWVudCBmYWlsZWQ6IFwiLG8pLCExfWxldCBuPSExLGk9bXQoKTtpLm5hbWU9PT1JdC5DSFJPTUUmJk51bWJlcihpLnZlcnNpb24pPj01OCYmKFZpLmVuZ2luZS5uYW1lIT09XCJXZWJLaXRcInx8ZnVuY3Rpb24oKXtsZXQgbz1tdCgpO2lmKEdsKCkpe2lmKG8ub3M9PT15ZS5NQUNfT1MpcmV0dXJuICEwO2lmKG8ub3M9PT15ZS5JT1Mpe2xldCBzPVZpLm9zLnZlcnNpb24mJlZpLm9zLnZlcnNpb24uc3BsaXQoXCIuXCIpO2lmKHMmJk51bWJlcihzWzBdKT09PTE0JiZzWzFdJiZOdW1iZXIoc1sxXSk+PTN8fHMmJk51bWJlcihzWzBdKT4xNClyZXR1cm4gITB9fXJldHVybiAhMX0oKSkmJihuPSEwKSwoaS5uYW1lPT09SXQuRklSRUZPWCYmTnVtYmVyKGkudmVyc2lvbik+PTU2fHxpLm5hbWU9PT1JdC5PUEVSQSYmTnVtYmVyKGkudmVyc2lvbik+PTQ1fHxpLm5hbWU9PT1JdC5TQUZBUkkmJk51bWJlcihpLnZlcnNpb24pPj0xMXx8aS5uYW1lPT09XCJXZWJLaXRcIiYmKGxuKCl8fHZpKCkpJiZpLm9zVmVyc2lvbiYmTnVtYmVyKGkub3NWZXJzaW9uLnNwbGl0KFwiLlwiKVswXSk+PTExfHxUTygpfHxtdCgpLm5hbWU9PT1JdC5RUSkmJihuPSEwKSxfLmRlYnVnKFwiY2hlY2tTeXN0ZW1SZXF1aXJlbWVudHMsIGFwaTpcIixlLFwiYnJvd3NlclwiLG4pO2xldCByPWUmJm47cmV0dXJuIHQub25TdWNjZXNzKHIpLHJ9LGdldERldmljZXM6ZnVuY3Rpb24odCl7cmV0dXJuIEduLmVudW1lcmF0ZURldmljZXMoITAsITAsdCl9LGdldE1pY3JvcGhvbmVzOmZ1bmN0aW9uKHQpe3JldHVybiBHbi5nZXRSZWNvcmRpbmdEZXZpY2VzKHQpfSxnZXRDYW1lcmFzOmZ1bmN0aW9uKHQpe3JldHVybiBHbi5nZXRDYW1lcmFzRGV2aWNlcyh0KX0sZ2V0RWxlY3Ryb25TY3JlZW5Tb3VyY2VzOktPLGdldFBsYXliYWNrRGV2aWNlczpmdW5jdGlvbih0KXtyZXR1cm4gR24uZ2V0U3BlYWtlcnModCl9LGNyZWF0ZUNsaWVudDpmdW5jdGlvbigpe3ZhciB0O2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTp7Y29kZWM6XCJ2cDhcIixhdWRpb0NvZGVjOlwib3B1c1wiLG1vZGU6XCJydGNcIn0sbj1YLnJlcG9ydEFwaUludm9rZShudWxsLHtuYW1lOlRlLkNSRUFURV9DTElFTlQsb3B0aW9uczpbZV0sdGFnOlp0LlRSQUNFUn0pO3RyeXsoZnVuY3Rpb24oaSl7Q2UoaS5jb2RlYyxcImNvbmZpZy5jb2RlY1wiLFtcInZwOFwiLFwidnA5XCIsXCJhdjFcIixcImgyNjRcIixcImgyNjVcIl0pLENlKGkubW9kZSxcImNvbmZpZy5tb2RlXCIsW1wicnRjXCIsXCJsaXZlXCIsXCJwMnBcIl0pLGkuYXVkaW9Db2RlYyE9PXZvaWQgMCYmQ2UoaS5hdWRpb0NvZGVjLFwiY29uZmlnLmF1ZGlvQ29kZWNcIixbXCJvcHVzXCIsXCJwY211XCIsXCJwY21hXCIsXCJnNzIyXCJdKSxpLnByb3h5U2VydmVyIT09dm9pZCAwJiZQZShpLnByb3h5U2VydmVyLFwiY29uZmlnLnByb3h5U2VydmVyXCIsMSwxZTQpLGkudHVyblNlcnZlciE9PXZvaWQgMCYmdk8oaS50dXJuU2VydmVyKSxpLmh0dHBSZXRyeUNvbmZpZyE9PXZvaWQgMCYmbVIoaS5odHRwUmV0cnlDb25maWcpLGkud2Vic29ja2V0UmV0cnlDb25maWchPT12b2lkIDAmJm1SKGkud2Vic29ja2V0UmV0cnlDb25maWcpO30pKGUpO31jYXRjaChpKXt0aHJvdyBuLm9uRXJyb3IoaSksaX1yZXR1cm4gKGZPKDE2LDApfHxnTygxNiwwKSkmJihlLmNvZGVjPT09XCJ2cDlcIiYmKGUuY29kZWM9XCJ2cDhcIixfLmRlYnVnKFwiYnJvd3NlciBub3Qgc3VwcG9ydCB2cDksIGZvcmNlIHVzZSB2cDhcIikpLE90KFwiVU5TVVBQT1JURURfVklERU9fQ09ERUNcIixbXCJ2cDlcIl0pKSxlLmF1ZGlvQ29kZWM9PT12b2lkIDAmJihlLmF1ZGlvQ29kZWM9XCJvcHVzXCIpLG4ub25TdWNjZXNzKCksbmV3IGtXKHhpKHhpKHtmb3JjZVdhaXRHYXRld2F5UmVzcG9uc2U6ITB9LGUpLHt9LHtyb2xlOlcodD1bXCJydGNcIixcInAycFwiXSkuY2FsbCh0LGUubW9kZSk/XCJob3N0XCI6ZS5yb2xlfHxcImF1ZGllbmNlXCJ9KSl9LGNyZWF0ZUNhbWVyYVZpZGVvVHJhY2s6YXN5bmMgZnVuY3Rpb24oKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e30sZT12KFwiQ0FNRVJBX0NBUFRVUkVfQ09ORklHXCIpLG49WC5yZXBvcnRBcGlJbnZva2UobnVsbCx7dGFnOlp0LlRSQUNFUixuYW1lOlRlLkNSRUFURV9DQU1fVklERU9fVFJBQ0ssb3B0aW9uczpbS3Qoe30sdCksZV19KTtlJiYodC5lbmNvZGVyQ29uZmlnPWUpO2xldCBpPXJ1KHQpLHI9VXQoOCxcInRyYWNrLWNhbS1cIiksbz1udWxsO18uaW5mbyhcInN0YXJ0IGNyZWF0ZSBjYW1lcmEgdmlkZW8gdHJhY2sgd2l0aCBjb25maWdcIixKU09OLnN0cmluZ2lmeSh0KSxcInRyYWNrSWRcIixyKTt0cnl7bz0oYXdhaXQgRm4oe3ZpZGVvOml9LHIpKS5nZXRWaWRlb1RyYWNrcygpWzBdfHxudWxsO31jYXRjaChhKXt0aHJvdyBuLm9uRXJyb3IoYSksYX1pZighbyl7bGV0IGE9bmV3IE4oUi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHRyYWNrIGluIG1lZGlhIHN0cmVhbVwiKTtyZXR1cm4gbi5vbkVycm9yKGEpLGEudGhyb3coXyl9dC5vcHRpbWl6YXRpb25Nb2RlJiZjXyhyLG8sdCxjcih0LmVuY29kZXJDb25maWcpKTtsZXQgcz1uZXcgWEUobyx0LGksdC5zY2FsYWJpbHR5TW9kZT9GZCh0LnNjYWxhYmlsdHlNb2RlKTp7bnVtU3BhdGlhbExheWVyczoxLG51bVRlbXBvcmFsTGF5ZXJzOjF9LHQub3B0aW1pemF0aW9uTW9kZSxyKTtyZXR1cm4gbi5vblN1Y2Nlc3Mocy5nZXRUcmFja0lkKCkpLF8uaW5mbyhcImNyZWF0ZSBjYW1lcmEgdmlkZW8gc3VjY2VzcywgdHJhY2tJZDpcIixyKSxzfSxjcmVhdGVDdXN0b21WaWRlb1RyYWNrOmZ1bmN0aW9uKHQpe2xldCBlPVgucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpadC5UUkFDRVIsbmFtZTpUZS5DUkVBVEVfQ1VTVE9NX1ZJREVPX1RSQUNLLG9wdGlvbnM6W3RdfSksbj1uZXcgRnQodC5tZWRpYVN0cmVhbVRyYWNrLHt3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodCxmcmFtZVJhdGU6dC5mcmFtZVJhdGUsYml0cmF0ZU1heDp0LmJpdHJhdGVNYXgsYml0cmF0ZU1pbjp0LmJpdHJhdGVNaW59LHQuc2NhbGFiaWx0eU1vZGU/RmQodC5zY2FsYWJpbHR5TW9kZSk6e251bVNwYXRpYWxMYXllcnM6MSxudW1UZW1wb3JhbExheWVyczoxfSx0Lm9wdGltaXphdGlvbk1vZGUsVXQoOCxcInRyYWNrLWN1cy1cIiksW0d0LkNVU1RPTV9UUkFDS10pO3JldHVybiBlLm9uU3VjY2VzcyhuLmdldFRyYWNrSWQoKSksXy5pbmZvKFwiY3JlYXRlIGN1c3RvbSB2aWRlbyB0cmFjayBzdWNjZXNzIHdpdGggY29uZmlnXCIsdCxcInRyYWNrSWRcIixuLmdldFRyYWNrSWQoKSksbn0sY3JlYXRlU2NyZWVuVmlkZW9UcmFjazphc3luYyBmdW5jdGlvbigpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTp7fSxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTpcImRpc2FibGVcIixuPVgucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpadC5UUkFDRVIsbmFtZTpUZS5DUkVBVEVfU0NSRUVOX1ZJREVPX1RSQUNLLG9wdGlvbnM6W0t0KHt9LHQpLGVdfSk7dC5lbmNvZGVyQ29uZmlnP3R5cGVvZiB0LmVuY29kZXJDb25maWc9PVwic3RyaW5nXCJ8fHQuZW5jb2RlckNvbmZpZy53aWR0aCYmdC5lbmNvZGVyQ29uZmlnLmhlaWdodHx8KHQuZW5jb2RlckNvbmZpZy53aWR0aD17bWF4OjE5MjB9LHQuZW5jb2RlckNvbmZpZy5oZWlnaHQ9e21heDoxMDgwfSk6dC5lbmNvZGVyQ29uZmlnPVwiMTA4MHBfMlwiO2xldCBpPWZ1bmN0aW9uKGwpe2xldCB1PXt9O2wuc2NyZWVuU291cmNlVHlwZSYmKHUubWVkaWFTb3VyY2U9bC5zY3JlZW5Tb3VyY2VUeXBlKSxsLmV4dGVuc2lvbklkJiZvbygpJiYodS5leHRlbnNpb25JZD1sLmV4dGVuc2lvbklkKTtsZXR7ZGlzcGxheVN1cmZhY2U6aCxzZWxmQnJvd3NlclN1cmZhY2U6cCxzdXJmYWNlU3dpdGNoaW5nOmcsc3lzdGVtQXVkaW86RX09bDsoT0UoMTA3KXx8bFIoMTA3KXx8dVIoOTMpKSYmKGgmJihDZShoLFwiZGlzcGxheVN1cmZhY2VcIixbXCJicm93c2VyXCIsXCJ3aW5kb3dcIixcIm1vbml0b3JcIl0pLHUuZGlzcGxheVN1cmZhY2U9aCkscD8oQ2UocCxcInNlbGZCcm93c2VyU3VyZmFjZVwiLFtcImV4Y2x1ZGVcIixcImluY2x1ZGVcIl0pLHUuc2VsZkJyb3dzZXJTdXJmYWNlPXApOnUuc2VsZkJyb3dzZXJTdXJmYWNlPVwiaW5jbHVkZVwiLGcmJihDZShnLFwic3VyZmFjZVN3aXRjaGluZ1wiLFtcImV4Y2x1ZGVcIixcImluY2x1ZGVcIl0pLHUuc3VyZmFjZVN3aXRjaGluZz1nKSksKE9FKDEwNSl8fGxSKDEwNSl8fHVSKDkxKSkmJkUmJihDZShFLFwic3lzdGVtQXVkaW9cIixbXCJleGNsdWRlXCIsXCJpbmNsdWRlXCJdKSx1LnN5c3RlbUF1ZGlvPUUpLGwuZWxlY3Ryb25TY3JlZW5Tb3VyY2VJZCYmKHUuc291cmNlSWQ9bC5lbGVjdHJvblNjcmVlblNvdXJjZUlkKTtsZXQgZj1sLmVuY29kZXJDb25maWc/cl8obC5lbmNvZGVyQ29uZmlnKTpudWxsO3JldHVybiB1Lm1hbmRhdG9yeT17Y2hyb21lTWVkaWFTb3VyY2U6XCJkZXNrdG9wXCIsbWF4V2lkdGg6Zj9mLndpZHRoOnZvaWQgMCxtYXhIZWlnaHQ6Zj9mLmhlaWdodDp2b2lkIDB9LGYmJihmLmZyYW1lUmF0ZSYmKHR5cGVvZiBmLmZyYW1lUmF0ZT09XCJudW1iZXJcIj8odS5tYW5kYXRvcnkubWF4RnJhbWVSYXRlPWYuZnJhbWVSYXRlLHUubWFuZGF0b3J5Lm1pbkZyYW1lUmF0ZT1mLmZyYW1lUmF0ZSk6KHUubWFuZGF0b3J5Lm1heEZyYW1lUmF0ZT1mLmZyYW1lUmF0ZS5tYXh8fGYuZnJhbWVSYXRlLmlkZWFsfHxmLmZyYW1lUmF0ZS5leGFjdHx8dm9pZCAwLHUubWFuZGF0b3J5Lm1pbkZyYW1lUmF0ZT1mLmZyYW1lUmF0ZS5taW58fGYuZnJhbWVSYXRlLmlkZWFsfHxmLmZyYW1lUmF0ZS5leGFjdHx8dm9pZCAwKSx1LmZyYW1lUmF0ZT1mLmZyYW1lUmF0ZSksZi53aWR0aCYmKHUud2lkdGg9Zi53aWR0aCksZi5oZWlnaHQmJih1LmhlaWdodD1mLmhlaWdodCkpLHV9KHQpLHI9VXQoOCxcInRyYWNrLXNjci12LVwiKSxvPW51bGwscz1udWxsLGE9ZnQoKTtpZighYS5zdXBwb3J0U2hhcmVBdWRpbyYmZT09PVwiZW5hYmxlXCIpe2xldCBsPW5ldyBOKFIuTk9UX1NVUFBPUlRFRCxcInlvdXIgYnJvd3NlciBvciBwbGF0Zm9ybSBpcyBub3Qgc3VwcG9ydCBzaGFyZS1zY3JlZW4gd2l0aCBhdWRpb1wiKTtyZXR1cm4gbi5vbkVycm9yKGwpLGwudGhyb3coXyl9Xy5pbmZvKFwic3RhcnQgY3JlYXRlIHNjcmVlbiB2aWRlbyB0cmFjayB3aXRoIGNvbmZpZ1wiLHQsXCJ3aXRoQXVkaW9cIixlLFwidHJhY2tJZFwiLHIpO3RyeXtsZXQgbD1hd2FpdCBGbih7c2NyZWVuOmksc2NyZWVuQXVkaW86ZT09PVwiYXV0b1wiP2Euc3VwcG9ydFNoYXJlQXVkaW86ZT09PVwiZW5hYmxlXCJ9LHIpO289bC5nZXRWaWRlb1RyYWNrcygpWzBdfHxudWxsLHM9bC5nZXRBdWRpb1RyYWNrcygpWzBdfHxudWxsO31jYXRjaChsKXt0aHJvdyBuLm9uRXJyb3IobCksbH1pZighbyl7bGV0IGw9bmV3IE4oUi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHRyYWNrIGluIG1lZGlhIHN0cmVhbVwiKTtyZXR1cm4gbi5vbkVycm9yKGwpLGwudGhyb3coXyl9aWYoIXMmJmU9PT1cImVuYWJsZVwiKXtvJiZvLnN0b3AoKTtsZXQgbD1uZXcgTihSLlNIQVJFX0FVRElPX05PVF9BTExPV0VEKTtyZXR1cm4gbi5vbkVycm9yKGwpLGwudGhyb3coXyl9dC5vcHRpbWl6YXRpb25Nb2RlfHwodC5vcHRpbWl6YXRpb25Nb2RlPVwiZGV0YWlsXCIpLHQub3B0aW1pemF0aW9uTW9kZSYmKGNfKHIsbyx0LHQuZW5jb2RlckNvbmZpZyYmcl8odC5lbmNvZGVyQ29uZmlnKXx8dm9pZCAwKSx0LmVuY29kZXJDb25maWcmJnR5cGVvZiB0LmVuY29kZXJDb25maWchPVwic3RyaW5nXCImJih0LmVuY29kZXJDb25maWcuYml0cmF0ZU1pbj10LmVuY29kZXJDb25maWcuYml0cmF0ZU1heCkpO2xldCBjPW5ldyBGdChvLHQuZW5jb2RlckNvbmZpZz9yXyh0LmVuY29kZXJDb25maWcpOnt9LHQuc2NhbGFiaWx0eU1vZGU/RmQodC5zY2FsYWJpbHR5TW9kZSk6e251bVNwYXRpYWxMYXllcnM6MSxudW1UZW1wb3JhbExheWVyczoxfSx0Lm9wdGltaXphdGlvbk1vZGUscixbR3QuU0NSRUVOX1RSQUNLXSk7aWYoIXMpcmV0dXJuIG4ub25TdWNjZXNzKGMuZ2V0VHJhY2tJZCgpKSxfLmluZm8oXCJjcmVhdGUgc2NyZWVuIHZpZGVvIHRyYWNrIHN1Y2Nlc3NcIixcInZpZGVvOlwiLGMuZ2V0VHJhY2tJZCgpKSxjO2xldCBkPW5ldyBRdChzLHZvaWQgMCxVdCg4LFwidHJhY2stc2NyLWEtXCIpLCExKTtyZXR1cm4gbi5vblN1Y2Nlc3MoW2MuZ2V0VHJhY2tJZCgpLGQuZ2V0VHJhY2tJZCgpXSksXy5pbmZvKFwiY3JlYXRlIHNjcmVlbiB2aWRlbyB0cmFjayBzdWNjZXNzXCIsXCJ2aWRlbzpcIixjLmdldFRyYWNrSWQoKSxcImF1ZGlvOlwiLGQuZ2V0VHJhY2tJZCgpKSxbYyxkXX0sY3JlYXRlTWljcm9waG9uZUFuZENhbWVyYVRyYWNrczphc3luYyBmdW5jdGlvbigpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTp7fSxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fSxuPXYoXCJDQU1FUkFfQ0FQVFVSRV9DT05GSUdcIiksaT1YLnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6WnQuVFJBQ0VSLG5hbWU6VGUuQ1JFQVRFX01JQ19BTkRfQ0FNX1RSQUNLUyxvcHRpb25zOlt0LGUsbl19KTtuJiYoZS5lbmNvZGVyQ29uZmlnPW4pO2xldCByPXJ1KGUpLG89ZkModCkscz1VdCg4LFwidHJhY2stbWljLVwiKSxhPVV0KDgsXCJ0cmFjay1jYW0tXCIpLGM9bnVsbCxkPW51bGw7Xy5pbmZvKFwic3RhcnQgY3JlYXRlIGNhbWVyYSB2aWRlbyB0cmFjayhcIi5jb25jYXQoYSxcIikgYW5kIG1pY3JvcGhvbmUgYXVkaW8gdHJhY2soXCIpLmNvbmNhdChzLFwiKSB3aXRoIGNvbmZpZywgYXVkaW86IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCksXCIsIHZpZGVvOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGUpKSk7dHJ5e2xldCBoPWF3YWl0IEZuKHthdWRpbzpvLHZpZGVvOnJ9LFwiXCIuY29uY2F0KHMsXCItXCIpLmNvbmNhdChhKSk7Yz1oLmdldEF1ZGlvVHJhY2tzKClbMF0sZD1oLmdldFZpZGVvVHJhY2tzKClbMF07fWNhdGNoKGgpe3Rocm93IGkub25FcnJvcihoKSxofWlmKCFjfHwhZCl7bGV0IGg9bmV3IE4oUi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHRyYWNrcyBpbiBtZWRpYSBzdHJlYW1cIik7cmV0dXJuIGkub25FcnJvcihoKSxoLnRocm93KF8pfWUub3B0aW1pemF0aW9uTW9kZSYmY18oYSxkLGUsY3IoZS5lbmNvZGVyQ29uZmlnKSk7bGV0IGw9bmV3IG91KGMsdCxvLHMpLHU9bmV3IFhFKGQsZSxyLGUuc2NhbGFiaWx0eU1vZGU/RmQoZS5zY2FsYWJpbHR5TW9kZSk6e251bVNwYXRpYWxMYXllcnM6MSxudW1UZW1wb3JhbExheWVyczoxfSxlLm9wdGltaXphdGlvbk1vZGUsYSk7cmV0dXJuIGkub25TdWNjZXNzKFtsLmdldFRyYWNrSWQoKSx1LmdldFRyYWNrSWQoKV0pLF8uaW5mbyhcImNyZWF0ZSBjYW1lcmEgdmlkZW8gdHJhY2soXCIuY29uY2F0KGEsXCIpIGFuZCBtaWNyb3Bob25lIGF1ZGlvIHRyYWNrKFwiKS5jb25jYXQocyxcIikgc3VjY2Vzc1wiKSksW2wsdV19LGNyZWF0ZU1pY3JvcGhvbmVBdWRpb1RyYWNrOmFzeW5jIGZ1bmN0aW9uKCl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOnt9LGU9WC5yZXBvcnRBcGlJbnZva2UobnVsbCx7dGFnOlp0LlRSQUNFUixuYW1lOlRlLkNSRUFURV9NSUNfQVVESU9fVFJBQ0ssb3B0aW9uczpbdF19KSxuPWZDKHQpLGk9VXQoOCxcInRyYWNrLW1pYy1cIikscj1udWxsO18uaW5mbyhcInN0YXJ0IGNyZWF0ZSBtaWNyb3Bob25lIGF1ZGlvIHRyYWNrIHdpdGggY29uZmlnXCIsSlNPTi5zdHJpbmdpZnkodCksXCJ0cmFja0lkXCIsaSk7dHJ5e3I9KGF3YWl0IEZuKHthdWRpbzpufSxpKSkuZ2V0QXVkaW9UcmFja3MoKVswXXx8bnVsbDt9Y2F0Y2gocyl7dGhyb3cgZS5vbkVycm9yKHMpLHN9aWYoIXIpe2xldCBzPW5ldyBOKFIuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCB0cmFjayBpbiBtZWRpYSBzdHJlYW1cIik7cmV0dXJuIGUub25FcnJvcihzKSxzLnRocm93KF8pfWxldCBvPW5ldyBvdShyLHQsbixpKTtyZXR1cm4gZS5vblN1Y2Nlc3Moby5nZXRUcmFja0lkKCkpLF8uaW5mbyhcImNyZWF0ZSBtaWNyb3Bob25lIGF1ZGlvIHRyYWNrIHN1Y2Nlc3MsIHRyYWNrSWQ6XCIsaSksb30sY3JlYXRlQ3VzdG9tQXVkaW9UcmFjazpmdW5jdGlvbih0KXtsZXQgZT1YLnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6WnQuVFJBQ0VSLG5hbWU6VGUuQ1JFQVRFX0NVU1RPTV9BVURJT19UUkFDSyxvcHRpb25zOlt0XX0pLG49bmV3IFF0KHQubWVkaWFTdHJlYW1UcmFjayx0LmVuY29kZXJDb25maWc/SmwodC5lbmNvZGVyQ29uZmlnKTp7fSxVdCg4LFwidHJhY2stY3VzLVwiKSwhMSk7cmV0dXJuIF8uaW5mbyhcImNyZWF0ZSBjdXN0b20gYXVkaW8gdHJhY2sgc3VjY2VzcyB3aXRoIGNvbmZpZ1wiLHQsXCJ0cmFja0lkXCIsbi5nZXRUcmFja0lkKCkpLGUub25TdWNjZXNzKG4uZ2V0VHJhY2tJZCgpKSxufSxjcmVhdGVCdWZmZXJTb3VyY2VBdWRpb1RyYWNrOmFzeW5jIGZ1bmN0aW9uKHQpe3ZhciBlO2xldHtjYWNoZU9ubGluZUZpbGU6bixlbmNvZGVyQ29uZmlnOml9PXQse3NvdXJjZTpyfT10LG89e3NvdXJjZTpyIGluc3RhbmNlb2YgQXVkaW9CdWZmZXI/XCJBdWRpb0J1ZmZlclwiOnIgaW5zdGFuY2VvZiBGaWxlPyhlPUZpbGUubmFtZSkhPT1udWxsJiZlIT09dm9pZCAwP2U6XCJGaWxlXCI6cixjYWNoZU9ubGluZUZpbGU6bixlbmNvZGVyQ29uZmlnOml9LHM9WC5yZXBvcnRBcGlJbnZva2UobnVsbCx7dGFnOlp0LlRSQUNFUixuYW1lOlRlLkNSRUFURV9CVUZGRVJfQVVESU9fVFJBQ0ssb3B0aW9uczpbb119KTtpZih2KFwiRElTQUJMRV9XRUJBVURJT1wiKSl0aHJvdyBuZXcgTihSLk5PVF9TVVBQT1JURUQsXCJjYW4gbm90IGNyZWF0ZSBCdWZmZXJTb3VyY2VBdWRpb1RyYWNrIHdoZW4gV2ViQXVkaW8gZGlzYWJsZWRcIik7bGV0IGE9VXQoOCxcInRyYWNrLWJ1Zi1cIik7Xy5pbmZvKFwic3RhcnQgY3JlYXRlIGJ1ZmZlciBzb3VyY2UgYXVkaW8gdHJhY2sgd2l0aCBjb25maWdcIixKU09OLnN0cmluZ2lmeShvKSxcInRyYWNrSWRcIixhKTtsZXQgYz1yO2lmKCEociBpbnN0YW5jZW9mIEF1ZGlvQnVmZmVyKSl0cnl7cj1hd2FpdCBhc3luYyBmdW5jdGlvbih1LGgpe2xldCBwPW51bGw7aWYodHlwZW9mIHU9PVwic3RyaW5nXCIpe2xldCBFPWVJLmdldCh1KTtpZihFKXJldHVybiBfLmRlYnVnKFwidXNlIGNhY2hlZCBhdWRpbyByZXNvdXJjZTogXCIsdSksRTt0cnl7cD0oYXdhaXQgV2koKCk9Pm1uLmdldCh1LHtyZXNwb25zZVR5cGU6XCJhcnJheWJ1ZmZlclwifSksdm9pZCAwLHZvaWQgMCx7bWF4UmV0cnlDb3VudDozfSkpLmRhdGE7fWNhdGNoKGYpe3Rocm93IG5ldyBOKFIuRkVUQ0hfQVVESU9fRklMRV9GQUlMRUQsZi50b1N0cmluZygpKX19ZWxzZSBwPWF3YWl0IG5ldyBqKChmLFMpPT57bGV0IEM9bmV3IEZpbGVSZWFkZXI7Qy5vbmxvYWQ9QT0+e0EudGFyZ2V0P2YoQS50YXJnZXQucmVzdWx0KTpTKG5ldyBOKFIuUkVBRF9MT0NBTF9BVURJT19GSUxFX0VSUk9SKSk7fSxDLm9uZXJyb3I9KCk9PntTKG5ldyBOKFIuUkVBRF9MT0NBTF9BVURJT19GSUxFX0VSUk9SKSk7fSxDLnJlYWRBc0FycmF5QnVmZmVyKHUpO30pO2xldCBnPWF3YWl0IGZ1bmN0aW9uKEUpe2xldCBmPWdhKCk7cmV0dXJuIG5ldyBqKChTLEMpPT57Zi5kZWNvZGVBdWRpb0RhdGEoRSxBPT57UyhBKTt9LEE9PntDKG5ldyBOKFIuREVDT0RFX0FVRElPX0ZJTEVfRkFJTEVELEEudG9TdHJpbmcoKSkpO30pO30pfShwKTtyZXR1cm4gdHlwZW9mIHU9PVwic3RyaW5nXCImJmgmJmVJLnNldCh1LGcpLGd9KHIsbik7fWNhdGNoKHUpe3JldHVybiBzLm9uRXJyb3IodSksdS50aHJvdyhfKX1sZXQgZD1uZXcgSkUociksbD1uZXcgVkcoYyxkLGk/SmwoaSk6e30sYSk7cmV0dXJuIF8uaW5mbyhcImNyZWF0ZSBidWZmZXIgc291cmNlIGF1ZGlvIHRyYWNrIHN1Y2Nlc3MsIHRyYWNrSWQ6XCIsYSkscy5vblN1Y2Nlc3MobC5nZXRUcmFja0lkKCkpLGx9LHNldEFwcFR5cGU6ZnVuY3Rpb24odCl7aWYoXy5kZWJ1ZyhcInNldEFwcFR5cGU6IFwiLmNvbmNhdCh0KSksIShOdW1iZXIuaXNJbnRlZ2VyKHQpJiZ0Pj0wKSl0aHJvdyBfLmRlYnVnKFwiSW52YWxpZCBhcHBUeXBlXCIpLG5ldyBPKFIuSU5WQUxJRF9QQVJBTVMsXCJpbnZhbGlkIGFwcCB0eXBlXCIsdCk7T3QoXCJBUFBfVFlQRVwiLE1hdGguZmxvb3IodCkpO30sc2V0TG9nTGV2ZWw6ZnVuY3Rpb24odCl7Xy5zZXRMb2dMZXZlbCh0KTt9LGVuYWJsZUxvZ1VwbG9hZDpmdW5jdGlvbigpe3YoXCJVU0VfTkVXX0xPR1wiKT9PdChcIlVQTE9BRF9MT0dcIiwhMCk6Xy5lbmFibGVMb2dVcGxvYWQoKTt9LGRpc2FibGVMb2dVcGxvYWQ6ZnVuY3Rpb24oKXt2KFwiVVNFX05FV19MT0dcIik/T3QoXCJVUExPQURfTE9HXCIsITEpOl8uZGlzYWJsZUxvZ1VwbG9hZCgpO30sY3JlYXRlQ2hhbm5lbE1lZGlhUmVsYXlDb25maWd1cmF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBFdX0sY2hlY2tBdWRpb1RyYWNrSXNBY3RpdmU6YXN5bmMgZnVuY3Rpb24odCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOjVlMyxuPVgucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpadC5UUkFDRVIsbmFtZTpUZS5DSEVDS19BVURJT19UUkFDS19JU19BQ1RJVkUsb3B0aW9uczpbZV19KTtpZighKHQgaW5zdGFuY2VvZiBRdHx8dCBpbnN0YW5jZW9mIEtzKSl7bGV0IGM9bmV3IE8oUi5JTlZBTElEX1RSQUNLLFwidGhlIHBhcmFtZXRlciBpcyBub3QgYSBhdWRpbyB0cmFja1wiKTtyZXR1cm4gbi5vbkVycm9yKGMpLGMudGhyb3coKX1lJiZlPDFlMyYmKGU9MWUzKTtsZXQgaT10IGluc3RhbmNlb2YgUXQ/dC5nZXRUcmFja0xhYmVsKCk6XCJyZW1vdGVfdHJhY2tcIixyPXQuZ2V0Vm9sdW1lTGV2ZWwoKSxvPXIscz1yLGE9RGF0ZS5ub3coKTtyZXR1cm4gbmV3IGooYz0+e2xldCBkPXNldEludGVydmFsKCgpPT57bGV0IGw9dC5nZXRWb2x1bWVMZXZlbCgpO289bD5vP2w6byxzPWw8cz9sOnM7bGV0IHU9by1zPjFlLTQsaD1EYXRlLm5vdygpLWE7aWYodXx8aD5lKXtjbGVhckludGVydmFsKGQpO2xldCBwPXUsZz17ZHVyYXRpb246aCxkZXZpY2VMYWJlbDppLG1heFZvbHVtZUxldmVsOm8scmVzdWx0OnB9O18uaW5mbyhcIlt0cmFjay1cIi5jb25jYXQodC5nZXRUcmFja0lkKCksXCJdIGNoZWNrIGF1ZGlvIHRyYWNrIGFjdGl2ZSBjb21wbGV0ZWQuIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZykpKSxuLm9uU3VjY2VzcyhnKSxjKHApO319LDIwMCk7fSl9LGNoZWNrVmlkZW9UcmFja0lzQWN0aXZlOmFzeW5jIGZ1bmN0aW9uKHQpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTo1ZTMsbj1YLnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6WnQuVFJBQ0VSLG5hbWU6VGUuQ0hFQ0tfVklERU9fVFJBQ0tfSVNfQUNUSVZFLG9wdGlvbnM6W2VdfSk7aWYoISh0IGluc3RhbmNlb2YgRnR8fHQgaW5zdGFuY2VvZiBIcykpe2xldCB1PW5ldyBPKFIuSU5WQUxJRF9UUkFDSyxcInRoZSBwYXJhbWV0ZXIgaXMgbm90IGEgdmlkZW8gdHJhY2tcIik7cmV0dXJuIG4ub25FcnJvcih1KSx1LnRocm93KCl9ZSYmZTwxZTMmJihlPTFlMyk7bGV0IGk9dCBpbnN0YW5jZW9mIEZ0P3QuZ2V0VHJhY2tMYWJlbCgpOlwicmVtb3RlX3RyYWNrXCIscj10LmdldE1lZGlhU3RyZWFtVHJhY2soITApLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO28uc3R5bGUud2lkdGg9XCIxcHhcIixvLnN0eWxlLmhlaWdodD1cIjFweFwiLG8uc2V0QXR0cmlidXRlKFwibXV0ZWRcIixcIlwiKSxvLm11dGVkPSEwLG8uc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcIlwiKSxvLmNvbnRyb2xzPSExLChqZSgpfHxHbCgpKSYmKG8uc3R5bGUub3BhY2l0eT1cIjAuMDFcIixvLnN0eWxlLnBvc2l0aW9uPVwiZml4ZWRcIixvLnN0eWxlLmxlZnQ9XCIwXCIsby5zdHlsZS50b3A9XCIwXCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvKSksby5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFtyXSksby5wbGF5KCk7bGV0IHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtzLndpZHRoPTE2MCxzLmhlaWdodD0xMjA7bGV0IGE9MCxjPTA7dHJ5e2xldCB1PURhdGUubm93KCk7YT1hd2FpdCBmdW5jdGlvbihoLHAsZyxFKXtsZXQgZixTPTAsQz1udWxsO3JldHVybiBuZXcgaigoQSxiKT0+e2Z1bmN0aW9uIHcoKXtTPkUmJmYmJihmKCksQShTKSk7bGV0IEQ9Zy5nZXRDb250ZXh0KFwiMmRcIik7aWYoIUQpe2xldCBWPW5ldyBPKFIuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZ2V0IGNhbnZhcyAyZCBjb250ZXh0LlwiKTtyZXR1cm4gXy5lcnJvcihWLnRvU3RyaW5nKCkpLHZvaWQgYihWKX1ELmRyYXdJbWFnZShoLDAsMCwxNjAsMTIwKTtsZXQgaz1ELmdldEltYWdlRGF0YSgwLDAsZy53aWR0aCxnLmhlaWdodCksQj1NYXRoLmZsb29yKGsuZGF0YS5sZW5ndGgvMyk7aWYoQyl7Zm9yKGxldCBWPTA7VjxCO1YrPTMpaWYoay5kYXRhW1ZdIT09Q1tWXSlyZXR1cm4gUys9MSx2b2lkKEM9ay5kYXRhKTtDPWsuZGF0YTt9ZWxzZSBDPWsuZGF0YTt9c2V0VGltZW91dCgoKT0+e2YmJihmKCksQShTKSk7fSxwKSxmPVJmKCgpPT57dygpO30sMzApO30pfShvLGUscyw0KSxjPURhdGUubm93KCktdTt9Y2F0Y2godSl7dGhyb3cgbi5vbkVycm9yKHUpLHV9Z1c9PT1JdC5TQUZBUkkmJihvLnBhdXNlKCksby5yZW1vdmUoKSksby5zcmNPYmplY3Q9bnVsbDtsZXQgZD1hPjQsbD17ZHVyYXRpb246YyxjaGFuZ2VkUGljTnVtOmEsZGV2aWNlTGFiZWw6aSxyZXN1bHQ6ZH07cmV0dXJuIF8uaW5mbyhcIlt0cmFjay1cIi5jb25jYXQodC5nZXRUcmFja0lkKCksXCJdIGNoZWNrIHZpZGVvIHRyYWNrIGFjdGl2ZSBjb21wbGV0ZWQuIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkobCkpKSxuLm9uU3VjY2VzcyhsKSxkfSxzZXRBcmVhOkFmLGF1ZGlvRWxlbWVudFBsYXlDZW50ZXI6RW4scmVzdW1lQXVkaW9Db250ZXh0OmZ1bmN0aW9uKCl7RW4uYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uKCEwKTt9LHByb2Nlc3NFeHRlcm5hbE1lZGlhQUVDOmZ1bmN0aW9uKHQpe01XLnByb2Nlc3NFeHRlcm5hbE1lZGlhQUVDKHQpO30scmVnaXN0ZXJFeHRlbnNpb25zOmZ1bmN0aW9uKHQpe2xldCBlPXYoXCJQTFVHSU5fSU5GT1wiKXx8W107dC5mb3JFYWNoKG49PntcIm5hbWVcImluIG4mJiFXKGUpLmNhbGwoZSxuLm5hbWUpJiZlLnB1c2gobi5uYW1lKTtsZXQgaT1uO2kuX19yZWdpc3RlcmVkX189ITAsaS5sb2dnZXIuaG9va0xvZz1fLmV4dExvZyxpLnJlcG9ydGVyLmhvb2tBcGlJbnZva2U9WC5leHRBcGlJbnZva2UsaS5wYXJhbWV0ZXJzJiZPYmplY3Qua2V5cyhpLnBhcmFtZXRlcnMpLmZvckVhY2gocj0+e2kucGFyYW1ldGVyc1tyXT12KHIpO30pO30pLENBKFwiUExVR0lOX0lORk9cIixlKTt9LENoYW5uZWxNZWRpYVJlbGF5RXJyb3I6eXMsQ2hhbm5lbE1lZGlhUmVsYXlFdmVudDpJcixDaGFubmVsTWVkaWFSZWxheVN0YXRlOlNuLFJlbW90ZVN0cmVhbUZhbGxiYWNrVHlwZTpQRyxSZW1vdGVTdHJlYW1UeXBlOkRHLENvbm5lY3Rpb25EaXNjb25uZWN0ZWRSZWFzb246QXQsQXVkaWVuY2VMYXRlbmN5TGV2ZWxUeXBlOkVCLEFSRUFTOlN0LHByZWxvYWQ6YXN5bmMgZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIHkwKHQsZSxuLGkpfX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE10LHtvbkF1ZGlvQXV0b3BsYXlGYWlsZWQ6e2dldDooKT0+VW4ub25BdWRpb0F1dG9wbGF5RmFpbGVkLHNldDp0PT57VW4ub25BdWRpb0F1dG9wbGF5RmFpbGVkPXQ7fX0sb25BdXRvcGxheUZhaWxlZDp7Z2V0OigpPT5Vbi5vbkF1dG9wbGF5RmFpbGVkLHNldDp0PT57VW4ub25BdXRvcGxheUZhaWxlZD10O319LF9vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uOnt2YWx1ZTp2b2lkIDAsd3JpdGFibGU6ITB9LF9jc3BFdmVudEhhbmRsZXJQb2ludGVyOnt2YWx1ZTp2b2lkIDAsd3JpdGFibGU6ITB9LG9uU2VjdXJpdHlQb2xpY3lWaW9sYXRpb246e2dldDooKT0+TXQuX29uU2VjdXJpdHlQb2xpY3lWaW9sYXRpb24sc2V0KHQpe010Ll9vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uPXQsTDAodCk7fX0sX19DTElFTlRfTElTVF9fOntnZXQ6KCk9PnYoXCJTSE9XX0dMT0JBTF9DTElFTlRfTElTVFwiKT9KcjpbXX19KSxHbi5vbihCby5DQU1FUkFfREVWSUNFX0NIQU5HRUQsdD0+e18uaW5mbyhcImNhbWVyYSBkZXZpY2UgY2hhbmdlZFwiLEpTT04uc3RyaW5naWZ5KHQpKSxNdC5vbkNhbWVyYUNoYW5nZWQmJk10Lm9uQ2FtZXJhQ2hhbmdlZCh0KSxNdC5zYWZlRW1pdChuci5DQU1FUkFfQ0hBTkdFRCx0KTt9KSxHbi5vbihCby5SRUNPUkRJTkdfREVWSUNFX0NIQU5HRUQsdD0+e18uaW5mbyhcIm1pY3JvcGhvbmUgZGV2aWNlIGNoYW5nZWRcIixKU09OLnN0cmluZ2lmeSh0KSksTXQub25NaWNyb3Bob25lQ2hhbmdlZCYmTXQub25NaWNyb3Bob25lQ2hhbmdlZCh0KSxNdC5zYWZlRW1pdChuci5NSUNST1BIT05FX0NIQU5HRUQsdCk7fSksR24ub24oQm8uUExBWU9VVF9ERVZJQ0VfQ0hBTkdFRCx0PT57Xy5kZWJ1ZyhcInBsYXlvdXQgZGV2aWNlIGNoYW5nZWRcIixKU09OLnN0cmluZ2lmeSh0KSksTXQub25QbGF5YmFja0RldmljZUNoYW5nZWQmJk10Lm9uUGxheWJhY2tEZXZpY2VDaGFuZ2VkKHQpLE10LnNhZmVFbWl0KG5yLlBMQVlCQUNLX0RFVklDRV9DSEFOR0VELHQpO30pLEVuLm9uQXV0b3BsYXlGYWlsZWQ9KCk9PntfLmluZm8oXCJkZXRlY3QgYXVkaW8gZWxlbWVudCBhdXRvcGxheSBmYWlsZWRcIiksVW4ub25BdWRpb0F1dG9wbGF5RmFpbGVkJiZVbi5vbkF1ZGlvQXV0b3BsYXlGYWlsZWQoKTt9LHd0Lm9uKFwiYXV0b3BsYXktZmFpbGVkXCIsKCk9PntfLmluZm8oXCJkZXRlY3Qgd2ViYXVkaW8gYXV0b3BsYXkgZmFpbGVkXCIpLFVuLm9uQXVkaW9BdXRvcGxheUZhaWxlZCYmVW4ub25BdWRpb0F1dG9wbGF5RmFpbGVkKCksTXQuc2FmZUVtaXQobnIuQVVUT1BMQVlfRkFJTEVEKTt9KSx3dC5vbihrZS5TVEFURV9DSEFOR0UsKHQsZSk9PntfLmluZm8oXCJhdWRpbyBjb250ZXh0IHN0YXRlIGNoYW5nZWQ6IFwiLmNvbmNhdChlLFwiID0+IFwiKS5jb25jYXQodCkpLE10Lm9uQXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkJiZNdC5vbkF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZCh0LGUpLE10LnNhZmVFbWl0KG5yLkFVRElPX0NPTlRFWFRfU1RBVEVfQ0hBTkdFRCx0LGUpO30pLGhlLm9uKGtzLk5FVFdPUktfU1RBVEVfQ0hBTkdFLCh0LGUpPT57Xy5pbmZvKFwiW25ldHdvcmstaW5kaWNhdG9yXSBuZXR3b3JrIHN0YXRlIGNoYW5nZWQsIFwiLmNvbmNhdChlLFwiID0+IFwiKS5jb25jYXQodCkpO30pLHdpbmRvdyYmKHdpbmRvdy5fX0FSVENfXz1NdCk7ZnVuY3Rpb24gQWUodCxlLG4pe3JldHVybiB0Lm9uKGUsbiksKCk9PnQub2ZmKGUsbil9ZnVuY3Rpb24gaUgodCl7dHJ5e3JldHVybiB0KCl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihlKTt9fWZ1bmN0aW9uIEtuKHQpe3JldHVybiAoKT0+dC5mb3JFYWNoKGlIKX1mdW5jdGlvbiBjTih0LGUpe2xldCBuPXNldEludGVydmFsKHQsZSk7cmV0dXJuICgpPT5jbGVhckludGVydmFsKG4pfWZ1bmN0aW9uIFNvKHQsZSl7bGV0IG49c2V0VGltZW91dCh0LGUpO3JldHVybiAoKT0+Y2xlYXJUaW1lb3V0KG4pfWZ1bmN0aW9uIElhKCl7bGV0IHQsZSxuO2Z1bmN0aW9uIGkoKXtpZihlKXtsZXQgZD1lO2U9dm9pZCAwLGQoKTt9fWFzeW5jIGZ1bmN0aW9uIHIoKXtpZihuKXtsZXQgZD1uO249dm9pZCAwO3RyeXthd2FpdCBkKCk7fWNhdGNoKGwpe2NvbnNvbGUuZXJyb3IobCk7fX19YXN5bmMgZnVuY3Rpb24gbyhkKXt0PSEwLGF3YWl0IHIoKTt0cnl7bj1hd2FpdCBkKCk7fWNhdGNoKGwpe2NvbnNvbGUuZXJyb3IobCk7fXQ9ITEsaSgpO31hc3luYyBmdW5jdGlvbiBzKCl7dD0hMCxhd2FpdCByKCksdD0hMSxpKCk7fWZ1bmN0aW9uIGEoZCl7dD9lPSgpPT5vKGQpOm8oZCk7fWZ1bmN0aW9uIGMoKXt0P2U9czpzKCk7fXJldHVybiB7cnVuOmEsZGlzcG9zZTpjfX12YXIgdmE9dHlwZW9mIGRvY3VtZW50PFwidVwiP3VzZUxheW91dEVmZmVjdDp1c2VFZmZlY3Q7ZnVuY3Rpb24gYUgodCl7cmV0dXJuIHQhPW51bGwmJnR5cGVvZiB0LnRoZW49PVwiZnVuY3Rpb25cIn1mdW5jdGlvbiBQbigpe2xldCB0PXVzZVJlZighMSk7cmV0dXJuIHVzZUVmZmVjdCgoKT0+KHQuY3VycmVudD0hMSwoKT0+e3QuY3VycmVudD0hMDt9KSxbXSksdH1mdW5jdGlvbiBjSCgpe2xldCB0PVBuKCk7ZnVuY3Rpb24gZShuLGkpe3JldHVybiBuZXcgUHJvbWlzZShhc3luYyhyLG8pPT57dHJ5e2xldCBzPWF3YWl0IG47dC5jdXJyZW50fHxyKHMpO31jYXRjaChzKXt0LmN1cnJlbnQ/aT9pKHMpOnByb2Nlc3MuZW52Lk5PREVfRU5WPT09XCJkZXZlbG9wbWVudFwiJiZjb25zb2xlLmVycm9yKFwiQW4gZXJyb3Igb2NjdXJzIGZyb20gYSBwcm9taXNlIGFmdGVyIGEgY29tcG9uZW50IGlzIHVubW91bnRlZFwiLHMpOm8ocyk7fX0pfXJldHVybiB1c2VDYWxsYmFjayhlLFt0XSl9ZnVuY3Rpb24gaWgodCl7bGV0IGU9Y0goKSxbbixpXT11c2VTdGF0ZSgpO3JldHVybiB2YSgoKT0+e2FIKHQpP2UodCkudGhlbihpKTppKHQpO30sW3QsZV0pLG59ZnVuY3Rpb24gWW4odCxlKXtsZXQgbj11c2VSZWYoKTt1c2VFZmZlY3QoKCk9PntsZXR7cnVuOmksZGlzcG9zZTpyfT1uLmN1cnJlbnR8fD1JYSgpO3JldHVybiBpKHQpLHJ9LGUpO31mdW5jdGlvbiBsTih0LGUpe2xldCBuPXQuc3BsaXQoXCIuXCIpLGk9ZS5zcGxpdChcIi5cIikscj1NYXRoLm1heChuLmxlbmd0aCxpLmxlbmd0aCk7Zm9yKGxldCBvPTA7bzxyO28rKyl7bGV0IHM9cGFyc2VJbnQobltvXXx8XCIwXCIpLGE9cGFyc2VJbnQoaVtvXXx8XCIwXCIpO2lmKHM+YSlyZXR1cm4gMTtpZihzPGEpcmV0dXJuIC0xfXJldHVybiAwfWZ1bmN0aW9uIGo1KHQsZSxuKXtsZXQgaT11c2VSZWYobik7dmEoKCk9PntpLmN1cnJlbnQ9bjt9LFtuXSksdXNlRWZmZWN0KCgpPT57aWYodClyZXR1cm4gQWUodCxlLCguLi5yKT0+e2kuY3VycmVudCYmaS5jdXJyZW50KC4uLnIpO30pfSxbZSx0XSk7fWZ1bmN0aW9uIEc1KHQsZSxuKXtsZXQgaT11c2VSZWYobik7dmEoKCk9PntpLmN1cnJlbnQ9bjt9LFtuXSksdXNlRWZmZWN0KCgpPT57aWYodClyZXR1cm4gQWUodCxlLCguLi5yKT0+e2kuY3VycmVudCYmaS5jdXJyZW50KC4uLnIpO30pfSxbZSx0XSk7fXZhciBwTj1jcmVhdGVDb250ZXh0KG51bGwpO2Z1bmN0aW9uIEs1KHtjbGllbnQ6dCxjaGlsZHJlbjplfSl7cmV0dXJuIGpzeChwTi5Qcm92aWRlcix7dmFsdWU6dCxjaGlsZHJlbjplfSl9ZnVuY3Rpb24gdUgodCl7bGV0IGU9dXNlQ29udGV4dChwTik7cmV0dXJuIHR8fGV9ZnVuY3Rpb24gWmUodCl7bGV0IGU9dUgodCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQWdvcmEgUlRDIGNsaWVudCBub3QgZm91bmQuIFNob3VsZCBiZSB3cmFwcGVkIGluIDxBZ29yYVJUQ1Byb3ZpZGVyIHZhbHVlPXtjbGllbnR9IC8+XCIpO3JldHVybiBlfXZhciBfTj1jcmVhdGVDb250ZXh0KG51bGwpO2Z1bmN0aW9uIEo1KHtjbGllbnQ6dCxjaGlsZHJlbjplfSl7cmV0dXJuIGpzeChfTi5Qcm92aWRlcix7dmFsdWU6dCxjaGlsZHJlbjplfSl9ZnVuY3Rpb24gWDUodCl7bGV0IGU9dXNlQ29udGV4dChfTik7cmV0dXJuIHR8fGV9ZnVuY3Rpb24gaTQodCl7bGV0IGU9WmUodCksW24saV09dXNlU3RhdGUoZT9lLmNvbm5lY3Rpb25TdGF0ZTpcIkRJU0NPTk5FQ1RFRFwiKTtyZXR1cm4gdXNlRWZmZWN0KCgpPT57aWYoZSl7aShlLmNvbm5lY3Rpb25TdGF0ZSk7bGV0IHI7cmV0dXJuIEtuKFtBZShlLFwiY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIixvPT57cj8uKCksbz09PVwiQ09OTkVDVEVEXCI/cj1TbygoKT0+aShvKSwwKTppKG8pO30pLCgpPT5yPy4oKV0pfWVsc2UgaShcIkRJU0NPTk5FQ1RFRFwiKTt9LFtlXSksbn1mdW5jdGlvbiBJbih0KXtsZXQgZT1aZSh0KSxbbixpXT11c2VTdGF0ZShlP2UuY29ubmVjdGlvblN0YXRlPT09XCJDT05ORUNURURcIjohMSk7cmV0dXJuIHVzZUVmZmVjdCgoKT0+e2lmKGUpe2koZS5jb25uZWN0aW9uU3RhdGU9PT1cIkNPTk5FQ1RFRFwiKTtsZXQgcjtyZXR1cm4gS24oW0FlKGUsXCJjb25uZWN0aW9uLXN0YXRlLWNoYW5nZVwiLG89PntyPy4oKSxyPVNvKCgpPT5pKG89PT1cIkNPTk5FQ1RFRFwiKSwwKTt9KSwoKT0+cj8uKCldKX1lbHNlIGkoITEpO30sW2VdKSxufWZ1bmN0aW9uIF80KHQpe2xldCBlPVplKHQpLFtuLGldPXVzZVN0YXRlKGU/LnVpZCk7cmV0dXJuIHVzZUVmZmVjdCgoKT0+e2lmKGUpcmV0dXJuIEFlKGUsXCJjb25uZWN0aW9uLXN0YXRlLWNoYW5nZVwiLHI9PntpZihyPT09XCJDT05ORUNURURcIilyZXR1cm4gU28oKCk9PmkoZS51aWQpLDApO3I9PT1cIkRJU0NPTk5FQ1RFRFwiJiZpKHZvaWQgMCk7fSl9LFtlXSksbn12YXIgT2U9Y2xhc3MgZXh0ZW5kcyBFcnJvcntydGNNZXRob2Q7cnRjRXJyb3I7bmFtZT1cIkFnb3JhUlRDUmVhY3RFeGNlcHRpb25cIjtjb25zdHJ1Y3RvcihlLG4pe3R5cGVvZiBuPT1cInN0cmluZ1wiP3N1cGVyKG4pOnN1cGVyKG4ubWVzc2FnZSksdGhpcy5ydGNNZXRob2Q9ZSx0aGlzLnJ0Y0Vycm9yPW47fWxvZyhlKXtjb25zb2xlW2VdKHRoaXMpO319O2Z1bmN0aW9uIEk0KHQsZT0hMCxuKXtsZXQgaT1aZShuKSxyPUluKG4pLG89dXNlUmVmKCksW3MsYV09dXNlU3RhdGUoITEpLFtjLGRdPXVzZVN0YXRlKDApLFtsLHVdPXVzZVN0YXRlKG51bGwpLGg9UG4oKTtyZXR1cm4gWW4oYXN5bmMoKT0+e2lmKGguY3VycmVudHx8KHUobnVsbCksZCgwKSxhKCExKSksZSYmaSl7dHJ5e2guY3VycmVudHx8YSghMCk7bGV0e2FwcGlkOmcsY2hhbm5lbDpFLHRva2VuOmYsdWlkOlN9PXR5cGVvZiB0PT1cImZ1bmN0aW9uXCI/YXdhaXQgdCgpOnQsQz1hd2FpdCBpLmpvaW4oZyxFLGYsUyk7aC5jdXJyZW50fHxkKEMpO31jYXRjaChnKXtjb25zb2xlLmVycm9yKGcpLGguY3VycmVudHx8dShuZXcgT2UoXCJJQWdvcmFSVENDbGllbnQuam9pblwiLGcpKTt9aC5jdXJyZW50fHxhKCExKTtsZXQgcD1vLmN1cnJlbnR8fD1JYSgpO3JldHVybiBLbihbKCk9PntwLmRpc3Bvc2UoKTt9LCgpPT57cC5ydW4oKCk9PmkudW5wdWJsaXNoKGkubG9jYWxUcmFja3MpKTt9LCgpPT57Zm9yKGxldCBnIG9mIGkubG9jYWxUcmFja3MpZy5pc1BsYXlpbmcmJmcuc3RvcCgpLGcuY2xvc2UoKTtwLnJ1bigoKT0+aS5sZWF2ZSgpKTt9XSl9fSxbZSxuXSkse2RhdGE6Yyxpc0xvYWRpbmc6cyxpc0Nvbm5lY3RlZDpyLGVycm9yOmx9fXZhciBFTj0oKT0+KHt1cGxpbmtOZXR3b3JrUXVhbGl0eTowLGRvd25saW5rTmV0d29ya1F1YWxpdHk6MCxkZWxheTowfSk7ZnVuY3Rpb24gdzQodCl7bGV0IGU9WmUodCksW24saV09dXNlU3RhdGUoRU4pO3JldHVybiB1c2VFZmZlY3QoKCk9PntpZihlKXJldHVybiBBZShlLFwibmV0d29yay1xdWFsaXR5XCIscj0+aSh7dXBsaW5rTmV0d29ya1F1YWxpdHk6ci51cGxpbmtOZXR3b3JrUXVhbGl0eSxkb3dubGlua05ldHdvcmtRdWFsaXR5OnIuZG93bmxpbmtOZXR3b3JrUXVhbGl0eSxkZWxheTplLmdldFJUQ1N0YXRzKCkuUlRUPz8wfSkpO2koRU4oKSk7fSxbZV0pLG59ZnVuY3Rpb24gVTQodCxlPSEwLG4pe2xldCBpPVplKG4pLHI9SW4obiksbz11c2VSZWYoW10pLFtzLGFdPXVzZVN0YXRlKCExKSxbYyxkXT11c2VTdGF0ZShudWxsKSxsPVBuKCk7cmV0dXJuIFluKGFzeW5jKCk9PntpZihsLmN1cnJlbnR8fChhKCExKSxkKG51bGwpKSwhaXx8IXJ8fCFlKXJldHVybjtsZXQgdT10LmZpbHRlcihCb29sZWFuKSxoPUU9PntsZXQgZj1sTihNdC5WRVJTSU9OLFwiNC4xOC4yXCIpPj0wO3JldHVybiBmfHxuZXcgT2UoXCJ1c2VQdWJsaXNoXCIsXCJwbGVhc2UgY2hlY2sgeW91ciBhZ29yYS1ydGMtc2RrLW5nIHZlcnNpb24gaW4gcGFja2FnZS5qc29uLCBpdCdzIHJlY29tbWVuZCB1cGdyYWRlIHRvID49IDQuMTguMlwiKS5sb2coXCJ3YXJuXCIpLGY/aS5tb2RlIT09XCJsaXZlXCJ8fGkucm9sZSE9PVwiYXVkaWVuY2VcIjohMH0scD1FPT5vLmN1cnJlbnQuc29tZShmPT5mJiZmLmdldFRyYWNrSWQoKT09PUUuZ2V0VHJhY2tJZCgpKSxnPUU9PmgoKSYmRS5lbmFibGVkJiZlJiYhcChFKTtmb3IobGV0IEU9MDtFPHUubGVuZ3RoO0UrKyl7bGV0IGY9dVtFXTtpZihmJiZnKGYpKXthd2FpdCBpLnVucHVibGlzaChvLmN1cnJlbnQuZmlsdGVyKFM9PlM/LnRyYWNrTWVkaWFUeXBlPT09Zi50cmFja01lZGlhVHlwZSkpO3RyeXtsLmN1cnJlbnR8fGEoITApLGF3YWl0IGkucHVibGlzaChmKTt9Y2F0Y2goUyl7Y29uc29sZS5lcnJvcihTKSxsLmN1cnJlbnR8fGQobmV3IE9lKFwiSUFnb3JhUlRDQ2xpZW50LnB1Ymxpc2hcIixTKSk7fWwuY3VycmVudHx8YSghMSk7fX1vLmN1cnJlbnQ9dTt9LFtyLGUsaSx0XSkse2lzTG9hZGluZzpzLGVycm9yOmN9fWZ1bmN0aW9uIEI0KHQpe2xldFtlLG5dPXVzZVN0YXRlKDApO3JldHVybiB1c2VFZmZlY3QoKCk9PntpZih0KXJldHVybiBjTigoKT0+e24odC5nZXRWb2x1bWVMZXZlbCgpKTt9LDFlMyl9LFt0XSksZX1mdW5jdGlvbiBxNCh0PSEwLGU9e0FOUzohMCxBRUM6ITB9LG4pe2xldCBpPUluKG4pLFtyLG9dPXVzZVN0YXRlKG51bGwpLFtzLGFdPXVzZVN0YXRlKCExKSxbYyxkXT11c2VTdGF0ZShudWxsKSxsPVBuKCk7cmV0dXJuIFluKGFzeW5jKCk9PntpZihsLmN1cnJlbnR8fChhKCExKSxkKG51bGwpKSxpJiZ0JiYhcil7dHJ5e2wuY3VycmVudHx8YSghMCk7bGV0IHU9YXdhaXQgTXQuY3JlYXRlTWljcm9waG9uZUF1ZGlvVHJhY2soZSk7bC5jdXJyZW50fHxvKHUpO31jYXRjaCh1KXtjb25zb2xlLmVycm9yKHUpLGwuY3VycmVudHx8ZChuZXcgT2UoXCJJQWdvcmFSVEMuY3JlYXRlTWljcm9waG9uZUF1ZGlvVHJhY2tcIix1KSk7fWwuY3VycmVudHx8YSghMSk7fSFpJiYhbC5jdXJyZW50JiZvKG51bGwpO30sW2ksdF0pLHtsb2NhbE1pY3JvcGhvbmVUcmFjazpyLGlzTG9hZGluZzpzLGVycm9yOmN9fWZ1bmN0aW9uIHRLKHQ9ITAsZSxuKXtsZXQgaT1JbihuKSxbcixvXT11c2VTdGF0ZShudWxsKSxbcyxhXT11c2VTdGF0ZSghMSksW2MsZF09dXNlU3RhdGUobnVsbCksbD1QbigpO3JldHVybiBZbihhc3luYygpPT57aWYobC5jdXJyZW50fHwoYSghMSksZChudWxsKSksaSYmdCYmIXIpe3RyeXtsLmN1cnJlbnR8fGEoITApO2xldCB1PWF3YWl0IE10LmNyZWF0ZUNhbWVyYVZpZGVvVHJhY2soZSk7bC5jdXJyZW50fHxvKHUpO31jYXRjaCh1KXtjb25zb2xlLmVycm9yKHUpLGwuY3VycmVudHx8ZChuZXcgT2UoXCJJQWdvcmFSVEMuY3JlYXRlQ2FtZXJhVmlkZW9UcmFja1wiLHUpKTt9bC5jdXJyZW50fHxhKCExKTt9IWkmJiFsLmN1cnJlbnQmJm8obnVsbCk7fSxbaSx0XSkse2xvY2FsQ2FtZXJhVHJhY2s6cixpc0xvYWRpbmc6cyxlcnJvcjpjfX1mdW5jdGlvbiBkSyh0LGUpe2xldCBuPVplKGUpLFtpLHJdPXVzZVN0YXRlKFtdKSxvPUluKCkscz11c2VSZWYoW10pLFthLGNdPXVzZVN0YXRlKCExKSxbZCxsXT11c2VTdGF0ZShudWxsKSx1PVBuKCk7cmV0dXJuIFluKGFzeW5jKCk9PntpZih1LmN1cnJlbnR8fGwobnVsbCksIUFycmF5LmlzQXJyYXkodCl8fCFvKXJldHVybjtsZXQgaD1hc3luYyBFPT57aWYoIUUuYXVkaW9UcmFjayYmdC5zb21lKCh7dWlkOmZ9KT0+RS51aWQ9PT1mKSl7dHJ5e3UuY3VycmVudHx8YyghMCksYXdhaXQgbi5zdWJzY3JpYmUoRSxcImF1ZGlvXCIpO31jYXRjaChmKXtjb25zb2xlLmVycm9yKGYpLHUuY3VycmVudHx8bChuZXcgT2UoXCJJQWdvcmFSVENDbGllbnQuc3Vic2NyaWJlXCIsZikpO31FLmF1ZGlvVHJhY2smJiFzLmN1cnJlbnQuc29tZShmPT5mLmdldFVzZXJJZCgpPT09RS51aWQpJiZzLmN1cnJlbnQucHVzaChFLmF1ZGlvVHJhY2spLHMuY3VycmVudD1zLmN1cnJlbnQubWFwKGY9PkUuYXVkaW9UcmFjayYmZi5nZXRVc2VySWQoKT09PUUudWlkJiZmLmdldFRyYWNrSWQoKSE9PUUuYXVkaW9UcmFjay5nZXRUcmFja0lkKCk/RS5hdWRpb1RyYWNrOmYpLHUuY3VycmVudHx8KHIoWy4uLnMuY3VycmVudF0pLGMoITEpKTt9fSxwPWFzeW5jIEU9PntpZih0LnNvbWUoKHt1aWQ6Zn0pPT5FLnVpZD09PWYpKXt1LmN1cnJlbnR8fChzLmN1cnJlbnQ9cy5jdXJyZW50LmZpbHRlcihmPT5mLmdldFVzZXJJZCgpIT09RS51aWQpLHIoWy4uLnMuY3VycmVudF0pKTt0cnl7dS5jdXJyZW50fHxjKCEwKSxhd2FpdCBuLnVuc3Vic2NyaWJlKEUsXCJhdWRpb1wiKTt9Y2F0Y2goZil7Y29uc29sZS5lcnJvcihmKSx1LmN1cnJlbnR8fGwobmV3IE9lKFwiSUFnb3JhUlRDQ2xpZW50LnVuc3Vic2NyaWJlXCIsZikpO311LmN1cnJlbnR8fGMoITEpO319O3QubWFwKEU9PnshRS5hdWRpb1RyYWNrJiZFLmhhc0F1ZGlvJiZoKEUpO30pO2xldCBnPVtdO2ZvcihsZXQgRT0wO0U8cy5jdXJyZW50Lmxlbmd0aDtFKyspe2xldCBmPXMuY3VycmVudFtFXTtpZighdC5zb21lKFM9PlMudWlkPT09Zi5nZXRVc2VySWQoKSkpe2xldCBTPW4ucmVtb3RlVXNlcnMuZmluZChDPT5DLnVpZD09PWYuZ2V0VXNlcklkKCkpO1MmJmcucHVzaCh7dXNlcjpTLG1lZGlhVHlwZTpcImF1ZGlvXCJ9KSxzLmN1cnJlbnQuc3BsaWNlKEUsMSksRS0tO319aWYoZy5sZW5ndGg+MCl7dHJ5e3UuY3VycmVudHx8YyghMCksYXdhaXQgbi5tYXNzVW5zdWJzY3JpYmUoZyk7fWNhdGNoKEUpe2NvbnNvbGUuZXJyb3IoRSksdS5jdXJyZW50fHxsKG5ldyBPZShcIklBZ29yYVJUQ0NsaWVudC5tYXNzVW5zdWJzY3JpYmVcIixFKSk7fXUuY3VycmVudHx8KHIocy5jdXJyZW50LnNsaWNlKCkpLGMoITEpKTt9cmV0dXJuIEtuKFtBZShuLFwidXNlci1wdWJsaXNoZWRcIiwoRSxmKT0+e3QuZmluZChTPT5TLnVpZD09PUUudWlkKSYmZj09PVwiYXVkaW9cIiYmaChFKTt9KSxBZShuLFwidXNlci11bnB1Ymxpc2hlZFwiLChFLGYpPT57dC5maW5kKFM9PlMudWlkPT09RS51aWQpJiZmPT09XCJhdWRpb1wiJiZwKEUpO30pXSl9LFtvLG4sdF0pLHthdWRpb1RyYWNrczppLGlzTG9hZGluZzphLGVycm9yOmR9fWZ1bmN0aW9uIGdLKHQsZSl7bGV0IG49WmUoZSksW2kscl09dXNlU3RhdGUoW10pLG89SW4oKSxzPXVzZVJlZihbXSksW2EsY109dXNlU3RhdGUoITEpLFtkLGxdPXVzZVN0YXRlKG51bGwpLHU9UG4oKTtyZXR1cm4gWW4oYXN5bmMoKT0+e2lmKHUuY3VycmVudHx8bChudWxsKSwhQXJyYXkuaXNBcnJheSh0KXx8IW8pcmV0dXJuO2xldCBoPWFzeW5jIEU9PntpZighRS52aWRlb1RyYWNrJiZ0LnNvbWUoKHt1aWQ6Zn0pPT5FLnVpZD09PWYpKXt0cnl7dS5jdXJyZW50fHxjKCEwKSxhd2FpdCBuLnN1YnNjcmliZShFLFwidmlkZW9cIik7fWNhdGNoKGYpe2NvbnNvbGUuZXJyb3IoZiksdS5jdXJyZW50fHxsKG5ldyBPZShcIklBZ29yYVJUQ0NsaWVudC5zdWJzY3JpYmVcIixmKSk7fUUudmlkZW9UcmFjayYmIXMuY3VycmVudC5zb21lKGY9PmYuZ2V0VXNlcklkKCk9PT1FLnVpZCkmJnMuY3VycmVudC5wdXNoKEUudmlkZW9UcmFjaykscy5jdXJyZW50PXMuY3VycmVudC5tYXAoZj0+RS52aWRlb1RyYWNrJiZmLmdldFVzZXJJZCgpPT09RS51aWQmJmYuZ2V0VHJhY2tJZCgpIT09RS52aWRlb1RyYWNrLmdldFRyYWNrSWQoKT9FLnZpZGVvVHJhY2s6ZiksdS5jdXJyZW50fHwocihbLi4ucy5jdXJyZW50XSksYyghMSkpO319LHA9YXN5bmMgRT0+e2lmKHQuc29tZSgoe3VpZDpmfSk9PkUudWlkPT09Zikpe3UuY3VycmVudHx8KHMuY3VycmVudD1zLmN1cnJlbnQuZmlsdGVyKGY9PmYuZ2V0VXNlcklkKCkhPT1FLnVpZCkscihbLi4ucy5jdXJyZW50XSkpO3RyeXt1LmN1cnJlbnR8fGMoITApLGF3YWl0IG4udW5zdWJzY3JpYmUoRSxcInZpZGVvXCIpO31jYXRjaChmKXtjb25zb2xlLmVycm9yKGYpLHUuY3VycmVudHx8bChuZXcgT2UoXCJJQWdvcmFSVENDbGllbnQudW5zdWJzY3JpYmVcIixmKSk7fXUuY3VycmVudHx8YyghMSk7fX07dC5tYXAoRT0+eyFFLnZpZGVvVHJhY2smJkUuaGFzVmlkZW8mJmgoRSk7fSk7bGV0IGc9W107Zm9yKGxldCBFPTA7RTxzLmN1cnJlbnQubGVuZ3RoO0UrKyl7bGV0IGY9cy5jdXJyZW50W0VdO2lmKCF0LnNvbWUoUz0+Uy51aWQ9PT1mLmdldFVzZXJJZCgpKSl7bGV0IFM9bi5yZW1vdGVVc2Vycy5maW5kKEM9PkMudWlkPT09Zi5nZXRVc2VySWQoKSk7UyYmZy5wdXNoKHt1c2VyOlMsbWVkaWFUeXBlOlwidmlkZW9cIn0pLHMuY3VycmVudC5zcGxpY2UoRSwxKSxFLS07fX1pZihnLmxlbmd0aD4wKXt0cnl7dS5jdXJyZW50fHxjKCEwKSxhd2FpdCBuLm1hc3NVbnN1YnNjcmliZShnKTt9Y2F0Y2goRSl7Y29uc29sZS5lcnJvcihFKSx1LmN1cnJlbnR8fGwobmV3IE9lKFwiSUFnb3JhUlRDQ2xpZW50Lm1hc3NVbnN1YnNjcmliZVwiLEUpKTt9dS5jdXJyZW50fHwocihzLmN1cnJlbnQuc2xpY2UoKSksYyghMSkpO31yZXR1cm4gS24oW0FlKG4sXCJ1c2VyLXB1Ymxpc2hlZFwiLChFLGYpPT57dC5maW5kKFM9PlMudWlkPT09RS51aWQpJiZmPT09XCJ2aWRlb1wiJiZoKEUpO30pLEFlKG4sXCJ1c2VyLXVucHVibGlzaGVkXCIsKEUsZik9Pnt0LmZpbmQoUz0+Uy51aWQ9PT1FLnVpZCkmJmY9PT1cInZpZGVvXCImJnAoRSk7fSldKX0sW28sbix0XSkse3ZpZGVvVHJhY2tzOmksaXNMb2FkaW5nOmEsZXJyb3I6ZH19ZnVuY3Rpb24gV2YodCxlLG4pe2xldCBpPVplKG4pLHI9ZT09PVwiYXVkaW9cIj9cImF1ZGlvVHJhY2tcIjpcInZpZGVvVHJhY2tcIixbbyxzXT11c2VTdGF0ZSh0JiZ0W3JdKSxhPUluKCksYz11c2VSZWYoKSxbZCxsXT11c2VTdGF0ZSghMSksW3UsaF09dXNlU3RhdGUobnVsbCk7cmV0dXJuIHVzZUVmZmVjdCgoKT0+e2lmKCF0fHwhYSlyZXR1cm47bGV0IHA9ITE7cHx8aChudWxsKTtsZXQgZz1lPT09XCJhdWRpb1wiP1wiaGFzQXVkaW9cIjpcImhhc1ZpZGVvXCIsRT10LnVpZCxmPWFzeW5jKEEsYik9PntpZihBW3JdJiZpLnJlbW90ZVVzZXJzLnNvbWUoKHt1aWQ6d30pPT5BLnVpZD09PXcpKXRyeXtwfHxsKCEwKSxhd2FpdCBpLnVuc3Vic2NyaWJlKEEsYik7fWNhdGNoKHcpe3B8fGgobmV3IE9lKFwiSUFnb3JhUlRDQ2xpZW50LnVuc3Vic2NyaWJlXCIsdykpLGNvbnNvbGUuZXJyb3Iodyk7fXB8fChzKHZvaWQgMCksbCghMSkpO30sUz1hc3luYyhBLGIpPT57dHJ5eyFBW3JdJiZpLnJlbW90ZVVzZXJzLnNvbWUoKHt1aWQ6d30pPT5BLnVpZD09PXcpJiYocHx8bCghMCksYXdhaXQgaS5zdWJzY3JpYmUoQSxiKSkscHx8cyhBW3JdKTt9Y2F0Y2godyl7cHx8aChuZXcgT2UoXCJJQWdvcmFSVENDbGllbnQuc3Vic2NyaWJlXCIsdykpLGNvbnNvbGUuZXJyb3Iodyk7fXB8fGwoITEpO30sQz1jLmN1cnJlbnR8fD1JYSgpO3JldHVybiAhdFtyXSYmdFtnXT9DLnJ1bigoKT0+Uyh0LGUpKTpzKHRbcl0pLEtuKFsoKT0+e3A9ITAsQy5kaXNwb3NlKCk7fSxBZShpLFwidXNlci1wdWJsaXNoZWRcIiwoQSxiKT0+e0EudWlkPT09RSYmYj09PWUmJkMucnVuKCgpPT5TKEEsZSkpO30pLEFlKGksXCJ1c2VyLXVucHVibGlzaGVkXCIsKEEsYik9PntBLnVpZD09PUUmJmI9PT1lJiZDLnJ1bigoKT0+ZihBLGUpKTt9KV0pfSxbYSxpLHQsZSxyXSkse3RyYWNrOm8saXNMb2FkaW5nOmQsZXJyb3I6dX19ZnVuY3Rpb24gREsodCl7bGV0IGU9WmUodCksW24saV09dXNlU3RhdGUoZT9lLnJlbW90ZVVzZXJzOltdKTtyZXR1cm4gdXNlRWZmZWN0KCgpPT57aWYoZSl7bGV0IHI9KCk9PmkoZS5yZW1vdGVVc2Vycy5zbGljZSgpKTtyZXR1cm4gS24oW0FlKGUsXCJ1c2VyLWpvaW5lZFwiLHIpLEFlKGUsXCJ1c2VyLWxlZnRcIixyKSxBZShlLFwidXNlci1wdWJsaXNoZWRcIixyKSxBZShlLFwidXNlci11bnB1Ymxpc2hlZFwiLHIpXSl9fSxbZV0pLG59ZnVuY3Rpb24gVksodD0hMCxlLG4saSl7bGV0IHI9SW4oaSksW28sc109dXNlU3RhdGUobnVsbCksW2EsY109dXNlU3RhdGUoITEpLFtkLGxdPXVzZVN0YXRlKG51bGwpLHU9UG4oKTtyZXR1cm4gWW4oYXN5bmMoKT0+e2lmKHUuY3VycmVudHx8KGMoITEpLGwobnVsbCkpLHImJnQmJiFvKXt0cnl7dS5jdXJyZW50fHxjKCEwKTtsZXQgaD1hd2FpdCBNdC5jcmVhdGVTY3JlZW5WaWRlb1RyYWNrKGUsbik7dS5jdXJyZW50fHxzKGgpO31jYXRjaChoKXtjb25zb2xlLmVycm9yKGgpLHUuY3VycmVudHx8bChuZXcgT2UoXCJJQWdvcmFSVEMuY3JlYXRlU2NyZWVuVmlkZW9UcmFja1wiLGgpKTt9dS5jdXJyZW50fHxjKCExKTt9KCFyfHwhdCkmJiF1LmN1cnJlbnQmJnMobnVsbCk7fSxbcix0XSkse3NjcmVlblRyYWNrOm8saXNMb2FkaW5nOmEsZXJyb3I6ZH19ZnVuY3Rpb24gVUgoKXtsZXQgdD1uZXcgTWFwLGU9MTUwMDtyZXR1cm4ge29uTW91bnQ6bj0+e2xldCBpPXQuZ2V0KG4pO2kmJihpKCksdC5kZWxldGUobikpO30sb25Vbm1vdW50Om49PntsZXQgaT10LmdldChuKTtpJiZpKCksdC5zZXQobixTbygoKT0+e24uaXNQbGF5aW5nJiZuLnN0b3AoKSx0LmRlbGV0ZShuKTt9LGUpKTt9LGRpc3Bvc2U6KCk9Pntmb3IobGV0W24saV1vZiB0KW4uaXNQbGF5aW5nJiZuLnN0b3AoKSxpJiZpKCk7dC5jbGVhcigpO319fXZhciBLZj1jcmVhdGVDb250ZXh0KHZvaWQgMCk7ZnVuY3Rpb24gV0soe2NoaWxkcmVuOnR9KXtsZXRbZV09dXNlU3RhdGUoVUgpO3JldHVybiB1c2VFZmZlY3QoKCk9PmUuZGlzcG9zZSxbZV0pLGpzeChLZi5Qcm92aWRlcix7dmFsdWU6ZSxjaGlsZHJlbjp0fSl9ZnVuY3Rpb24gcmgodCxlLG4saSl7bGV0IHI9dXNlQ29udGV4dChLZik7dXNlRWZmZWN0KCgpPT57aWYodClyZXR1cm4gaSYmZT90LnBsYXkoaSxufHx2b2lkIDApOnQuc3RvcCgpLHI/KHIub25Nb3VudCh0KSwoKT0+ci5vblVubW91bnQodCkpOigpPT57dC5pc1BsYXlpbmcmJnQuc3RvcCgpO319LFt0LGksZSxyLG5dKTt9ZnVuY3Rpb24gb2godCxlKXtsZXQgbj11c2VDb250ZXh0KEtmKTt2YSgoKT0+e2lmKHQpcmV0dXJuIGU/dC5wbGF5KCk6dC5zdG9wKCksbj8obi5vbk1vdW50KHQpLCgpPT5uLm9uVW5tb3VudCh0KSk6KCk9Pnt0LmlzUGxheWluZyYmdC5zdG9wKCk7fX0sW3QsZSxuXSk7fWZ1bmN0aW9uIFROKHt0cmFjazp0LHBsYXk6ZT0hMSx2b2x1bWU6bixkaXNhYmxlZDppLG11dGVkOnIsY2hpbGRyZW46b30pe2xldCBzPWloKHQpO3JldHVybiBvaChzLGUpLHVzZUVmZmVjdCgoKT0+e3MmJm4hPW51bGwmJnMuc2V0Vm9sdW1lKG4pO30sW3Msbl0pLHVzZUVmZmVjdCgoKT0+e3MmJmkhPW51bGwmJnMuc2V0RW5hYmxlZCghaSkuY2F0Y2goY29uc29sZS53YXJuKTt9LFtpLHNdKSx1c2VFZmZlY3QoKCk9PntzJiZyIT1udWxsJiZzLnNldE11dGVkKHIpLmNhdGNoKGNvbnNvbGUud2Fybik7fSxbcixzXSksbz9qc3goRnJhZ21lbnQse2NoaWxkcmVuOm99KTpudWxsfXZhciBzaD17cG9zaXRpb246XCJyZWxhdGl2ZVwiLHdpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIixvdmVyZmxvdzpcImhpZGRlblwiLGJhY2tncm91bmQ6XCIjMDAwXCJ9LGFoPXt3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCJ9LHlhPXtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOjAsbGVmdDowLHdpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIixvdmVyZmxvdzpcImhpZGRlblwiLHpJbmRleDoyfSxSbz0odCxlKT0+dXNlTWVtbygoKT0+KHsuLi50LC4uLmV9KSxbdCxlXSk7ZnVuY3Rpb24gUk4oe3RyYWNrOnQscGxheTplLGRpc2FibGVkOm4sbXV0ZWQ6aSxzdHlsZTpyLHZpZGVvUGxheWVyQ29uZmlnOm8sLi4uc30pe2xldCBhPVJvKGFoLHIpLFtjLGRdPXVzZVN0YXRlKG51bGwpLGw9aWgodCk7cmV0dXJuIHJoKGwsZSxvLGMpLHVzZUVmZmVjdCgoKT0+e2wmJm4hPW51bGwmJmwuc2V0RW5hYmxlZCghbikuY2F0Y2goY29uc29sZS53YXJuKTt9LFtuLGxdKSx1c2VFZmZlY3QoKCk9PntsJiZpIT1udWxsJiZsLnNldE11dGVkKGkpLmNhdGNoKGNvbnNvbGUud2Fybik7fSxbaSxsXSksanN4KFwiZGl2XCIsey4uLnMscmVmOmQsc3R5bGU6YX0pfXZhciBXSD17d2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwiLGJhY2tncm91bmQ6XCIjMWExZTIxIGNlbnRlci9jb3ZlciBuby1yZXBlYXRcIixmaWx0ZXI6XCJibHVyKDE2cHgpIGJyaWdodG5lc3MoMC40KVwifSxISD17cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpcIjUwJVwiLGxlZnQ6XCI1MCVcIixtYXhXaWR0aDpcIjUwJVwiLG1heEhlaWdodDpcIjUwJVwiLGFzcGVjdFJhdGlvOlwiMVwiLHRyYW5zZm9ybTpcInRyYW5zbGF0ZSgtNTAlLCAtNTAlKVwiLGJvcmRlclJhZGl1czpcIjUwJVwiLG92ZXJmbG93OlwiaGlkZGVuXCIsb2JqZWN0Rml0OlwiY292ZXJcIn07ZnVuY3Rpb24gY2goe2NvdmVyOnR9KXtyZXR1cm4ganN4KFwiZGl2XCIse3N0eWxlOnlhLGNoaWxkcmVuOnR5cGVvZiB0PT1cInN0cmluZ1wiP2pzeHMoRnJhZ21lbnQse2NoaWxkcmVuOltqc3goXCJkaXZcIix7c3R5bGU6ey4uLldILGJhY2tncm91bmRJbWFnZTpgdXJsKCR7dH0pYH19KSxqc3goXCJpbWdcIix7c3JjOnQsc3R5bGU6SEh9KV19KTp0KCl9KX1mdW5jdGlvbiBoNih7bWljT246dCxjYW1lcmFPbjplLGF1ZGlvVHJhY2s6bix2aWRlb1RyYWNrOmkscGxheUF1ZGlvOnIscGxheVZpZGVvOm8sdm9sdW1lOnMsY292ZXI6YSxjaGlsZHJlbjpjLHN0eWxlOmQsLi4ubH0pe2xldCB1PVJvKHNoLGQpO3JldHVybiBvPW8/PyEhZSxyPXI/PyEhdCxqc3hzKFwiZGl2XCIsey4uLmwsc3R5bGU6dSxjaGlsZHJlbjpbanN4KFJOLHtkaXNhYmxlZDohZSxwbGF5Om8sdHJhY2s6aX0pLGpzeChUTix7ZGlzYWJsZWQ6IXQscGxheTpyLHRyYWNrOm4sdm9sdW1lOnN9KSxhJiYhZSYmanN4KGNoLHtjb3ZlcjphfSksanN4KFwiZGl2XCIse3N0eWxlOnlhLGNoaWxkcmVuOmN9KV19KX1mdW5jdGlvbiBJTih7dHJhY2s6dCxwbGF5OmU9ITEscGxheWJhY2tEZXZpY2VJZDpuLHZvbHVtZTppLGNoaWxkcmVuOnJ9KXtyZXR1cm4gb2godCxlKSx1c2VFZmZlY3QoKCk9Pnt0JiZuIT1udWxsJiZ0LnNldFBsYXliYWNrRGV2aWNlKG4pLmNhdGNoKGNvbnNvbGUud2Fybik7fSxbdCxuXSksdXNlRWZmZWN0KCgpPT57dCYmaSE9bnVsbCYmdC5zZXRWb2x1bWUoaSk7fSxbdCxpXSkscj9qc3goRnJhZ21lbnQse2NoaWxkcmVuOnJ9KTpudWxsfWZ1bmN0aW9uIHZOKHt0cmFjazp0LHBsYXk6ZSxzdHlsZTpuLHZpZGVvUGxheWVyQ29uZmlnOmksLi4ucn0pe2xldCBvPVJvKGFoLG4pLFtzLGFdPXVzZVN0YXRlKG51bGwpO3JldHVybiByaCh0LGUsaSxzKSxqc3goXCJkaXZcIix7Li4ucixyZWY6YSxzdHlsZTpvfSl9ZnVuY3Rpb24gTzYoe3VzZXI6dCxwbGF5VmlkZW86ZSxwbGF5QXVkaW86bixwbGF5YmFja0RldmljZUlkOmksdm9sdW1lOnIsY292ZXI6byxzdHlsZTpzLGNoaWxkcmVuOmEsdmlkZW9QbGF5ZXJDb25maWc6YywuLi5kfSl7bGV0IGw9Um8oc2gscykse3RyYWNrOnV9PVdmKHQsXCJ2aWRlb1wiKSx7dHJhY2s6aH09V2YodCxcImF1ZGlvXCIpO3JldHVybiBlPWU/P3Q/Lmhhc1ZpZGVvLG49bj8/dD8uaGFzQXVkaW8sanN4cyhcImRpdlwiLHsuLi5kLHN0eWxlOmwsY2hpbGRyZW46W2pzeCh2Tix7cGxheTplLHRyYWNrOnUsdmlkZW9QbGF5ZXJDb25maWc6Y30pLGpzeChJTix7cGxheTpuLHBsYXliYWNrRGV2aWNlSWQ6aSx0cmFjazpoLHZvbHVtZTpyfSksbyYmIWUmJmpzeChjaCx7Y292ZXI6b30pLGpzeChcImRpdlwiLHtzdHlsZTp5YSxjaGlsZHJlbjphfSldfSl9dmFyIHpmPWNsYXNze2FwcFR5cGU9MTAwMTtjb25zdHJ1Y3Rvcigpe010LnNldEFwcFR5cGUodGhpcy5hcHBUeXBlKTt9fTtuZXcgemY7dmFyIGs2PVwiMi4zLjBcIjt2YXIgVTY9TXQ7LyohIEJ1bmRsZWQgbGljZW5zZSBpbmZvcm1hdGlvbjpcblxuYWdvcmEtcnRjLXNkay1uZy9BZ29yYVJUQ19OLXByb2R1Y3Rpb24uZXNtLm1qczpcbiAgKCohIGZvcm1kYXRhLXBvbHlmaWxsLiBNSVQgTGljZW5zZS4gSmltbXkgVz9ydGluZyA8aHR0cHM6Ly9qaW1teS53YXJ0aW5nLnNlL29wZW5zb3VyY2U+ICopXG4qL1xuXG5leHBvcnQgeyBLNSBhcyBBZ29yYVJUQ1Byb3ZpZGVyLCBPZSBhcyBBZ29yYVJUQ1JlYWN0RXJyb3IsIEo1IGFzIEFnb3JhUlRDU2NyZWVuU2hhcmVQcm92aWRlciwgVE4gYXMgTG9jYWxBdWRpb1RyYWNrLCBoNiBhcyBMb2NhbFVzZXIsIFJOIGFzIExvY2FsVmlkZW9UcmFjaywgSU4gYXMgUmVtb3RlQXVkaW9UcmFjaywgTzYgYXMgUmVtb3RlVXNlciwgdk4gYXMgUmVtb3RlVmlkZW9UcmFjaywgV0sgYXMgVHJhY2tCb3VuZGFyeSwgazYgYXMgVkVSU0lPTiwgVTYgYXMgZGVmYXVsdCwgb2ggYXMgdXNlQXV0b1BsYXlBdWRpb1RyYWNrLCByaCBhcyB1c2VBdXRvUGxheVZpZGVvVHJhY2ssIGo1IGFzIHVzZUNsaWVudEV2ZW50LCBpNCBhcyB1c2VDb25uZWN0aW9uU3RhdGUsIF80IGFzIHVzZUN1cnJlbnRVSUQsIEluIGFzIHVzZUlzQ29ubmVjdGVkLCBJNCBhcyB1c2VKb2luLCB0SyBhcyB1c2VMb2NhbENhbWVyYVRyYWNrLCBxNCBhcyB1c2VMb2NhbE1pY3JvcGhvbmVUcmFjaywgVksgYXMgdXNlTG9jYWxTY3JlZW5UcmFjaywgdzQgYXMgdXNlTmV0d29ya1F1YWxpdHksIFU0IGFzIHVzZVB1Ymxpc2gsIFplIGFzIHVzZVJUQ0NsaWVudCwgWDUgYXMgdXNlUlRDU2NyZWVuU2hhcmVDbGllbnQsIGRLIGFzIHVzZVJlbW90ZUF1ZGlvVHJhY2tzLCBXZiBhcyB1c2VSZW1vdGVVc2VyVHJhY2ssIERLIGFzIHVzZVJlbW90ZVVzZXJzLCBnSyBhcyB1c2VSZW1vdGVWaWRlb1RyYWNrcywgRzUgYXMgdXNlVHJhY2tFdmVudCwgQjQgYXMgdXNlVm9sdW1lTGV2ZWwgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/agora-rtc-react/dist/agora-rtc-react.mjs\n");

/***/ })

};
;